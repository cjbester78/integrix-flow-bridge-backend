var lR=Object.defineProperty;var V0=e=>{throw TypeError(e)};var cR=(e,t,r)=>t in e?lR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var et=(e,t,r)=>cR(e,typeof t!="symbol"?t+"":t,r),hp=(e,t,r)=>t.has(e)||V0("Cannot "+r);var ae=(e,t,r)=>(hp(e,t,"read from private field"),r?r.call(e):t.get(e)),$e=(e,t,r)=>t.has(e)?V0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,s)=>(hp(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Ot=(e,t,r)=>(hp(e,t,"access private method"),r);var Sd=(e,t,r,s)=>({set _(a){Me(e,t,a,r)},get _(){return ae(e,t,s)}});function dR(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xb={exports:{}},Hh={},Qb={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),uR=Symbol.for("react.portal"),hR=Symbol.for("react.fragment"),mR=Symbol.for("react.strict_mode"),pR=Symbol.for("react.profiler"),fR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),gR=Symbol.for("react.forward_ref"),vR=Symbol.for("react.suspense"),yR=Symbol.for("react.memo"),jR=Symbol.for("react.lazy"),H0=Symbol.iterator;function wR(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var Jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zb=Object.assign,e1={};function Zi(e,t,r){this.props=e,this.context=t,this.refs=e1,this.updater=r||Jb}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t1(){}t1.prototype=Zi.prototype;function Vg(e,t,r){this.props=e,this.context=t,this.refs=e1,this.updater=r||Jb}var Hg=Vg.prototype=new t1;Hg.constructor=Vg;Zb(Hg,Zi.prototype);Hg.isPureReactComponent=!0;var B0=Array.isArray,n1=Object.prototype.hasOwnProperty,Bg={current:null},r1={key:!0,ref:!0,__self:!0,__source:!0};function s1(e,t,r){var s,a={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)n1.call(t,s)&&!r1.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:qc,type:e,key:o,ref:i,props:a,_owner:Bg.current}}function NR(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zg(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function bR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var z0=/\/+/g;function mp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bR(""+e.key):t.toString(36)}function mu(e,t,r,s,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qc:case uR:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+mp(i,0):s,B0(a)?(r="",e!=null&&(r=e.replace(z0,"$&/")+"/"),mu(a,t,r,"",function(c){return c})):a!=null&&(zg(a)&&(a=NR(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(z0,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",B0(e))for(var l=0;l<e.length;l++){o=e[l];var d=s+mp(o,l);i+=mu(o,t,r,d,a)}else if(d=wR(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=s+mp(o,l++),i+=mu(o,t,r,d,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Cd(e,t,r){if(e==null)return e;var s=[],a=0;return mu(e,s,"","",function(o){return t.call(r,o,a++)}),s}function SR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},pu={transition:null},CR={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:pu,ReactCurrentOwner:Bg};function a1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Cd,forEach:function(e,t,r){Cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cd(e,function(){t++}),t},toArray:function(e){return Cd(e,function(t){return t})||[]},only:function(e){if(!zg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Zi;_e.Fragment=hR;_e.Profiler=pR;_e.PureComponent=Vg;_e.StrictMode=mR;_e.Suspense=vR;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;_e.act=a1;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Zb({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Bg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)n1.call(t,d)&&!r1.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:qc,type:e.type,key:a,ref:o,props:s,_owner:i}};_e.createContext=function(e){return e={$$typeof:xR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fR,_context:e},e.Consumer=e};_e.createElement=s1;_e.createFactory=function(e){var t=s1.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:gR,render:e}};_e.isValidElement=zg;_e.lazy=function(e){return{$$typeof:jR,_payload:{_status:-1,_result:e},_init:SR}};_e.memo=function(e,t){return{$$typeof:yR,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=pu.transition;pu.transition={};try{e()}finally{pu.transition=t}};_e.unstable_act=a1;_e.useCallback=function(e,t){return tn.current.useCallback(e,t)};_e.useContext=function(e){return tn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return tn.current.useEffect(e,t)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(e,t,r){return tn.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return tn.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return tn.current.useReducer(e,t,r)};_e.useRef=function(e){return tn.current.useRef(e)};_e.useState=function(e){return tn.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return tn.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";Qb.exports=_e;var p=Qb.exports;const me=Ug(p),Wc=dR({__proto__:null,default:me},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=p,PR=Symbol.for("react.element"),kR=Symbol.for("react.fragment"),TR=Object.prototype.hasOwnProperty,AR=ER.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MR={key:!0,ref:!0,__self:!0,__source:!0};function o1(e,t,r){var s,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)TR.call(t,s)&&!MR.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:PR,type:e,key:o,ref:i,props:a,_owner:AR.current}}Hh.Fragment=kR;Hh.jsx=o1;Hh.jsxs=o1;Xb.exports=Hh;var n=Xb.exports,i1={exports:{}},Tn={},l1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var H=R.length;R.push(D);e:for(;0<H;){var B=H-1>>>1,V=R[B];if(0<a(V,D))R[B]=D,R[H]=V,H=B;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],H=R.pop();if(H!==D){R[0]=H;e:for(var B=0,V=R.length,q=V>>>1;B<q;){var z=2*(B+1)-1,G=R[z],Y=z+1,K=R[Y];if(0>a(G,H))Y<V&&0>a(K,G)?(R[B]=K,R[Y]=H,B=Y):(R[B]=G,R[z]=H,B=z);else if(Y<V&&0>a(K,H))R[B]=K,R[Y]=H,B=Y;else break e}}return D}function a(R,D){var H=R.sortIndex-D.sortIndex;return H!==0?H:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var d=[],c=[],u=1,m=null,h=3,f=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var D=r(c);D!==null;){if(D.callback===null)s(c);else if(D.startTime<=R)s(c),D.sortIndex=D.expirationTime,t(d,D);else break;D=r(c)}}function N(R){if(x=!1,y(R),!v)if(r(d)!==null)v=!0,L(b);else{var D=r(c);D!==null&&F(N,D.startTime-R)}}function b(R,D){v=!1,x&&(x=!1,j(P),P=-1),f=!0;var H=h;try{for(y(D),m=r(d);m!==null&&(!(m.expirationTime>D)||R&&!_());){var B=m.callback;if(typeof B=="function"){m.callback=null,h=m.priorityLevel;var V=B(m.expirationTime<=D);D=e.unstable_now(),typeof V=="function"?m.callback=V:m===r(d)&&s(d),y(D)}else s(d);m=r(d)}if(m!==null)var q=!0;else{var z=r(c);z!==null&&F(N,z.startTime-D),q=!1}return q}finally{m=null,h=H,f=!1}}var E=!1,C=null,P=-1,O=5,T=-1;function _(){return!(e.unstable_now()-T<O)}function k(){if(C!==null){var R=e.unstable_now();T=R;var D=!0;try{D=C(!0,R)}finally{D?$():(E=!1,C=null)}}else E=!1}var $;if(typeof g=="function")$=function(){g(k)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,U=A.port2;A.port1.onmessage=k,$=function(){U.postMessage(null)}}else $=function(){w(k,0)};function L(R){C=R,E||(E=!0,$())}function F(R,D){P=w(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,L(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return R()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=h;h=R;try{return D()}finally{h=H}},e.unstable_scheduleCallback=function(R,D,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,R={id:u++,callback:D,priorityLevel:R,startTime:H,expirationTime:V,sortIndex:-1},H>B?(R.sortIndex=H,t(c,R),r(d)===null&&R===r(c)&&(x?(j(P),P=-1):x=!0,F(N,H-B))):(R.sortIndex=V,t(d,R),v||f||(v=!0,L(b))),R},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(R){var D=h;return function(){var H=h;h=D;try{return R.apply(this,arguments)}finally{h=H}}}})(c1);l1.exports=c1;var DR=l1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=p,Pn=DR;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d1=new Set,rc={};function yo(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(rc[e]=t,e=0;e<t.length;e++)d1.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},W0={};function FR(e){return Lf.call(W0,e)?!0:Lf.call(q0,e)?!1:_R.test(e)?W0[e]=!0:(q0[e]=!0,!1)}function OR(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IR(e,t,r,s){if(t===null||typeof t>"u"||OR(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,r,s,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Wg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Wg);_t[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Wg);_t[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Wg);_t[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kg(e,t,r,s){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IR(t,r,a,s)&&(r=null),s||a===null?FR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var vs=RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),m1=Symbol.for("react.offscreen"),K0=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=K0&&e[K0]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,pp;function Fl(e){if(pp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pp=t&&t[1]||""}return`
`+pp+e}var fp=!1;function xp(e,t){if(!e||fp)return"";fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=s.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{fp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fl(e):""}function LR(e){switch(e.tag){case 5:return Fl(e.type);case 16:return Fl("Lazy");case 13:return Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 2:case 15:return e=xp(e.type,!1),e;case 11:return e=xp(e.type.render,!1),e;case 1:return e=xp(e.type,!0),e;default:return""}}function Hf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Ho:return"Portal";case $f:return"Profiler";case Yg:return"StrictMode";case Uf:return"Suspense";case Vf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case h1:return(e.displayName||"Context")+".Consumer";case u1:return(e._context.displayName||"Context")+".Provider";case Gg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xg:return t=e.displayName||null,t!==null?t:Hf(e.type)||"Memo";case Os:t=e._payload,e=e._init;try{return Hf(e(t))}catch{}}return null}function $R(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(t);case 8:return t===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UR(e){var t=p1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pd(e){e._valueTracker||(e._valueTracker=UR(e))}function f1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=p1(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bf(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Y0(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ia(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x1(e,t){t=t.checked,t!=null&&Kg(e,"checked",t,!1)}function zf(e,t){x1(e,t);var r=ia(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qf(e,t.type,r):t.hasOwnProperty("defaultValue")&&qf(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qf(e,t,r){(t!=="number"||Iu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function ni(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ia(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function X0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(Ol(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ia(r)}}function g1(e,t){var r=ia(t.value),s=ia(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Q0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function v1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?v1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kd,y1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VR=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(e){VR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ql[t]=ql[e]})});function j1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ql.hasOwnProperty(e)&&ql[e]?(""+t).trim():t+"px"}function w1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=j1(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var HR=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yf(e,t){if(t){if(HR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Gf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function Qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qf=null,ri=null,si=null;function J0(e){if(e=Gc(e)){if(typeof Qf!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Kh(t),Qf(e.stateNode,e.type,t))}}function N1(e){ri?si?si.push(e):si=[e]:ri=e}function b1(){if(ri){var e=ri,t=si;if(si=ri=null,J0(e),t)for(e=0;e<t.length;e++)J0(t[e])}}function S1(e,t){return e(t)}function C1(){}var gp=!1;function E1(e,t,r){if(gp)return e(t,r);gp=!0;try{return S1(e,t,r)}finally{gp=!1,(ri!==null||si!==null)&&(C1(),b1())}}function ac(e,t){var r=e.stateNode;if(r===null)return null;var s=Kh(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Jf=!1;if(ls)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Jf=!1}function BR(e,t,r,s,a,o,i,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Wl=!1,Lu=null,$u=!1,Zf=null,zR={onError:function(e){Wl=!0,Lu=e}};function qR(e,t,r,s,a,o,i,l,d){Wl=!1,Lu=null,BR.apply(zR,arguments)}function WR(e,t,r,s,a,o,i,l,d){if(qR.apply(this,arguments),Wl){if(Wl){var c=Lu;Wl=!1,Lu=null}else throw Error(de(198));$u||($u=!0,Zf=c)}}function jo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function P1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(jo(e)!==e)throw Error(de(188))}function KR(e){var t=e.alternate;if(!t){if(t=jo(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Z0(a),e;if(o===s)return Z0(a),t;o=o.sibling}throw Error(de(188))}if(r.return!==s.return)r=a,s=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,s=o;break}if(l===s){i=!0,s=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,s=a;break}if(l===s){i=!0,s=o,r=a;break}l=l.sibling}if(!i)throw Error(de(189))}}if(r.alternate!==s)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function k1(e){return e=KR(e),e!==null?T1(e):null}function T1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=T1(e);if(t!==null)return t;e=e.sibling}return null}var A1=Pn.unstable_scheduleCallback,ej=Pn.unstable_cancelCallback,YR=Pn.unstable_shouldYield,GR=Pn.unstable_requestPaint,ft=Pn.unstable_now,XR=Pn.unstable_getCurrentPriorityLevel,Jg=Pn.unstable_ImmediatePriority,M1=Pn.unstable_UserBlockingPriority,Uu=Pn.unstable_NormalPriority,QR=Pn.unstable_LowPriority,D1=Pn.unstable_IdlePriority,Bh=null,_r=null;function JR(e){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Bh,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:t_,ZR=Math.log,e_=Math.LN2;function t_(e){return e>>>=0,e===0?32:31-(ZR(e)/e_|0)|0}var Td=64,Ad=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?s=Il(l):(o&=i,o!==0&&(s=Il(o)))}else i=r&~a,i!==0?s=Il(i):o!==0&&(s=Il(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-or(t),a=1<<r,s|=e[r],t&=~a;return s}function n_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r_(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-or(o),l=1<<i,d=a[i];d===-1?(!(l&r)||l&s)&&(a[i]=n_(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function ex(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R1(){var e=Td;return Td<<=1,!(Td&4194240)&&(Td=64),e}function vp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=r}function s_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-or(r),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~o}}function Zg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-or(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Ve=0;function _1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F1,ev,O1,I1,L1,tx=!1,Md=[],Xs=null,Qs=null,Js=null,oc=new Map,ic=new Map,Ls=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tj(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(t.pointerId)}}function jl(e,t,r,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Gc(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function o_(e,t,r,s,a){switch(t){case"focusin":return Xs=jl(Xs,e,t,r,s,a),!0;case"dragenter":return Qs=jl(Qs,e,t,r,s,a),!0;case"mouseover":return Js=jl(Js,e,t,r,s,a),!0;case"pointerover":var o=a.pointerId;return oc.set(o,jl(oc.get(o)||null,e,t,r,s,a)),!0;case"gotpointercapture":return o=a.pointerId,ic.set(o,jl(ic.get(o)||null,e,t,r,s,a)),!0}return!1}function $1(e){var t=Ia(e.target);if(t!==null){var r=jo(t);if(r!==null){if(t=r.tag,t===13){if(t=P1(r),t!==null){e.blockedOn=t,L1(e.priority,function(){O1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Xf=s,r.target.dispatchEvent(s),Xf=null}else return t=Gc(r),t!==null&&ev(t),e.blockedOn=r,!1;t.shift()}return!0}function nj(e,t,r){fu(e)&&r.delete(t)}function i_(){tx=!1,Xs!==null&&fu(Xs)&&(Xs=null),Qs!==null&&fu(Qs)&&(Qs=null),Js!==null&&fu(Js)&&(Js=null),oc.forEach(nj),ic.forEach(nj)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,tx||(tx=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,i_)))}function lc(e){function t(a){return wl(a,e)}if(0<Md.length){wl(Md[0],e);for(var r=1;r<Md.length;r++){var s=Md[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Xs!==null&&wl(Xs,e),Qs!==null&&wl(Qs,e),Js!==null&&wl(Js,e),oc.forEach(t),ic.forEach(t),r=0;r<Ls.length;r++)s=Ls[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ls.length&&(r=Ls[0],r.blockedOn===null);)$1(r),r.blockedOn===null&&Ls.shift()}var ai=vs.ReactCurrentBatchConfig,Hu=!0;function l_(e,t,r,s){var a=Ve,o=ai.transition;ai.transition=null;try{Ve=1,tv(e,t,r,s)}finally{Ve=a,ai.transition=o}}function c_(e,t,r,s){var a=Ve,o=ai.transition;ai.transition=null;try{Ve=4,tv(e,t,r,s)}finally{Ve=a,ai.transition=o}}function tv(e,t,r,s){if(Hu){var a=nx(e,t,r,s);if(a===null)kp(e,t,s,Bu,r),tj(e,s);else if(o_(a,e,t,r,s))s.stopPropagation();else if(tj(e,s),t&4&&-1<a_.indexOf(e)){for(;a!==null;){var o=Gc(a);if(o!==null&&F1(o),o=nx(e,t,r,s),o===null&&kp(e,t,s,Bu,r),o===a)break;a=o}a!==null&&s.stopPropagation()}else kp(e,t,s,null,r)}}var Bu=null;function nx(e,t,r,s){if(Bu=null,e=Qg(s),e=Ia(e),e!==null)if(t=jo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=P1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bu=e,null}function U1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XR()){case Jg:return 1;case M1:return 4;case Uu:case QR:return 16;case D1:return 536870912;default:return 16}default:return 16}}var Ws=null,nv=null,xu=null;function V1(){if(xu)return xu;var e,t=nv,r=t.length,s,a="value"in Ws?Ws.value:Ws.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[o-s];s++);return xu=a.slice(e,1<s?1-s:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dd(){return!0}function rj(){return!1}function An(e){function t(r,s,a,o,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dd:rj,this.isPropagationStopped=rj,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),t}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rv=An(el),Yc=it({},el,{view:0,detail:0}),d_=An(Yc),yp,jp,Nl,zh=it({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nl&&(Nl&&e.type==="mousemove"?(yp=e.screenX-Nl.screenX,jp=e.screenY-Nl.screenY):jp=yp=0,Nl=e),yp)},movementY:function(e){return"movementY"in e?e.movementY:jp}}),sj=An(zh),u_=it({},zh,{dataTransfer:0}),h_=An(u_),m_=it({},Yc,{relatedTarget:0}),wp=An(m_),p_=it({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),f_=An(p_),x_=it({},el,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g_=An(x_),v_=it({},el,{data:0}),aj=An(v_),y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w_[e])?!!t[e]:!1}function sv(){return N_}var b_=it({},Yc,{key:function(e){if(e.key){var t=y_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S_=An(b_),C_=it({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oj=An(C_),E_=it({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),P_=An(E_),k_=it({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=An(k_),A_=it({},zh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=An(A_),D_=[9,13,27,32],av=ls&&"CompositionEvent"in window,Kl=null;ls&&"documentMode"in document&&(Kl=document.documentMode);var R_=ls&&"TextEvent"in window&&!Kl,H1=ls&&(!av||Kl&&8<Kl&&11>=Kl),ij=" ",lj=!1;function B1(e,t){switch(e){case"keyup":return D_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function __(e,t){switch(e){case"compositionend":return z1(t);case"keypress":return t.which!==32?null:(lj=!0,ij);case"textInput":return e=t.data,e===ij&&lj?null:e;default:return null}}function F_(e,t){if(zo)return e==="compositionend"||!av&&B1(e,t)?(e=V1(),xu=nv=Ws=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return H1&&t.locale!=="ko"?null:t.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O_[e.type]:t==="textarea"}function q1(e,t,r,s){N1(s),t=zu(t,"onChange"),0<t.length&&(r=new rv("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Yl=null,cc=null;function I_(e){nS(e,0)}function qh(e){var t=Ko(e);if(f1(t))return e}function L_(e,t){if(e==="change")return t}var W1=!1;if(ls){var Np;if(ls){var bp="oninput"in document;if(!bp){var dj=document.createElement("div");dj.setAttribute("oninput","return;"),bp=typeof dj.oninput=="function"}Np=bp}else Np=!1;W1=Np&&(!document.documentMode||9<document.documentMode)}function uj(){Yl&&(Yl.detachEvent("onpropertychange",K1),cc=Yl=null)}function K1(e){if(e.propertyName==="value"&&qh(cc)){var t=[];q1(t,cc,e,Qg(e)),E1(I_,t)}}function $_(e,t,r){e==="focusin"?(uj(),Yl=t,cc=r,Yl.attachEvent("onpropertychange",K1)):e==="focusout"&&uj()}function U_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qh(cc)}function V_(e,t){if(e==="click")return qh(t)}function H_(e,t){if(e==="input"||e==="change")return qh(t)}function B_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dr=typeof Object.is=="function"?Object.is:B_;function dc(e,t){if(dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Lf.call(t,a)||!dr(e[a],t[a]))return!1}return!0}function hj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mj(e,t){var r=hj(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hj(r)}}function Y1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G1(){for(var e=window,t=Iu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Iu(e.document)}return t}function ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z_(e){var t=G1(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Y1(r.ownerDocument.documentElement,r)){if(s!==null&&ov(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=mj(r,o);var i=mj(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q_=ls&&"documentMode"in document&&11>=document.documentMode,qo=null,rx=null,Gl=null,sx=!1;function pj(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sx||qo==null||qo!==Iu(s)||(s=qo,"selectionStart"in s&&ov(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gl&&dc(Gl,s)||(Gl=s,s=zu(rx,"onSelect"),0<s.length&&(t=new rv("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=qo)))}function Rd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wo={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Sp={},X1={};ls&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Wh(e){if(Sp[e])return Sp[e];if(!Wo[e])return e;var t=Wo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in X1)return Sp[e]=t[r];return e}var Q1=Wh("animationend"),J1=Wh("animationiteration"),Z1=Wh("animationstart"),eS=Wh("transitionend"),tS=new Map,fj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(e,t){tS.set(e,t),yo(t,[e])}for(var Cp=0;Cp<fj.length;Cp++){var Ep=fj[Cp],W_=Ep.toLowerCase(),K_=Ep[0].toUpperCase()+Ep.slice(1);ya(W_,"on"+K_)}ya(Q1,"onAnimationEnd");ya(J1,"onAnimationIteration");ya(Z1,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(eS,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function xj(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,WR(s,t,void 0,e),e.currentTarget=null}function nS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==o&&a.isPropagationStopped())break e;xj(a,l,c),o=d}else for(i=0;i<s.length;i++){if(l=s[i],d=l.instance,c=l.currentTarget,l=l.listener,d!==o&&a.isPropagationStopped())break e;xj(a,l,c),o=d}}}if($u)throw e=Zf,$u=!1,Zf=null,e}function Qe(e,t){var r=t[cx];r===void 0&&(r=t[cx]=new Set);var s=e+"__bubble";r.has(s)||(rS(t,e,2,!1),r.add(s))}function Pp(e,t,r){var s=0;t&&(s|=4),rS(r,e,s,t)}var _d="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[_d]){e[_d]=!0,d1.forEach(function(r){r!=="selectionchange"&&(Y_.has(r)||Pp(r,!1,e),Pp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_d]||(t[_d]=!0,Pp("selectionchange",!1,t))}}function rS(e,t,r,s){switch(U1(t)){case 1:var a=l_;break;case 4:a=c_;break;default:a=tv}r=a.bind(null,t,r,e),a=void 0,!Jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kp(e,t,r,s,a){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ia(l),i===null)return;if(d=i.tag,d===5||d===6){s=o=i;continue e}l=l.parentNode}}s=s.return}E1(function(){var c=o,u=Qg(r),m=[];e:{var h=tS.get(e);if(h!==void 0){var f=rv,v=e;switch(e){case"keypress":if(gu(r)===0)break e;case"keydown":case"keyup":f=S_;break;case"focusin":v="focus",f=wp;break;case"focusout":v="blur",f=wp;break;case"beforeblur":case"afterblur":f=wp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=h_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=P_;break;case Q1:case J1:case Z1:f=f_;break;case eS:f=T_;break;case"scroll":f=d_;break;case"wheel":f=M_;break;case"copy":case"cut":case"paste":f=g_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=oj}var x=(t&4)!==0,w=!x&&e==="scroll",j=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,y;g!==null;){y=g;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,j!==null&&(N=ac(g,j),N!=null&&x.push(hc(g,N,y)))),w)break;g=g.return}0<x.length&&(h=new f(h,v,null,r,u),m.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==Xf&&(v=r.relatedTarget||r.fromElement)&&(Ia(v)||v[cs]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=c,v=v?Ia(v):null,v!==null&&(w=jo(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(x=sj,N="onMouseLeave",j="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=oj,N="onPointerLeave",j="onPointerEnter",g="pointer"),w=f==null?h:Ko(f),y=v==null?h:Ko(v),h=new x(N,g+"leave",f,r,u),h.target=w,h.relatedTarget=y,N=null,Ia(u)===c&&(x=new x(j,g+"enter",v,r,u),x.target=y,x.relatedTarget=w,N=x),w=N,f&&v)t:{for(x=f,j=v,g=0,y=x;y;y=ko(y))g++;for(y=0,N=j;N;N=ko(N))y++;for(;0<g-y;)x=ko(x),g--;for(;0<y-g;)j=ko(j),y--;for(;g--;){if(x===j||j!==null&&x===j.alternate)break t;x=ko(x),j=ko(j)}x=null}else x=null;f!==null&&gj(m,h,f,x,!1),v!==null&&w!==null&&gj(m,w,v,x,!0)}}e:{if(h=c?Ko(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=L_;else if(cj(h))if(W1)b=H_;else{b=U_;var E=$_}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=V_);if(b&&(b=b(e,c))){q1(m,b,r,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&qf(h,"number",h.value)}switch(E=c?Ko(c):window,e){case"focusin":(cj(E)||E.contentEditable==="true")&&(qo=E,rx=c,Gl=null);break;case"focusout":Gl=rx=qo=null;break;case"mousedown":sx=!0;break;case"contextmenu":case"mouseup":case"dragend":sx=!1,pj(m,r,u);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":pj(m,r,u)}var C;if(av)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else zo?B1(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(H1&&r.locale!=="ko"&&(zo||P!=="onCompositionStart"?P==="onCompositionEnd"&&zo&&(C=V1()):(Ws=u,nv="value"in Ws?Ws.value:Ws.textContent,zo=!0)),E=zu(c,P),0<E.length&&(P=new aj(P,e,null,r,u),m.push({event:P,listeners:E}),C?P.data=C:(C=z1(r),C!==null&&(P.data=C)))),(C=R_?__(e,r):F_(e,r))&&(c=zu(c,"onBeforeInput"),0<c.length&&(u=new aj("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:c}),u.data=C))}nS(m,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zu(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ac(e,r),o!=null&&s.unshift(hc(e,o,a)),o=ac(e,t),o!=null&&s.push(hc(e,o,a))),e=e.return}return s}function ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gj(e,t,r,s,a){for(var o=t._reactName,i=[];r!==null&&r!==s;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===s)break;l.tag===5&&c!==null&&(l=c,a?(d=ac(r,o),d!=null&&i.unshift(hc(r,d,l))):a||(d=ac(r,o),d!=null&&i.push(hc(r,d,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var G_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function vj(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(X_,"")}function Fd(e,t,r){if(t=vj(t),vj(e)!==t&&r)throw Error(de(425))}function qu(){}var ax=null,ox=null;function ix(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lx=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,yj=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof yj<"u"?function(e){return yj.resolve(null).then(e).catch(Z_)}:lx;function Z_(e){setTimeout(function(){throw e})}function Tp(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),lc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);lc(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Ar="__reactFiber$"+tl,mc="__reactProps$"+tl,cs="__reactContainer$"+tl,cx="__reactEvents$"+tl,eF="__reactListeners$"+tl,tF="__reactHandles$"+tl;function Ia(e){var t=e[Ar];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cs]||r[Ar]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jj(e);e!==null;){if(r=e[Ar])return r;e=jj(e)}return t}e=r,r=e.parentNode}return null}function Gc(e){return e=e[Ar]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Kh(e){return e[mc]||null}var dx=[],Yo=-1;function ja(e){return{current:e}}function Je(e){0>Yo||(e.current=dx[Yo],dx[Yo]=null,Yo--)}function Ke(e,t){Yo++,dx[Yo]=e.current,e.current=t}var la={},Bt=ja(la),cn=ja(!1),Qa=la;function ki(e,t){var r=e.type.contextTypes;if(!r)return la;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dn(e){return e=e.childContextTypes,e!=null}function Wu(){Je(cn),Je(Bt)}function wj(e,t,r){if(Bt.current!==la)throw Error(de(168));Ke(Bt,t),Ke(cn,r)}function sS(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(de(108,$R(e)||"Unknown",a));return it({},r,s)}function Ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||la,Qa=Bt.current,Ke(Bt,e),Ke(cn,cn.current),!0}function Nj(e,t,r){var s=e.stateNode;if(!s)throw Error(de(169));r?(e=sS(e,t,Qa),s.__reactInternalMemoizedMergedChildContext=e,Je(cn),Je(Bt),Ke(Bt,e)):Je(cn),Ke(cn,r)}var es=null,Yh=!1,Ap=!1;function aS(e){es===null?es=[e]:es.push(e)}function nF(e){Yh=!0,aS(e)}function wa(){if(!Ap&&es!==null){Ap=!0;var e=0,t=Ve;try{var r=es;for(Ve=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}es=null,Yh=!1}catch(a){throw es!==null&&(es=es.slice(e+1)),A1(Jg,wa),a}finally{Ve=t,Ap=!1}}return null}var Go=[],Xo=0,Yu=null,Gu=0,On=[],In=0,Ja=null,ns=1,rs="";function Ma(e,t){Go[Xo++]=Gu,Go[Xo++]=Yu,Yu=e,Gu=t}function oS(e,t,r){On[In++]=ns,On[In++]=rs,On[In++]=Ja,Ja=e;var s=ns;e=rs;var a=32-or(s)-1;s&=~(1<<a),r+=1;var o=32-or(t)+a;if(30<o){var i=a-a%5;o=(s&(1<<i)-1).toString(32),s>>=i,a-=i,ns=1<<32-or(t)+a|r<<a|s,rs=o+e}else ns=1<<o|r<<a|s,rs=e}function iv(e){e.return!==null&&(Ma(e,1),oS(e,1,0))}function lv(e){for(;e===Yu;)Yu=Go[--Xo],Go[Xo]=null,Gu=Go[--Xo],Go[Xo]=null;for(;e===Ja;)Ja=On[--In],On[In]=null,rs=On[--In],On[In]=null,ns=On[--In],On[In]=null}var Cn=null,bn=null,tt=!1,rr=null;function iS(e,t){var r=Ln(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,bn=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ja!==null?{id:ns,overflow:rs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ln(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cn=e,bn=null,!0):!1;default:return!1}}function ux(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hx(e){if(tt){var t=bn;if(t){var r=t;if(!bj(e,t)){if(ux(e))throw Error(de(418));t=Zs(r.nextSibling);var s=Cn;t&&bj(e,t)?iS(s,r):(e.flags=e.flags&-4097|2,tt=!1,Cn=e)}}else{if(ux(e))throw Error(de(418));e.flags=e.flags&-4097|2,tt=!1,Cn=e}}}function Sj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function Od(e){if(e!==Cn)return!1;if(!tt)return Sj(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ix(e.type,e.memoizedProps)),t&&(t=bn)){if(ux(e))throw lS(),Error(de(418));for(;t;)iS(e,t),t=Zs(t.nextSibling)}if(Sj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bn=Zs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=Cn?Zs(e.stateNode.nextSibling):null;return!0}function lS(){for(var e=bn;e;)e=Zs(e.nextSibling)}function Ti(){bn=Cn=null,tt=!1}function cv(e){rr===null?rr=[e]:rr.push(e)}var rF=vs.ReactCurrentBatchConfig;function bl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var s=r.stateNode}if(!s)throw Error(de(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function Id(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cj(e){var t=e._init;return t(e._payload)}function cS(e){function t(j,g){if(e){var y=j.deletions;y===null?(j.deletions=[g],j.flags|=16):y.push(g)}}function r(j,g){if(!e)return null;for(;g!==null;)t(j,g),g=g.sibling;return null}function s(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function a(j,g){return j=ra(j,g),j.index=0,j.sibling=null,j}function o(j,g,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<g?(j.flags|=2,g):y):(j.flags|=2,g)):(j.flags|=1048576,g)}function i(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,g,y,N){return g===null||g.tag!==6?(g=Ip(y,j.mode,N),g.return=j,g):(g=a(g,y),g.return=j,g)}function d(j,g,y,N){var b=y.type;return b===Bo?u(j,g,y.props.children,N,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Os&&Cj(b)===g.type)?(N=a(g,y.props),N.ref=bl(j,g,y),N.return=j,N):(N=Su(y.type,y.key,y.props,null,j.mode,N),N.ref=bl(j,g,y),N.return=j,N)}function c(j,g,y,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Lp(y,j.mode,N),g.return=j,g):(g=a(g,y.children||[]),g.return=j,g)}function u(j,g,y,N,b){return g===null||g.tag!==7?(g=Ka(y,j.mode,N,b),g.return=j,g):(g=a(g,y),g.return=j,g)}function m(j,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ip(""+g,j.mode,y),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ed:return y=Su(g.type,g.key,g.props,null,j.mode,y),y.ref=bl(j,null,g),y.return=j,y;case Ho:return g=Lp(g,j.mode,y),g.return=j,g;case Os:var N=g._init;return m(j,N(g._payload),y)}if(Ol(g)||vl(g))return g=Ka(g,j.mode,y,null),g.return=j,g;Id(j,g)}return null}function h(j,g,y,N){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(j,g,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ed:return y.key===b?d(j,g,y,N):null;case Ho:return y.key===b?c(j,g,y,N):null;case Os:return b=y._init,h(j,g,b(y._payload),N)}if(Ol(y)||vl(y))return b!==null?null:u(j,g,y,N,null);Id(j,y)}return null}function f(j,g,y,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(y)||null,l(g,j,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ed:return j=j.get(N.key===null?y:N.key)||null,d(g,j,N,b);case Ho:return j=j.get(N.key===null?y:N.key)||null,c(g,j,N,b);case Os:var E=N._init;return f(j,g,y,E(N._payload),b)}if(Ol(N)||vl(N))return j=j.get(y)||null,u(g,j,N,b,null);Id(g,N)}return null}function v(j,g,y,N){for(var b=null,E=null,C=g,P=g=0,O=null;C!==null&&P<y.length;P++){C.index>P?(O=C,C=null):O=C.sibling;var T=h(j,C,y[P],N);if(T===null){C===null&&(C=O);break}e&&C&&T.alternate===null&&t(j,C),g=o(T,g,P),E===null?b=T:E.sibling=T,E=T,C=O}if(P===y.length)return r(j,C),tt&&Ma(j,P),b;if(C===null){for(;P<y.length;P++)C=m(j,y[P],N),C!==null&&(g=o(C,g,P),E===null?b=C:E.sibling=C,E=C);return tt&&Ma(j,P),b}for(C=s(j,C);P<y.length;P++)O=f(C,j,P,y[P],N),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),g=o(O,g,P),E===null?b=O:E.sibling=O,E=O);return e&&C.forEach(function(_){return t(j,_)}),tt&&Ma(j,P),b}function x(j,g,y,N){var b=vl(y);if(typeof b!="function")throw Error(de(150));if(y=b.call(y),y==null)throw Error(de(151));for(var E=b=null,C=g,P=g=0,O=null,T=y.next();C!==null&&!T.done;P++,T=y.next()){C.index>P?(O=C,C=null):O=C.sibling;var _=h(j,C,T.value,N);if(_===null){C===null&&(C=O);break}e&&C&&_.alternate===null&&t(j,C),g=o(_,g,P),E===null?b=_:E.sibling=_,E=_,C=O}if(T.done)return r(j,C),tt&&Ma(j,P),b;if(C===null){for(;!T.done;P++,T=y.next())T=m(j,T.value,N),T!==null&&(g=o(T,g,P),E===null?b=T:E.sibling=T,E=T);return tt&&Ma(j,P),b}for(C=s(j,C);!T.done;P++,T=y.next())T=f(C,j,P,T.value,N),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),g=o(T,g,P),E===null?b=T:E.sibling=T,E=T);return e&&C.forEach(function(k){return t(j,k)}),tt&&Ma(j,P),b}function w(j,g,y,N){if(typeof y=="object"&&y!==null&&y.type===Bo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ed:e:{for(var b=y.key,E=g;E!==null;){if(E.key===b){if(b=y.type,b===Bo){if(E.tag===7){r(j,E.sibling),g=a(E,y.props.children),g.return=j,j=g;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Os&&Cj(b)===E.type){r(j,E.sibling),g=a(E,y.props),g.ref=bl(j,E,y),g.return=j,j=g;break e}r(j,E);break}else t(j,E);E=E.sibling}y.type===Bo?(g=Ka(y.props.children,j.mode,N,y.key),g.return=j,j=g):(N=Su(y.type,y.key,y.props,null,j.mode,N),N.ref=bl(j,g,y),N.return=j,j=N)}return i(j);case Ho:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(j,g.sibling),g=a(g,y.children||[]),g.return=j,j=g;break e}else{r(j,g);break}else t(j,g);g=g.sibling}g=Lp(y,j.mode,N),g.return=j,j=g}return i(j);case Os:return E=y._init,w(j,g,E(y._payload),N)}if(Ol(y))return v(j,g,y,N);if(vl(y))return x(j,g,y,N);Id(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(j,g.sibling),g=a(g,y),g.return=j,j=g):(r(j,g),g=Ip(y,j.mode,N),g.return=j,j=g),i(j)):r(j,g)}return w}var Ai=cS(!0),dS=cS(!1),Xu=ja(null),Qu=null,Qo=null,dv=null;function uv(){dv=Qo=Qu=null}function hv(e){var t=Xu.current;Je(Xu),e._currentValue=t}function mx(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function oi(e,t){Qu=e,dv=Qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(dv!==e)if(e={context:e,memoizedValue:t,next:null},Qo===null){if(Qu===null)throw Error(de(308));Qo=e,Qu.dependencies={lanes:0,firstContext:e}}else Qo=Qo.next=e;return t}var La=null;function mv(e){La===null?La=[e]:La.push(e)}function uS(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,mv(t)):(r.next=a.next,a.next=r),t.interleaved=r,ds(e,s)}function ds(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Is=!1;function pv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Le&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ds(e,r)}return a=s.interleaved,a===null?(t.next=t,mv(s)):(t.next=a.next,a.next=t),s.interleaved=t,ds(e,r)}function vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Zg(e,r)}}function Ej(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ju(e,t,r,s){var a=e.updateQueue;Is=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,c=d.next;d.next=null,i===null?o=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(o!==null){var m=a.baseState;i=0,u=c=d=null,l=o;do{var h=l.lane,f=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(h=t,f=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){m=v.call(f,m,h);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(f,m,h):v,h==null)break e;m=it({},m,h);break e;case 2:Is=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,d=m):u=u.next=f,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(d=m),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);eo|=i,e.lanes=i,e.memoizedState=m}}function Pj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(de(191,a));a.call(s)}}}var Xc={},Fr=ja(Xc),pc=ja(Xc),fc=ja(Xc);function $a(e){if(e===Xc)throw Error(de(174));return e}function fv(e,t){switch(Ke(fc,t),Ke(pc,e),Ke(Fr,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kf(t,e)}Je(Fr),Ke(Fr,t)}function Mi(){Je(Fr),Je(pc),Je(fc)}function mS(e){$a(fc.current);var t=$a(Fr.current),r=Kf(t,e.type);t!==r&&(Ke(pc,e),Ke(Fr,r))}function xv(e){pc.current===e&&(Je(Fr),Je(pc))}var rt=ja(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mp=[];function gv(){for(var e=0;e<Mp.length;e++)Mp[e]._workInProgressVersionPrimary=null;Mp.length=0}var yu=vs.ReactCurrentDispatcher,Dp=vs.ReactCurrentBatchConfig,Za=0,at=null,Pt=null,Tt=null,eh=!1,Xl=!1,xc=0,sF=0;function It(){throw Error(de(321))}function vv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dr(e[r],t[r]))return!1;return!0}function yv(e,t,r,s,a,o){if(Za=o,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?lF:cF,e=r(s,a),Xl){o=0;do{if(Xl=!1,xc=0,25<=o)throw Error(de(301));o+=1,Tt=Pt=null,t.updateQueue=null,yu.current=dF,e=r(s,a)}while(Xl)}if(yu.current=th,t=Pt!==null&&Pt.next!==null,Za=0,Tt=Pt=at=null,eh=!1,t)throw Error(de(300));return e}function jv(){var e=xc!==0;return xc=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function zn(){if(Pt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Tt===null?at.memoizedState:Tt.next;if(t!==null)Tt=t,Pt=e;else{if(e===null)throw Error(de(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function gc(e,t){return typeof t=="function"?t(e):t}function Rp(e){var t=zn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var s=Pt,a=s.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}s.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,s=s.baseState;var l=i=null,d=null,c=o;do{var u=c.lane;if((Za&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,i=s):d=d.next=m,at.lanes|=u,eo|=u}c=c.next}while(c!==null&&c!==o);d===null?i=s:d.next=l,dr(s,t.memoizedState)||(an=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do o=a.lane,at.lanes|=o,eo|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _p(e){var t=zn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);dr(o,t.memoizedState)||(an=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function pS(){}function fS(e,t){var r=at,s=zn(),a=t(),o=!dr(s.memoizedState,a);if(o&&(s.memoizedState=a,an=!0),s=s.queue,wv(vS.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,vc(9,gS.bind(null,r,s,a,t),void 0,null),At===null)throw Error(de(349));Za&30||xS(r,t,a)}return a}function xS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gS(e,t,r,s){t.value=r,t.getSnapshot=s,yS(t)&&jS(e)}function vS(e,t,r){return r(function(){yS(t)&&jS(e)})}function yS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dr(e,r)}catch{return!0}}function jS(e){var t=ds(e,1);t!==null&&ir(t,e,1,-1)}function kj(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:e},t.queue=e,e=e.dispatch=iF.bind(null,at,e),[t.memoizedState,e]}function vc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function wS(){return zn().memoizedState}function ju(e,t,r,s){var a=Cr();at.flags|=e,a.memoizedState=vc(1|t,r,void 0,s===void 0?null:s)}function Gh(e,t,r,s){var a=zn();s=s===void 0?null:s;var o=void 0;if(Pt!==null){var i=Pt.memoizedState;if(o=i.destroy,s!==null&&vv(s,i.deps)){a.memoizedState=vc(t,r,o,s);return}}at.flags|=e,a.memoizedState=vc(1|t,r,o,s)}function Tj(e,t){return ju(8390656,8,e,t)}function wv(e,t){return Gh(2048,8,e,t)}function NS(e,t){return Gh(4,2,e,t)}function bS(e,t){return Gh(4,4,e,t)}function SS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CS(e,t,r){return r=r!=null?r.concat([e]):null,Gh(4,4,SS.bind(null,t,e),r)}function Nv(){}function ES(e,t){var r=zn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&vv(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function PS(e,t){var r=zn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&vv(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function kS(e,t,r){return Za&21?(dr(r,t)||(r=R1(),at.lanes|=r,eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=r)}function aF(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var s=Dp.transition;Dp.transition={};try{e(!1),t()}finally{Ve=r,Dp.transition=s}}function TS(){return zn().memoizedState}function oF(e,t,r){var s=na(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},AS(e))MS(t,r);else if(r=uS(e,t,r,s),r!==null){var a=Jt();ir(r,e,s,a),DS(r,t,s)}}function iF(e,t,r){var s=na(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(AS(e))MS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,dr(l,i)){var d=t.interleaved;d===null?(a.next=a,mv(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=uS(e,t,a,s),r!==null&&(a=Jt(),ir(r,e,s,a),DS(r,t,s))}}function AS(e){var t=e.alternate;return e===at||t!==null&&t===at}function MS(e,t){Xl=eh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function DS(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Zg(e,r)}}var th={readContext:Bn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},lF={readContext:Bn,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:Tj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ju(4194308,4,SS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ju(4194308,4,e,t)},useInsertionEffect:function(e,t){return ju(4,2,e,t)},useMemo:function(e,t){var r=Cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Cr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=oF.bind(null,at,e),[s.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:kj,useDebugValue:Nv,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=kj(!1),t=e[0];return e=aF.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=at,a=Cr();if(tt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),At===null)throw Error(de(349));Za&30||xS(s,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Tj(vS.bind(null,s,o,e),[e]),s.flags|=2048,vc(9,gS.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Cr(),t=At.identifierPrefix;if(tt){var r=rs,s=ns;r=(s&~(1<<32-or(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cF={readContext:Bn,useCallback:ES,useContext:Bn,useEffect:wv,useImperativeHandle:CS,useInsertionEffect:NS,useLayoutEffect:bS,useMemo:PS,useReducer:Rp,useRef:wS,useState:function(){return Rp(gc)},useDebugValue:Nv,useDeferredValue:function(e){var t=zn();return kS(t,Pt.memoizedState,e)},useTransition:function(){var e=Rp(gc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:pS,useSyncExternalStore:fS,useId:TS,unstable_isNewReconciler:!1},dF={readContext:Bn,useCallback:ES,useContext:Bn,useEffect:wv,useImperativeHandle:CS,useInsertionEffect:NS,useLayoutEffect:bS,useMemo:PS,useReducer:_p,useRef:wS,useState:function(){return _p(gc)},useDebugValue:Nv,useDeferredValue:function(e){var t=zn();return Pt===null?t.memoizedState=e:kS(t,Pt.memoizedState,e)},useTransition:function(){var e=_p(gc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:pS,useSyncExternalStore:fS,useId:TS,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function px(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xh={isMounted:function(e){return(e=e._reactInternals)?jo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Jt(),a=na(e),o=os(s,a);o.payload=t,r!=null&&(o.callback=r),t=ea(e,o,a),t!==null&&(ir(t,e,a,s),vu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Jt(),a=na(e),o=os(s,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ea(e,o,a),t!==null&&(ir(t,e,a,s),vu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jt(),s=na(e),a=os(r,s);a.tag=2,t!=null&&(a.callback=t),t=ea(e,a,s),t!==null&&(ir(t,e,s,r),vu(t,e,s))}};function Aj(e,t,r,s,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!dc(r,s)||!dc(a,o):!0}function RS(e,t,r){var s=!1,a=la,o=t.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(a=dn(t)?Qa:Bt.current,s=t.contextTypes,o=(s=s!=null)?ki(e,a):la),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mj(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Xh.enqueueReplaceState(t,t.state,null)}function fx(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},pv(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Bn(o):(o=dn(t)?Qa:Bt.current,a.context=ki(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(px(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xh.enqueueReplaceState(a,a.state,null),Ju(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var r="",s=t;do r+=LR(s),s=s.return;while(s);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Fp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uF=typeof WeakMap=="function"?WeakMap:Map;function _S(e,t,r){r=os(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){rh||(rh=!0,Ex=s),xx(e,t)},r}function FS(e,t,r){r=os(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){xx(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){xx(e,t),typeof s!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Dj(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new uF;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=CF.bind(null,e,t,r),t.then(e,e))}function Rj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _j(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=os(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var hF=vs.ReactCurrentOwner,an=!1;function Kt(e,t,r,s){t.child=e===null?dS(t,null,r,s):Ai(t,e.child,r,s)}function Fj(e,t,r,s,a){r=r.render;var o=t.ref;return oi(t,a),s=yv(e,t,r,s,o,a),r=jv(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,us(e,t,a)):(tt&&r&&iv(t),t.flags|=1,Kt(e,t,s,a),t.child)}function Oj(e,t,r,s,a){if(e===null){var o=r.type;return typeof o=="function"&&!Av(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,OS(e,t,o,s,a)):(e=Su(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:dc,r(i,s)&&e.ref===t.ref)return us(e,t,a)}return t.flags|=1,e=ra(o,s),e.ref=t.ref,e.return=t,t.child=e}function OS(e,t,r,s,a){if(e!==null){var o=e.memoizedProps;if(dc(o,s)&&e.ref===t.ref)if(an=!1,t.pendingProps=s=o,(e.lanes&a)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,us(e,t,a)}return gx(e,t,r,s,a)}function IS(e,t,r){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Zo,vn),vn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Zo,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,Ke(Zo,vn),vn|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,Ke(Zo,vn),vn|=s;return Kt(e,t,a,r),t.child}function LS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gx(e,t,r,s,a){var o=dn(r)?Qa:Bt.current;return o=ki(t,o),oi(t,a),r=yv(e,t,r,s,o,a),s=jv(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,us(e,t,a)):(tt&&s&&iv(t),t.flags|=1,Kt(e,t,r,a),t.child)}function Ij(e,t,r,s,a){if(dn(r)){var o=!0;Ku(t)}else o=!1;if(oi(t,a),t.stateNode===null)wu(e,t),RS(t,r,s),fx(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var d=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=dn(r)?Qa:Bt.current,c=ki(t,c));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||d!==c)&&Mj(t,i,s,c),Is=!1;var h=t.memoizedState;i.state=h,Ju(t,s,i,a),d=t.memoizedState,l!==s||h!==d||cn.current||Is?(typeof u=="function"&&(px(t,r,u,s),d=t.memoizedState),(l=Is||Aj(t,r,l,s,h,d,c))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=c,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,hS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Jn(t.type,l),i.props=c,m=t.pendingProps,h=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=Bn(d):(d=dn(r)?Qa:Bt.current,d=ki(t,d));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||h!==d)&&Mj(t,i,s,d),Is=!1,h=t.memoizedState,i.state=h,Ju(t,s,i,a);var v=t.memoizedState;l!==m||h!==v||cn.current||Is?(typeof f=="function"&&(px(t,r,f,s),v=t.memoizedState),(c=Is||Aj(t,r,c,s,h,v,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,v,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,v,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),i.props=s,i.state=v,i.context=d,s=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return vx(e,t,r,s,o,a)}function vx(e,t,r,s,a,o){LS(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&Nj(t,r,!1),us(e,t,o);s=t.stateNode,hF.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Ai(t,e.child,null,o),t.child=Ai(t,null,l,o)):Kt(e,t,l,o),t.memoizedState=s.state,a&&Nj(t,r,!0),t.child}function $S(e){var t=e.stateNode;t.pendingContext?wj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wj(e,t.context,!1),fv(e,t.containerInfo)}function Lj(e,t,r,s,a){return Ti(),cv(a),t.flags|=256,Kt(e,t,r,s),t.child}var yx={dehydrated:null,treeContext:null,retryLane:0};function jx(e){return{baseLanes:e,cachePool:null,transitions:null}}function US(e,t,r){var s=t.pendingProps,a=rt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ke(rt,a&1),e===null)return hx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Zh(i,s,0,null),e=Ka(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jx(r),t.memoizedState=yx,e):bv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return mF(e,t,i,s,l,a,r);if(o){o=s.fallback,i=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=ra(a,d),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=ra(l,o):(o=Ka(o,i,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?jx(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=yx,s}return o=e.child,e=o.sibling,s=ra(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function bv(e,t){return t=Zh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ld(e,t,r,s){return s!==null&&cv(s),Ai(t,e.child,null,r),e=bv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mF(e,t,r,s,a,o,i){if(r)return t.flags&256?(t.flags&=-257,s=Fp(Error(de(422))),Ld(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Zh({mode:"visible",children:s.children},a,0,null),o=Ka(o,a,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Ai(t,e.child,null,i),t.child.memoizedState=jx(i),t.memoizedState=yx,o);if(!(t.mode&1))return Ld(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(de(419)),s=Fp(o,s,void 0),Ld(e,t,i,s)}if(l=(i&e.childLanes)!==0,an||l){if(s=At,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ds(e,a),ir(s,e,a,-1))}return Tv(),s=Fp(Error(de(421))),Ld(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=EF.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,bn=Zs(a.nextSibling),Cn=t,tt=!0,rr=null,e!==null&&(On[In++]=ns,On[In++]=rs,On[In++]=Ja,ns=e.id,rs=e.overflow,Ja=t),t=bv(t,s.children),t.flags|=4096,t)}function $j(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),mx(e.return,t,r)}function Op(e,t,r,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=a)}function VS(e,t,r){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(Kt(e,t,s.children,r),s=rt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$j(e,r,t);else if(e.tag===19)$j(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ke(rt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Zu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Op(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Op(t,!0,r,null,o);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function us(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=ra(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ra(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pF(e,t,r){switch(t.tag){case 3:$S(t),Ti();break;case 5:mS(t);break;case 1:dn(t.type)&&Ku(t);break;case 4:fv(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ke(Xu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ke(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?US(e,t,r):(Ke(rt,rt.current&1),e=us(e,t,r),e!==null?e.sibling:null);Ke(rt,rt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return VS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ke(rt,rt.current),s)break;return null;case 22:case 23:return t.lanes=0,IS(e,t,r)}return us(e,t,r)}var HS,wx,BS,zS;HS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wx=function(){};BS=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,$a(Fr.current);var o=null;switch(r){case"input":a=Bf(e,a),s=Bf(e,s),o=[];break;case"select":a=it({},a,{value:void 0}),s=it({},s,{value:void 0}),o=[];break;case"textarea":a=Wf(e,a),s=Wf(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=qu)}Yf(r,s);var i;r=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in s){var d=s[c];if(l=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(o||(o=[]),o.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rc.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Qe("scroll",e),o||l===d||(o=[])):(o=o||[]).push(c,d))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};zS=function(e,t,r,s){r!==s&&(t.flags|=4)};function Sl(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function fF(e,t,r){var s=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return dn(t.type)&&Wu(),Lt(t),null;case 3:return s=t.stateNode,Mi(),Je(cn),Je(Bt),gv(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Od(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Tx(rr),rr=null))),wx(e,t),Lt(t),null;case 5:xv(t);var a=$a(fc.current);if(r=t.type,e!==null&&t.stateNode!=null)BS(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(de(166));return Lt(t),null}if(e=$a(Fr.current),Od(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[Ar]=t,s[mc]=o,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Qe(Ll[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Y0(s,o),Qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",s);break;case"textarea":X0(s,o),Qe("invalid",s)}Yf(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&Fd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Fd(s.textContent,l,e),a=["children",""+l]):rc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Qe("scroll",s)}switch(r){case"input":Pd(s),G0(s,o,!0);break;case"textarea":Pd(s),Q0(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=qu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[Ar]=t,e[mc]=s,HS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Gf(r,s),r){case"dialog":Qe("cancel",e),Qe("close",e),a=s;break;case"iframe":case"object":case"embed":Qe("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ll.length;a++)Qe(Ll[a],e);a=s;break;case"source":Qe("error",e),a=s;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=s;break;case"details":Qe("toggle",e),a=s;break;case"input":Y0(e,s),a=Bf(e,s),Qe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=it({},s,{value:void 0}),Qe("invalid",e);break;case"textarea":X0(e,s),a=Wf(e,s),Qe("invalid",e);break;default:a=s}Yf(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?w1(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&y1(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&sc(e,d):typeof d=="number"&&sc(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rc.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Qe("scroll",e):d!=null&&Kg(e,o,d,i))}switch(r){case"input":Pd(e),G0(e,s,!1);break;case"textarea":Pd(e),Q0(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ia(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ni(e,!!s.multiple,o,!1):s.defaultValue!=null&&ni(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qu)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)zS(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(de(166));if(r=$a(fc.current),$a(Fr.current),Od(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ar]=t,(o=s.nodeValue!==r)&&(e=Cn,e!==null))switch(e.tag){case 3:Fd(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fd(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ar]=t,t.stateNode=s}return Lt(t),null;case 13:if(Je(rt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&bn!==null&&t.mode&1&&!(t.flags&128))lS(),Ti(),t.flags|=98560,o=!1;else if(o=Od(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(de(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(de(317));o[Ar]=t}else Ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),o=!1}else rr!==null&&(Tx(rr),rr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?kt===0&&(kt=3):Tv())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Mi(),wx(e,t),e===null&&uc(t.stateNode.containerInfo),Lt(t),null;case 10:return hv(t.type._context),Lt(t),null;case 17:return dn(t.type)&&Wu(),Lt(t),null;case 19:if(Je(rt),o=t.memoizedState,o===null)return Lt(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Sl(o,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Zu(e),i!==null){for(t.flags|=128,Sl(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ft()>Ri&&(t.flags|=128,s=!0,Sl(o,!1),t.lanes=4194304)}else{if(!s)if(e=Zu(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!tt)return Lt(t),null}else 2*ft()-o.renderingStartTime>Ri&&r!==1073741824&&(t.flags|=128,s=!0,Sl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ft(),t.sibling=null,r=rt.current,Ke(rt,s?r&1|2:r&1),t):(Lt(t),null);case 22:case 23:return kv(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?vn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function xF(e,t){switch(lv(t),t.tag){case 1:return dn(t.type)&&Wu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Je(cn),Je(Bt),gv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xv(t),null;case 13:if(Je(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(rt),null;case 4:return Mi(),null;case 10:return hv(t.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var $d=!1,Vt=!1,gF=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Jo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ut(e,t,s)}else r.current=null}function Nx(e,t,r){try{r()}catch(s){ut(e,t,s)}}var Uj=!1;function vF(e,t){if(ax=Hu,e=G1(),ov(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,d=-1,c=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||s!==0&&m.nodeType!==3||(d=i+s),m.nodeType===3&&(i+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===r&&++c===a&&(l=i),h===o&&++u===s&&(d=i),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(ox={focusedElem:e,selectionRange:r},Hu=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,j=t.stateNode,g=j.getSnapshotBeforeUpdate(t.elementType===t.type?x:Jn(t.type,x),w);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){ut(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return v=Uj,Uj=!1,v}function Ql(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Nx(t,r,o)}a=a.next}while(a!==s)}}function Qh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function bx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qS(e){var t=e.alternate;t!==null&&(e.alternate=null,qS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[mc],delete t[cx],delete t[eF],delete t[tF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WS(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sx(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qu));else if(s!==4&&(e=e.child,e!==null))for(Sx(e,t,r),e=e.sibling;e!==null;)Sx(e,t,r),e=e.sibling}function Cx(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Cx(e,t,r),e=e.sibling;e!==null;)Cx(e,t,r),e=e.sibling}var Dt=null,tr=!1;function Es(e,t,r){for(r=r.child;r!==null;)KS(e,t,r),r=r.sibling}function KS(e,t,r){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Bh,r)}catch{}switch(r.tag){case 5:Vt||Jo(r,t);case 6:var s=Dt,a=tr;Dt=null,Es(e,t,r),Dt=s,tr=a,Dt!==null&&(tr?(e=Dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dt.removeChild(r.stateNode));break;case 18:Dt!==null&&(tr?(e=Dt,r=r.stateNode,e.nodeType===8?Tp(e.parentNode,r):e.nodeType===1&&Tp(e,r),lc(e)):Tp(Dt,r.stateNode));break;case 4:s=Dt,a=tr,Dt=r.stateNode.containerInfo,tr=!0,Es(e,t,r),Dt=s,tr=a;break;case 0:case 11:case 14:case 15:if(!Vt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Nx(r,t,i),a=a.next}while(a!==s)}Es(e,t,r);break;case 1:if(!Vt&&(Jo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){ut(r,t,l)}Es(e,t,r);break;case 21:Es(e,t,r);break;case 22:r.mode&1?(Vt=(s=Vt)||r.memoizedState!==null,Es(e,t,r),Vt=s):Es(e,t,r);break;default:Es(e,t,r)}}function Hj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gF),t.forEach(function(s){var a=PF.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Xn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,tr=!1;break e;case 3:Dt=l.stateNode.containerInfo,tr=!0;break e;case 4:Dt=l.stateNode.containerInfo,tr=!0;break e}l=l.return}if(Dt===null)throw Error(de(160));KS(o,i,a),Dt=null,tr=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){ut(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)YS(t,e),t=t.sibling}function YS(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),br(e),s&4){try{Ql(3,e,e.return),Qh(3,e)}catch(x){ut(e,e.return,x)}try{Ql(5,e,e.return)}catch(x){ut(e,e.return,x)}}break;case 1:Xn(t,e),br(e),s&512&&r!==null&&Jo(r,r.return);break;case 5:if(Xn(t,e),br(e),s&512&&r!==null&&Jo(r,r.return),e.flags&32){var a=e.stateNode;try{sc(a,"")}catch(x){ut(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&x1(a,o),Gf(l,i);var c=Gf(l,o);for(i=0;i<d.length;i+=2){var u=d[i],m=d[i+1];u==="style"?w1(a,m):u==="dangerouslySetInnerHTML"?y1(a,m):u==="children"?sc(a,m):Kg(a,u,m,c)}switch(l){case"input":zf(a,o);break;case"textarea":g1(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ni(a,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?ni(a,!!o.multiple,o.defaultValue,!0):ni(a,!!o.multiple,o.multiple?[]:"",!1))}a[mc]=o}catch(x){ut(e,e.return,x)}}break;case 6:if(Xn(t,e),br(e),s&4){if(e.stateNode===null)throw Error(de(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){ut(e,e.return,x)}}break;case 3:if(Xn(t,e),br(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(x){ut(e,e.return,x)}break;case 4:Xn(t,e),br(e);break;case 13:Xn(t,e),br(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Ev=ft())),s&4&&Hj(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vt=(c=Vt)||u,Xn(t,e),Vt=c):Xn(t,e),br(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ne=e,u=e.child;u!==null;){for(m=Ne=u;Ne!==null;){switch(h=Ne,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ql(4,h,h.return);break;case 1:Jo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ut(s,r,x)}}break;case 5:Jo(h,h.return);break;case 22:if(h.memoizedState!==null){zj(m);continue}}f!==null?(f.return=h,Ne=f):zj(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,d=m.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=j1("display",i))}catch(x){ut(e,e.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(x){ut(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Xn(t,e),br(e),s&4&&Hj(e);break;case 21:break;default:Xn(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WS(r)){var s=r;break e}r=r.return}throw Error(de(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(sc(a,""),s.flags&=-33);var o=Vj(e);Cx(e,o,a);break;case 3:case 4:var i=s.stateNode.containerInfo,l=Vj(e);Sx(e,l,i);break;default:throw Error(de(161))}}catch(d){ut(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yF(e,t,r){Ne=e,GS(e)}function GS(e,t,r){for(var s=(e.mode&1)!==0;Ne!==null;){var a=Ne,o=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||$d;if(!i){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Vt;l=$d;var c=Vt;if($d=i,(Vt=d)&&!c)for(Ne=a;Ne!==null;)i=Ne,d=i.child,i.tag===22&&i.memoizedState!==null?qj(a):d!==null?(d.return=i,Ne=d):qj(a);for(;o!==null;)Ne=o,GS(o),o=o.sibling;Ne=a,$d=l,Vt=c}Bj(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ne=o):Bj(e)}}function Bj(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Qh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Vt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Jn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pj(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pj(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&lc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Vt||t.flags&512&&bx(t)}catch(h){ut(t,t.return,h)}}if(t===e){Ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function zj(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function qj(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qh(4,t)}catch(d){ut(t,r,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){ut(t,a,d)}}var o=t.return;try{bx(t)}catch(d){ut(t,o,d)}break;case 5:var i=t.return;try{bx(t)}catch(d){ut(t,i,d)}}}catch(d){ut(t,t.return,d)}if(t===e){Ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ne=l;break}Ne=t.return}}var jF=Math.ceil,nh=vs.ReactCurrentDispatcher,Sv=vs.ReactCurrentOwner,Vn=vs.ReactCurrentBatchConfig,Le=0,At=null,St=null,Rt=0,vn=0,Zo=ja(0),kt=0,yc=null,eo=0,Jh=0,Cv=0,Jl=null,sn=null,Ev=0,Ri=1/0,Zr=null,rh=!1,Ex=null,ta=null,Ud=!1,Ks=null,sh=0,Zl=0,Px=null,Nu=-1,bu=0;function Jt(){return Le&6?ft():Nu!==-1?Nu:Nu=ft()}function na(e){return e.mode&1?Le&2&&Rt!==0?Rt&-Rt:rF.transition!==null?(bu===0&&(bu=R1()),bu):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:U1(e.type)),e):1}function ir(e,t,r,s){if(50<Zl)throw Zl=0,Px=null,Error(de(185));Kc(e,r,s),(!(Le&2)||e!==At)&&(e===At&&(!(Le&2)&&(Jh|=r),kt===4&&$s(e,Rt)),un(e,s),r===1&&Le===0&&!(t.mode&1)&&(Ri=ft()+500,Yh&&wa()))}function un(e,t){var r=e.callbackNode;r_(e,t);var s=Vu(e,e===At?Rt:0);if(s===0)r!==null&&ej(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ej(r),t===1)e.tag===0?nF(Wj.bind(null,e)):aS(Wj.bind(null,e)),J_(function(){!(Le&6)&&wa()}),r=null;else{switch(_1(s)){case 1:r=Jg;break;case 4:r=M1;break;case 16:r=Uu;break;case 536870912:r=D1;break;default:r=Uu}r=rC(r,XS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XS(e,t){if(Nu=-1,bu=0,Le&6)throw Error(de(327));var r=e.callbackNode;if(ii()&&e.callbackNode!==r)return null;var s=Vu(e,e===At?Rt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ah(e,s);else{t=s;var a=Le;Le|=2;var o=JS();(At!==e||Rt!==t)&&(Zr=null,Ri=ft()+500,Wa(e,t));do try{bF();break}catch(l){QS(e,l)}while(!0);uv(),nh.current=o,Le=a,St!==null?t=0:(At=null,Rt=0,t=kt)}if(t!==0){if(t===2&&(a=ex(e),a!==0&&(s=a,t=kx(e,a))),t===1)throw r=yc,Wa(e,0),$s(e,s),un(e,ft()),r;if(t===6)$s(e,s);else{if(a=e.current.alternate,!(s&30)&&!wF(a)&&(t=ah(e,s),t===2&&(o=ex(e),o!==0&&(s=o,t=kx(e,o))),t===1))throw r=yc,Wa(e,0),$s(e,s),un(e,ft()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(de(345));case 2:Da(e,sn,Zr);break;case 3:if($s(e,s),(s&130023424)===s&&(t=Ev+500-ft(),10<t)){if(Vu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Jt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lx(Da.bind(null,e,sn,Zr),t);break}Da(e,sn,Zr);break;case 4:if($s(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-or(s);o=1<<i,i=t[i],i>a&&(a=i),s&=~o}if(s=a,s=ft()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*jF(s/1960))-s,10<s){e.timeoutHandle=lx(Da.bind(null,e,sn,Zr),s);break}Da(e,sn,Zr);break;case 5:Da(e,sn,Zr);break;default:throw Error(de(329))}}}return un(e,ft()),e.callbackNode===r?XS.bind(null,e):null}function kx(e,t){var r=Jl;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),e=ah(e,t),e!==2&&(t=sn,sn=r,t!==null&&Tx(t)),e}function Tx(e){sn===null?sn=e:sn.push.apply(sn,e)}function wF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],o=a.getSnapshot;a=a.value;try{if(!dr(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $s(e,t){for(t&=~Cv,t&=~Jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-or(t),s=1<<r;e[r]=-1,t&=~s}}function Wj(e){if(Le&6)throw Error(de(327));ii();var t=Vu(e,0);if(!(t&1))return un(e,ft()),null;var r=ah(e,t);if(e.tag!==0&&r===2){var s=ex(e);s!==0&&(t=s,r=kx(e,s))}if(r===1)throw r=yc,Wa(e,0),$s(e,t),un(e,ft()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,sn,Zr),un(e,ft()),null}function Pv(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Ri=ft()+500,Yh&&wa())}}function to(e){Ks!==null&&Ks.tag===0&&!(Le&6)&&ii();var t=Le;Le|=1;var r=Vn.transition,s=Ve;try{if(Vn.transition=null,Ve=1,e)return e()}finally{Ve=s,Vn.transition=r,Le=t,!(Le&6)&&wa()}}function kv(){vn=Zo.current,Je(Zo)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Q_(r)),St!==null)for(r=St.return;r!==null;){var s=r;switch(lv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Wu();break;case 3:Mi(),Je(cn),Je(Bt),gv();break;case 5:xv(s);break;case 4:Mi();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:hv(s.type._context);break;case 22:case 23:kv()}r=r.return}if(At=e,St=e=ra(e.current,null),Rt=vn=t,kt=0,yc=null,Cv=Jh=eo=0,sn=Jl=null,La!==null){for(t=0;t<La.length;t++)if(r=La[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,s.next=i}r.pending=s}La=null}return e}function QS(e,t){do{var r=St;try{if(uv(),yu.current=th,eh){for(var s=at.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}eh=!1}if(Za=0,Tt=Pt=at=null,Xl=!1,xc=0,Sv.current=null,r===null||r.return===null){kt=1,yc=t,St=null;break}e:{var o=e,i=r.return,l=r,d=t;if(t=Rt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Rj(i);if(f!==null){f.flags&=-257,_j(f,i,l,o,t),f.mode&1&&Dj(o,c,t),t=f,d=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(d),t.updateQueue=x}else v.add(d);break e}else{if(!(t&1)){Dj(o,c,t),Tv();break e}d=Error(de(426))}}else if(tt&&l.mode&1){var w=Rj(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),_j(w,i,l,o,t),cv(Di(d,l));break e}}o=d=Di(d,l),kt!==4&&(kt=2),Jl===null?Jl=[o]:Jl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=_S(o,d,t);Ej(o,j);break e;case 1:l=d;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ta===null||!ta.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=FS(o,l,t);Ej(o,N);break e}}o=o.return}while(o!==null)}eC(r)}catch(b){t=b,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function JS(){var e=nh.current;return nh.current=th,e===null?th:e}function Tv(){(kt===0||kt===3||kt===2)&&(kt=4),At===null||!(eo&268435455)&&!(Jh&268435455)||$s(At,Rt)}function ah(e,t){var r=Le;Le|=2;var s=JS();(At!==e||Rt!==t)&&(Zr=null,Wa(e,t));do try{NF();break}catch(a){QS(e,a)}while(!0);if(uv(),Le=r,nh.current=s,St!==null)throw Error(de(261));return At=null,Rt=0,kt}function NF(){for(;St!==null;)ZS(St)}function bF(){for(;St!==null&&!YR();)ZS(St)}function ZS(e){var t=nC(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?eC(e):St=t,Sv.current=null}function eC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xF(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,St=null;return}}else if(r=fF(r,t,vn),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);kt===0&&(kt=5)}function Da(e,t,r){var s=Ve,a=Vn.transition;try{Vn.transition=null,Ve=1,SF(e,t,r,s)}finally{Vn.transition=a,Ve=s}return null}function SF(e,t,r,s){do ii();while(Ks!==null);if(Le&6)throw Error(de(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(s_(e,o),e===At&&(St=At=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ud||(Ud=!0,rC(Uu,function(){return ii(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Vn.transition,Vn.transition=null;var i=Ve;Ve=1;var l=Le;Le|=4,Sv.current=null,vF(e,r),YS(r,e),z_(ox),Hu=!!ax,ox=ax=null,e.current=r,yF(r),GR(),Le=l,Ve=i,Vn.transition=o}else e.current=r;if(Ud&&(Ud=!1,Ks=e,sh=a),o=e.pendingLanes,o===0&&(ta=null),JR(r.stateNode),un(e,ft()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(rh)throw rh=!1,e=Ex,Ex=null,e;return sh&1&&e.tag!==0&&ii(),o=e.pendingLanes,o&1?e===Px?Zl++:(Zl=0,Px=e):Zl=0,wa(),null}function ii(){if(Ks!==null){var e=_1(sh),t=Vn.transition,r=Ve;try{if(Vn.transition=null,Ve=16>e?16:e,Ks===null)var s=!1;else{if(e=Ks,Ks=null,sh=0,Le&6)throw Error(de(331));var a=Le;for(Le|=4,Ne=e.current;Ne!==null;){var o=Ne,i=o.child;if(Ne.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(Ne=c;Ne!==null;){var u=Ne;switch(u.tag){case 0:case 11:case 15:Ql(8,u,o)}var m=u.child;if(m!==null)m.return=u,Ne=m;else for(;Ne!==null;){u=Ne;var h=u.sibling,f=u.return;if(qS(u),u===c){Ne=null;break}if(h!==null){h.return=f,Ne=h;break}Ne=f}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Ne=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ne=i;else e:for(;Ne!==null;){if(o=Ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ql(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,Ne=j;break e}Ne=o.return}}var g=e.current;for(Ne=g;Ne!==null;){i=Ne;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Ne=y;else e:for(i=g;Ne!==null;){if(l=Ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qh(9,l)}}catch(b){ut(l,l.return,b)}if(l===i){Ne=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ne=N;break e}Ne=l.return}}if(Le=a,wa(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Bh,e)}catch{}s=!0}return s}finally{Ve=r,Vn.transition=t}}return!1}function Kj(e,t,r){t=Di(r,t),t=_S(e,t,1),e=ea(e,t,1),t=Jt(),e!==null&&(Kc(e,1,t),un(e,t))}function ut(e,t,r){if(e.tag===3)Kj(e,e,r);else for(;t!==null;){if(t.tag===3){Kj(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ta===null||!ta.has(s))){e=Di(r,e),e=FS(t,e,1),t=ea(t,e,1),e=Jt(),t!==null&&(Kc(t,1,e),un(t,e));break}}t=t.return}}function CF(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Rt&r)===r&&(kt===4||kt===3&&(Rt&130023424)===Rt&&500>ft()-Ev?Wa(e,0):Cv|=r),un(e,t)}function tC(e,t){t===0&&(e.mode&1?(t=Ad,Ad<<=1,!(Ad&130023424)&&(Ad=4194304)):t=1);var r=Jt();e=ds(e,t),e!==null&&(Kc(e,t,r),un(e,r))}function EF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tC(e,r)}function PF(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(de(314))}s!==null&&s.delete(t),tC(e,r)}var nC;nC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)an=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return an=!1,pF(e,t,r);an=!!(e.flags&131072)}else an=!1,tt&&t.flags&1048576&&oS(t,Gu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;wu(e,t),e=t.pendingProps;var a=ki(t,Bt.current);oi(t,r),a=yv(null,t,s,e,a,r);var o=jv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(s)?(o=!0,Ku(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,pv(t),a.updater=Xh,t.stateNode=a,a._reactInternals=t,fx(t,s,e,r),t=vx(null,t,s,!0,o,r)):(t.tag=0,tt&&o&&iv(t),Kt(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(wu(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=TF(s),e=Jn(s,e),a){case 0:t=gx(null,t,s,e,r);break e;case 1:t=Ij(null,t,s,e,r);break e;case 11:t=Fj(null,t,s,e,r);break e;case 14:t=Oj(null,t,s,Jn(s.type,e),r);break e}throw Error(de(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),gx(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),Ij(e,t,s,a,r);case 3:e:{if($S(t),e===null)throw Error(de(387));s=t.pendingProps,o=t.memoizedState,a=o.element,hS(e,t),Ju(t,s,null,r);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Di(Error(de(423)),t),t=Lj(e,t,s,r,a);break e}else if(s!==a){a=Di(Error(de(424)),t),t=Lj(e,t,s,r,a);break e}else for(bn=Zs(t.stateNode.containerInfo.firstChild),Cn=t,tt=!0,rr=null,r=dS(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ti(),s===a){t=us(e,t,r);break e}Kt(e,t,s,r)}t=t.child}return t;case 5:return mS(t),e===null&&hx(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ix(s,a)?i=null:o!==null&&ix(s,o)&&(t.flags|=32),LS(e,t),Kt(e,t,i,r),t.child;case 6:return e===null&&hx(t),null;case 13:return US(e,t,r);case 4:return fv(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ai(t,null,s,r):Kt(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),Fj(e,t,s,a,r);case 7:return Kt(e,t,t.pendingProps,r),t.child;case 8:return Kt(e,t,t.pendingProps.children,r),t.child;case 12:return Kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ke(Xu,s._currentValue),s._currentValue=i,o!==null)if(dr(o.value,i)){if(o.children===a.children&&!cn.current){t=us(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var d=l.firstContext;d!==null;){if(d.context===s){if(o.tag===1){d=os(-1,r&-r),d.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),mx(o.return,r,t),l.lanes|=r;break}d=d.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(de(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),mx(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Kt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,oi(t,r),a=Bn(a),s=s(a),t.flags|=1,Kt(e,t,s,r),t.child;case 14:return s=t.type,a=Jn(s,t.pendingProps),a=Jn(s.type,a),Oj(e,t,s,a,r);case 15:return OS(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Jn(s,a),wu(e,t),t.tag=1,dn(s)?(e=!0,Ku(t)):e=!1,oi(t,r),RS(t,s,a),fx(t,s,a,r),vx(null,t,s,!0,e,r);case 19:return VS(e,t,r);case 22:return IS(e,t,r)}throw Error(de(156,t.tag))};function rC(e,t){return A1(e,t)}function kF(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,r,s){return new kF(e,t,r,s)}function Av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TF(e){if(typeof e=="function")return Av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gg)return 11;if(e===Xg)return 14}return 2}function ra(e,t){var r=e.alternate;return r===null?(r=Ln(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Su(e,t,r,s,a,o){var i=2;if(s=e,typeof e=="function")Av(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bo:return Ka(r.children,a,o,t);case Yg:i=8,a|=8;break;case $f:return e=Ln(12,r,t,a|2),e.elementType=$f,e.lanes=o,e;case Uf:return e=Ln(13,r,t,a),e.elementType=Uf,e.lanes=o,e;case Vf:return e=Ln(19,r,t,a),e.elementType=Vf,e.lanes=o,e;case m1:return Zh(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u1:i=10;break e;case h1:i=9;break e;case Gg:i=11;break e;case Xg:i=14;break e;case Os:i=16,s=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Ln(i,r,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Ka(e,t,r,s){return e=Ln(7,e,s,t),e.lanes=r,e}function Zh(e,t,r,s){return e=Ln(22,e,s,t),e.elementType=m1,e.lanes=r,e.stateNode={isHidden:!1},e}function Ip(e,t,r){return e=Ln(6,e,null,t),e.lanes=r,e}function Lp(e,t,r){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AF(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mv(e,t,r,s,a,o,i,l,d){return e=new AF(e,t,r,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ln(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(o),e}function MF(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function sC(e){if(!e)return la;e=e._reactInternals;e:{if(jo(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(dn(r))return sS(e,r,t)}return t}function aC(e,t,r,s,a,o,i,l,d){return e=Mv(r,s,!0,e,a,o,i,l,d),e.context=sC(null),r=e.current,s=Jt(),a=na(r),o=os(s,a),o.callback=t??null,ea(r,o,a),e.current.lanes=a,Kc(e,a,s),un(e,s),e}function em(e,t,r,s){var a=t.current,o=Jt(),i=na(a);return r=sC(r),t.context===null?t.context=r:t.pendingContext=r,t=os(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ea(a,t,i),e!==null&&(ir(e,a,i,o),vu(e,a,i)),i}function oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dv(e,t){Yj(e,t),(e=e.alternate)&&Yj(e,t)}function DF(){return null}var oC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rv(e){this._internalRoot=e}tm.prototype.render=Rv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));em(e,t,null,null)};tm.prototype.unmount=Rv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;to(function(){em(null,e,null,null)}),t[cs]=null}};function tm(e){this._internalRoot=e}tm.prototype.unstable_scheduleHydration=function(e){if(e){var t=I1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ls.length&&t!==0&&t<Ls[r].priority;r++);Ls.splice(r,0,e),r===0&&$1(e)}};function _v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gj(){}function RF(e,t,r,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var c=oh(i);o.call(c)}}var i=aC(t,s,e,0,null,!1,!1,"",Gj);return e._reactRootContainer=i,e[cs]=i.current,uc(e.nodeType===8?e.parentNode:e),to(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var c=oh(d);l.call(c)}}var d=Mv(e,0,!1,null,null,!1,!1,"",Gj);return e._reactRootContainer=d,e[cs]=d.current,uc(e.nodeType===8?e.parentNode:e),to(function(){em(t,d,r,s)}),d}function rm(e,t,r,s,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var d=oh(i);l.call(d)}}em(t,i,e,a)}else i=RF(r,t,e,a,s);return oh(i)}F1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(Zg(t,r|1),un(t,ft()),!(Le&6)&&(Ri=ft()+500,wa()))}break;case 13:to(function(){var s=ds(e,1);if(s!==null){var a=Jt();ir(s,e,1,a)}}),Dv(e,1)}};ev=function(e){if(e.tag===13){var t=ds(e,134217728);if(t!==null){var r=Jt();ir(t,e,134217728,r)}Dv(e,134217728)}};O1=function(e){if(e.tag===13){var t=na(e),r=ds(e,t);if(r!==null){var s=Jt();ir(r,e,t,s)}Dv(e,t)}};I1=function(){return Ve};L1=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};Qf=function(e,t,r){switch(t){case"input":if(zf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Kh(s);if(!a)throw Error(de(90));f1(s),zf(s,a)}}}break;case"textarea":g1(e,r);break;case"select":t=r.value,t!=null&&ni(e,!!r.multiple,t,!1)}};S1=Pv;C1=to;var _F={usingClientEntryPoint:!1,Events:[Gc,Ko,Kh,N1,b1,Pv]},Cl={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FF={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=k1(e),e===null?null:e.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||DF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Bh=Vd.inject(FF),_r=Vd}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_F;Tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(t))throw Error(de(200));return MF(e,t,null,r)};Tn.createRoot=function(e,t){if(!_v(e))throw Error(de(299));var r=!1,s="",a=oC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Mv(e,1,!1,null,null,r,!1,s,a),e[cs]=t.current,uc(e.nodeType===8?e.parentNode:e),new Rv(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=k1(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return to(e)};Tn.hydrate=function(e,t,r){if(!nm(t))throw Error(de(200));return rm(null,e,t,!0,r)};Tn.hydrateRoot=function(e,t,r){if(!_v(e))throw Error(de(405));var s=r!=null&&r.hydratedSources||null,a=!1,o="",i=oC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=aC(t,null,e,1,r??null,a,!1,o,i),e[cs]=t.current,uc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new tm(t)};Tn.render=function(e,t,r){if(!nm(t))throw Error(de(200));return rm(null,e,t,!1,r)};Tn.unmountComponentAtNode=function(e){if(!nm(e))throw Error(de(40));return e._reactRootContainer?(to(function(){rm(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};Tn.unstable_batchedUpdates=Pv;Tn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!nm(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return rm(e,t,r,!1,s)};Tn.version="18.3.1-next-f1338f8080-20240426";function iC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iC)}catch(e){console.error(e)}}iC(),i1.exports=Tn;var gr=i1.exports;const sm=Ug(gr);var lC,Xj=gr;lC=Xj.createRoot,Xj.hydrateRoot;const OF=1,IF=1e6;let $p=0;function LF(){return $p=($p+1)%Number.MAX_SAFE_INTEGER,$p.toString()}const Up=new Map,Qj=e=>{if(Up.has(e))return;const t=setTimeout(()=>{Up.delete(e),ec({type:"REMOVE_TOAST",toastId:e})},IF);Up.set(e,t)},$F=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,OF)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Qj(r):e.toasts.forEach(s=>{Qj(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cu=[];let Eu={toasts:[]};function ec(e){Eu=$F(Eu,e),Cu.forEach(t=>{t(Eu)})}function ih({...e}){const t=LF(),r=a=>ec({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>ec({type:"DISMISS_TOAST",toastId:t});return ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function wt(){const[e,t]=p.useState(Eu);return p.useEffect(()=>(Cu.push(t),()=>{const r=Cu.indexOf(t);r>-1&&Cu.splice(r,1)}),[e]),{...e,toast:ih,dismiss:r=>ec({type:"DISMISS_TOAST",toastId:r})}}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function UF(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function am(...e){return t=>e.forEach(r=>UF(r,t))}function Te(...e){return p.useCallback(am(...e),e)}function VF(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...v}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,HF(a,...t)]}function HF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ca=p.forwardRef((e,t)=>{const{children:r,...s}=e,a=p.Children.toArray(r),o=a.find(BF);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return n.jsx(Ax,{...s,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return n.jsx(Ax,{...s,ref:t,children:r})});ca.displayName="Slot";var Ax=p.forwardRef((e,t)=>{const{children:r,...s}=e;if(p.isValidElement(r)){const a=qF(r);return p.cloneElement(r,{...zF(s,r.props),ref:t?am(t,a):a})}return p.Children.count(r)>1?p.Children.only(null):null});Ax.displayName="SlotClone";var Fv=({children:e})=>n.jsx(n.Fragment,{children:e});function BF(e){return p.isValidElement(e)&&e.type===Fv}function zF(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{o(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function qF(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function om(e){const t=e+"CollectionProvider",[r,s]=VF(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:v,children:x}=f,w=me.useRef(null),j=me.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:j,collectionRef:w,children:x})};i.displayName=t;const l=e+"CollectionSlot",d=me.forwardRef((f,v)=>{const{scope:x,children:w}=f,j=o(l,x),g=Te(v,j.collectionRef);return n.jsx(ca,{ref:g,children:w})});d.displayName=l;const c=e+"CollectionItemSlot",u="data-radix-collection-item",m=me.forwardRef((f,v)=>{const{scope:x,children:w,...j}=f,g=me.useRef(null),y=Te(v,g),N=o(c,x);return me.useEffect(()=>(N.itemMap.set(g,{ref:g,...j}),()=>void N.itemMap.delete(g))),n.jsx(ca,{[u]:"",ref:y,children:w})});m.displayName=c;function h(f){const v=o(e+"CollectionConsumer",f);return me.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((N,b)=>j.indexOf(N.ref.current)-j.indexOf(b.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:d,ItemSlot:m},h,s]}function WF(e,t){const r=p.createContext(t),s=o=>{const{children:i,...l}=o,d=p.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:d,children:i})};s.displayName=e+"Provider";function a(o){const i=p.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function Wn(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];const c=m=>{var j;const{scope:h,children:f,...v}=m,x=((j=h==null?void 0:h[e])==null?void 0:j[d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[e])==null?void 0:x[d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,KF(a,...t)]}function KF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var YF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=YF.reduce((e,t)=>{const r=p.forwardRef((s,a)=>{const{asChild:o,...i}=s,l=o?ca:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ov(e,t){e&&gr.flushSync(()=>e.dispatchEvent(t))}function st(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function GF(e,t=globalThis==null?void 0:globalThis.document){const r=st(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var XF="DismissableLayer",Mx="dismissableLayer.update",QF="dismissableLayer.pointerDownOutside",JF="dismissableLayer.focusOutside",Jj,cC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(cC),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),v=Te(t,C=>m(C)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(w),g=u?x.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=j,b=eO(C=>{const P=C.target,O=[...c.branches].some(T=>T.contains(P));!N||O||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),E=tO(C=>{const P=C.target;[...c.branches].some(T=>T.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return GF(C=>{g===c.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Jj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Zj(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Jj)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Zj())},[u,c]),p.useEffect(()=>{const C=()=>f({});return document.addEventListener(Mx,C),()=>document.removeEventListener(Mx,C)},[]),n.jsx(Ce.div,{...d,ref:v,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,b.onPointerDownCapture)})});nl.displayName=XF;var ZF="DismissableLayerBranch",dC=p.forwardRef((e,t)=>{const r=p.useContext(cC),s=p.useRef(null),a=Te(t,s);return p.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(Ce.div,{...e,ref:a})});dC.displayName=ZF;function eO(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let d=function(){uC(QF,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function tO(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&uC(JF,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Zj(){const e=new CustomEvent(Mx);document.dispatchEvent(e)}function uC(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ov(a,o):a.dispatchEvent(o)}var nO=nl,rO=dC,Mt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},sO="Portal",Qc=p.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=p.useState(!1);Mt(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?sm.createPortal(n.jsx(Ce.div,{...s,ref:t}),i):null});Qc.displayName=sO;function aO(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var Ft=e=>{const{present:t,children:r}=e,s=oO(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=Te(s.ref,iO(a));return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};Ft.displayName="Presence";function oO(e){const[t,r]=p.useState(),s=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=aO(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Hd(s.current);o.current=l==="mounted"?c:"none"},[l]),Mt(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=Hd(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Mt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,m=f=>{const x=Hd(s.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=f=>{f.target===t&&(o.current=Hd(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(s.current=getComputedStyle(c)),r(c)},[])}}function Hd(e){return(e==null?void 0:e.animationName)||"none"}function iO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $r({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=lO({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:s,l=st(r),d=p.useCallback(c=>{if(o){const m=typeof c=="function"?c(e):c;m!==e&&l(m)}else a(c)},[o,e,a,l]);return[i,d]}function lO({defaultProp:e,onChange:t}){const r=p.useState(e),[s]=r,a=p.useRef(s),o=st(t);return p.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),r}var cO="VisuallyHidden",Jc=p.forwardRef((e,t)=>n.jsx(Ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jc.displayName=cO;var dO=Jc,Iv="ToastProvider",[Lv,uO,hO]=om("Toast"),[hC,mte]=Wn("Toast",[hO]),[mO,im]=hC(Iv),mC=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,d]=p.useState(null),[c,u]=p.useState(0),m=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Iv}\`. Expected non-empty \`string\`.`),n.jsx(Lv.Provider,{scope:t,children:n.jsx(mO,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>u(f=>f+1),[]),onToastRemove:p.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};mC.displayName=Iv;var pC="ToastViewport",pO=["F8"],Dx="toast.viewportPause",Rx="toast.viewportResume",fC=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=pO,label:a="Notifications ({hotkey})",...o}=e,i=im(pC,r),l=uO(r),d=p.useRef(null),c=p.useRef(null),u=p.useRef(null),m=p.useRef(null),h=Te(t,m,i.onViewportChange),f=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;p.useEffect(()=>{const w=j=>{var y;s.length!==0&&s.every(N=>j[N]||j.code===N)&&((y=m.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),p.useEffect(()=>{const w=d.current,j=m.current;if(v&&w&&j){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Dx);j.dispatchEvent(E),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Rx);j.dispatchEvent(E),i.isClosePausedRef.current=!1}},N=E=>{!w.contains(E.relatedTarget)&&y()},b=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",g),w.addEventListener("focusout",N),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",b),window.addEventListener("blur",g),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",g),window.removeEventListener("focus",y)}}},[v,i.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const g=l().map(y=>{const N=y.ref.current,b=[N,...PO(N)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return p.useEffect(()=>{const w=m.current;if(w){const j=g=>{var b,E,C;const y=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!y){const P=document.activeElement,O=g.shiftKey;if(g.target===w&&O){(b=c.current)==null||b.focus();return}const k=x({tabbingDirection:O?"backwards":"forwards"}),$=k.findIndex(A=>A===P);Vp(k.slice($+1))?g.preventDefault():O?(E=c.current)==null||E.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[l,x]),n.jsxs(rO,{ref:d,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(_x,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Vp(w)}}),n.jsx(Lv.Slot,{scope:r,children:n.jsx(Ce.ol,{tabIndex:-1,...o,ref:h})}),v&&n.jsx(_x,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Vp(w)}})]})});fC.displayName=pC;var xC="ToastFocusProxy",_x=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,o=im(xC,r);return n.jsx(Jc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&s()}})});_x.displayName=xC;var lm="Toast",fO="toast.swipeStart",xO="toast.swipeMove",gO="toast.swipeCancel",vO="toast.swipeEnd",gC=p.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,d]=$r({prop:s,defaultProp:a,onChange:o});return n.jsx(Ft,{present:r||l,children:n.jsx(wO,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:st(e.onPause),onResume:st(e.onResume),onSwipeStart:ue(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(e.onSwipeMove,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ue(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(e.onSwipeEnd,c=>{const{x:u,y:m}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});gC.displayName=lm;var[yO,jO]=hC(lm,{onClose(){}}),wO=p.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:f,...v}=e,x=im(lm,r),[w,j]=p.useState(null),g=Te(t,A=>j(A)),y=p.useRef(null),N=p.useRef(null),b=a||x.duration,E=p.useRef(0),C=p.useRef(b),P=p.useRef(0),{onToastAdd:O,onToastRemove:T}=x,_=st(()=>{var U;(w==null?void 0:w.contains(document.activeElement))&&((U=x.viewport)==null||U.focus()),i()}),k=p.useCallback(A=>{!A||A===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(_,A))},[_]);p.useEffect(()=>{const A=x.viewport;if(A){const U=()=>{k(C.current),c==null||c()},L=()=>{const F=new Date().getTime()-E.current;C.current=C.current-F,window.clearTimeout(P.current),d==null||d()};return A.addEventListener(Dx,L),A.addEventListener(Rx,U),()=>{A.removeEventListener(Dx,L),A.removeEventListener(Rx,U)}}},[x.viewport,b,d,c,k]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&k(b)},[o,b,x.isClosePausedRef,k]),p.useEffect(()=>(O(),()=>T()),[O,T]);const $=p.useMemo(()=>w?SC(w):null,[w]);return x.viewport?n.jsxs(n.Fragment,{children:[$&&n.jsx(NO,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),n.jsx(yO,{scope:r,onClose:_,children:gr.createPortal(n.jsx(Lv.ItemSlot,{scope:r,children:n.jsx(nO,{asChild:!0,onEscapeKeyDown:ue(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||_(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ue(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:ue(e.onPointerDown,A=>{A.button===0&&(y.current={x:A.clientX,y:A.clientY})}),onPointerMove:ue(e.onPointerMove,A=>{if(!y.current)return;const U=A.clientX-y.current.x,L=A.clientY-y.current.y,F=!!N.current,R=["left","right"].includes(x.swipeDirection),D=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=R?D(0,U):0,B=R?0:D(0,L),V=A.pointerType==="touch"?10:2,q={x:H,y:B},z={originalEvent:A,delta:q};F?(N.current=q,Bd(xO,m,z,{discrete:!1})):ew(q,x.swipeDirection,V)?(N.current=q,Bd(fO,u,z,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(U)>V||Math.abs(L)>V)&&(y.current=null)}),onPointerUp:ue(e.onPointerUp,A=>{const U=N.current,L=A.target;if(L.hasPointerCapture(A.pointerId)&&L.releasePointerCapture(A.pointerId),N.current=null,y.current=null,U){const F=A.currentTarget,R={originalEvent:A,delta:U};ew(U,x.swipeDirection,x.swipeThreshold)?Bd(vO,f,R,{discrete:!0}):Bd(gO,h,R,{discrete:!0}),F.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),NO=e=>{const{__scopeToast:t,children:r,...s}=e,a=im(lm,t),[o,i]=p.useState(!1),[l,d]=p.useState(!1);return CO(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:n.jsx(Qc,{asChild:!0,children:n.jsx(Jc,{...s,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},bO="ToastTitle",vC=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});vC.displayName=bO;var SO="ToastDescription",yC=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});yC.displayName=SO;var jC="ToastAction",wC=p.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(bC,{altText:r,asChild:!0,children:n.jsx($v,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jC}\`. Expected non-empty \`string\`.`),null)});wC.displayName=jC;var NC="ToastClose",$v=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=jO(NC,r);return n.jsx(bC,{asChild:!0,children:n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,a.onClose)})})});$v.displayName=NC;var bC=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function SC(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),EO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=s.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...SC(s))}}),t}function Bd(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ov(a,o):a.dispatchEvent(o)}var ew=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),o=s>a;return t==="left"||t==="right"?o&&s>r:!o&&a>r};function CO(e=()=>{}){const t=st(e);Mt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function EO(e){return e.nodeType===e.ELEMENT_NODE}function PO(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kO=mC,CC=fC,EC=gC,PC=vC,kC=yC,TC=wC,AC=$v;function MC(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MC(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function DC(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MC(e))&&(s&&(s+=" "),s+=t);return s}const tw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nw=DC,Zc=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return nw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],m=o==null?void 0:o[c];if(u===null)return null;const h=tw(u)||tw(m);return a[c][h]}),l=r&&Object.entries(r).reduce((c,u)=>{let[m,h]=u;return h===void 0||(c[m]=h),c},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:m,className:h,...f}=u;return Object.entries(f).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...o,...l}[x]):{...o,...l}[x]===w})?[...c,m,h]:c},[]);return nw(e,i,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:i,...l},d)=>p.createElement("svg",{ref:d,...AO,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:RC("lucide",a),...l},[...i.map(([c,u])=>p.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=p.forwardRef(({className:s,...a},o)=>p.createElement(MO,{ref:o,iconNode:t,className:RC(`lucide-${TO(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=le("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=le("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=le("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=le("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=le("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=le("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=le("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=le("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=le("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=le("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=le("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=le("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=le("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=le("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=le("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=le("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=le("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=le("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=le("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=le("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=le("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=le("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=le("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Bv="-",tI=e=>{const t=rI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(Bv);return l[0]===""&&l.length!==1&&l.shift(),qC(l,t)||nI(i)},getConflictingClassGroupIds:(i,l)=>{const d=r[i]||[];return l&&s[i]?[...d,...s[i]]:d}}},qC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?qC(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Bv);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},cw=/^\[(.+)\]$/,nI=e=>{if(cw.test(e)){const t=cw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rI=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return aI(Object.entries(e.classGroups),r).forEach(([o,i])=>{Vx(i,s,o,t)}),s},Vx=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:dw(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(sI(a)){Vx(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Vx(i,dw(t,o),r,s)})})},dw=(e,t)=>{let r=e;return t.split(Bv).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},sI=e=>e.isThemeGetter,aI=(e,t)=>t?e.map(([r,s])=>{const a=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,oI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},WC="!",iI=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],o=t.length,i=l=>{const d=[];let c=0,u=0,m;for(let w=0;w<l.length;w++){let j=l[w];if(c===0){if(j===a&&(s||l.slice(w,w+o)===t)){d.push(l.slice(u,w)),u=w+o;continue}if(j==="/"){m=w;continue}}j==="["?c++:j==="]"&&c--}const h=d.length===0?l:l.substring(u),f=h.startsWith(WC),v=f?h.substring(1):h,x=m&&m>u?m-u:void 0;return{modifiers:d,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},lI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},cI=e=>({cache:oI(e.cacheSize),parseClassName:iI(e),...tI(e)}),dI=/\s+/,uI=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(dI);let l="";for(let d=i.length-1;d>=0;d-=1){const c=i[d],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let v=!!f,x=s(v?h.substring(0,f):h);if(!x){if(!v){l=c+(l.length>0?" "+l:l);continue}if(x=s(h),!x){l=c+(l.length>0?" "+l:l);continue}v=!1}const w=lI(u).join(":"),j=m?w+WC:w,g=j+x;if(o.includes(g))continue;o.push(g);const y=a(x,v);for(let N=0;N<y.length;++N){const b=y[N];o.push(j+b)}l=c+(l.length>0?" "+l:l)}return l};function hI(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KC(t))&&(s&&(s+=" "),s+=r);return s}const KC=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=KC(e[s]))&&(r&&(r+=" "),r+=t);return r};function mI(e,...t){let r,s,a,o=i;function i(d){const c=t.reduce((u,m)=>m(u),e());return r=cI(c),s=r.cache.get,a=r.cache.set,o=l,l(d)}function l(d){const c=s(d);if(c)return c;const u=uI(d,r);return a(d,u),u}return function(){return o(hI.apply(null,arguments))}}const Xe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YC=/^\[(?:([a-z-]+):)?(.+)\]$/i,pI=/^\d+\/\d+$/,fI=new Set(["px","full","screen"]),xI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=e=>ci(e)||fI.has(e)||pI.test(e),Ps=e=>sl(e,"length",kI),ci=e=>!!e&&!Number.isNaN(Number(e)),qp=e=>sl(e,"number",ci),El=e=>!!e&&Number.isInteger(Number(e)),wI=e=>e.endsWith("%")&&ci(e.slice(0,-1)),Ae=e=>YC.test(e),ks=e=>xI.test(e),NI=new Set(["length","size","percentage"]),bI=e=>sl(e,NI,GC),SI=e=>sl(e,"position",GC),CI=new Set(["image","url"]),EI=e=>sl(e,CI,AI),PI=e=>sl(e,"",TI),Pl=()=>!0,sl=(e,t,r)=>{const s=YC.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},kI=e=>gI.test(e)&&!vI.test(e),GC=()=>!1,TI=e=>yI.test(e),AI=e=>jI.test(e),MI=()=>{const e=Xe("colors"),t=Xe("spacing"),r=Xe("blur"),s=Xe("brightness"),a=Xe("borderColor"),o=Xe("borderRadius"),i=Xe("borderSpacing"),l=Xe("borderWidth"),d=Xe("contrast"),c=Xe("grayscale"),u=Xe("hueRotate"),m=Xe("invert"),h=Xe("gap"),f=Xe("gradientColorStops"),v=Xe("gradientColorStopPositions"),x=Xe("inset"),w=Xe("margin"),j=Xe("opacity"),g=Xe("padding"),y=Xe("saturate"),N=Xe("scale"),b=Xe("sepia"),E=Xe("skew"),C=Xe("space"),P=Xe("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ae,t],k=()=>[Ae,t],$=()=>["",Yr,Ps],A=()=>["auto",ci,Ae],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ae],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ci,Ae];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Yr,Ps],blur:["none","",ks,Ae],brightness:B(),borderColor:[e],borderRadius:["none","","full",ks,Ae],borderSpacing:k(),borderWidth:$(),contrast:B(),grayscale:D(),hueRotate:B(),invert:D(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[wI,Ps],inset:_(),margin:_(),opacity:B(),padding:k(),saturate:B(),scale:B(),sepia:D(),skew:B(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ae]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,Ae]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",El,Ae]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",El,Ae]},Ae]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[El,Ae]},Ae]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qp]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",ci,qp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Ps]}],"underline-offset":[{"underline-offset":["auto",Yr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),SI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Yr,Ae]}],"outline-w":[{outline:[Yr,Ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Yr,Ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,PI]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ks,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[El,Ae]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yr,Ps,qp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DI=mI(MI);function ie(...e){return DI(DC(e))}const RI=kO,XC=p.forwardRef(({className:e,...t},r)=>n.jsx(CC,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));XC.displayName=CC.displayName;const _I=Zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QC=p.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(EC,{ref:s,className:ie(_I({variant:t}),e),...r}));QC.displayName=EC.displayName;const FI=p.forwardRef(({className:e,...t},r)=>n.jsx(TC,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FI.displayName=TC.displayName;const JC=p.forwardRef(({className:e,...t},r)=>n.jsx(AC,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(lt,{className:"h-4 w-4"})}));JC.displayName=AC.displayName;const ZC=p.forwardRef(({className:e,...t},r)=>n.jsx(PC,{ref:r,className:ie("text-sm font-semibold",e),...t}));ZC.displayName=PC.displayName;const e2=p.forwardRef(({className:e,...t},r)=>n.jsx(kC,{ref:r,className:ie("text-sm opacity-90",e),...t}));e2.displayName=kC.displayName;function OI(){const{toasts:e}=wt();return n.jsxs(RI,{children:[e.map(function({id:t,title:r,description:s,action:a,...o}){return n.jsxs(QC,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(ZC,{children:r}),s&&n.jsx(e2,{children:s})]}),a,n.jsx(JC,{})]},t)}),n.jsx(XC,{})]})}var uw=["light","dark"],II="(prefers-color-scheme: dark)",LI=p.createContext(void 0),$I={setTheme:e=>{},themes:[]},UI=()=>{var e;return(e=p.useContext(LI))!=null?e:$I};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:d})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=a?uw.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,x=!1,w=!0)=>{let j=i?i[v]:v,g=x?v+"|| ''":`'${j}'`,y="";return a&&w&&!x&&uw.includes(v)&&(y+=`d.style.colorScheme = '${v}';`),r==="class"?x||j?y+=`c.add(${g})`:y+="null":j&&(y+=`d[s](n,${g})`),y},f=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${II}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${m}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:f}})});var VI=e=>{switch(e){case"success":return zI;case"info":return WI;case"warning":return qI;case"error":return KI;default:return null}},HI=Array(12).fill(0),BI=({visible:e})=>me.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},me.createElement("div",{className:"sonner-spinner"},HI.map((t,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zI=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qI=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WI=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KI=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YI=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Hx=1,GI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hx++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async o=>{if(QI(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Hx++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},gn=new GI,XI=(e,t)=>{let r=(t==null?void 0:t.id)||Hx++;return gn.addToast({title:e,...t,id:r}),r},QI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JI=XI,ZI=()=>gn.toasts,pt=Object.assign(JI,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:ZI});function e3(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}e3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zd(e){return e.label!==void 0}var t3=3,n3="32px",r3=4e3,s3=356,a3=14,o3=20,i3=200;function l3(...e){return e.filter(Boolean).join(" ")}var c3=e=>{var t,r,s,a,o,i,l,d,c,u;let{invert:m,toast:h,unstyled:f,interacting:v,setHeights:x,visibleToasts:w,heights:j,index:g,toasts:y,expanded:N,removeToast:b,defaultRichColors:E,closeButton:C,style:P,cancelButtonStyle:O,actionButtonStyle:T,className:_="",descriptionClassName:k="",duration:$,position:A,gap:U,loadingIcon:L,expandByDefault:F,classNames:R,icons:D,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:B,cn:V}=e,[q,z]=me.useState(!1),[G,Y]=me.useState(!1),[K,ne]=me.useState(!1),[oe,fe]=me.useState(!1),[xe,he]=me.useState(0),[ve,we]=me.useState(0),Re=me.useRef(null),Fe=me.useRef(null),Et=g===0,Mn=g+1<=w,Be=h.type,Gn=h.dismissible!==!1,Co=h.className||"",Ta=h.descriptionClassName||"",jr=me.useMemo(()=>j.findIndex(ke=>ke.toastId===h.id)||0,[j,h.id]),fl=me.useMemo(()=>{var ke;return(ke=h.closeButton)!=null?ke:C},[h.closeButton,C]),Aa=me.useMemo(()=>h.duration||$||r3,[h.duration,$]),wr=me.useRef(0),Dn=me.useRef(0),xl=me.useRef(0),Cs=me.useRef(null),[Eo,ip]=A.split("-"),wd=me.useMemo(()=>j.reduce((ke,ze,He)=>He>=jr?ke:ke+ze.height,0),[j,jr]),Nd=YI(),lp=h.invert||m,gl=Be==="loading";Dn.current=me.useMemo(()=>jr*U+wd,[jr,wd]),me.useEffect(()=>{z(!0)},[]),me.useLayoutEffect(()=>{if(!q)return;let ke=Fe.current,ze=ke.style.height;ke.style.height="auto";let He=ke.getBoundingClientRect().height;ke.style.height=ze,we(He),x(Rn=>Rn.find(_n=>_n.toastId===h.id)?Rn.map(_n=>_n.toastId===h.id?{..._n,height:He}:_n):[{toastId:h.id,height:He,position:h.position},...Rn])},[q,h.title,h.description,x,h.id]);let Nr=me.useCallback(()=>{Y(!0),he(Dn.current),x(ke=>ke.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{b(h)},i3)},[h,b,x,Dn]);me.useEffect(()=>{if(h.promise&&Be==="loading"||h.duration===1/0||h.type==="loading")return;let ke,ze=Aa;return N||v||B&&Nd?(()=>{if(xl.current<wr.current){let He=new Date().getTime()-wr.current;ze=ze-He}xl.current=new Date().getTime()})():ze!==1/0&&(wr.current=new Date().getTime(),ke=setTimeout(()=>{var He;(He=h.onAutoClose)==null||He.call(h,h),Nr()},ze)),()=>clearTimeout(ke)},[N,v,F,h,Aa,Nr,h.promise,Be,B,Nd]),me.useEffect(()=>{let ke=Fe.current;if(ke){let ze=ke.getBoundingClientRect().height;return we(ze),x(He=>[{toastId:h.id,height:ze,position:h.position},...He]),()=>x(He=>He.filter(Rn=>Rn.toastId!==h.id))}},[x,h.id]),me.useEffect(()=>{h.delete&&Nr()},[Nr,h.delete]);function cp(){return D!=null&&D.loading?me.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},D.loading):L?me.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},L):me.createElement(BI,{visible:Be==="loading"})}return me.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Fe,className:V(_,Co,R==null?void 0:R.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Be],(r=h==null?void 0:h.classNames)==null?void 0:r[Be]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":q,"data-promise":!!h.promise,"data-removed":G,"data-visible":Mn,"data-y-position":Eo,"data-x-position":ip,"data-index":g,"data-front":Et,"data-swiping":K,"data-dismissible":Gn,"data-type":Be,"data-invert":lp,"data-swipe-out":oe,"data-expanded":!!(N||F&&q),style:{"--index":g,"--toasts-before":g,"--z-index":y.length-g,"--offset":`${G?xe:Dn.current}px`,"--initial-height":F?"auto":`${ve}px`,...P,...h.style},onPointerDown:ke=>{gl||!Gn||(Re.current=new Date,he(Dn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(ne(!0),Cs.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,ze,He,Rn;if(oe||!Gn)return;Cs.current=null;let _n=Number(((ke=Fe.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Po=new Date().getTime()-((ze=Re.current)==null?void 0:ze.getTime()),dp=Math.abs(_n)/Po;if(Math.abs(_n)>=o3||dp>.11){he(Dn.current),(He=h.onDismiss)==null||He.call(h,h),Nr(),fe(!0);return}(Rn=Fe.current)==null||Rn.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:ke=>{var ze;if(!Cs.current||!Gn)return;let He=ke.clientY-Cs.current.y,Rn=ke.clientX-Cs.current.x,_n=(Eo==="top"?Math.min:Math.max)(0,He),Po=ke.pointerType==="touch"?10:2;Math.abs(_n)>Po?(ze=Fe.current)==null||ze.style.setProperty("--swipe-amount",`${He}px`):Math.abs(Rn)>Po&&(Cs.current=null)}},fl&&!h.jsx?me.createElement("button",{"aria-label":H,"data-disabled":gl,"data-close-button":!0,onClick:gl||!Gn?()=>{}:()=>{var ke;Nr(),(ke=h.onDismiss)==null||ke.call(h,h)},className:V(R==null?void 0:R.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||me.isValidElement(h.title)?h.jsx||h.title:me.createElement(me.Fragment,null,Be||h.icon||h.promise?me.createElement("div",{"data-icon":"",className:V(R==null?void 0:R.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||cp():null,h.type!=="loading"?h.icon||(D==null?void 0:D[Be])||VI(Be):null):null,me.createElement("div",{"data-content":"",className:V(R==null?void 0:R.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},me.createElement("div",{"data-title":"",className:V(R==null?void 0:R.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?me.createElement("div",{"data-description":"",className:V(k,Ta,R==null?void 0:R.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},h.description):null),me.isValidElement(h.cancel)?h.cancel:h.cancel&&zd(h.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ke=>{var ze,He;zd(h.cancel)&&Gn&&((He=(ze=h.cancel).onClick)==null||He.call(ze,ke),Nr())},className:V(R==null?void 0:R.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,me.isValidElement(h.action)?h.action:h.action&&zd(h.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:ke=>{var ze,He;zd(h.action)&&(ke.defaultPrevented||((He=(ze=h.action).onClick)==null||He.call(ze,ke),Nr()))},className:V(R==null?void 0:R.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function hw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var d3=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:d="light",richColors:c,duration:u,style:m,visibleToasts:h=t3,toastOptions:f,dir:v=hw(),gap:x=a3,loadingIcon:w,icons:j,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:y,cn:N=l3}=e,[b,E]=me.useState([]),C=me.useMemo(()=>Array.from(new Set([r].concat(b.filter(B=>B.position).map(B=>B.position)))),[b,r]),[P,O]=me.useState([]),[T,_]=me.useState(!1),[k,$]=me.useState(!1),[A,U]=me.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=me.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=me.useRef(null),D=me.useRef(!1),H=me.useCallback(B=>{var V;(V=b.find(q=>q.id===B.id))!=null&&V.delete||gn.dismiss(B.id),E(q=>q.filter(({id:z})=>z!==B.id))},[b]);return me.useEffect(()=>gn.subscribe(B=>{if(B.dismiss){E(V=>V.map(q=>q.id===B.id?{...q,delete:!0}:q));return}setTimeout(()=>{sm.flushSync(()=>{E(V=>{let q=V.findIndex(z=>z.id===B.id);return q!==-1?[...V.slice(0,q),{...V[q],...B},...V.slice(q+1)]:[B,...V]})})})}),[]),me.useEffect(()=>{if(d!=="system"){U(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{U(B?"dark":"light")})},[d]),me.useEffect(()=>{b.length<=1&&_(!1)},[b]),me.useEffect(()=>{let B=V=>{var q,z;s.every(G=>V[G]||V.code===G)&&(_(!0),(q=L.current)==null||q.focus()),V.code==="Escape"&&(document.activeElement===L.current||(z=L.current)!=null&&z.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),me.useEffect(()=>{if(L.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}},[L.current]),b.length?me.createElement("section",{"aria-label":`${g} ${F}`,tabIndex:-1},C.map((B,V)=>{var q;let[z,G]=B.split("-");return me.createElement("ol",{key:B,dir:v==="auto"?hw():v,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":z,"data-x-position":G,style:{"--front-toast-height":`${((q=P[0])==null?void 0:q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||n3,"--width":`${s3}px`,"--gap":`${x}px`,...m},onBlur:Y=>{D.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||D.current||(D.current=!0,R.current=Y.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{k||_(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},b.filter(Y=>!Y.position&&V===0||Y.position===B).map((Y,K)=>{var ne,oe;return me.createElement(c3,{key:Y.id,icons:j,index:K,toast:Y,defaultRichColors:c,duration:(ne=f==null?void 0:f.duration)!=null?ne:u,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:t,visibleToasts:h,closeButton:(oe=f==null?void 0:f.closeButton)!=null?oe:o,interacting:k,position:B,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:H,toasts:b.filter(fe=>fe.position==Y.position),heights:P.filter(fe=>fe.position==Y.position),setHeights:O,expandByDefault:a,gap:x,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:y,cn:N})}))})):null};const u3=({...e})=>{const{theme:t="system"}=UI();return n.jsx(d3,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var h3=Wc.useId||(()=>{}),m3=0;function cr(e){const[t,r]=p.useState(h3());return Mt(()=>{r(s=>s??String(m3++))},[e]),t?`radix-${t}`:""}const p3=["top","right","bottom","left"],ma=Math.min,jn=Math.max,dh=Math.round,qd=Math.floor,pa=e=>({x:e,y:e}),f3={left:"right",right:"left",bottom:"top",top:"bottom"},x3={start:"end",end:"start"};function Bx(e,t,r){return jn(e,ma(t,r))}function ps(e,t){return typeof e=="function"?e(t):e}function fs(e){return e.split("-")[0]}function al(e){return e.split("-")[1]}function zv(e){return e==="x"?"y":"x"}function qv(e){return e==="y"?"height":"width"}function fa(e){return["top","bottom"].includes(fs(e))?"y":"x"}function Wv(e){return zv(fa(e))}function g3(e,t,r){r===void 0&&(r=!1);const s=al(e),a=Wv(e),o=qv(a);let i=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=uh(i)),[i,uh(i)]}function v3(e){const t=uh(e);return[zx(e),t,zx(t)]}function zx(e){return e.replace(/start|end/g,t=>x3[t])}function y3(e,t,r){const s=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?o:i;default:return[]}}function j3(e,t,r,s){const a=al(e);let o=y3(fs(e),r==="start",s);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(zx)))),o}function uh(e){return e.replace(/left|right|bottom|top/g,t=>f3[t])}function w3(e){return{top:0,right:0,bottom:0,left:0,...e}}function t2(e){return typeof e!="number"?w3(e):{top:e,right:e,bottom:e,left:e}}function hh(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function mw(e,t,r){let{reference:s,floating:a}=e;const o=fa(t),i=Wv(t),l=qv(i),d=fs(t),c=o==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let f;switch(d){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:m};break;case"left":f={x:s.x-a.width,y:m};break;default:f={x:s.x,y:s.y}}switch(al(t)){case"start":f[i]-=h*(r&&c?-1:1);break;case"end":f[i]+=h*(r&&c?-1:1);break}return f}const N3=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=mw(c,s,d),h=s,f={},v=0;for(let x=0;x<l.length;x++){const{name:w,fn:j}=l[x],{x:g,y,data:N,reset:b}=await j({x:u,y:m,initialPlacement:s,placement:h,strategy:a,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,m=y??m,f={...f,[w]:{...f[w],...N}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:m}=mw(c,h,d)),x=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:f}};async function bc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:i,elements:l,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=ps(t,e),v=t2(f),w=l[h?m==="floating"?"reference":"floating":m],j=hh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:d})),g=m==="floating"?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},b=hh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:d}):g);return{top:(j.top-b.top+v.top)/N.y,bottom:(b.bottom-j.bottom+v.bottom)/N.y,left:(j.left-b.left+v.left)/N.x,right:(b.right-j.right+v.right)/N.x}}const b3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:o,platform:i,elements:l,middlewareData:d}=t,{element:c,padding:u=0}=ps(e,t)||{};if(c==null)return{};const m=t2(u),h={x:r,y:s},f=Wv(a),v=qv(f),x=await i.getDimensions(c),w=f==="y",j=w?"top":"left",g=w?"bottom":"right",y=w?"clientHeight":"clientWidth",N=o.reference[v]+o.reference[f]-h[f]-o.floating[v],b=h[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[y]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=l.floating[y]||o.floating[v]);const P=N/2-b/2,O=C/2-x[v]/2-1,T=ma(m[j],O),_=ma(m[g],O),k=T,$=C-x[v]-_,A=C/2-x[v]/2+P,U=Bx(k,A,$),L=!d.arrow&&al(a)!=null&&A!==U&&o.reference[v]/2-(A<k?T:_)-x[v]/2<0,F=L?A<k?A-k:A-$:0;return{[f]:h[f]+F,data:{[f]:U,centerOffset:A-U-F,...L&&{alignmentOffset:F}},reset:L}}}),S3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:d,elements:c}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=ps(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const j=fs(a),g=fa(l),y=fs(l)===l,N=await(d.isRTL==null?void 0:d.isRTL(c.floating)),b=h||(y||!x?[uh(l)]:v3(l)),E=v!=="none";!h&&E&&b.push(...j3(l,x,v,N));const C=[l,...b],P=await bc(t,w),O=[];let T=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&O.push(P[j]),m){const A=g3(a,i,N);O.push(P[A[0]],P[A[1]])}if(T=[...T,{placement:a,overflows:O}],!O.every(A=>A<=0)){var _,k;const A=(((_=o.flip)==null?void 0:_.index)||0)+1,U=C[A];if(U)return{data:{index:A,overflows:T},reset:{placement:U}};let L=(k=T.filter(F=>F.overflows[0]<=0).sort((F,R)=>F.overflows[1]-R.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(f){case"bestFit":{var $;const F=($=T.filter(R=>{if(E){const D=fa(R.placement);return D===g||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:$[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function pw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fw(e){return p3.some(t=>e[t]>=0)}const C3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ps(e,t);switch(s){case"referenceHidden":{const o=await bc(t,{...a,elementContext:"reference"}),i=pw(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:fw(i)}}}case"escaped":{const o=await bc(t,{...a,altBoundary:!0}),i=pw(o,r.floating);return{data:{escapedOffsets:i,escaped:fw(i)}}}default:return{}}}}};async function E3(e,t){const{placement:r,platform:s,elements:a}=e,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),i=fs(r),l=al(r),d=fa(r)==="y",c=["left","top"].includes(i)?-1:1,u=o&&d?-1:1,m=ps(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),d?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const P3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:o,placement:i,middlewareData:l}=t,d=await E3(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}},k3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:j,y:g}=w;return{x:j,y:g}}},...d}=ps(e,t),c={x:r,y:s},u=await bc(t,d),m=fa(fs(a)),h=zv(m);let f=c[h],v=c[m];if(o){const w=h==="y"?"top":"left",j=h==="y"?"bottom":"right",g=f+u[w],y=f-u[j];f=Bx(g,f,y)}if(i){const w=m==="y"?"top":"left",j=m==="y"?"bottom":"right",g=v+u[w],y=v-u[j];v=Bx(g,v,y)}const x=l.fn({...t,[h]:f,[m]:v});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[h]:o,[m]:i}}}}}},T3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:c=!0}=ps(e,t),u={x:r,y:s},m=fa(a),h=zv(m);let f=u[h],v=u[m];const x=ps(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const y=h==="y"?"height":"width",N=o.reference[h]-o.floating[y]+w.mainAxis,b=o.reference[h]+o.reference[y]-w.mainAxis;f<N?f=N:f>b&&(f=b)}if(c){var j,g;const y=h==="y"?"width":"height",N=["top","left"].includes(fs(a)),b=o.reference[m]-o.floating[y]+(N&&((j=i.offset)==null?void 0:j[m])||0)+(N?0:w.crossAxis),E=o.reference[m]+o.reference[y]+(N?0:((g=i.offset)==null?void 0:g[m])||0)-(N?w.crossAxis:0);v<b?v=b:v>E&&(v=E)}return{[h]:f,[m]:v}}}},A3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:d=()=>{},...c}=ps(e,t),u=await bc(t,c),m=fs(a),h=al(a),f=fa(a)==="y",{width:v,height:x}=o.floating;let w,j;m==="top"||m==="bottom"?(w=m,j=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(j=m,w=h==="end"?"top":"bottom");const g=x-u.top-u.bottom,y=v-u.left-u.right,N=ma(x-u[w],g),b=ma(v-u[j],y),E=!t.middlewareData.shift;let C=N,P=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=y),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=g),E&&!h){const T=jn(u.left,0),_=jn(u.right,0),k=jn(u.top,0),$=jn(u.bottom,0);f?P=v-2*(T!==0||_!==0?T+_:jn(u.left,u.right)):C=x-2*(k!==0||$!==0?k+$:jn(u.top,u.bottom))}await d({...t,availableWidth:P,availableHeight:C});const O=await i.getDimensions(l.floating);return v!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function hm(){return typeof window<"u"}function ol(e){return n2(e)?(e.nodeName||"").toLowerCase():"#document"}function En(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(n2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n2(e){return hm()?e instanceof Node||e instanceof En(e).Node:!1}function mr(e){return hm()?e instanceof Element||e instanceof En(e).Element:!1}function Ur(e){return hm()?e instanceof HTMLElement||e instanceof En(e).HTMLElement:!1}function xw(e){return!hm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof En(e).ShadowRoot}function rd(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function M3(e){return["table","td","th"].includes(ol(e))}function mm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kv(e){const t=Yv(),r=mr(e)?pr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function D3(e){let t=xa(e);for(;Ur(t)&&!Fi(t);){if(Kv(t))return t;if(mm(t))return null;t=xa(t)}return null}function Yv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fi(e){return["html","body","#document"].includes(ol(e))}function pr(e){return En(e).getComputedStyle(e)}function pm(e){return mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xa(e){if(ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xw(e)&&e.host||Br(e);return xw(t)?t.host:t}function r2(e){const t=xa(e);return Fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ur(t)&&rd(t)?t:r2(t)}function Sc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=r2(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),i=En(a);if(o){const l=qx(i);return t.concat(i,i.visualViewport||[],rd(a)?a:[],l&&r?Sc(l):[])}return t.concat(a,Sc(a,[],r))}function qx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function s2(e){const t=pr(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Ur(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:s,l=dh(r)!==o||dh(s)!==i;return l&&(r=o,s=i),{width:r,height:s,$:l}}function Gv(e){return mr(e)?e:e.contextElement}function di(e){const t=Gv(e);if(!Ur(t))return pa(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:o}=s2(t);let i=(o?dh(r.width):r.width)/s,l=(o?dh(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const R3=pa(0);function a2(e){const t=En(e);return!Yv()||!t.visualViewport?R3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==En(e)?!1:t}function so(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=Gv(e);let i=pa(1);t&&(s?mr(s)&&(i=di(s)):i=di(e));const l=_3(o,r,s)?a2(o):pa(0);let d=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const h=En(o),f=s&&mr(s)?En(s):s;let v=h,x=qx(v);for(;x&&s&&f!==v;){const w=di(x),j=x.getBoundingClientRect(),g=pr(x),y=j.left+(x.clientLeft+parseFloat(g.paddingLeft))*w.x,N=j.top+(x.clientTop+parseFloat(g.paddingTop))*w.y;d*=w.x,c*=w.y,u*=w.x,m*=w.y,d+=y,c+=N,v=En(x),x=qx(v)}}return hh({width:u,height:m,x:d,y:c})}function F3(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const o=a==="fixed",i=Br(s),l=t?mm(t.floating):!1;if(s===i||l&&o)return r;let d={scrollLeft:0,scrollTop:0},c=pa(1);const u=pa(0),m=Ur(s);if((m||!m&&!o)&&((ol(s)!=="body"||rd(i))&&(d=pm(s)),Ur(s))){const h=so(s);c=di(s),u.x=h.x+s.clientLeft,u.y=h.y+s.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-d.scrollLeft*c.x+u.x,y:r.y*c.y-d.scrollTop*c.y+u.y}}function O3(e){return Array.from(e.getClientRects())}function Wx(e,t){const r=pm(e).scrollLeft;return t?t.left+r:so(Br(e)).left+r}function I3(e){const t=Br(e),r=pm(e),s=e.ownerDocument.body,a=jn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=jn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+Wx(e);const l=-r.scrollTop;return pr(s).direction==="rtl"&&(i+=jn(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:i,y:l}}function L3(e,t){const r=En(e),s=Br(e),a=r.visualViewport;let o=s.clientWidth,i=s.clientHeight,l=0,d=0;if(a){o=a.width,i=a.height;const c=Yv();(!c||c&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:l,y:d}}function $3(e,t){const r=so(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,o=Ur(e)?di(e):pa(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,d=a*o.x,c=s*o.y;return{width:i,height:l,x:d,y:c}}function gw(e,t,r){let s;if(t==="viewport")s=L3(e,r);else if(t==="document")s=I3(Br(e));else if(mr(t))s=$3(t,r);else{const a=a2(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return hh(s)}function o2(e,t){const r=xa(e);return r===t||!mr(r)||Fi(r)?!1:pr(r).position==="fixed"||o2(r,t)}function U3(e,t){const r=t.get(e);if(r)return r;let s=Sc(e,[],!1).filter(l=>mr(l)&&ol(l)!=="body"),a=null;const o=pr(e).position==="fixed";let i=o?xa(e):e;for(;mr(i)&&!Fi(i);){const l=pr(i),d=Kv(i);!d&&l.position==="fixed"&&(a=null),(o?!d&&!a:!d&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||rd(i)&&!d&&o2(e,i))?s=s.filter(u=>u!==i):a=l,i=xa(i)}return t.set(e,s),s}function V3(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const i=[...r==="clippingAncestors"?mm(t)?[]:U3(t,this._c):[].concat(r),s],l=i[0],d=i.reduce((c,u)=>{const m=gw(t,u,a);return c.top=jn(m.top,c.top),c.right=ma(m.right,c.right),c.bottom=ma(m.bottom,c.bottom),c.left=jn(m.left,c.left),c},gw(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function H3(e){const{width:t,height:r}=s2(e);return{width:t,height:r}}function B3(e,t,r){const s=Ur(t),a=Br(t),o=r==="fixed",i=so(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const d=pa(0);if(s||!s&&!o)if((ol(t)!=="body"||rd(a))&&(l=pm(t)),s){const f=so(t,!0,o,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else a&&(d.x=Wx(a));let c=0,u=0;if(a&&!s&&!o){const f=a.getBoundingClientRect();u=f.top+l.scrollTop,c=f.left+l.scrollLeft-Wx(a,f)}const m=i.left+l.scrollLeft-d.x-c,h=i.top+l.scrollTop-d.y-u;return{x:m,y:h,width:i.width,height:i.height}}function Wp(e){return pr(e).position==="static"}function vw(e,t){if(!Ur(e)||pr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Br(e)===r&&(r=r.ownerDocument.body),r}function i2(e,t){const r=En(e);if(mm(e))return r;if(!Ur(e)){let a=xa(e);for(;a&&!Fi(a);){if(mr(a)&&!Wp(a))return a;a=xa(a)}return r}let s=vw(e,t);for(;s&&M3(s)&&Wp(s);)s=vw(s,t);return s&&Fi(s)&&Wp(s)&&!Kv(s)?r:s||D3(e)||r}const z3=async function(e){const t=this.getOffsetParent||i2,r=this.getDimensions,s=await r(e.floating);return{reference:B3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function q3(e){return pr(e).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:F3,getDocumentElement:Br,getClippingRect:V3,getOffsetParent:i2,getElementRects:z3,getClientRects:O3,getDimensions:H3,getScale:di,isElement:mr,isRTL:q3};function K3(e,t){let r=null,s;const a=Br(e);function o(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),o();const{left:c,top:u,width:m,height:h}=e.getBoundingClientRect();if(l||t(),!m||!h)return;const f=qd(u),v=qd(a.clientWidth-(c+m)),x=qd(a.clientHeight-(u+h)),w=qd(c),g={rootMargin:-f+"px "+-v+"px "+-x+"px "+-w+"px",threshold:jn(0,ma(1,d))||1};let y=!0;function N(b){const E=b[0].intersectionRatio;if(E!==d){if(!y)return i();E?i(!1,E):s=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{r=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return i(!0),o}function l2(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,c=Gv(e),u=a||o?[...c?Sc(c):[],...Sc(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),o&&j.addEventListener("resize",r)});const m=c&&l?K3(c,r):null;let h=-1,f=null;i&&(f=new ResizeObserver(j=>{let[g]=j;g&&g.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),r()}),c&&!d&&f.observe(c),f.observe(t));let v,x=d?so(e):null;d&&w();function w(){const j=so(e);x&&(j.x!==x.x||j.y!==x.y||j.width!==x.width||j.height!==x.height)&&r(),x=j,v=requestAnimationFrame(w)}return r(),()=>{var j;u.forEach(g=>{a&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),m==null||m(),(j=f)==null||j.disconnect(),f=null,d&&cancelAnimationFrame(v)}}const Y3=P3,G3=k3,X3=S3,Q3=A3,J3=C3,yw=b3,Z3=T3,eL=(e,t,r)=>{const s=new Map,a={platform:W3,...r},o={...a.platform,_c:s};return N3(e,t,{...a,platform:o})};var ku=typeof document<"u"?p.useLayoutEffect:p.useEffect;function mh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!mh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!mh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function c2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jw(e,t){const r=c2(e);return Math.round(t*r)/r}function Kp(e){const t=p.useRef(e);return ku(()=>{t.current=e}),t}function d2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:d,open:c}=e,[u,m]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=p.useState(s);mh(h,s)||f(s);const[v,x]=p.useState(null),[w,j]=p.useState(null),g=p.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[]),y=p.useCallback(R=>{R!==C.current&&(C.current=R,j(R))},[]),N=o||v,b=i||w,E=p.useRef(null),C=p.useRef(null),P=p.useRef(u),O=d!=null,T=Kp(d),_=Kp(a),k=Kp(c),$=p.useCallback(()=>{if(!E.current||!C.current)return;const R={placement:t,strategy:r,middleware:h};_.current&&(R.platform=_.current),eL(E.current,C.current,R).then(D=>{const H={...D,isPositioned:k.current!==!1};A.current&&!mh(P.current,H)&&(P.current=H,gr.flushSync(()=>{m(H)}))})},[h,t,r,_,k]);ku(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[c]);const A=p.useRef(!1);ku(()=>(A.current=!0,()=>{A.current=!1}),[]),ku(()=>{if(N&&(E.current=N),b&&(C.current=b),N&&b){if(T.current)return T.current(N,b,$);$()}},[N,b,$,T,O]);const U=p.useMemo(()=>({reference:E,floating:C,setReference:g,setFloating:y}),[g,y]),L=p.useMemo(()=>({reference:N,floating:b}),[N,b]),F=p.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const D=jw(L.floating,u.x),H=jw(L.floating,u.y);return l?{...R,transform:"translate("+D+"px, "+H+"px)",...c2(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,l,L.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:$,refs:U,elements:L,floatingStyles:F}),[u,$,U,L,F])}const tL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?yw({element:s.current,padding:a}).fn(r):{}:s?yw({element:s,padding:a}).fn(r):{}}}},u2=(e,t)=>({...Y3(e),options:[e,t]}),h2=(e,t)=>({...G3(e),options:[e,t]}),m2=(e,t)=>({...Z3(e),options:[e,t]}),p2=(e,t)=>({...X3(e),options:[e,t]}),f2=(e,t)=>({...Q3(e),options:[e,t]}),x2=(e,t)=>({...J3(e),options:[e,t]}),g2=(e,t)=>({...tL(e),options:[e,t]});var nL="Arrow",v2=p.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...o}=e;return n.jsx(Ce.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});v2.displayName=nL;var rL=v2;function sL(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...v}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,aL(a,...t)]}function aL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Xv(e){const[t,r]=p.useState(void 0);return Mt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Qv="Popper",[y2,il]=sL(Qv),[oL,j2]=y2(Qv),w2=e=>{const{__scopePopper:t,children:r}=e,[s,a]=p.useState(null);return n.jsx(oL,{scope:t,anchor:s,onAnchorChange:a,children:r})};w2.displayName=Qv;var N2="PopperAnchor",b2=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,o=j2(N2,r),i=p.useRef(null),l=Te(t,i);return p.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:n.jsx(Ce.div,{...a,ref:l})});b2.displayName=N2;var Jv="PopperContent",[iL,lL]=y2(Jv),S2=p.forwardRef((e,t)=>{var K,ne,oe,fe,xe,he;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...x}=e,w=j2(Jv,r),[j,g]=p.useState(null),y=Te(t,ve=>g(ve)),[N,b]=p.useState(null),E=Xv(N),C=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,O=s+(o!=="center"?"-"+o:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(c)?c:[c],k=_.length>0,$={padding:T,boundary:_.filter(dL),altBoundary:k},{refs:A,floatingStyles:U,placement:L,isPositioned:F,middlewareData:R}=d2({strategy:"fixed",placement:O,whileElementsMounted:(...ve)=>l2(...ve,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[u2({mainAxis:a+P,alignmentAxis:i}),d&&h2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?m2():void 0,...$}),d&&p2({...$}),f2({...$,apply:({elements:ve,rects:we,availableWidth:Re,availableHeight:Fe})=>{const{width:Et,height:Mn}=we.reference,Be=ve.floating.style;Be.setProperty("--radix-popper-available-width",`${Re}px`),Be.setProperty("--radix-popper-available-height",`${Fe}px`),Be.setProperty("--radix-popper-anchor-width",`${Et}px`),Be.setProperty("--radix-popper-anchor-height",`${Mn}px`)}}),N&&g2({element:N,padding:l}),uL({arrowWidth:C,arrowHeight:P}),h&&x2({strategy:"referenceHidden",...$})]}),[D,H]=P2(L),B=st(v);Mt(()=>{F&&(B==null||B())},[F,B]);const V=(K=R.arrow)==null?void 0:K.x,q=(ne=R.arrow)==null?void 0:ne.y,z=((oe=R.arrow)==null?void 0:oe.centerOffset)!==0,[G,Y]=p.useState();return Mt(()=>{j&&Y(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:F?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(fe=R.transformOrigin)==null?void 0:fe.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((he=R.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(iL,{scope:r,placedSide:D,onArrowChange:b,arrowX:V,arrowY:q,shouldHideArrow:z,children:n.jsx(Ce.div,{"data-side":D,"data-align":H,...x,ref:y,style:{...x.style,animation:F?void 0:"none"}})})})});S2.displayName=Jv;var C2="PopperArrow",cL={top:"bottom",right:"left",bottom:"top",left:"right"},E2=p.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,o=lL(C2,s),i=cL[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(rL,{...a,ref:r,style:{...a.style,display:"block"}})})});E2.displayName=C2;function dL(e){return e!==null}var uL=e=>({name:"transformOrigin",options:e,fn(t){var w,j,g;const{placement:r,rects:s,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=P2(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let v="",x="";return c==="bottom"?(v=i?m:`${h}px`,x=`${-d}px`):c==="top"?(v=i?m:`${h}px`,x=`${s.floating.height+d}px`):c==="right"?(v=`${-d}px`,x=i?m:`${f}px`):c==="left"&&(v=`${s.floating.width+d}px`,x=i?m:`${f}px`),{data:{x:v,y:x}}}});function P2(e){const[t,r="center"]=e.split("-");return[t,r]}var k2=w2,Zv=b2,ey=S2,ty=E2,[fm,pte]=Wn("Tooltip",[il]),ny=il(),T2="TooltipProvider",hL=700,ww="tooltip.open",[mL,A2]=fm(T2),M2=e=>{const{__scopeTooltip:t,delayDuration:r=hL,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=p.useState(!0),d=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(mL,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(u=>{d.current=u},[]),disableHoverableContent:a,children:o})};M2.displayName=T2;var D2="Tooltip",[fte,xm]=fm(D2),Kx="TooltipTrigger",pL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=xm(Kx,r),o=A2(Kx,r),i=ny(r),l=p.useRef(null),d=Te(t,l,a.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),m=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(Zv,{asChild:!0,...i,children:n.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ue(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:ue(e.onBlur,a.onClose),onClick:ue(e.onClick,a.onClose)})})});pL.displayName=Kx;var fL="TooltipPortal",[xte,xL]=fm(fL,{forceMount:void 0}),Oi="TooltipContent",R2=p.forwardRef((e,t)=>{const r=xL(Oi,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...o}=e,i=xm(Oi,e.__scopeTooltip);return n.jsx(Ft,{present:s||i.open,children:i.disableHoverableContent?n.jsx(_2,{side:a,...o,ref:t}):n.jsx(gL,{side:a,...o,ref:t})})}),gL=p.forwardRef((e,t)=>{const r=xm(Oi,e.__scopeTooltip),s=A2(Oi,e.__scopeTooltip),a=p.useRef(null),o=Te(t,a),[i,l]=p.useState(null),{trigger:d,onClose:c}=r,u=a.current,{onPointerInTransitChange:m}=s,h=p.useCallback(()=>{l(null),m(!1)},[m]),f=p.useCallback((v,x)=>{const w=v.currentTarget,j={x:v.clientX,y:v.clientY},g=wL(j,w.getBoundingClientRect()),y=NL(j,g),N=bL(x.getBoundingClientRect()),b=CL([...y,...N]);l(b),m(!0)},[m]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(d&&u){const v=w=>f(w,u),x=w=>f(w,d);return d.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[d,u,f,h]),p.useEffect(()=>{if(i){const v=x=>{const w=x.target,j={x:x.clientX,y:x.clientY},g=(d==null?void 0:d.contains(w))||(u==null?void 0:u.contains(w)),y=!SL(j,i);g?h():y&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,u,i,c,h]),n.jsx(_2,{...e,ref:o})}),[vL,yL]=fm(D2,{isInside:!1}),_2=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,d=xm(Oi,r),c=ny(r),{onClose:u}=d;return p.useEffect(()=>(document.addEventListener(ww,u),()=>document.removeEventListener(ww,u)),[u]),p.useEffect(()=>{if(d.trigger){const m=h=>{const f=h.target;f!=null&&f.contains(d.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,u]),n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(ey,{"data-state":d.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Fv,{children:s}),n.jsx(vL,{scope:r,isInside:!0,children:n.jsx(dO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});R2.displayName=Oi;var F2="TooltipArrow",jL=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=ny(r);return yL(F2,r).isInside?null:n.jsx(ty,{...a,...s,ref:t})});jL.displayName=F2;function wL(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,s,a,o)){case o:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function NL(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function bL(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function SL(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>s!=u>s&&r<(c-l)*(s-d)/(u-d)+l&&(a=!a)}return a}function CL(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),EL(t)}function EL(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var PL=M2,O2=R2;const kL=PL,TL=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(O2,{ref:s,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));TL.displayName=O2.displayName;var gm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vm=typeof window>"u"||"Deno"in globalThis;function Zn(){}function AL(e,t){return typeof e=="function"?e(t):e}function ML(e){return typeof e=="number"&&e>=0&&e!==1/0}function DL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Nw(e,t){return typeof e=="function"?e(t):e}function RL(e,t){return typeof e=="function"?e(t):e}function bw(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==ry(i,t.options))return!1}else if(!Ec(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function Sw(e,t){const{exact:r,status:s,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Cc(t.options.mutationKey)!==Cc(o))return!1}else if(!Ec(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function ry(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cc)(e)}function Cc(e){return JSON.stringify(e,(t,r)=>Yx(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Ec(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ec(e[r],t[r])):!1}function I2(e,t){if(e===t)return e;const r=Cw(e)&&Cw(t);if(r||Yx(e)&&Yx(t)){const s=r?e:Object.keys(e),a=s.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let d=0;for(let c=0;c<i;c++){const u=r?c:o[c];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,d++):(l[u]=I2(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function Cw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yx(e){if(!Ew(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ew(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function _L(e){return new Promise(t=>{setTimeout(t,e)})}function FL(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?I2(e,t):t}function OL(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function IL(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var sy=Symbol();function L2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ha,Vs,vi,Hb,LL=(Hb=class extends gm{constructor(){super();$e(this,Ha);$e(this,Vs);$e(this,vi);Me(this,vi,t=>{if(!vm&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Vs)||this.setEventListener(ae(this,vi))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Vs))==null||t.call(this),Me(this,Vs,void 0))}setEventListener(t){var r;Me(this,vi,t),(r=ae(this,Vs))==null||r.call(this),Me(this,Vs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ae(this,Ha)!==t&&(Me(this,Ha,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,Ha)=="boolean"?ae(this,Ha):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ha=new WeakMap,Vs=new WeakMap,vi=new WeakMap,Hb),$2=new LL,yi,Hs,ji,Bb,$L=(Bb=class extends gm{constructor(){super();$e(this,yi,!0);$e(this,Hs);$e(this,ji);Me(this,ji,t=>{if(!vm&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){ae(this,Hs)||this.setEventListener(ae(this,ji))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Hs))==null||t.call(this),Me(this,Hs,void 0))}setEventListener(t){var r;Me(this,ji,t),(r=ae(this,Hs))==null||r.call(this),Me(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){ae(this,yi)!==t&&(Me(this,yi,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ae(this,yi)}},yi=new WeakMap,Hs=new WeakMap,ji=new WeakMap,Bb),ph=new $L;function UL(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function VL(e){return Math.min(1e3*2**e,3e4)}function U2(e){return(e??"online")==="online"?ph.isOnline():!0}var V2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yp(e){return e instanceof V2}function H2(e){let t=!1,r=0,s=!1,a;const o=UL(),i=x=>{var w;s||(h(new V2(x)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},d=()=>{t=!1},c=()=>$2.isFocused()&&(e.networkMode==="always"||ph.isOnline())&&e.canRun(),u=()=>U2(e.networkMode)&&e.canRun(),m=x=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,x),a==null||a(),o.resolve(x))},h=x=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,x),a==null||a(),o.reject(x))},f=()=>new Promise(x=>{var w;a=j=>{(s||c())&&x(j)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(s)return;let x;const w=r===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(m).catch(j=>{var E;if(s)return;const g=e.retry??(vm?0:3),y=e.retryDelay??VL,N=typeof y=="function"?y(r,j):y,b=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,j);if(t||!b){h(j);return}r++,(E=e.onFail)==null||E.call(e,r,j),_L(N).then(()=>c()?void 0:f()).then(()=>{t?h(j):v()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:d,canStart:u,start:()=>(u()?v():f().then(v),o)}}function HL(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||i()}return d},batchCalls:l=>(...d)=>{o(()=>{l(...d)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Xt=HL(),Ba,zb,B2=(zb=class{constructor(){$e(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ML(this.gcTime)&&Me(this,Ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vm?1/0:5*60*1e3))}clearGcTimeout(){ae(this,Ba)&&(clearTimeout(ae(this,Ba)),Me(this,Ba,void 0))}},Ba=new WeakMap,zb),wi,Ni,Fn,Ut,Bc,za,er,Jr,qb,BL=(qb=class extends B2{constructor(t){super();$e(this,er);$e(this,wi);$e(this,Ni);$e(this,Fn);$e(this,Ut);$e(this,Bc);$e(this,za);Me(this,za,!1),Me(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Fn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,wi,qL(this.options)),this.state=t.state??ae(this,wi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...ae(this,Bc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Fn).remove(this)}setData(t,r){const s=FL(this.state.data,t,this.options);return Ot(this,er,Jr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Ot(this,er,Jr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=ae(this,Ut))==null?void 0:s.promise;return(a=ae(this,Ut))==null||a.cancel(t),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,wi))}isActive(){return this.observers.some(t=>RL(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!DL(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Ut))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Ut))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Fn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,Ut)&&(ae(this,za)?ae(this,Ut).cancel({revert:!0}):ae(this,Ut).cancelRetry()),this.scheduleGc()),ae(this,Fn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,er,Jr).call(this,{type:"invalidate"})}fetch(t,r){var d,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Ut))return ae(this,Ut).continueRetry(),ae(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,za,!0),s.signal)})},o=()=>{const m=L2(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Me(this,za,!1),this.options.persister?this.options.persister(m,h,this):m(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(d=this.options.behavior)==null||d.onFetch(i,this),Me(this,Ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Ot(this,er,Jr).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,f,v,x;Yp(m)&&m.silent||Ot(this,er,Jr).call(this,{type:"error",error:m}),Yp(m)||((f=(h=ae(this,Fn).config).onError)==null||f.call(h,m,this),(x=(v=ae(this,Fn).config).onSettled)==null||x.call(v,this.state.data,m,this)),this.scheduleGc()};return Me(this,Ut,H2({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var h,f,v,x;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){l(w);return}(f=(h=ae(this,Fn).config).onSuccess)==null||f.call(h,m,this),(x=(v=ae(this,Fn).config).onSettled)==null||x.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{Ot(this,er,Jr).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Ot(this,er,Jr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,er,Jr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),ae(this,Ut).start()}},wi=new WeakMap,Ni=new WeakMap,Fn=new WeakMap,Ut=new WeakMap,Bc=new WeakMap,za=new WeakMap,er=new WeakSet,Jr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...zL(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Yp(a)&&a.revert&&ae(this,Ni)?{...ae(this,Ni),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ae(this,Fn).notify({query:this,type:"updated",action:t})})},qb);function zL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Er,Wb,WL=(Wb=class extends gm{constructor(t={}){super();$e(this,Er);this.config=t,Me(this,Er,new Map)}build(t,r,s){const a=r.queryKey,o=r.queryHash??ry(a,r);let i=this.get(o);return i||(i=new BL({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){ae(this,Er).has(t.queryHash)||(ae(this,Er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,Er).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,Er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,Er).get(t)}getAll(){return[...ae(this,Er).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>bw(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>bw(t,s)):r}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Er=new WeakMap,Wb),Pr,Wt,qa,kr,Ds,Kb,KL=(Kb=class extends B2{constructor(t){super();$e(this,kr);$e(this,Pr);$e(this,Wt);$e(this,qa);this.mutationId=t.mutationId,Me(this,Wt,t.mutationCache),Me(this,Pr,[]),this.state=t.state||YL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,Pr).includes(t)||(ae(this,Pr).push(t),this.clearGcTimeout(),ae(this,Wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,Pr,ae(this,Pr).filter(r=>r!==t)),this.scheduleGc(),ae(this,Wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Wt).remove(this))}continue(){var t;return((t=ae(this,qa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,d,c,u,m,h,f,v,x,w,j,g,y,N,b,E,C;Me(this,qa,H2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Ot(this,kr,Ds).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Ot(this,kr,Ds).call(this,{type:"pause"})},onContinue:()=>{Ot(this,kr,Ds).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Wt).canRun(this)}));const r=this.state.status==="pending",s=!ae(this,qa).canStart();try{if(!r){Ot(this,kr,Ds).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=ae(this,Wt).config).onMutate)==null?void 0:o.call(a,t,this));const O=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));O!==this.state.context&&Ot(this,kr,Ds).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const P=await ae(this,qa).start();return await((c=(d=ae(this,Wt).config).onSuccess)==null?void 0:c.call(d,P,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,P,t,this.state.context)),await((f=(h=ae(this,Wt).config).onSettled)==null?void 0:f.call(h,P,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,P,null,t,this.state.context)),Ot(this,kr,Ds).call(this,{type:"success",data:P}),P}catch(P){try{throw await((j=(w=ae(this,Wt).config).onError)==null?void 0:j.call(w,P,t,this.state.context,this)),await((y=(g=this.options).onError)==null?void 0:y.call(g,P,t,this.state.context)),await((b=(N=ae(this,Wt).config).onSettled)==null?void 0:b.call(N,void 0,P,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,P,t,this.state.context)),P}finally{Ot(this,kr,Ds).call(this,{type:"error",error:P})}}finally{ae(this,Wt).runNext(this)}}},Pr=new WeakMap,Wt=new WeakMap,qa=new WeakMap,kr=new WeakSet,Ds=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{ae(this,Pr).forEach(s=>{s.onMutationUpdate(t)}),ae(this,Wt).notify({mutation:this,type:"updated",action:t})})},Kb);function YL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,zc,Yb,GL=(Yb=class extends gm{constructor(t={}){super();$e(this,xn);$e(this,zc);this.config=t,Me(this,xn,new Map),Me(this,zc,Date.now())}build(t,r,s){const a=new KL({mutationCache:this,mutationId:++Sd(this,zc)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Wd(t),s=ae(this,xn).get(r)??[];s.push(t),ae(this,xn).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Wd(t);if(ae(this,xn).has(r)){const a=(s=ae(this,xn).get(r))==null?void 0:s.filter(o=>o!==t);a&&(a.length===0?ae(this,xn).delete(r):ae(this,xn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=ae(this,xn).get(Wd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=ae(this,xn).get(Wd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ae(this,xn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Sw(r,s))}findAll(t={}){return this.getAll().filter(r=>Sw(t,r))}notify(t){Xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zn))))}},xn=new WeakMap,zc=new WeakMap,Yb);function Wd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Pw(e){return{onFetch:(t,r)=>{var u,m,h,f,v;const s=t.options,a=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const c=async()=>{let x=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},j=L2(t.options,t.fetchOptions),g=async(y,N,b)=>{if(x)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const E={queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};w(E);const C=await j(E),{maxPages:P}=t.options,O=b?IL:OL;return{pages:O(y.pages,C,P),pageParams:O(y.pageParams,N,P)}};if(a&&o.length){const y=a==="backward",N=y?XL:kw,b={pages:o,pageParams:i},E=N(s,b);l=await g(b,E,y)}else{const y=e??o.length;do{const N=d===0?i[0]??s.initialPageParam:kw(s,l);if(d>0&&N==null)break;l=await g(l,N),d++}while(d<y)}return l};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function kw(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function XL(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var dt,Bs,zs,bi,Si,qs,Ci,Ei,Gb,QL=(Gb=class{constructor(e={}){$e(this,dt);$e(this,Bs);$e(this,zs);$e(this,bi);$e(this,Si);$e(this,qs);$e(this,Ci);$e(this,Ei);Me(this,dt,e.queryCache||new WL),Me(this,Bs,e.mutationCache||new GL),Me(this,zs,e.defaultOptions||{}),Me(this,bi,new Map),Me(this,Si,new Map),Me(this,qs,0)}mount(){Sd(this,qs)._++,ae(this,qs)===1&&(Me(this,Ci,$2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,dt).onFocus())})),Me(this,Ei,ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,dt).onOnline())})))}unmount(){var e,t;Sd(this,qs)._--,ae(this,qs)===0&&((e=ae(this,Ci))==null||e.call(this),Me(this,Ci,void 0),(t=ae(this,Ei))==null||t.call(this),Me(this,Ei,void 0))}isFetching(e){return ae(this,dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=ae(this,dt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Nw(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ae(this,dt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=ae(this,dt).get(s.queryHash),o=a==null?void 0:a.state.data,i=AL(t,o);if(i!==void 0)return ae(this,dt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Xt.batch(()=>ae(this,dt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,dt);Xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,dt),s={type:"active",...e};return Xt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Xt.batch(()=>ae(this,dt).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Zn).catch(Zn)}invalidateQueries(e={},t={}){return Xt.batch(()=>{if(ae(this,dt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Xt.batch(()=>ae(this,dt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(Zn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,dt).build(this,t);return r.isStaleByTime(Nw(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=Pw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=Pw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ph.isOnline()?ae(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,dt)}getMutationCache(){return ae(this,Bs)}getDefaultOptions(){return ae(this,zs)}setDefaultOptions(e){Me(this,zs,e)}setQueryDefaults(e,t){ae(this,bi).set(Cc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,bi).values()];let r={};return t.forEach(s=>{Ec(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){ae(this,Si).set(Cc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Si).values()];let r={};return t.forEach(s=>{Ec(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,zs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ry(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===sy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,zs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,dt).clear(),ae(this,Bs).clear()}},dt=new WeakMap,Bs=new WeakMap,zs=new WeakMap,bi=new WeakMap,Si=new WeakMap,qs=new WeakMap,Ci=new WeakMap,Ei=new WeakMap,Gb),JL=p.createContext(void 0),ZL=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(JL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pc.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const Tw="popstate";function e$(e){e===void 0&&(e={});function t(s,a){let{pathname:o,search:i,hash:l}=s.location;return Gx("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:fh(a)}return n$(t,r,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function z2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t$(){return Math.random().toString(36).substr(2,8)}function Aw(e,t){return{usr:e.state,key:e.key,idx:t}}function Gx(e,t,r,s){return r===void 0&&(r=null),Pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ll(t):t,{state:r,key:t&&t.key||s||t$()})}function fh(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function n$(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,i=a.history,l=Gs.Pop,d=null,c=u();c==null&&(c=0,i.replaceState(Pc({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=Gs.Pop;let w=u(),j=w==null?null:w-c;c=w,d&&d({action:l,location:x.location,delta:j})}function h(w,j){l=Gs.Push;let g=Gx(x.location,w,j);c=u()+1;let y=Aw(g,c),N=x.createHref(g);try{i.pushState(y,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}o&&d&&d({action:l,location:x.location,delta:1})}function f(w,j){l=Gs.Replace;let g=Gx(x.location,w,j);c=u();let y=Aw(g,c),N=x.createHref(g);i.replaceState(y,"",N),o&&d&&d({action:l,location:x.location,delta:0})}function v(w){let j=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:fh(w);return g=g.replace(/ $/,"%20"),ot(j,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,j)}let x={get action(){return l},get location(){return e(a,i)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Tw,m),d=w,()=>{a.removeEventListener(Tw,m),d=null}},createHref(w){return t(a,w)},createURL:v,encodeLocation(w){let j=v(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:f,go(w){return i.go(w)}};return x}var Mw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mw||(Mw={}));function r$(e,t,r){return r===void 0&&(r="/"),s$(e,t,r,!1)}function s$(e,t,r,s){let a=typeof t=="string"?ll(t):t,o=Ii(a.pathname||"/",r);if(o==null)return null;let i=q2(e);a$(i);let l=null;for(let d=0;l==null&&d<i.length;++d){let c=x$(o);l=p$(i[d],c,s)}return l}function q2(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(o,i,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=sa([s,d.relativePath]),u=r.concat(d);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q2(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:h$(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let d of W2(o.path))a(o,i,d)}),t}function W2(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let i=W2(s.join("/")),l=[];return l.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&l.push(...i),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function a$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:m$(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const o$=/^:[\w-]+$/,i$=3,l$=2,c$=1,d$=10,u$=-2,Dw=e=>e==="*";function h$(e,t){let r=e.split("/"),s=r.length;return r.some(Dw)&&(s+=u$),t&&(s+=l$),r.filter(a=>!Dw(a)).reduce((a,o)=>a+(o$.test(o)?i$:o===""?c$:d$),s)}function m$(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function p$(e,t,r){let{routesMeta:s}=e,a={},o="/",i=[];for(let l=0;l<s.length;++l){let d=s[l],c=l===s.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=xh({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),h=d.route;if(!m&&c&&r&&!s[s.length-1].route.index&&(m=xh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:sa([o,m.pathname]),pathnameBase:j$(sa([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=sa([o,m.pathnameBase]))}return i}function xh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=f$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((c,u,m)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let x=l[m]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[m];return f&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function f$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),z2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,d)=>(s.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function x$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return z2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ii(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function g$(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?ll(e):e;return{pathname:r?r.startsWith("/")?r:v$(r,t):t,search:w$(s),hash:N$(a)}}function v$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gp(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ay(e,t){let r=y$(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function oy(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=ll(e):(a=Pc({},e),ot(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let d=g$(a,l),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const sa=e=>e.join("/").replace(/\/\/+/g,"/"),j$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K2=["post","put","patch","delete"];new Set(K2);const S$=["get",...K2];new Set(S$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kc.apply(this,arguments)}const ym=p.createContext(null),Y2=p.createContext(null),ys=p.createContext(null),jm=p.createContext(null),js=p.createContext({outlet:null,matches:[],isDataRoute:!1}),G2=p.createContext(null);function C$(e,t){let{relative:r}=t===void 0?{}:t;cl()||ot(!1);let{basename:s,navigator:a}=p.useContext(ys),{hash:o,pathname:i,search:l}=wm(e,{relative:r}),d=i;return s!=="/"&&(d=i==="/"?s:sa([s,i])),a.createHref({pathname:d,search:l,hash:o})}function cl(){return p.useContext(jm)!=null}function ws(){return cl()||ot(!1),p.useContext(jm).location}function X2(e){p.useContext(ys).static||p.useLayoutEffect(e)}function dl(){let{isDataRoute:e}=p.useContext(js);return e?U$():E$()}function E$(){cl()||ot(!1);let e=p.useContext(ym),{basename:t,future:r,navigator:s}=p.useContext(ys),{matches:a}=p.useContext(js),{pathname:o}=ws(),i=JSON.stringify(ay(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return X2(()=>{l.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){s.go(c);return}let m=oy(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:sa([t,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[t,s,i,o,e])}const P$=p.createContext(null);function k$(e){let t=p.useContext(js).outlet;return t&&p.createElement(P$.Provider,{value:e},t)}function wm(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=p.useContext(ys),{matches:a}=p.useContext(js),{pathname:o}=ws(),i=JSON.stringify(ay(a,s.v7_relativeSplatPath));return p.useMemo(()=>oy(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function T$(e,t){return A$(e,t)}function A$(e,t,r,s){cl()||ot(!1);let{navigator:a}=p.useContext(ys),{matches:o}=p.useContext(js),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=ws(),u;if(t){var m;let w=typeof t=="string"?ll(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||ot(!1),u=w}else u=c;let h=u.pathname||"/",f=h;if(d!=="/"){let w=d.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=r$(e,{pathname:f}),x=F$(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:sa([d,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:sa([d,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,s);return t&&x?p.createElement(jm.Provider,{value:{location:kc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gs.Pop}},x):x}function M$(){let e=$$(),t=b$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const D$=p.createElement(M$,null);class R$ extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(js.Provider,{value:this.props.routeContext},p.createElement(G2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _$(e){let{routeContext:t,match:r,children:s}=e,a=p.useContext(ym);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(js.Provider,{value:t},s)}function F$(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||ot(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:h,errors:f}=r,v=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||v){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,m,h)=>{let f,v=!1,x=null,w=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||D$,d&&(c<0&&h===0?(v=!0,w=null):c===h&&(v=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,h+1)),g=()=>{let y;return f?y=x:v?y=w:m.route.Component?y=p.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,p.createElement(_$,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:y})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?p.createElement(R$,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:g(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):g()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),gh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gh||{});function O$(e){let t=p.useContext(ym);return t||ot(!1),t}function I$(e){let t=p.useContext(Y2);return t||ot(!1),t}function L$(e){let t=p.useContext(js);return t||ot(!1),t}function J2(e){let t=L$(),r=t.matches[t.matches.length-1];return r.route.id||ot(!1),r.route.id}function $$(){var e;let t=p.useContext(G2),r=I$(gh.UseRouteError),s=J2(gh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function U$(){let{router:e}=O$(Q2.UseNavigateStable),t=J2(gh.UseNavigateStable),r=p.useRef(!1);return X2(()=>{r.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kc({fromRouteId:t},o)))},[e,t])}function vh(e){let{to:t,replace:r,state:s,relative:a}=e;cl()||ot(!1);let{future:o,static:i}=p.useContext(ys),{matches:l}=p.useContext(js),{pathname:d}=ws(),c=dl(),u=oy(t,ay(l,o.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(m),{replace:r,state:s,relative:a}),[c,m,a,r,s]),null}function V$(e){return k$(e.context)}function $t(e){ot(!1)}function H$(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Gs.Pop,navigator:o,static:i=!1,future:l}=e;cl()&&ot(!1);let d=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:d,navigator:o,static:i,future:kc({v7_relativeSplatPath:!1},l)}),[d,l,o,i]);typeof s=="string"&&(s=ll(s));let{pathname:u="/",search:m="",hash:h="",state:f=null,key:v="default"}=s,x=p.useMemo(()=>{let w=Ii(u,d);return w==null?null:{location:{pathname:w,search:m,hash:h,state:f,key:v},navigationType:a}},[d,u,m,h,f,v,a]);return x==null?null:p.createElement(ys.Provider,{value:c},p.createElement(jm.Provider,{children:r,value:x}))}function B$(e){let{children:t,location:r}=e;return T$(Xx(t),r)}new Promise(()=>{});function Xx(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let o=[...t,a];if(s.type===p.Fragment){r.push.apply(r,Xx(s.props.children,o));return}s.type!==$t&&ot(!1),!s.props.index||!s.props.children||ot(!1);let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Xx(s.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yh.apply(this,arguments)}function Z2(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,o;for(o=0;o<s.length;o++)a=s[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function z$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q$(e,t){return e.button===0&&(!t||t==="_self")&&!z$(e)}const W$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Y$="6";try{window.__reactRouterVersion=Y$}catch{}const G$=p.createContext({isTransitioning:!1}),X$="startTransition",Rw=Wc[X$];function Q$(e){let{basename:t,children:r,future:s,window:a}=e,o=p.useRef();o.current==null&&(o.current=e$({window:a,v5Compat:!0}));let i=o.current,[l,d]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},u=p.useCallback(m=>{c&&Rw?Rw(()=>d(m)):d(m)},[d,c]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(H$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:s})}const J$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e5=p.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:o,replace:i,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,h=Z2(t,W$),{basename:f}=p.useContext(ys),v,x=!1;if(typeof c=="string"&&Z$.test(c)&&(v=c,J$))try{let y=new URL(window.location.href),N=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=Ii(N.pathname,f);N.origin===y.origin&&b!=null?c=b+N.search+N.hash:x=!0}catch{}let w=C$(c,{relative:a}),j=r5(c,{replace:i,state:l,target:d,preventScrollReset:u,relative:a,viewTransition:m});function g(y){s&&s(y),y.defaultPrevented||j(y)}return p.createElement("a",yh({},h,{href:v||w,onClick:x||o?s:g,ref:r,target:d}))}),t5=p.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:c,children:u}=t,m=Z2(t,K$),h=wm(d,{relative:m.relative}),f=ws(),v=p.useContext(Y2),{navigator:x,basename:w}=p.useContext(ys),j=v!=null&&s5(h)&&c===!0,g=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,y=f.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(y=y.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&w&&(N=Ii(N,w)||N);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=y===g||!i&&y.startsWith(g)&&y.charAt(b)==="/",C=N!=null&&(N===g||!i&&N.startsWith(g)&&N.charAt(g.length)==="/"),P={isActive:E,isPending:C,isTransitioning:j},O=E?s:void 0,T;typeof o=="function"?T=o(P):T=[o,E?"active":null,C?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(P):l;return p.createElement(e5,yh({},m,{"aria-current":O,className:T,ref:r,style:_,to:d,viewTransition:c}),typeof u=="function"?u(P):u)});var Qx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qx||(Qx={}));var _w;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));function n5(e){let t=p.useContext(ym);return t||ot(!1),t}function r5(e,t){let{target:r,replace:s,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,d=dl(),c=ws(),u=wm(e,{relative:i});return p.useCallback(m=>{if(q$(m,r)){m.preventDefault();let h=s!==void 0?s:fh(c)===fh(u);d(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,d,u,s,a,r,e,o,i,l])}function s5(e,t){t===void 0&&(t={});let r=p.useContext(G$);r==null&&ot(!1);let{basename:s}=n5(Qx.useViewTransitionState),a=wm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Ii(r.currentLocation.pathname,s)||r.currentLocation.pathname,i=Ii(r.nextLocation.pathname,s)||r.nextLocation.pathname;return xh(a.pathname,i)!=null||xh(a.pathname,o)!=null}const eE="http://localhost:8080/api",Fw={"/auth/login":{success:!0,data:{user:{id:"mock-admin-1",username:"admin",email:"admin@integrixlab.com",firstName:"Admin",lastName:"User",role:"administrator",status:"active",permissions:["flows:read","flows:write","users:read","users:write","admin:read","admin:write"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z",lastLoginAt:new Date().toISOString()},token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtb2NrLWFkbWluLTEiLCJyb2xlIjoiYWRtaW5pc3RyYXRvciIsImV4cCI6OTk5OTk5OTk5OX0.mock",refreshToken:"mock-refresh-token-admin",expiresIn:3600}},"/auth/profile":{success:!0,data:{id:"mock-admin-1",username:"admin",email:"admin@integrixlab.com",firstName:"Admin",lastName:"User",role:"administrator",status:"active",permissions:["flows:read","flows:write","users:read","users:write","admin:read","admin:write"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z",lastLoginAt:new Date().toISOString()}},"/business-components":{success:!0,data:[{id:"1",name:"ACME Corporation",description:"Large enterprise client",contactEmail:"contact@acme.com",contactPhone:"+1-555-0123",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",name:"TechStart Inc",description:"Growing technology startup",contactEmail:"hello@techstart.com",contactPhone:"+1-555-0456",createdAt:"2024-01-16T14:30:00Z",updatedAt:"2024-01-16T14:30:00Z"}]},"/adapters":{success:!0,data:[]},"/flows":{success:!0,data:[]},"/channels":{success:!0,data:[]},"/messages":{success:!0,data:[]},"/users":{success:!0,data:{users:[{id:"1",username:"admin",email:"admin@integrixlab.com",first_name:"System",last_name:"Administrator",role:"administrator",status:"active",permissions:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"]},email_verified:!0,created_at:"2024-01-01 09:00:00",updated_at:"2024-01-01 09:00:00",last_login_at:"2024-01-15 14:30:25"},{id:"2",username:"integrator1",email:"integrator1@company.com",first_name:"John",last_name:"Integrator",role:"integrator",status:"active",permissions:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"]},email_verified:!0,created_at:"2024-01-05 10:30:00",updated_at:"2024-01-05 10:30:00",last_login_at:"2024-01-15 12:15:30"},{id:"3",username:"viewer1",email:"viewer1@company.com",first_name:"Jane",last_name:"Viewer",role:"viewer",status:"inactive",permissions:{flows:["read"],adapters:["read"],structures:["read"]},email_verified:!0,created_at:"2024-01-08 14:20:00",updated_at:"2024-01-08 14:20:00",last_login_at:"2024-01-10 16:45:12"}],total:3,page:0,limit:50}},"/system/stats":{success:!0,data:{totalUsers:5,activeFlows:12,totalMessages:1523,systemHealth:"healthy"}}};class Xp extends Error{constructor(t,r,s){super(t),this.status=r,this.response=s,this.name="ApiError"}}function Ow(){return localStorage.getItem("integration_platform_token")}function a5(){return localStorage.getItem("integration_platform_refresh_token")}function o5(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function i5(){const e=a5();if(!e)return!1;try{const t=await fetch(`${eE}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const r=await t.json();return localStorage.setItem("integration_platform_token",r.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return o5(),!1}async function kl(e,t={}){const r=`${eE}${e}`,s=Ow(),a={"Content-Type":"application/json"};s&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${s}`);const o={headers:{...a,...t.headers},...t};try{let i=await fetch(r,o);if(i.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await i5()){const u=Ow();u&&(o.headers={...o.headers,Authorization:`Bearer ${u}`},i=await fetch(r,o))}else throw window.location.href="/login",new Xp("Authentication failed",401);let l;const d=i.headers.get("content-type");if(d&&d.includes("application/json")?l=await i.json():l=await i.text(),!i.ok)throw new Xp(l.message||l||`HTTP ${i.status}: ${i.statusText}`,i.status,l);return{success:!0,data:l.data||l,message:l.message}}catch(i){const l=Object.keys(Fw).find(d=>!!(e===d||e.startsWith(d)&&e.includes("?")));if(l)return console.log(`API not available, using mock data for ${e}`),Fw[l];if(i instanceof Xp)throw i;return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}const pe={get:(e,t)=>kl(e,{method:"GET",...t}),post:(e,t,r)=>kl(e,{method:"POST",body:JSON.stringify(t),...r}),put:(e,t,r)=>kl(e,{method:"PUT",body:JSON.stringify(t),...r}),patch:(e,t,r)=>kl(e,{method:"PATCH",body:JSON.stringify(t),...r}),delete:(e,t)=>kl(e,{method:"DELETE",...t})};class l5{constructor(){et(this,"TOKEN_KEY","integration_platform_token");et(this,"REFRESH_TOKEN_KEY","integration_platform_refresh_token");et(this,"USER_KEY","integration_platform_user")}async login(t){const r=await pe.post("/auth/login",t);return r.success&&r.data&&this.setAuthData(r.data),r}async register(t){return pe.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await pe.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const r=await pe.post("/auth/refresh",{refreshToken:t});return r.success&&r.data&&localStorage.setItem(this.TOKEN_KEY,r.data.token),r}async getProfile(){return pe.get("/auth/profile")}async updateProfile(t){return pe.put("/auth/profile",t)}async changePassword(t,r){return pe.post("/auth/change-password",{currentPassword:t,newPassword:r})}async requestPasswordReset(t){return pe.post("/auth/forgot-password",{email:t})}async resetPassword(t,r){return pe.post("/auth/reset-password",{token:t,newPassword:r})}async verifyEmail(t){return pe.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const r=this.getCurrentUser();if(!(r!=null&&r.permissions))return!1;let s=[];if(typeof r.permissions=="string")try{const a=JSON.parse(r.permissions);s=Array.isArray(a)?a:Object.keys(a)}catch{s=[]}else Array.isArray(r.permissions)&&(s=r.permissions);return s.includes(t)}hasRole(t){const r=this.getCurrentUser();return(r==null?void 0:r.role)===t}isAdmin(){return this.hasRole("administrator")}}const Gr=new l5,tE=p.createContext(void 0),ul=()=>{const e=p.useContext(tE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},c5=({children:e})=>{const[t,r]=p.useState(null),[s,a]=p.useState(!0),[o,i]=p.useState([]),[l,d]=p.useState(null),c=dl();p.useEffect(()=>{(async()=>{try{if(Gr.isAuthenticated()){const g=await Gr.getProfile();if(g.success&&g.data){r(g.data);const y=Gr.getToken();if(y)try{const N=JSON.parse(atob(y.split(".")[1]));d(N.exp*1e3)}catch(N){console.warn("Failed to parse token expiry:",N)}}else{console.warn("AuthContext: Profile fetch failed, clearing auth data");try{await Gr.logout()}catch(y){console.warn("Logout during init failed, clearing local data:",y),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}}}else console.log("AuthContext: No valid token found")}catch(g){console.error("Auth initialization error:",g);try{await Gr.logout()}catch(y){console.warn("Logout during error handling failed, clearing local data:",y),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}}finally{console.log("AuthContext: Auth initialization complete"),a(!1)}})()},[]),p.useEffect(()=>{if(!l)return;const j=l-Date.now();if(j<=0){m();return}const g=setTimeout(()=>{m()},j);return()=>clearTimeout(g)},[l]);const u=async(j,g,y)=>{try{a(!0);const N=await Gr.login({username:j,password:g});if(N.success&&N.data){r(N.data.user);const b=Date.now()+N.data.expiresIn*1e3;return d(b),c(y||"/dashboard"),pt.success("Login successful"),!0}else return pt.error(N.error||"Login failed"),!1}catch(N){return console.error("Login error:",N),pt.error("Login failed. Please try again."),!1}finally{a(!1)}},m=async()=>{try{await Gr.logout(),r(null),d(null),c("/login"),pt.success("Logged out successfully")}catch(j){console.error("Logout error:",j),r(null),d(null),c("/login")}},h=()=>o,f=async j=>{try{const g=await Gr.register({...j,password:"temp123"});g.success&&g.data?(i(y=>[...y,g.data]),pt.success("User created successfully")):pt.error(g.error||"Failed to create user")}catch(g){console.error("Create user error:",g),pt.error("Failed to create user")}},v=async(j,g)=>{try{i(y=>y.map(N=>N.id===j?{...N,...g}:N)),pt.success("User updated successfully")}catch(y){console.error("Update user error:",y),pt.error("Failed to update user")}},x=async j=>{try{i(g=>g.filter(y=>y.id!==j)),pt.success("User deleted successfully")}catch(g){console.error("Delete user error:",g),pt.error("Failed to delete user")}},w={user:t,login:u,logout:m,isAuthenticated:!!t&&Gr.isAuthenticated(),isLoading:s,tokenExpiry:l,getAllUsers:h,createUser:f,updateUser:v,deleteUser:x};return n.jsx(tE.Provider,{value:w,children:e})},d5={"/dashboard":["administrator","integrator","viewer"],"/create-flow":["administrator","integrator"],"/data-structures":["administrator","integrator"],"/create-communication-adapter":["administrator","integrator"],"/messages":["administrator","integrator","viewer"],"/channels":["administrator","integrator","viewer"],"/business-components":["administrator","integrator"],"/admin":["administrator"],"/settings":["administrator"]},Iw=({children:e,requiredRoles:t})=>{const{isAuthenticated:r,isLoading:s,user:a}=ul(),o=ws();if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-primary animate-pulse mx-auto"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium",children:"IntegrixLab"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]})});if(!r)return n.jsx(vh,{to:"/login",state:{from:o},replace:!0});if(a){const i=t||d5[o.pathname];if(i&&!i.includes(a.role))return n.jsx(vh,{to:"/dashboard",replace:!0})}return n.jsx(n.Fragment,{children:e})},Tc=Zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},o)=>{const i=s?ca:"button";return n.jsx(i,{className:ie(Tc({variant:t,size:r,className:e})),ref:o,...a})});W.displayName="Button";const u5=Zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:t,...r}){return n.jsx("div",{className:ie(u5({variant:t}),e),...r})}var h5=p.createContext(void 0);function sd(e){const t=p.useContext(h5);return e||t||"ltr"}var Qp=0;function iy(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lw()),document.body.insertAdjacentElement("beforeend",e[1]??Lw()),Qp++,()=>{Qp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qp--}},[])}function Lw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jp="focusScope.autoFocusOnMount",Zp="focusScope.autoFocusOnUnmount",$w={bubbles:!1,cancelable:!0},m5="FocusScope",Nm=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=st(a),u=st(o),m=p.useRef(null),h=Te(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(y){if(f.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:Rs(m.current,{select:!0})},w=function(y){if(f.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Rs(m.current,{select:!0}))},j=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Rs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(j);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){Vw.add(f);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(Jp,$w);l.addEventListener(Jp,c),l.dispatchEvent(j),j.defaultPrevented||(p5(y5(nE(l)),{select:!0}),document.activeElement===x&&Rs(l))}return()=>{l.removeEventListener(Jp,c),setTimeout(()=>{const j=new CustomEvent(Zp,$w);l.addEventListener(Zp,u),l.dispatchEvent(j),j.defaultPrevented||Rs(x??document.body,{select:!0}),l.removeEventListener(Zp,u),Vw.remove(f)},0)}}},[l,c,u,f]);const v=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(w&&j){const g=x.currentTarget,[y,N]=f5(g);y&&N?!x.shiftKey&&j===N?(x.preventDefault(),r&&Rs(y,{select:!0})):x.shiftKey&&j===y&&(x.preventDefault(),r&&Rs(N,{select:!0})):j===g&&x.preventDefault()}},[r,s,f.paused]);return n.jsx(Ce.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Nm.displayName=m5;function p5(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Rs(s,{select:t}),document.activeElement!==r)return}function f5(e){const t=nE(e),r=Uw(t,e),s=Uw(t.reverse(),e);return[r,s]}function nE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uw(e,t){for(const r of e)if(!x5(r,{upTo:t}))return r}function x5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g5(e){return e instanceof HTMLInputElement&&"select"in e}function Rs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&g5(e)&&t&&e.select()}}var Vw=v5();function v5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Hw(e,t),e.unshift(t)},remove(t){var r;e=Hw(e,t),(r=e[0])==null||r.resume()}}}function Hw(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function y5(e){return e.filter(t=>t.tagName!=="A")}function j5(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...v}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,w5(a,...t)]}function w5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ef="rovingFocusGroup.onEntryFocus",N5={bubbles:!1,cancelable:!0},bm="RovingFocusGroup",[Jx,rE,b5]=om(bm),[S5,Sm]=j5(bm,[b5]),[C5,E5]=S5(bm),sE=p.forwardRef((e,t)=>n.jsx(Jx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Jx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(P5,{...e,ref:t})})}));sE.displayName=bm;var P5=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...m}=e,h=p.useRef(null),f=Te(t,h),v=sd(o),[x=null,w]=$r({prop:i,defaultProp:l,onChange:d}),[j,g]=p.useState(!1),y=st(c),N=rE(r),b=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(ef,y),()=>P.removeEventListener(ef,y)},[y]),n.jsx(C5,{scope:r,orientation:s,dir:v,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(P=>w(P),[w]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>C(P=>P-1),[]),children:n.jsx(Ce.div,{tabIndex:j||E===0?-1:0,"data-orientation":s,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{b.current=!0}),onFocus:ue(e.onFocus,P=>{const O=!b.current;if(P.target===P.currentTarget&&O&&!j){const T=new CustomEvent(ef,N5);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=N().filter(L=>L.focusable),k=_.find(L=>L.active),$=_.find(L=>L.id===x),U=[k,$,..._].filter(Boolean).map(L=>L.ref.current);iE(U,u)}}b.current=!1}),onBlur:ue(e.onBlur,()=>g(!1))})})}),aE="RovingFocusGroupItem",oE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:o,...i}=e,l=cr(),d=o||l,c=E5(aE,r),u=c.currentTabStopId===d,m=rE(r),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return p.useEffect(()=>{if(s)return h(),()=>f()},[s,h,f]),n.jsx(Jx.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Ce.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:ue(e.onMouseDown,v=>{s?c.onItemFocus(d):v.preventDefault()}),onFocus:ue(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:ue(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=A5(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const g=j.indexOf(v.currentTarget);j=c.loop?M5(j,g+1):j.slice(g+1)}setTimeout(()=>iE(j))}})})})});oE.displayName=aE;var k5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A5(e,t,r){const s=T5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return k5[s]}function iE(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function M5(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var lE=sE,cE=oE,D5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ao=new WeakMap,Kd=new WeakMap,Yd={},tf=0,dE=function(e){return e&&(e.host||dE(e.parentNode))},R5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=dE(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_5=function(e,t,r,s){var a=R5(t,Array.isArray(e)?e:[e]);Yd[r]||(Yd[r]=new WeakMap);var o=Yd[r],i=[],l=new Set,d=new Set(a),c=function(m){!m||l.has(m)||(l.add(m),c(m.parentNode))};a.forEach(c);var u=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var f=h.getAttribute(s),v=f!==null&&f!=="false",x=(Ao.get(h)||0)+1,w=(o.get(h)||0)+1;Ao.set(h,x),o.set(h,w),i.push(h),x===1&&v&&Kd.set(h,!0),w===1&&h.setAttribute(r,"true"),v||h.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",h,j)}})};return u(t),l.clear(),tf++,function(){i.forEach(function(m){var h=Ao.get(m)-1,f=o.get(m)-1;Ao.set(m,h),o.set(m,f),h||(Kd.has(m)||m.removeAttribute(s),Kd.delete(m)),f||m.removeAttribute(r)}),tf--,tf||(Ao=new WeakMap,Ao=new WeakMap,Kd=new WeakMap,Yd={})}},ad=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=D5(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),_5(s,a,r,"aria-hidden")):function(){return null}},ht=function(){return ht=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ht.apply(this,arguments)};function Cm(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function ly(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var ui="right-scroll-bar-position",hi="width-before-scroll-bar",F5="with-scroll-bars-hidden",O5="--removed-body-scroll-bar-size";function nf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I5(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var L5=typeof window<"u"?p.useLayoutEffect:p.useEffect,Bw=new WeakMap;function cy(e,t){var r=I5(null,function(s){return e.forEach(function(a){return nf(a,s)})});return L5(function(){var s=Bw.get(r);if(s){var a=new Set(s),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||nf(l,null)}),o.forEach(function(l){a.has(l)||nf(l,i)})}Bw.set(r,e)},[e]),r}function $5(e){return e}function U5(e,t){t===void 0&&(t=$5);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,s);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(s=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){s=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var d=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(d)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return a}function dy(e){e===void 0&&(e={});var t=U5(null);return t.options=ht({async:!0,ssr:!1},e),t}var uE=function(e){var t=e.sideCar,r=Cm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,ht({},r))};uE.isSideCarExport=!0;function uy(e,t){return e.useMedium(t),uE}var hE=dy(),rf=function(){},Em=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:rf,onWheelCapture:rf,onTouchMoveCapture:rf}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,g=e.gapMode,y=Cm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,b=cy([r,t]),E=ht(ht({},y),a);return p.createElement(p.Fragment,null,u&&p.createElement(N,{sideCar:hE,removeScrollBar:c,shards:m,noIsolation:f,inert:v,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:g}),i?p.cloneElement(p.Children.only(l),ht(ht({},E),{ref:b})):p.createElement(j,ht({},E,{className:d,ref:b}),l))});Em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Em.classNames={fullWidth:hi,zeroRight:ui};var V5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=V5();return t&&e.setAttribute("nonce",t),e}function B5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=H5())&&(B5(t,r),z5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W5=function(){var e=q5();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Pm=function(){var e=W5(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},K5={left:0,top:0,right:0,gap:0},sf=function(e){return parseInt(e||"",10)||0},Y5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[sf(r),sf(s),sf(a)]},G5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return K5;var t=Y5(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},X5=Pm(),mi="data-scroll-locked",Q5=function(e,t,r,s){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(F5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ui,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(hi,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ui," .").concat(ui,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(hi," .").concat(hi,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(O5,": ").concat(l,`px;
  }
`)},zw=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},J5=function(){p.useEffect(function(){return document.body.setAttribute(mi,(zw()+1).toString()),function(){var e=zw()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},hy=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;J5();var o=p.useMemo(function(){return G5(a)},[a]);return p.createElement(X5,{styles:Q5(o,!t,a,r?"":"!important")})},Zx=!1;if(typeof window<"u")try{var Gd=Object.defineProperty({},"passive",{get:function(){return Zx=!0,!0}});window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{Zx=!1}var Mo=Zx?{passive:!1}:!1,Z5=function(e){return e.tagName==="TEXTAREA"},mE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Z5(e)&&r[t]==="visible")},e6=function(e){return mE(e,"overflowY")},t6=function(e){return mE(e,"overflowX")},qw=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=pE(e,s);if(a){var o=fE(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},n6=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},r6=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},pE=function(e,t){return e==="v"?e6(t):t6(t)},fE=function(e,t){return e==="v"?n6(t):r6(t)},s6=function(e,t){return e==="h"&&t==="rtl"?-1:1},a6=function(e,t,r,s,a){var o=s6(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{var f=fE(e,l),v=f[0],x=f[1],w=f[2],j=x-w-o*v;(v||j)&&pE(e,l)&&(m+=j,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(c=!0),c},Xd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ww=function(e){return[e.deltaX,e.deltaY]},Kw=function(e){return e&&"current"in e?e.current:e},o6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},l6=0,Do=[];function c6(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(l6++)[0],o=p.useState(Pm)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=ly([e.lockRef.current],(e.shards||[]).map(Kw),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var j=Xd(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-j[0],N="deltaY"in x?x.deltaY:g[1]-j[1],b,E=x.target,C=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var P=qw(C,E);if(!P)return!0;if(P?b=C:(b=C==="v"?"h":"v",P=qw(C,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var O=s.current||b;return a6(O,w,x,O==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!Do.length||Do[Do.length-1]!==o)){var j="deltaY"in w?Ww(w):Xd(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&o6(b.delta,j)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(Kw).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,j,g){var y={name:x,delta:w,target:j,should:g,shadowParent:d6(j)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=Xd(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,Ww(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,Xd(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return Do.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Mo),document.addEventListener("touchmove",d,Mo),document.addEventListener("touchstart",u,Mo),function(){Do=Do.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Mo),document.removeEventListener("touchmove",d,Mo),document.removeEventListener("touchstart",u,Mo)}},[]);var f=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:i6(a)}):null,f?p.createElement(hy,{gapMode:e.gapMode}):null)}function d6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u6=uy(hE,c6);var km=p.forwardRef(function(e,t){return p.createElement(Em,ht({},e,{ref:t,sideCar:u6}))});km.classNames=Em.classNames;var eg=["Enter"," "],h6=["ArrowDown","PageUp","Home"],xE=["ArrowUp","PageDown","End"],m6=[...h6,...xE],p6={ltr:[...eg,"ArrowRight"],rtl:[...eg,"ArrowLeft"]},f6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},od="Menu",[Ac,x6,g6]=om(od),[No,gE]=Wn(od,[g6,il,Sm]),Tm=il(),vE=Sm(),[v6,bo]=No(od),[y6,id]=No(od),yE=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:o,modal:i=!0}=e,l=Tm(t),[d,c]=p.useState(null),u=p.useRef(!1),m=st(o),h=sd(a);return p.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(k2,{...l,children:n.jsx(v6,{scope:t,open:r,onOpenChange:m,content:d,onContentChange:c,children:n.jsx(y6,{scope:t,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:i,children:s})})})};yE.displayName=od;var j6="MenuAnchor",my=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Tm(r);return n.jsx(Zv,{...a,...s,ref:t})});my.displayName=j6;var py="MenuPortal",[w6,jE]=No(py,{forceMount:void 0}),wE=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,o=bo(py,t);return n.jsx(w6,{scope:t,forceMount:r,children:n.jsx(Ft,{present:r||o.open,children:n.jsx(Qc,{asChild:!0,container:a,children:s})})})};wE.displayName=py;var Hn="MenuContent",[N6,fy]=No(Hn),NE=p.forwardRef((e,t)=>{const r=jE(Hn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=bo(Hn,e.__scopeMenu),i=id(Hn,e.__scopeMenu);return n.jsx(Ac.Provider,{scope:e.__scopeMenu,children:n.jsx(Ft,{present:s||o.open,children:n.jsx(Ac.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(b6,{...a,ref:t}):n.jsx(S6,{...a,ref:t})})})})}),b6=p.forwardRef((e,t)=>{const r=bo(Hn,e.__scopeMenu),s=p.useRef(null),a=Te(t,s);return p.useEffect(()=>{const o=s.current;if(o)return ad(o)},[]),n.jsx(xy,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),S6=p.forwardRef((e,t)=>{const r=bo(Hn,e.__scopeMenu);return n.jsx(xy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),xy=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,disableOutsideScroll:v,...x}=e,w=bo(Hn,r),j=id(Hn,r),g=Tm(r),y=vE(r),N=x6(r),[b,E]=p.useState(null),C=p.useRef(null),P=Te(t,C,w.onContentChange),O=p.useRef(0),T=p.useRef(""),_=p.useRef(0),k=p.useRef(null),$=p.useRef("right"),A=p.useRef(0),U=v?km:p.Fragment,L=v?{as:ca,allowPinchZoom:!0}:void 0,F=D=>{var K,ne;const H=T.current+D,B=N().filter(oe=>!oe.disabled),V=document.activeElement,q=(K=B.find(oe=>oe.ref.current===V))==null?void 0:K.textValue,z=B.map(oe=>oe.textValue),G=O6(z,H,q),Y=(ne=B.find(oe=>oe.textValue===G))==null?void 0:ne.ref.current;(function oe(fe){T.current=fe,window.clearTimeout(O.current),fe!==""&&(O.current=window.setTimeout(()=>oe(""),1e3))})(H),Y&&setTimeout(()=>Y.focus())};p.useEffect(()=>()=>window.clearTimeout(O.current),[]),iy();const R=p.useCallback(D=>{var B,V;return $.current===((B=k.current)==null?void 0:B.side)&&L6(D,(V=k.current)==null?void 0:V.area)},[]);return n.jsx(N6,{scope:r,searchRef:T,onItemEnter:p.useCallback(D=>{R(D)&&D.preventDefault()},[R]),onItemLeave:p.useCallback(D=>{var H;R(D)||((H=C.current)==null||H.focus(),E(null))},[R]),onTriggerLeave:p.useCallback(D=>{R(D)&&D.preventDefault()},[R]),pointerGraceTimerRef:_,onPointerGraceIntentChange:p.useCallback(D=>{k.current=D},[]),children:n.jsx(U,{...L,children:n.jsx(Nm,{asChild:!0,trapped:a,onMountAutoFocus:ue(o,D=>{var H;D.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,children:n.jsx(lE,{asChild:!0,...y,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:b,onCurrentTabStopIdChange:E,onEntryFocus:ue(d,D=>{j.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(ey,{role:"menu","aria-orientation":"vertical","data-state":LE(w.open),"data-radix-menu-content":"",dir:j.dir,...g,...x,ref:P,style:{outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,D=>{const B=D.target.closest("[data-radix-menu-content]")===D.currentTarget,V=D.ctrlKey||D.altKey||D.metaKey,q=D.key.length===1;B&&(D.key==="Tab"&&D.preventDefault(),!V&&q&&F(D.key));const z=C.current;if(D.target!==z||!m6.includes(D.key))return;D.preventDefault();const Y=N().filter(K=>!K.disabled).map(K=>K.ref.current);xE.includes(D.key)&&Y.reverse(),_6(Y)}),onBlur:ue(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(O.current),T.current="")}),onPointerMove:ue(e.onPointerMove,Mc(D=>{const H=D.target,B=A.current!==D.clientX;if(D.currentTarget.contains(H)&&B){const V=D.clientX>A.current?"right":"left";$.current=V,A.current=D.clientX}}))})})})})})})});NE.displayName=Hn;var C6="MenuGroup",gy=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"group",...s,ref:t})});gy.displayName=C6;var E6="MenuLabel",bE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{...s,ref:t})});bE.displayName=E6;var jh="MenuItem",Yw="menu.itemSelect",Am=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,o=p.useRef(null),i=id(jh,e.__scopeMenu),l=fy(jh,e.__scopeMenu),d=Te(t,o),c=p.useRef(!1),u=()=>{const m=o.current;if(!r&&m){const h=new CustomEvent(Yw,{bubbles:!0,cancelable:!0});m.addEventListener(Yw,f=>s==null?void 0:s(f),{once:!0}),Ov(m,h),h.defaultPrevented?c.current=!1:i.onClose()}};return n.jsx(SE,{...a,ref:d,disabled:r,onClick:ue(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),c.current=!0},onPointerUp:ue(e.onPointerUp,m=>{var h;c.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:ue(e.onKeyDown,m=>{const h=l.searchRef.current!=="";r||h&&m.key===" "||eg.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Am.displayName=jh;var SE=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...o}=e,i=fy(jh,r),l=vE(r),d=p.useRef(null),c=Te(t,d),[u,m]=p.useState(!1),[h,f]=p.useState("");return p.useEffect(()=>{const v=d.current;v&&f((v.textContent??"").trim())},[o.children]),n.jsx(Ac.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(cE,{asChild:!0,...l,focusable:!s,children:n.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:c,onPointerMove:ue(e.onPointerMove,Mc(v=>{s?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,Mc(v=>i.onItemLeave(v))),onFocus:ue(e.onFocus,()=>m(!0)),onBlur:ue(e.onBlur,()=>m(!1))})})})}),P6="MenuCheckboxItem",CE=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(AE,{scope:e.__scopeMenu,checked:r,children:n.jsx(Am,{role:"menuitemcheckbox","aria-checked":wh(r)?"mixed":r,...a,ref:t,"data-state":yy(r),onSelect:ue(a.onSelect,()=>s==null?void 0:s(wh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});CE.displayName=P6;var EE="MenuRadioGroup",[k6,T6]=No(EE,{value:void 0,onValueChange:()=>{}}),PE=p.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,o=st(s);return n.jsx(k6,{scope:e.__scopeMenu,value:r,onValueChange:o,children:n.jsx(gy,{...a,ref:t})})});PE.displayName=EE;var kE="MenuRadioItem",TE=p.forwardRef((e,t)=>{const{value:r,...s}=e,a=T6(kE,e.__scopeMenu),o=r===a.value;return n.jsx(AE,{scope:e.__scopeMenu,checked:o,children:n.jsx(Am,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":yy(o),onSelect:ue(s.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});TE.displayName=kE;var vy="MenuItemIndicator",[AE,A6]=No(vy,{checked:!1}),ME=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,o=A6(vy,r);return n.jsx(Ft,{present:s||wh(o.checked)||o.checked===!0,children:n.jsx(Ce.span,{...a,ref:t,"data-state":yy(o.checked)})})});ME.displayName=vy;var M6="MenuSeparator",DE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});DE.displayName=M6;var D6="MenuArrow",RE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Tm(r);return n.jsx(ty,{...a,...s,ref:t})});RE.displayName=D6;var R6="MenuSub",[gte,_E]=No(R6),Ul="MenuSubTrigger",FE=p.forwardRef((e,t)=>{const r=bo(Ul,e.__scopeMenu),s=id(Ul,e.__scopeMenu),a=_E(Ul,e.__scopeMenu),o=fy(Ul,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),n.jsx(my,{asChild:!0,...c,children:n.jsx(SE,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":LE(r.open),...e,ref:am(t,a.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,Mc(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ue(e.onPointerLeave,Mc(m=>{var f,v;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const x=(v=r.content)==null?void 0:v.dataset.side,w=x==="right",j=w?-5:5,g=h[w?"left":"right"],y=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,m=>{var f;const h=o.searchRef.current!=="";e.disabled||h&&m.key===" "||p6[s.dir].includes(m.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),m.preventDefault())})})})});FE.displayName=Ul;var OE="MenuSubContent",IE=p.forwardRef((e,t)=>{const r=jE(Hn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,o=bo(Hn,e.__scopeMenu),i=id(Hn,e.__scopeMenu),l=_E(OE,e.__scopeMenu),d=p.useRef(null),c=Te(t,d);return n.jsx(Ac.Provider,{scope:e.__scopeMenu,children:n.jsx(Ft,{present:s||o.open,children:n.jsx(Ac.Slot,{scope:e.__scopeMenu,children:n.jsx(xy,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;i.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ue(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ue(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),h=f6[i.dir].includes(u.key);m&&h&&(o.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});IE.displayName=OE;function LE(e){return e?"open":"closed"}function wh(e){return e==="indeterminate"}function yy(e){return wh(e)?"indeterminate":e?"checked":"unchecked"}function _6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function F6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function O6(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=F6(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function I6(e,t){const{x:r,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>s!=u>s&&r<(c-l)*(s-d)/(u-d)+l&&(a=!a)}return a}function L6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return I6(r,t)}function Mc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $6=yE,U6=my,V6=wE,H6=NE,B6=gy,z6=bE,q6=Am,W6=CE,K6=PE,Y6=TE,G6=ME,X6=DE,Q6=RE,J6=FE,Z6=IE,jy="DropdownMenu",[e8,vte]=Wn(jy,[gE]),rn=gE(),[t8,$E]=e8(jy),UE=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=rn(t),c=p.useRef(null),[u=!1,m]=$r({prop:a,defaultProp:o,onChange:i});return n.jsx(t8,{scope:t,triggerId:cr(),triggerRef:c,contentId:cr(),open:u,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(h=>!h),[m]),modal:l,children:n.jsx($6,{...d,open:u,onOpenChange:m,dir:s,modal:l,children:r})})};UE.displayName=jy;var VE="DropdownMenuTrigger",HE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,o=$E(VE,r),i=rn(r);return n.jsx(U6,{asChild:!0,...i,children:n.jsx(Ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:am(t,o.triggerRef),onPointerDown:ue(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ue(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});HE.displayName=VE;var n8="DropdownMenuPortal",BE=e=>{const{__scopeDropdownMenu:t,...r}=e,s=rn(t);return n.jsx(V6,{...s,...r})};BE.displayName=n8;var zE="DropdownMenuContent",qE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=$E(zE,r),o=rn(r),i=p.useRef(!1);return n.jsx(H6,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...s,ref:t,onCloseAutoFocus:ue(e.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,l=>{const d=l.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,u=d.button===2||c;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qE.displayName=zE;var r8="DropdownMenuGroup",s8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(B6,{...a,...s,ref:t})});s8.displayName=r8;var a8="DropdownMenuLabel",WE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(z6,{...a,...s,ref:t})});WE.displayName=a8;var o8="DropdownMenuItem",KE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(q6,{...a,...s,ref:t})});KE.displayName=o8;var i8="DropdownMenuCheckboxItem",YE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(W6,{...a,...s,ref:t})});YE.displayName=i8;var l8="DropdownMenuRadioGroup",c8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(K6,{...a,...s,ref:t})});c8.displayName=l8;var d8="DropdownMenuRadioItem",GE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(Y6,{...a,...s,ref:t})});GE.displayName=d8;var u8="DropdownMenuItemIndicator",XE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(G6,{...a,...s,ref:t})});XE.displayName=u8;var h8="DropdownMenuSeparator",QE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(X6,{...a,...s,ref:t})});QE.displayName=h8;var m8="DropdownMenuArrow",p8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(Q6,{...a,...s,ref:t})});p8.displayName=m8;var f8="DropdownMenuSubTrigger",JE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(J6,{...a,...s,ref:t})});JE.displayName=f8;var x8="DropdownMenuSubContent",ZE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=rn(r);return n.jsx(Z6,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZE.displayName=x8;var g8=UE,v8=HE,y8=BE,eP=qE,tP=WE,nP=KE,rP=YE,sP=GE,aP=XE,oP=QE,iP=JE,lP=ZE;const j8=g8,w8=v8,N8=p.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(iP,{ref:a,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(qn,{className:"ml-auto h-4 w-4"})]}));N8.displayName=iP.displayName;const b8=p.forwardRef(({className:e,...t},r)=>n.jsx(lP,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));b8.displayName=lP.displayName;const cP=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(y8,{children:n.jsx(eP,{ref:s,sideOffset:t,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cP.displayName=eP.displayName;const Tu=p.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(nP,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Tu.displayName=nP.displayName;const S8=p.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(rP,{ref:a,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(aP,{children:n.jsx(ed,{className:"h-4 w-4"})})}),t]}));S8.displayName=rP.displayName;const C8=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(sP,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(aP,{children:n.jsx($l,{className:"h-2 w-2 fill-current"})})}),t]}));C8.displayName=sP.displayName;const E8=p.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(tP,{ref:s,className:ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));E8.displayName=tP.displayName;const dP=p.forwardRef(({className:e,...t},r)=>n.jsx(oP,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));dP.displayName=oP.displayName;const P8=()=>{const{user:e,logout:t}=ul();return n.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:n.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IL"})}),n.jsx("h1",{className:"text-xl font-semibold text-foreground bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[n.jsx(FC,{className:"h-4 w-4"}),n.jsx(ce,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),n.jsxs(j8,{children:[n.jsx(w8,{asChild:!0,children:n.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(Nc,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:e==null?void 0:e.username})]})}),n.jsxs(cP,{align:"end",className:"w-56",children:[n.jsxs(Tu,{children:[n.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Profile"]}),n.jsxs(Tu,{children:[n.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Settings"]}),n.jsx(dP,{}),n.jsxs(Tu,{onClick:t,className:"text-destructive",children:[n.jsx(zO,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},k8=[{name:"Dashboard",href:"/dashboard",icon:HO,roles:["administrator","integrator","viewer"]},{name:"Create Flow",href:"/create-flow",icon:hr,roles:["administrator","integrator"]},{name:"Create Data Structures",href:"/data-structures",icon:Vv,roles:["administrator","integrator"]},{name:"Create Communication Adapter",href:"/create-communication-adapter",icon:HC,roles:["administrator","integrator"]},{name:"Business Components",href:"/business-components",icon:Fx,roles:["administrator","integrator"]},{name:"Message Monitor",href:"/messages",icon:Qt,roles:["administrator","integrator","viewer"]},{name:"Channel Monitor",href:"/channels",icon:no,roles:["administrator","integrator","viewer"]},{name:"Admin Panel",href:"/admin",icon:Ht,roles:["administrator"]},{name:"Settings",href:"/settings",icon:Ze,roles:["administrator"]}],T8=()=>{const[e,t]=p.useState(!1),{user:r}=ul(),s=k8.filter(a=>r&&a.roles.includes(r.role));return n.jsx("div",{className:ie("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-4 border-b border-border",children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?n.jsx(qn,{className:"h-4 w-4 transition-transform duration-300"}):n.jsx(OC,{className:"h-4 w-4 transition-transform duration-300"})})}),n.jsx("nav",{className:"flex-1 p-4 space-y-2",children:s.map(a=>n.jsxs(t5,{to:a.href,className:({isActive:o})=>ie("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",o?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[n.jsx(a.icon,{className:ie("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&n.jsx("span",{className:"transition-all duration-300",children:a.name})]},a.name))}),n.jsx("div",{className:"p-4 border-t border-border",children:n.jsx("div",{className:ie("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Version 1.0.0"}),n.jsx("div",{children:" 2024 IntegrixLab"})]})})})]})})},A8=Zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$n=p.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ie(A8({variant:t}),e),...r}));$n.displayName="Alert";const M8=p.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));M8.displayName="AlertTitle";const Un=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));Un.displayName="AlertDescription";const D8=()=>{const{tokenExpiry:e,logout:t}=ul(),{toast:r}=wt(),[s,a]=p.useState(!1),[o,i]=p.useState(0);p.useEffect(()=>{if(!e)return;const c=()=>{const m=e-Date.now();i(m),m<=10*60*1e3&&m>0?a(!0):a(!1),m<=5*60*1e3&&m>4*60*1e3&&r({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),m<=1*60*1e3&&m>30*1e3&&r({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[e,r]);const l=()=>{a(!1),r({title:"Session Extended",description:"Your session has been extended."})},d=c=>{const u=Math.floor(c/6e4),m=Math.floor(c%(1e3*60)/1e3);return`${u}:${m.toString().padStart(2,"0")}`};return!s||o<=0?null:n.jsx("div",{className:"fixed top-4 right-4 z-50 w-80",children:n.jsxs($n,{className:"border-warning bg-warning/10",children:[n.jsx(hs,{className:"h-4 w-4"}),n.jsxs(Un,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Session expires in:"}),n.jsx("p",{className:"text-lg font-mono",children:d(o)})]}),n.jsxs(W,{size:"sm",variant:"outline",onClick:l,className:"ml-2",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Extend"]})]})]})})},R8=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(P8,{}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx(T8,{}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx(V$,{})})]}),n.jsx(D8,{})]}),I=p.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));I.displayName="Input";var _8="Label",uP=p.forwardRef((e,t)=>n.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uP.displayName=_8;var hP=uP;const F8=Zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=p.forwardRef(({className:e,...t},r)=>n.jsx(hP,{ref:r,className:ie(F8(),e),...t}));S.displayName=hP.displayName;const ee=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const re=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const se=p.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));se.displayName="CardTitle";const ge=p.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const te=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));te.displayName="CardContent";const O8=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));O8.displayName="CardFooter";const I8=()=>{var h,f;const[e,t]=p.useState(""),[r,s]=p.useState(""),[a,o]=p.useState(!1),{login:i,isAuthenticated:l}=ul(),{toast:d}=wt(),u=((f=(h=ws().state)==null?void 0:h.from)==null?void 0:f.pathname)||"/dashboard";if(l)return n.jsx(vh,{to:u,replace:!0});const m=async v=>{v.preventDefault(),o(!0),await i(e,r,u)||d({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),o(!1)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary relative overflow-hidden p-4",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),n.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),n.jsx("div",{className:"w-full max-w-md relative z-10",children:n.jsxs(ee,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[n.jsxs(re,{className:"text-center space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx(Sn,{className:"h-8 w-8 text-primary-foreground"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(se,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"}),n.jsx(ge,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),n.jsx(te,{className:"space-y-6 animate-slide-up",children:n.jsxs("form",{onSubmit:m,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Nc,{className:"h-4 w-4"}),"Username"]}),n.jsx(I,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:v=>t(v.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(VO,{className:"h-4 w-4"}),"Password"]}),n.jsx(I,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:v=>s(v.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsx(W,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(ss,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx(ch,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function L8(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...v}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})}function u(m,h){const f=(h==null?void 0:h[e][d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,$8(a,...t)]}function $8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wy="Progress",Ny=100,[U8,yte]=L8(wy),[V8,H8]=U8(wy),mP=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:o=B8,...i}=e;(a||a===0)&&!Gw(a)&&console.error(z8(`${a}`,"Progress"));const l=Gw(a)?a:Ny;s!==null&&!Xw(s,l)&&console.error(q8(`${s}`,"Progress"));const d=Xw(s,l)?s:null,c=Nh(d)?o(d,l):void 0;return n.jsx(V8,{scope:r,value:d,max:l,children:n.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Nh(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":xP(d,l),"data-value":d??void 0,"data-max":l,...i,ref:t})})});mP.displayName=wy;var pP="ProgressIndicator",fP=p.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=H8(pP,r);return n.jsx(Ce.div,{"data-state":xP(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});fP.displayName=pP;function B8(e,t){return`${Math.round(e/t*100)}%`}function xP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nh(e){return typeof e=="number"}function Gw(e){return Nh(e)&&!isNaN(e)&&e>0}function Xw(e,t){return Nh(e)&&!isNaN(e)&&e<=t&&e>=0}function z8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ny}\`.`}function q8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ny} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gP=mP,W8=fP;const Mm=p.forwardRef(({className:e,value:t,...r},s)=>n.jsx(gP,{ref:s,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(W8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Mm.displayName=gP.displayName;function tg(e,[t,r]){return Math.min(r,Math.max(t,e))}function by(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var K8=[" ","Enter","ArrowUp","ArrowDown"],Y8=[" ","Enter"],ld="Select",[Dm,Rm,G8]=om(ld),[hl,jte]=Wn(ld,[G8,il]),_m=il(),[X8,ba]=hl(ld),[Q8,J8]=hl(ld),vP=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:d,dir:c,name:u,autoComplete:m,disabled:h,required:f,form:v}=e,x=_m(t),[w,j]=p.useState(null),[g,y]=p.useState(null),[N,b]=p.useState(!1),E=sd(c),[C=!1,P]=$r({prop:s,defaultProp:a,onChange:o}),[O,T]=$r({prop:i,defaultProp:l,onChange:d}),_=p.useRef(null),k=w?v||!!w.closest("form"):!0,[$,A]=p.useState(new Set),U=Array.from($).map(L=>L.props.value).join(";");return n.jsx(k2,{...x,children:n.jsxs(X8,{required:f,scope:t,trigger:w,onTriggerChange:j,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:cr(),value:O,onValueChange:T,open:C,onOpenChange:P,dir:E,triggerPointerDownPosRef:_,disabled:h,children:[n.jsx(Dm.Provider,{scope:t,children:n.jsx(Q8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{A(F=>new Set(F).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{A(F=>{const R=new Set(F);return R.delete(L),R})},[]),children:r})}),k?n.jsxs(BP,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:O,onChange:L=>T(L.target.value),disabled:h,form:v,children:[O===void 0?n.jsx("option",{value:""}):null,Array.from($)]},U):null]})})};vP.displayName=ld;var yP="SelectTrigger",jP=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,o=_m(r),i=ba(yP,r),l=i.disabled||s,d=Te(t,i.onTriggerChange),c=Rm(r),u=p.useRef("touch"),[m,h,f]=zP(x=>{const w=c().filter(y=>!y.disabled),j=w.find(y=>y.value===i.value),g=qP(w,x,j);g!==void 0&&i.onValueChange(g.value)}),v=x=>{l||(i.onOpenChange(!0),f()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(Zv,{asChild:!0,...o,children:n.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HP(i.value)?"":void 0,...a,ref:d,onClick:ue(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&v(x)}),onPointerDown:ue(a.onPointerDown,x=>{u.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:ue(a.onKeyDown,x=>{const w=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(w&&x.key===" ")&&K8.includes(x.key)&&(v(),x.preventDefault())})})})});jP.displayName=yP;var wP="SelectValue",NP=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:o,placeholder:i="",...l}=e,d=ba(wP,r),{onValueNodeHasChildrenChange:c}=d,u=o!==void 0,m=Te(t,d.onValueNodeChange);return Mt(()=>{c(u)},[c,u]),n.jsx(Ce.span,{...l,ref:m,style:{pointerEvents:"none"},children:HP(d.value)?n.jsx(n.Fragment,{children:i}):o})});NP.displayName=wP;var Z8="SelectIcon",bP=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});bP.displayName=Z8;var eU="SelectPortal",SP=e=>n.jsx(Qc,{asChild:!0,...e});SP.displayName=eU;var ao="SelectContent",CP=p.forwardRef((e,t)=>{const r=ba(ao,e.__scopeSelect),[s,a]=p.useState();if(Mt(()=>{a(new DocumentFragment)},[]),!r.open){const o=s;return o?gr.createPortal(n.jsx(EP,{scope:e.__scopeSelect,children:n.jsx(Dm.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(PP,{...e,ref:t})});CP.displayName=ao;var Qn=10,[EP,Sa]=hl(ao),tU="SelectContentImpl",PP=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:x,avoidCollisions:w,...j}=e,g=ba(ao,r),[y,N]=p.useState(null),[b,E]=p.useState(null),C=Te(t,K=>N(K)),[P,O]=p.useState(null),[T,_]=p.useState(null),k=Rm(r),[$,A]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(y)return ad(y)},[y]),iy();const L=p.useCallback(K=>{const[ne,...oe]=k().map(he=>he.ref.current),[fe]=oe.slice(-1),xe=document.activeElement;for(const he of K)if(he===xe||(he==null||he.scrollIntoView({block:"nearest"}),he===ne&&b&&(b.scrollTop=0),he===fe&&b&&(b.scrollTop=b.scrollHeight),he==null||he.focus(),document.activeElement!==xe))return},[k,b]),F=p.useCallback(()=>L([P,y]),[L,P,y]);p.useEffect(()=>{$&&F()},[$,F]);const{onOpenChange:R,triggerPointerDownPosRef:D}=g;p.useEffect(()=>{if(y){let K={x:0,y:0};const ne=fe=>{var xe,he;K={x:Math.abs(Math.round(fe.pageX)-(((xe=D.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((he=D.current)==null?void 0:he.y)??0))}},oe=fe=>{K.x<=10&&K.y<=10?fe.preventDefault():y.contains(fe.target)||R(!1),document.removeEventListener("pointermove",ne),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,R,D]),p.useEffect(()=>{const K=()=>R(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[R]);const[H,B]=zP(K=>{const ne=k().filter(xe=>!xe.disabled),oe=ne.find(xe=>xe.ref.current===document.activeElement),fe=qP(ne,K,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),V=p.useCallback((K,ne,oe)=>{const fe=!U.current&&!oe;(g.value!==void 0&&g.value===ne||fe)&&(O(K),fe&&(U.current=!0))},[g.value]),q=p.useCallback(()=>y==null?void 0:y.focus(),[y]),z=p.useCallback((K,ne,oe)=>{const fe=!U.current&&!oe;(g.value!==void 0&&g.value===ne||fe)&&_(K)},[g.value]),G=s==="popper"?ng:kP,Y=G===ng?{side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return n.jsx(EP,{scope:r,content:y,viewport:b,onViewportChange:E,itemRefCallback:V,selectedItem:P,onItemLeave:q,itemTextRefCallback:z,focusSelectedItem:F,selectedItemText:T,position:s,isPositioned:$,searchRef:H,children:n.jsx(km,{as:ca,allowPinchZoom:!0,children:n.jsx(Nm,{asChild:!0,trapped:g.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ue(a,K=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),K.preventDefault()}),children:n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:K=>K.preventDefault(),...j,...Y,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:ue(j.onKeyDown,K=>{const ne=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ne&&K.key.length===1&&B(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let fe=k().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const xe=K.target,he=fe.indexOf(xe);fe=fe.slice(he+1)}setTimeout(()=>L(fe)),K.preventDefault()}})})})})})})});PP.displayName=tU;var nU="SelectItemAlignedPosition",kP=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,o=ba(ao,r),i=Sa(ao,r),[l,d]=p.useState(null),[c,u]=p.useState(null),m=Te(t,C=>u(C)),h=Rm(r),f=p.useRef(!1),v=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:j,focusSelectedItem:g}=i,y=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&x&&w&&j){const C=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),T=j.getBoundingClientRect();if(o.dir!=="rtl"){const xe=T.left-P.left,he=O.left-xe,ve=C.left-he,we=C.width+ve,Re=Math.max(we,P.width),Fe=window.innerWidth-Qn,Et=tg(he,[Qn,Math.max(Qn,Fe-Re)]);l.style.minWidth=we+"px",l.style.left=Et+"px"}else{const xe=P.right-T.right,he=window.innerWidth-O.right-xe,ve=window.innerWidth-C.right-he,we=C.width+ve,Re=Math.max(we,P.width),Fe=window.innerWidth-Qn,Et=tg(he,[Qn,Math.max(Qn,Fe-Re)]);l.style.minWidth=we+"px",l.style.right=Et+"px"}const _=h(),k=window.innerHeight-Qn*2,$=x.scrollHeight,A=window.getComputedStyle(c),U=parseInt(A.borderTopWidth,10),L=parseInt(A.paddingTop,10),F=parseInt(A.borderBottomWidth,10),R=parseInt(A.paddingBottom,10),D=U+L+$+R+F,H=Math.min(w.offsetHeight*5,D),B=window.getComputedStyle(x),V=parseInt(B.paddingTop,10),q=parseInt(B.paddingBottom,10),z=C.top+C.height/2-Qn,G=k-z,Y=w.offsetHeight/2,K=w.offsetTop+Y,ne=U+L+K,oe=D-ne;if(ne<=z){const xe=_.length>0&&w===_[_.length-1].ref.current;l.style.bottom="0px";const he=c.clientHeight-x.offsetTop-x.offsetHeight,ve=Math.max(G,Y+(xe?q:0)+he+F),we=ne+ve;l.style.height=we+"px"}else{const xe=_.length>0&&w===_[0].ref.current;l.style.top="0px";const ve=Math.max(z,U+x.offsetTop+(xe?V:0)+Y)+oe;l.style.height=ve+"px",x.scrollTop=ne-z+x.offsetTop}l.style.margin=`${Qn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=k+"px",s==null||s(),requestAnimationFrame(()=>f.current=!0)}},[h,o.trigger,o.valueNode,l,c,x,w,j,o.dir,s]);Mt(()=>y(),[y]);const[N,b]=p.useState();Mt(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const E=p.useCallback(C=>{C&&v.current===!0&&(y(),g==null||g(),v.current=!1)},[y,g]);return n.jsx(sU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(Ce.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});kP.displayName=nU;var rU="SelectPopperPosition",ng=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Qn,...o}=e,i=_m(r);return n.jsx(ey,{...i,...o,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ng.displayName=rU;var[sU,Sy]=hl(ao,{}),rg="SelectViewport",TP=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,o=Sa(rg,r),i=Sy(rg,r),l=Te(t,o.onViewportChange),d=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Dm.Slot,{scope:r,children:n.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const f=Math.abs(d.current-u.scrollTop);if(f>0){const v=window.innerHeight-Qn*2,x=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),j=Math.max(x,w);if(j<v){const g=j+f,y=Math.min(v,g),N=g-y;m.style.height=y+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});TP.displayName=rg;var AP="SelectGroup",[aU,oU]=hl(AP),iU=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=cr();return n.jsx(aU,{scope:r,id:a,children:n.jsx(Ce.div,{role:"group","aria-labelledby":a,...s,ref:t})})});iU.displayName=AP;var MP="SelectLabel",DP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=oU(MP,r);return n.jsx(Ce.div,{id:a.id,...s,ref:t})});DP.displayName=MP;var bh="SelectItem",[lU,RP]=hl(bh),_P=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:o,...i}=e,l=ba(bh,r),d=Sa(bh,r),c=l.value===s,[u,m]=p.useState(o??""),[h,f]=p.useState(!1),v=Te(t,g=>{var y;return(y=d.itemRefCallback)==null?void 0:y.call(d,g,s,a)}),x=cr(),w=p.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(lU,{scope:r,value:s,disabled:a,textId:x,isSelected:c,onItemTextChange:p.useCallback(g=>{m(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:n.jsx(Dm.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Ce.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:ue(i.onFocus,()=>f(!0)),onBlur:ue(i.onBlur,()=>f(!1)),onClick:ue(i.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:ue(i.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:ue(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:ue(i.onPointerMove,g=>{var y;w.current=g.pointerType,a?(y=d.onItemLeave)==null||y.call(d):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(i.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=d.onItemLeave)==null||y.call(d))}),onKeyDown:ue(i.onKeyDown,g=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(Y8.includes(g.key)&&j(),g.key===" "&&g.preventDefault())})})})})});_P.displayName=bh;var Vl="SelectItemText",FP=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...o}=e,i=ba(Vl,r),l=Sa(Vl,r),d=RP(Vl,r),c=J8(Vl,r),[u,m]=p.useState(null),h=Te(t,j=>m(j),d.onItemTextChange,j=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,j,d.value,d.disabled)}),f=u==null?void 0:u.textContent,v=p.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Mt(()=>(x(v),()=>w(v)),[x,w,v]),n.jsxs(n.Fragment,{children:[n.jsx(Ce.span,{id:d.textId,...o,ref:h}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gr.createPortal(o.children,i.valueNode):null]})});FP.displayName=Vl;var OP="SelectItemIndicator",IP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return RP(OP,r).isSelected?n.jsx(Ce.span,{"aria-hidden":!0,...s,ref:t}):null});IP.displayName=OP;var sg="SelectScrollUpButton",LP=p.forwardRef((e,t)=>{const r=Sa(sg,e.__scopeSelect),s=Sy(sg,e.__scopeSelect),[a,o]=p.useState(!1),i=Te(t,s.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollTop>0;o(c)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(UP,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});LP.displayName=sg;var ag="SelectScrollDownButton",$P=p.forwardRef((e,t)=>{const r=Sa(ag,e.__scopeSelect),s=Sy(ag,e.__scopeSelect),[a,o]=p.useState(!1),i=Te(t,s.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<c;o(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(UP,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});$P.displayName=ag;var UP=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,o=Sa("SelectScrollButton",r),i=p.useRef(null),l=Rm(r),d=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),Mt(()=>{var u;const c=l().find(m=>m.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:ue(a.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{d()})})}),cU="SelectSeparator",VP=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Ce.div,{"aria-hidden":!0,...s,ref:t})});VP.displayName=cU;var og="SelectArrow",dU=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=_m(r),o=ba(og,r),i=Sa(og,r);return o.open&&i.position==="popper"?n.jsx(ty,{...a,...s,ref:t}):null});dU.displayName=og;function HP(e){return e===""||e===void 0}var BP=p.forwardRef((e,t)=>{const{value:r,...s}=e,a=p.useRef(null),o=Te(t,a),i=by(r);return p.useEffect(()=>{const l=a.current,d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&u){const m=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[i,r]),n.jsx(Jc,{asChild:!0,children:n.jsx("select",{...s,ref:o,defaultValue:r})})});BP.displayName="BubbleSelect";function zP(e){const t=st(e),r=p.useRef(""),s=p.useRef(0),a=p.useCallback(i=>{const l=r.current+i;t(l),function d(c){r.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),o=p.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,o]}function qP(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=uU(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function uU(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var hU=vP,WP=jP,mU=NP,pU=bP,fU=SP,KP=CP,xU=TP,YP=DP,GP=_P,gU=FP,vU=IP,XP=LP,QP=$P,JP=VP;const J=hU,Z=mU,X=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(WP,{ref:s,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(pU,{asChild:!0,children:n.jsx(ur,{className:"h-4 w-4 opacity-50"})})]}));X.displayName=WP.displayName;const ZP=p.forwardRef(({className:e,...t},r)=>n.jsx(XP,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(FO,{className:"h-4 w-4"})}));ZP.displayName=XP.displayName;const ek=p.forwardRef(({className:e,...t},r)=>n.jsx(QP,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ur,{className:"h-4 w-4"})}));ek.displayName=QP.displayName;const Q=p.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(fU,{children:n.jsxs(KP,{ref:a,className:ie("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(ZP,{}),n.jsx(xU,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(ek,{})]})}));Q.displayName=KP.displayName;const yU=p.forwardRef(({className:e,...t},r)=>n.jsx(YP,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yU.displayName=YP.displayName;const M=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(GP,{ref:s,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(vU,{children:n.jsx(ed,{className:"h-4 w-4"})})}),n.jsx(gU,{children:t})]}));M.displayName=GP.displayName;const jU=p.forwardRef(({className:e,...t},r)=>n.jsx(JP,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));jU.displayName=JP.displayName;const Tl="http://localhost:8080/api/business-components";class wU{async getAllBusinessComponents(){try{const t=await fetch(Tl);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{success:!0,data:await t.json()}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{const r=await fetch(`${Tl}/${t}`);if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0,data:await r.json()}}catch(r){return console.error("Failed to fetch business component:",r),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const r=await fetch(Tl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("Frontend: Response status:",r.status),!r.ok){const a=await r.text();throw console.error("Frontend: Error response:",a),new Error(`HTTP error! status: ${r.status}, message: ${a}`)}const s=await r.json();return console.log("Frontend: Created business component:",s),{success:!0,data:s}}catch(r){return console.error("Frontend: Failed to create business component:",r),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{const r=await fetch(`${Tl}/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0,data:await r.json()}}catch(r){return console.error("Failed to update business component:",r),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{const r=await fetch(`${Tl}/${t}`,{method:"DELETE"});if(!r.ok){if(r.status===404)return{success:!1,error:"Business component not found"};throw new Error(`HTTP error! status: ${r.status}`)}return{success:!0}}catch(r){return console.error("Failed to delete business component:",r),{success:!1,error:"Failed to delete business component"}}}}const Ua=new wU;class NU{async getChannels(t){try{const r=t?`/channels?businessComponentId=${t}`:"/channels";return await pe.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch channels"}}}async getChannelById(t){try{return await pe.get(`/channels/${t}`)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch channel"}}}async createChannel(t){try{return await pe.post("/channels",t)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to create channel"}}}async updateChannel(t,r){try{return await pe.put(`/channels/${t}`,r)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to update channel"}}}async deleteChannel(t){try{return await pe.delete(`/channels/${t}`),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to delete channel"}}}async getChannelLogs(t,r){var s;try{const a=new URLSearchParams;(s=r==null?void 0:r.level)!=null&&s.length&&a.append("level",r.level.join(",")),r!=null&&r.dateFrom&&a.append("dateFrom",r.dateFrom),r!=null&&r.dateTo&&a.append("dateTo",r.dateTo),r!=null&&r.search&&a.append("search",r.search);const o=a.toString()?`?${a.toString()}`:"";return await pe.get(`/channels/${t}/logs${o}`)}catch(a){return{success:!1,error:a instanceof Error?a.message:"Failed to fetch channel logs"}}}async getAvailableAdapters(){try{return await pe.get("/adapters")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapters"}}}async testChannelConnection(t){try{return await pe.post(`/channels/${t}/test`),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to test channel connection"}}}}const ig=new NU;class bU{async createStructure(t){return pe.post("/structures",t)}async getStructures(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(i=>r.append(a,i.toString())):r.append(a,o.toString()))});const s=`/structures${r.toString()?`?${r.toString()}`:""}`;return pe.get(s)}async getStructure(t){return pe.get(`/structures/${t}`)}async updateStructure(t,r){return pe.put(`/structures/${t}`,r)}async deleteStructure(t){return pe.delete(`/structures/${t}`)}async validateStructure(t,r){return pe.post("/structures/validate",{structure:t,type:r})}async parseStructure(t,r){return pe.post("/structures/parse",{content:t,type:r})}async generateSampleData(t,r){const s=`/structures/${t}/sample${r?`?format=${r}`:""}`;return pe.get(s)}async getStructureUsage(t){return pe.get(`/structures/${t}/usage`)}async cloneStructure(t,r){return pe.post(`/structures/${t}/clone`,{name:r})}async compareStructures(t,r){return pe.post("/structures/compare",{sourceId:t,targetId:r})}async getStructureMappings(t,r){return pe.get(`/structures/mappings?source=${t}&target=${r}`)}async exportStructure(t,r){return pe.get(`/structures/${t}/export?format=${r}`)}async searchStructures(t,r){const s=new URLSearchParams({q:t});return r&&Object.entries(r).forEach(([a,o])=>{o!==void 0&&s.append(a,o.toString())}),pe.get(`/structures/search?${s.toString()}`)}async getStructureVersions(t){return pe.get(`/structures/${t}/versions`)}}const SU=new bU,Qw=[{id:"1",name:"ACME Corporation",description:"Manufacturing company specializing in enterprise solutions",contactEmail:"admin@acme.com",contactPhone:"+1-555-0123",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"2",name:"TechStart Inc",description:"Technology startup focused on digital transformation",contactEmail:"tech@techstart.com",contactPhone:"+1-555-0124",createdAt:"2024-01-10T09:15:00Z",updatedAt:"2024-01-20T16:45:00Z"},{id:"3",name:"Global Retail Ltd",description:"Large retail chain with global operations",contactEmail:"contact@globalretail.com",contactPhone:"+1-555-0125",createdAt:"2024-01-05T11:20:00Z",updatedAt:"2024-01-18T09:15:00Z"}],zr=()=>{const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,o]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=async()=>{try{console.log("Loading businessComponent data...");const[c,u]=await Promise.all([Ua.getAllBusinessComponents(),ig.getAvailableAdapters()]);let m=!1;c.success&&c.data&&(console.log("API businessComponents loaded:",c.data),t(c.data),m=!0),u.success&&u.data&&(console.log("API adapters loaded:",u.data),s(u.data)),m||(console.log("Using mock businessComponent data as fallback"),t(Qw))}catch(c){console.error("Error loading data, using mock data:",c),t(Qw)}finally{o(!1)}};return{businessComponents:e,adapters:r,loading:a,getAdaptersForBusinessComponent:async c=>{const u=await ig.getChannels(c);if(u.success&&u.data){const m=u.data.flatMap(h=>h.adapters.map(f=>f.id));return[...new Set(m)]}return[]},getStructuresForBusinessComponent:async c=>{const u=await SU.getStructures();return u.success&&u.data?u.data.structures.filter(m=>m.businessComponentId===c).map(m=>m.id):[]},refreshData:i}},CU=[{title:"Active Integrations",value:"24",change:"+12%",icon:no,color:"text-success"},{title:"Messages Today",value:"1,543",change:"+8%",icon:Qt,color:"text-info"},{title:"Success Rate",value:"99.2%",change:"+0.3%",icon:Or,color:"text-success"},{title:"Avg Response Time",value:"127ms",change:"-15ms",icon:lr,color:"text-warning"}],Jw={1:{messages:[{id:"1",source:"SAP ERP",target:"Salesforce",status:"success",time:"2 min ago"},{id:"2",source:"REST API",target:"MySQL DB",status:"success",time:"5 min ago"},{id:"3",source:"SOAP Service",target:"JSON API",status:"processing",time:"15 min ago"}],channels:[{name:"SAP-to-Salesforce",status:"running",load:85},{name:"REST-to-Database",status:"running",load:45},{name:"SOAP-Gateway",status:"running",load:92}]},2:{messages:[{id:"4",source:"Salesforce API",target:"Email Service",status:"success",time:"1 min ago"},{id:"5",source:"REST API",target:"SMS Gateway",status:"failed",time:"8 min ago"},{id:"6",source:"File System",target:"HTTP Endpoint",status:"success",time:"12 min ago"}],channels:[{name:"Salesforce-to-Email",status:"running",load:67},{name:"API-to-SMS",status:"idle",load:12},{name:"File-Processor",status:"running",load:78}]}},EU=()=>{var i,l;console.log("Dashboard component loading...");const[e,t]=p.useState(null),{businessComponents:r,loading:s}=zr();console.log("Dashboard - business components:",r,"loading:",s);const a=e?((i=Jw[e.id])==null?void 0:i.messages)||[]:[],o=e?((l=Jw[e.id])==null?void 0:l.channels)||[]:[];return console.log("Dashboard render - about to return JSX"),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor your integration platform performance"})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),"Business Component Filter"]}),n.jsx(ge,{children:"Filter dashboard data by business component"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(J,{value:(e==null?void 0:e.id)||"",onValueChange:d=>{const c=r.find(u=>u.id===d)||null;t(c)},disabled:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a business component to filter data"})}),n.jsx(Q,{children:r.map(d=>n.jsx(M,{value:d.id,children:d.name},d.id))})]})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:CU.map((d,c)=>n.jsxs(ee,{className:"bg-gradient-secondary border-border/50 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",style:{animationDelay:`${c*.1}s`},children:[n.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:d.title}),n.jsx(d.icon,{className:`h-4 w-4 ${d.color} transition-all duration-300 group-hover:scale-110`})]}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-foreground",children:d.value}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"text-success",children:d.change})," from last hour"]})]})]},d.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"h-5 w-5"}),"Recent Messages"]}),n.jsx(ge,{children:"Latest integration message flows"})]}),n.jsx(te,{className:"space-y-4",children:e&&a.length>0?a.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 transition-all duration-300 hover:bg-muted/70 group",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[d.status==="success"&&n.jsx(Or,{className:"h-4 w-4 text-success"}),d.status==="failed"&&n.jsx(Ya,{className:"h-4 w-4 text-destructive"}),d.status==="processing"&&n.jsx(hs,{className:"h-4 w-4 text-warning"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium",children:[d.source,"  ",d.target]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:d.time})]})]}),n.jsx(ce,{variant:d.status==="success"?"default":d.status==="failed"?"destructive":"secondary",children:d.status})]},d.id)):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:e?"No recent messages for this business component":"Select a business component to view messages"})})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(BC,{className:"h-5 w-5"}),"Channel Status"]}),n.jsx(ge,{children:"Integration channel performance"})]}),n.jsx(te,{className:"space-y-4",children:e&&o.length>0?o.map(d=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${d.status==="running"?"bg-success":"bg-muted-foreground"}`}),n.jsx("span",{className:"text-sm font-medium",children:d.name})]}),n.jsx(ce,{variant:d.status==="running"?"default":"secondary",children:d.status})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"Load"}),n.jsxs("span",{children:[d.load,"%"]})]}),n.jsx(Mm,{value:d.load,className:"h-2"})]})]},d.name)):n.jsx("div",{className:"text-center text-muted-foreground py-8",children:e?"No channels for this business component":"Select a business component to view channels"})})]})]})]})};function PU(){const e=dl();return n.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ee,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(Fa,{className:"h-8 w-8 text-primary"})}),n.jsx(se,{className:"text-xl",children:"Create Orchestration Flow"}),n.jsx(ge,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual workflow designer"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Message routing & transformation"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Multi-system orchestration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Error handling & compensation"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),n.jsxs(ee,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(li,{className:"h-8 w-8 text-primary"})}),n.jsx(se,{className:"text-xl",children:"Create Direct Mapping Flow"}),n.jsx(ge,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Point-to-point integration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual field mapping"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Transformation functions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Quick setup & deployment"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]})]})}const Se=p.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Se.displayName="Textarea";var kU="Separator",Zw="horizontal",TU=["horizontal","vertical"],tk=p.forwardRef((e,t)=>{const{decorative:r,orientation:s=Zw,...a}=e,o=AU(s)?s:Zw,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(Ce.div,{"data-orientation":o,...l,...a,ref:t})});tk.displayName=kU;function AU(e){return TU.includes(e)}var nk=tk;const We=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(nk,{ref:a,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));We.displayName=nk.displayName;const MU=({onTestFlow:e,onSaveFlow:t})=>n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Actions"}),n.jsx(ge,{children:"Test and save your integration flow"})]}),n.jsxs(te,{className:"space-y-3",children:[n.jsxs(W,{onClick:e,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Test Flow"]}),n.jsxs(W,{onClick:t,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(ha,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsx(We,{}),n.jsxs(W,{variant:"outline",className:"w-full",children:[n.jsx(IC,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),DU=({sourceAdapter:e,targetAdapter:t,sourceStructure:r,targetStructure:s,selectedTransformations:a,adapters:o,sampleStructures:i})=>{var c,u,m,h;const l=f=>o.find(v=>v.id===f),d=f=>i.find(v=>v.id===f);return n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(re,{children:n.jsx(se,{children:"Flow Summary"})}),n.jsx(te,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(ce,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source:"}),n.jsx("span",{children:e?(c=l(e))==null?void 0:c.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),n.jsx("span",{children:r?(u=d(r))==null?void 0:u.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target:"}),n.jsx("span",{children:t?(m=l(t))==null?void 0:m.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),n.jsx("span",{children:s?(h=d(s))==null?void 0:h.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),n.jsx("span",{children:a.length})]})]})})]})},RU=()=>n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(re,{children:n.jsx(se,{children:"Quick Tips"})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Add transformations to modify data between systems"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]});var Cy="Checkbox",[_U,wte]=Wn(Cy),[FU,OU]=_U(Cy),rk=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...m}=e,[h,f]=p.useState(null),v=Te(t,N=>f(N)),x=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[j=!1,g]=$r({prop:a,defaultProp:o,onChange:c}),y=p.useRef(j);return p.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const b=()=>g(y.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[h,g]),n.jsxs(FU,{scope:r,state:j,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":aa(j)?"mixed":j,"aria-required":i,"data-state":ok(j),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:v,onKeyDown:ue(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ue(e.onClick,N=>{g(b=>aa(b)?!0:!b),w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),w&&n.jsx(IU,{control:h,bubbles:!x.current,name:s,value:d,checked:j,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:aa(o)?!1:o})]})});rk.displayName=Cy;var sk="CheckboxIndicator",ak=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,o=OU(sk,r);return n.jsx(Ft,{present:s||aa(o.state)||o.state===!0,children:n.jsx(Ce.span,{"data-state":ok(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ak.displayName=sk;var IU=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...o}=e,i=p.useRef(null),l=by(r),d=Xv(t);p.useEffect(()=>{const u=i.current,m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&f){const v=new Event("click",{bubbles:s});u.indeterminate=aa(r),f.call(u,aa(r)?!1:r),u.dispatchEvent(v)}},[l,r,s]);const c=p.useRef(aa(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aa(e){return e==="indeterminate"}function ok(e){return aa(e)?"indeterminate":e?"checked":"unchecked"}var ik=rk,LU=ak;const Ie=p.forwardRef(({className:e,...t},r)=>n.jsx(ik,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(LU,{className:ie("flex items-center justify-center text-current"),children:n.jsx(ed,{className:"h-4 w-4"})})}));Ie.displayName=ik.displayName;const lk=e=>{try{const t=JSON.parse(e);return lg(t)}catch{return null}},lg=e=>{if(Array.isArray(e))return e.length>0?["array",lg(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[r,s]of Object.entries(e))t[r]=lg(s);return t}else return typeof e},ck=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a={};return r.querySelectorAll("complexType, xs\\:complexType").forEach((i,l)=>{const d=i.getAttribute("name")||`ComplexType${l+1}`,c={};i.querySelectorAll("element, xs\\:element").forEach(m=>{const h=m.getAttribute("name"),f=m.getAttribute("type")||"string";h&&(c[h]=f.replace(/^(xs:|xsd:)/,""))}),Object.keys(c).length>0&&(a[d]=c)}),Object.keys(a).length===0&&r.querySelectorAll("element, xs\\:element").forEach(l=>{const d=l.getAttribute("name"),c=l.getAttribute("type")||"string";d&&(a[d]=c.replace(/^(xs:|xsd:)/,""))}),Object.keys(a).length>0?a:null}catch{return null}},$U=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a=r.querySelectorAll("part, wsdl\\:part");return a.length>0?a[0].getAttribute("name"):null}catch{return null}},UU=e=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const a=r.documentElement,o=a.getAttribute("targetNamespace")||"",i=r.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";i.length>0&&(l=i[0].getAttribute("location")||"");let d="";for(let c=0;c<a.attributes.length;c++){const u=a.attributes[c];if(u.name.startsWith("xmlns:")&&u.value===o){d=u.name.replace("xmlns:","");break}}return{uri:o,prefix:d,targetNamespace:o,schemaLocation:l}}catch{return null}},Ey=e=>{const t={};return e.forEach(r=>{r.children&&r.children.length>0?t[r.name]=Ey(r.children):t[r.name]=r.type}),t},VU=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],ml=()=>{const[e,t]=p.useState(VU),[r,s]=p.useState(null),{toast:a}=wt();return{structures:e,selectedStructure:r,setSelectedStructure:s,saveStructure:(d,c,u,m,h,f,v,x,w,j)=>{if(!d)return a({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let g={};if(m)g=lk(m);else if(v)g=ck(v);else if(h)g={message:"XSD parsing not fully implemented yet"};else if(f)g={message:"EDMX parsing not fully implemented yet"};else if(x.length>0)g=Ey(x);else return a({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;const y={id:Date.now().toString(),name:d,type:m?"json":v?"wsdl":h?"xsd":f?"edmx":"custom",description:c,structure:g,createdAt:new Date().toISOString().split("T")[0],usage:u,namespace:(w==="xsd"||w==="wsdl"||w==="edmx")&&j.uri?j:void 0};return t([...e,y]),a({title:"Structure Saved",description:`Data structure "${d}" has been created successfully`}),!0},deleteStructure:d=>{t(e.filter(c=>c.id!==d)),(r==null?void 0:r.id)===d&&s(null),a({title:"Structure Deleted",description:"Data structure has been removed"})},duplicateStructure:d=>{const c={...d,id:Date.now().toString(),name:`${d.name} (Copy)`,createdAt:new Date().toISOString().split("T")[0]};t([...e,c]),a({title:"Structure Duplicated",description:`Created copy of "${d.name}"`})}}};function dk({fields:e,mappings:t,side:r,selectedField:s,onToggleExpanded:a,onDragStart:o,onDragEnd:i,onDragOver:l,onDrop:d,onSelectField:c}){const u=p.useCallback((m,h)=>{const f=!m.children||m.children.length===0,v=t.some(w=>r==="source"?w.sourcePaths.includes(m.path):w.targetPath===m.path),x=(s==null?void 0:s.id)===m.id;return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${x?"bg-primary/20 border-primary ring-1 ring-primary":v?"bg-primary/10 border-primary":"bg-background hover:bg-muted/50"} ${f&&r==="source"?"cursor-grab active:cursor-grabbing":""} ${f&&r==="target"?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${h*16}px`},draggable:f&&r==="source",onClick:()=>{f&&r==="target"&&c&&c(m)},onDragStart:w=>{f&&r==="source"&&o&&(w.dataTransfer.effectAllowed="copy",w.dataTransfer.setData("application/json",JSON.stringify(m)),o(m))},onDragEnd:w=>{f&&r==="source"&&i&&i()},onDragOver:f&&r==="target"?l:void 0,onDrop:w=>{f&&r==="target"&&(w.preventDefault(),w.stopPropagation(),d==null||d(m))},children:[!f&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(m.id,r==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:m.expanded?n.jsx(ur,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:m.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:m.type}),v&&n.jsx(BO,{className:"h-3 w-3 text-primary"})]}),r==="source"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag "}),r==="target"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!f&&m.expanded&&m.children&&n.jsx("div",{className:"ml-4",children:m.children.map(w=>u(w,h+1))})]},m.id)},[t,r,s,a,o,i,l,d,c]);return n.jsx("div",{className:"space-y-2",children:e.map(m=>u(m,0))})}var Py="Dialog",[uk,hk]=Wn(Py),[HU,vr]=uk(Py),mk=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=$r({prop:s,defaultProp:a,onChange:o});return n.jsx(HU,{scope:t,triggerRef:l,contentRef:d,contentId:cr(),titleId:cr(),descriptionId:cr(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:i,children:r})};mk.displayName=Py;var pk="DialogTrigger",fk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=vr(pk,r),o=Te(t,a.triggerRef);return n.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ay(a.open),...s,ref:o,onClick:ue(e.onClick,a.onOpenToggle)})});fk.displayName=pk;var ky="DialogPortal",[BU,xk]=uk(ky,{forceMount:void 0}),gk=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=vr(ky,t);return n.jsx(BU,{scope:t,forceMount:r,children:p.Children.map(s,i=>n.jsx(Ft,{present:r||o.open,children:n.jsx(Qc,{asChild:!0,container:a,children:i})}))})};gk.displayName=ky;var Sh="DialogOverlay",vk=p.forwardRef((e,t)=>{const r=xk(Sh,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=vr(Sh,e.__scopeDialog);return o.modal?n.jsx(Ft,{present:s||o.open,children:n.jsx(zU,{...a,ref:t})}):null});vk.displayName=Sh;var zU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=vr(Sh,r);return n.jsx(km,{as:ca,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ce.div,{"data-state":Ay(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),oo="DialogContent",yk=p.forwardRef((e,t)=>{const r=xk(oo,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=vr(oo,e.__scopeDialog);return n.jsx(Ft,{present:s||o.open,children:o.modal?n.jsx(qU,{...a,ref:t}):n.jsx(WU,{...a,ref:t})})});yk.displayName=oo;var qU=p.forwardRef((e,t)=>{const r=vr(oo,e.__scopeDialog),s=p.useRef(null),a=Te(t,r.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return ad(o)},[]),n.jsx(jk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault())})}),WU=p.forwardRef((e,t)=>{const r=vr(oo,e.__scopeDialog),s=p.useRef(!1),a=p.useRef(!1);return n.jsx(jk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),jk=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=vr(oo,r),d=p.useRef(null),c=Te(t,d);return iy(),n.jsxs(n.Fragment,{children:[n.jsx(Nm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(nl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ay(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(YU,{titleId:l.titleId}),n.jsx(XU,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Ty="DialogTitle",wk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=vr(Ty,r);return n.jsx(Ce.h2,{id:a.titleId,...s,ref:t})});wk.displayName=Ty;var Nk="DialogDescription",bk=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=vr(Nk,r);return n.jsx(Ce.p,{id:a.descriptionId,...s,ref:t})});bk.displayName=Nk;var Sk="DialogClose",Ck=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=vr(Sk,r);return n.jsx(Ce.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});Ck.displayName=Sk;function Ay(e){return e?"open":"closed"}var Ek="DialogTitleWarning",[KU,Pk]=WF(Ek,{contentName:oo,titleName:Ty,docsSlug:"dialog"}),YU=({titleId:e})=>{const t=Pk(Ek),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},GU="DialogDescriptionWarning",XU=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pk(GU).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},kk=mk,Tk=fk,Ak=gk,My=vk,Dy=yk,Ry=wk,_y=bk,Fy=Ck;const vt=kk,io=Tk,QU=Ak,Mk=p.forwardRef(({className:e,...t},r)=>n.jsx(My,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Mk.displayName=My.displayName;const mt=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(QU,{children:[n.jsx(Mk,{}),n.jsxs(Dy,{ref:s,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Fy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(lt,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mt.displayName=Dy.displayName;const yt=({className:e,...t})=>n.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yt.displayName="DialogHeader";const Fm=({className:e,...t})=>n.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fm.displayName="DialogFooter";const jt=p.forwardRef(({className:e,...t},r)=>n.jsx(Ry,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));jt.displayName=Ry.displayName;const ga=p.forwardRef(({className:e,...t},r)=>n.jsx(_y,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));ga.displayName=_y.displayName;function Dk({isOpen:e,onOpenChange:t,selectedService:r,onSelectService:s,title:a,usage:o,businessComponentId:i}){var c;const{structures:l}=ml(),d=l.filter(u=>{const m=u.usage===o,h=!i||u.businessComponentId===i;return m&&h});return n.jsxs(vt,{open:e,onOpenChange:t,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Select"]})}),n.jsxs(mt,{className:"max-w-2xl",children:[n.jsx(yt,{children:n.jsx(jt,{children:a})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),n.jsxs(J,{onValueChange:s,value:r,children:[n.jsx(X,{className:"w-full",children:n.jsx(Z,{placeholder:"Choose a data structure..."})}),n.jsx(Q,{className:"bg-background border shadow-lg z-50",children:d.map(u=>n.jsx(M,{value:u.name,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type.toUpperCase(),"  ",u.description||"No description"]})]})},u.id))})]})]}),d.length===0&&n.jsx("div",{className:"border rounded-md p-3 space-y-2",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",o," usage. Please create data structures on the Data Structures page first."]})}),r&&n.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:((c=d.find(u=>u.name===r))==null?void 0:c.description)||r})]})]})]})]})}function JU({fields:e,mappings:t,selectedService:r,searchValue:s,showSelector:a,onSearchChange:o,onShowSelectorChange:i,onSelectService:l,onToggleExpanded:d,onDragStart:c,onDragEnd:u}){return n.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(S,{className:"font-semibold",children:"Source Message"}),n.jsx(Dk,{isOpen:a,onOpenChange:i,selectedService:r,onSelectService:l,title:"Select Source Message",usage:"source"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:r||"No source selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(I,{placeholder:"Search source fields...",value:s,onChange:m=>o(m.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx($n,{children:n.jsx(Un,{children:"Select a source data structure to view fields"})}):n.jsx(dk,{fields:e,mappings:t,side:"source",onToggleExpanded:d,onDragStart:c,onDragEnd:u})})]})}function ZU({fields:e,mappings:t,selectedService:r,searchValue:s,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:d,onToggleExpanded:c,onDragOver:u,onDrop:m,onSelectField:h}){return n.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(S,{className:"font-semibold",children:"Target Message"}),n.jsx(Dk,{isOpen:a,onOpenChange:l,selectedService:r,onSelectService:d,title:"Select Target Message",usage:"target"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:r||"No target selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(I,{placeholder:"Search target fields...",value:s,onChange:f=>i(f.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx($n,{children:n.jsx(Un,{children:"Select a target data structure to view fields"})}):n.jsx(dk,{fields:e,mappings:t,side:"target",selectedField:o,onToggleExpanded:c,onDragOver:u,onDrop:m,onSelectField:h})})]})}const Rk=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,r=2)=>Number(e.toFixed(r)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,r)=>t+r,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,r)=>t+r,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],_k=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,r)=>r?e+r+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,r)=>e.substring(t,r),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,r)=>e.replace(t,r),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],Fk=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,r)=>e?t:r,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],Ok=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],Ik=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,r,s,a,o)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const r=new Date(e),s=new Date(t);return r<s?-1:r>s?1:0},javaTemplate:"compareDates({0}, {1})"}],Lk=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,r)=>e.replace(t,r),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,r)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((r,s)=>r[t]-s[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],$k=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],Oy=[...Rk,..._k,...Fk,...Ok,...Ik,...Lk,...$k],Li={math:Rk,text:_k,boolean:Fk,conversion:Ok,date:Ik,node:Lk,constants:$k},cg=e=>Oy.find(t=>t.name===e);class eN{static getAllFunctions(){return Oy}static getFunctionsByCategory(t){return Li[t]||[]}static executeFunction(t,r){const s=cg(t);if(!s)throw new Error(`Function ${t} not found`);return s.execute(...r)}static validateParameters(t,r){const s=cg(t);if(!s)return{valid:!1,errors:[`Function ${t} not found`]};const a=[],o=s.parameters.filter(i=>i.required);return r.length<o.length&&a.push(`Function ${t} requires ${o.length} parameters, got ${r.length}`),{valid:a.length===0,errors:a}}}const eV=({open:e,onClose:t,selectedFunction:r,sourceFields:s,targetField:a,onApplyMapping:o})=>{const i=p.useRef(null),l=p.useRef(null),[d,c]=p.useState({id:"function_modal",functionName:r,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,m]=p.useState([]),[h,f]=p.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[v,x]=p.useState(new Set),[w,j]=p.useState(!1),y=Object.values(Li).flat().find(_=>_.name===r),N=p.useCallback((_,k)=>{k.preventDefault(),k.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log(" DRAG START - Field:",_.name,"Position:",{x:k.clientX,y:k.clientY}),console.log(" DRAG START - Event target:",k.target),console.log(" DRAG START - Event currentTarget:",k.currentTarget),f({isDragging:!0,draggedItem:_,startPosition:{x:k.clientX,y:k.clientY},currentPosition:{x:k.clientX,y:k.clientY}});const $=new Set;y==null||y.parameters.forEach(A=>{!A.name.toLowerCase().includes("delimiter")&&!A.name.toLowerCase().includes("separator")&&($.add(`param-${d.id}-${A.name}`),console.log(" DRAG START - Added drop target:",`param-${d.id}-${A.name}`))}),x($),console.log(" DRAG START - Total drop targets:",$.size)},[y,d.id]),b=p.useCallback(_=>{h.isDragging&&(console.log(" DRAG MOVE - Position:",{x:_.clientX,y:_.clientY}),console.log(" DRAG MOVE - Element under mouse:",document.elementFromPoint(_.clientX,_.clientY)),f(k=>({...k,currentPosition:{x:_.clientX,y:_.clientY}})))},[h.isDragging]),E=p.useCallback(_=>{if(console.log(" DRAG END - Starting mouse up handler"),console.log(" DRAG END - isDragging:",h.isDragging),console.log(" DRAG END - draggedItem:",h.draggedItem),!h.isDragging||!h.draggedItem){console.log(" DRAG END - Early return - no drag in progress");return}console.log(" DRAG END - Position:",{x:_.clientX,y:_.clientY});const k=document.elementFromPoint(_.clientX,_.clientY);console.log(" DRAG END - Element under mouse:",k),console.log(" DRAG END - Element tag:",k==null?void 0:k.tagName),console.log(" DRAG END - Element classes:",k==null?void 0:k.className),console.log(" DRAG END - Element data-param:",k==null?void 0:k.getAttribute("data-param"));const $=k==null?void 0:k.closest("[data-param]");if(console.log(" DRAG END - Drop zone found:",$),console.log(" DRAG END - Drop zone data-param:",$==null?void 0:$.getAttribute("data-param")),$){const A=$.getAttribute("data-param");if(A){console.log(" DRAG END -  SUCCESS! Dropped on parameter:",A);const U=h.draggedItem;console.log(" DRAG END - Source field:",U),c(L=>{const F={...L,sourceConnections:{...L.sourceConnections,[A]:[U.path]}};return console.log(" DRAG END - Updated function node:",F),F}),setTimeout(()=>{console.log(" DRAG END - Creating visual connection");const L=document.querySelector(`[data-field-id="${U.id}"]`),F=$;if(console.log(" DRAG END - Source element found:",L),console.log(" DRAG END - Target element found:",F),console.log(" DRAG END - Canvas ref:",i.current),L&&F&&i.current){const R=i.current.getBoundingClientRect(),D=L.getBoundingClientRect(),H=F.getBoundingClientRect();console.log(" DRAG END - Canvas rect:",R),console.log(" DRAG END - Source rect:",D),console.log(" DRAG END - Target rect:",H);const B={id:`connection_${Date.now()}`,sourceId:U.id,targetId:`${d.id}-${A}`,sourceX:D.right-R.left,sourceY:D.top+D.height/2-R.top,targetX:H.left-R.left,targetY:H.top+H.height/2-R.top};console.log(" DRAG END - Connection created:",B),m(V=>{const q=[...V,B];return console.log(" DRAG END - All connections:",q),q})}else console.log(" DRAG END -  Failed to create connection - missing elements")},100)}else console.log(" DRAG END -  No param name found on drop zone")}else console.log(" DRAG END -  No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log(" DRAG END - Resetting drag state"),f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set),console.log(" DRAG END - Complete!")},[h,d.id]);me.useEffect(()=>{var _;if(console.log(" DRAG STATE CHANGE - isDragging:",h.isDragging),console.log(" DRAG STATE CHANGE - draggedItem:",(_=h.draggedItem)==null?void 0:_.name),h.isDragging)return console.log(" DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),()=>{console.log(" DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E)}},[h.isDragging,b,E]);const C=p.useCallback(_=>{if(!a)return;_.dataTransfer.setData("text/plain","function-output"),_.dataTransfer.effectAllowed="move";const k=new Set;k.add(`target-${a.id}`),x(k)},[a]),P=p.useCallback(()=>{f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set)},[]);p.useCallback((_,k)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",_),console.log("Event type:",k.type),k.preventDefault(),k.stopPropagation();let $=k.dataTransfer.getData("application/json");const A=k.dataTransfer.getData("text/plain"),U=k.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",$),console.log("Drag data - Name:",A),console.log("Drag data - ID:",U),!$&&A){const F=s.find(R=>R.name===A);F&&($=JSON.stringify(F))}if(!$){console.log("ERROR: No field data found in drag transfer");return}const L=JSON.parse($);console.log("Parsed source field:",L),c(F=>({...F,sourceConnections:{...F.sourceConnections,[_]:[L.path]}})),setTimeout(()=>{const F=document.querySelector(`[data-field-id="${L.id}"]`),R=document.querySelector(`[data-param="${_}"]`);if(F&&R&&i.current){const D=i.current.getBoundingClientRect(),H=F.getBoundingClientRect(),B=R.getBoundingClientRect(),V={id:`connection_${Date.now()}`,sourceId:L.id,targetId:`${d.id}-${_}`,sourceX:H.right-D.left,sourceY:H.top+H.height/2-D.top,targetX:B.left-D.left,targetY:B.top+B.height/2-D.top};m(q=>[...q,V]),console.log("Connection created:",V)}},100),P(),console.log("=== DROP COMPLETE ===")},[d.id,P,s]);const O=p.useCallback(_=>{if(_.preventDefault(),_.dataTransfer.getData("text/plain")!=="function-output"||!a)return;j(!0);const $=document.querySelector('[data-function-output="true"]'),A=document.querySelector(`[data-target-field="${a.id}"]`);if($&&A&&i.current){const U=i.current.getBoundingClientRect(),L=$.getBoundingClientRect(),F=A.getBoundingClientRect(),R={id:`connection_output_${Date.now()}`,sourceId:`${d.id}-output`,targetId:a.id,sourceX:L.right-U.left,sourceY:L.top+L.height/2-U.top,targetX:F.left-U.left,targetY:F.top+F.height/2-U.top};m(D=>[...D,R])}},[d.id,a]),T=p.useCallback(()=>{if(!y||!w||!a)return;const _=[],k=[];Object.values(d.sourceConnections).forEach(A=>{A.forEach(U=>{k.push(U),_.push(U.split(".").pop()||U)})});const $={id:`mapping_${Date.now()}`,name:`${r}_to_${a.name}`,sourceFields:_,targetField:a.name,sourcePaths:k,targetPath:a.path,functionNode:{...d,id:`function_${Date.now()}`},requiresTransformation:!0};o($),t()},[y,w,d,r,a,o,t]);return y?n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"max-w-6xl h-[80vh] p-0",children:[n.jsx(yt,{className:"p-6 pb-0",children:n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Function Mapping: ",y.name]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:T,disabled:!w||Object.keys(d.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[n.jsx(ed,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),n.jsxs(W,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[n.jsx(lt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsxs("div",{ref:i,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[n.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[n.jsx("defs",{children:n.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(_=>n.jsx("path",{d:`M ${_.sourceX} ${_.sourceY} C ${_.sourceX+100} ${_.sourceY}, ${_.targetX-100} ${_.targetY}, ${_.targetX} ${_.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},_.id))]}),n.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[n.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),n.jsx("div",{className:"space-y-2",children:s.map(_=>{var k,$;return n.jsxs("div",{"data-field-id":_.id,className:ie("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",h.isDragging&&((k=h.draggedItem)==null?void 0:k.id)===_.id&&"opacity-70 scale-95"),style:{cursor:h.isDragging&&(($=h.draggedItem)==null?void 0:$.id)===_.id?"grabbing":"grab"},onMouseDown:A=>{A.preventDefault(),N(_,A)},children:[n.jsx("div",{className:"font-medium text-sm pointer-events-none",children:_.name}),n.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:_.type})]},_.id)})})]})}),n.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[n.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:y.name}),n.jsx("div",{className:"text-xs opacity-80",children:y.description})]}),n.jsx("div",{className:"p-2 space-y-2",children:y.parameters.map(_=>{var k,$;return n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-xs",children:_.name}),n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:_.type}),_.name.toLowerCase().includes("delimiter")||_.name.toLowerCase().includes("separator")?n.jsx(I,{placeholder:`Enter ${_.name}`,value:d.parameters[_.name]||"",onChange:A=>c(U=>({...U,parameters:{...U.parameters,[_.name]:A.target.value}})),className:"h-8 text-xs"}):n.jsxs("div",{"data-param":_.name,className:ie("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",v.has(`param-${d.id}-${_.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[(k=d.sourceConnections[_.name])==null?void 0:k.map((A,U)=>n.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:A.split(".").pop()},U)),!(($=d.sourceConnections[_.name])!=null&&$.length)&&n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},_.name)})}),n.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:C,onDragEnd:P,children:[n.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),n.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&n.jsx("div",{className:"w-72",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),n.jsxs("div",{"data-target-field":a.id,className:ie("bg-background border rounded p-3 transition-all",v.has(`target-${a.id}`)&&"border-primary bg-primary/10",w&&"border-success bg-success/10"),onDragOver:_=>_.preventDefault(),onDrop:O,children:[n.jsx("div",{className:"font-medium text-sm",children:a.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),w&&n.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:" Function output connected"})]})]})})]})]}),n.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-muted-foreground",children:"Connect source  function  target"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:ie("px-1.5 py-0.5 rounded",Object.keys(d.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(d.sourceConnections).length,"/",y.parameters.length]}),n.jsxs("span",{className:ie("px-1.5 py-0.5 rounded",w?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",w?"Connected":"Not connected"]})]})]})})]})}):null};function Ct(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,s;r<e.length;r++)(s=Ct(e[r]))!==""&&(t+=(t&&" ")+s);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var tV={value:()=>{}};function Om(){for(var e=0,t=arguments.length,r={},s;e<t;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new Au(r)}function Au(e){this._=e}function nV(e,t){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}Au.prototype=Om.prototype={constructor:Au,on:function(e,t){var r=this._,s=nV(e+"",r),a,o=-1,i=s.length;if(arguments.length<2){for(;++o<i;)if((a=(e=s[o]).type)&&(a=rV(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=s[o]).type)r[a]=tN(r[a],e.name,t);else if(t==null)for(a in r)r[a]=tN(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Au(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,o;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],s=0,a=o.length;s<a;++s)o[s].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,o=s.length;a<o;++a)s[a].value.apply(t,r)}};function rV(e,t){for(var r=0,s=e.length,a;r<s;++r)if((a=e[r]).name===t)return a.value}function tN(e,t,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=tV,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:t,value:r}),e}var dg="http://www.w3.org/1999/xhtml";const nN={svg:"http://www.w3.org/2000/svg",xhtml:dg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Im(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),nN.hasOwnProperty(t)?{space:nN[t],local:e}:e}function sV(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===dg&&t.documentElement.namespaceURI===dg?t.createElement(e):t.createElementNS(r,e)}}function aV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uk(e){var t=Im(e);return(t.local?aV:sV)(t)}function oV(){}function Iy(e){return e==null?oV:function(){return this.querySelector(e)}}function iV(e){typeof e!="function"&&(e=Iy(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=new Array(i),d,c,u=0;u<i;++u)(d=o[u])&&(c=e.call(d,d.__data__,u,o))&&("__data__"in d&&(c.__data__=d.__data__),l[u]=c);return new kn(s,this._parents)}function lV(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cV(){return[]}function Vk(e){return e==null?cV:function(){return this.querySelectorAll(e)}}function dV(e){return function(){return lV(e.apply(this,arguments))}}function uV(e){typeof e=="function"?e=dV(e):e=Vk(e);for(var t=this._groups,r=t.length,s=[],a=[],o=0;o<r;++o)for(var i=t[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&(s.push(e.call(d,d.__data__,c,i)),a.push(d));return new kn(s,a)}function Hk(e){return function(){return this.matches(e)}}function Bk(e){return function(t){return t.matches(e)}}var hV=Array.prototype.find;function mV(e){return function(){return hV.call(this.children,e)}}function pV(){return this.firstElementChild}function fV(e){return this.select(e==null?pV:mV(typeof e=="function"?e:Bk(e)))}var xV=Array.prototype.filter;function gV(){return Array.from(this.children)}function vV(e){return function(){return xV.call(this.children,e)}}function yV(e){return this.selectAll(e==null?gV:vV(typeof e=="function"?e:Bk(e)))}function jV(e){typeof e!="function"&&(e=Hk(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new kn(s,this._parents)}function zk(e){return new Array(e.length)}function wV(){return new kn(this._enter||this._groups.map(zk),this._parents)}function Ch(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ch.prototype={constructor:Ch,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function NV(e){return function(){return e}}function bV(e,t,r,s,a,o){for(var i=0,l,d=t.length,c=o.length;i<c;++i)(l=t[i])?(l.__data__=o[i],s[i]=l):r[i]=new Ch(e,o[i]);for(;i<d;++i)(l=t[i])&&(a[i]=l)}function SV(e,t,r,s,a,o,i){var l,d,c=new Map,u=t.length,m=o.length,h=new Array(u),f;for(l=0;l<u;++l)(d=t[l])&&(h[l]=f=i.call(d,d.__data__,l,t)+"",c.has(f)?a[l]=d:c.set(f,d));for(l=0;l<m;++l)f=i.call(e,o[l],l,o)+"",(d=c.get(f))?(s[l]=d,d.__data__=o[l],c.delete(f)):r[l]=new Ch(e,o[l]);for(l=0;l<u;++l)(d=t[l])&&c.get(h[l])===d&&(a[l]=d)}function CV(e){return e.__data__}function EV(e,t){if(!arguments.length)return Array.from(this,CV);var r=t?SV:bV,s=this._parents,a=this._groups;typeof e!="function"&&(e=NV(e));for(var o=a.length,i=new Array(o),l=new Array(o),d=new Array(o),c=0;c<o;++c){var u=s[c],m=a[c],h=m.length,f=PV(e.call(u,u&&u.__data__,c,s)),v=f.length,x=l[c]=new Array(v),w=i[c]=new Array(v),j=d[c]=new Array(h);r(u,m,x,w,j,f,t);for(var g=0,y=0,N,b;g<v;++g)if(N=x[g]){for(g>=y&&(y=g+1);!(b=w[y])&&++y<v;);N._next=b||null}}return i=new kn(i,s),i._enter=l,i._exit=d,i}function PV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kV(){return new kn(this._exit||this._groups.map(zk),this._parents)}function TV(e,t,r){var s=this.enter(),a=this,o=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),s&&a?s.merge(a).order():a}function AV(e){for(var t=e.selection?e.selection():e,r=this._groups,s=t._groups,a=r.length,o=s.length,i=Math.min(a,o),l=new Array(a),d=0;d<i;++d)for(var c=r[d],u=s[d],m=c.length,h=l[d]=new Array(m),f,v=0;v<m;++v)(f=c[v]||u[v])&&(h[v]=f);for(;d<a;++d)l[d]=r[d];return new kn(l,this._parents)}function MV(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var s=e[t],a=s.length-1,o=s[a],i;--a>=0;)(i=s[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function DV(e){e||(e=RV);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o){for(var i=r[o],l=i.length,d=a[o]=new Array(l),c,u=0;u<l;++u)(c=i[u])&&(d[u]=c);d.sort(t)}return new kn(a,this._parents).order()}function RV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _V(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function FV(){return Array.from(this)}function OV(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,o=s.length;a<o;++a){var i=s[a];if(i)return i}return null}function IV(){let e=0;for(const t of this)++e;return e}function LV(){return!this.node()}function $V(e){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var a=t[r],o=0,i=a.length,l;o<i;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function UV(e){return function(){this.removeAttribute(e)}}function VV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HV(e,t){return function(){this.setAttribute(e,t)}}function BV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zV(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function qV(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function WV(e,t){var r=Im(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((t==null?r.local?VV:UV:typeof t=="function"?r.local?qV:zV:r.local?BV:HV)(r,t))}function qk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function KV(e){return function(){this.style.removeProperty(e)}}function YV(e,t,r){return function(){this.style.setProperty(e,t,r)}}function GV(e,t,r){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function XV(e,t,r){return arguments.length>1?this.each((t==null?KV:typeof t=="function"?GV:YV)(e,t,r??"")):$i(this.node(),e)}function $i(e,t){return e.style.getPropertyValue(t)||qk(e).getComputedStyle(e,null).getPropertyValue(t)}function QV(e){return function(){delete this[e]}}function JV(e,t){return function(){this[e]=t}}function ZV(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function eH(e,t){return arguments.length>1?this.each((t==null?QV:typeof t=="function"?ZV:JV)(e,t)):this.node()[e]}function Wk(e){return e.trim().split(/^|\s+/)}function Ly(e){return e.classList||new Kk(e)}function Kk(e){this._node=e,this._names=Wk(e.getAttribute("class")||"")}Kk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Yk(e,t){for(var r=Ly(e),s=-1,a=t.length;++s<a;)r.add(t[s])}function Gk(e,t){for(var r=Ly(e),s=-1,a=t.length;++s<a;)r.remove(t[s])}function tH(e){return function(){Yk(this,e)}}function nH(e){return function(){Gk(this,e)}}function rH(e,t){return function(){(t.apply(this,arguments)?Yk:Gk)(this,e)}}function sH(e,t){var r=Wk(e+"");if(arguments.length<2){for(var s=Ly(this.node()),a=-1,o=r.length;++a<o;)if(!s.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?rH:t?tH:nH)(r,t))}function aH(){this.textContent=""}function oH(e){return function(){this.textContent=e}}function iH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lH(e){return arguments.length?this.each(e==null?aH:(typeof e=="function"?iH:oH)(e)):this.node().textContent}function cH(){this.innerHTML=""}function dH(e){return function(){this.innerHTML=e}}function uH(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hH(e){return arguments.length?this.each(e==null?cH:(typeof e=="function"?uH:dH)(e)):this.node().innerHTML}function mH(){this.nextSibling&&this.parentNode.appendChild(this)}function pH(){return this.each(mH)}function fH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xH(){return this.each(fH)}function gH(e){var t=typeof e=="function"?e:Uk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vH(){return null}function yH(e,t){var r=typeof e=="function"?e:Uk(e),s=t==null?vH:typeof t=="function"?t:Iy(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function jH(){var e=this.parentNode;e&&e.removeChild(this)}function wH(){return this.each(jH)}function NH(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bH(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SH(e){return this.select(e?bH:NH)}function CH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function EH(e){return function(t){e.call(this,t,this.__data__)}}function PH(e){return e.trim().split(/^|\s+/).map(function(t){var r="",s=t.indexOf(".");return s>=0&&(r=t.slice(s+1),t=t.slice(0,s)),{type:t,name:r}})}function kH(e){return function(){var t=this.__on;if(t){for(var r=0,s=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++s]=o;++s?t.length=s:delete this.__on}}}function TH(e,t,r){return function(){var s=this.__on,a,o=EH(t);if(s){for(var i=0,l=s.length;i<l;++i)if((a=s[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},s?s.push(a):this.__on=[a]}}function AH(e,t,r){var s=PH(e+""),a,o=s.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,u;d<c;++d)for(a=0,u=l[d];a<o;++a)if((i=s[a]).type===u.type&&i.name===u.name)return u.value}return}for(l=t?TH:kH,a=0;a<o;++a)this.each(l(s[a],t,r));return this}function Xk(e,t,r){var s=qk(e),a=s.CustomEvent;typeof a=="function"?a=new a(t,r):(a=s.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function MH(e,t){return function(){return Xk(this,e,t)}}function DH(e,t){return function(){return Xk(this,e,t.apply(this,arguments))}}function RH(e,t){return this.each((typeof t=="function"?DH:MH)(e,t))}function*_H(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var s=e[t],a=0,o=s.length,i;a<o;++a)(i=s[a])&&(yield i)}var Qk=[null];function kn(e,t){this._groups=e,this._parents=t}function cd(){return new kn([[document.documentElement]],Qk)}function FH(){return this}kn.prototype=cd.prototype={constructor:kn,select:iV,selectAll:uV,selectChild:fV,selectChildren:yV,filter:jV,data:EV,enter:wV,exit:kV,join:TV,merge:AV,selection:FH,order:MV,sort:DV,call:_V,nodes:FV,node:OV,size:IV,empty:LV,each:$V,attr:WV,style:XV,property:eH,classed:sH,text:lH,html:hH,raise:pH,lower:xH,append:gH,insert:yH,remove:wH,clone:SH,datum:CH,on:AH,dispatch:RH,[Symbol.iterator]:_H};function wn(e){return typeof e=="string"?new kn([[document.querySelector(e)]],[document.documentElement]):new kn([[e]],Qk)}function OH(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nr(e,t){if(e=OH(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const IH={passive:!1},Dc={capture:!0,passive:!1};function af(e){e.stopImmediatePropagation()}function pi(e){e.preventDefault(),e.stopImmediatePropagation()}function Jk(e){var t=e.document.documentElement,r=wn(e).on("dragstart.drag",pi,Dc);"onselectstart"in t?r.on("selectstart.drag",pi,Dc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Zk(e,t){var r=e.document.documentElement,s=wn(e).on("dragstart.drag",null);t&&(s.on("click.drag",pi,Dc),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Qd=e=>()=>e;function ug(e,{sourceEvent:t,subject:r,target:s,identifier:a,active:o,x:i,y:l,dx:d,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}ug.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function LH(e){return!e.ctrlKey&&!e.button}function $H(){return this.parentNode}function UH(e,t){return t??{x:e.x,y:e.y}}function VH(){return navigator.maxTouchPoints||"ontouchstart"in this}function eT(){var e=LH,t=$H,r=UH,s=VH,a={},o=Om("start","drag","end"),i=0,l,d,c,u,m=0;function h(N){N.on("mousedown.drag",f).filter(s).on("touchstart.drag",w).on("touchmove.drag",j,IH).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(N,b){if(!(u||!e.call(this,N,b))){var E=y(this,t.call(this,N,b),N,b,"mouse");E&&(wn(N.view).on("mousemove.drag",v,Dc).on("mouseup.drag",x,Dc),Jk(N.view),af(N),c=!1,l=N.clientX,d=N.clientY,E("start",N))}}function v(N){if(pi(N),!c){var b=N.clientX-l,E=N.clientY-d;c=b*b+E*E>m}a.mouse("drag",N)}function x(N){wn(N.view).on("mousemove.drag mouseup.drag",null),Zk(N.view,c),pi(N),a.mouse("end",N)}function w(N,b){if(e.call(this,N,b)){var E=N.changedTouches,C=t.call(this,N,b),P=E.length,O,T;for(O=0;O<P;++O)(T=y(this,C,N,b,E[O].identifier,E[O]))&&(af(N),T("start",N,E[O]))}}function j(N){var b=N.changedTouches,E=b.length,C,P;for(C=0;C<E;++C)(P=a[b[C].identifier])&&(pi(N),P("drag",N,b[C]))}function g(N){var b=N.changedTouches,E=b.length,C,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<E;++C)(P=a[b[C].identifier])&&(af(N),P("end",N,b[C]))}function y(N,b,E,C,P,O){var T=o.copy(),_=nr(O||E,b),k,$,A;if((A=r.call(N,new ug("beforestart",{sourceEvent:E,target:h,identifier:P,active:i,x:_[0],y:_[1],dx:0,dy:0,dispatch:T}),C))!=null)return k=A.x-_[0]||0,$=A.y-_[1]||0,function U(L,F,R){var D=_,H;switch(L){case"start":a[P]=U,H=i++;break;case"end":delete a[P],--i;case"drag":_=nr(R||F,b),H=i;break}T.call(L,N,new ug(L,{sourceEvent:F,subject:A,target:h,identifier:P,active:H,x:_[0]+k,y:_[1]+$,dx:_[0]-D[0],dy:_[1]-D[1],dispatch:T}),C)}}return h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Qd(!!N),h):e},h.container=function(N){return arguments.length?(t=typeof N=="function"?N:Qd(N),h):t},h.subject=function(N){return arguments.length?(r=typeof N=="function"?N:Qd(N),h):r},h.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Qd(!!N),h):s},h.on=function(){var N=o.on.apply(o,arguments);return N===o?h:N},h.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,h):Math.sqrt(m)},h}function $y(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tT(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function dd(){}var Rc=.7,Eh=1/Rc,fi="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HH=/^#([0-9a-f]{3,8})$/,BH=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),zH=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),qH=new RegExp(`^rgba\\(${fi},${fi},${fi},${_c}\\)$`),WH=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${_c}\\)$`),KH=new RegExp(`^hsl\\(${_c},${Lr},${Lr}\\)$`),YH=new RegExp(`^hsla\\(${_c},${Lr},${Lr},${_c}\\)$`),rN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$y(dd,lo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sN,formatHex:sN,formatHex8:GH,formatHsl:XH,formatRgb:aN,toString:aN});function sN(){return this.rgb().formatHex()}function GH(){return this.rgb().formatHex8()}function XH(){return nT(this).formatHsl()}function aN(){return this.rgb().formatRgb()}function lo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oN(t):r===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BH.exec(e))?new on(t[1],t[2],t[3],1):(t=zH.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qH.exec(e))?Jd(t[1],t[2],t[3],t[4]):(t=WH.exec(e))?Jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KH.exec(e))?cN(t[1],t[2]/100,t[3]/100,1):(t=YH.exec(e))?cN(t[1],t[2]/100,t[3]/100,t[4]):rN.hasOwnProperty(e)?oN(rN[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function oN(e){return new on(e>>16&255,e>>8&255,e&255,1)}function Jd(e,t,r,s){return s<=0&&(e=t=r=NaN),new on(e,t,r,s)}function QH(e){return e instanceof dd||(e=lo(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function hg(e,t,r,s){return arguments.length===1?QH(e):new on(e,t,r,s??1)}function on(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}$y(on,hg,tT(dd,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(Ga(this.r),Ga(this.g),Ga(this.b),Ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iN,formatHex:iN,formatHex8:JH,formatRgb:lN,toString:lN}));function iN(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function JH(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function lN(){const e=Ph(this.opacity);return`${e===1?"rgb(":"rgba("}${Ga(this.r)}, ${Ga(this.g)}, ${Ga(this.b)}${e===1?")":`, ${e})`}`}function Ph(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Va(e){return e=Ga(e),(e<16?"0":"")+e.toString(16)}function cN(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sr(e,t,r,s)}function nT(e){if(e instanceof sr)return new sr(e.h,e.s,e.l,e.opacity);if(e instanceof dd||(e=lo(e)),!e)return new sr;if(e instanceof sr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),o=Math.max(t,r,s),i=NaN,l=o-a,d=(o+a)/2;return l?(t===o?i=(r-s)/l+(r<s)*6:r===o?i=(s-t)/l+2:i=(t-r)/l+4,l/=d<.5?o+a:2-o-a,i*=60):l=d>0&&d<1?0:i,new sr(i,l,d,e.opacity)}function ZH(e,t,r,s){return arguments.length===1?nT(e):new sr(e,t,r,s??1)}function sr(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}$y(sr,ZH,tT(dd,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new on(of(e>=240?e-240:e+120,a,s),of(e,a,s),of(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new sr(dN(this.h),Zd(this.s),Zd(this.l),Ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ph(this.opacity);return`${e===1?"hsl(":"hsla("}${dN(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dN(e){return e=(e||0)%360,e<0?e+360:e}function Zd(e){return Math.max(0,Math.min(1,e||0))}function of(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Uy=e=>()=>e;function e9(e,t){return function(r){return e+r*t}}function t9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function n9(e){return(e=+e)==1?rT:function(t,r){return r-t?t9(t,r,e):Uy(isNaN(t)?r:t)}}function rT(e,t){var r=t-e;return r?e9(e,r):Uy(isNaN(e)?t:e)}const kh=function e(t){var r=n9(t);function s(a,o){var i=r((a=hg(a)).r,(o=hg(o)).r),l=r(a.g,o.g),d=r(a.b,o.b),c=rT(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=d(u),a.opacity=c(u),a+""}}return s.gamma=e,s}(1);function r9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(o){for(a=0;a<r;++a)s[a]=e[a]*(1-o)+t[a]*o;return s}}function s9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function a9(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),o=new Array(r),i;for(i=0;i<s;++i)a[i]=tc(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(l){for(i=0;i<s;++i)o[i]=a[i](l);return o}}function o9(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function Tr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function i9(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=tc(e[a],t[a]):s[a]=t[a];return function(o){for(a in r)s[a]=r[a](o);return s}}var mg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(mg.source,"g");function l9(e){return function(){return e}}function c9(e){return function(t){return e(t)+""}}function sT(e,t){var r=mg.lastIndex=lf.lastIndex=0,s,a,o,i=-1,l=[],d=[];for(e=e+"",t=t+"";(s=mg.exec(e))&&(a=lf.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[i]?l[i]+=o:l[++i]=o),(s=s[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,d.push({i,x:Tr(s,a)})),r=lf.lastIndex;return r<t.length&&(o=t.slice(r),l[i]?l[i]+=o:l[++i]=o),l.length<2?d[0]?c9(d[0].x):l9(t):(t=d.length,function(c){for(var u=0,m;u<t;++u)l[(m=d[u]).i]=m.x(c);return l.join("")})}function tc(e,t){var r=typeof t,s;return t==null||r==="boolean"?Uy(t):(r==="number"?Tr:r==="string"?(s=lo(t))?(t=s,kh):sT:t instanceof lo?kh:t instanceof Date?o9:s9(t)?r9:Array.isArray(t)?a9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?i9:Tr)(e,t)}var uN=180/Math.PI,pg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aT(e,t,r,s,a,o){var i,l,d;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(d=e*r+t*s)&&(r-=e*d,s-=t*d),(l=Math.sqrt(r*r+s*s))&&(r/=l,s/=l,d/=l),e*s<t*r&&(e=-e,t=-t,d=-d,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*uN,skewX:Math.atan(d)*uN,scaleX:i,scaleY:l}}var eu;function d9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?pg:aT(t.a,t.b,t.c,t.d,t.e,t.f)}function u9(e){return e==null||(eu||(eu=document.createElementNS("http://www.w3.org/2000/svg","g")),eu.setAttribute("transform",e),!(e=eu.transform.baseVal.consolidate()))?pg:(e=e.matrix,aT(e.a,e.b,e.c,e.d,e.e,e.f))}function oT(e,t,r,s){function a(c){return c.length?c.pop()+" ":""}function o(c,u,m,h,f,v){if(c!==m||u!==h){var x=f.push("translate(",null,t,null,r);v.push({i:x-4,x:Tr(c,m)},{i:x-2,x:Tr(u,h)})}else(m||h)&&f.push("translate("+m+t+h+r)}function i(c,u,m,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:m.push(a(m)+"rotate(",null,s)-2,x:Tr(c,u)})):u&&m.push(a(m)+"rotate("+u+s)}function l(c,u,m,h){c!==u?h.push({i:m.push(a(m)+"skewX(",null,s)-2,x:Tr(c,u)}):u&&m.push(a(m)+"skewX("+u+s)}function d(c,u,m,h,f,v){if(c!==m||u!==h){var x=f.push(a(f)+"scale(",null,",",null,")");v.push({i:x-4,x:Tr(c,m)},{i:x-2,x:Tr(u,h)})}else(m!==1||h!==1)&&f.push(a(f)+"scale("+m+","+h+")")}return function(c,u){var m=[],h=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,m,h),i(c.rotate,u.rotate,m,h),l(c.skewX,u.skewX,m,h),d(c.scaleX,c.scaleY,u.scaleX,u.scaleY,m,h),c=u=null,function(f){for(var v=-1,x=h.length,w;++v<x;)m[(w=h[v]).i]=w.x(f);return m.join("")}}}var h9=oT(d9,"px, ","px)","deg)"),m9=oT(u9,", ",")",")"),p9=1e-12;function hN(e){return((e=Math.exp(e))+1/e)/2}function f9(e){return((e=Math.exp(e))-1/e)/2}function x9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Mu=function e(t,r,s){function a(o,i){var l=o[0],d=o[1],c=o[2],u=i[0],m=i[1],h=i[2],f=u-l,v=m-d,x=f*f+v*v,w,j;if(x<p9)j=Math.log(h/c)/t,w=function(C){return[l+C*f,d+C*v,c*Math.exp(t*C*j)]};else{var g=Math.sqrt(x),y=(h*h-c*c+s*x)/(2*c*r*g),N=(h*h-c*c-s*x)/(2*h*r*g),b=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(N*N+1)-N);j=(E-b)/t,w=function(C){var P=C*j,O=hN(b),T=c/(r*g)*(O*x9(t*P+b)-f9(b));return[l+T*f,d+T*v,c*O/hN(t*P+b)]}}return w.duration=j*1e3*t/Math.SQRT2,w}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,d=l*l;return e(i,l,d)},a}(Math.SQRT2,2,4);var Ui=0,Hl=0,Al=0,iT=1e3,Th,Bl,Ah=0,co=0,Lm=0,Fc=typeof performance=="object"&&performance.now?performance:Date,lT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vy(){return co||(lT(g9),co=Fc.now()+Lm)}function g9(){co=0}function Mh(){this._call=this._time=this._next=null}Mh.prototype=cT.prototype={constructor:Mh,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Vy():+r)+(t==null?0:+t),!this._next&&Bl!==this&&(Bl?Bl._next=this:Th=this,Bl=this),this._call=e,this._time=r,fg()},stop:function(){this._call&&(this._call=null,this._time=1/0,fg())}};function cT(e,t,r){var s=new Mh;return s.restart(e,t,r),s}function v9(){Vy(),++Ui;for(var e=Th,t;e;)(t=co-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ui}function mN(){co=(Ah=Fc.now())+Lm,Ui=Hl=0;try{v9()}finally{Ui=0,j9(),co=0}}function y9(){var e=Fc.now(),t=e-Ah;t>iT&&(Lm-=t,Ah=e)}function j9(){for(var e,t=Th,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Th=r);Bl=e,fg(s)}function fg(e){if(!Ui){Hl&&(Hl=clearTimeout(Hl));var t=e-co;t>24?(e<1/0&&(Hl=setTimeout(mN,e-Fc.now()-Lm)),Al&&(Al=clearInterval(Al))):(Al||(Ah=Fc.now(),Al=setInterval(y9,iT)),Ui=1,lT(mN))}}function pN(e,t,r){var s=new Mh;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,r),s}var w9=Om("start","end","cancel","interrupt"),N9=[],dT=0,fN=1,xg=2,Du=3,xN=4,gg=5,Ru=6;function $m(e,t,r,s,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;b9(e,r,{name:t,index:s,group:a,on:w9,tween:N9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:dT})}function Hy(e,t){var r=yr(e,t);if(r.state>dT)throw new Error("too late; already scheduled");return r}function qr(e,t){var r=yr(e,t);if(r.state>Du)throw new Error("too late; already running");return r}function yr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function b9(e,t,r){var s=e.__transition,a;s[t]=r,r.timer=cT(o,0,r.time);function o(c){r.state=fN,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var u,m,h,f;if(r.state!==fN)return d();for(u in s)if(f=s[u],f.name===r.name){if(f.state===Du)return pN(i);f.state===xN?(f.state=Ru,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete s[u]):+u<t&&(f.state=Ru,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete s[u])}if(pN(function(){r.state===Du&&(r.state=xN,r.timer.restart(l,r.delay,r.time),l(c))}),r.state=xg,r.on.call("start",e,e.__data__,r.index,r.group),r.state===xg){for(r.state=Du,a=new Array(h=r.tween.length),u=0,m=-1;u<h;++u)(f=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(a[++m]=f);a.length=m+1}}function l(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(d),r.state=gg,1),m=-1,h=a.length;++m<h;)a[m].call(e,u);r.state===gg&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Ru,r.timer.stop(),delete s[t];for(var c in s)return;delete e.__transition}}function _u(e,t){var r=e.__transition,s,a,o=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((s=r[i]).name!==t){o=!1;continue}a=s.state>xg&&s.state<gg,s.state=Ru,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[i]}o&&delete e.__transition}}function S9(e){return this.each(function(){_u(this,e)})}function C9(e,t){var r,s;return function(){var a=qr(this,e),o=a.tween;if(o!==r){s=r=o;for(var i=0,l=s.length;i<l;++i)if(s[i].name===t){s=s.slice(),s.splice(i,1);break}}a.tween=s}}function E9(e,t,r){var s,a;if(typeof r!="function")throw new Error;return function(){var o=qr(this,e),i=o.tween;if(i!==s){a=(s=i).slice();for(var l={name:t,value:r},d=0,c=a.length;d<c;++d)if(a[d].name===t){a[d]=l;break}d===c&&a.push(l)}o.tween=a}}function P9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var s=yr(this.node(),r).tween,a=0,o=s.length,i;a<o;++a)if((i=s[a]).name===e)return i.value;return null}return this.each((t==null?C9:E9)(r,e,t))}function By(e,t,r){var s=e._id;return e.each(function(){var a=qr(this,s);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return yr(a,s).value[t]}}function uT(e,t){var r;return(typeof t=="number"?Tr:t instanceof lo?kh:(r=lo(t))?(t=r,kh):sT)(e,t)}function k9(e){return function(){this.removeAttribute(e)}}function T9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A9(e,t,r){var s,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===s?o:o=t(s=i,r)}}function M9(e,t,r){var s,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===s?o:o=t(s=i,r)}}function D9(e,t,r){var s,a,o;return function(){var i,l=r(this),d;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),d=l+"",i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l)))}}function R9(e,t,r){var s,a,o;return function(){var i,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),d=l+"",i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l)))}}function _9(e,t){var r=Im(e),s=r==="transform"?m9:uT;return this.attrTween(e,typeof t=="function"?(r.local?R9:D9)(r,s,By(this,"attr."+e,t)):t==null?(r.local?T9:k9)(r):(r.local?M9:A9)(r,s,t))}function F9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function O9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function I9(e,t){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&O9(e,o)),r}return a._value=t,a}function L9(e,t){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&F9(e,o)),r}return a._value=t,a}function $9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var s=Im(e);return this.tween(r,(s.local?I9:L9)(s,t))}function U9(e,t){return function(){Hy(this,e).delay=+t.apply(this,arguments)}}function V9(e,t){return t=+t,function(){Hy(this,e).delay=t}}function H9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?U9:V9)(t,e)):yr(this.node(),t).delay}function B9(e,t){return function(){qr(this,e).duration=+t.apply(this,arguments)}}function z9(e,t){return t=+t,function(){qr(this,e).duration=t}}function q9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?B9:z9)(t,e)):yr(this.node(),t).duration}function W9(e,t){if(typeof t!="function")throw new Error;return function(){qr(this,e).ease=t}}function K9(e){var t=this._id;return arguments.length?this.each(W9(t,e)):yr(this.node(),t).ease}function Y9(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;qr(this,e).ease=r}}function G9(e){if(typeof e!="function")throw new Error;return this.each(Y9(this._id,e))}function X9(e){typeof e!="function"&&(e=Hk(e));for(var t=this._groups,r=t.length,s=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,l=s[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new xs(s,this._parents,this._name,this._id)}function Q9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,s=t.length,a=r.length,o=Math.min(s,a),i=new Array(s),l=0;l<o;++l)for(var d=t[l],c=r[l],u=d.length,m=i[l]=new Array(u),h,f=0;f<u;++f)(h=d[f]||c[f])&&(m[f]=h);for(;l<s;++l)i[l]=t[l];return new xs(i,this._parents,this._name,this._id)}function J9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Z9(e,t,r){var s,a,o=J9(t)?Hy:qr;return function(){var i=o(this,e),l=i.on;l!==s&&(a=(s=l).copy()).on(t,r),i.on=a}}function eB(e,t){var r=this._id;return arguments.length<2?yr(this.node(),r).on.on(e):this.each(Z9(r,e,t))}function tB(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function nB(){return this.on("end.remove",tB(this._id))}function rB(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Iy(e));for(var s=this._groups,a=s.length,o=new Array(a),i=0;i<a;++i)for(var l=s[i],d=l.length,c=o[i]=new Array(d),u,m,h=0;h<d;++h)(u=l[h])&&(m=e.call(u,u.__data__,h,l))&&("__data__"in u&&(m.__data__=u.__data__),c[h]=m,$m(c[h],t,r,h,c,yr(u,r)));return new xs(o,this._parents,t,r)}function sB(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Vk(e));for(var s=this._groups,a=s.length,o=[],i=[],l=0;l<a;++l)for(var d=s[l],c=d.length,u,m=0;m<c;++m)if(u=d[m]){for(var h=e.call(u,u.__data__,m,d),f,v=yr(u,r),x=0,w=h.length;x<w;++x)(f=h[x])&&$m(f,t,r,x,h,v);o.push(h),i.push(u)}return new xs(o,i,t,r)}var aB=cd.prototype.constructor;function oB(){return new aB(this._groups,this._parents)}function iB(e,t){var r,s,a;return function(){var o=$i(this,e),i=(this.style.removeProperty(e),$i(this,e));return o===i?null:o===r&&i===s?a:a=t(r=o,s=i)}}function hT(e){return function(){this.style.removeProperty(e)}}function lB(e,t,r){var s,a=r+"",o;return function(){var i=$i(this,e);return i===a?null:i===s?o:o=t(s=i,r)}}function cB(e,t,r){var s,a,o;return function(){var i=$i(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),$i(this,e))),i===d?null:i===s&&d===a?o:(a=d,o=t(s=i,l))}}function dB(e,t){var r,s,a,o="style."+t,i="end."+o,l;return function(){var d=qr(this,e),c=d.on,u=d.value[o]==null?l||(l=hT(t)):void 0;(c!==r||a!==u)&&(s=(r=c).copy()).on(i,a=u),d.on=s}}function uB(e,t,r){var s=(e+="")=="transform"?h9:uT;return t==null?this.styleTween(e,iB(e,s)).on("end.style."+e,hT(e)):typeof t=="function"?this.styleTween(e,cB(e,s,By(this,"style."+e,t))).each(dB(this._id,e)):this.styleTween(e,lB(e,s,t),r).on("end.style."+e,null)}function hB(e,t,r){return function(s){this.style.setProperty(e,t.call(this,s),r)}}function mB(e,t,r){var s,a;function o(){var i=t.apply(this,arguments);return i!==a&&(s=(a=i)&&hB(e,i,r)),s}return o._value=t,o}function pB(e,t,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,mB(e,t,r??""))}function fB(e){return function(){this.textContent=e}}function xB(e){return function(){var t=e(this);this.textContent=t??""}}function gB(e){return this.tween("text",typeof e=="function"?xB(By(this,"text",e)):fB(e==null?"":e+""))}function vB(e){return function(t){this.textContent=e.call(this,t)}}function yB(e){var t,r;function s(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&vB(a)),t}return s._value=e,s}function jB(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yB(e))}function wB(){for(var e=this._name,t=this._id,r=mT(),s=this._groups,a=s.length,o=0;o<a;++o)for(var i=s[o],l=i.length,d,c=0;c<l;++c)if(d=i[c]){var u=yr(d,t);$m(d,e,r,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xs(s,this._parents,e,r)}function NB(){var e,t,r=this,s=r._id,a=r.size();return new Promise(function(o,i){var l={value:i},d={value:function(){--a===0&&o()}};r.each(function(){var c=qr(this,s),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),c.on=t}),a===0&&o()})}var bB=0;function xs(e,t,r,s){this._groups=e,this._parents=t,this._name=r,this._id=s}function mT(){return++bB}var Xr=cd.prototype;xs.prototype={constructor:xs,select:rB,selectAll:sB,selectChild:Xr.selectChild,selectChildren:Xr.selectChildren,filter:X9,merge:Q9,selection:oB,transition:wB,call:Xr.call,nodes:Xr.nodes,node:Xr.node,size:Xr.size,empty:Xr.empty,each:Xr.each,on:eB,attr:_9,attrTween:$9,style:uB,styleTween:pB,text:gB,textTween:jB,remove:nB,tween:P9,delay:H9,duration:q9,ease:K9,easeVarying:G9,end:NB,[Symbol.iterator]:Xr[Symbol.iterator]};function SB(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var CB={time:null,delay:0,duration:250,ease:SB};function EB(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function PB(e){var t,r;e instanceof xs?(t=e._id,e=e._name):(t=mT(),(r=CB).time=Vy(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,o=0;o<a;++o)for(var i=s[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&$m(d,e,t,c,i,r||EB(d,t));return new xs(s,this._parents,e,t)}cd.prototype.interrupt=S9;cd.prototype.transition=PB;const tu=e=>()=>e;function kB(e,{sourceEvent:t,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function as(e,t,r){this.k=e,this.x=t,this.y=r}as.prototype={constructor:as,scale:function(e){return e===1?this:new as(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new as(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Um=new as(1,0,0);pT.prototype=as.prototype;function pT(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Um;return e.__zoom}function cf(e){e.stopImmediatePropagation()}function Ml(e){e.preventDefault(),e.stopImmediatePropagation()}function TB(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AB(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gN(){return this.__zoom||Um}function MB(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function DB(){return navigator.maxTouchPoints||"ontouchstart"in this}function RB(e,t,r){var s=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function fT(){var e=TB,t=AB,r=RB,s=MB,a=DB,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Mu,c=Om("start","zoom","end"),u,m,h,f=500,v=150,x=0,w=10;function j(A){A.property("__zoom",gN).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",_).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(A,U,L,F){var R=A.selection?A.selection():A;R.property("__zoom",gN),A!==R?b(A,U,L,F):R.interrupt().each(function(){E(this,arguments).event(F).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},j.scaleBy=function(A,U,L,F){j.scaleTo(A,function(){var R=this.__zoom.k,D=typeof U=="function"?U.apply(this,arguments):U;return R*D},L,F)},j.scaleTo=function(A,U,L,F){j.transform(A,function(){var R=t.apply(this,arguments),D=this.__zoom,H=L==null?N(R):typeof L=="function"?L.apply(this,arguments):L,B=D.invert(H),V=typeof U=="function"?U.apply(this,arguments):U;return r(y(g(D,V),H,B),R,i)},L,F)},j.translateBy=function(A,U,L,F){j.transform(A,function(){return r(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),i)},null,F)},j.translateTo=function(A,U,L,F,R){j.transform(A,function(){var D=t.apply(this,arguments),H=this.__zoom,B=F==null?N(D):typeof F=="function"?F.apply(this,arguments):F;return r(Um.translate(B[0],B[1]).scale(H.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof L=="function"?-L.apply(this,arguments):-L),D,i)},F,R)};function g(A,U){return U=Math.max(o[0],Math.min(o[1],U)),U===A.k?A:new as(U,A.x,A.y)}function y(A,U,L){var F=U[0]-L[0]*A.k,R=U[1]-L[1]*A.k;return F===A.x&&R===A.y?A:new as(A.k,F,R)}function N(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function b(A,U,L,F){A.on("start.zoom",function(){E(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(F).end()}).tween("zoom",function(){var R=this,D=arguments,H=E(R,D).event(F),B=t.apply(R,D),V=L==null?N(B):typeof L=="function"?L.apply(R,D):L,q=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),z=R.__zoom,G=typeof U=="function"?U.apply(R,D):U,Y=d(z.invert(V).concat(q/z.k),G.invert(V).concat(q/G.k));return function(K){if(K===1)K=G;else{var ne=Y(K),oe=q/ne[2];K=new as(oe,V[0]-ne[0]*oe,V[1]-ne[1]*oe)}H.zoom(null,K)}})}function E(A,U,L){return!L&&A.__zooming||new C(A,U)}function C(A,U){this.that=A,this.args=U,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,U),this.taps=0}C.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,U){return this.mouse&&A!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var U=wn(this.that).datum();c.call(A,this.that,new kB(A,{sourceEvent:this.sourceEvent,target:j,type:A,transform:this.that.__zoom,dispatch:c}),U)}};function P(A,...U){if(!e.apply(this,arguments))return;var L=E(this,U).event(A),F=this.__zoom,R=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,s.apply(this,arguments)))),D=nr(A);if(L.wheel)(L.mouse[0][0]!==D[0]||L.mouse[0][1]!==D[1])&&(L.mouse[1]=F.invert(L.mouse[0]=D)),clearTimeout(L.wheel);else{if(F.k===R)return;L.mouse=[D,F.invert(D)],_u(this),L.start()}Ml(A),L.wheel=setTimeout(H,v),L.zoom("mouse",r(y(g(F,R),L.mouse[0],L.mouse[1]),L.extent,i));function H(){L.wheel=null,L.end()}}function O(A,...U){if(h||!e.apply(this,arguments))return;var L=A.currentTarget,F=E(this,U,!0).event(A),R=wn(A.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",q,!0),D=nr(A,L),H=A.clientX,B=A.clientY;Jk(A.view),cf(A),F.mouse=[D,this.__zoom.invert(D)],_u(this),F.start();function V(z){if(Ml(z),!F.moved){var G=z.clientX-H,Y=z.clientY-B;F.moved=G*G+Y*Y>x}F.event(z).zoom("mouse",r(y(F.that.__zoom,F.mouse[0]=nr(z,L),F.mouse[1]),F.extent,i))}function q(z){R.on("mousemove.zoom mouseup.zoom",null),Zk(z.view,F.moved),Ml(z),F.event(z).end()}}function T(A,...U){if(e.apply(this,arguments)){var L=this.__zoom,F=nr(A.changedTouches?A.changedTouches[0]:A,this),R=L.invert(F),D=L.k*(A.shiftKey?.5:2),H=r(y(g(L,D),F,R),t.apply(this,U),i);Ml(A),l>0?wn(this).transition().duration(l).call(b,H,F,A):wn(this).call(j.transform,H,F,A)}}function _(A,...U){if(e.apply(this,arguments)){var L=A.touches,F=L.length,R=E(this,U,A.changedTouches.length===F).event(A),D,H,B,V;for(cf(A),H=0;H<F;++H)B=L[H],V=nr(B,this),V=[V,this.__zoom.invert(V),B.identifier],R.touch0?!R.touch1&&R.touch0[2]!==V[2]&&(R.touch1=V,R.taps=0):(R.touch0=V,D=!0,R.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(R.taps<2&&(m=V[0],u=setTimeout(function(){u=null},f)),_u(this),R.start())}}function k(A,...U){if(this.__zooming){var L=E(this,U).event(A),F=A.changedTouches,R=F.length,D,H,B,V;for(Ml(A),D=0;D<R;++D)H=F[D],B=nr(H,this),L.touch0&&L.touch0[2]===H.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===H.identifier&&(L.touch1[0]=B);if(H=L.that.__zoom,L.touch1){var q=L.touch0[0],z=L.touch0[1],G=L.touch1[0],Y=L.touch1[1],K=(K=G[0]-q[0])*K+(K=G[1]-q[1])*K,ne=(ne=Y[0]-z[0])*ne+(ne=Y[1]-z[1])*ne;H=g(H,Math.sqrt(K/ne)),B=[(q[0]+G[0])/2,(q[1]+G[1])/2],V=[(z[0]+Y[0])/2,(z[1]+Y[1])/2]}else if(L.touch0)B=L.touch0[0],V=L.touch0[1];else return;L.zoom("touch",r(y(H,B,V),L.extent,i))}}function $(A,...U){if(this.__zooming){var L=E(this,U).event(A),F=A.changedTouches,R=F.length,D,H;for(cf(A),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),D=0;D<R;++D)H=F[D],L.touch0&&L.touch0[2]===H.identifier?delete L.touch0:L.touch1&&L.touch1[2]===H.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(H=nr(H,this),Math.hypot(m[0]-H[0],m[1]-H[1])<w)){var B=wn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return j.wheelDelta=function(A){return arguments.length?(s=typeof A=="function"?A:tu(+A),j):s},j.filter=function(A){return arguments.length?(e=typeof A=="function"?A:tu(!!A),j):e},j.touchable=function(A){return arguments.length?(a=typeof A=="function"?A:tu(!!A),j):a},j.extent=function(A){return arguments.length?(t=typeof A=="function"?A:tu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),j):t},j.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],j):[o[0],o[1]]},j.translateExtent=function(A){return arguments.length?(i[0][0]=+A[0][0],i[1][0]=+A[1][0],i[0][1]=+A[0][1],i[1][1]=+A[1][1],j):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},j.constrain=function(A){return arguments.length?(r=A,j):r},j.duration=function(A){return arguments.length?(l=+A,j):l},j.interpolate=function(A){return arguments.length?(d=A,j):d},j.on=function(){var A=c.on.apply(c,arguments);return A===c?j:A},j.clickDistance=function(A){return arguments.length?(x=(A=+A)*A,j):Math.sqrt(x)},j.tapDistance=function(A){return arguments.length?(w=+A,j):w},j}const Vr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Oc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xT=["Enter"," ","Escape"],gT={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var uo;(function(e){e.Strict="strict",e.Loose="loose"})(uo||(uo={}));var Xa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Xa||(Xa={}));var Ic;(function(e){e.Partial="partial",e.Full="full"})(Ic||(Ic={}));const vT={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Us;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Us||(Us={}));var Mr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Mr||(Mr={}));var ye;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ye||(ye={}));const vN={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function yT(e){return e===null?null:e?"valid":"invalid"}const jT=e=>"id"in e&&"source"in e&&"target"in e,_B=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),zy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ud=(e,t=[0,0])=>{const{width:r,height:s}=Ns(e),a=e.origin??t,o=r*a[0],i=s*a[1];return{x:e.position.x-o,y:e.position.y-i}},FB=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((s,a)=>{const o=typeof a=="string";let i=!t.nodeLookup&&!o?a:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(a):zy(a)?a:t.nodeLookup.get(a.id));const l=i?Dh(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Vm(s,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hm(r)},hd=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const a=Dh(s);r=Vm(r,a)}}),Hm(r)},qy=(e,t,[r,s,a]=[0,0,1],o=!1,i=!1)=>{const l={...md(t,[r,s,a]),width:t.width/a,height:t.height/a},d=[];for(const c of e.values()){const{measured:u,selectable:m=!0,hidden:h=!1}=c;if(i&&!m||h)continue;const f=u.width??c.width??c.initialWidth??null,v=u.height??c.height??c.initialHeight??null,x=Lc(l,Hi(c)),w=(f??0)*(v??0),j=o&&x>0;(!c.internals.handleBounds||j||x>=w||c.dragging)&&d.push(c)}return d},OB=(e,t)=>{const r=new Set;return e.forEach(s=>{r.add(s.id)}),t.filter(s=>r.has(s.source)||r.has(s.target))};function IB(e,t){const r=new Map,s=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!s||s.has(a.id))&&r.set(a.id,a)}),r}async function LB({nodes:e,width:t,height:r,panZoom:s,minZoom:a,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=IB(e,i),d=hd(l),c=Wy(d,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await s.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function wT({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:s=[0,0],nodeExtent:a,onError:o}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:d,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},u=i.origin??s;let m=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)o==null||o("005",Vr.error005());else{const f=l.measured.width,v=l.measured.height;f&&v&&(m=[[d,c],[d+f,c+v]])}else l&&Bi(i.extent)&&(m=[[i.extent[0][0]+d,i.extent[0][1]+c],[i.extent[1][0]+d,i.extent[1][1]+c]]);const h=Bi(m)?ho(t,m,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",Vr.error015())),{position:{x:h.x-d+(i.measured.width??0)*u[0],y:h.y-c+(i.measured.height??0)*u[1]},positionAbsolute:h}}async function $B({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:s,onBeforeDelete:a}){const o=new Set(e.map(h=>h.id)),i=[];for(const h of r){if(h.deletable===!1)continue;const f=o.has(h.id),v=!f&&h.parentId&&i.find(x=>x.id===h.parentId);(f||v)&&i.push(h)}const l=new Set(t.map(h=>h.id)),d=s.filter(h=>h.deletable!==!1),u=OB(i,d);for(const h of d)l.has(h.id)&&!u.find(v=>v.id===h.id)&&u.push(h);if(!a)return{edges:u,nodes:i};const m=await a({nodes:i,edges:u});return typeof m=="boolean"?m?{edges:u,nodes:i}:{edges:[],nodes:[]}:m}const Vi=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),ho=(e={x:0,y:0},t,r)=>({x:Vi(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Vi(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function NT(e,t,r){const{width:s,height:a}=Ns(r),{x:o,y:i}=r.internals.positionAbsolute;return ho(e,[[o,i],[o+s,i+a]],t)}const yN=(e,t,r)=>e<t?Vi(Math.abs(e-t),1,t)/t:e>r?-Vi(Math.abs(e-r),1,t)/t:0,bT=(e,t,r=15,s=40)=>{const a=yN(e.x,s,t.width-s)*r,o=yN(e.y,s,t.height-s)*r;return[a,o]},Vm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vg=({x:e,y:t,width:r,height:s})=>({x:e,y:t,x2:e+r,y2:t+s}),Hm=({x:e,y:t,x2:r,y2:s})=>({x:e,y:t,width:r-e,height:s-t}),Hi=(e,t=[0,0])=>{var a,o;const{x:r,y:s}=zy(e)?e.internals.positionAbsolute:ud(e,t);return{x:r,y:s,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Dh=(e,t=[0,0])=>{var a,o;const{x:r,y:s}=zy(e)?e.internals.positionAbsolute:ud(e,t);return{x:r,y:s,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:s+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},ST=(e,t)=>Hm(Vm(vg(e),vg(t))),Lc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*s)},jN=e=>ar(e.width)&&ar(e.height)&&ar(e.x)&&ar(e.y),ar=e=>!isNaN(e)&&isFinite(e),UB=(e,t)=>{},Bm=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),md=({x:e,y:t},[r,s,a],o=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-s)/a};return o?Bm(l,i):l},Rh=({x:e,y:t},[r,s,a])=>({x:e*a+r,y:t*a+s});function Ro(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function VB(e,t,r){if(typeof e=="string"||typeof e=="number"){const s=Ro(e,r),a=Ro(e,t);return{top:s,right:a,bottom:s,left:a,x:a*2,y:s*2}}if(typeof e=="object"){const s=Ro(e.top??e.y??0,r),a=Ro(e.bottom??e.y??0,r),o=Ro(e.left??e.x??0,t),i=Ro(e.right??e.x??0,t);return{top:s,right:i,bottom:a,left:o,x:o+i,y:s+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function HB(e,t,r,s,a,o){const{x:i,y:l}=Rh(e,[t,r,s]),{x:d,y:c}=Rh({x:e.x+e.width,y:e.y+e.height},[t,r,s]),u=a-d,m=o-c;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(m)}}const Wy=(e,t,r,s,a,o)=>{const i=VB(o,t,r),l=(t-i.x)/e.width,d=(r-i.y)/e.height,c=Math.min(l,d),u=Vi(c,s,a),m=e.x+e.width/2,h=e.y+e.height/2,f=t/2-m*u,v=r/2-h*u,x=HB(e,f,v,u,t,r),w={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:f-w.left+w.right,y:v-w.top+w.bottom,zoom:u}},_h=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Bi(e){return e!==void 0&&e!=="parent"}function Ns(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function CT(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function ET(e,t={width:0,height:0},r,s,a){const o={...e},i=s.get(r);if(i){const l=i.origin||a;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function wN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function BB(){let e,t;return{promise:new Promise((s,a)=>{e=s,t=a}),resolve:e,reject:t}}function zB(e){return{...gT,...e||{}}}function nc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:s,containerBounds:a}){const{x:o,y:i}=Dr(e),l=md({x:o-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},s),{x:d,y:c}=r?Bm(l,t):l;return{xSnapped:d,ySnapped:c,...l}}const Ky=e=>({width:e.offsetWidth,height:e.offsetHeight}),PT=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},qB=["INPUT","SELECT","TEXTAREA"];function kT(e){var s,a;const t=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:qB.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const TT=e=>"clientX"in e,Dr=(e,t)=>{var o,i;const r=TT(e),s=r?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},NN=(e,t,r,s,a)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/s,y:(l.top-r.top)/s,...Ky(i)}})};function AT({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:l}){const d=e*.125+a*.375+i*.375+r*.125,c=t*.125+o*.375+l*.375+s*.125,u=Math.abs(d-e),m=Math.abs(c-t);return[d,c,u,m]}function nu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bN({pos:e,x1:t,y1:r,x2:s,y2:a,c:o}){switch(e){case ye.Left:return[t-nu(t-s,o),r];case ye.Right:return[t+nu(s-t,o),r];case ye.Top:return[t,r-nu(r-a,o)];case ye.Bottom:return[t,r+nu(a-r,o)]}}function Yy({sourceX:e,sourceY:t,sourcePosition:r=ye.Bottom,targetX:s,targetY:a,targetPosition:o=ye.Top,curvature:i=.25}){const[l,d]=bN({pos:r,x1:e,y1:t,x2:s,y2:a,c:i}),[c,u]=bN({pos:o,x1:s,y1:a,x2:e,y2:t,c:i}),[m,h,f,v]=AT({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:l,sourceControlY:d,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${d} ${c},${u} ${s},${a}`,m,h,f,v]}function MT({sourceX:e,sourceY:t,targetX:r,targetY:s}){const a=Math.abs(r-e)/2,o=r<e?r+a:r-a,i=Math.abs(s-t)/2,l=s<t?s+i:s-i;return[o,l,a,i]}function WB({sourceNode:e,targetNode:t,selected:r=!1,zIndex:s,elevateOnSelect:a=!1}){if(s!==void 0)return s;const o=a&&r?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function KB({sourceNode:e,targetNode:t,width:r,height:s,transform:a}){const o=Vm(Dh(e),Dh(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:s/a[2]};return Lc(i,Hm(o))>0}const YB=({source:e,sourceHandle:t,target:r,targetHandle:s})=>`xy-edge__${e}${t||""}-${r}${s||""}`,GB=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Fh=(e,t)=>{if(!e.source||!e.target)return t;let r;return jT(e)?r={...e}:r={...e,id:YB(e)},GB(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function DT({sourceX:e,sourceY:t,targetX:r,targetY:s}){const[a,o,i,l]=MT({sourceX:e,sourceY:t,targetX:r,targetY:s});return[`M ${e},${t}L ${r},${s}`,a,o,i,l]}const SN={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},XB=({source:e,sourcePosition:t=ye.Bottom,target:r})=>t===ye.Left||t===ye.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},CN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function QB({source:e,sourcePosition:t=ye.Bottom,target:r,targetPosition:s=ye.Top,center:a,offset:o,stepPosition:i}){const l=SN[t],d=SN[s],c={x:e.x+l.x*o,y:e.y+l.y*o},u={x:r.x+d.x*o,y:r.y+d.y*o},m=XB({source:c,sourcePosition:t,target:u}),h=m.x!==0?"x":"y",f=m[h];let v=[],x,w;const j={x:0,y:0},g={x:0,y:0},[,,y,N]=MT({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*d[h]===-1){h==="x"?(x=a.x??c.x+(u.x-c.x)*i,w=a.y??(c.y+u.y)/2):(x=a.x??(c.x+u.x)/2,w=a.y??c.y+(u.y-c.y)*i);const E=[{x,y:c.y},{x,y:u.y}],C=[{x:c.x,y:w},{x:u.x,y:w}];l[h]===f?v=h==="x"?E:C:v=h==="x"?C:E}else{const E=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(h==="x"?v=l.x===f?C:E:v=l.y===f?E:C,t===s){const k=Math.abs(e[h]-r[h]);if(k<=o){const $=Math.min(o-1,o-k);l[h]===f?j[h]=(c[h]>e[h]?-1:1)*$:g[h]=(u[h]>r[h]?-1:1)*$}}if(t!==s){const k=h==="x"?"y":"x",$=l[h]===d[k],A=c[k]>u[k],U=c[k]<u[k];(l[h]===1&&(!$&&A||$&&U)||l[h]!==1&&(!$&&U||$&&A))&&(v=h==="x"?E:C)}const P={x:c.x+j.x,y:c.y+j.y},O={x:u.x+g.x,y:u.y+g.y},T=Math.max(Math.abs(P.x-v[0].x),Math.abs(O.x-v[0].x)),_=Math.max(Math.abs(P.y-v[0].y),Math.abs(O.y-v[0].y));T>=_?(x=(P.x+O.x)/2,w=v[0].y):(x=v[0].x,w=(P.y+O.y)/2)}return[[e,{x:c.x+j.x,y:c.y+j.y},...v,{x:u.x+g.x,y:u.y+g.y},r],x,w,y,N]}function JB(e,t,r,s){const a=Math.min(CN(e,t)/2,CN(t,r)/2,s),{x:o,y:i}=t;if(e.x===o&&o===r.x||e.y===i&&i===r.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<r.x?-1:1,u=e.y<r.y?1:-1;return`L ${o+a*c},${i}Q ${o},${i} ${o},${i+a*u}`}const l=e.x<r.x?1:-1,d=e.y<r.y?-1:1;return`L ${o},${i+a*d}Q ${o},${i} ${o+a*l},${i}`}function yg({sourceX:e,sourceY:t,sourcePosition:r=ye.Bottom,targetX:s,targetY:a,targetPosition:o=ye.Top,borderRadius:i=5,centerX:l,centerY:d,offset:c=20,stepPosition:u=.5}){const[m,h,f,v,x]=QB({source:{x:e,y:t},sourcePosition:r,target:{x:s,y:a},targetPosition:o,center:{x:l,y:d},offset:c,stepPosition:u});return[m.reduce((j,g,y)=>{let N="";return y>0&&y<m.length-1?N=JB(m[y-1],g,m[y+1],i):N=`${y===0?"M":"L"}${g.x} ${g.y}`,j+=N,j},""),h,f,v,x]}function EN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ZB(e){var m;const{sourceNode:t,targetNode:r}=e;if(!EN(t)||!EN(r))return null;const s=t.internals.handleBounds||PN(t.handles),a=r.internals.handleBounds||PN(r.handles),o=kN((s==null?void 0:s.source)??[],e.sourceHandle),i=kN(e.connectionMode===uo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!o||!i)return(m=e.onError)==null||m.call(e,"008",Vr.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(o==null?void 0:o.position)||ye.Bottom,d=(i==null?void 0:i.position)||ye.Top,c=$c(t,o,l),u=$c(r,i,d);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:d}}function PN(e){if(!e)return null;const t=[],r=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&r.push(s);return{source:t,target:r}}function $c(e,t,r=ye.Left,s=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Ns(e);if(s)return{x:a+i/2,y:o+l/2};switch((t==null?void 0:t.position)??r){case ye.Top:return{x:a+i/2,y:o};case ye.Right:return{x:a+i,y:o+l/2};case ye.Bottom:return{x:a+i/2,y:o+l};case ye.Left:return{x:a,y:o+l/2}}}function kN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function jg(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function e7(e,{id:t,defaultColor:r,defaultMarkerStart:s,defaultMarkerEnd:a}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||s,l.markerEnd||a].forEach(d=>{if(d&&typeof d=="object"){const c=jg(d,t);o.has(c)||(i.push({id:c,color:d.color||r,...d}),o.add(c))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const Gy={nodeOrigin:[0,0],nodeExtent:Oc,elevateNodesOnSelect:!0,defaults:{}},t7={...Gy,checkEquality:!0};function Xy(e,t){const r={...e};for(const s in t)t[s]!==void 0&&(r[s]=t[s]);return r}function n7(e,t,r){const s=Xy(Gy,r);for(const a of e.values())if(a.parentId)Qy(a,e,t,s);else{const o=ud(a,s.nodeOrigin),i=Bi(a.extent)?a.extent:s.nodeExtent,l=ho(o,i,Ns(a));a.internals.positionAbsolute=l}}function wg(e,t,r,s){var d,c;const a=Xy(t7,s);let o=e.length>0;const i=new Map(t),l=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),r.clear();for(const u of e){let m=i.get(u.id);if(a.checkEquality&&u===(m==null?void 0:m.internals.userNode))t.set(u.id,m);else{const h=ud(u,a.nodeOrigin),f=Bi(u.extent)?u.extent:a.nodeExtent,v=ho(h,f,Ns(u));m={...a.defaults,...u,measured:{width:(d=u.measured)==null?void 0:d.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:v,handleBounds:u.measured?m==null?void 0:m.internals.handleBounds:void 0,z:RT(u,l),userNode:u}},t.set(u.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(o=!1),u.parentId&&Qy(m,t,r,s)}return o}function r7(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Qy(e,t,r,s){const{elevateNodesOnSelect:a,nodeOrigin:o,nodeExtent:i}=Xy(Gy,s),l=e.parentId,d=t.get(l);if(!d){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}r7(e,r);const c=a?1e3:0,{x:u,y:m,z:h}=s7(e,d,o,i,c),{positionAbsolute:f}=e.internals,v=u!==f.x||m!==f.y;(v||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:u,y:m}:f,z:h}})}function RT(e,t){return(ar(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function s7(e,t,r,s,a){const{x:o,y:i}=t.internals.positionAbsolute,l=Ns(e),d=ud(e,r),c=Bi(e.extent)?ho(d,e.extent,l):d;let u=ho({x:o+c.x,y:i+c.y},s,l);e.extent==="parent"&&(u=NT(u,l,t));const m=RT(e,a),h=t.internals.z??0;return{x:u.x,y:u.y,z:h>=m?h+1:m}}function Jy(e,t,r,s=[0,0]){var i;const a=[],o=new Map;for(const l of e){const d=t.get(l.parentId);if(!d)continue;const c=((i=o.get(l.parentId))==null?void 0:i.expandedRect)??Hi(d),u=ST(c,l.rect);o.set(l.parentId,{expandedRect:u,parent:d})}return o.size>0&&o.forEach(({expandedRect:l,parent:d},c)=>{var y;const u=d.internals.positionAbsolute,m=Ns(d),h=d.origin??s,f=l.x<u.x?Math.round(Math.abs(u.x-l.x)):0,v=l.y<u.y?Math.round(Math.abs(u.y-l.y)):0,x=Math.max(m.width,Math.round(l.width)),w=Math.max(m.height,Math.round(l.height)),j=(x-m.width)*h[0],g=(w-m.height)*h[1];(f>0||v>0||j||g)&&(a.push({id:c,type:"position",position:{x:d.position.x-f+j,y:d.position.y-v+g}}),(y=r.get(c))==null||y.forEach(N=>{e.some(b=>b.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+f,y:N.position.y+v}})})),(m.width<l.width||m.height<l.height||f||v)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:x+(f?h[0]*f-j:0),height:w+(v?h[1]*v-g:0)}})}),a}function a7(e,t,r,s,a,o){const i=s==null?void 0:s.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const d=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),m=[];for(const h of e.values()){const f=t.get(h.id);if(!f)continue;if(f.hidden){t.set(f.id,{...f,internals:{...f.internals,handleBounds:void 0}}),l=!0;continue}const v=Ky(h.nodeElement),x=f.measured.width!==v.width||f.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!f.internals.handleBounds||h.force))){const j=h.nodeElement.getBoundingClientRect(),g=Bi(f.extent)?f.extent:o;let{positionAbsolute:y}=f.internals;f.parentId&&f.extent==="parent"?y=NT(y,v,t.get(f.parentId)):g&&(y=ho(y,g,v));const N={...f,measured:v,internals:{...f.internals,positionAbsolute:y,handleBounds:{source:NN("source",h.nodeElement,j,u,f.id),target:NN("target",h.nodeElement,j,u,f.id)}}};t.set(f.id,N),f.parentId&&Qy(N,t,r,{nodeOrigin:a}),l=!0,x&&(d.push({id:f.id,type:"dimensions",dimensions:v}),f.expandParent&&f.parentId&&m.push({id:f.id,parentId:f.parentId,rect:Hi(N,a)}))}}if(m.length>0){const h=Jy(m,t,r,a);d.push(...h)}return{changes:d,updatedInternals:l}}async function o7({delta:e,panZoom:t,transform:r,translateExtent:s,width:a,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,o]],s),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function TN(e,t,r,s,a,o){let i=a;const l=s.get(i)||new Map;s.set(i,l.set(r,t)),i=`${a}-${e}`;const d=s.get(i)||new Map;if(s.set(i,d.set(r,t)),o){i=`${a}-${e}-${o}`;const c=s.get(i)||new Map;s.set(i,c.set(r,t))}}function _T(e,t,r){e.clear(),t.clear();for(const s of r){const{source:a,target:o,sourceHandle:i=null,targetHandle:l=null}=s,d={edgeId:s.id,source:a,target:o,sourceHandle:i,targetHandle:l},c=`${a}-${i}--${o}-${l}`,u=`${o}-${l}--${a}-${i}`;TN("source",d,u,e,a,i),TN("target",d,c,e,o,l),t.set(s.id,s)}}function FT(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:FT(r,t):!1}function AN(e,t,r){var a;let s=e;do{if((a=s==null?void 0:s.matches)!=null&&a.call(s,t))return!0;if(s===r)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function i7(e,t,r,s){const a=new Map;for(const[o,i]of e)if((i.selected||i.id===s)&&(!i.parentId||!FT(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&a.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function df({nodeId:e,dragItems:t,nodeLookup:r,dragging:s=!0}){var i,l,d;const a=[];for(const[c,u]of t){const m=(i=r.get(c))==null?void 0:i.internals.userNode;m&&a.push({...m,position:u.position,dragging:s})}if(!e)return[a[0],a];const o=(l=r.get(e))==null?void 0:l.internals.userNode;return[o?{...o,position:((d=t.get(e))==null?void 0:d.position)||o.position,dragging:s}:a[0],a]}function l7({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:s,onDragStop:a}){let o={x:null,y:null},i=0,l=new Map,d=!1,c={x:0,y:0},u=null,m=!1,h=null,f=!1,v=!1;function x({noDragClassName:j,handleSelector:g,domNode:y,isSelectable:N,nodeId:b,nodeClickDistance:E=0}){h=wn(y);function C({x:_,y:k},$){const{nodeLookup:A,nodeExtent:U,snapGrid:L,snapToGrid:F,nodeOrigin:R,onNodeDrag:D,onSelectionDrag:H,onError:B,updateNodePositions:V}=t();o={x:_,y:k};let q=!1,z={x:0,y:0,x2:0,y2:0};if(l.size>1&&U){const G=hd(l);z=vg(G)}for(const[G,Y]of l){if(!A.has(G))continue;let K={x:_-Y.distance.x,y:k-Y.distance.y};F&&(K=Bm(K,L));let ne=[[U[0][0],U[0][1]],[U[1][0],U[1][1]]];if(l.size>1&&U&&!Y.extent){const{positionAbsolute:xe}=Y.internals,he=xe.x-z.x+U[0][0],ve=xe.x+Y.measured.width-z.x2+U[1][0],we=xe.y-z.y+U[0][1],Re=xe.y+Y.measured.height-z.y2+U[1][1];ne=[[he,we],[ve,Re]]}const{position:oe,positionAbsolute:fe}=wT({nodeId:G,nextPosition:K,nodeLookup:A,nodeExtent:ne,nodeOrigin:R,onError:B});q=q||Y.position.x!==oe.x||Y.position.y!==oe.y,Y.position=oe,Y.internals.positionAbsolute=fe}if(v=v||q,!!q&&(V(l,!0),$&&(s||D||!b&&H))){const[G,Y]=df({nodeId:b,dragItems:l,nodeLookup:A});s==null||s($,l,G,Y),D==null||D($,G,Y),b||H==null||H($,Y)}}async function P(){if(!u)return;const{transform:_,panBy:k,autoPanSpeed:$,autoPanOnNodeDrag:A}=t();if(!A){d=!1,cancelAnimationFrame(i);return}const[U,L]=bT(c,u,$);(U!==0||L!==0)&&(o.x=(o.x??0)-U/_[2],o.y=(o.y??0)-L/_[2],await k({x:U,y:L})&&C(o,null)),i=requestAnimationFrame(P)}function O(_){var q;const{nodeLookup:k,multiSelectionActive:$,nodesDraggable:A,transform:U,snapGrid:L,snapToGrid:F,selectNodesOnDrag:R,onNodeDragStart:D,onSelectionDragStart:H,unselectNodesAndEdges:B}=t();m=!0,(!R||!N)&&!$&&b&&((q=k.get(b))!=null&&q.selected||B()),N&&R&&b&&(e==null||e(b));const V=nc(_.sourceEvent,{transform:U,snapGrid:L,snapToGrid:F,containerBounds:u});if(o=V,l=i7(k,A,V,b),l.size>0&&(r||D||!b&&H)){const[z,G]=df({nodeId:b,dragItems:l,nodeLookup:k});r==null||r(_.sourceEvent,l,z,G),D==null||D(_.sourceEvent,z,G),b||H==null||H(_.sourceEvent,G)}}const T=eT().clickDistance(E).on("start",_=>{const{domNode:k,nodeDragThreshold:$,transform:A,snapGrid:U,snapToGrid:L}=t();u=(k==null?void 0:k.getBoundingClientRect())||null,f=!1,v=!1,$===0&&O(_),o=nc(_.sourceEvent,{transform:A,snapGrid:U,snapToGrid:L,containerBounds:u}),c=Dr(_.sourceEvent,u)}).on("drag",_=>{const{autoPanOnNodeDrag:k,transform:$,snapGrid:A,snapToGrid:U,nodeDragThreshold:L,nodeLookup:F}=t(),R=nc(_.sourceEvent,{transform:$,snapGrid:A,snapToGrid:U,containerBounds:u});if((_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||b&&!F.has(b))&&(f=!0),!f){if(!d&&k&&m&&(d=!0,P()),!m){const D=R.xSnapped-(o.x??0),H=R.ySnapped-(o.y??0);Math.sqrt(D*D+H*H)>L&&O(_)}(o.x!==R.xSnapped||o.y!==R.ySnapped)&&l&&m&&(c=Dr(_.sourceEvent,u),C(R,_.sourceEvent))}}).on("end",_=>{if(!(!m||f)&&(d=!1,m=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:k,updateNodePositions:$,onNodeDragStop:A,onSelectionDragStop:U}=t();if(v&&($(l,!1),v=!1),a||A||!b&&U){const[L,F]=df({nodeId:b,dragItems:l,nodeLookup:k,dragging:!1});a==null||a(_.sourceEvent,l,L,F),A==null||A(_.sourceEvent,L,F),b||U==null||U(_.sourceEvent,F)}}}).filter(_=>{const k=_.target;return!_.button&&(!j||!AN(k,`.${j}`,y))&&(!g||AN(k,g,y))});h.call(T)}function w(){h==null||h.on(".drag",null)}return{update:x,destroy:w}}function c7(e,t,r){const s=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const o of t.values())Lc(a,Hi(o))>0&&s.push(o);return s}const d7=250;function u7(e,t,r,s){var l,d;let a=[],o=1/0;const i=c7(e,r,t+d7);for(const c of i){const u=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((d=c.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of u){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x:h,y:f}=$c(c,m,m.position,!0),v=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(f-e.y,2));v>t||(v<o?(a=[{...m,x:h,y:f}],o=v):v===o&&a.push({...m,x:h,y:f}))}}if(!a.length)return null;if(a.length>1){const c=s.type==="source"?"target":"source";return a.find(u=>u.type===c)??a[0]}return a[0]}function OT(e,t,r,s,a,o=!1){var c,u,m;const i=s.get(e);if(!i)return null;const l=a==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((u=i.internals.handleBounds)==null?void 0:u.source)??[],...((m=i.internals.handleBounds)==null?void 0:m.target)??[]],d=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return d&&o?{...d,...$c(i,d,d.position,!0)}:d}function IT(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function h7(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const LT=()=>!0;function m7(e,{connectionMode:t,connectionRadius:r,handleId:s,nodeId:a,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:d,lib:c,autoPanOnConnect:u,flowId:m,panBy:h,cancelConnection:f,onConnectStart:v,onConnect:x,onConnectEnd:w,isValidConnection:j=LT,onReconnectEnd:g,updateConnection:y,getTransform:N,getFromHandle:b,autoPanSpeed:E,dragThreshold:C=1}){const P=PT(e.target);let O=0,T;const{x:_,y:k}=Dr(e),$=P==null?void 0:P.elementFromPoint(_,k),A=IT(o,$),U=l==null?void 0:l.getBoundingClientRect();let L=!1;if(!U||!A)return;const F=OT(a,A,s,d,t);if(!F)return;let R=Dr(e,U),D=!1,H=null,B=!1,V=null;function q(){if(!u||!U)return;const[xe,he]=bT(R,U,E);h({x:xe,y:he}),O=requestAnimationFrame(q)}const z={...F,nodeId:a,type:A,position:F.position},G=d.get(a);let K={inProgress:!0,isValid:null,from:$c(G,z,ye.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:G,to:R,toHandle:null,toPosition:vN[z.position],toNode:null};function ne(){L=!0,y(K),v==null||v(e,{nodeId:a,handleId:s,handleType:A})}C===0&&ne();function oe(xe){if(!L){const{x:Re,y:Fe}=Dr(xe),Et=Re-_,Mn=Fe-k;if(!(Et*Et+Mn*Mn>C*C))return;ne()}if(!b()||!z){fe(xe);return}const he=N();R=Dr(xe,U),T=u7(md(R,he,!1,[1,1]),r,d,z),D||(q(),D=!0);const ve=$T(xe,{handle:T,connectionMode:t,fromNodeId:a,fromHandleId:s,fromType:i?"target":"source",isValidConnection:j,doc:P,lib:c,flowId:m,nodeLookup:d});V=ve.handleDomNode,H=ve.connection,B=h7(!!T,ve.isValid);const we={...K,isValid:B,to:ve.toHandle&&B?Rh({x:ve.toHandle.x,y:ve.toHandle.y},he):R,toHandle:ve.toHandle,toPosition:B&&ve.toHandle?ve.toHandle.position:vN[z.position],toNode:ve.toHandle?d.get(ve.toHandle.nodeId):null};B&&T&&K.toHandle&&we.toHandle&&K.toHandle.type===we.toHandle.type&&K.toHandle.nodeId===we.toHandle.nodeId&&K.toHandle.id===we.toHandle.id&&K.to.x===we.to.x&&K.to.y===we.to.y||(y(we),K=we)}function fe(xe){if(L){(T||V)&&H&&B&&(x==null||x(H));const{inProgress:he,...ve}=K,we={...ve,toPosition:K.toHandle?K.toPosition:null};w==null||w(xe,we),o&&(g==null||g(xe,we))}f(),cancelAnimationFrame(O),D=!1,B=!1,H=null,V=null,P.removeEventListener("mousemove",oe),P.removeEventListener("mouseup",fe),P.removeEventListener("touchmove",oe),P.removeEventListener("touchend",fe)}P.addEventListener("mousemove",oe),P.addEventListener("mouseup",fe),P.addEventListener("touchmove",oe),P.addEventListener("touchend",fe)}function $T(e,{handle:t,connectionMode:r,fromNodeId:s,fromHandleId:a,fromType:o,doc:i,lib:l,flowId:d,isValidConnection:c=LT,nodeLookup:u}){const m=o==="target",h=t?i.querySelector(`.${l}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y:v}=Dr(e),x=i.elementFromPoint(f,v),w=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:h,j={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const g=IT(void 0,w),y=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!y||!g)return j;const C={source:m?y:s,sourceHandle:m?N:a,target:m?s:y,targetHandle:m?a:N};j.connection=C;const O=b&&E&&(r===uo.Strict?m&&g==="source"||!m&&g==="target":y!==s||N!==a);j.isValid=O&&c(C),j.toHandle=OT(y,g,N,u,r,!0)}return j}const Ng={onPointerDown:m7,isValid:$T};function p7({domNode:e,panZoom:t,getTransform:r,getViewScale:s}){const a=wn(e);function o({translateExtent:l,width:d,height:c,zoomStep:u=10,pannable:m=!0,zoomable:h=!0,inversePan:f=!1}){const v=y=>{const N=r();if(y.sourceEvent.type!=="wheel"||!t)return;const b=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*u,E=N[2]*Math.pow(2,b);t.scaleTo(E)};let x=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(x=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},j=y=>{const N=r();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const b=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],E=[b[0]-x[0],b[1]-x[1]];x=b;const C=s()*Math.max(N[2],Math.log(N[2]))*(f?-1:1),P={x:N[0]-E[0]*C,y:N[1]-E[1]*C},O=[[0,0],[d,c]];t.setViewportConstrained({x:P.x,y:P.y,zoom:N[2]},O,l)},g=fT().on("start",w).on("zoom",m?j:null).on("zoom.wheel",h?v:null);a.call(g,{})}function i(){a.on("zoom",null)}return{update:o,destroy:i,pointer:nr}}const f7=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,zm=e=>({x:e.x,y:e.y,zoom:e.k}),uf=({x:e,y:t,zoom:r})=>Um.translate(e,t).scale(r),ei=(e,t)=>e.target.closest(`.${t}`),UT=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),x7=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,hf=(e,t=0,r=x7,s=()=>{})=>{const a=typeof t=="number"&&t>0;return a||s(),a?e.transition().duration(t).ease(r).on("end",s):e},VT=e=>{const t=e.ctrlKey&&_h()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function g7({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:d,onPanZoomEnd:c}){return u=>{if(ei(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const m=r.property("__zoom").k||1;if(u.ctrlKey&&i){const w=nr(u),j=VT(u),g=m*Math.pow(2,j);s.scaleTo(r,g,w,u);return}const h=u.deltaMode===1?20:1;let f=a===Xa.Vertical?0:u.deltaX*h,v=a===Xa.Horizontal?0:u.deltaY*h;!_h()&&u.shiftKey&&a!==Xa.Vertical&&(f=u.deltaY*h,v=0),s.translateBy(r,-(f/m)*o,-(v/m)*o,{internal:!0});const x=zm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(u,x)),e.isPanScrolling&&(d==null||d(u,x),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,x),e.isPanScrolling=!1},150))}}function v7({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(s,a){const o=s.type==="wheel",i=!t&&o&&!s.ctrlKey,l=ei(s,e);if(s.ctrlKey&&o&&l&&s.preventDefault(),i||l)return null;s.preventDefault(),r.call(this,s,a)}}function y7({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return s=>{var o,i,l;if((o=s.sourceEvent)!=null&&o.internal)return;const a=zm(s.transform);e.mouseButton=((i=s.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=s.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(s.sourceEvent,a))}}function j7({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:s,onPanZoom:a}){return o=>{var i,l;e.usedRightMouseButton=!!(r&&UT(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||s([o.transform.x,o.transform.y,o.transform.k]),a&&!((l=o.sourceEvent)!=null&&l.internal)&&(a==null||a(o.sourceEvent,zm(o.transform)))}}function w7({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:o}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,o&&UT(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,s(!1),a&&f7(e.prevViewport,i.transform))){const d=zm(i.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,d)},r?150:0)}}}function N7({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:d,lib:c}){return u=>{var v;const m=e||t,h=r&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(ei(u,`${c}-flow__node`)||ei(u,`${c}-flow__edge`)))return!0;if(!s&&!m&&!a&&!o&&!r||i||ei(u,l)&&u.type==="wheel"||ei(u,d)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!r&&u.ctrlKey&&u.type==="wheel")return!1;if(!r&&u.type==="touchstart"&&((v=u.touches)==null?void 0:v.length)>1)return u.preventDefault(),!1;if(!m&&!a&&!h&&u.type==="wheel"||!s&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(s)&&!s.includes(u.button)&&u.type==="mousedown")return!1;const f=Array.isArray(s)&&s.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&f}}function b7({domNode:e,minZoom:t,maxZoom:r,paneClickDistance:s,translateExtent:a,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:d,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),h=fT().clickDistance(!ar(s)||s<0?0:s).scaleExtent([t,r]).translateExtent(a),f=wn(e).call(h);y({x:o.x,y:o.y,zoom:Vi(o.zoom,t,r)},[[0,0],[m.width,m.height]],a);const v=f.on("wheel.zoom"),x=f.on("dblclick.zoom");h.wheelDelta(VT);function w(k,$){return f?new Promise(A=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?tc:Mu).transform(hf(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>A(!0)),k)}):Promise.resolve(!1)}function j({noWheelClassName:k,noPanClassName:$,onPaneContextMenu:A,userSelectionActive:U,panOnScroll:L,panOnDrag:F,panOnScrollMode:R,panOnScrollSpeed:D,preventScrolling:H,zoomOnPinch:B,zoomOnScroll:V,zoomOnDoubleClick:q,zoomActivationKeyPressed:z,lib:G,onTransformChange:Y}){U&&!u.isZoomingOrPanning&&g();const ne=L&&!z&&!U?g7({zoomPanValues:u,noWheelClassName:k,d3Selection:f,d3Zoom:h,panOnScrollMode:R,panOnScrollSpeed:D,zoomOnPinch:B,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:d}):v7({noWheelClassName:k,preventScrolling:H,d3ZoomHandler:v});if(f.on("wheel.zoom",ne,{passive:!1}),!U){const fe=y7({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:l});h.on("start",fe);const xe=j7({zoomPanValues:u,panOnDrag:F,onPaneContextMenu:!!A,onPanZoom:i,onTransformChange:Y});h.on("zoom",xe);const he=w7({zoomPanValues:u,panOnDrag:F,panOnScroll:L,onPaneContextMenu:A,onPanZoomEnd:d,onDraggingChange:c});h.on("end",he)}const oe=N7({zoomActivationKeyPressed:z,panOnDrag:F,zoomOnScroll:V,panOnScroll:L,zoomOnDoubleClick:q,zoomOnPinch:B,userSelectionActive:U,noPanClassName:$,noWheelClassName:k,lib:G});h.filter(oe),q?f.on("dblclick.zoom",x):f.on("dblclick.zoom",null)}function g(){h.on("zoom",null)}async function y(k,$,A){const U=uf(k),L=h==null?void 0:h.constrain()(U,$,A);return L&&await w(L),new Promise(F=>F(L))}async function N(k,$){const A=uf(k);return await w(A,$),new Promise(U=>U(A))}function b(k){if(f){const $=uf(k),A=f.property("__zoom");(A.k!==k.zoom||A.x!==k.x||A.y!==k.y)&&(h==null||h.transform(f,$,null,{sync:!0}))}}function E(){const k=f?pT(f.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function C(k,$){return f?new Promise(A=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?tc:Mu).scaleTo(hf(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>A(!0)),k)}):Promise.resolve(!1)}function P(k,$){return f?new Promise(A=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?tc:Mu).scaleBy(hf(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>A(!0)),k)}):Promise.resolve(!1)}function O(k){h==null||h.scaleExtent(k)}function T(k){h==null||h.translateExtent(k)}function _(k){const $=!ar(k)||k<0?0:k;h==null||h.clickDistance($)}return{update:j,destroy:g,setViewport:N,setViewportConstrained:y,getViewport:E,scaleTo:C,scaleBy:P,setScaleExtent:O,setTranslateExtent:T,syncViewport:b,setClickDistance:_}}var zi;(function(e){e.Line="line",e.Handle="handle"})(zi||(zi={}));function S7({width:e,prevWidth:t,height:r,prevHeight:s,affectsX:a,affectsY:o}){const i=e-t,l=r-s,d=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(d[0]=d[0]*-1),l&&o&&(d[1]=d[1]*-1),d}function C7(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:s,affectsY:a}}function Ts(e,t){return Math.max(0,t-e)}function As(e,t){return Math.max(0,e-t)}function ru(e,t,r){return Math.max(0,t-e,e-r)}function MN(e,t){return e?!t:t}function E7(e,t,r,s,a,o,i,l){let{affectsX:d,affectsY:c}=t;const{isHorizontal:u,isVertical:m}=t,h=u&&m,{xSnapped:f,ySnapped:v}=r,{minWidth:x,maxWidth:w,minHeight:j,maxHeight:g}=s,{x:y,y:N,width:b,height:E,aspectRatio:C}=e;let P=Math.floor(u?f-e.pointerX:0),O=Math.floor(m?v-e.pointerY:0);const T=b+(d?-P:P),_=E+(c?-O:O),k=-o[0]*b,$=-o[1]*E;let A=ru(T,x,w),U=ru(_,j,g);if(i){let R=0,D=0;d&&P<0?R=Ts(y+P+k,i[0][0]):!d&&P>0&&(R=As(y+T+k,i[1][0])),c&&O<0?D=Ts(N+O+$,i[0][1]):!c&&O>0&&(D=As(N+_+$,i[1][1])),A=Math.max(A,R),U=Math.max(U,D)}if(l){let R=0,D=0;d&&P>0?R=As(y+P,l[0][0]):!d&&P<0&&(R=Ts(y+T,l[1][0])),c&&O>0?D=As(N+O,l[0][1]):!c&&O<0&&(D=Ts(N+_,l[1][1])),A=Math.max(A,R),U=Math.max(U,D)}if(a){if(u){const R=ru(T/C,j,g)*C;if(A=Math.max(A,R),i){let D=0;!d&&!c||d&&!c&&h?D=As(N+$+T/C,i[1][1])*C:D=Ts(N+$+(d?P:-P)/C,i[0][1])*C,A=Math.max(A,D)}if(l){let D=0;!d&&!c||d&&!c&&h?D=Ts(N+T/C,l[1][1])*C:D=As(N+(d?P:-P)/C,l[0][1])*C,A=Math.max(A,D)}}if(m){const R=ru(_*C,x,w)/C;if(U=Math.max(U,R),i){let D=0;!d&&!c||c&&!d&&h?D=As(y+_*C+k,i[1][0])/C:D=Ts(y+(c?O:-O)*C+k,i[0][0])/C,U=Math.max(U,D)}if(l){let D=0;!d&&!c||c&&!d&&h?D=Ts(y+_*C,l[1][0])/C:D=As(y+(c?O:-O)*C,l[0][0])/C,U=Math.max(U,D)}}}O=O+(O<0?U:-U),P=P+(P<0?A:-A),a&&(h?T>_*C?O=(MN(d,c)?-P:P)/C:P=(MN(d,c)?-O:O)*C:u?(O=P/C,c=d):(P=O*C,d=c));const L=d?y+P:y,F=c?N+O:N;return{width:b+(d?-P:P),height:E+(c?-O:O),x:o[0]*P*(d?-1:1)+L,y:o[1]*O*(c?-1:1)+F}}const HT={width:0,height:0,x:0,y:0},P7={...HT,pointerX:0,pointerY:0,aspectRatio:1};function k7(e){return[[0,0],[e.measured.width,e.measured.height]]}function T7(e,t,r){const s=t.position.x+e.position.x,a=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=r[0]*o,d=r[1]*i;return[[s-l,a-d],[s+o-l,a+i-d]]}function A7({domNode:e,nodeId:t,getStoreItems:r,onChange:s,onEnd:a}){const o=wn(e);function i({controlPosition:d,boundaries:c,keepAspectRatio:u,resizeDirection:m,onResizeStart:h,onResize:f,onResizeEnd:v,shouldResize:x}){let w={...HT},j={...P7};const g=C7(d);let y,N=null,b=[],E,C,P;const O=eT().on("start",T=>{const{nodeLookup:_,transform:k,snapGrid:$,snapToGrid:A,nodeOrigin:U,paneDomNode:L}=r();if(y=_.get(t),!y)return;N=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:F,ySnapped:R}=nc(T.sourceEvent,{transform:k,snapGrid:$,snapToGrid:A,containerBounds:N});w={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},j={...w,pointerX:F,pointerY:R,aspectRatio:w.width/w.height},E=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(E=_.get(y.parentId),C=E&&y.extent==="parent"?k7(E):void 0),b=[],P=void 0;for(const[D,H]of _)if(H.parentId===t&&(b.push({id:D,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const B=T7(H,y,H.origin??U);P?P=[[Math.min(B[0][0],P[0][0]),Math.min(B[0][1],P[0][1])],[Math.max(B[1][0],P[1][0]),Math.max(B[1][1],P[1][1])]]:P=B}h==null||h(T,{...w})}).on("drag",T=>{const{transform:_,snapGrid:k,snapToGrid:$,nodeOrigin:A}=r(),U=nc(T.sourceEvent,{transform:_,snapGrid:k,snapToGrid:$,containerBounds:N}),L=[];if(!y)return;const{x:F,y:R,width:D,height:H}=w,B={},V=y.origin??A,{width:q,height:z,x:G,y:Y}=E7(j,g,U,c,u,V,C,P),K=q!==D,ne=z!==H,oe=G!==F&&K,fe=Y!==R&&ne;if(!oe&&!fe&&!K&&!ne)return;if((oe||fe||V[0]===1||V[1]===1)&&(B.x=oe?G:w.x,B.y=fe?Y:w.y,w.x=B.x,w.y=B.y,b.length>0)){const we=G-F,Re=Y-R;for(const Fe of b)Fe.position={x:Fe.position.x-we+V[0]*(q-D),y:Fe.position.y-Re+V[1]*(z-H)},L.push(Fe)}if((K||ne)&&(B.width=K&&(!m||m==="horizontal")?q:w.width,B.height=ne&&(!m||m==="vertical")?z:w.height,w.width=B.width,w.height=B.height),E&&y.expandParent){const we=V[0]*(B.width??0);B.x&&B.x<we&&(w.x=we,j.x=j.x-(B.x-we));const Re=V[1]*(B.height??0);B.y&&B.y<Re&&(w.y=Re,j.y=j.y-(B.y-Re))}const xe=S7({width:w.width,prevWidth:D,height:w.height,prevHeight:H,affectsX:g.affectsX,affectsY:g.affectsY}),he={...w,direction:xe};(x==null?void 0:x(T,he))!==!1&&(f==null||f(T,he),s(B,L))}).on("end",T=>{v==null||v(T,{...w}),a==null||a({...w})});o.call(O)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var BT={exports:{}},zT={},qT={exports:{}},WT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=p;function M7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D7=typeof Object.is=="function"?Object.is:M7,R7=qi.useState,_7=qi.useEffect,F7=qi.useLayoutEffect,O7=qi.useDebugValue;function I7(e,t){var r=t(),s=R7({inst:{value:r,getSnapshot:t}}),a=s[0].inst,o=s[1];return F7(function(){a.value=r,a.getSnapshot=t,mf(a)&&o({inst:a})},[e,r,t]),_7(function(){return mf(a)&&o({inst:a}),e(function(){mf(a)&&o({inst:a})})},[e]),O7(r),r}function mf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!D7(e,r)}catch{return!0}}function L7(e,t){return t()}var $7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L7:I7;WT.useSyncExternalStore=qi.useSyncExternalStore!==void 0?qi.useSyncExternalStore:$7;qT.exports=WT;var U7=qT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=p,V7=U7;function H7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B7=typeof Object.is=="function"?Object.is:H7,z7=V7.useSyncExternalStore,q7=qm.useRef,W7=qm.useEffect,K7=qm.useMemo,Y7=qm.useDebugValue;zT.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var o=q7(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=K7(function(){function d(f){if(!c){if(c=!0,u=f,f=s(f),a!==void 0&&i.hasValue){var v=i.value;if(a(v,f))return m=v}return m=f}if(v=m,B7(u,f))return v;var x=s(f);return a!==void 0&&a(v,x)?(u=f,v):(u=f,m=x)}var c=!1,u,m,h=r===void 0?null:r;return[function(){return d(t())},h===null?void 0:function(){return d(h())}]},[t,r,s,a]);var l=z7(e,o[0],o[1]);return W7(function(){i.hasValue=!0,i.value=l},[l]),Y7(l),l};BT.exports=zT;var G7=BT.exports;const X7=Ug(G7),Q7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},DN=e=>{let t;const r=new Set,s=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,f))}},a=()=>t,d={setState:s,getState:a,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(Q7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(s,a,d);return d},J7=e=>e?DN(e):DN,{useDebugValue:Z7}=me,{useSyncExternalStoreWithSelector:ez}=X7,tz=e=>e;function KT(e,t=tz,r){const s=ez(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Z7(s),s}const RN=(e,t)=>{const r=J7(e),s=(a,o=t)=>KT(r,a,o);return Object.assign(s,r),s},nz=(e,t)=>e?RN(e,t):RN;function ct(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,a]of e)if(!Object.is(a,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const s of r)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}const Wm=p.createContext(null),rz=Wm.Provider,YT=Vr.error001();function Oe(e,t){const r=p.useContext(Wm);if(r===null)throw new Error(YT);return KT(r,e,t)}function nt(){const e=p.useContext(Wm);if(e===null)throw new Error(YT);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const _N={display:"none"},sz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},GT="react-flow__node-desc",XT="react-flow__edge-desc",az="react-flow__aria-live",oz=e=>e.ariaLiveMessage,iz=e=>e.ariaLabelConfig;function lz({rfId:e}){const t=Oe(oz);return n.jsx("div",{id:`${az}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:sz,children:t})}function cz({rfId:e,disableKeyboardA11y:t}){const r=Oe(iz);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:`${GT}-${e}`,style:_N,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),n.jsx("div",{id:`${XT}-${e}`,style:_N,children:r["edge.a11yDescription.default"]}),!t&&n.jsx(lz,{rfId:e})]})}const Wi=p.forwardRef(({position:e="top-left",children:t,className:r,style:s,...a},o)=>{const i=`${e}`.split("-");return n.jsx("div",{className:Ct(["react-flow__panel",r,...i]),style:s,ref:o,...a,children:t})});Wi.displayName="Panel";function dz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:n.jsx(Wi,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:n.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const uz=e=>{const t=[],r=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&r.push(s);return{selectedNodes:t,selectedEdges:r}},su=e=>e.id;function hz(e,t){return ct(e.selectedNodes.map(su),t.selectedNodes.map(su))&&ct(e.selectedEdges.map(su),t.selectedEdges.map(su))}function mz({onSelectionChange:e}){const t=nt(),{selectedNodes:r,selectedEdges:s}=Oe(uz,hz);return p.useEffect(()=>{const a={nodes:r,edges:s};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(o=>o(a))},[r,s,e]),null}const pz=e=>!!e.onSelectionChangeHandlers;function fz({onSelectionChange:e}){const t=Oe(pz);return e||t?n.jsx(mz,{onSelectionChange:e}):null}const QT=[0,0],xz={x:0,y:0,zoom:1},gz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],FN=[...gz,"rfId"],vz=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ON={translateExtent:Oc,nodeOrigin:QT,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function yz(e){const{setNodes:t,setEdges:r,setMinZoom:s,setMaxZoom:a,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:d,setPaneClickDistance:c}=Oe(vz,ct),u=nt();p.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=ON,l()}),[]);const m=p.useRef(ON);return p.useEffect(()=>{for(const h of FN){const f=e[h],v=m.current[h];f!==v&&(typeof e[h]>"u"||(h==="nodes"?t(f):h==="edges"?r(f):h==="minZoom"?s(f):h==="maxZoom"?a(f):h==="translateExtent"?o(f):h==="nodeExtent"?i(f):h==="paneClickDistance"?c(f):h==="ariaLabelConfig"?u.setState({ariaLabelConfig:zB(f)}):h==="fitView"?u.setState({fitViewQueued:f}):h==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[h]:f})))}m.current=e},FN.map(h=>e[h])),null}function IN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function jz(e){var s;const[t,r]=p.useState(e==="system"?null:e);return p.useEffect(()=>{if(e!=="system"){r(e);return}const a=IN(),o=()=>r(a!=null&&a.matches?"dark":"light");return o(),a==null||a.addEventListener("change",o),()=>{a==null||a.removeEventListener("change",o)}},[e]),t!==null?t:(s=IN())!=null&&s.matches?"dark":"light"}const LN=typeof document<"u"?document:null;function Uc(e=null,t={target:LN,actInsideInputWithModifier:!0}){const[r,s]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[i,l]=p.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((m,h)=>m.concat(...h),[]);return[c,u]}return[[],[]]},[e]);return p.useEffect(()=>{const d=(t==null?void 0:t.target)??LN,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=f=>{var w,j;if(a.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!a.current||a.current&&!c)&&kT(f))return!1;const x=UN(f.code,l);if(o.current.add(f[x]),$N(i,o.current,!1)){const g=((j=(w=f.composedPath)==null?void 0:w.call(f))==null?void 0:j[0])||f.target,y=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(a.current||!y)&&f.preventDefault(),s(!0)}},m=f=>{const v=UN(f.code,l);$N(i,o.current,!0)?(s(!1),o.current.clear()):o.current.delete(f[v]),f.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),s(!1)};return d==null||d.addEventListener("keydown",u),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{d==null||d.removeEventListener("keydown",u),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,s]),r}function $N(e,t,r){return e.filter(s=>r||s.length===t.size).some(s=>s.every(a=>t.has(a)))}function UN(e,t){return t.includes(e)?"code":"key"}const wz=()=>{const e=nt();return p.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[s,a,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??s,y:t.y??a,zoom:t.zoom??o},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,s]=e.getState().transform;return{x:t,y:r,zoom:s}},setCenter:async(t,r,s)=>e.getState().setCenter(t,r,s),fitBounds:async(t,r)=>{const{width:s,height:a,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),d=Wy(t,s,a,o,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(d,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:s,snapGrid:a,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:d}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-d},u=r.snapGrid??a,m=r.snapToGrid??o;return md(c,s,m,u)},flowToScreenPosition:t=>{const{transform:r,domNode:s}=e.getState();if(!s)return t;const{x:a,y:o}=s.getBoundingClientRect(),i=Rh(t,r);return{x:i.x+a,y:i.y+o}}}),[])};function JT(e,t){const r=[],s=new Map,a=[];for(const o of e)if(o.type==="add"){a.push(o);continue}else if(o.type==="remove"||o.type==="replace")s.set(o.id,[o]);else{const i=s.get(o.id);i?i.push(o):s.set(o.id,[o])}for(const o of t){const i=s.get(o.id);if(!i){r.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...o};for(const d of i)Nz(d,l);r.push(l)}return a.length&&a.forEach(o=>{o.index!==void 0?r.splice(o.index,0,{...o.item}):r.push({...o.item})}),r}function Nz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function ZT(e,t){return JT(e,t)}function eA(e,t){return JT(e,t)}function Ra(e,t){return{id:e,type:"select",selected:t}}function ti(e,t=new Set,r=!1){const s=[];for(const[a,o]of e){const i=t.has(a);!(o.selected===void 0&&!i)&&o.selected!==i&&(r&&(o.selected=i),s.push(Ra(o.id,i)))}return s}function VN({items:e=[],lookup:t}){var a;const r=[],s=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const l=t.get(i.id),d=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;d!==void 0&&d!==i&&r.push({id:i.id,item:i,type:"replace"}),d===void 0&&r.push({item:i,type:"add",index:o})}for(const[o]of t)s.get(o)===void 0&&r.push({id:o,type:"remove"});return r}function HN(e){return{id:e.id,type:"remove"}}const BN=e=>_B(e),bz=e=>jT(e);function tA(e){return p.forwardRef(e)}const Sz=typeof window<"u"?p.useLayoutEffect:p.useEffect;function zN(e){const[t,r]=p.useState(BigInt(0)),[s]=p.useState(()=>Cz(()=>r(a=>a+BigInt(1))));return Sz(()=>{const a=s.get();a.length&&(e(a),s.reset())},[t]),s}function Cz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const nA=p.createContext(null);function Ez({children:e}){const t=nt(),r=p.useCallback(l=>{const{nodes:d=[],setNodes:c,hasDefaultNodes:u,onNodesChange:m,nodeLookup:h,fitViewQueued:f}=t.getState();let v=d;for(const w of l)v=typeof w=="function"?w(v):w;const x=VN({items:v,lookup:h});u&&c(v),x.length>0?m==null||m(x):f&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:j,setNodes:g}=t.getState();w&&g(j)})},[]),s=zN(r),a=p.useCallback(l=>{const{edges:d=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:m,edgeLookup:h}=t.getState();let f=d;for(const v of l)f=typeof v=="function"?v(f):v;u?c(f):m&&m(VN({items:f,lookup:h}))},[]),o=zN(a),i=p.useMemo(()=>({nodeQueue:s,edgeQueue:o}),[]);return n.jsx(nA.Provider,{value:i,children:e})}function Pz(){const e=p.useContext(nA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const kz=e=>!!e.panZoom;function Wr(){const e=wz(),t=nt(),r=Pz(),s=Oe(kz),a=p.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),i=m=>{r.nodeQueue.push(m)},l=m=>{r.edgeQueue.push(m)},d=m=>{var j,g;const{nodeLookup:h,nodeOrigin:f}=t.getState(),v=BN(m)?m:h.get(m.id),x=v.parentId?ET(v.position,v.measured,v.parentId,h,f):v.position,w={...v,position:x,width:((j=v.measured)==null?void 0:j.width)??v.width,height:((g=v.measured)==null?void 0:g.height)??v.height};return Hi(w)},c=(m,h,f={replace:!1})=>{i(v=>v.map(x=>{if(x.id===m){const w=typeof h=="function"?h(x):h;return f.replace&&BN(w)?w:{...x,...w}}return x}))},u=(m,h,f={replace:!1})=>{l(v=>v.map(x=>{if(x.id===m){const w=typeof h=="function"?h(x):h;return f.replace&&bz(w)?w:{...x,...w}}return x}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var h;return(h=o(m))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(h=>({...h}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:i,setEdges:l,addNodes:m=>{const h=Array.isArray(m)?m:[m];r.nodeQueue.push(f=>[...f,...h])},addEdges:m=>{const h=Array.isArray(m)?m:[m];r.edgeQueue.push(f=>[...f,...h])},toObject:()=>{const{nodes:m=[],edges:h=[],transform:f}=t.getState(),[v,x,w]=f;return{nodes:m.map(j=>({...j})),edges:h.map(j=>({...j})),viewport:{x:v,y:x,zoom:w}}},deleteElements:async({nodes:m=[],edges:h=[]})=>{const{nodes:f,edges:v,onNodesDelete:x,onEdgesDelete:w,triggerNodeChanges:j,triggerEdgeChanges:g,onDelete:y,onBeforeDelete:N}=t.getState(),{nodes:b,edges:E}=await $B({nodesToRemove:m,edgesToRemove:h,nodes:f,edges:v,onBeforeDelete:N}),C=E.length>0,P=b.length>0;if(C){const O=E.map(HN);w==null||w(E),g(O)}if(P){const O=b.map(HN);x==null||x(b),j(O)}return(P||C)&&(y==null||y({nodes:b,edges:E})),{deletedNodes:b,deletedEdges:E}},getIntersectingNodes:(m,h=!0,f)=>{const v=jN(m),x=v?m:d(m),w=f!==void 0;return x?(f||t.getState().nodes).filter(j=>{const g=t.getState().nodeLookup.get(j.id);if(g&&!v&&(j.id===m.id||!g.internals.positionAbsolute))return!1;const y=Hi(w?j:g),N=Lc(y,x);return h&&N>0||N>=y.width*y.height||N>=x.width*x.height}):[]},isNodeIntersecting:(m,h,f=!0)=>{const x=jN(m)?m:d(m);if(!x)return!1;const w=Lc(x,h);return f&&w>0||w>=x.width*x.height},updateNode:c,updateNodeData:(m,h,f={replace:!1})=>{c(m,v=>{const x=typeof h=="function"?h(v):h;return f.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},f)},updateEdge:u,updateEdgeData:(m,h,f={replace:!1})=>{u(m,v=>{const x=typeof h=="function"?h(v):h;return f.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},f)},getNodesBounds:m=>{const{nodeLookup:h,nodeOrigin:f}=t.getState();return FB(m,{nodeLookup:h,nodeOrigin:f})},getHandleConnections:({type:m,id:h,nodeId:f})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${f}-${m}${h?`-${h}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:m,handleId:h,nodeId:f})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${f}${m?h?`-${m}-${h}`:`-${m}`:""}`))==null?void 0:v.values())??[])},fitView:async m=>{const h=t.getState().fitViewResolver??BB();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:h}),r.nodeQueue.push(f=>[...f]),h.promise}}},[]);return p.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const qN=e=>e.selected,Tz=typeof window<"u"?window:void 0;function Az({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=nt(),{deleteElements:s}=Wr(),a=Uc(e,{actInsideInputWithModifier:!1}),o=Uc(t,{target:Tz});p.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();s({nodes:l.filter(qN),edges:i.filter(qN)}),r.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{r.setState({multiSelectionActive:o})},[o])}function Mz(e){const t=nt();p.useEffect(()=>{const r=()=>{var a,o;if(!e.current)return!1;const s=Ky(e.current);(s.height===0||s.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",Vr.error004())),t.setState({width:s.width||500,height:s.height||500})};if(e.current){r(),window.addEventListener("resize",r);const s=new ResizeObserver(()=>r());return s.observe(e.current),()=>{window.removeEventListener("resize",r),s&&e.current&&s.unobserve(e.current)}}},[])}const Km={position:"absolute",width:"100%",height:"100%",top:0,left:0},Dz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Rz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:o=Xa.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:c,minZoom:u,maxZoom:m,zoomActivationKeyCode:h,preventScrolling:f=!0,children:v,noWheelClassName:x,noPanClassName:w,onViewportChange:j,isControlledViewport:g,paneClickDistance:y}){const N=nt(),b=p.useRef(null),{userSelectionActive:E,lib:C}=Oe(Dz,ct),P=Uc(h),O=p.useRef();Mz(b);const T=p.useCallback(_=>{j==null||j({x:_[0],y:_[1],zoom:_[2]}),g||N.setState({transform:_})},[j,g]);return p.useEffect(()=>{if(b.current){O.current=b7({domNode:b.current,minZoom:u,maxZoom:m,translateExtent:c,viewport:d,paneClickDistance:y,onDraggingChange:A=>N.setState({paneDragging:A}),onPanZoomStart:(A,U)=>{const{onViewportChangeStart:L,onMoveStart:F}=N.getState();F==null||F(A,U),L==null||L(U)},onPanZoom:(A,U)=>{const{onViewportChange:L,onMove:F}=N.getState();F==null||F(A,U),L==null||L(U)},onPanZoomEnd:(A,U)=>{const{onViewportChangeEnd:L,onMoveEnd:F}=N.getState();F==null||F(A,U),L==null||L(U)}});const{x:_,y:k,zoom:$}=O.current.getViewport();return N.setState({panZoom:O.current,transform:[_,k,$],domNode:b.current.closest(".react-flow")}),()=>{var A;(A=O.current)==null||A.destroy()}}},[]),p.useEffect(()=>{var _;(_=O.current)==null||_.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:f,noPanClassName:w,userSelectionActive:E,noWheelClassName:x,lib:C,onTransformChange:T})},[e,t,r,s,a,o,i,l,P,f,w,E,x,C,T]),n.jsx("div",{className:"react-flow__renderer",ref:b,style:Km,children:v})}const _z=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Fz(){const{userSelectionActive:e,userSelectionRect:t}=Oe(_z,ct);return e&&t?n.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const pf=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},Oz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Iz({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Ic.Full,panOnDrag:s,selectionOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:d,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:h,children:f}){const v=nt(),{userSelectionActive:x,elementsSelectable:w,dragging:j,connectionInProgress:g}=Oe(Oz,ct),y=w&&(e||x),N=p.useRef(null),b=p.useRef(),E=p.useRef(new Set),C=p.useRef(new Set),P=p.useRef(!1),O=p.useRef(!1),T=F=>{if(P.current||g){P.current=!1;return}l==null||l(F),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},_=F=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){F.preventDefault();return}d==null||d(F)},k=c?F=>c(F):void 0,$=F=>{var V,q;const{resetSelectedElements:R,domNode:D}=v.getState();if(b.current=D==null?void 0:D.getBoundingClientRect(),!w||!e||F.button!==0||F.target!==N.current||!b.current)return;(q=(V=F.target)==null?void 0:V.setPointerCapture)==null||q.call(V,F.pointerId),O.current=!0,P.current=!1;const{x:H,y:B}=Dr(F.nativeEvent,b.current);R(),v.setState({userSelectionRect:{width:0,height:0,startX:H,startY:B,x:H,y:B}}),o==null||o(F)},A=F=>{const{userSelectionRect:R,transform:D,nodeLookup:H,edgeLookup:B,connectionLookup:V,triggerNodeChanges:q,triggerEdgeChanges:z,defaultEdgeOptions:G}=v.getState();if(!b.current||!R)return;P.current=!0;const{x:Y,y:K}=Dr(F.nativeEvent,b.current),{startX:ne,startY:oe}=R,fe={startX:ne,startY:oe,x:Y<ne?Y:ne,y:K<oe?K:oe,width:Math.abs(Y-ne),height:Math.abs(K-oe)},xe=E.current,he=C.current;E.current=new Set(qy(H,fe,D,r===Ic.Partial,!0).map(we=>we.id)),C.current=new Set;const ve=(G==null?void 0:G.selectable)??!0;for(const we of E.current){const Re=V.get(we);if(Re)for(const{edgeId:Fe}of Re.values()){const Et=B.get(Fe);Et&&(Et.selectable??ve)&&C.current.add(Fe)}}if(!wN(xe,E.current)){const we=ti(H,E.current,!0);q(we)}if(!wN(he,C.current)){const we=ti(B,C.current);z(we)}v.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},U=F=>{var D,H;if(F.button!==0||!O.current)return;(H=(D=F.target)==null?void 0:D.releasePointerCapture)==null||H.call(D,F.pointerId);const{userSelectionRect:R}=v.getState();!x&&R&&F.target===N.current&&(T==null||T(F)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),i==null||i(F),(t||a)&&(P.current=!1),O.current=!1},L=s===!0||Array.isArray(s)&&s.includes(0);return n.jsxs("div",{className:Ct(["react-flow__pane",{draggable:L,dragging:j,selection:e}]),onClick:y?void 0:pf(T,N),onContextMenu:pf(_,N),onWheel:pf(k,N),onPointerEnter:y?void 0:u,onPointerDown:y?$:m,onPointerMove:y?A:m,onPointerUp:y?U:void 0,onPointerLeave:h,ref:N,style:Km,children:[f,n.jsx(Fz,{})]})}function bg({id:e,store:t,unselect:r=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:d}=t.getState(),c=l.get(e);if(!c){d==null||d("012",Vr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=s==null?void 0:s.current)==null?void 0:u.blur()})):a([e])}function rA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:s,nodeId:a,isSelectable:o,nodeClickDistance:i}){const l=nt(),[d,c]=p.useState(!1),u=p.useRef();return p.useEffect(()=>{u.current=l7({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{bg({id:m,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),p.useEffect(()=>{var m,h;if(t)(m=u.current)==null||m.destroy();else if(e.current)return(h=u.current)==null||h.update({noDragClassName:r,handleSelector:s,domNode:e.current,isSelectable:o,nodeId:a,nodeClickDistance:i}),()=>{var f;(f=u.current)==null||f.destroy()}},[r,s,t,o,e,a]),d}const Lz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function sA(){const e=nt();return p.useCallback(r=>{const{nodeExtent:s,snapToGrid:a,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:d,nodeLookup:c,nodeOrigin:u}=e.getState(),m=new Map,h=Lz(i),f=a?o[0]:5,v=a?o[1]:5,x=r.direction.x*f*r.factor,w=r.direction.y*v*r.factor;for(const[,j]of c){if(!h(j))continue;let g={x:j.internals.positionAbsolute.x+x,y:j.internals.positionAbsolute.y+w};a&&(g=Bm(g,o));const{position:y,positionAbsolute:N}=wT({nodeId:j.id,nextPosition:g,nodeLookup:c,nodeExtent:s,nodeOrigin:u,onError:l});j.position=y,j.internals.positionAbsolute=N,m.set(j.id,j)}d(m)},[])}const Zy=p.createContext(null),$z=Zy.Provider;Zy.Consumer;const aA=()=>p.useContext(Zy),Uz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Vz=(e,t,r)=>s=>{const{connectionClickStartHandle:a,connectionMode:o,connection:i}=s,{fromHandle:l,toHandle:d,isValid:c}=i,u=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:u,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:o===uo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&c}};function Hz({type:e="source",position:t=ye.Top,isValidConnection:r,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:d,className:c,onMouseDown:u,onTouchStart:m,...h},f){var U,L;const v=i||null,x=e==="target",w=nt(),j=aA(),{connectOnClick:g,noPanClassName:y,rfId:N}=Oe(Uz,ct),{connectingFrom:b,connectingTo:E,clickConnecting:C,isPossibleEndHandle:P,connectionInProcess:O,clickConnectionInProcess:T,valid:_}=Oe(Vz(j,v,e),ct);j||(L=(U=w.getState()).onError)==null||L.call(U,"010",Vr.error010());const k=F=>{const{defaultEdgeOptions:R,onConnect:D,hasDefaultEdges:H}=w.getState(),B={...R,...F};if(H){const{edges:V,setEdges:q}=w.getState();q(Fh(B,V))}D==null||D(B),l==null||l(B)},$=F=>{if(!j)return;const R=TT(F.nativeEvent);if(a&&(R&&F.button===0||!R)){const D=w.getState();Ng.onPointerDown(F.nativeEvent,{autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:x,handleId:v,nodeId:j,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:k,isValidConnection:r||D.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed,dragThreshold:D.connectionDragThreshold})}R?u==null||u(F):m==null||m(F)},A=F=>{const{onClickConnectStart:R,onClickConnectEnd:D,connectionClickStartHandle:H,connectionMode:B,isValidConnection:V,lib:q,rfId:z,nodeLookup:G,connection:Y}=w.getState();if(!j||!H&&!a)return;if(!H){R==null||R(F.nativeEvent,{nodeId:j,handleId:v,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:j,type:e,id:v}});return}const K=PT(F.target),ne=r||V,{connection:oe,isValid:fe}=Ng.isValid(F.nativeEvent,{handle:{nodeId:j,id:v,type:e},connectionMode:B,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:ne,flowId:z,doc:K,lib:q,nodeLookup:G});fe&&oe&&k(oe);const xe=structuredClone(Y);delete xe.inProgress,xe.toPosition=xe.toHandle?xe.toHandle.position:null,D==null||D(F,xe),w.setState({connectionClickStartHandle:null})};return n.jsx("div",{"data-handleid":v,"data-nodeid":j,"data-handlepos":t,"data-id":`${N}-${j}-${v}-${e}`,className:Ct(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!x,target:x,connectable:s,connectablestart:a,connectableend:o,clickconnecting:C,connectingfrom:b,connectingto:E,valid:_,connectionindicator:s&&(!O||P)&&(O||T?o:a)}]),onMouseDown:$,onTouchStart:$,onClick:g?A:void 0,ref:f,...h,children:d})}const xt=p.memo(tA(Hz));function Bz({data:e,isConnectable:t,sourcePosition:r=ye.Bottom}){return n.jsxs(n.Fragment,{children:[e==null?void 0:e.label,n.jsx(xt,{type:"source",position:r,isConnectable:t})]})}function zz({data:e,isConnectable:t,targetPosition:r=ye.Top,sourcePosition:s=ye.Bottom}){return n.jsxs(n.Fragment,{children:[n.jsx(xt,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,n.jsx(xt,{type:"source",position:s,isConnectable:t})]})}function qz(){return null}function Wz({data:e,isConnectable:t,targetPosition:r=ye.Top}){return n.jsxs(n.Fragment,{children:[n.jsx(xt,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Oh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},WN={input:Bz,default:zz,output:Wz,group:qz};function Kz(e){var t,r,s,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const Yz=e=>{const{width:t,height:r,x:s,y:a}=hd(e.nodeLookup,{filter:o=>!!o.selected});return{width:ar(t)?t:null,height:ar(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function Gz({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const s=nt(),{width:a,height:o,transformString:i,userSelectionActive:l}=Oe(Yz,ct),d=sA(),c=p.useRef(null);if(p.useEffect(()=>{var h;r||(h=c.current)==null||h.focus({preventScroll:!0})},[r]),rA({nodeRef:c}),l||!a||!o)return null;const u=e?h=>{const f=s.getState().nodes.filter(v=>v.selected);e(h,f)}:void 0,m=h=>{Object.prototype.hasOwnProperty.call(Oh,h.key)&&(h.preventDefault(),d({direction:Oh[h.key],factor:h.shiftKey?4:1}))};return n.jsx("div",{className:Ct(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:n.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:r?void 0:-1,onKeyDown:r?void 0:m,style:{width:a,height:o}})})}const KN=typeof window<"u"?window:void 0,Xz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function oA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:d,selectionKeyCode:c,selectionOnDrag:u,selectionMode:m,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:j,zoomOnScroll:g,zoomOnPinch:y,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:P,defaultViewport:O,translateExtent:T,minZoom:_,maxZoom:k,preventScrolling:$,onSelectionContextMenu:A,noWheelClassName:U,noPanClassName:L,disableKeyboardA11y:F,onViewportChange:R,isControlledViewport:D}){const{nodesSelectionActive:H,userSelectionActive:B}=Oe(Xz),V=Uc(c,{target:KN}),q=Uc(x,{target:KN}),z=q||P,G=q||N,Y=u&&z!==!0,K=V||B||Y;return Az({deleteKeyCode:d,multiSelectionKeyCode:v}),n.jsx(Rz,{onPaneContextMenu:o,elementsSelectable:j,zoomOnScroll:g,zoomOnPinch:y,panOnScroll:G,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!V&&z,defaultViewport:O,translateExtent:T,minZoom:_,maxZoom:k,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:U,noPanClassName:L,onViewportChange:R,isControlledViewport:D,paneClickDistance:l,children:n.jsxs(Iz,{onSelectionStart:h,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:z,isSelecting:!!K,selectionMode:m,selectionKeyPressed:V,selectionOnDrag:Y,children:[e,H&&n.jsx(Gz,{onSelectionContextMenu:A,noPanClassName:L,disableKeyboardA11y:F})]})})}oA.displayName="FlowRenderer";const Qz=p.memo(oA),Jz=e=>t=>e?qy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function Zz(e){return Oe(p.useCallback(Jz(e),[e]),ct)}const eq=e=>e.updateNodeInternals;function tq(){const e=Oe(eq),[t]=p.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const s=new Map;r.forEach(a=>{const o=a.target.getAttribute("data-id");s.set(o,{id:o,nodeElement:a.target,force:!0})}),e(s)}));return p.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function nq({node:e,nodeType:t,hasDimensions:r,resizeObserver:s}){const a=nt(),o=p.useRef(null),i=p.useRef(null),l=p.useRef(e.sourcePosition),d=p.useRef(e.targetPosition),c=p.useRef(t),u=r&&!!e.internals.handleBounds;return p.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&(s==null||s.unobserve(i.current)),s==null||s.observe(o.current),i.current=o.current)},[u,e.hidden]),p.useEffect(()=>()=>{i.current&&(s==null||s.unobserve(i.current),i.current=null)},[]),p.useEffect(()=>{if(o.current){const m=c.current!==t,h=l.current!==e.sourcePosition,f=d.current!==e.targetPosition;(m||h||f)&&(c.current=t,l.current=e.sourcePosition,d.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function rq({id:e,onClick:t,onMouseEnter:r,onMouseMove:s,onMouseLeave:a,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:d,nodesConnectable:c,nodesFocusable:u,resizeObserver:m,noDragClassName:h,noPanClassName:f,disableKeyboardA11y:v,rfId:x,nodeTypes:w,nodeClickDistance:j,onError:g}){const{node:y,internals:N,isParent:b}=Oe(ne=>{const oe=ne.nodeLookup.get(e),fe=ne.parentLookup.has(e);return{node:oe,internals:oe.internals,isParent:fe}},ct);let E=y.type||"default",C=(w==null?void 0:w[E])||WN[E];C===void 0&&(g==null||g("003",Vr.error003(E)),E="default",C=(w==null?void 0:w.default)||WN.default);const P=!!(y.draggable||l&&typeof y.draggable>"u"),O=!!(y.selectable||d&&typeof y.selectable>"u"),T=!!(y.connectable||c&&typeof y.connectable>"u"),_=!!(y.focusable||u&&typeof y.focusable>"u"),k=nt(),$=CT(y),A=nq({node:y,nodeType:E,hasDimensions:$,resizeObserver:m}),U=rA({nodeRef:A,disabled:y.hidden||!P,noDragClassName:h,handleSelector:y.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:j}),L=sA();if(y.hidden)return null;const F=Ns(y),R=Kz(y),D=O||P||t||r||s||a,H=r?ne=>r(ne,{...N.userNode}):void 0,B=s?ne=>s(ne,{...N.userNode}):void 0,V=a?ne=>a(ne,{...N.userNode}):void 0,q=o?ne=>o(ne,{...N.userNode}):void 0,z=i?ne=>i(ne,{...N.userNode}):void 0,G=ne=>{const{selectNodesOnDrag:oe,nodeDragThreshold:fe}=k.getState();O&&(!oe||!P||fe>0)&&bg({id:e,store:k,nodeRef:A}),t&&t(ne,{...N.userNode})},Y=ne=>{if(!(kT(ne.nativeEvent)||v)){if(xT.includes(ne.key)&&O){const oe=ne.key==="Escape";bg({id:e,store:k,unselect:oe,nodeRef:A})}else if(P&&y.selected&&Object.prototype.hasOwnProperty.call(Oh,ne.key)){ne.preventDefault();const{ariaLabelConfig:oe}=k.getState();k.setState({ariaLiveMessage:oe["node.a11yDescription.ariaLiveMessage"]({direction:ne.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),L({direction:Oh[ne.key],factor:ne.shiftKey?4:1})}}},K=()=>{var we;if(v||!((we=A.current)!=null&&we.matches(":focus-visible")))return;const{transform:ne,width:oe,height:fe,autoPanOnNodeFocus:xe,setCenter:he}=k.getState();if(!xe)return;qy(new Map([[e,y]]),{x:0,y:0,width:oe,height:fe},ne,!0).length>0||he(y.position.x+F.width/2,y.position.y+F.height/2,{zoom:ne[2]})};return n.jsx("div",{className:Ct(["react-flow__node",`react-flow__node-${E}`,{[f]:P},y.className,{selected:y.selected,selectable:O,parent:b,draggable:P,dragging:U}]),ref:A,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:D?"all":"none",visibility:$?"visible":"hidden",...y.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:B,onMouseLeave:V,onContextMenu:q,onClick:G,onDoubleClick:z,onKeyDown:_?Y:void 0,tabIndex:_?0:void 0,onFocus:_?K:void 0,role:y.ariaRole??(_?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${GT}-${x}`,"aria-label":y.ariaLabel,...y.domAttributes,children:n.jsx($z,{value:e,children:n.jsx(C,{id:e,data:y.data,type:E,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:y.selected??!1,selectable:O,draggable:P,deletable:y.deletable??!0,isConnectable:T,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:U,dragHandle:y.dragHandle,zIndex:N.z,parentId:y.parentId,...F})})})}const sq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function iA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:s,elementsSelectable:a,onError:o}=Oe(sq,ct),i=Zz(e.onlyRenderVisibleElements),l=tq();return n.jsx("div",{className:"react-flow__nodes",style:Km,children:i.map(d=>n.jsx(rq,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:o},d))})}iA.displayName="NodeRenderer";const aq=p.memo(iA);function oq(e){return Oe(p.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const s=[];if(r.width&&r.height)for(const a of r.edges){const o=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);o&&i&&KB({sourceNode:o,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&s.push(a.id)}return s},[e]),ct)}const iq=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),lq=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),YN={[Mr.Arrow]:iq,[Mr.ArrowClosed]:lq};function cq(e){const t=nt();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(YN,e)?YN[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",Vr.error009(e)),null)},[e])}const dq=({id:e,type:t,color:r,width:s=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const d=cq(t);return d?n.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:n.jsx(d,{color:r,strokeWidth:i})}):null},lA=({defaultColor:e,rfId:t})=>{const r=Oe(o=>o.edges),s=Oe(o=>o.defaultEdgeOptions),a=p.useMemo(()=>e7(r,{id:t,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[r,s,t,e]);return a.length?n.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:n.jsx("defs",{children:a.map(o=>n.jsx(dq,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};lA.displayName="MarkerDefinitions";var uq=p.memo(lA);function cA({x:e,y:t,label:r,labelStyle:s,labelShowBg:a=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:d,className:c,...u}){const[m,h]=p.useState({x:1,y:0,width:0,height:0}),f=Ct(["react-flow__edge-textwrapper",c]),v=p.useRef(null);return p.useEffect(()=>{if(v.current){const x=v.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?n.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:f,visibility:m.width?"visible":"hidden",...u,children:[a&&n.jsx("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),n.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:v,style:s,children:r}),d]}):null}cA.displayName="EdgeText";const hq=p.memo(cA);function pd({path:e,labelX:t,labelY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:c=20,...u}){return n.jsxs(n.Fragment,{children:[n.jsx("path",{...u,d:e,fill:"none",className:Ct(["react-flow__edge-path",u.className])}),c&&n.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),s&&ar(t)&&ar(r)?n.jsx(hq,{x:t,y:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function GN({pos:e,x1:t,y1:r,x2:s,y2:a}){return e===ye.Left||e===ye.Right?[.5*(t+s),r]:[t,.5*(r+a)]}function dA({sourceX:e,sourceY:t,sourcePosition:r=ye.Bottom,targetX:s,targetY:a,targetPosition:o=ye.Top}){const[i,l]=GN({pos:r,x1:e,y1:t,x2:s,y2:a}),[d,c]=GN({pos:o,x1:s,y1:a,x2:e,y2:t}),[u,m,h,f]=AT({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:d,targetControlY:c});return[`M${e},${t} C${i},${l} ${d},${c} ${s},${a}`,u,m,h,f]}function uA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,sourcePosition:i,targetPosition:l,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:v,markerEnd:x,markerStart:w,interactionWidth:j})=>{const[g,y,N]=dA({sourceX:r,sourceY:s,sourcePosition:i,targetX:a,targetY:o,targetPosition:l}),b=e.isInternal?void 0:t;return n.jsx(pd,{id:b,path:g,labelX:y,labelY:N,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:v,markerEnd:x,markerStart:w,interactionWidth:j})})}const mq=uA({isInternal:!1}),hA=uA({isInternal:!0});mq.displayName="SimpleBezierEdge";hA.displayName="SimpleBezierEdgeInternal";function mA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,sourcePosition:f=ye.Bottom,targetPosition:v=ye.Top,markerEnd:x,markerStart:w,pathOptions:j,interactionWidth:g})=>{const[y,N,b]=yg({sourceX:r,sourceY:s,sourcePosition:f,targetX:a,targetY:o,targetPosition:v,borderRadius:j==null?void 0:j.borderRadius,offset:j==null?void 0:j.offset,stepPosition:j==null?void 0:j.stepPosition}),E=e.isInternal?void 0:t;return n.jsx(pd,{id:E,path:y,labelX:N,labelY:b,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:x,markerStart:w,interactionWidth:g})})}const pA=mA({isInternal:!1}),fA=mA({isInternal:!0});pA.displayName="SmoothStepEdge";fA.displayName="SmoothStepEdgeInternal";function xA(e){return p.memo(({id:t,...r})=>{var a;const s=e.isInternal?void 0:t;return n.jsx(pA,{...r,id:s,pathOptions:p.useMemo(()=>{var o;return{borderRadius:0,offset:(o=r.pathOptions)==null?void 0:o.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const pq=xA({isInternal:!1}),gA=xA({isInternal:!0});pq.displayName="StepEdge";gA.displayName="StepEdgeInternal";function vA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:f,markerStart:v,interactionWidth:x})=>{const[w,j,g]=DT({sourceX:r,sourceY:s,targetX:a,targetY:o}),y=e.isInternal?void 0:t;return n.jsx(pd,{id:y,path:w,labelX:j,labelY:g,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:m,style:h,markerEnd:f,markerStart:v,interactionWidth:x})})}const fq=vA({isInternal:!1}),yA=vA({isInternal:!0});fq.displayName="StraightEdge";yA.displayName="StraightEdgeInternal";function jA(e){return p.memo(({id:t,sourceX:r,sourceY:s,targetX:a,targetY:o,sourcePosition:i=ye.Bottom,targetPosition:l=ye.Top,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:v,markerEnd:x,markerStart:w,pathOptions:j,interactionWidth:g})=>{const[y,N,b]=Yy({sourceX:r,sourceY:s,sourcePosition:i,targetX:a,targetY:o,targetPosition:l,curvature:j==null?void 0:j.curvature}),E=e.isInternal?void 0:t;return n.jsx(pd,{id:E,path:y,labelX:N,labelY:b,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:f,style:v,markerEnd:x,markerStart:w,interactionWidth:g})})}const xq=jA({isInternal:!1}),wA=jA({isInternal:!0});xq.displayName="BezierEdge";wA.displayName="BezierEdgeInternal";const XN={default:wA,straight:yA,step:gA,smoothstep:fA,simplebezier:hA},QN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},gq=(e,t,r)=>r===ye.Left?e-t:r===ye.Right?e+t:e,vq=(e,t,r)=>r===ye.Top?e-t:r===ye.Bottom?e+t:e,JN="react-flow__edgeupdater";function ZN({position:e,centerX:t,centerY:r,radius:s=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:l}){return n.jsx("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:Ct([JN,`${JN}-${l}`]),cx:gq(t,s,e),cy:vq(r,s,e),r:s,stroke:"transparent",fill:"transparent"})}function yq({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:s,sourceY:a,targetX:o,targetY:i,sourcePosition:l,targetPosition:d,onReconnect:c,onReconnectStart:u,onReconnectEnd:m,setReconnecting:h,setUpdateHover:f}){const v=nt(),x=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:E,domNode:C,isValidConnection:P,connectionMode:O,connectionRadius:T,lib:_,onConnectStart:k,onConnectEnd:$,cancelConnection:A,nodeLookup:U,rfId:L,panBy:F,updateConnection:R}=v.getState(),D=b.type==="target",H=(q,z)=>{h(!1),m==null||m(q,r,b.type,z)},B=q=>c==null?void 0:c(r,q),V=(q,z)=>{h(!0),u==null||u(N,r,b.type),k==null||k(q,z)};Ng.onPointerDown(N.nativeEvent,{autoPanOnConnect:E,connectionMode:O,connectionRadius:T,domNode:C,handleId:b.id,nodeId:b.nodeId,nodeLookup:U,isTarget:D,edgeUpdaterType:b.type,lib:_,flowId:L,cancelConnection:A,panBy:F,isValidConnection:P,onConnect:B,onConnectStart:V,onConnectEnd:$,onReconnectEnd:H,updateConnection:R,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold})},w=N=>x(N,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),j=N=>x(N,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),g=()=>f(!0),y=()=>f(!1);return n.jsxs(n.Fragment,{children:[(e===!0||e==="source")&&n.jsx(ZN,{position:l,centerX:s,centerY:a,radius:t,onMouseDown:w,onMouseEnter:g,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&n.jsx(ZN,{position:d,centerX:o,centerY:i,radius:t,onMouseDown:j,onMouseEnter:g,onMouseOut:y,type:"target"})]})}function jq({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:s,onClick:a,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,reconnectRadius:u,onReconnect:m,onReconnectStart:h,onReconnectEnd:f,rfId:v,edgeTypes:x,noPanClassName:w,onError:j,disableKeyboardA11y:g}){let y=Oe(he=>he.edgeLookup.get(e));const N=Oe(he=>he.defaultEdgeOptions);y=N?{...N,...y}:y;let b=y.type||"default",E=(x==null?void 0:x[b])||XN[b];E===void 0&&(j==null||j("011",Vr.error011(b)),b="default",E=(x==null?void 0:x.default)||XN.default);const C=!!(y.focusable||t&&typeof y.focusable>"u"),P=typeof m<"u"&&(y.reconnectable||r&&typeof y.reconnectable>"u"),O=!!(y.selectable||s&&typeof y.selectable>"u"),T=p.useRef(null),[_,k]=p.useState(!1),[$,A]=p.useState(!1),U=nt(),{zIndex:L,sourceX:F,sourceY:R,targetX:D,targetY:H,sourcePosition:B,targetPosition:V}=Oe(p.useCallback(he=>{const ve=he.nodeLookup.get(y.source),we=he.nodeLookup.get(y.target);if(!ve||!we)return{zIndex:y.zIndex,...QN};const Re=ZB({id:e,sourceNode:ve,targetNode:we,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:he.connectionMode,onError:j});return{zIndex:WB({selected:y.selected,zIndex:y.zIndex,sourceNode:ve,targetNode:we,elevateOnSelect:he.elevateEdgesOnSelect}),...Re||QN}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),ct),q=p.useMemo(()=>y.markerStart?`url('#${jg(y.markerStart,v)}')`:void 0,[y.markerStart,v]),z=p.useMemo(()=>y.markerEnd?`url('#${jg(y.markerEnd,v)}')`:void 0,[y.markerEnd,v]);if(y.hidden||F===null||R===null||D===null||H===null)return null;const G=he=>{var Fe;const{addSelectedEdges:ve,unselectNodesAndEdges:we,multiSelectionActive:Re}=U.getState();O&&(U.setState({nodesSelectionActive:!1}),y.selected&&Re?(we({nodes:[],edges:[y]}),(Fe=T.current)==null||Fe.blur()):ve([e])),a&&a(he,y)},Y=o?he=>{o(he,{...y})}:void 0,K=i?he=>{i(he,{...y})}:void 0,ne=l?he=>{l(he,{...y})}:void 0,oe=d?he=>{d(he,{...y})}:void 0,fe=c?he=>{c(he,{...y})}:void 0,xe=he=>{var ve;if(!g&&xT.includes(he.key)&&O){const{unselectNodesAndEdges:we,addSelectedEdges:Re}=U.getState();he.key==="Escape"?((ve=T.current)==null||ve.blur(),we({edges:[y]})):Re([e])}};return n.jsx("svg",{style:{zIndex:L},children:n.jsxs("g",{className:Ct(["react-flow__edge",`react-flow__edge-${b}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!O&&!a,updating:_,selectable:O}]),onClick:G,onDoubleClick:Y,onContextMenu:K,onMouseEnter:ne,onMouseMove:oe,onMouseLeave:fe,onKeyDown:C?xe:void 0,tabIndex:C?0:void 0,role:y.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":C?`${XT}-${v}`:void 0,ref:T,...y.domAttributes,children:[!$&&n.jsx(E,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:O,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:F,sourceY:R,targetX:D,targetY:H,sourcePosition:B,targetPosition:V,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:q,markerEnd:z,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),P&&n.jsx(yq,{edge:y,isReconnectable:P,reconnectRadius:u,onReconnect:m,onReconnectStart:h,onReconnectEnd:f,sourceX:F,sourceY:R,targetX:D,targetY:H,sourcePosition:B,targetPosition:V,setUpdateHover:k,setReconnecting:A})]})})}const wq=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function NA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:s,noPanClassName:a,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:m,onEdgeDoubleClick:h,onReconnectStart:f,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:w,edgesReconnectable:j,elementsSelectable:g,onError:y}=Oe(wq,ct),N=oq(t);return n.jsxs("div",{className:"react-flow__edges",children:[n.jsx(uq,{defaultColor:e,rfId:r}),N.map(b=>n.jsx(jq,{id:b,edgesFocusable:w,edgesReconnectable:j,elementsSelectable:g,noPanClassName:a,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:u,reconnectRadius:m,onDoubleClick:h,onReconnectStart:f,onReconnectEnd:v,rfId:r,onError:y,edgeTypes:s,disableKeyboardA11y:x},b))]})}NA.displayName="EdgeRenderer";const Nq=p.memo(NA),bq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Sq({children:e}){const t=Oe(bq);return n.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Cq(e){const t=Wr(),r=p.useRef(!1);p.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Eq=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Pq(e){const t=Oe(Eq),r=nt();return p.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function kq(e){return e.connection.inProgress?{...e.connection,to:md(e.connection.to,e.transform)}:{...e.connection}}function Tq(e){return kq}function Aq(e){const t=Tq();return Oe(t,ct)}const Mq=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Dq({containerStyle:e,style:t,type:r,component:s}){const{nodesConnectable:a,width:o,height:i,isValid:l,inProgress:d}=Oe(Mq,ct);return!(o&&a&&d)?null:n.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:n.jsx("g",{className:Ct(["react-flow__connection",yT(l)]),children:n.jsx(bA,{style:t,type:r,CustomComponent:s,isValid:l})})})}const bA=({style:e,type:t=Us.Bezier,CustomComponent:r,isValid:s})=>{const{inProgress:a,from:o,fromNode:i,fromHandle:l,fromPosition:d,to:c,toNode:u,toHandle:m,toPosition:h}=Aq();if(!a)return;if(r)return n.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:d,toPosition:h,connectionStatus:yT(s),toNode:u,toHandle:m});let f="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:d,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Us.Bezier:[f]=Yy(v);break;case Us.SimpleBezier:[f]=dA(v);break;case Us.Step:[f]=yg({...v,borderRadius:0});break;case Us.SmoothStep:[f]=yg(v);break;default:[f]=DT(v)}return n.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};bA.displayName="ConnectionLine";const Rq={};function eb(e=Rq){p.useRef(e),nt(),p.useEffect(()=>{},[e])}function _q(){nt(),p.useRef(!1),p.useEffect(()=>{},[])}function SA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:m,onSelectionStart:h,onSelectionEnd:f,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:g,selectionOnDrag:y,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:P,onlyRenderVisibleElements:O,elementsSelectable:T,defaultViewport:_,translateExtent:k,minZoom:$,maxZoom:A,preventScrolling:U,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:R,panOnScroll:D,panOnScrollSpeed:H,panOnScrollMode:B,zoomOnDoubleClick:V,panOnDrag:q,onPaneClick:z,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:K,onPaneScroll:ne,onPaneContextMenu:oe,paneClickDistance:fe,nodeClickDistance:xe,onEdgeContextMenu:he,onEdgeMouseEnter:ve,onEdgeMouseMove:we,onEdgeMouseLeave:Re,reconnectRadius:Fe,onReconnect:Et,onReconnectStart:Mn,onReconnectEnd:Be,noDragClassName:Gn,noWheelClassName:Co,noPanClassName:Ta,disableKeyboardA11y:jr,nodeExtent:fl,rfId:Aa,viewport:wr,onViewportChange:Dn}){return eb(e),eb(t),_q(),Cq(r),Pq(wr),n.jsx(Qz,{onPaneClick:z,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:K,onPaneContextMenu:oe,onPaneScroll:ne,paneClickDistance:fe,deleteKeyCode:P,selectionKeyCode:g,selectionOnDrag:y,selectionMode:N,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:T,zoomOnScroll:F,zoomOnPinch:R,zoomOnDoubleClick:V,panOnScroll:D,panOnScrollSpeed:H,panOnScrollMode:B,panOnDrag:q,defaultViewport:_,translateExtent:k,minZoom:$,maxZoom:A,onSelectionContextMenu:m,preventScrolling:U,noDragClassName:Gn,noWheelClassName:Co,noPanClassName:Ta,disableKeyboardA11y:jr,onViewportChange:Dn,isControlledViewport:!!wr,children:n.jsxs(Sq,{children:[n.jsx(Nq,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Et,onReconnectStart:Mn,onReconnectEnd:Be,onlyRenderVisibleElements:O,onEdgeContextMenu:he,onEdgeMouseEnter:ve,onEdgeMouseMove:we,onEdgeMouseLeave:Re,reconnectRadius:Fe,defaultMarkerColor:L,noPanClassName:Ta,disableKeyboardA11y:jr,rfId:Aa}),n.jsx(Dq,{style:x,type:v,component:w,containerStyle:j}),n.jsx("div",{className:"react-flow__edgelabel-renderer"}),n.jsx(aq,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:xe,onlyRenderVisibleElements:O,noPanClassName:Ta,noDragClassName:Gn,disableKeyboardA11y:jr,nodeExtent:fl,rfId:Aa}),n.jsx("div",{className:"react-flow__viewport-portal"})]})})}SA.displayName="GraphView";const Fq=p.memo(SA),tb=({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:m}={})=>{const h=new Map,f=new Map,v=new Map,x=new Map,w=s??t??[],j=r??e??[],g=u??[0,0],y=m??Oc;_T(v,x,w);const N=wg(j,h,f,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&a&&o){const E=hd(h,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:C,y:P,zoom:O}=Wy(E,a,o,d,c,(l==null?void 0:l.padding)??.1);b=[C,P,O]}return{rfId:"1",width:0,height:0,transform:b,nodes:j,nodesInitialized:N,nodeLookup:h,parentLookup:f,edges:w,edgeLookup:x,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:d,maxZoom:c,translateExtent:Oc,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...vT},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:UB,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:gT}},Oq=({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:m})=>nz((h,f)=>{async function v(){const{nodeLookup:x,panZoom:w,fitViewOptions:j,fitViewResolver:g,width:y,height:N,minZoom:b,maxZoom:E}=f();w&&(await LB({nodes:x,width:y,height:N,panZoom:w,minZoom:b,maxZoom:E},j),g==null||g.resolve(!0),h({fitViewResolver:null}))}return{...tb({nodes:e,edges:t,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:m,defaultNodes:r,defaultEdges:s}),setNodes:x=>{const{nodeLookup:w,parentLookup:j,nodeOrigin:g,elevateNodesOnSelect:y,fitViewQueued:N}=f(),b=wg(x,w,j,{nodeOrigin:g,nodeExtent:m,elevateNodesOnSelect:y,checkEquality:!0});N&&b?(v(),h({nodes:x,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:x,nodesInitialized:b})},setEdges:x=>{const{connectionLookup:w,edgeLookup:j}=f();_T(w,j,x),h({edges:x})},setDefaultNodesAndEdges:(x,w)=>{if(x){const{setNodes:j}=f();j(x),h({hasDefaultNodes:!0})}if(w){const{setEdges:j}=f();j(w),h({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:w,nodeLookup:j,parentLookup:g,domNode:y,nodeOrigin:N,nodeExtent:b,debug:E,fitViewQueued:C}=f(),{changes:P,updatedInternals:O}=a7(x,j,g,y,N,b);O&&(n7(j,g,{nodeOrigin:N,nodeExtent:b}),C?(v(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(P==null?void 0:P.length)>0&&(E&&console.log("React Flow: trigger node changes",P),w==null||w(P)))},updateNodePositions:(x,w=!1)=>{const j=[],g=[],{nodeLookup:y,triggerNodeChanges:N}=f();for(const[b,E]of x){const C=y.get(b),P=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(E!=null&&E.position)),O={id:b,type:"position",position:P?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};P&&C.parentId&&j.push({id:b,parentId:C.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),g.push(O)}if(j.length>0){const{parentLookup:b,nodeOrigin:E}=f(),C=Jy(j,y,b,E);g.push(...C)}N(g)},triggerNodeChanges:x=>{const{onNodesChange:w,setNodes:j,nodes:g,hasDefaultNodes:y,debug:N}=f();if(x!=null&&x.length){if(y){const b=ZT(x,g);j(b)}N&&console.log("React Flow: trigger node changes",x),w==null||w(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:w,setEdges:j,edges:g,hasDefaultEdges:y,debug:N}=f();if(x!=null&&x.length){if(y){const b=eA(x,g);j(b)}N&&console.log("React Flow: trigger edge changes",x),w==null||w(x)}},addSelectedNodes:x=>{const{multiSelectionActive:w,edgeLookup:j,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>Ra(E,!0));y(b);return}y(ti(g,new Set([...x]),!0)),N(ti(j))},addSelectedEdges:x=>{const{multiSelectionActive:w,edgeLookup:j,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>Ra(E,!0));N(b);return}N(ti(j,new Set([...x]))),y(ti(g,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:w}={})=>{const{edges:j,nodes:g,nodeLookup:y,triggerNodeChanges:N,triggerEdgeChanges:b}=f(),E=x||g,C=w||j,P=E.map(T=>{const _=y.get(T.id);return _&&(_.selected=!1),Ra(T.id,!1)}),O=C.map(T=>Ra(T.id,!1));N(P),b(O)},setMinZoom:x=>{const{panZoom:w,maxZoom:j}=f();w==null||w.setScaleExtent([x,j]),h({minZoom:x})},setMaxZoom:x=>{const{panZoom:w,minZoom:j}=f();w==null||w.setScaleExtent([j,x]),h({maxZoom:x})},setTranslateExtent:x=>{var w;(w=f().panZoom)==null||w.setTranslateExtent(x),h({translateExtent:x})},setPaneClickDistance:x=>{var w;(w=f().panZoom)==null||w.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:w,triggerNodeChanges:j,triggerEdgeChanges:g,elementsSelectable:y}=f();if(!y)return;const N=w.reduce((E,C)=>C.selected?[...E,Ra(C.id,!1)]:E,[]),b=x.reduce((E,C)=>C.selected?[...E,Ra(C.id,!1)]:E,[]);j(N),g(b)},setNodeExtent:x=>{const{nodes:w,nodeLookup:j,parentLookup:g,nodeOrigin:y,elevateNodesOnSelect:N,nodeExtent:b}=f();x[0][0]===b[0][0]&&x[0][1]===b[0][1]&&x[1][0]===b[1][0]&&x[1][1]===b[1][1]||(wg(w,j,g,{nodeOrigin:y,nodeExtent:x,elevateNodesOnSelect:N,checkEquality:!1}),h({nodeExtent:x}))},panBy:x=>{const{transform:w,width:j,height:g,panZoom:y,translateExtent:N}=f();return o7({delta:x,panZoom:y,transform:w,translateExtent:N,width:j,height:g})},setCenter:async(x,w,j)=>{const{width:g,height:y,maxZoom:N,panZoom:b}=f();if(!b)return Promise.resolve(!1);const E=typeof(j==null?void 0:j.zoom)<"u"?j.zoom:N;return await b.setViewport({x:g/2-x*E,y:y/2-w*E,zoom:E},{duration:j==null?void 0:j.duration,ease:j==null?void 0:j.ease,interpolate:j==null?void 0:j.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...vT}})},updateConnection:x=>{h({connection:x})},reset:()=>h({...tb()})}},Object.is);function Iq({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:s,initialWidth:a,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:d,fitView:c,nodeOrigin:u,nodeExtent:m,children:h}){const[f]=p.useState(()=>Oq({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,width:a,height:o,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:d,nodeOrigin:u,nodeExtent:m}));return n.jsx(rz,{value:f,children:n.jsx(Ez,{children:h})})}function Lq({children:e,nodes:t,edges:r,defaultNodes:s,defaultEdges:a,width:o,height:i,fitView:l,fitViewOptions:d,minZoom:c,maxZoom:u,nodeOrigin:m,nodeExtent:h}){return p.useContext(Wm)?n.jsx(n.Fragment,{children:e}):n.jsx(Iq,{initialNodes:t,initialEdges:r,defaultNodes:s,defaultEdges:a,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:d,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:m,nodeExtent:h,children:e})}const $q={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Uq({nodes:e,edges:t,defaultNodes:r,defaultEdges:s,className:a,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:d,onInit:c,onMove:u,onMoveStart:m,onMoveEnd:h,onConnect:f,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:j,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:O,onNodesDelete:T,onEdgesDelete:_,onDelete:k,onSelectionChange:$,onSelectionDragStart:A,onSelectionDrag:U,onSelectionDragStop:L,onSelectionContextMenu:F,onSelectionStart:R,onSelectionEnd:D,onBeforeDelete:H,connectionMode:B,connectionLineType:V=Us.Bezier,connectionLineStyle:q,connectionLineComponent:z,connectionLineContainerStyle:G,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:ne=!1,selectionMode:oe=Ic.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:xe=_h()?"Meta":"Control",zoomActivationKeyCode:he=_h()?"Meta":"Control",snapToGrid:ve,snapGrid:we,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:Fe,nodesDraggable:Et,autoPanOnNodeFocus:Mn,nodesConnectable:Be,nodesFocusable:Gn,nodeOrigin:Co=QT,edgesFocusable:Ta,edgesReconnectable:jr,elementsSelectable:fl=!0,defaultViewport:Aa=xz,minZoom:wr=.5,maxZoom:Dn=2,translateExtent:xl=Oc,preventScrolling:Cs=!0,nodeExtent:Eo,defaultMarkerColor:ip="#b1b1b7",zoomOnScroll:wd=!0,zoomOnPinch:Nd=!0,panOnScroll:lp=!1,panOnScrollSpeed:gl=.5,panOnScrollMode:Nr=Xa.Free,zoomOnDoubleClick:cp=!0,panOnDrag:ke=!0,onPaneClick:ze,onPaneMouseEnter:He,onPaneMouseMove:Rn,onPaneMouseLeave:_n,onPaneScroll:Po,onPaneContextMenu:dp,paneClickDistance:_0=0,nodeClickDistance:wD=0,children:ND,onReconnect:bD,onReconnectStart:SD,onReconnectEnd:CD,onEdgeContextMenu:ED,onEdgeDoubleClick:PD,onEdgeMouseEnter:kD,onEdgeMouseMove:TD,onEdgeMouseLeave:AD,reconnectRadius:MD=10,onNodesChange:DD,onEdgesChange:RD,noDragClassName:_D="nodrag",noWheelClassName:FD="nowheel",noPanClassName:F0="nopan",fitView:O0,fitViewOptions:I0,connectOnClick:OD,attributionPosition:ID,proOptions:LD,defaultEdgeOptions:$D,elevateNodesOnSelect:UD,elevateEdgesOnSelect:VD,disableKeyboardA11y:L0=!1,autoPanOnConnect:HD,autoPanOnNodeDrag:BD,autoPanSpeed:zD,connectionRadius:qD,isValidConnection:WD,onError:KD,style:YD,id:$0,nodeDragThreshold:GD,connectionDragThreshold:XD,viewport:QD,onViewportChange:JD,width:ZD,height:eR,colorMode:tR="light",debug:nR,onScroll:bd,ariaLabelConfig:rR,...sR},aR){const up=$0||"1",oR=jz(tR),iR=p.useCallback(U0=>{U0.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),bd==null||bd(U0)},[bd]);return n.jsx("div",{"data-testid":"rf__wrapper",...sR,onScroll:iR,style:{...YD,...$q},ref:aR,className:Ct(["react-flow",a,oR]),id:$0,role:"application",children:n.jsxs(Lq,{nodes:e,edges:t,width:ZD,height:eR,fitView:O0,fitViewOptions:I0,minZoom:wr,maxZoom:Dn,nodeOrigin:Co,nodeExtent:Eo,children:[n.jsx(Fq,{onInit:c,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:V,connectionLineStyle:q,connectionLineComponent:z,connectionLineContainerStyle:G,selectionKeyCode:K,selectionOnDrag:ne,selectionMode:oe,deleteKeyCode:Y,multiSelectionKeyCode:xe,panActivationKeyCode:fe,zoomActivationKeyCode:he,onlyRenderVisibleElements:Re,defaultViewport:Aa,translateExtent:xl,minZoom:wr,maxZoom:Dn,preventScrolling:Cs,zoomOnScroll:wd,zoomOnPinch:Nd,zoomOnDoubleClick:cp,panOnScroll:lp,panOnScrollSpeed:gl,panOnScrollMode:Nr,panOnDrag:ke,onPaneClick:ze,onPaneMouseEnter:He,onPaneMouseMove:Rn,onPaneMouseLeave:_n,onPaneScroll:Po,onPaneContextMenu:dp,paneClickDistance:_0,nodeClickDistance:wD,onSelectionContextMenu:F,onSelectionStart:R,onSelectionEnd:D,onReconnect:bD,onReconnectStart:SD,onReconnectEnd:CD,onEdgeContextMenu:ED,onEdgeDoubleClick:PD,onEdgeMouseEnter:kD,onEdgeMouseMove:TD,onEdgeMouseLeave:AD,reconnectRadius:MD,defaultMarkerColor:ip,noDragClassName:_D,noWheelClassName:FD,noPanClassName:F0,rfId:up,disableKeyboardA11y:L0,nodeExtent:Eo,viewport:QD,onViewportChange:JD}),n.jsx(yz,{nodes:e,edges:t,defaultNodes:r,defaultEdges:s,onConnect:f,onConnectStart:v,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:j,nodesDraggable:Et,autoPanOnNodeFocus:Mn,nodesConnectable:Be,nodesFocusable:Gn,edgesFocusable:Ta,edgesReconnectable:jr,elementsSelectable:fl,elevateNodesOnSelect:UD,elevateEdgesOnSelect:VD,minZoom:wr,maxZoom:Dn,nodeExtent:Eo,onNodesChange:DD,onEdgesChange:RD,snapToGrid:ve,snapGrid:we,connectionMode:B,translateExtent:xl,connectOnClick:OD,defaultEdgeOptions:$D,fitView:O0,fitViewOptions:I0,onNodesDelete:T,onEdgesDelete:_,onDelete:k,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:O,onSelectionDrag:U,onSelectionDragStart:A,onSelectionDragStop:L,onMove:u,onMoveStart:m,onMoveEnd:h,noPanClassName:F0,nodeOrigin:Co,rfId:up,autoPanOnConnect:HD,autoPanOnNodeDrag:BD,autoPanSpeed:zD,onError:KD,connectionRadius:qD,isValidConnection:WD,selectNodesOnDrag:Fe,nodeDragThreshold:GD,connectionDragThreshold:XD,onBeforeDelete:H,paneClickDistance:_0,debug:nR,ariaLabelConfig:rR}),n.jsx(fz,{onSelectionChange:$}),ND,n.jsx(dz,{proOptions:LD,position:ID}),n.jsx(cz,{rfId:up,disableKeyboardA11y:L0})]})})}var CA=tA(Uq);const Vq=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Hq({children:e}){const t=Oe(Vq);return t?gr.createPortal(e,t):null}function EA(e){const[t,r]=p.useState(e),s=p.useCallback(a=>r(o=>ZT(a,o)),[]);return[t,r,s]}function PA(e){const[t,r]=p.useState(e),s=p.useCallback(a=>r(o=>eA(a,o)),[]);return[t,r,s]}function Bq({dimensions:e,lineWidth:t,variant:r,className:s}){return n.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ct(["react-flow__background-pattern",r,s])})}function zq({radius:e,className:t}){return n.jsx("circle",{cx:e,cy:e,r:e,className:Ct(["react-flow__background-pattern","dots",t])})}var is;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(is||(is={}));const qq={[is.Dots]:1,[is.Lines]:1,[is.Cross]:6},Wq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function kA({id:e,variant:t=is.Dots,gap:r=20,size:s,lineWidth:a=1,offset:o=0,color:i,bgColor:l,style:d,className:c,patternClassName:u}){const m=p.useRef(null),{transform:h,patternId:f}=Oe(Wq,ct),v=s||qq[t],x=t===is.Dots,w=t===is.Cross,j=Array.isArray(r)?r:[r,r],g=[j[0]*h[2]||1,j[1]*h[2]||1],y=v*h[2],N=Array.isArray(o)?o:[o,o],b=w?[y,y]:g,E=[N[0]*h[2]||1+b[0]/2,N[1]*h[2]||1+b[1]/2],C=`${f}${e||""}`;return n.jsxs("svg",{className:Ct(["react-flow__background",c]),style:{...d,...Km,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:m,"data-testid":"rf__background",children:[n.jsx("pattern",{id:C,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:x?n.jsx(zq,{radius:y/2,className:u}):n.jsx(Bq,{dimensions:b,lineWidth:a,variant:t,className:u})}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}kA.displayName="Background";const TA=p.memo(kA);function Kq(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:n.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Yq(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:n.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Gq(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:n.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Xq(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Qq(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function au({children:e,className:t,...r}){return n.jsx("button",{type:"button",className:Ct(["react-flow__controls-button",t]),...r,children:e})}const Jq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function AA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:d,className:c,children:u,position:m="bottom-left",orientation:h="vertical","aria-label":f}){const v=nt(),{isInteractive:x,minZoomReached:w,maxZoomReached:j,ariaLabelConfig:g}=Oe(Jq,ct),{zoomIn:y,zoomOut:N,fitView:b}=Wr(),E=()=>{y(),o==null||o()},C=()=>{N(),i==null||i()},P=()=>{b(a),l==null||l()},O=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),d==null||d(!x)},T=h==="horizontal"?"horizontal":"vertical";return n.jsxs(Wi,{className:Ct(["react-flow__controls",T,c]),position:m,style:e,"data-testid":"rf__controls","aria-label":f??g["controls.ariaLabel"],children:[t&&n.jsxs(n.Fragment,{children:[n.jsx(au,{onClick:E,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:j,children:n.jsx(Kq,{})}),n.jsx(au,{onClick:C,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:w,children:n.jsx(Yq,{})})]}),r&&n.jsx(au,{className:"react-flow__controls-fitview",onClick:P,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:n.jsx(Gq,{})}),s&&n.jsx(au,{className:"react-flow__controls-interactive",onClick:O,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:x?n.jsx(Qq,{}):n.jsx(Xq,{})}),u]})}AA.displayName="Controls";const MA=p.memo(AA);function Zq({id:e,x:t,y:r,width:s,height:a,style:o,color:i,strokeColor:l,strokeWidth:d,className:c,borderRadius:u,shapeRendering:m,selected:h,onClick:f}){const{background:v,backgroundColor:x}=o||{},w=i||v||x;return n.jsx("rect",{className:Ct(["react-flow__minimap-node",{selected:h},c]),x:t,y:r,rx:u,ry:u,width:s,height:a,style:{fill:w,stroke:l,strokeWidth:d},shapeRendering:m,onClick:f?j=>f(j,e):void 0})}const eW=p.memo(Zq),tW=e=>e.nodes.map(t=>t.id),ff=e=>e instanceof Function?e:()=>e;function nW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:o=eW,onClick:i}){const l=Oe(tW,ct),d=ff(t),c=ff(e),u=ff(r),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return n.jsx(n.Fragment,{children:l.map(h=>n.jsx(sW,{id:h,nodeColorFunc:d,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:o,onClick:i,shapeRendering:m},h))})}function rW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:d}){const{node:c,x:u,y:m,width:h,height:f}=Oe(v=>{const{internals:x}=v.nodeLookup.get(e),w=x.userNode,{x:j,y:g}=x.positionAbsolute,{width:y,height:N}=Ns(w);return{node:w,x:j,y:g,width:y,height:N}},ct);return!c||c.hidden||!CT(c)?null:n.jsx(l,{x:u,y:m,width:h,height:f,style:c.style,selected:!!c.selected,className:s(c),color:t(c),borderRadius:a,strokeColor:r(c),strokeWidth:o,shapeRendering:i,onClick:d,id:c.id})}const sW=p.memo(rW);var aW=p.memo(nW);const oW=200,iW=150,lW=e=>!e.hidden,cW=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ST(hd(e.nodeLookup,{filter:lW}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},dW="react-flow__minimap-desc";function DA({style:e,className:t,nodeStrokeColor:r,nodeColor:s,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:d,maskColor:c,maskStrokeColor:u,maskStrokeWidth:m,position:h="bottom-right",onClick:f,onNodeClick:v,pannable:x=!1,zoomable:w=!1,ariaLabel:j,inversePan:g,zoomStep:y=10,offsetScale:N=5}){const b=nt(),E=p.useRef(null),{boundingRect:C,viewBB:P,rfId:O,panZoom:T,translateExtent:_,flowWidth:k,flowHeight:$,ariaLabelConfig:A}=Oe(cW,ct),U=(e==null?void 0:e.width)??oW,L=(e==null?void 0:e.height)??iW,F=C.width/U,R=C.height/L,D=Math.max(F,R),H=D*U,B=D*L,V=N*D,q=C.x-(H-C.width)/2-V,z=C.y-(B-C.height)/2-V,G=H+V*2,Y=B+V*2,K=`${dW}-${O}`,ne=p.useRef(0),oe=p.useRef();ne.current=D,p.useEffect(()=>{if(E.current&&T)return oe.current=p7({domNode:E.current,panZoom:T,getTransform:()=>b.getState().transform,getViewScale:()=>ne.current}),()=>{var ve;(ve=oe.current)==null||ve.destroy()}},[T]),p.useEffect(()=>{var ve;(ve=oe.current)==null||ve.update({translateExtent:_,width:k,height:$,inversePan:g,pannable:x,zoomStep:y,zoomable:w})},[x,w,g,y,_,k,$]);const fe=f?ve=>{var Fe;const[we,Re]=((Fe=oe.current)==null?void 0:Fe.pointer(ve))||[0,0];f(ve,{x:we,y:Re})}:void 0,xe=v?p.useCallback((ve,we)=>{const Re=b.getState().nodeLookup.get(we).internals.userNode;v(ve,Re)},[]):void 0,he=j??A["minimap.ariaLabel"];return n.jsx(Wi,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*D:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Ct(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:n.jsxs("svg",{width:U,height:L,viewBox:`${q} ${z} ${G} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:E,onClick:fe,children:[he&&n.jsx("title",{id:K,children:he}),n.jsx(aW,{onClick:xe,nodeColor:s,nodeStrokeColor:r,nodeBorderRadius:o,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),n.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-V},${z-V}h${G+V*2}v${Y+V*2}h${-G-V*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}DA.displayName="MiniMap";const RA=p.memo(DA),uW=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,hW={[zi.Line]:"right",[zi.Handle]:"bottom-right"};function mW({nodeId:e,position:t,variant:r=zi.Handle,className:s,style:a=void 0,children:o,color:i,minWidth:l=10,minHeight:d=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:h,autoScale:f=!0,shouldResize:v,onResizeStart:x,onResize:w,onResizeEnd:j}){const g=aA(),y=typeof e=="string"?e:g,N=nt(),b=p.useRef(null),E=r===zi.Handle,C=Oe(p.useCallback(uW(E&&f),[E,f]),ct),P=p.useRef(null),O=t??hW[r];p.useEffect(()=>{if(!(!b.current||!y))return P.current||(P.current=A7({domNode:b.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:_,transform:k,snapGrid:$,snapToGrid:A,nodeOrigin:U,domNode:L}=N.getState();return{nodeLookup:_,transform:k,snapGrid:$,snapToGrid:A,nodeOrigin:U,paneDomNode:L}},onChange:(_,k)=>{const{triggerNodeChanges:$,nodeLookup:A,parentLookup:U,nodeOrigin:L}=N.getState(),F=[],R={x:_.x,y:_.y},D=A.get(y);if(D&&D.expandParent&&D.parentId){const H=D.origin??L,B=_.width??D.measured.width??0,V=_.height??D.measured.height??0,q={id:D.id,parentId:D.parentId,rect:{width:B,height:V,...ET({x:_.x??D.position.x,y:_.y??D.position.y},{width:B,height:V},D.parentId,A,H)}},z=Jy([q],A,U,L);F.push(...z),R.x=_.x?Math.max(H[0]*B,_.x):void 0,R.y=_.y?Math.max(H[1]*V,_.y):void 0}if(R.x!==void 0&&R.y!==void 0){const H={id:y,type:"position",position:{...R}};F.push(H)}if(_.width!==void 0&&_.height!==void 0){const B={id:y,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:_.width,height:_.height}};F.push(B)}for(const H of k){const B={...H,type:"position"};F.push(B)}$(F)},onEnd:({width:_,height:k})=>{const $={id:y,type:"dimensions",resizing:!1,dimensions:{width:_,height:k}};N.getState().triggerNodeChanges([$])}})),P.current.update({controlPosition:O,boundaries:{minWidth:l,minHeight:d,maxWidth:c,maxHeight:u},keepAspectRatio:m,resizeDirection:h,onResizeStart:x,onResize:w,onResizeEnd:j,shouldResize:v}),()=>{var _;(_=P.current)==null||_.destroy()}},[O,l,d,c,u,m,x,w,j,v]);const T=O.split("-");return n.jsx("div",{className:Ct(["react-flow__resize-control","nodrag",...T,r,s]),ref:b,style:{...a,scale:C,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:o})}p.memo(mW);const pW=({id:e,data:t})=>{const{field:r}=t,{setNodes:s,setEdges:a}=Wr(),o=()=>{s(i=>i.filter(l=>l.id!==e)),a(i=>i.filter(l=>l.source!==e&&l.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:o,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(zt,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:r.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:r.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:r.path,children:r.path})]}),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})},fW=({id:e,data:t})=>{const[r,s]=p.useState(t.function),[a,o]=p.useState(t.parameters),[i,l]=p.useState(!1),{setNodes:d,setEdges:c}=Wr(),u=x=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(g=>x.name.toLowerCase().includes(g))||r.parameters.indexOf(x)===0&&x.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(g=>x.name.toLowerCase().includes(g))?!1:x.required,m=Object.values(Li).flat(),h=x=>{const w=m.find(j=>j.name===x);w&&(s(w),o({}))},f=(x,w)=>{o(j=>({...j,[x]:w}))},v=()=>{d(x=>x.filter(w=>w.id!==e)),c(x=>x.filter(w=>w.source!==e&&w.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:v,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(lr,{className:"h-4 w-4 text-orange-500"})}),n.jsx(W,{size:"sm",variant:"ghost",onClick:x=>{x.preventDefault(),x.stopPropagation(),l(!i)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:n.jsx(Ze,{className:`h-3 w-3 ${i?"text-primary":""}`})})]}),t.showSelector?n.jsxs(J,{value:r.name,onValueChange:h,children:[n.jsx(X,{className:"w-full text-xs",children:n.jsx(Z,{})}),n.jsx(Q,{children:Object.entries(Li).map(([x,w])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:x}),w.map(j=>n.jsx(M,{value:j.name,className:"text-xs",children:j.name},j.name))]},x))})]}):n.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&n.jsx(ts,{className:"h-3 w-3"}),r.name]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:r.description}),i&&n.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs font-medium",children:"Custom Java Code"}),n.jsx(Se,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:x=>f("customCode",x.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):n.jsxs(n.Fragment,{children:[n.jsx(S,{className:"text-xs font-medium",children:"Parameters"}),r.parameters.filter(x=>!u(x)).length===0?n.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):r.parameters.filter(x=>!u(x)).map(x=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs(S,{className:"text-xs",children:[x.name,x.required&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx(I,{placeholder:`${x.type} value`,value:a[x.name]||"",onChange:w=>f(x.name,w.target.value),className:"h-6 text-xs"}),x.description&&n.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]},x.name))]})}),r.parameters.map((x,w)=>u(x)?n.jsx(xt,{type:"target",position:ye.Left,id:x.name,style:{top:`${60+w*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${x.name}`):null),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},xW=({data:e})=>{const[t,r]=p.useState(e.value),[s,a]=p.useState(e.type);return n.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(UO,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(J,{value:s,onValueChange:o=>a(o),children:[n.jsx(X,{className:"w-full h-7 text-xs",children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"string",children:"String"}),n.jsx(M,{value:"number",children:"Number"}),n.jsx(M,{value:"boolean",children:"Boolean"})]})]}),s==="boolean"?n.jsxs(J,{value:t,onValueChange:r,children:[n.jsx(X,{className:"w-full h-7 text-xs",children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"true",children:"true"}),n.jsx(M,{value:"false",children:"false"})]})]}):n.jsx(I,{placeholder:`Enter ${s} value`,value:t,onChange:o=>r(o.target.value),type:s==="number"?"number":"text",className:"h-7 text-xs"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",n.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},gW=({data:e})=>{const{field:t}=e;return n.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(Ux,{className:"h-4 w-4 text-purple-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),n.jsx(xt,{type:"target",position:ye.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},vW=({data:e})=>{const[t,r]=p.useState(e.condition),[s,a]=p.useState(e.compareValue);return n.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Fa,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Condition"}),n.jsxs(J,{value:t,onValueChange:o=>r(o),children:[n.jsx(X,{className:"w-full h-7 text-xs",children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"equals",children:"Equals"}),n.jsx(M,{value:"notEquals",children:"Not Equals"}),n.jsx(M,{value:"contains",children:"Contains"}),n.jsx(M,{value:"startsWith",children:"Starts With"}),n.jsx(M,{value:"endsWith",children:"Ends With"}),n.jsx(M,{value:"isEmpty",children:"Is Empty"}),n.jsx(M,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Compare Value"}),n.jsx(I,{placeholder:"Value to compare",value:s,onChange:o=>a(o.target.value),className:"h-7 text-xs"})]})]}),n.jsx(xt,{type:"target",position:ye.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),n.jsx(xt,{type:"source",position:ye.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),n.jsx(xt,{type:"source",position:ye.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),n.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),n.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function yW(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var e0="ScrollArea",[_A,Nte]=Wn(e0),[jW,Kn]=_A(e0),FA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,d]=p.useState(null),[c,u]=p.useState(null),[m,h]=p.useState(null),[f,v]=p.useState(null),[x,w]=p.useState(null),[j,g]=p.useState(0),[y,N]=p.useState(0),[b,E]=p.useState(!1),[C,P]=p.useState(!1),O=Te(t,_=>d(_)),T=sd(a);return n.jsx(jW,{scope:r,type:s,dir:T,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:u,content:m,onContentChange:h,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:g,onCornerHeightChange:N,children:n.jsx(Ce.div,{dir:T,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});FA.displayName=e0;var OA="ScrollAreaViewport",IA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:o,...i}=e,l=Kn(OA,r),d=p.useRef(null),c=Te(t,d,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),n.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:AW({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});IA.displayName=OA;var Kr="ScrollAreaScrollbar",t0=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Kn(Kr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(wW,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(NW,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(LA,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(n0,{...s,ref:t}):null});t0.displayName=Kr;var wW=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Kn(Kr,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const c=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Ft,{present:r||o,children:n.jsx(LA,{"data-state":o?"visible":"hidden",...s,ref:t})})}),NW=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Kn(Kr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Gm(()=>d("SCROLL_END"),100),[l,d]=yW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,a.scrollHideDelay,d]),p.useEffect(()=>{const c=a.viewport,u=o?"scrollLeft":"scrollTop";if(c){let m=c[u];const h=()=>{const f=c[u];m!==f&&(d("SCROLL"),i()),m=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[a.viewport,o,d,i]),n.jsx(Ft,{present:r||l!=="hidden",children:n.jsx(n0,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),LA=p.forwardRef((e,t)=>{const r=Kn(Kr,e.__scopeScrollArea),{forceMount:s,...a}=e,[o,i]=p.useState(!1),l=e.orientation==="horizontal",d=Gm(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?c:u)}},10);return Ki(r.viewport,d),Ki(r.content,d),n.jsx(Ft,{present:s||o,children:n.jsx(n0,{"data-state":o?"visible":"hidden",...a,ref:t})})}),n0=p.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Kn(Kr,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=BA(l.viewport,l.content),u={...s,sizes:l,onSizesChange:d,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,f){return kW(h,i.current,l,f)}return r==="horizontal"?n.jsx(bW,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,f=nb(h,l,a.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):r==="vertical"?n.jsx(SW,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,f=nb(h,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),bW=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,o=Kn(Kr,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Te(t,d,o.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(UA,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ym(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),qA(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Lh(i.paddingLeft),paddingEnd:Lh(i.paddingRight)}})}})}),SW=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,o=Kn(Kr,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Te(t,d,o.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(UA,{"data-orientation":"vertical",...a,ref:c,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ym(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),qA(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Lh(i.paddingTop),paddingEnd:Lh(i.paddingBottom)}})}})}),[CW,$A]=_A(Kr),UA=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:c,onWheelScroll:u,onResize:m,...h}=e,f=Kn(Kr,r),[v,x]=p.useState(null),w=Te(t,O=>x(O)),j=p.useRef(null),g=p.useRef(""),y=f.viewport,N=s.content-s.viewport,b=st(u),E=st(d),C=Gm(m,10);function P(O){if(j.current){const T=O.clientX-j.current.left,_=O.clientY-j.current.top;c({x:T,y:_})}}return p.useEffect(()=>{const O=T=>{const _=T.target;(v==null?void 0:v.contains(_))&&b(T,N)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[y,v,N,b]),p.useEffect(E,[s,E]),Ki(v,C),Ki(f.content,C),n.jsx(CW,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:st(o),onThumbPointerUp:st(i),onThumbPositionChange:E,onThumbPointerDown:st(l),children:n.jsx(Ce.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ue(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),j.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:ue(e.onPointerMove,P),onPointerUp:ue(e.onPointerUp,O=>{const T=O.target;T.hasPointerCapture(O.pointerId)&&T.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),j.current=null})})})}),Ih="ScrollAreaThumb",VA=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=$A(Ih,e.__scopeScrollArea);return n.jsx(Ft,{present:r||a.hasThumb,children:n.jsx(EW,{ref:t,...s})})}),EW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,o=Kn(Ih,r),i=$A(Ih,r),{onThumbPositionChange:l}=i,d=Te(t,m=>i.onThumbChange(m)),c=p.useRef(),u=Gm(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const m=o.viewport;if(m){const h=()=>{if(u(),!c.current){const f=TW(m,l);c.current=f,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[o.viewport,u,l]),n.jsx(Ce.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ue(e.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),v=m.clientX-f.left,x=m.clientY-f.top;i.onThumbPointerDown({x:v,y:x})}),onPointerUp:ue(e.onPointerUp,i.onThumbPointerUp)})});VA.displayName=Ih;var r0="ScrollAreaCorner",HA=p.forwardRef((e,t)=>{const r=Kn(r0,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(PW,{...e,ref:t}):null});HA.displayName=r0;var PW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Kn(r0,r),[o,i]=p.useState(0),[l,d]=p.useState(0),c=!!(o&&l);return Ki(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),d(u)}),Ki(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),c?n.jsx(Ce.div,{...s,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lh(e){return e?parseInt(e,10):0}function BA(e,t){const r=e/t;return isNaN(r)?0:r}function Ym(e){const t=BA(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function kW(e,t,r,s="ltr"){const a=Ym(r),o=a/2,i=t||o,l=a-i,d=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return zA([d,c],m)(e)}function nb(e,t,r="ltr"){const s=Ym(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-s,d=r==="ltr"?[0,i]:[i*-1,0],c=tg(e,d);return zA([0,i],[0,l])(c)}function zA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function qA(e,t){return e>0&&e<t}var TW=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Gm(e,t){const r=st(e),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Ki(e,t){const r=st(t);Mt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function AW(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=p.Children.only(s);return p.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var WA=FA,MW=IA,DW=HA;const mo=p.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(WA,{ref:s,className:ie("relative overflow-hidden",e),...r,children:[n.jsx(MW,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(KA,{}),n.jsx(DW,{})]}));mo.displayName=WA.displayName;const KA=p.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(t0,{ref:s,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(VA,{className:"relative flex-1 rounded-full bg-border"})}));KA.displayName=t0.displayName;const RW=({open:e,onClose:t,sourceFields:r,onSelectField:s,excludeFields:a=[]})=>{const[o,i]=p.useState(""),[l,d]=p.useState(new Set),c=w=>{d(j=>{const g=new Set(j);return g.has(w)?g.delete(w):g.add(w),g})},u=w=>{s(w),t(),i(""),d(new Set)},m=(w,j=0)=>{var C;const g=!w.children||w.children.length===0,y=l.has(w.id),N=a.includes(w.id),b=!o||w.name.toLowerCase().includes(o.toLowerCase())||w.path.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase()),E=(C=w.children)==null?void 0:C.some(P=>P.name.toLowerCase().includes(o.toLowerCase())||P.path.toLowerCase().includes(o.toLowerCase())||P.type.toLowerCase().includes(o.toLowerCase()));return!b&&!E?null:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":g?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${j*16}px`},onClick:()=>{g&&!N?u(w):g||c(w.id)},children:[!g&&n.jsx(W,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),c(w.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:y?n.jsx(ur,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx(zt,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm",children:w.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:w.type}),N&&n.jsx(ce,{variant:"secondary",className:"text-xs",children:"Already added"})]}),g&&!N&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!g&&y&&w.children&&n.jsx("div",{className:"ml-2",children:w.children.map(P=>m(P,j+1))})]},w.id)},h=w=>{const j=[],g=y=>{!y.children||y.children.length===0?j.push(y):y.children.forEach(g)};return w.forEach(g),j},f=r.filter(w=>!a.includes(w.id)),v=h(r).length,x=h(f).length;return n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"max-w-2xl h-[80vh] flex flex-col",children:[n.jsx(yt,{className:"flex-shrink-0",children:n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{children:"Select Source Field"}),n.jsxs(ce,{variant:"outline",className:"text-xs",children:[x," of ",v," available"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(lt,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search fields by name, path, or type...",value:o,onChange:w=>i(w.target.value),className:"pl-10"})]})}),n.jsx(mo,{className:"flex-1",children:n.jsx("div",{className:"space-y-2 pr-4",children:f.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(zt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No available source fields to add"})]}):f.map(w=>m(w))})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var s0="Tabs",[_W,bte]=Wn(s0,[Sm]),YA=Sm(),[FW,a0]=_W(s0),GA=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=sd(l),[m,h]=$r({prop:s,onChange:a,defaultProp:o});return n.jsx(FW,{scope:r,baseId:cr(),value:m,onValueChange:h,orientation:i,dir:u,activationMode:d,children:n.jsx(Ce.div,{dir:u,"data-orientation":i,...c,ref:t})})});GA.displayName=s0;var XA="TabsList",QA=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,o=a0(XA,r),i=YA(r);return n.jsx(lE,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:n.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});QA.displayName=XA;var JA="TabsTrigger",ZA=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...o}=e,i=a0(JA,r),l=YA(r),d=n4(i.baseId,s),c=r4(i.baseId,s),u=s===i.value;return n.jsx(cE,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:ue(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(s):m.preventDefault()}),onKeyDown:ue(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(s)}),onFocus:ue(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(s)})})})});ZA.displayName=JA;var e4="TabsContent",t4=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:o,...i}=e,l=a0(e4,r),d=n4(l.baseId,s),c=r4(l.baseId,s),u=s===l.value,m=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Ft,{present:a||u,children:({present:h})=>n.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});t4.displayName=e4;function n4(e,t){return`${e}-trigger-${t}`}function r4(e,t){return`${e}-content-${t}`}var OW=GA,s4=QA,a4=ZA,o4=t4;const Ye=OW,qe=p.forwardRef(({className:e,...t},r)=>n.jsx(s4,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qe.displayName=s4.displayName;const be=p.forwardRef(({className:e,...t},r)=>n.jsx(a4,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));be.displayName=a4.displayName;const je=p.forwardRef(({className:e,...t},r)=>n.jsx(o4,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));je.displayName=o4.displayName;const IW=({open:e,onClose:t,onSelectFunction:r})=>{const[s,a]=p.useState(""),o=Object.entries(Li).reduce((c,[u,m])=>{const h=m.filter(f=>f.name.toLowerCase().includes(s.toLowerCase())||f.description.toLowerCase().includes(s.toLowerCase()));return h.length>0&&(c[u]=h),c},{}),i=c=>{r(c),t(),a("")},l=Object.values(Li).flat().length,d=Object.values(o).flat().length;return n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"max-w-4xl h-[80vh] flex flex-col",children:[n.jsx(yt,{className:"flex-shrink-0",children:n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hp,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Select Function"}),n.jsxs(ce,{variant:"outline",className:"text-xs",children:[d," of ",l," functions"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(lt,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search functions by name or description...",value:s,onChange:c=>a(c.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:Object.keys(o).length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Hp,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No functions found matching your search"})]}):n.jsxs(Ye,{defaultValue:Object.keys(o)[0],className:"h-full flex flex-col",children:[n.jsx(qe,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(o).length}, 1fr)`},children:Object.keys(o).map(c=>n.jsxs(be,{value:c,className:"capitalize text-xs",children:[c," (",o[c].length,")"]},c))}),Object.entries(o).map(([c,u])=>n.jsx(je,{value:c,className:"flex-1 mt-4",children:n.jsx(mo,{className:"h-full",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:u.map(m=>n.jsxs(ee,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>i(m),children:[n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Hp,{className:"h-3 w-3 text-primary"}),m.name]}),n.jsx(ge,{className:"text-xs mt-1",children:m.description})]}),n.jsx(ce,{variant:"secondary",className:"text-xs ml-2",children:m.category})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:[m.parameters.length," parameter",m.parameters.length!==1?"s":""]}),n.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},m.name))})})},c))]})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},LW=({id:e,sourceX:t,sourceY:r,targetX:s,targetY:a,sourcePosition:o,targetPosition:i,style:l={},markerEnd:d,selected:c=!1})=>{const{setEdges:u}=Wr(),[m,h,f]=Yy({sourceX:t,sourceY:r,sourcePosition:o,targetX:s,targetY:a,targetPosition:i}),v=x=>{x.stopPropagation(),u(w=>w.filter(j=>j.id!==e))};return n.jsxs(n.Fragment,{children:[n.jsx(pd,{path:m,markerEnd:d,style:l}),c&&n.jsx(Hq,{children:n.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${h}px,${f}px)`},children:n.jsx(W,{variant:"ghost",size:"sm",onClick:v,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:n.jsx(lt,{className:"h-3 w-3"})})})})]})},$W={sourceField:pW,function:fW,constant:xW,targetField:gW,conditional:vW},UW={deletable:LW},VW=({open:e,onClose:t,sourceFields:r,targetField:s,onApplyMapping:a,initialMapping:o})=>{const[i,l,d]=EA([]),[c,u,m]=PA([]),[h,f]=p.useState(1),[v,x]=p.useState(!1),[w,j]=p.useState(!1);me.useEffect(()=>{var T,_;if(e&&s){let k=[],$=[],A=1;o!=null&&o.visualFlowData?(k=o.visualFlowData.nodes,$=o.visualFlowData.edges,A=o.visualFlowData.nodeIdCounter):(k.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:s}}),o&&o.sourcePaths&&o.sourcePaths.length>0?o.sourcePaths.forEach((L,F)=>{const R=r.find(D=>D.path===L||D.name===L);if(R){const D=`source-${R.id}`;k.push({id:D,type:"sourceField",position:{x:50,y:50+F*100},data:{field:R}}),$.push({id:`edge-${D}-target`,source:D,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}})}}):o&&o.sourceFields&&o.sourceFields.length>0&&o.sourceFields.forEach((L,F)=>{const R=r.find(D=>D.name===L||D.path===L);if(R){const D=`source-${R.id}`;k.push({id:D,type:"sourceField",position:{x:50,y:50+F*100},data:{field:R}}),$.push({id:`edge-${D}-target`,source:D,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}})}}),A=2+(((T=o==null?void 0:o.sourcePaths)==null?void 0:T.length)||((_=o==null?void 0:o.sourceFields)==null?void 0:_.length)||0)),l(k),u($),f(A)}},[e,s,r,o,l,u]);const g=p.useCallback(T=>{if(T.target==="target")u(_=>{const k=_.filter(A=>A.target!=="target"),$={...T,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}};return Fh($,k)});else{const _={...T,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}};u(k=>Fh(_,k))}},[u]),y=p.useCallback(()=>{x(!0)},[]),N=p.useCallback(T=>{const _=i.filter($=>$.type==="sourceField"),k={id:`source-${T.id}`,type:"sourceField",position:{x:50,y:50+_.length*100},data:{field:T}};l($=>[...$,k])},[i,l]),b=p.useCallback(()=>{j(!0)},[]),E=p.useCallback(T=>{const _=i.filter($=>$.type==="function"),k={id:`function-${h}`,type:"function",position:{x:350,y:50+_.length*120},data:{function:T,parameters:{},showSelector:!1}};l($=>[...$,k]),f($=>$+1)},[h,i,l]),C=p.useCallback(()=>{const T=i.filter(k=>k.type==="function"&&k.data.function.name==="custom"),_={id:`custom-function-${h}`,type:"function",position:{x:350,y:50+T.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(k=>[...k,_]),f(k=>k+1)},[h,i,l]),P=p.useCallback(()=>{if(!s||(console.log(" VisualFlowEditor handleSave - saving with nodes:",i.length,"edges:",c.length),!i.find(A=>A.type==="targetField")))return;const _=[],k=[];i.forEach(A=>{A.type==="sourceField"&&c.some(L=>L.source===A.id)&&(_.push(A.data.field.path),k.push(A.data.field.name))}),console.log(" VisualFlowEditor handleSave - connectedSourcePaths:",_),console.log(" VisualFlowEditor handleSave - connectedSourceFields:",k);const $={id:(o==null?void 0:o.id)||`mapping_${Date.now()}`,name:(o==null?void 0:o.name)||`visual_flow_to_${s.name}`,sourceFields:k,targetField:s.name,sourcePaths:_,targetPath:s.path,requiresTransformation:!0,visualFlowData:{nodes:i,edges:c,nodeIdCounter:h},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log(" VisualFlowEditor handleSave - final mapping:",$),a($),t()},[i,c,h,s,o,a,t]),O=p.useMemo(()=>{const T=i.find(k=>k.type==="targetField");return T?c.some(k=>k.target===T.id):!1},[i,c]);return n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[n.jsx(yt,{className:"p-4 pb-2 border-b bg-muted/30",children:n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",n.jsx("span",{className:"font-medium text-primary",children:s.name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:P,disabled:!O,className:"bg-primary text-primary-foreground",children:[n.jsx(ha,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:t,children:[n.jsx(lt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:n.jsxs(CA,{nodes:i,edges:c,onNodesChange:d,onEdgesChange:m,onConnect:g,nodeTypes:$W,edgeTypes:UW,connectionMode:uo.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[n.jsx(TA,{gap:20,size:1}),n.jsx(MA,{}),n.jsx(RA,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),n.jsx(Wi,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),n.jsxs(W,{onClick:y,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Source Field"]}),n.jsxs(W,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(lr,{className:"h-4 w-4 mr-2"}),"Function"]}),n.jsxs(W,{onClick:C,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(ts,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),n.jsx(Wi,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"text-sm font-medium",children:O?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),n.jsx(RW,{open:v,onClose:()=>x(!1),sourceFields:r,onSelectField:N,excludeFields:i.filter(T=>T.type==="sourceField").map(T=>T.data.field.id)}),n.jsx(IW,{open:w,onClose:()=>j(!1),onSelectFunction:E})]})})};function HW({mappings:e,sourceFields:t=[],targetFields:r=[],onRemoveMapping:s,onUpdateMapping:a,onCreateMapping:o}){const[i,l]=p.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[d,c]=p.useState({open:!1,targetField:null});p.useEffect(()=>{console.log(" Modal state changed:",i)},[i]),p.useEffect(()=>{console.log(" Visual flow editor state changed:",d)},[d]);const u=f=>{console.log(" handleOpenVisualFlowEditor called with mappingId:",f),console.log(" Available mappings:",e),console.log(" Available targetFields:",r),console.log(" Target fields names:",r.map(w=>w==null?void 0:w.name));const v=e.find(w=>w.id===f);if(console.log(" Found existing mapping:",v),!v){console.log(" No existing mapping found for ID:",f);return}const x=r.find(w=>(w==null?void 0:w.name)===v.targetField);if(console.log(" Looking for target field with name:",v.targetField),console.log(" Found target field:",x),!x){console.log(" Target field not found, attempting to create a mock target field");const w={id:`target_${v.targetField}`,name:v.targetField,type:"string",path:v.targetPath||v.targetField,children:[],expanded:!1};console.log(" Created mock target field:",w),c({open:!0,targetField:w,existingMapping:v});return}console.log(" Opening visual flow editor with:",{targetField:x.name,existingMapping:v.id}),c({open:!0,targetField:x,existingMapping:v})},m=f=>{console.log(" handleApplyVisualFlow called with:",f),d.existingMapping?a&&a(d.existingMapping.id,{functionNode:f.functionNode,visualFlowData:f.visualFlowData,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths,name:f.name}):o&&o(f),c({open:!1,targetField:null})},h=f=>{i.existingMappingId?a&&a(i.existingMappingId,{functionNode:f.functionNode,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths}):o&&o(f),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log(" MappingArea render - mappings count:",e.length),console.log(" MappingArea render - mappings:",e),n.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ch,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),n.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?n.jsx($n,{className:"mt-8",children:n.jsx(Un,{children:"Drag fields from source to target to create mappings"})}):n.jsx("div",{className:"space-y-3",children:e.map(f=>n.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ce,{variant:"outline",className:"text-xs",children:f.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),f.requiresTransformation===!1&&n.jsx(ce,{variant:"secondary",className:"text-xs",children:"Pass-through"}),f.functionNode&&n.jsxs(ce,{variant:"default",className:"text-xs",children:["Function: ",f.functionNode.functionName]})]}),n.jsxs("div",{className:"flex gap-1",children:[f.requiresTransformation!==!1&&n.jsx(n.Fragment,{children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{console.log(" Lightning bolt clicked for mapping:",f.id),u(f.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:n.jsx(lr,{className:"h-3 w-3"})})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(f.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:n.jsx(lt,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium text-primary",children:f.name})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Source:"}),n.jsx("span",{className:"text-muted-foreground",children:f.sourceFields.join(", ")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ch,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium",children:"Target:"}),n.jsx("span",{className:"text-muted-foreground",children:f.targetField})]}),f.requiresTransformation!==!1&&n.jsxs(n.Fragment,{children:[f.functionNode&&n.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(lr,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),n.jsx("div",{className:"text-muted-foreground",children:f.functionNode.functionName==="visual_flow"?f.visualFlowData?`Visual Flow - ${f.sourceFields.length} source field(s): ${f.sourceFields.join(", ")}`:`Visual Flow - ${f.sourceFields.length} source field(s) connected`:`${f.functionNode.functionName} with ${Object.keys(f.functionNode.sourceConnections).length} parameter(s) connected`})]}),!f.functionNode&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),f.requiresTransformation===!1&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},f.id))})}),i.open&&i.targetField&&n.jsx(eV,{open:i.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:i.selectedFunction,sourceFields:i.filteredSourceFields||t,targetField:i.targetField,onApplyMapping:h}),d.open&&d.targetField&&n.jsx(VW,{open:d.open,onClose:()=>c({open:!1,targetField:null}),sourceFields:t,targetField:d.targetField,onApplyMapping:m,initialMapping:d.existingMapping})]})}function o0({onClose:e,onSave:t,initialMappingName:r="",sampleStructures:s=[],sourceAdapterType:a="",targetAdapterType:o=""}){const[i,l]=p.useState([]),[d,c]=p.useState([]),[u,m]=p.useState([]),[h,f]=p.useState(null),[v,x]=p.useState(""),[w,j]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState(""),[E,C]=p.useState(!1),[P,O]=p.useState(!1),[T,_]=p.useState(r),[k,$]=p.useState(!0),{structures:A}=ml();p.useEffect(()=>{if(a&&o&&A.length>0&&!g&&!N){const z=A.filter(Y=>Y.usage==="source"||!Y.usage),G=A.filter(Y=>Y.usage==="target"||!Y.usage);z.length>0&&B(z[0].name,!0),G.length>0&&B(G[0].name,!1)}},[a,o,A,g,N]);const U=p.useCallback((z,G)=>{const Y=K=>K.map(ne=>ne.id===z?{...ne,expanded:!ne.expanded}:ne.children?{...ne,children:Y(ne.children)}:ne);G?l(Y):c(Y)},[]),L=z=>{f(z)},F=z=>{z.preventDefault()},R=z=>{if(!h)return;const G=u.findIndex(Y=>Y.targetPath===z.path);if(G>=0){const Y=u[G],K={...Y,sourceFields:[...Y.sourceFields,h.name],sourcePaths:[...Y.sourcePaths,h.path]},ne=[...u];ne[G]=K,m(ne)}else{const Y={id:`mapping_${Date.now()}`,name:`${h.name}_to_${z.name}`,sourceFields:[h.name],targetField:z.name,sourcePaths:[h.path],targetPath:z.path,requiresTransformation:k};m(K=>[...K,Y])}f(null)},D=z=>{m(G=>G.filter(Y=>Y.id!==z))},H=()=>{m([])},B=(z,G)=>{const Y=A.find(oe=>oe.name===z);if(!Y)return;const K=(oe,fe="")=>!oe||typeof oe!="object"?[]:Object.keys(oe).map((xe,he)=>{const ve=oe[xe],we=fe?`${fe}.${xe}`:xe,Re=ve&&typeof ve=="object"&&!Array.isArray(ve);return{id:`${we}_${he}`,name:xe,type:Array.isArray(ve)?"array":typeof ve,path:we,expanded:!1,children:Re?K(ve,we):void 0}}),ne=K(Y.structure);G?(y(z),l(ne),C(!1)):(b(z),c(ne),O(!1))},V=(z,G)=>{m(Y=>Y.map(K=>K.id===z?{...K,...G}:K))},q=z=>{m(G=>[...G,z])};return n.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[n.jsx("div",{className:"border-b",children:n.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),n.jsx(I,{id:"mappingName",placeholder:"Enter mapping name",value:T,onChange:z=>_(z.target.value),className:"w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ie,{id:"requiresTransformation",checked:k,onCheckedChange:z=>$(z)}),n.jsx(S,{htmlFor:"requiresTransformation",className:"text-sm font-medium",children:"Requires Transformation"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",onClick:H,className:"text-destructive hover:text-destructive hover-scale",children:[n.jsx(Na,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),u.length>0&&n.jsxs(W,{onClick:()=>t==null?void 0:t(u,T),className:"hover-scale",disabled:!T.trim(),children:[n.jsx(Or,{className:"h-4 w-4 mr-2"}),"Save Mappings"]}),n.jsxs(W,{variant:"outline",onClick:e,className:"hover-scale",children:[n.jsx(lt,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),n.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[n.jsx(JU,{fields:i,mappings:u,selectedService:g,searchValue:v,showSelector:E,onSearchChange:x,onShowSelectorChange:C,onSelectService:z=>B(z,!0),onToggleExpanded:U,onDragStart:L}),n.jsx(HW,{mappings:u,sourceFields:i,targetFields:d,onRemoveMapping:D,onUpdateMapping:V,onCreateMapping:q}),n.jsx(ZU,{fields:d,mappings:u,selectedService:N,searchValue:w,showSelector:P,onSearchChange:j,onShowSelectorChange:O,onSelectService:z=>B(z,!1),onToggleExpanded:U,onDragOver:F,onDrop:R})]})]})}const xf=e=>{const t=e.toUpperCase();return t.includes("JDBC")?zt:t.includes("HTTP")||t.includes("REST")?Ys:t.includes("SOAP")?ts:t.includes("MAIL")?nd:t.includes("FILE")||t.includes("FTP")?Gt:BC};function BW(){const e=dl(),{toast:t}=wt(),[r,s]=p.useState(!1),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,m]=p.useState(""),[h,f]=p.useState(""),[v,x]=p.useState(""),[w,j]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState([]),[E,C]=p.useState([]),[P,O]=p.useState([]),[T,_]=p.useState(!0),[k,$]=p.useState(!1);p.useEffect(()=>{A()},[]);const A=async()=>{try{_(!0);const D=await Ua.getAllBusinessComponents();D.success&&D.data&&b(D.data);try{const H=await pe.get("/adapters");H.data&&C(H.data)}catch(H){console.warn("Could not load adapters:",H),C([])}try{const H=await pe.get("/structures");H.data&&O(H.data)}catch(H){console.warn("Could not load data structures:",H),O([])}}catch(D){console.error("Error loading component data:",D),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{_(!1)}},U=()=>{e("/dashboard")},L=async(D,H)=>{var B,V;if(!a.trim()){t({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!h||!v){t({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}try{$(!0);const q={flowName:a.trim(),description:i.trim(),sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null,sourceAdapterId:h,targetAdapterId:v,sourceStructureId:w||null,targetStructureId:g||null,createdBy:"current-user",fieldMappings:D||[]};(await pe.post("/flow-composition/direct-mapping",q)).data&&(t({title:"Success",description:`Integration flow "${a}" has been created successfully.`}),e("/dashboard"))}catch(q){console.error("Error saving flow:",q),t({title:"Save Failed",description:((V=(B=q.response)==null?void 0:B.data)==null?void 0:V.message)||"Failed to save the integration flow. Please try again.",variant:"destructive"})}finally{$(!1)}},F=async()=>{var D,H,B,V,q;if(!h||!v){t({title:"Validation Error",description:"Both source and target adapters are required for testing.",variant:"destructive"});return}try{const z={flowName:a.trim()||"Test Flow",sourceAdapterId:h,targetAdapterId:v,sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null},G=await pe.post("/flow-composition/validate/direct-mapping",z);if((D=G.data)!=null&&D.valid)t({title:"Validation Passed",description:"Flow configuration is valid and ready for execution."});else{const Y=((B=(H=G.data)==null?void 0:H.errors)==null?void 0:B.join(", "))||"Unknown validation errors";t({title:"Validation Failed",description:Y,variant:"destructive"})}}catch(z){console.error("Error testing flow:",z),t({title:"Test Failed",description:((q=(V=z.response)==null?void 0:V.data)==null?void 0:q.message)||"Failed to test the flow configuration.",variant:"destructive"})}},R=()=>{s(!0)};return r?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"gap-2",children:[n.jsx(lh,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",a]}),n.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",h," and ",v]})]})]})})}),n.jsx(o0,{onClose:U,onSave:L,initialMappingName:a,sourceAdapterType:h,targetAdapterType:v})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:U,className:"gap-2",children:[n.jsx(lh,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Design and configure a new message integration flow"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(se,{children:"Flow Details"}),n.jsx(ge,{children:"Configure the basic information for your integration flow"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"flowName",children:"Flow Name *"}),n.jsx(I,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:a,onChange:D=>o(D.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe what this integration flow does...",value:i,onChange:D=>l(D.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsx(te,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Business Component *"}),n.jsxs(J,{value:d,onValueChange:c,disabled:T,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:T?"Loading...":"Select source business component"})}),n.jsx(Q,{children:N.map(D=>n.jsx(M,{value:D.id,children:D.name},D.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Adapter *"}),n.jsxs(J,{value:h,onValueChange:f,disabled:T,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:T?"Loading...":"Select source system"})}),n.jsx(Q,{children:E.map(D=>{const H=xf(D.type||D.name);return n.jsx(M,{value:D.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(H,{className:"h-4 w-4"}),D.name]})},D.name)})})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Business Component *"}),n.jsxs(J,{value:u,onValueChange:m,disabled:T,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:T?"Loading...":"Select target business component"})}),n.jsx(Q,{children:N.map(D=>n.jsx(M,{value:D.id,children:D.name},D.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Adapter *"}),n.jsxs(J,{value:v,onValueChange:x,disabled:T,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:T?"Loading...":"Select target system"})}),n.jsx(Q,{children:E.map(D=>{const H=xf(D.type||D.name);return n.jsx(M,{value:D.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(H,{className:"h-4 w-4"}),D.name]})},D.name)})})]})]})]})]})]})})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Data Transformations"}),n.jsx(ge,{children:"Configure how data should be transformed during the flow"})]}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:n.jsx(Ze,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"Configure data transformations with field mapping"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Field mapping allows you to connect source and target fields with custom logic."}),n.jsx("p",{className:"text-sm text-orange-600",children:"Please select both source and target business components AND their corresponding adapters above to enable mapping."})]}),n.jsx(W,{onClick:R,disabled:!d||!u||!h||!v,className:"mt-4",children:"Create Mapping"})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsx(MU,{onTestFlow:F,onSaveFlow:()=>L(),isLoading:k,disabled:T||!a.trim()||!h||!v}),n.jsx(DU,{sourceAdapter:h,targetAdapter:v,sourceStructure:w,targetStructure:g,selectedTransformations:[],adapters:E.map(D=>({id:D.name,name:D.name,icon:xf(D.type||D.name),category:D.type||"General"})),sampleStructures:P}),n.jsx(RU,{}),T&&n.jsx(ee,{children:n.jsx(te,{className:"flex items-center justify-center py-6",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ss,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}const zW=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:r,sourceAdapter:s,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:d,onSourceAdapterChange:c,onTargetAdapterChange:u,onSourceAdapterActiveChange:m,onTargetAdapterActiveChange:h})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:r,sourceAdapter:s,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i});const{businessComponents:f,loading:v,getAdaptersForBusinessComponent:x}=zr();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:f.length,loading:v});const w=C=>e.find(P=>P.id===C),[j,g]=p.useState([]);p.useEffect(()=>{t&&y(t)},[t]);const y=async C=>{const P=await x(C);g(P)},N=C=>C?e.filter(P=>j.includes(P.id)):e,b=async C=>{console.log("[AdapterConfigurationCard] Source business component changing:",C);try{l(C);const P=await x(C);console.log("[AdapterConfigurationCard] Available adapters for business component:",P),s&&!P.includes(s)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),c(""))}catch(P){console.error("[AdapterConfigurationCard] Error handling source business component change:",P)}},E=async C=>{d(C);const P=await x(C);a&&!P.includes(a)&&u("")};return n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsxs(te,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Source Business Component *"}),n.jsxs(J,{value:t,onValueChange:b,disabled:v,children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:"Select source business component"})}),n.jsx(Q,{children:f.map(C=>n.jsx(M,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:C.name}),C.description&&n.jsx(ce,{variant:"outline",className:"text-xs",children:C.description})]})},C.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Source Adapter *"}),n.jsxs(J,{value:s,onValueChange:c,disabled:!t,children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:"Select source system"})}),n.jsx(Q,{children:N(t).map(C=>n.jsx(M,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{children:C.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:C.category})]})},C.id))})]}),s&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(s)&&n.jsx(n.Fragment,{children:(()=>{const C=w(s),P=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})})]}),s&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"sourceAdapterActive",checked:o,onCheckedChange:C=>m(C===!0)}),n.jsxs(S,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",n.jsx(ce,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Target Business Component *"}),n.jsxs(J,{value:r,onValueChange:E,disabled:v,children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:"Select target business component"})}),n.jsx(Q,{children:f.map(C=>n.jsx(M,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:C.name}),C.description&&n.jsx(ce,{variant:"outline",className:"text-xs",children:C.description})]})},C.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Target Adapter *"}),n.jsxs(J,{value:a,onValueChange:u,disabled:!r,children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:"Select target system"})}),n.jsx(Q,{children:N(r).map(C=>n.jsx(M,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{children:C.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:C.category})]})},C.id))})]}),a&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const C=w(a),P=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})})]}),a&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"targetAdapterActive",checked:i,onCheckedChange:C=>h(C===!0)}),n.jsxs(S,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",n.jsx(ce,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]})]}),s&&a&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(s)&&n.jsx(n.Fragment,{children:(()=>{const C=w(s),P=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})}),n.jsx(ch,{className:"h-6 w-6 text-primary animate-pulse"}),n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const C=w(a),P=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(P,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})]})})]})]})},qW=e=>{switch(e){case"start-process":return wo;case"http-sender":case"http-receiver":return Ys;case"soap-sender":case"soap-receiver":return um;case"rest-sender":case"rest-receiver":return Zt;default:return VC}},WW=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),qt=({id:e,data:t,selected:r})=>{var C,P,O,T,_;console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Wr(),[l,d]=p.useState(((C=t.adapterConfig)==null?void 0:C.sourceBusinessComponent)||""),[c,u]=p.useState(((P=t.adapterConfig)==null?void 0:P.targetBusinessComponent)||""),[m,h]=p.useState(t.adapterType),[f,v]=p.useState(((O=t.adapterConfig)==null?void 0:O.targetAdapter)||""),[x,w]=p.useState(((T=t.adapterConfig)==null?void 0:T.sourceAdapterActive)||!0),[j,g]=p.useState(((_=t.adapterConfig)==null?void 0:_.targetAdapterActive)||!1),y=qW(t.adapterType),N=WW(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:s});const E=()=>{o(k=>k.filter($=>$.id!==e)),i(k=>k.filter($=>$.source!==e&&$.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(ee,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:E,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-5 w-5 text-white"}),n.jsx(se,{className:"text-sm font-medium text-white",children:N})]}),n.jsx(ce,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:k=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),k.stopPropagation(),k.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch($){console.error("[AdapterNode] Error opening dialog:",$)}},onMouseDown:k=>{console.log("[AdapterNode] Configure button mousedown"),k.stopPropagation()},children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(xt,{type:"target",position:ye.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(vt,{open:s,onOpenChange:k=>{console.log("[AdapterNode] Dialog state changing:",{open:k,id:e}),a(k)},children:n.jsxs(mt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(yt,{children:n.jsxs(jt,{children:["Configure ",N]})}),n.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),n.jsx(zW,{adapters:[{id:t.adapterType,name:N,icon:y,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:c,sourceAdapter:m,targetAdapter:f,sourceAdapterActive:x,targetAdapterActive:j,onSourceBusinessComponentChange:k=>{console.log("[AdapterNode] Source business component changed:",k),d(k)},onTargetBusinessComponentChange:k=>{console.log("[AdapterNode] Target business component changed:",k),u(k)},onSourceAdapterChange:k=>{console.log("[AdapterNode] Source adapter changed:",k),h(k)},onTargetAdapterChange:k=>{console.log("[AdapterNode] Target adapter changed:",k),v(k)},onSourceAdapterActiveChange:k=>{console.log("[AdapterNode] Source adapter active changed:",k),w(k)},onTargetAdapterActiveChange:k=>{console.log("[AdapterNode] Target adapter active changed:",k),g(k)}}))})]})})]})};var i0="Switch",[KW,Ste]=Wn(i0),[YW,GW]=KW(i0),i4=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...m}=e,[h,f]=p.useState(null),v=Te(t,y=>f(y)),x=p.useRef(!1),w=h?u||!!h.closest("form"):!0,[j=!1,g]=$r({prop:a,defaultProp:o,onChange:c});return n.jsxs(YW,{scope:r,checked:j,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"switch","aria-checked":j,"aria-required":i,"data-state":d4(j),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:v,onClick:ue(e.onClick,y=>{g(N=>!N),w&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),w&&n.jsx(XW,{control:h,bubbles:!x.current,name:s,value:d,checked:j,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});i4.displayName=i0;var l4="SwitchThumb",c4=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=GW(l4,r);return n.jsx(Ce.span,{"data-state":d4(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});c4.displayName=l4;var XW=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,o=p.useRef(null),i=by(r),l=Xv(t);return p.useEffect(()=>{const d=o.current,c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==r&&m){const h=new Event("click",{bubbles:s});m.call(d,r),d.dispatchEvent(h)}},[i,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function d4(e){return e?"checked":"unchecked"}var u4=i4,QW=c4;const Ca=p.forwardRef(({className:e,...t},r)=>n.jsx(u4,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(QW,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ca.displayName=u4.displayName;const JW=({id:e,data:t,selected:r})=>{var C;const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Wr(),[l,d]=p.useState(t.senderComponent||""),[c,u]=p.useState(t.sourceAdapter||""),[m,h]=p.useState(t.isAsync??!0),[f,v]=p.useState([]),{businessComponents:x,adapters:w,getAdaptersForBusinessComponent:j}=zr(),g=t.senderComponent&&t.sourceAdapter;p.useEffect(()=>{(async()=>{if(l){const O=await j(l);v(O)}else v([])})()},[l,j]);const y=()=>{o(P=>P.filter(O=>O.id!==e)),i(P=>P.filter(O=>O.source!==e&&O.target!==e))},N=async P=>{d(P);const O=await j(P),T=O.includes(c)?c:"";O.includes(c)||u(""),t.onConfigChange({senderComponent:P,sourceAdapter:T,isAsync:m,payload:t.payload})},b=P=>{u(P),t.onConfigChange({senderComponent:l,sourceAdapter:P,isAsync:m,payload:t.payload})},E=P=>{h(P),t.onConfigChange({senderComponent:l,sourceAdapter:c,isAsync:P,payload:t.payload})};return n.jsxs(n.Fragment,{children:[n.jsxs(ee,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wo,{className:"h-5 w-5 text-white"}),n.jsx(se,{className:"text-sm font-medium text-white",children:"Start Process"})]}),n.jsx(ce,{variant:g?"default":"secondary",className:"text-xs bg-white text-black",children:g?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:P=>{P.stopPropagation(),P.preventDefault(),a(!0)},onMouseDown:P=>P.stopPropagation(),children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(vt,{open:s,onOpenChange:a,children:n.jsxs(mt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(yt,{children:n.jsx(jt,{children:"Configure Start Process"})}),n.jsxs("div",{className:"mt-4 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sender-component",children:"Sender Component"}),n.jsxs(J,{value:l,onValueChange:N,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a business component..."})}),n.jsx(Q,{children:x.map(P=>n.jsx(M,{value:P.id,children:P.name},P.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"source-adapter",children:"Source Adapter"}),n.jsxs(J,{value:c,onValueChange:b,disabled:!l,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select an adapter..."})}),n.jsx(Q,{children:f.map(P=>{const O=w.find(T=>T.id===P);return O?n.jsx(M,{value:O.id,children:O.name},O.id):null})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"execution-mode",children:"Execution Mode"}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-sm",children:m?"Asynchronous":"Synchronous"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:m?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),n.jsx(Ca,{checked:m,onCheckedChange:E,"aria-label":"Toggle execution mode"})]})]}),g&&n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",(C=w.find(P=>P.id===c))==null?void 0:C.name," adapter."]})]})]})]})})]})},ZW=e=>{switch(e){case"field-mapping":return li;case"custom-function":return ts;case"filter":return dm;case"enrichment":return hr;default:return li}},eK=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},De=({id:e,data:t,selected:r})=>{const[s,a]=p.useState(!1),{setNodes:o,setEdges:i}=Wr(),l=ZW(t.transformationType),d=eK(t.transformationType),c=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{o(m=>m.filter(h=>h.id!==e)),i(m=>m.filter(h=>h.source!==e&&h.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(ee,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(l,{className:"h-5 w-5 text-white"}),n.jsx(se,{className:"text-sm font-medium text-white",children:d})]}),n.jsx(ce,{variant:c?"default":"secondary",className:"text-xs bg-white text-black",children:c?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:m=>{m.stopPropagation(),m.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:m=>m.stopPropagation(),children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(xt,{type:"target",position:ye.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),n.jsx(xt,{type:"source",position:ye.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?n.jsx(vt,{open:s,onOpenChange:a,children:n.jsx(mt,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:n.jsx(o0,{onClose:()=>a(!1),onSave:m=>{t.onConfigChange({fieldMappings:m}),a(!1)},initialMappingName:`${d} - ${e}`,sampleStructures:[]})})}):n.jsx(vt,{open:s,onOpenChange:a,children:n.jsxs(mt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(yt,{children:n.jsxs(jt,{children:["Configure ",d]})}),n.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d," configuration panel coming soon..."]})})]})})]})},fn=({id:e,data:t,selected:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(t.routingType||"conditional"),[l,d]=p.useState(t.conditions||[]),{setNodes:c,setEdges:u}=Wr(),m=()=>{c(j=>j.filter(g=>g.id!==e)),u(j=>j.filter(g=>g.source!==e&&g.target!==e))},h=()=>{d([...l,{field:"",operator:"equals",value:"",route:""}])},f=(j,g,y)=>{const N=[...l];N[j]={...N[j],[g]:y},d(N)},v=j=>{d(l.filter((g,y)=>y!==j))},x=()=>{var j;(j=t.onConfigChange)==null||j.call(t,e,{routingType:o,conditions:l}),a(!1)},w=t.conditions&&t.conditions.length>0;return n.jsxs(n.Fragment,{children:[n.jsxs(ee,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:m,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:n.jsx(lt,{className:"h-3 w-3"})}),n.jsx(re,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pu,{className:"h-5 w-5 text-white"}),n.jsx(se,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),n.jsx(ce,{variant:w?"default":"secondary",className:"text-xs bg-white text-black",children:w?"Configured":"Setup Required"})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs(W,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:j=>{j.stopPropagation(),j.preventDefault(),a(!0)},onMouseDown:j=>j.stopPropagation(),children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(xt,{type:"target",position:ye.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),n.jsx(xt,{type:"source",position:ye.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),n.jsx(xt,{type:"source",position:ye.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),n.jsx(xt,{type:"source",position:ye.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),n.jsx(vt,{open:s,onOpenChange:a,children:n.jsxs(mt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(yt,{children:n.jsx(jt,{children:"Configure Routing Logic"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"routingType",children:"Routing Type"}),n.jsxs(J,{value:o,onValueChange:i,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select routing type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"conditional",children:"Conditional Routing"}),n.jsx(M,{value:"content-based",children:"Content-Based Routing"}),n.jsx(M,{value:"load-balance",children:"Load Balancing"}),n.jsx(M,{value:"round-robin",children:"Round Robin"})]})]})]}),o==="conditional"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"Routing Conditions"}),n.jsx(W,{onClick:h,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((j,g)=>n.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Field"}),n.jsx(I,{placeholder:"Field name",value:j.field,onChange:y=>f(g,"field",y.target.value)})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Operator"}),n.jsxs(J,{value:j.operator,onValueChange:y=>f(g,"operator",y),children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"equals",children:"Equals"}),n.jsx(M,{value:"contains",children:"Contains"}),n.jsx(M,{value:"starts-with",children:"Starts With"}),n.jsx(M,{value:"greater-than",children:"Greater Than"}),n.jsx(M,{value:"less-than",children:"Less Than"})]})]})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Value"}),n.jsx(I,{placeholder:"Condition value",value:j.value,onChange:y=>f(g,"value",y.target.value)})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Route"}),n.jsxs(J,{value:j.route,onValueChange:y=>f(g,"route",y),children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"default",children:"Default"}),n.jsx(M,{value:"route1",children:"Route 1"}),n.jsx(M,{value:"route2",children:"Route 2"})]})]})]}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(g),children:n.jsx(lt,{className:"h-3 w-3"})})]},g))]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Save Configuration"})]})]})]})})]})},tK=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:$l,nodes:[{type:"start-process",label:"Start Process",icon:wo},{type:"end-process",label:"End Process",icon:GO},{type:"start-event",label:"Start Event",icon:$l},{type:"end-event",label:"End Event",icon:$l},{type:"intermediate-event",label:"Intermediate Event",icon:$l},{type:"timer-event",label:"Timer Event",icon:XO},{type:"message-event",label:"Message Event",icon:Qt},{type:"error-event",label:"Error Event",icon:ms}]},{category:"BPMN Activities",icon:Ze,nodes:[{type:"task",label:"Task",icon:Ze},{type:"service-task",label:"Service Task",icon:lr},{type:"user-task",label:"User Task",icon:Ht},{type:"script-task",label:"Script Task",icon:ts},{type:"manual-task",label:"Manual Task",icon:Ux},{type:"business-rule-task",label:"Business Rule Task",icon:Bp},{type:"receive-task",label:"Receive Task",icon:Qt},{type:"send-task",label:"Send Task",icon:Qt}]},{category:"BPMN Gateways",icon:To,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:To},{type:"parallel-gateway",label:"Parallel Gateway",icon:To},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:To},{type:"event-gateway",label:"Event Gateway",icon:To},{type:"complex-gateway",label:"Complex Gateway",icon:To}]},{category:"Mapping & Transformation",icon:li,nodes:[{type:"field-mapping",label:"Field Mapping",icon:li},{type:"data-transformation",label:"Data Transformation",icon:Zt},{type:"format-conversion",label:"Format Conversion",icon:li},{type:"value-mapping",label:"Value Mapping",icon:Ir},{type:"structure-mapping",label:"Structure Mapping",icon:um},{type:"conditional-mapping",label:"Conditional Mapping",icon:Fa},{type:"aggregation",label:"Aggregation",icon:rw},{type:"split-mapping",label:"Split Mapping",icon:Fa}]},{category:"File Transformations",icon:Gt,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:Gt},{type:"json-to-xml",label:"JSON to XML",icon:Gt},{type:"xml-to-json",label:"XML to JSON",icon:Gt},{type:"excel-to-csv",label:"Excel to CSV",icon:Gt},{type:"pdf-extractor",label:"PDF Extractor",icon:Gt},{type:"file-splitter",label:"File Splitter",icon:Fa},{type:"file-merger",label:"File Merger",icon:rw},{type:"file-validator",label:"File Validator",icon:Sn}]},{category:"Scripts & Functions",icon:ts,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:ts},{type:"groovy-script",label:"Groovy Script",icon:ts},{type:"xslt-transformation",label:"XSLT Transformation",icon:ts},{type:"custom-function",label:"Custom Function",icon:lr},{type:"lookup-function",label:"Lookup Function",icon:Ir},{type:"calculation-function",label:"Calculation Function",icon:Ux},{type:"validation-function",label:"Validation Function",icon:Sn},{type:"enrichment-function",label:"Enrichment Function",icon:lr}]},{category:"Flow Routing",icon:Pu,nodes:[{type:"content-router",label:"Content Router",icon:Pu},{type:"recipient-list",label:"Recipient List",icon:Ht},{type:"message-filter",label:"Message Filter",icon:dm},{type:"dynamic-router",label:"Dynamic Router",icon:Pu},{type:"load-balancer",label:"Load Balancer",icon:Fa},{type:"failover-router",label:"Failover Router",icon:Zt},{type:"multicast",label:"Multicast",icon:Fa},{type:"wire-tap",label:"Wire Tap",icon:Ir}]},{category:"Security",icon:Sn,nodes:[{type:"encryption",label:"Encryption",icon:Ix},{type:"decryption",label:"Decryption",icon:_i},{type:"digital-signature",label:"Digital Signature",icon:Bp},{type:"authentication",label:"Authentication",icon:Ht},{type:"authorization",label:"Authorization",icon:Sn},{type:"certificate-validation",label:"Certificate Validation",icon:Bp},{type:"secure-transport",label:"Secure Transport",icon:Ix},{type:"access-control",label:"Access Control",icon:_i}]},{category:"Adapters & Connectors",icon:Ys,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:Ys},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:$C},{type:"database-adapter",label:"Database Adapter",icon:zt},{type:"mail-adapter",label:"Mail Adapter",icon:nd},{type:"file-adapter",label:"File Adapter",icon:Gt},{type:"jms-adapter",label:"JMS Adapter",icon:Qt},{type:"soap-adapter",label:"SOAP Adapter",icon:Ys},{type:"rest-adapter",label:"REST Adapter",icon:Ys}]}];return n.jsxs(ee,{className:"w-64 h-full",children:[n.jsx(re,{className:"pb-3",children:n.jsx(se,{className:"text-sm",children:"Process Steps"})}),n.jsx(te,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(r=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[n.jsx(r.icon,{className:"h-3 w-3"}),r.category]}),n.jsx("div",{className:"grid gap-1",children:r.nodes.map(s=>n.jsxs(W,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(s.type,r.category),children:[n.jsx(s.icon,{className:"h-3 w-3 mr-2"}),s.label]},s.type))}),n.jsx(We,{})]},r.category))})]})},nK=({selectedNode:e,flowStats:t})=>{const r=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,s=a=>{switch(a){case"Low":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"High":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"w-64 space-y-4",children:[n.jsxs(ee,{children:[n.jsx(re,{className:"pb-3",children:n.jsxs(se,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4"}),"Properties"]})}),n.jsx(te,{className:"space-y-3",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),n.jsx(ce,{variant:"secondary",className:"text-xs",children:r(e.type||"unknown")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),n.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Position"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?n.jsx(ce,{variant:"default",className:"text-xs",children:"Configured"}):n.jsx(ce,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):n.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),n.jsxs(ee,{children:[n.jsx(re,{className:"pb-3",children:n.jsxs(se,{className:"text-sm flex items-center gap-2",children:[n.jsx(ua,{className:"h-4 w-4"}),"Flow Status"]})}),n.jsxs(te,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),n.jsx(We,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hs,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),n.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),n.jsx(ce,{className:`text-xs ${s(t.complexity)}`,children:t.complexity})]})]})]})]})},rK={"start-process":JW,"end-process":qt,"start-event":qt,"end-event":qt,"intermediate-event":qt,"timer-event":qt,"message-event":qt,"error-event":qt,task:De,"service-task":De,"user-task":De,"script-task":De,"manual-task":De,"business-rule-task":De,"receive-task":De,"send-task":De,"exclusive-gateway":fn,"parallel-gateway":fn,"inclusive-gateway":fn,"event-gateway":fn,"complex-gateway":fn,"field-mapping":De,"data-transformation":De,"format-conversion":De,"value-mapping":De,"structure-mapping":De,"conditional-mapping":De,aggregation:De,"split-mapping":De,"csv-to-xml":De,"json-to-xml":De,"xml-to-json":De,"excel-to-csv":De,"pdf-extractor":De,"file-splitter":De,"file-merger":De,"file-validator":De,"javascript-script":De,"groovy-script":De,"xslt-transformation":De,"custom-function":De,"lookup-function":De,"calculation-function":De,"validation-function":De,"enrichment-function":De,"content-router":fn,"recipient-list":fn,"message-filter":fn,"dynamic-router":fn,"load-balancer":fn,"failover-router":fn,multicast:fn,"wire-tap":fn,encryption:De,decryption:De,"digital-signature":De,authentication:De,authorization:De,"certificate-validation":De,"secure-transport":De,"access-control":De,"http-adapter":qt,"ftp-adapter":qt,"database-adapter":qt,"mail-adapter":qt,"file-adapter":qt,"jms-adapter":qt,"soap-adapter":qt,"rest-adapter":qt},sK=[],aK=[];function oK(){const[e,t,r]=EA(sK),[s,a,o]=PA(aK),[i,l]=p.useState(null),[d,c]=p.useState(null),u=p.useMemo(()=>e.filter(x=>x.selected).map(x=>x.id),[e]),m=p.useCallback(x=>{const w={...x,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Mr.ArrowClosed,color:"hsl(var(--primary))"}};a(j=>Fh(w,j))},[a]),h=p.useCallback((x,w)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:w.id,nodeType:w.type}),l(w),c(w.id),setTimeout(()=>c(null),3e3)},[]),f=p.useCallback((x,w)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:x,category:w});const j=`${x}-${Date.now()}`,g={id:j,type:x,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:x,transformationType:x,routingType:x,configured:!1,showDeleteButton:!1,onConfigChange:y=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:j,config:y}),t(N=>N.map(b=>b.id===j?{...b,data:{...b.data,...y,configured:!0}}:b))}}};console.log("[VisualOrchestrationEditor] Created new node:",g),t(y=>{const N=y.concat(g);return console.log("[VisualOrchestrationEditor] Updated nodes list:",N),N})},[t]);p.useCallback(()=>{t(x=>x.filter(w=>!w.selected)),a(x=>x.filter(w=>!u.includes(w.source)&&!u.includes(w.target)))},[u,t,a]);const v=p.useMemo(()=>{const x=e.length,w=s.length;let j="Low";x>10||w>15?j="High":(x>5||w>8)&&(j="Medium");const g=x*100+w*50,y=g<1e3?`${g}ms`:`${(g/1e3).toFixed(1)}s`;return{totalNodes:x,totalConnections:w,estimatedExecutionTime:y,complexity:j}},[e,s]);return n.jsxs("div",{className:"h-full w-full flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(tK,{onAddNode:f})}),n.jsx("div",{className:"flex-1 relative",children:n.jsxs(CA,{nodes:e.map(x=>({...x,data:{...x.data,showDeleteButton:d===x.id}})),edges:s,onNodesChange:r,onEdgesChange:o,onConnect:m,onNodeClick:h,nodeTypes:rK,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[n.jsx(MA,{showInteractive:!1}),n.jsx(RA,{}),n.jsx(TA,{variant:is.Dots,gap:12,size:1})]})}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(nK,{selectedNode:i,flowStats:v})})]})}function iK(){const e=dl(),{toast:t}=wt(),[r,s]=p.useState(!1),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,m]=p.useState(""),[h,f]=p.useState(""),[v,x]=p.useState(""),[w,j]=p.useState([]),[g,y]=p.useState([]),[N,b]=p.useState([]),[E,C]=p.useState(!0),[P,O]=p.useState(!1),[T,_]=p.useState(!1);p.useEffect(()=>{k()},[]);const k=async()=>{try{C(!0);const F=await Ua.getAllBusinessComponents();F.success&&F.data&&y(F.data);try{const R=await pe.get("/adapters");R.data&&b(R.data)}catch(R){console.warn("Could not load adapters:",R),b([])}}catch(F){console.error("Error loading component data:",F),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{C(!1)}},$=async()=>{var F,R;if(!a.trim()){t({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!h||!v){t({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}try{O(!0);const D={flowName:a.trim(),description:i.trim(),sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null,sourceAdapterId:h,targetAdapterId:v,orchestrationSteps:w,createdBy:"current-user"};(await pe.post("/flow-composition/orchestration",D)).data&&(t({title:"Success",description:`Orchestration flow "${a}" has been created successfully.`}),e("/dashboard"))}catch(D){console.error("Error saving orchestration flow:",D),t({title:"Save Failed",description:((R=(F=D.response)==null?void 0:F.data)==null?void 0:R.message)||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{O(!1)}},A=async()=>{var F,R,D,H,B;if(!h||!v){t({title:"Validation Error",description:"Both source and target adapters are required for testing.",variant:"destructive"});return}try{_(!0);const V={flowName:a.trim()||"Test Orchestration Flow",sourceAdapterId:h,targetAdapterId:v,sourceBusinessComponentId:d||null,targetBusinessComponentId:u||null,orchestrationSteps:w},q=await pe.post("/flow-composition/validate/orchestration",V);if((F=q.data)!=null&&F.valid)t({title:"Validation Passed",description:"Orchestration flow configuration is valid and ready for execution."});else{const z=((D=(R=q.data)==null?void 0:R.errors)==null?void 0:D.join(", "))||"Unknown validation errors";t({title:"Validation Failed",description:z,variant:"destructive"})}}catch(V){console.error("Error testing orchestration flow:",V),t({title:"Test Failed",description:((B=(H=V.response)==null?void 0:H.data)==null?void 0:B.message)||"Failed to test the orchestration flow configuration.",variant:"destructive"})}finally{_(!1)}},U=()=>{e("/dashboard")},L=()=>{s(!0)};return r?n.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[n.jsxs("div",{className:"h-20 border-b border-border px-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"gap-2",children:[n.jsx(lh,{className:"h-4 w-4"}),"Back to Configuration"]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Visual Orchestration Editor - ",a]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:$,disabled:P,className:"flex items-center gap-2",children:[P?n.jsx(ss,{className:"h-4 w-4 animate-spin"}):n.jsx(ha,{className:"h-4 w-4"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:U,className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"}),"Cancel"]})]}),n.jsxs($n,{className:"max-w-md",children:[n.jsx(ow,{className:"h-4 w-4"}),n.jsx(Un,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),n.jsx("div",{className:"h-[calc(100vh-80px)]",children:n.jsx(oK,{})})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:U,className:"gap-2",children:[n.jsx(lh,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Orchestration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Design complex workflows with multiple systems and business logic"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(se,{children:"Flow Details"}),n.jsx(ge,{children:"Configure the basic information for your orchestration flow"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"flowName",children:"Flow Name *"}),n.jsx(I,{id:"flowName",placeholder:"e.g., Complex Customer Data Processing",value:a,onChange:F=>o(F.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe what this orchestration flow does...",value:i,onChange:F=>l(F.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the primary source and target systems for your orchestration"})]}),n.jsx(te,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Business Component *"}),n.jsxs(J,{value:d,onValueChange:c,disabled:E,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:E?"Loading...":"Select source business component"})}),n.jsx(Q,{children:g.map(F=>n.jsx(M,{value:F.id,children:F.name},F.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Adapter *"}),n.jsxs(J,{value:h,onValueChange:f,disabled:E,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:E?"Loading...":"Select source system"})}),n.jsx(Q,{children:N.map(F=>n.jsx(M,{value:F.name,children:F.name},F.name))})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Business Component *"}),n.jsxs(J,{value:u,onValueChange:m,disabled:E,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:E?"Loading...":"Select target business component"})}),n.jsx(Q,{children:g.map(F=>n.jsx(M,{value:F.id,children:F.name},F.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Adapter *"}),n.jsxs(J,{value:v,onValueChange:x,disabled:E,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:E?"Loading...":"Select target system"})}),n.jsx(Q,{children:N.map(F=>n.jsx(M,{value:F.name,children:F.name},F.name))})]})]})]})]})]})})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Orchestration Design"}),n.jsx(ge,{children:"Design your workflow with the visual orchestration editor"})]}),n.jsx(te,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:n.jsx(Ze,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"Design your orchestration workflow visually"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the visual editor to create complex workflows with multiple steps, routing, and business logic."}),n.jsx("p",{className:"text-sm text-orange-600",children:"Please select both source and target adapters above to enable the visual editor."})]}),n.jsx(W,{onClick:L,disabled:!h||!v,className:"mt-4",children:"Open Visual Editor"})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Actions"}),n.jsx(ge,{children:"Test and save your orchestration flow"})]}),n.jsxs(te,{className:"space-y-3",children:[n.jsxs(W,{onClick:A,disabled:E||T||!a.trim()||!h||!v,className:"w-full flex items-center gap-2",variant:"outline",children:[T?n.jsx(ss,{className:"h-4 w-4 animate-spin"}):n.jsx(wo,{className:"h-4 w-4"}),"Test Flow"]}),n.jsxs(W,{onClick:$,disabled:E||P||!a.trim()||!h||!v,className:"w-full flex items-center gap-2",children:[P?n.jsx(ss,{className:"h-4 w-4 animate-spin"}):n.jsx(ha,{className:"h-4 w-4"}),"Save Flow"]})]})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Flow Summary"}),n.jsx(ge,{children:"Overview of your orchestration configuration"})]}),n.jsxs(te,{className:"space-y-2",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Source:"})," ",h||"Not selected"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Target:"})," ",v||"Not selected"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Steps:"})," ",w.length," configured"]})]})]}),n.jsxs($n,{children:[n.jsx(ow,{className:"h-4 w-4"}),n.jsx(Un,{className:"text-sm",children:"Orchestration flows support complex multi-step workflows with routing, transformations, and error handling."})]}),E&&n.jsx(ee,{children:n.jsx(te,{className:"flex items-center justify-center py-6",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ss,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}var rb=1,lK=.9,cK=.8,dK=.17,gf=.1,vf=.999,uK=.9999,hK=.99,mK=/[\\\/_+.#"@\[\(\{&]/,pK=/[\\\/_+.#"@\[\(\{&]/g,fK=/[\s-]/,h4=/[\s-]/g;function Sg(e,t,r,s,a,o,i){if(o===t.length)return a===e.length?rb:hK;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var d=s.charAt(o),c=r.indexOf(d,a),u=0,m,h,f,v;c>=0;)m=Sg(e,t,r,s,c+1,o+1,i),m>u&&(c===a?m*=rb:mK.test(e.charAt(c-1))?(m*=cK,f=e.slice(a,c-1).match(pK),f&&a>0&&(m*=Math.pow(vf,f.length))):fK.test(e.charAt(c-1))?(m*=lK,v=e.slice(a,c-1).match(h4),v&&a>0&&(m*=Math.pow(vf,v.length))):(m*=dK,a>0&&(m*=Math.pow(vf,c-a))),e.charAt(c)!==t.charAt(o)&&(m*=uK)),(m<gf&&r.charAt(c-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&r.charAt(c-1)!==s.charAt(o))&&(h=Sg(e,t,r,s,c+1,o+2,i),h*gf>m&&(m=h*gf)),m>u&&(u=m),c=r.indexOf(d,c+1);return i[l]=u,u}function sb(e){return e.toLowerCase().replace(h4," ")}function xK(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Sg(e,t,sb(e),sb(t),0,0,{})}function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},en.apply(null,arguments)}function xi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function gK(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function m4(...e){return t=>e.forEach(r=>gK(r,t))}function fd(...e){return p.useCallback(m4(...e),e)}function vK(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];function c(m){const{scope:h,children:f,...v}=m,x=(h==null?void 0:h[e][d])||l,w=p.useMemo(()=>v,Object.values(v));return p.createElement(x.Provider,{value:w},f)}function u(m,h){const f=(h==null?void 0:h[e][d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,yK(a,...t)]}function yK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const Cg=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},jK=Wc.useId||(()=>{});let wK=0;function yf(e){const[t,r]=p.useState(jK());return Cg(()=>{e||r(s=>s??String(wK++))},[e]),e||(t?`radix-${t}`:"")}function po(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function NK({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=bK({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:s,l=po(r),d=p.useCallback(c=>{if(o){const m=typeof c=="function"?c(e):c;m!==e&&l(m)}else a(c)},[o,e,a,l]);return[i,d]}function bK({defaultProp:e,onChange:t}){const r=p.useState(e),[s]=r,a=p.useRef(s),o=po(t);return p.useEffect(()=>{a.current!==s&&(o(s),a.current=s)},[s,a,o]),r}const l0=p.forwardRef((e,t)=>{const{children:r,...s}=e,a=p.Children.toArray(r),o=a.find(CK);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return p.createElement(Eg,en({},s,{ref:t}),p.isValidElement(i)?p.cloneElement(i,void 0,l):null)}return p.createElement(Eg,en({},s,{ref:t}),r)});l0.displayName="Slot";const Eg=p.forwardRef((e,t)=>{const{children:r,...s}=e;return p.isValidElement(r)?p.cloneElement(r,{...EK(s,r.props),ref:t?m4(t,r.ref):r.ref}):p.Children.count(r)>1?p.Children.only(null):null});Eg.displayName="SlotClone";const SK=({children:e})=>p.createElement(p.Fragment,null,e);function CK(e){return p.isValidElement(e)&&e.type===SK}function EK(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{o(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}const PK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yn=PK.reduce((e,t)=>{const r=p.forwardRef((s,a)=>{const{asChild:o,...i}=s,l=o?l0:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(l,en({},i,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kK(e,t){e&&gr.flushSync(()=>e.dispatchEvent(t))}function TK(e,t=globalThis==null?void 0:globalThis.document){const r=po(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const Pg="dismissableLayer.update",AK="dismissableLayer.pointerDownOutside",MK="dismissableLayer.focusOutside";let ab;const DK=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RK=p.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...c}=e,u=p.useContext(DK),[m,h]=p.useState(null),f=(r=m==null?void 0:m.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,v]=p.useState({}),x=fd(t,P=>h(P)),w=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(j),y=m?w.indexOf(m):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=g,E=_K(P=>{const O=P.target,T=[...u.branches].some(_=>_.contains(O));!b||T||(o==null||o(P),l==null||l(P),P.defaultPrevented||d==null||d())},f),C=FK(P=>{const O=P.target;[...u.branches].some(_=>_.contains(O))||(i==null||i(P),l==null||l(P),P.defaultPrevented||d==null||d())},f);return TK(P=>{y===u.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},f),p.useEffect(()=>{if(m)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ab=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),ob(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ab)}},[m,f,s,u]),p.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),ob())},[m,u]),p.useEffect(()=>{const P=()=>v({});return document.addEventListener(Pg,P),()=>document.removeEventListener(Pg,P)},[]),p.createElement(Yn.div,en({},c,{ref:x,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:xi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:xi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:xi(e.onPointerDownCapture,E.onPointerDownCapture)}))});function _K(e,t=globalThis==null?void 0:globalThis.document){const r=po(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let u=function(){p4(AK,r,c,{discrete:!0})};var d=u;const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function FK(e,t=globalThis==null?void 0:globalThis.document){const r=po(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&p4(MK,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ob(){const e=new CustomEvent(Pg);document.dispatchEvent(e)}function p4(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?kK(a,o):a.dispatchEvent(o)}const jf="focusScope.autoFocusOnMount",wf="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},OK=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=po(a),u=po(o),m=p.useRef(null),h=fd(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let g=function(E){if(f.paused||!l)return;const C=E.target;l.contains(C)?m.current=C:_s(m.current,{select:!0})},y=function(E){if(f.paused||!l)return;const C=E.relatedTarget;C!==null&&(l.contains(C)||_s(m.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&_s(l)};var x=g,w=y,j=N;document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){cb.add(f);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(jf,ib);l.addEventListener(jf,c),l.dispatchEvent(j),j.defaultPrevented||(IK(HK(f4(l)),{select:!0}),document.activeElement===x&&_s(l))}return()=>{l.removeEventListener(jf,c),setTimeout(()=>{const j=new CustomEvent(wf,ib);l.addEventListener(wf,u),l.dispatchEvent(j),j.defaultPrevented||_s(x??document.body,{select:!0}),l.removeEventListener(wf,u),cb.remove(f)},0)}}},[l,c,u,f]);const v=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(w&&j){const g=x.currentTarget,[y,N]=LK(g);y&&N?!x.shiftKey&&j===N?(x.preventDefault(),r&&_s(y,{select:!0})):x.shiftKey&&j===y&&(x.preventDefault(),r&&_s(N,{select:!0})):j===g&&x.preventDefault()}},[r,s,f.paused]);return p.createElement(Yn.div,en({tabIndex:-1},i,{ref:h,onKeyDown:v}))});function IK(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(_s(s,{select:t}),document.activeElement!==r)return}function LK(e){const t=f4(e),r=lb(t,e),s=lb(t.reverse(),e);return[r,s]}function f4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lb(e,t){for(const r of e)if(!$K(r,{upTo:t}))return r}function $K(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UK(e){return e instanceof HTMLInputElement&&"select"in e}function _s(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&UK(e)&&t&&e.select()}}const cb=VK();function VK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=db(e,t),e.unshift(t)},remove(t){var r;e=db(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function db(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function HK(e){return e.filter(t=>t.tagName!=="A")}const BK=p.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?sm.createPortal(p.createElement(Yn.div,en({},a,{ref:t})),s):null});function zK(e,t){return p.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const Xm=e=>{const{present:t,children:r}=e,s=qK(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=fd(s.ref,a.ref);return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};Xm.displayName="Presence";function qK(e){const[t,r]=p.useState(),s=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=zK(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=ou(s.current);o.current=l==="mounted"?c:"none"},[l]),Cg(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=ou(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Cg(()=>{if(t){const c=m=>{const f=ou(s.current).includes(m.animationName);m.target===t&&f&&gr.flushSync(()=>d("ANIMATION_END"))},u=m=>{m.target===t&&(o.current=ou(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(s.current=getComputedStyle(c)),r(c)},[])}}function ou(e){return(e==null?void 0:e.animationName)||"none"}let Nf=0;function WK(){p.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:ub()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:ub()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Nf--}},[])}function ub(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var x4=dy(),bf=function(){},Qm=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:bf,onWheelCapture:bf,onTouchMoveCapture:bf}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,g=Cm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=h,N=cy([r,t]),b=ht(ht({},g),a);return p.createElement(p.Fragment,null,u&&p.createElement(y,{sideCar:x4,removeScrollBar:c,shards:m,noIsolation:f,inert:v,setCallbacks:o,allowPinchZoom:!!x,lockRef:r}),i?p.cloneElement(p.Children.only(l),ht(ht({},b),{ref:N})):p.createElement(j,ht({},b,{className:d,ref:N}),l))});Qm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qm.classNames={fullWidth:hi,zeroRight:ui};var kg=!1;if(typeof window<"u")try{var iu=Object.defineProperty({},"passive",{get:function(){return kg=!0,!0}});window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{kg=!1}var _o=kg?{passive:!1}:!1,KK=function(e){return e.tagName==="TEXTAREA"},g4=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!KK(e)&&r[t]==="visible")},YK=function(e){return g4(e,"overflowY")},GK=function(e){return g4(e,"overflowX")},hb=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=v4(e,r);if(s){var a=y4(e,r),o=a[1],i=a[2];if(o>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},XK=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},QK=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},v4=function(e,t){return e==="v"?YK(t):GK(t)},y4=function(e,t){return e==="v"?XK(t):QK(t)},JK=function(e,t){return e==="h"&&t==="rtl"?-1:1},ZK=function(e,t,r,s,a){var o=JK(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{var f=y4(e,l),v=f[0],x=f[1],w=f[2],j=x-w-o*v;(v||j)&&v4(e,l)&&(m+=j,h+=v),l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(m===0||!a)||!u&&(h===0||!a))&&(c=!0),c},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mb=function(e){return[e.deltaX,e.deltaY]},pb=function(e){return e&&"current"in e?e.current:e},eY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nY=0,Fo=[];function rY(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(nY++)[0],o=p.useState(function(){return Pm()})[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=ly([e.lockRef.current],(e.shards||[]).map(pb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2)return!i.current.allowPinchZoom;var j=lu(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-j[0],N="deltaY"in x?x.deltaY:g[1]-j[1],b,E=x.target,C=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var P=hb(C,E);if(!P)return!0;if(P?b=C:(b=C==="v"?"h":"v",P=hb(C,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var O=s.current||b;return ZK(O,w,x,O==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!Fo.length||Fo[Fo.length-1]!==o)){var j="deltaY"in w?mb(w):lu(w),g=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&eY(b.delta,j)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(pb).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,j,g){var y={name:x,delta:w,target:j,should:g};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=lu(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,mb(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,lu(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return Fo.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,_o),document.addEventListener("touchmove",d,_o),document.addEventListener("touchstart",u,_o),function(){Fo=Fo.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,_o),document.removeEventListener("touchmove",d,_o),document.removeEventListener("touchstart",u,_o)}},[]);var f=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:tY(a)}):null,f?p.createElement(hy,{gapMode:"margin"}):null)}const sY=uy(x4,rY);var j4=p.forwardRef(function(e,t){return p.createElement(Qm,ht({},e,{ref:t,sideCar:sY}))});j4.classNames=Qm.classNames;const w4="Dialog",[N4,Cte]=vK(w4),[aY,So]=N4(w4),oY=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=NK({prop:s,defaultProp:a,onChange:o});return p.createElement(aY,{scope:t,triggerRef:l,contentRef:d,contentId:yf(),titleId:yf(),descriptionId:yf(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(m=>!m),[u]),modal:i},r)},b4="DialogPortal",[iY,S4]=N4(b4,{forceMount:void 0}),lY=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,o=So(b4,t);return p.createElement(iY,{scope:t,forceMount:r},p.Children.map(s,i=>p.createElement(Xm,{present:r||o.open},p.createElement(BK,{asChild:!0,container:a},i))))},Tg="DialogOverlay",cY=p.forwardRef((e,t)=>{const r=S4(Tg,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=So(Tg,e.__scopeDialog);return o.modal?p.createElement(Xm,{present:s||o.open},p.createElement(dY,en({},a,{ref:t}))):null}),dY=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=So(Tg,r);return p.createElement(j4,{as:l0,allowPinchZoom:!0,shards:[a.contentRef]},p.createElement(Yn.div,en({"data-state":E4(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),Vc="DialogContent",uY=p.forwardRef((e,t)=>{const r=S4(Vc,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,o=So(Vc,e.__scopeDialog);return p.createElement(Xm,{present:s||o.open},o.modal?p.createElement(hY,en({},a,{ref:t})):p.createElement(mY,en({},a,{ref:t})))}),hY=p.forwardRef((e,t)=>{const r=So(Vc,e.__scopeDialog),s=p.useRef(null),a=fd(t,r.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return ad(o)},[]),p.createElement(C4,en({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xi(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:xi(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:xi(e.onFocusOutside,o=>o.preventDefault())}))}),mY=p.forwardRef((e,t)=>{const r=So(Vc,e.__scopeDialog),s=p.useRef(!1),a=p.useRef(!1);return p.createElement(C4,en({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const d=o.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),C4=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=So(Vc,r),d=p.useRef(null),c=fd(t,d);return WK(),p.createElement(p.Fragment,null,p.createElement(OK,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o},p.createElement(RK,en({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":E4(l.open)},i,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function E4(e){return e?"open":"closed"}const pY=oY,fY=lY,xY=cY,gY=uY;var Dl='[cmdk-group=""]',Sf='[cmdk-group-items=""]',vY='[cmdk-group-heading=""]',c0='[cmdk-item=""]',fb=`${c0}:not([aria-disabled="true"])`,Ag="cmdk-item-select",Oa="data-value",yY=(e,t,r)=>xK(e,t,r),P4=p.createContext(void 0),xd=()=>p.useContext(P4),k4=p.createContext(void 0),d0=()=>p.useContext(k4),T4=p.createContext(void 0),A4=p.forwardRef((e,t)=>{let r=Vo(()=>{var V,q;return{search:"",value:(q=(V=e.value)!=null?V:e.defaultValue)!=null?q:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=Vo(()=>new Set),a=Vo(()=>new Map),o=Vo(()=>new Map),i=Vo(()=>new Set),l=M4(e),{label:d,children:c,value:u,onValueChange:m,filter:h,shouldFilter:f,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...j}=e,g=p.useId(),y=p.useId(),N=p.useId(),b=p.useRef(null),E=AY();fo(()=>{if(u!==void 0){let V=u.trim();r.current.value=V,C.emit()}},[u]),fo(()=>{E(6,$)},[]);let C=p.useMemo(()=>({subscribe:V=>(i.current.add(V),()=>i.current.delete(V)),snapshot:()=>r.current,setState:(V,q,z)=>{var G,Y,K;if(!Object.is(r.current[V],q)){if(r.current[V]=q,V==="search")k(),T(),E(1,_);else if(V==="value"&&(z||E(5,$),((G=l.current)==null?void 0:G.value)!==void 0)){let ne=q??"";(K=(Y=l.current).onValueChange)==null||K.call(Y,ne);return}C.emit()}},emit:()=>{i.current.forEach(V=>V())}}),[]),P=p.useMemo(()=>({value:(V,q,z)=>{var G;q!==((G=o.current.get(V))==null?void 0:G.value)&&(o.current.set(V,{value:q,keywords:z}),r.current.filtered.items.set(V,O(q,z)),E(2,()=>{T(),C.emit()}))},item:(V,q)=>(s.current.add(V),q&&(a.current.has(q)?a.current.get(q).add(V):a.current.set(q,new Set([V]))),E(3,()=>{k(),T(),r.current.value||_(),C.emit()}),()=>{o.current.delete(V),s.current.delete(V),r.current.filtered.items.delete(V);let z=A();E(4,()=>{k(),(z==null?void 0:z.getAttribute("id"))===V&&_(),C.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{o.current.delete(V),a.current.delete(V)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],disablePointerSelection:x,listId:g,inputId:N,labelId:y,listInnerRef:b}),[]);function O(V,q){var z,G;let Y=(G=(z=l.current)==null?void 0:z.filter)!=null?G:yY;return V?Y(V,r.current.search,q):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let V=r.current.filtered.items,q=[];r.current.filtered.groups.forEach(G=>{let Y=a.current.get(G),K=0;Y.forEach(ne=>{let oe=V.get(ne);K=Math.max(oe,K)}),q.push([G,K])});let z=b.current;U().sort((G,Y)=>{var K,ne;let oe=G.getAttribute("id"),fe=Y.getAttribute("id");return((K=V.get(fe))!=null?K:0)-((ne=V.get(oe))!=null?ne:0)}).forEach(G=>{let Y=G.closest(Sf);Y?Y.appendChild(G.parentElement===Y?G:G.closest(`${Sf} > *`)):z.appendChild(G.parentElement===z?G:G.closest(`${Sf} > *`))}),q.sort((G,Y)=>Y[1]-G[1]).forEach(G=>{let Y=b.current.querySelector(`${Dl}[${Oa}="${encodeURIComponent(G[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function _(){let V=U().find(z=>z.getAttribute("aria-disabled")!=="true"),q=V==null?void 0:V.getAttribute(Oa);C.setState("value",q||void 0)}function k(){var V,q,z,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let Y=0;for(let K of s.current){let ne=(q=(V=o.current.get(K))==null?void 0:V.value)!=null?q:"",oe=(G=(z=o.current.get(K))==null?void 0:z.keywords)!=null?G:[],fe=O(ne,oe);r.current.filtered.items.set(K,fe),fe>0&&Y++}for(let[K,ne]of a.current)for(let oe of ne)if(r.current.filtered.items.get(oe)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=Y}function $(){var V,q,z;let G=A();G&&(((V=G.parentElement)==null?void 0:V.firstChild)===G&&((z=(q=G.closest(Dl))==null?void 0:q.querySelector(vY))==null||z.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function A(){var V;return(V=b.current)==null?void 0:V.querySelector(`${c0}[aria-selected="true"]`)}function U(){var V;return Array.from((V=b.current)==null?void 0:V.querySelectorAll(fb))}function L(V){let q=U()[V];q&&C.setState("value",q.getAttribute(Oa))}function F(V){var q;let z=A(),G=U(),Y=G.findIndex(ne=>ne===z),K=G[Y+V];(q=l.current)!=null&&q.loop&&(K=Y+V<0?G[G.length-1]:Y+V===G.length?G[0]:G[Y+V]),K&&C.setState("value",K.getAttribute(Oa))}function R(V){let q=A(),z=q==null?void 0:q.closest(Dl),G;for(;z&&!G;)z=V>0?kY(z,Dl):TY(z,Dl),G=z==null?void 0:z.querySelector(fb);G?C.setState("value",G.getAttribute(Oa)):F(V)}let D=()=>L(U().length-1),H=V=>{V.preventDefault(),V.metaKey?D():V.altKey?R(1):F(1)},B=V=>{V.preventDefault(),V.metaKey?L(0):V.altKey?R(-1):F(-1)};return p.createElement(Yn.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:V=>{var q;if((q=j.onKeyDown)==null||q.call(j,V),!V.defaultPrevented)switch(V.key){case"n":case"j":{w&&V.ctrlKey&&H(V);break}case"ArrowDown":{H(V);break}case"p":case"k":{w&&V.ctrlKey&&B(V);break}case"ArrowUp":{B(V);break}case"Home":{V.preventDefault(),L(0);break}case"End":{V.preventDefault(),D();break}case"Enter":if(!V.nativeEvent.isComposing&&V.keyCode!==229){V.preventDefault();let z=A();if(z){let G=new Event(Ag);z.dispatchEvent(G)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:DY},d),Jm(e,V=>p.createElement(k4.Provider,{value:C},p.createElement(P4.Provider,{value:P},V))))}),jY=p.forwardRef((e,t)=>{var r,s;let a=p.useId(),o=p.useRef(null),i=p.useContext(T4),l=xd(),d=M4(e),c=(s=(r=d.current)==null?void 0:r.forceMount)!=null?s:i==null?void 0:i.forceMount;fo(()=>{if(!c)return l.item(a,i==null?void 0:i.id)},[c]);let u=D4(a,o,[e.value,e.children,o],e.keywords),m=d0(),h=xo(E=>E.value&&E.value===u.current),f=xo(E=>c||l.filter()===!1?!0:E.search?E.filtered.items.get(a)>0:!0);p.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(Ag,v),()=>E.removeEventListener(Ag,v)},[f,e.onSelect,e.disabled]);function v(){var E,C;x(),(C=(E=d.current).onSelect)==null||C.call(E,u.current)}function x(){m.setState("value",u.current,!0)}if(!f)return null;let{disabled:w,value:j,onSelect:g,forceMount:y,keywords:N,...b}=e;return p.createElement(Yn.div,{ref:Hc([o,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.disablePointerSelection?void 0:x,onClick:w?void 0:v},e.children)}),wY=p.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...o}=e,i=p.useId(),l=p.useRef(null),d=p.useRef(null),c=p.useId(),u=xd(),m=xo(f=>a||u.filter()===!1?!0:f.search?f.filtered.groups.has(i):!0);fo(()=>u.group(i),[]),D4(i,l,[e.value,e.heading,d]);let h=p.useMemo(()=>({id:i,forceMount:a}),[a]);return p.createElement(Yn.div,{ref:Hc([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&p.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Jm(e,f=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},p.createElement(T4.Provider,{value:h},f))))}),NY=p.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=p.useRef(null),o=xo(i=>!i.search);return!r&&!o?null:p.createElement(Yn.div,{ref:Hc([a,t]),...s,"cmdk-separator":"",role:"separator"})}),bY=p.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,o=d0(),i=xo(u=>u.search),l=xo(u=>u.value),d=xd(),c=p.useMemo(()=>{var u;let m=(u=d.listInnerRef.current)==null?void 0:u.querySelector(`${c0}[${Oa}="${encodeURIComponent(l)}"]`);return m==null?void 0:m.getAttribute("id")},[]);return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(Yn.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r==null||r(u.target.value)}})}),SY=p.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,o=p.useRef(null),i=p.useRef(null),l=xd();return p.useEffect(()=>{if(i.current&&o.current){let d=i.current,c=o.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=d.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(u),m.unobserve(d)}}},[]),p.createElement(Yn.div,{ref:Hc([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},Jm(e,d=>p.createElement("div",{ref:Hc([i,l.listInnerRef]),"cmdk-list-sizer":""},d)))}),CY=p.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:o,container:i,...l}=e;return p.createElement(pY,{open:r,onOpenChange:s},p.createElement(fY,{container:i},p.createElement(xY,{"cmdk-overlay":"",className:a}),p.createElement(gY,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(A4,{ref:t,...l}))))}),EY=p.forwardRef((e,t)=>xo(r=>r.filtered.count===0)?p.createElement(Yn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),PY=p.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...o}=e;return p.createElement(Yn.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Jm(e,i=>p.createElement("div",{"aria-hidden":!0},i)))}),pn=Object.assign(A4,{List:SY,Item:jY,Input:bY,Group:wY,Separator:NY,Dialog:CY,Empty:EY,Loading:PY});function kY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function TY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function M4(e){let t=p.useRef(e);return fo(()=>{t.current=e}),t}var fo=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Vo(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Hc(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function xo(e){let t=d0(),r=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,r,r)}function D4(e,t,r,s=[]){let a=p.useRef(),o=xd();return fo(()=>{var i;let l=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():a.current}})(),d=s.map(c=>c.trim());o.value(e,l,d),(i=t.current)==null||i.setAttribute(Oa,l),a.current=l}),a}var AY=()=>{let[e,t]=p.useState(),r=Vo(()=>new Map);return fo(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function MY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Jm({asChild:e,children:t},r){return e&&p.isValidElement(t)?p.cloneElement(MY(t),{ref:t.ref},r(t.props.children)):r(t)}var DY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const R4=p.forwardRef(({className:e,...t},r)=>n.jsx(pn,{ref:r,className:ie("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));R4.displayName=pn.displayName;const _4=p.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(Ir,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(pn.Input,{ref:r,className:ie("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));_4.displayName=pn.Input.displayName;const F4=p.forwardRef(({className:e,...t},r)=>n.jsx(pn.List,{ref:r,className:ie("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));F4.displayName=pn.List.displayName;const O4=p.forwardRef((e,t)=>n.jsx(pn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));O4.displayName=pn.Empty.displayName;const I4=p.forwardRef(({className:e,...t},r)=>n.jsx(pn.Group,{ref:r,className:ie("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));I4.displayName=pn.Group.displayName;const RY=p.forwardRef(({className:e,...t},r)=>n.jsx(pn.Separator,{ref:r,className:ie("-mx-1 h-px bg-border",e),...t}));RY.displayName=pn.Separator.displayName;const L4=p.forwardRef(({className:e,...t},r)=>n.jsx(pn.Item,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));L4.displayName=pn.Item.displayName;function oa(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $4(...e){return t=>{let r=!1;const s=e.map(a=>{const o=xb(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():xb(e[a],null)}}}}function Ea(...e){return p.useCallback($4(...e),e)}function U4(e,t=[]){let r=[];function s(o,i){const l=p.createContext(i),d=r.length;r=[...r,i];const c=m=>{var j;const{scope:h,children:f,...v}=m,x=((j=h==null?void 0:h[e])==null?void 0:j[d])||l,w=p.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(m,h){var x;const f=((x=h==null?void 0:h[e])==null?void 0:x[d])||l,v=p.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=r.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[s,_Y(a,...t)]}function _Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:d,scopeName:c})=>{const m=d(o)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function V4(e){const t=FY(e),r=p.forwardRef((s,a)=>{const{children:o,...i}=s,l=p.Children.toArray(o),d=l.find(IY);if(d){const c=d.props.children,u=l.map(m=>m===d?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:m);return n.jsx(t,{...i,ref:a,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function FY(e){const t=p.forwardRef((r,s)=>{const{children:a,...o}=r;if(p.isValidElement(a)){const i=$Y(a),l=LY(o,a.props);return a.type!==p.Fragment&&(l.ref=s?$4(s,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OY=Symbol("radix.slottable");function IY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OY}function LY(e,t){const r={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?r[s]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...o}:s==="className"&&(r[s]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function $Y(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var UY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bs=UY.reduce((e,t)=>{const r=V4(`Primitive.${t}`),s=p.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function VY(e,t){e&&gr.flushSync(()=>e.dispatchEvent(t))}function Yi(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function HY(e,t=globalThis==null?void 0:globalThis.document){const r=Yi(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var BY="DismissableLayer",Mg="dismissableLayer.update",zY="dismissableLayer.pointerDownOutside",qY="dismissableLayer.focusOutside",gb,H4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B4=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(H4),[u,m]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),v=Ea(t,C=>m(C)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(w),g=u?x.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=j,b=YY(C=>{const P=C.target,O=[...c.branches].some(T=>T.contains(P));!N||O||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),E=GY(C=>{const P=C.target;[...c.branches].some(T=>T.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return HY(C=>{g===c.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vb(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gb)}},[u,h,r,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vb())},[u,c]),p.useEffect(()=>{const C=()=>f({});return document.addEventListener(Mg,C),()=>document.removeEventListener(Mg,C)},[]),n.jsx(bs.div,{...d,ref:v,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:oa(e.onFocusCapture,E.onFocusCapture),onBlurCapture:oa(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:oa(e.onPointerDownCapture,b.onPointerDownCapture)})});B4.displayName=BY;var WY="DismissableLayerBranch",KY=p.forwardRef((e,t)=>{const r=p.useContext(H4),s=p.useRef(null),a=Ea(t,s);return p.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),n.jsx(bs.div,{...e,ref:a})});KY.displayName=WY;function YY(e,t=globalThis==null?void 0:globalThis.document){const r=Yi(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let d=function(){z4(zY,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function GY(e,t=globalThis==null?void 0:globalThis.document){const r=Yi(e),s=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!s.current&&z4(qY,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function vb(){const e=new CustomEvent(Mg);document.dispatchEvent(e)}function z4(e,t,r,{discrete:s}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?VY(a,o):a.dispatchEvent(o)}var Cf=0;function XY(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yb()),document.body.insertAdjacentElement("beforeend",e[1]??yb()),Cf++,()=>{Cf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cf--}},[])}function yb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ef="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",jb={bubbles:!1,cancelable:!0},QY="FocusScope",q4=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=Yi(a),u=Yi(o),m=p.useRef(null),h=Ea(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(y){if(f.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:Fs(m.current,{select:!0})},w=function(y){if(f.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Fs(m.current,{select:!0}))},j=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Fs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(j);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[s,l,f.paused]),p.useEffect(()=>{if(l){Nb.add(f);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(Ef,jb);l.addEventListener(Ef,c),l.dispatchEvent(j),j.defaultPrevented||(JY(rG(W4(l)),{select:!0}),document.activeElement===x&&Fs(l))}return()=>{l.removeEventListener(Ef,c),setTimeout(()=>{const j=new CustomEvent(Pf,jb);l.addEventListener(Pf,u),l.dispatchEvent(j),j.defaultPrevented||Fs(x??document.body,{select:!0}),l.removeEventListener(Pf,u),Nb.remove(f)},0)}}},[l,c,u,f]);const v=p.useCallback(x=>{if(!r&&!s||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(w&&j){const g=x.currentTarget,[y,N]=ZY(g);y&&N?!x.shiftKey&&j===N?(x.preventDefault(),r&&Fs(y,{select:!0})):x.shiftKey&&j===y&&(x.preventDefault(),r&&Fs(N,{select:!0})):j===g&&x.preventDefault()}},[r,s,f.paused]);return n.jsx(bs.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});q4.displayName=QY;function JY(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Fs(s,{select:t}),document.activeElement!==r)return}function ZY(e){const t=W4(e),r=wb(t,e),s=wb(t.reverse(),e);return[r,s]}function W4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wb(e,t){for(const r of e)if(!eG(r,{upTo:t}))return r}function eG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tG(e){return e instanceof HTMLInputElement&&"select"in e}function Fs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&tG(e)&&t&&e.select()}}var Nb=nG();function nG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=bb(e,t),e.unshift(t)},remove(t){var r;e=bb(e,t),(r=e[0])==null||r.resume()}}}function bb(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function rG(e){return e.filter(t=>t.tagName!=="A")}var va=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},sG=Wc[" useId ".trim().toString()]||(()=>{}),aG=0;function oG(e){const[t,r]=p.useState(sG());return va(()=>{e||r(s=>s??String(aG++))},[e]),e||(t?`radix-${t}`:"")}var iG="Arrow",K4=p.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...o}=e;return n.jsx(bs.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});K4.displayName=iG;var lG=K4;function cG(e){const[t,r]=p.useState(void 0);return va(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var u0="Popper",[Y4,G4]=U4(u0),[dG,X4]=Y4(u0),Q4=e=>{const{__scopePopper:t,children:r}=e,[s,a]=p.useState(null);return n.jsx(dG,{scope:t,anchor:s,onAnchorChange:a,children:r})};Q4.displayName=u0;var J4="PopperAnchor",Z4=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,o=X4(J4,r),i=p.useRef(null),l=Ea(t,i);return p.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:n.jsx(bs.div,{...a,ref:l})});Z4.displayName=J4;var h0="PopperContent",[uG,hG]=Y4(h0),eM=p.forwardRef((e,t)=>{var K,ne,oe,fe,xe,he;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...x}=e,w=X4(h0,r),[j,g]=p.useState(null),y=Ea(t,ve=>g(ve)),[N,b]=p.useState(null),E=cG(N),C=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,O=s+(o!=="center"?"-"+o:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(c)?c:[c],k=_.length>0,$={padding:T,boundary:_.filter(pG),altBoundary:k},{refs:A,floatingStyles:U,placement:L,isPositioned:F,middlewareData:R}=d2({strategy:"fixed",placement:O,whileElementsMounted:(...ve)=>l2(...ve,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[u2({mainAxis:a+P,alignmentAxis:i}),d&&h2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?m2():void 0,...$}),d&&p2({...$}),f2({...$,apply:({elements:ve,rects:we,availableWidth:Re,availableHeight:Fe})=>{const{width:Et,height:Mn}=we.reference,Be=ve.floating.style;Be.setProperty("--radix-popper-available-width",`${Re}px`),Be.setProperty("--radix-popper-available-height",`${Fe}px`),Be.setProperty("--radix-popper-anchor-width",`${Et}px`),Be.setProperty("--radix-popper-anchor-height",`${Mn}px`)}}),N&&g2({element:N,padding:l}),fG({arrowWidth:C,arrowHeight:P}),h&&x2({strategy:"referenceHidden",...$})]}),[D,H]=rM(L),B=Yi(v);va(()=>{F&&(B==null||B())},[F,B]);const V=(K=R.arrow)==null?void 0:K.x,q=(ne=R.arrow)==null?void 0:ne.y,z=((oe=R.arrow)==null?void 0:oe.centerOffset)!==0,[G,Y]=p.useState();return va(()=>{j&&Y(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:F?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(fe=R.transformOrigin)==null?void 0:fe.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((he=R.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(uG,{scope:r,placedSide:D,onArrowChange:b,arrowX:V,arrowY:q,shouldHideArrow:z,children:n.jsx(bs.div,{"data-side":D,"data-align":H,...x,ref:y,style:{...x.style,animation:F?void 0:"none"}})})})});eM.displayName=h0;var tM="PopperArrow",mG={top:"bottom",right:"left",bottom:"top",left:"right"},nM=p.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,o=hG(tM,s),i=mG[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(lG,{...a,ref:r,style:{...a.style,display:"block"}})})});nM.displayName=tM;function pG(e){return e!==null}var fG=e=>({name:"transformOrigin",options:e,fn(t){var w,j,g;const{placement:r,rects:s,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=rM(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let v="",x="";return c==="bottom"?(v=i?m:`${h}px`,x=`${-d}px`):c==="top"?(v=i?m:`${h}px`,x=`${s.floating.height+d}px`):c==="right"?(v=`${-d}px`,x=i?m:`${f}px`):c==="left"&&(v=`${s.floating.width+d}px`,x=i?m:`${f}px`),{data:{x:v,y:x}}}});function rM(e){const[t,r="center"]=e.split("-");return[t,r]}var xG=Q4,sM=Z4,gG=eM,vG=nM,yG="Portal",aM=p.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,o]=p.useState(!1);va(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?sm.createPortal(n.jsx(bs.div,{...s,ref:t}),i):null});aM.displayName=yG;function jG(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var m0=e=>{const{present:t,children:r}=e,s=wG(t),a=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),o=Ea(s.ref,NG(a));return typeof r=="function"||s.isPresent?p.cloneElement(a,{ref:o}):null};m0.displayName="Presence";function wG(e){const[t,r]=p.useState(),s=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=jG(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=cu(s.current);o.current=l==="mounted"?c:"none"},[l]),va(()=>{const c=s.current,u=a.current;if(u!==e){const h=o.current,f=cu(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),va(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,m=f=>{const x=cu(s.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=f=>{f.target===t&&(o.current=cu(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{s.current=c?getComputedStyle(c):null,r(c)},[])}}function cu(e){return(e==null?void 0:e.animationName)||"none"}function NG(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bG=Wc[" useInsertionEffect ".trim().toString()]||va;function SG({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,o,i]=CG({defaultProp:t,onChange:r}),l=e!==void 0,d=l?e:a;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const c=p.useCallback(u=>{var m;if(l){const h=EG(u)?u(e):u;h!==e&&((m=i.current)==null||m.call(i,h))}else o(u)},[l,e,o,i]);return[d,c]}function CG({defaultProp:e,onChange:t}){const[r,s]=p.useState(e),a=p.useRef(r),o=p.useRef(t);return bG(()=>{o.current=t},[t]),p.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,s,o]}function EG(e){return typeof e=="function"}var oM=dy(),kf=function(){},Zm=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,j=e.as,g=j===void 0?"div":j,y=e.gapMode,N=Cm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,E=cy([r,t]),C=ht(ht({},N),a);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:oM,removeScrollBar:c,shards:m,noRelative:f,noIsolation:v,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:y}),i?p.cloneElement(p.Children.only(l),ht(ht({},C),{ref:E})):p.createElement(g,ht({},C,{className:d,ref:E}),l))});Zm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zm.classNames={fullWidth:hi,zeroRight:ui};var Dg=!1;if(typeof window<"u")try{var du=Object.defineProperty({},"passive",{get:function(){return Dg=!0,!0}});window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{Dg=!1}var Oo=Dg?{passive:!1}:!1,PG=function(e){return e.tagName==="TEXTAREA"},iM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!PG(e)&&r[t]==="visible")},kG=function(e){return iM(e,"overflowY")},TG=function(e){return iM(e,"overflowX")},Sb=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=lM(e,s);if(a){var o=cM(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},AG=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},MG=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},lM=function(e,t){return e==="v"?kG(t):TG(t)},cM=function(e,t){return e==="v"?AG(t):MG(t)},DG=function(e,t){return e==="h"&&t==="rtl"?-1:1},RG=function(e,t,r,s,a){var o=DG(e,window.getComputedStyle(t).direction),i=o*s,l=r.target,d=t.contains(l),c=!1,u=i>0,m=0,h=0;do{if(!l)break;var f=cM(e,l),v=f[0],x=f[1],w=f[2],j=x-w-o*v;(v||j)&&lM(e,l)&&(m+=j,h+=v);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(c=!0),c},uu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cb=function(e){return[e.deltaX,e.deltaY]},Eb=function(e){return e&&"current"in e?e.current:e},_G=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OG=0,Io=[];function IG(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),a=p.useState(OG++)[0],o=p.useState(Pm)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=ly([e.lockRef.current],(e.shards||[]).map(Eb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var j=uu(x),g=r.current,y="deltaX"in x?x.deltaX:g[0]-j[0],N="deltaY"in x?x.deltaY:g[1]-j[1],b,E=x.target,C=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var P=Sb(C,E);if(!P)return!0;if(P?b=C:(b=C==="v"?"h":"v",P=Sb(C,E)),!P)return!1;if(!s.current&&"changedTouches"in x&&(y||N)&&(s.current=b),!b)return!0;var O=s.current||b;return RG(O,w,x,O==="h"?y:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!Io.length||Io[Io.length-1]!==o)){var j="deltaY"in w?Cb(w):uu(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&_G(b.delta,j)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(i.current.shards||[]).map(Eb).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,j,g){var y={name:x,delta:w,target:j,should:g,shadowParent:LG(j)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=p.useCallback(function(x){r.current=uu(x),s.current=void 0},[]),m=p.useCallback(function(x){c(x.type,Cb(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){c(x.type,uu(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return Io.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Oo),document.addEventListener("touchmove",d,Oo),document.addEventListener("touchstart",u,Oo),function(){Io=Io.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Oo),document.removeEventListener("touchmove",d,Oo),document.removeEventListener("touchstart",u,Oo)}},[]);var f=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(o,{styles:FG(a)}):null,f?p.createElement(hy,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $G=uy(oM,IG);var dM=p.forwardRef(function(e,t){return p.createElement(Zm,ht({},e,{ref:t,sideCar:$G}))});dM.classNames=Zm.classNames;var ep="Popover",[uM,Ete]=U4(ep,[G4]),gd=G4(),[UG,Pa]=uM(ep),hM=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=gd(t),d=p.useRef(null),[c,u]=p.useState(!1),[m,h]=SG({prop:s,defaultProp:a??!1,onChange:o,caller:ep});return n.jsx(xG,{...l,children:n.jsx(UG,{scope:t,contentId:oG(),triggerRef:d,open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:i,children:r})})};hM.displayName=ep;var mM="PopoverAnchor",VG=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Pa(mM,r),o=gd(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(sM,{...o,...s,ref:t})});VG.displayName=mM;var pM="PopoverTrigger",fM=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Pa(pM,r),o=gd(r),i=Ea(t,a.triggerRef),l=n.jsx(bs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jM(a.open),...s,ref:i,onClick:oa(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(sM,{asChild:!0,...o,children:l})});fM.displayName=pM;var p0="PopoverPortal",[HG,BG]=uM(p0,{forceMount:void 0}),xM=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,o=Pa(p0,t);return n.jsx(HG,{scope:t,forceMount:r,children:n.jsx(m0,{present:r||o.open,children:n.jsx(aM,{asChild:!0,container:a,children:s})})})};xM.displayName=p0;var Gi="PopoverContent",gM=p.forwardRef((e,t)=>{const r=BG(Gi,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,o=Pa(Gi,e.__scopePopover);return n.jsx(m0,{present:s||o.open,children:o.modal?n.jsx(qG,{...a,ref:t}):n.jsx(WG,{...a,ref:t})})});gM.displayName=Gi;var zG=V4("PopoverContent.RemoveScroll"),qG=p.forwardRef((e,t)=>{const r=Pa(Gi,e.__scopePopover),s=p.useRef(null),a=Ea(t,s),o=p.useRef(!1);return p.useEffect(()=>{const i=s.current;if(i)return ad(i)},[]),n.jsx(dM,{as:zG,allowPinchZoom:!0,children:n.jsx(vM,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oa(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:oa(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,c=l.button===2||d;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:oa(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),WG=p.forwardRef((e,t)=>{const r=Pa(Gi,e.__scopePopover),s=p.useRef(!1),a=p.useRef(!1);return n.jsx(vM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),vM=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...m}=e,h=Pa(Gi,r),f=gd(r);return XY(),n.jsx(q4,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(B4,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(gG,{"data-state":jM(h.open),role:"dialog",id:h.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yM="PopoverClose",KG=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Pa(yM,r);return n.jsx(bs.button,{type:"button",...s,ref:t,onClick:oa(e.onClick,()=>a.onOpenChange(!1))})});KG.displayName=yM;var YG="PopoverArrow",GG=p.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=gd(r);return n.jsx(vG,{...a,...s,ref:t})});GG.displayName=YG;function jM(e){return e?"open":"closed"}var XG=hM,QG=fM,JG=xM,wM=gM;const Rg=XG,_g=QG,$h=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(JG,{children:n.jsx(wM,{ref:a,align:t,sideOffset:r,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));$h.displayName=wM.displayName;function ZG({options:e,value:t,onValueChange:r,placeholder:s="Select option...",searchPlaceholder:a="Search...",emptyMessage:o="No option found.",className:i}){const[l,d]=p.useState(!1),c=e.find(u=>u.value===t);return n.jsxs(Rg,{open:l,onOpenChange:d,children:[n.jsx(_g,{asChild:!0,children:n.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":l,className:ie("w-full justify-between",i),children:[c?n.jsxs("div",{className:"flex items-center gap-2",children:[c.icon&&n.jsx(c.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"truncate",children:c.label}),c.category&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c.category,")"]})]}):s,n.jsx(OO,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx($h,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:n.jsxs(R4,{children:[n.jsx(_4,{placeholder:a}),n.jsxs(F4,{children:[n.jsx(O4,{children:o}),n.jsx(I4,{children:e.map(u=>n.jsxs(L4,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{r==null||r(u.value),d(!1)},children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&n.jsx(u.icon,{className:"h-4 w-4 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:u.label}),u.category&&n.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&n.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),n.jsx(ed,{className:ie("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function eX(e,t={}){const{minLength:r=8,requireUppercase:s=!1,requireLowercase:a=!1,requireNumbers:o=!1,requireSpecialChars:i=!1,allowEmpty:l=!0}=t,d=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<r&&d.push(`Password must be at least ${r} characters long`),s&&!/[A-Z]/.test(e)&&d.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&d.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(e)&&d.push("Password must contain at least one number"),i&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&d.push("Password must contain at least one special character"),{isValid:d.length===0,errors:d})}function tX(e){return eX(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const gt=p.forwardRef(({name:e,label:t,placeholder:r,required:s,value:a,onValueChange:o,className:i,showConfirmation:l=!0,validator:d=tX},c)=>{const[u,m]=p.useState(a||""),[h,f]=p.useState(""),[v,x]=p.useState(!1),[w,j]=p.useState(!1),[g,y]=p.useState(!1),[N,b]=p.useState({isValid:!0,errors:[]});p.useEffect(()=>{a!==u&&m(a||"")},[a]);const E=u===h,C=g&&h.length>0&&!E,P=!N.isValid&&u.length>0,O=_=>{m(_),b(d(_)),o(_)},T=_=>{f(_),!g&&_.length>0&&y(!0)};return n.jsxs("div",{ref:c,className:ie("space-y-3",i),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:e,className:"flex items-center gap-1",children:[t,s&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(I,{id:e,type:v?"text":"password",placeholder:r,value:u,onChange:_=>O(_.target.value),className:ie("pr-10 transition-all duration-300 focus:scale-[1.01]",P&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:v?n.jsx(Ox,{className:"h-4 w-4"}):n.jsx(jc,{className:"h-4 w-4"})})]})]}),P&&n.jsx("div",{className:"space-y-1",children:N.errors.map((_,k)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(da,{className:"h-4 w-4"}),_]},k))}),N.isValid&&u.length>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(Or,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,s&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(I,{id:`${e}_confirm`,type:w?"text":"password",placeholder:`Confirm ${r||t.toLowerCase()}`,value:h,onChange:_=>T(_.target.value),className:ie("pr-10 transition-all duration-300 focus:scale-[1.01]",C&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:w?n.jsx(Ox,{className:"h-4 w-4"}):n.jsx(jc,{className:"h-4 w-4"})})]})]}),C&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(da,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});gt.displayName="PasswordConfirmation";const nX=({selectedJarId:e,onJarSelect:t,label:r="Select JAR File",placeholder:s="Choose a driver JAR file...",driverTypeFilter:a})=>{const o=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],i=a?o.filter(d=>d.driverType===a):o,l=o.find(d=>d.id===e);return n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm font-medium",children:r}),n.jsxs(J,{value:e,onValueChange:t,children:[n.jsx(X,{className:"w-full",children:n.jsx(Z,{placeholder:s,children:l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wc,{className:"h-4 w-4"}),n.jsx("span",{children:l.name}),n.jsxs(ce,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),n.jsxs(Q,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[i.map(d=>n.jsx(M,{value:d.id,children:n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(wc,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:d.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:d.fileName})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(ce,{variant:"secondary",className:"text-xs",children:["v",d.version]}),n.jsx(ce,{variant:"outline",className:"text-xs",children:d.driverType})]})]})},d.id)),i.length===0&&n.jsxs(M,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},rX=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:r,loading:s}=zr();return n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this adapter belongs to"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(J,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=r.find(i=>i.id===a)||null;t(o)},disabled:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a business component"})}),n.jsx(Q,{children:r.map(a=>n.jsx(M,{value:a.id,children:a.name},a.id))})]})]})})]})},sX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...r,...d};s(c),t==null||t(c)},o=()=>{const d=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const m=[...r.advancedEntries];m[d]={...m[d],[c]:u},a({advancedEntries:m})},l=d=>{if(r.advancedEntries.length>1){const c=r.advancedEntries.filter((u,m)=>m!==d);a({advancedEntries:c})}};return n.jsxs(ee,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(se,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your FTP ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(je,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:r.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:r.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(J,{value:r.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select sorting option"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(M,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(M,{value:"file-size",children:"File Size"}),n.jsx(M,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:r.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:r.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:r.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:r.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(J,{value:r.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection security"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(M,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(M,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:r.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(J,{value:r.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"permanently",children:"Permanently"}),n.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(je,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:r.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:r.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:r.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:r.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:r.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(J,{value:r.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection security"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(M,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(M,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:r.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(J,{value:r.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"permanently",children:"Permanently"}),n.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(We,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(I,{id:"pollingInterval",value:r.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(J,{value:r.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select processing mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"archive",children:"Archive"}),n.jsx(M,{value:"delete",children:"Delete"}),n.jsx(M,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(J,{value:r.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty file handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"do-not-create",children:"Do not create message"}),n.jsx(M,{value:"process-empty",children:"Process empty files"}),n.jsx(M,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(J,{value:r.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file construction mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"create",children:"Create"}),n.jsx(M,{value:"append",children:"Append"}),n.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(J,{value:r.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file placement"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(J,{value:r.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty message handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(I,{id:"duplicateThreshold",value:r.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})},aX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:""}),a=c=>{const u={...r,...c};s(u),t==null||t(u)},o=()=>{const c=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,u,m)=>{const h=[...r.advancedEntries];h[c]={...h[c],[u]:m},a({advancedEntries:h})},l=c=>{if(r.advancedEntries.length>1){const u=r.advancedEntries.filter((m,h)=>h!==c);a({advancedEntries:u})}},d=()=>{switch(r.authenticationType){case"public-key":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(J,{value:r.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a key pair from system"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(M,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(M,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(M,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(M,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(M,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:r.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"username-password":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:r.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:c=>a({password:c})})})]});case"dual":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:r.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:r.password,onValueChange:c=>a({password:c})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(J,{value:r.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a key pair from system"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(M,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(M,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(M,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(M,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(M,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gt,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:r.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"dynamic":return n.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return n.jsxs(ee,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(se,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your SFTP ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(je,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:r.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:r.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:r.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((c,u)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:c.directory,onChange:m=>i(u,"directory",m.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:c.fileName,onChange:m=>i(u,"fileName",m.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:c.exclusionMask,onChange:m=>i(u,"exclusionMask",m.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:r.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:r.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:r.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(J,{value:r.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"public-key",children:"Public Key"}),n.jsx(M,{value:"username-password",children:"User Name/Password"}),n.jsx(M,{value:"dual",children:"Dual"}),n.jsx(M,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryConnection",children:"Retry Connection"}),n.jsx(I,{id:"retryConnection",value:r.retryConnection,onChange:c=>a({retryConnection:c.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),n.jsx(I,{id:"retryConnectionDelay",value:r.retryConnectionDelay,onChange:c=>a({retryConnectionDelay:c.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(J,{value:r.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"permanently",children:"Permanently"}),n.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(je,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:r.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:r.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:r.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:r.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:r.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(J,{value:r.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"public-key",children:"Public Key"}),n.jsx(M,{value:"username-password",children:"User Name/Password"}),n.jsx(M,{value:"dual",children:"Dual"}),n.jsx(M,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(J,{value:r.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"permanently",children:"Permanently"}),n.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsx(je,{value:"processing",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(We,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),n.jsx(I,{id:"pollingInterval",value:r.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(J,{value:r.processingMode,onValueChange:c=>a({processingMode:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select processing mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"archive",children:"Archive"}),n.jsx(M,{value:"delete",children:"Delete"}),n.jsx(M,{value:"keep-file",children:"Keep File"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(J,{value:r.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty file handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"do-not-create-message",children:"Do not create message"}),n.jsx(M,{value:"process-empty-files",children:"Process empty files"}),n.jsx(M,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),n.jsx(I,{id:"duplicateMessageAlertThreshold",value:r.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(J,{value:r.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file construction mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"create",children:"Create"}),n.jsx(M,{value:"append",children:"Append"}),n.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(J,{value:r.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file placement"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(J,{value:r.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty message handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})})]})})]})},oX=({mode:e,onConfigChange:t})=>{const[r,s]=p.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...r,...d};s(c),t==null||t(c)},o=()=>{const d=[...r.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const m=[...r.advancedEntries];m[d]={...m[d],[c]:u},a({advancedEntries:m})},l=d=>{if(r.advancedEntries.length>1){const c=r.advancedEntries.filter((u,m)=>m!==d);a({advancedEntries:c})}};return n.jsxs(ee,{className:"w-full",children:[n.jsxs(re,{children:[n.jsxs(se,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your File ",e," adapter settings"]})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsx(je,{value:"source",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:r.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:r.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(J,{value:r.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select sorting option"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(M,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(M,{value:"file-size",children:"File Size"}),n.jsx(M,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"advancedSelection",checked:r.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),r.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:r.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),r.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),r.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]})}),e==="receiver"&&n.jsx(je,{value:"target",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:r.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:r.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]})}),n.jsxs(je,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(We,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(I,{id:"pollingInterval",value:r.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(J,{value:r.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select processing mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"archive",children:"Archive"}),n.jsx(M,{value:"delete",children:"Delete"}),n.jsx(M,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(J,{value:r.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty file handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"do-not-create",children:"Do not create message"}),n.jsx(M,{value:"process-empty",children:"Process empty files"}),n.jsx(M,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"createFileDirectory",checked:r.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"overwriteExistingFile",checked:r.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(J,{value:r.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file construction mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"create",children:"Create"}),n.jsx(M,{value:"append",children:"Append"}),n.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(J,{value:r.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select file placement"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(J,{value:r.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select empty message handling"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:r.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(We,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"enableDuplicateHandling",checked:r.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),r.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(I,{id:"duplicateThreshold",value:r.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"disableChannelOnExceed",checked:r.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})};function iX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=zr(),{structures:a}=ml(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"HTTP Sender Configuration"}),n.jsx(ge,{children:"Configure your HTTP sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsx(je,{value:"source",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"endpointUrl",children:"Endpoint URL"}),n.jsx(I,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:c=>t("endpointUrl",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(J,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select HTTP method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"GET",children:"GET"}),n.jsx(M,{value:"POST",children:"POST"}),n.jsx(M,{value:"PUT",children:"PUT"}),n.jsx(M,{value:"DELETE",children:"DELETE"}),n.jsx(M,{value:"PATCH",children:"PATCH"}),n.jsx(M,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(J,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select media type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"application/json",children:"application/json"}),n.jsx(M,{value:"application/xml",children:"application/xml"}),n.jsx(M,{value:"text/xml",children:"text/xml"}),n.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(M,{value:"text/plain",children:"text/plain"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),n.jsx(Se,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:c=>t("sslConfig",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),n.jsx(I,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:c=>t("rateLimits",c.target.value)})]})]})}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(J,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select response format"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(J,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select a business component"})}),n.jsx(Q,{className:"bg-background border z-50",children:r.map(c=>n.jsx(M,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(J,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select request structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(J,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select response structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(M,{value:"api-key",children:"API Key"}),n.jsx(M,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:c=>t("basicPassword",c),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:c=>t("bearerToken",c),showConfirmation:!1})}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:c=>t("apiKeyValue",c),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jwtToken",children:"JWT Token"}),n.jsx(Se,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:c=>t("jwtToken",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),n.jsxs(J,{value:e.jwtAlgorithm||"",onValueChange:c=>t("jwtAlgorithm",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select JWT algorithm"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"HS256",children:"HS256"}),n.jsx(M,{value:"HS384",children:"HS384"}),n.jsx(M,{value:"HS512",children:"HS512"}),n.jsx(M,{value:"RS256",children:"RS256"}),n.jsx(M,{value:"RS384",children:"RS384"}),n.jsx(M,{value:"RS512",children:"RS512"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}const f0=({id:e,label:t,value:r,onChange:s,businessComponentId:a,placeholder:o="Select certificate",required:i=!1})=>{const l=[{id:"cert-1",name:"Production SSL Certificate",type:"SSL",issuer:"DigiCert Inc",status:"active",businessComponentId:"bc-1"},{id:"cert-2",name:"Client Authentication Certificate",type:"Client Auth",issuer:"Internal CA",status:"active",businessComponentId:"bc-1"},{id:"cert-3",name:"Development SSL Certificate",type:"SSL",issuer:"Let's Encrypt",status:"active",businessComponentId:"bc-2"}],c=(a?l.filter(u=>u.businessComponentId===a):l).filter(u=>u.status==="active");return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:e,className:"flex items-center gap-1",children:[t,i&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(J,{value:r,onValueChange:s,children:[n.jsx(X,{id:e,children:n.jsx(Z,{placeholder:o})}),n.jsx(Q,{children:c.length===0?n.jsx(M,{value:"",disabled:!0,children:"No certificates available for this business component"}):c.map(u=>n.jsx(M,{value:u.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type,"  ",u.issuer]})]})},u.id))})]})]})};function lX({configuration:e,onConfigurationChange:t,businessComponentId:r}){return n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"HTTP Receiver Configuration"}),n.jsx(ge,{children:"Configure your HTTP receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsx(je,{value:"target",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(I,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:s=>t("targetEndpointUrl",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(J,{value:e.httpMethod||"",onValueChange:s=>t("httpMethod",s),children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select HTTP method"})}),n.jsxs(Q,{className:"bg-background border z-50",children:[n.jsx(M,{value:"GET",children:"GET"}),n.jsx(M,{value:"POST",children:"POST"}),n.jsx(M,{value:"PUT",children:"PUT"}),n.jsx(M,{value:"DELETE",children:"DELETE"}),n.jsx(M,{value:"PATCH",children:"PATCH"}),n.jsx(M,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),n.jsx(I,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:s=>t("connectionTimeout",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"readTimeout",children:"Read Timeout"}),n.jsx(I,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:s=>t("readTimeout",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:s=>t("useProxy",s)}),n.jsx(S,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyServer",children:"Server"}),n.jsx(I,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:s=>t("proxyServer",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyPort",children:"Port"}),n.jsx(I,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:s=>t("proxyPort",parseInt(s.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyUsername",children:"User Name"}),n.jsx(I,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:s=>t("proxyUsername",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyPassword",children:"Password"}),n.jsx(I,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:s=>t("proxyPassword",s.target.value)})]})]})]})]})}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:s=>t("processingMode",s?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:s=>t("responseTimeout",parseInt(s.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:s=>t("waitForResponse",s)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:s=>t("asyncCorrelationId",s.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:e.authenticationType||"",onValueChange:s=>t("authenticationType",s),children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select authentication method"})}),n.jsxs(Q,{className:"bg-background border z-50",children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic"}),n.jsx(M,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),n.jsx(M,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:s=>t("basicUsername",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:s=>t("basicPassword",s.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:s=>t("clientId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:s=>t("clientSecret",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:s=>t("tokenUrl",s.target.value)})]})]}),e.authenticationType==="client-certificate"&&n.jsx("div",{className:"space-y-4",children:n.jsx(f0,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:s=>t("certificateId",s),businessComponentId:r,placeholder:"Select client certificate",required:!0})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestHeaders",children:"Request Headers"}),n.jsx(Se,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:s=>t("requestHeaders",s.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsx(Se,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:s=>t("requestPayloadFormat",s.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseHandling",children:"Response Handling"}),n.jsx(Se,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:s=>t("responseHandling",s.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:s=>t("retryPolicy",s.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}const cX=["TCP/IP","Gateway"];function dX({configuration:e,onConfigurationChange:t}){return n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"IDOC Sender Configuration"}),n.jsx(ge,{children:"Configure your IDOC sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:r=>t("portNumber",parseInt(r.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(J,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection type"})}),n.jsx(Q,{children:cX.map(r=>n.jsx(M,{value:r,children:r},r))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value)})]})})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(I,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:r=>t("idocPort",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(I,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:r=>t("idocType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageType",children:"Message Type"}),n.jsx(I,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:r=>t("messageType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processCode",children:"Process Code"}),n.jsx(I,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:r=>t("processCode",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Se,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:r=>t("sncSecuritySettings",r.target.value),rows:4})]})})]})]})]})})]})}const uX=["TCP/IP","Gateway"];function hX({configuration:e,onConfigurationChange:t}){return n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"IDOC Receiver Configuration"}),n.jsx(ge,{children:"Configure your IDOC receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:r=>t("portNumber",parseInt(r.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(J,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection type"})}),n.jsx(Q,{children:uX.map(r=>n.jsx(M,{value:r,children:r},r))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value)})]})})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(I,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:r=>t("idocPort",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(I,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:r=>t("idocType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageType",children:"Message Type"}),n.jsx(I,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:r=>t("messageType",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processCode",children:"Process Code"}),n.jsx(I,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:r=>t("processCode",r.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Se,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:r=>t("sncSecuritySettings",r.target.value),rows:4})]})})]})]})]})})]})}function mX({adapter:e,onUpdate:t}){const r=(s,a)=>{t({...e,configuration:{...e.configuration,[s]:a}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing Details"})]}),n.jsx(je,{value:"source",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(se,{children:"Connection Details"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(I,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:s=>r("connectionFactoryClass",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(I,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:s=>r("queueClass",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(I,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:s=>r("queueManager",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(I,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:s=>r("host",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:s=>r("port",parseInt(s.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(I,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:s=>r("channel",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(I,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:s=>r("connectionFactory",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(J,{value:e.configuration.transportType||"CLIENT",onValueChange:s=>r("transportType",s),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select transport type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(M,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"User Name"}),n.jsx(I,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:s=>r("username",s.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:s=>r("password",s)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:s=>r("useSSL",s)}),n.jsx(S,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),n.jsx(I,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:s=>r("sslKeystore",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),n.jsx(I,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:s=>r("sslPassword",s.target.value)})]})]})]})]})}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(se,{children:"Processing Details"})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(I,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:s=>r("queueName",s.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(J,{value:e.configuration.destinationType||"",onValueChange:s=>r("destinationType",s),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select destination type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"Queue",children:"Queue"}),n.jsx(M,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(I,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:s=>r("messageSelector",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:s=>r("clientId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(J,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:s=>r("ackMode",s),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select acknowledgement mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(M,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function pX({adapter:e,onUpdate:t,businessComponentId:r}){const s=(a,o)=>{t({...e,configuration:{...e.configuration,[a]:o}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing Details"})]}),n.jsx(je,{value:"target",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(se,{children:"Connection Details"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(I,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>s("connectionFactoryClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(I,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>s("queueClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(I,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>s("queueManager",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(I,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>s("host",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>s("port",parseInt(a.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(I,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>s("channel",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(I,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>s("connectionFactory",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(J,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>s("transportType",a),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select transport type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(M,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"User Name"}),n.jsx(I,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>s("username",a.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>s("password",a)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>s("useSSL",a)}),n.jsx(S,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsx("div",{className:"space-y-4",children:n.jsx(f0,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>s("sslCertificateId",a),businessComponentId:r,placeholder:"Select SSL certificate",required:!0})})]})]})}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(se,{children:"Processing Details"})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(I,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>s("queueName",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(J,{value:e.configuration.destinationType||"",onValueChange:a=>s("destinationType",a),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select destination type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"Queue",children:"Queue"}),n.jsx(M,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(I,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>s("messageSelector",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>s("clientId",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(J,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>s("ackMode",a),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select acknowledgement mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(M,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function fX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=zr(),{structures:a}=ml(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"REST Sender Configuration"}),n.jsx(ge,{children:"Configure your REST sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),n.jsx(I,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:c=>t("baseEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(I,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(J,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select HTTP method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"GET",children:"GET"}),n.jsx(M,{value:"POST",children:"POST"}),n.jsx(M,{value:"PUT",children:"PUT"}),n.jsx(M,{value:"DELETE",children:"DELETE"}),n.jsx(M,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(J,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select media type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"application/json",children:"application/json"}),n.jsx(M,{value:"application/xml",children:"application/xml"}),n.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(M,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(J,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select expected response type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"application/json",children:"application/json"}),n.jsx(M,{value:"application/xml",children:"application/xml"}),n.jsx(M,{value:"text/plain",children:"text/plain"}),n.jsx(M,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Se,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(J,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select response format"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(M,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(I,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(I,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(J,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select a business component"})}),n.jsx(Q,{className:"bg-background border z-50",children:r.map(c=>n.jsx(M,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayload",children:"Request Payload"}),n.jsxs(J,{value:e.requestPayload||"",onValueChange:c=>t("requestPayload",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select request structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(J,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select response structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),n.jsx(I,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:c=>t("rateLimiting",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]})]})})]})}function xX({configuration:e,onConfigurationChange:t}){const{businessComponents:r,loading:s}=zr(),{structures:a}=ml(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"REST Receiver Configuration"}),n.jsx(ge,{children:"Configure your REST receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(I,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:c=>t("targetEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(I,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(J,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select HTTP method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"POST",children:"POST"}),n.jsx(M,{value:"PUT",children:"PUT"}),n.jsx(M,{value:"GET",children:"GET"}),n.jsx(M,{value:"DELETE",children:"DELETE"}),n.jsx(M,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(J,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select media type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"application/json",children:"application/json"}),n.jsx(M,{value:"application/xml",children:"application/xml"}),n.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(M,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(J,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select expected response type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"application/json",children:"application/json"}),n.jsx(M,{value:"application/xml",children:"application/xml"}),n.jsx(M,{value:"text/plain",children:"text/plain"}),n.jsx(M,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Se,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxySettings",children:"Proxy Settings"}),n.jsx(Se,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:c=>t("proxySettings",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:c=>t("responseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:c=>t("waitForResponse",c)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:c=>t("asyncCorrelationId",c.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication method"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(M,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(I,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(I,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(J,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:s,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select a business component"})}),n.jsx(Q,{className:"bg-background border z-50",children:r.map(c=>n.jsx(M,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(J,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select request structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(J,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(X,{className:"bg-background",children:n.jsx(Z,{placeholder:"Select response structure"})}),n.jsx(Q,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(M,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Se,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Se,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Se,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]})]})})]})}function gX({configuration:e,onConfigurationChange:t}){var o;const r=i=>{t("authentication.type",i),t("authentication.credentials",{})},s=(i,l)=>{var c;const d={...((c=e.authentication)==null?void 0:c.credentials)||{}};d[i]=l,t("authentication.credentials",d)},a=()=>{var d,c;const i=(d=e.authentication)==null?void 0:d.type,l=((c=e.authentication)==null?void 0:c.credentials)||{};switch(i){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:l.username||"",onChange:u=>s("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>s("password",u),showConfirmation:!1})})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:l.username||"",onChange:u=>s("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>s("password",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(J,{value:l.passwordType||"digest",onValueChange:u=>s("passwordType",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select password type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"digest",children:"Password Digest"}),n.jsx(M,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(J,{value:l.securityPolicy||"",onValueChange:u=>s("securityPolicy",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select security policy"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"usernametoken",children:"Username Token Only"}),n.jsx(M,{value:"timestamp",children:"Timestamp"}),n.jsx(M,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(M,{value:"sign",children:"Digital Sign"}),n.jsx(M,{value:"encrypt",children:"Encrypt"}),n.jsx(M,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(J,{value:l.wsAddressing||"disabled",onValueChange:u=>s("wsAddressing",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select WS-Addressing"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"disabled",children:"Disabled"}),n.jsx(M,{value:"optional",children:"Optional"}),n.jsx(M,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(I,{id:"timestamp-ttl",type:"number",value:l.timestampTTL||"",onChange:u=>s("timestampTTL",u.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(J,{value:l.securityAlgorithm||"",onValueChange:u=>s("securityAlgorithm",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select algorithm"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"aes128",children:"AES-128"}),n.jsx(M,{value:"aes256",children:"AES-256"}),n.jsx(M,{value:"3des",children:"Triple DES"}),n.jsx(M,{value:"rsa15",children:"RSA 1.5"}),n.jsx(M,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keystore-alias",children:"Private Key Alias"}),n.jsx(I,{id:"keystore-alias",value:l.keystoreAlias||"",onChange:u=>s("keystoreAlias",u.target.value),placeholder:"mykey"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"keystore-password",label:"Private Key Password",placeholder:"Enter private key password",value:l.keystorePassword||"",onValueChange:u=>s("keystorePassword",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"certificate-alias",children:"Certificate Alias"}),n.jsx(I,{id:"certificate-alias",value:l.certificateAlias||"",onChange:u=>s("certificateAlias",u.target.value),placeholder:"receiver-cert"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(J,{value:l.verifyServerCertificate||"true",onValueChange:u=>s("verifyServerCertificate",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select verification"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"true",children:"Yes"}),n.jsx(M,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Se,{id:"custom-policy",value:l.customPolicy||"",onChange:u=>s("customPolicy",u.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(J,{value:l.securityTokenReference||"binarySecurityToken",onValueChange:u=>s("securityTokenReference",u),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select token reference"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(M,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(M,{value:"x509Data",children:"X509 Data"}),n.jsx(M,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(I,{id:"auth-client-id",value:l.clientId||"",onChange:u=>s("clientId",u.target.value),placeholder:"Enter client ID"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(gt,{name:"auth-client-secret",label:"Client Secret",placeholder:"Enter client secret",value:l.clientSecret||"",onValueChange:u=>s("clientSecret",u),showConfirmation:!1})})]});default:return null}};return n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"SOAP Sender Configuration"}),n.jsx(ge,{children:"Configure your SOAP sender adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"service-endpoint",children:"Service Endpoint URL"}),n.jsx(I,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:i=>t("serviceEndpointUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(I,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:i=>t("wsdlUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(I,{id:"soap-action",value:e.soapAction||"",onChange:i=>t("soapAction",i.target.value),placeholder:"urn:getOrderDetails"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(J,{value:e.soapVersion||"",onValueChange:i=>t("soapVersion",i),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select SOAP version"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"1.1",children:"SOAP 1.1"}),n.jsx(M,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Se,{id:"request-message",value:e.requestMessage||"",onChange:i=>t("requestMessage",i.target.value),placeholder:"XML schema / structure expected in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(J,{value:e.contentType||"",onValueChange:i=>t("contentType",i),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select content type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"text/xml",children:"text/xml"}),n.jsx(M,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:i=>t("processingMode",i?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:i=>t("asyncResponseTimeout",parseInt(i.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(J,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:i=>t("asyncResponseFormat",i),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select response format"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:i=>t("asyncCallbackUrl",i.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(J,{value:((o=e.authentication)==null?void 0:o.type)||"none",onValueChange:r,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(M,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(J,{value:e.wsSecurityPolicyType||"",onValueChange:i=>t("wsSecurityPolicyType",i),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Define Parameter"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),a()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Se,{id:"custom-headers",value:e.customHeaders||"",onChange:i=>t("customHeaders",i.target.value),placeholder:"Additional headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Se,{id:"fault-handling",value:e.faultHandling||"",onChange:i=>t("faultHandling",i.target.value),placeholder:"Expected fault codes and handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Se,{id:"response-message",value:e.responseMessage||"",onChange:i=>t("responseMessage",i.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Se,{id:"error-handling",value:e.errorHandling||"",onChange:i=>t("errorHandling",i.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:i=>t("timeout",parseInt(i.target.value)||0),placeholder:"30"})]})]})]})]})]})})]})}function vX({configuration:e,onConfigurationChange:t,businessComponentId:r}){var i;const s=l=>{t("authentication.type",l),t("authentication.credentials",{})},a=(l,d)=>{var u;const c={...((u=e.authentication)==null?void 0:u.credentials)||{}};c[l]=d,t("authentication.credentials",c)},o=()=>{var c,u;const l=(c=e.authentication)==null?void 0:c.type,d=((u=e.authentication)==null?void 0:u.credentials)||{};switch(l){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:d.username||"",onChange:m=>a("username",m.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-password",children:"Password"}),n.jsx(I,{id:"auth-password",type:"password",value:d.password||"",onChange:m=>a("password",m.target.value),placeholder:"Enter password"})]})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:d.username||"",onChange:m=>a("username",m.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-password",children:"Password"}),n.jsx(I,{id:"auth-password",type:"password",value:d.password||"",onChange:m=>a("password",m.target.value),placeholder:"Enter password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(J,{value:d.passwordType||"digest",onValueChange:m=>a("passwordType",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select password type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"digest",children:"Password Digest"}),n.jsx(M,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(J,{value:d.securityPolicy||"",onValueChange:m=>a("securityPolicy",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select security policy"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"usernametoken",children:"Username Token Only"}),n.jsx(M,{value:"timestamp",children:"Timestamp"}),n.jsx(M,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(M,{value:"sign",children:"Digital Sign"}),n.jsx(M,{value:"encrypt",children:"Encrypt"}),n.jsx(M,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(J,{value:d.wsAddressing||"disabled",onValueChange:m=>a("wsAddressing",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select WS-Addressing"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"disabled",children:"Disabled"}),n.jsx(M,{value:"optional",children:"Optional"}),n.jsx(M,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(I,{id:"timestamp-ttl",type:"number",value:d.timestampTTL||"",onChange:m=>a("timestampTTL",m.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(J,{value:d.securityAlgorithm||"",onValueChange:m=>a("securityAlgorithm",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select algorithm"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"aes128",children:"AES-128"}),n.jsx(M,{value:"aes256",children:"AES-256"}),n.jsx(M,{value:"3des",children:"Triple DES"}),n.jsx(M,{value:"rsa15",children:"RSA 1.5"}),n.jsx(M,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx(f0,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:m=>t("certificateId",m),businessComponentId:r,placeholder:"Select SOAP certificate",required:!0}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(J,{value:e.verifyServerCertificate||"true",onValueChange:m=>t("verifyServerCertificate",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select verification"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"true",children:"Yes"}),n.jsx(M,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Se,{id:"custom-policy",value:d.customPolicy||"",onChange:m=>a("customPolicy",m.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(J,{value:d.securityTokenReference||"binarySecurityToken",onValueChange:m=>a("securityTokenReference",m),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select token reference"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(M,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(M,{value:"x509Data",children:"X509 Data"}),n.jsx(M,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(I,{id:"auth-client-id",value:d.clientId||"",onChange:m=>a("clientId",m.target.value),placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-secret",children:"Client Secret"}),n.jsx(I,{id:"auth-client-secret",type:"password",value:d.clientSecret||"",onChange:m=>a("clientSecret",m.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"SOAP Receiver Configuration"}),n.jsx(ge,{children:"Configure your SOAP receiver adapter settings"})]}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),n.jsx(I,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:l=>t("targetEndpointUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(I,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:l=>t("wsdlUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(I,{id:"soap-action",value:e.soapAction||"",onChange:l=>t("soapAction",l.target.value),placeholder:"urn:submitOrder"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(J,{value:e.soapVersion||"",onValueChange:l=>t("soapVersion",l),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select SOAP version"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"1.1",children:"SOAP 1.1"}),n.jsx(M,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Se,{id:"request-message",value:e.requestMessage||"",onChange:l=>t("requestMessage",l.target.value),placeholder:"XML schema / structure sent in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(J,{value:e.contentType||"",onValueChange:l=>t("contentType",l),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select content type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"text/xml",children:"text/xml"}),n.jsx(M,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),n.jsx(I,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:l=>t("connectionTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),n.jsx(I,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:l=>t("readTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(S,{htmlFor:"proxy-settings",children:"Proxy Settings"}),n.jsx(I,{id:"proxy-settings",value:e.proxySettings||"",onChange:l=>t("proxySettings",l.target.value),placeholder:"Optional proxy hostname and port"})]})]})]})]}),n.jsxs(je,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(Ca,{id:"processingMode",checked:e.processingMode==="ASYNCHRONOUS",onCheckedChange:l=>t("processingMode",l?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),e.processingMode==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:l=>t("responseTimeout",parseInt(l.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:l=>t("waitForResponse",l)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:l=>t("asyncCorrelationId",l.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(J,{value:((i=e.authentication)==null?void 0:i.type)||"none",onValueChange:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select authentication type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(M,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(J,{value:e.wsSecurityPolicyType||"",onValueChange:l=>t("wsSecurityPolicyType",l),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Define Parameter"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),o()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Se,{id:"custom-headers",value:e.customHeaders||"",onChange:l=>t("customHeaders",l.target.value),placeholder:"Additional SOAP headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Se,{id:"fault-handling",value:e.faultHandling||"",onChange:l=>t("faultHandling",l.target.value),placeholder:"Expected fault codes and fault handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Se,{id:"response-message",value:e.responseMessage||"",onChange:l=>t("responseMessage",l.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Se,{id:"error-handling",value:e.errorHandling||"",onChange:l=>t("errorHandling",l.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retry-policy",children:"Retry Policy"}),n.jsx(Se,{id:"retry-policy",value:e.retryPolicy||"",onChange:l=>t("retryPolicy",l.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]})]})]})})]})}const yX=({configuration:e,onConfigurationChange:t})=>{var s;const r=()=>{var o,i,l,d,c,u,m,h,f,v,x,w,j,g,y,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Password"}),n.jsx(I,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",value:((m=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:m.clientId)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",value:((f=(h=e.authentication)==null?void 0:h.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",value:((x=(v=e.authentication)==null?void 0:v.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"scope",children:"Scope"}),n.jsx(I,{id:"scope",value:((j=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:j.scope)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKey",children:"API Key"}),n.jsx(I,{id:"apiKey",type:"password",value:((y=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:y.apiKey)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(I,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsx(je,{value:"target",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(I,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(I,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Products, Orders"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(J,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select OData version"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"v2",children:"v2"}),n.jsx(M,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:((s=e.authentication)==null?void 0:s.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"oauth2",children:"OAuth2"}),n.jsx(M,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),r(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryOptions",children:"Query Options"}),n.jsx(Se,{id:"queryOptions",value:e.queryOptions||"",onChange:a=>t("queryOptions",a.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Data Handling"}),n.jsx(ge,{children:"Configure data processing and validation"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map ProductID to id",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Se,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},jX=({configuration:e,onConfigurationChange:t})=>{var s;const r=()=>{var o,i,l,d,c,u,m,h,f,v,x,w,j,g,y,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Password"}),n.jsx(I,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",value:((m=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:m.clientId)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",value:((f=(h=e.authentication)==null?void 0:h.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",value:((x=(v=e.authentication)==null?void 0:v.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"scope",children:"Scope"}),n.jsx(I,{id:"scope",value:((j=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:j.scope)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKey",children:"API Key"}),n.jsx(I,{id:"apiKey",type:"password",value:((y=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:y.apiKey)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(I,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsx(je,{value:"source",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(I,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(I,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Orders, Customers"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(J,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select OData version"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"v2",children:"v2"}),n.jsx(M,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(J,{value:((s=e.authentication)==null?void 0:s.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"none",children:"None"}),n.jsx(M,{value:"basic",children:"Basic Auth"}),n.jsx(M,{value:"oauth2",children:"OAuth2"}),n.jsx(M,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),r(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Data Preparation"}),n.jsx(ge,{children:"Configure data processing and validation before sending"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map OrderID to OrderId",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Se,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},wX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"target",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"target",children:"Target"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"target",className:"space-y-6",children:[n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:r=>t("portNumber",r.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(J,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"TCP",children:"TCP/IP"}),n.jsx(M,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:r=>t("sapPassword",r.target.value),placeholder:"secret"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:r=>t("listenerServiceName",r.target.value),placeholder:"RfcReceiverService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Data Handling"}),n.jsx(ge,{children:"Configuration for handling received RFC data"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Se,{id:"validationRules",value:e.validationRules||"",onChange:r=>t("validationRules",r.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),NX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"source",className:"space-y-6",children:[n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",value:e.sapSystemId||"",onChange:r=>t("sapSystemId",r.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:r=>t("sapClientNumber",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:r=>t("sapSystemNumber",r.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:r=>t("sapApplicationServerHost",r.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:r=>t("sapGatewayHost",r.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:r=>t("sapGatewayService",r.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:r=>t("portNumber",r.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(J,{value:e.connectionType||"",onValueChange:r=>t("connectionType",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select connection type"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"TCP",children:"TCP/IP"}),n.jsx(M,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",value:e.sapUser||"",onChange:r=>t("sapUser",r.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gt,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:r=>t("sapPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:r=>t("rfcDestinationName",r.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"callerServiceName",children:"Caller Service Name"}),n.jsx(I,{id:"callerServiceName",value:e.callerServiceName||"",onChange:r=>t("callerServiceName",r.target.value),placeholder:"RfcSenderService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Data Preparation"}),n.jsx(ge,{children:"Configuration for preparing data before sending to SAP"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Se,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map OrderID to VBELN",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Se,{id:"validationRules",value:e.validationRules||"",onChange:r=>t("validationRules",r.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),bX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsxs(je,{value:"source",className:"space-y-6",children:[n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Mail Server Connection"}),n.jsx(ge,{children:"Configure connection to the incoming mail server"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailServerHost",children:"Mail Server Host"}),n.jsx(I,{id:"mailServerHost",value:e.mailServerHost||"",onChange:r=>t("mailServerHost",r.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailServerPort",children:"Mail Server Port"}),n.jsx(I,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:r=>t("mailServerPort",r.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailProtocol",children:"Protocol"}),n.jsxs(J,{value:e.mailProtocol||"",onValueChange:r=>t("mailProtocol",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select mail protocol"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"IMAP",children:"IMAP"}),n.jsx(M,{value:"POP3",children:"POP3"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailUsername",children:"Username"}),n.jsx(I,{id:"mailUsername",value:e.mailUsername||"",onChange:r=>t("mailUsername",r.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gt,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:r=>t("mailPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:r=>t("useSSLTLS",r)}),n.jsx(S,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"folderName",children:"Folder Name"}),n.jsx(I,{id:"folderName",value:e.folderName||"INBOX",onChange:r=>t("folderName",r.target.value),placeholder:"INBOX"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),n.jsx(I,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:r=>t("pollingInterval",r.target.value),placeholder:"60000"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Message Filtering and Fetching"}),n.jsx(ge,{children:"Configure email search criteria and limits"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"searchCriteria",children:"Search Criteria"}),n.jsx(I,{id:"searchCriteria",value:e.searchCriteria||"",onChange:r=>t("searchCriteria",r.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxMessages",children:"Max Messages"}),n.jsx(I,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:r=>t("maxMessages",r.target.value),placeholder:"100"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Message Processing"}),n.jsx(ge,{children:"Configure how emails are processed after retrieval"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentHandling",children:"Content Handling"}),n.jsx(Se,{id:"contentHandling",value:e.contentHandling||"",onChange:r=>t("contentHandling",r.target.value),placeholder:"Save attachments, parse body text",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailEncoding",children:"Encoding"}),n.jsxs(J,{value:e.mailEncoding||"",onValueChange:r=>t("mailEncoding",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select encoding"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"UTF-8",children:"UTF-8"}),n.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(M,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:r=>t("deleteAfterFetch",r)}),n.jsx(S,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),SX=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(Ye,{defaultValue:"source",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsx(be,{value:"source",children:"Source"}),n.jsx(be,{value:"processing",children:"Processing"})]}),n.jsx(je,{value:"source",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"SMTP Server Connection"}),n.jsx(ge,{children:"Configure connection to the SMTP server for sending emails"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),n.jsx(I,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:r=>t("smtpServerHost",r.target.value),placeholder:"smtp.mailserver.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),n.jsx(I,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:r=>t("smtpServerPort",r.target.value),placeholder:"587 (TLS), 465 (SSL)"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[n.jsx(Ie,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:r=>t("smtpUseSSLTLS",r)}),n.jsx(S,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpUsername",children:"Username"}),n.jsx(I,{id:"smtpUsername",value:e.smtpUsername||"",onChange:r=>t("smtpUsername",r.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(gt,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:r=>t("smtpPassword",r),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),n.jsx(I,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:r=>t("connectionTimeout",r.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),n.jsx(I,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:r=>t("readTimeout",r.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),n.jsx(je,{value:"processing",className:"space-y-6",children:n.jsxs(ee,{children:[n.jsxs(re,{children:[n.jsx(se,{children:"Message Preparation"}),n.jsx(ge,{children:"Configure email content and recipients"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fromAddress",children:"From Address"}),n.jsx(I,{id:"fromAddress",value:e.fromAddress||"",onChange:r=>t("fromAddress",r.target.value),placeholder:"sender@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"toAddresses",children:"To Addresses"}),n.jsx(Se,{id:"toAddresses",value:e.toAddresses||"",onChange:r=>t("toAddresses",r.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ccAddresses",children:"CC Addresses"}),n.jsx(Se,{id:"ccAddresses",value:e.ccAddresses||"",onChange:r=>t("ccAddresses",r.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bccAddresses",children:"BCC Addresses"}),n.jsx(Se,{id:"bccAddresses",value:e.bccAddresses||"",onChange:r=>t("bccAddresses",r.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailSubject",children:"Subject"}),n.jsx(I,{id:"emailSubject",value:e.emailSubject||"",onChange:r=>t("emailSubject",r.target.value),placeholder:"Order Confirmation"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailBody",children:"Body"}),n.jsx(Se,{id:"emailBody",value:e.emailBody||"",onChange:r=>t("emailBody",r.target.value),placeholder:"Email content - plain text or HTML",rows:6}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailAttachments",children:"Attachments"}),n.jsx(Se,{id:"emailAttachments",value:e.emailAttachments||"",onChange:r=>t("emailAttachments",r.target.value),placeholder:"PDF, images, etc.",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailEncoding",children:"Encoding"}),n.jsxs(J,{value:e.emailEncoding||"",onValueChange:r=>t("emailEncoding",r),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select encoding"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"UTF-8",children:"UTF-8"}),n.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(M,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class CX{constructor(){et(this,"mockServers",new Map)}async validateAdapter(t){const r=Date.now(),s=[],a=[],o=[];try{const i=this.validateConfiguration(t);i.isValid||(s.push(...i.errors),a.push(...i.warnings)),await this.setupMockServers(t.adapterType);for(const d of t.testScenarios){const c=await this.runTestScenario(t,d);o.push(c),c.status==="failed"&&s.push(`Test '${d.name}' failed: ${c.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-r;return ih({title:"Adapter Validation Complete",description:`${o.length} tests completed in ${l}ms`,variant:o.some(d=>d.status==="failed")?"destructive":"default"}),{isValid:s.length===0,errors:s,warnings:a,testResults:o}}catch(i){return s.push(`Validation failed: ${i instanceof Error?i.message:"Unknown error"}`),{isValid:!1,errors:s,warnings:a,testResults:o}}}validateConfiguration(t){const r=[],s=[],a=this.getRequiredFields(t.adapterType);for(const o of a)t.configuration[o]||r.push(`Required field '${o}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,r,s);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,r,s);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,r,s);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,r,s);break}return{isValid:r.length===0,errors:r,warnings:s}}validateHttpConfiguration(t,r,s){if(t.url)try{new URL(t.url)}catch{r.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&r.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&s.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,r,s){t.host||r.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&r.push("Invalid port number"),t.username||s.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,r,s){t.connectionUrl||r.push("JDBC connection URL is required"),t.driverClass||r.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&r.push("Invalid JDBC URL format")}validateSoapConfiguration(t,r,s){if(!t.wsdlUrl&&!t.endpointUrl&&r.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{r.push("Invalid WSDL URL format")}}async runTestScenario(t,r){const s=Date.now();try{switch(r.type){case"connection":return await this.testConnection(t,r);case"authentication":return await this.testAuthentication(t,r);case"data_transmission":return await this.testDataTransmission(t,r);case"error_handling":return await this.testErrorHandling(t,r);default:throw new Error(`Unknown test scenario type: ${r.type}`)}}catch(a){return{testName:r.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-s}}}async testConnection(t,r){const s=Date.now();await new Promise(i=>setTimeout(i,1e3));const a=this.mockServers.get(t.adapterType),o=(a==null?void 0:a.isRunning())??!0;return{testName:r.name,status:o?"passed":"failed",message:o?"Connection successful":"Connection failed",duration:Date.now()-s}}async testAuthentication(t,r){const s=Date.now();await new Promise(o=>setTimeout(o,800));const a=t.configuration.username&&t.configuration.password;return{testName:r.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-s}}async testDataTransmission(t,r){const s=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:r.name,status:"passed",message:"Data transmission successful",duration:Date.now()-s}}async testErrorHandling(t,r){const s=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:r.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-s}}async setupMockServers(t){const r=new EX(t);await r.start(),this.mockServers.set(t,r)}async cleanupMockServers(t){const r=this.mockServers.get(t);r&&(await r.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class EX{constructor(t){et(this,"running",!1);this.adapterType=t}async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const NM=new CX,PX=({adapterType:e,configuration:t,children:r})=>{var x,w,j;const[s,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),[c,u]=p.useState(0),m=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],h=async()=>{if(!t||Object.keys(t).length===0){ih({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}i(!0),u(0),d(null);try{const g={adapterType:e,configuration:t,testScenarios:m},y=setInterval(()=>{u(b=>Math.min(b+20,90))},500),N=await NM.validateAdapter(g);clearInterval(y),u(100),d(N)}catch(g){ih({title:"Validation Failed",description:g instanceof Error?g.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),1e3)}},f=g=>{switch(g){case"passed":return n.jsx(Or,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(Ya,{className:"h-4 w-4 text-red-500"});case"warning":return n.jsx(ms,{className:"h-4 w-4 text-yellow-500"});default:return null}},v=g=>{const y={passed:"default",failed:"destructive",warning:"secondary"};return n.jsx(ce,{variant:y[g]||"outline",children:g})};return n.jsxs(vt,{open:s,onOpenChange:a,children:[n.jsx(io,{asChild:!0,children:r}),n.jsxs(mt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(yt,{children:n.jsxs(jt,{className:"flex items-center gap-2",children:[n.jsx(aw,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(se,{className:"text-lg",children:"Validation Controls"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),n.jsx(W,{onClick:h,disabled:o,className:"flex items-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx(ss,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(aw,{className:"h-4 w-4"}),"Run Validation"]})})]}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Validation Progress"}),n.jsxs("span",{children:[c,"%"]})]}),n.jsx(Mm,{value:c,className:"h-2"})]})]})]}),l&&n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[l.isValid?n.jsx(Or,{className:"h-5 w-5 text-green-500"}):n.jsx(Ya,{className:"h-5 w-5 text-red-500"}),"Validation Results"]})}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"summary",className:"w-full",children:[n.jsxs(qe,{children:[n.jsx(be,{value:"summary",children:"Summary"}),n.jsx(be,{value:"tests",children:"Test Results"}),n.jsx(be,{value:"errors",children:"Issues"})]}),n.jsxs(je,{value:"summary",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(ee,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center",children:((x=l.testResults)==null?void 0:x.filter(g=>g.status==="passed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),n.jsx(ee,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-red-500",children:((w=l.testResults)==null?void 0:w.filter(g=>g.status==="failed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),n.jsx(ee,{children:n.jsxs(te,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-yellow-500",children:l.warnings.length}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),n.jsx($n,{children:n.jsx(Un,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),n.jsx(je,{value:"tests",className:"space-y-4",children:(j=l.testResults)==null?void 0:j.map((g,y)=>n.jsx(ee,{children:n.jsx(te,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[f(g.status),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:g.testName}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.message})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[v(g.status),g.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.duration,"ms"]})]})]})})},y))}),n.jsxs(je,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-red-500",children:"Errors"}),l.errors.map((g,y)=>n.jsxs($n,{variant:"destructive",children:[n.jsx(Ya,{className:"h-4 w-4"}),n.jsx(Un,{children:g})]},y))]}),l.warnings.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-yellow-500",children:"Warnings"}),l.warnings.map((g,y)=>n.jsxs($n,{children:[n.jsx(ms,{className:"h-4 w-4"}),n.jsx(Un,{children:g})]},y))]}),l.errors.length===0&&l.warnings.length===0&&n.jsxs($n,{children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx(Un,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},Pb=[{id:"sms-gateway",name:"SMS Gateway",icon:YO,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:Gt,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:UC,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:Ix,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:ro,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:Ys,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:td,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:Qt,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:Vv,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:$O,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:zt,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:RO,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:_C,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:no,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:nd,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],kX=()=>{const[e,t]=p.useState(null),[r,s]=p.useState(""),[a,o]=p.useState(""),[i,l]=p.useState("sender"),[d,c]=p.useState(""),[u,m]=p.useState(!0),[h,f]=p.useState({}),[v,x]=p.useState(!1),[w,j]=p.useState("idle"),[g,y]=p.useState(!1),{toast:N}=wt(),b=Pb.find(T=>T.id===r),E=T=>{switch(T){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},C=(T,_)=>{f(k=>({...k,[T]:_}))},P=async()=>{if(!r){N({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}x(!0),j("idle");try{await new Promise(_=>setTimeout(_,2e3)),Math.random()>.3?(j("success"),N({title:"Connection Successful",description:`Successfully connected to ${b==null?void 0:b.name}`,variant:"default"})):(j("error"),N({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{j("error"),N({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{x(!1)}},O=()=>{if(!e){N({title:"Validation Error",description:"Please select a customer for this adapter",variant:"destructive"});return}if(!a||!r||!i){N({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}const _=((b==null?void 0:b.fields.filter(k=>k.required))||[]).filter(k=>!h[k.name]);if(_.length>0){N({title:"Missing Required Fields",description:`Please fill in: ${_.map(k=>k.label).join(", ")}`,variant:"destructive"});return}N({title:"Adapter Saved Successfully",description:`Communication adapter "${a}" has been created`,variant:"default"}),t(null),o(""),l(""),c(""),m(!0),s(""),f({}),j("idle")};return n.jsxs(n.Fragment,{children:[g&&n.jsx(o0,{onClose:()=>y(!1)}),n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(HC,{className:"h-8 w-8"}),"Create Communication Adapter"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(rX,{selectedBusinessComponent:e,setSelectedBusinessComponent:t}),n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(se,{children:"Adapter Details"}),n.jsx(ge,{children:"Basic information for your communication adapter"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterName",children:"Adapter Name *"}),n.jsx(I,{id:"adapterName",placeholder:"e.g., Production Email Server",value:a,onChange:T=>o(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:d,onChange:T=>c(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"isActive",checked:u,onCheckedChange:T=>m(T===!0)}),n.jsxs(S,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",n.jsx(ce,{variant:u?"default":"secondary",className:"text-xs",children:u?"Active":"Inactive"})]})]})]})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Adapter Type Selection"}),n.jsx(ge,{children:"Choose the type of communication adapter to configure"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterType",children:"Adapter Type *"}),n.jsx(ZG,{options:Pb.map(T=>({value:T.id,label:T.name,icon:T.icon,category:T.category,description:T.description})),value:r,onValueChange:T=>{s(T),f({})},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(b.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:b.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:b.category})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterMode",children:"Adapter Mode *"}),n.jsxs(J,{value:i,onValueChange:T=>{l(T),f({})},children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:"Select adapter mode"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"sender",children:"Sender"}),n.jsx(M,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),b&&i&&n.jsx(n.Fragment,{children:r==="ftp"?n.jsx(sX,{mode:i,onConfigChange:f}):r==="sftp"?n.jsx(aX,{mode:i,onConfigChange:f}):r==="file"?n.jsx(oX,{mode:i,onConfigChange:f}):r==="http"&&i==="sender"?n.jsx(iX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="http"&&i==="receiver"?n.jsx(lX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="idoc"&&i==="sender"?n.jsx(dX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="idoc"&&i==="receiver"?n.jsx(hX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="jms"&&i==="sender"?n.jsx(mX,{adapter:{name:"",type:"jms",mode:"outbound",configuration:h,status:"inactive"},onUpdate:T=>f(T.configuration)}):r==="jms"&&i==="receiver"?n.jsx(pX,{adapter:{name:"",type:"jms",mode:"inbound",configuration:h,status:"inactive"},onUpdate:T=>f(T.configuration)}):r==="rest"&&i==="sender"?n.jsx(fX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="rest"&&i==="receiver"?n.jsx(xX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="soap"&&i==="sender"?n.jsx(gX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="soap"&&i==="receiver"?n.jsx(vX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="odata"&&i==="sender"?n.jsx(jX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="odata"&&i==="receiver"?n.jsx(yX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="rfc"&&i==="sender"?n.jsx(NX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="rfc"&&i==="receiver"?n.jsx(wX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="mail"&&i==="sender"?n.jsx(SX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):r==="mail"&&i==="receiver"?n.jsx(bX,{configuration:h,onConfigurationChange:(T,_)=>C(T,_)}):n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(b.icon,{className:"h-5 w-5"}),b.name," Configuration"]}),n.jsx(ge,{children:"Configure the connection parameters and authentication"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.fields.filter(T=>!(T.conditionalField==="receiver"&&i==="sender"||T.conditionalField==="sender"&&i==="receiver"||T.parentField&&T.parentValue&&h[T.parentField]!==T.parentValue)).map(T=>{var _;return n.jsx("div",{className:T.name==="url"||T.name==="webhookUrl"||T.name==="customHeaders"||T.type==="password"?"md:col-span-2":"",children:T.type==="jar-selector"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(nX,{selectedJarId:h[T.name]||"",onJarSelect:k=>C(T.name,k),label:"",placeholder:`Choose ${T.label}`,driverTypeFilter:T.driverTypeFilter||void 0})]}):T.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(J,{value:h[T.name]||"",onValueChange:k=>C(T.name,k),children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:`Select ${T.label}`})}),n.jsx(Q,{className:"bg-card border-border shadow-lg z-50",children:(_=T.options)==null?void 0:_.map(k=>n.jsx(M,{value:k,children:k},k))})]})]}):T.type==="textarea"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Se,{id:T.name,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>C(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):T.type==="checkbox"?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{id:T.name,type:"checkbox",checked:h[T.name]==="true"||h[T.name]===!0||h[T.name]==="on",onChange:k=>C(T.name,k.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),n.jsx(S,{htmlFor:T.name,className:"text-sm font-normal",children:T.label})]}):T.type==="password"?n.jsx(gt,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:h[T.name]||"",onValueChange:k=>C(T.name,k)}):n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(I,{id:T.name,type:T.type,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>C(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)}),h.authType&&h.authType!=="None"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(We,{className:"my-4"}),n.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[h.authType," Configuration"]})]}),E(h.authType).map(T=>{var _;return n.jsx("div",{className:T.name.includes("Url")||T.name.includes("url")||T.type==="password"?"md:col-span-2":"",children:T.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(J,{value:h[T.name]||"",onValueChange:k=>C(T.name,k),children:[n.jsx(X,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(Z,{placeholder:`Select ${T.label}`})}),n.jsx(Q,{className:"bg-card border-border shadow-lg z-50",children:(_=T.options)==null?void 0:_.map(k=>n.jsx(M,{value:k,children:k},k))})]})]}):T.type==="password"?n.jsx(gt,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:h[T.name]||"",onValueChange:k=>C(T.name,k)}):n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(I,{id:T.name,type:T.type,placeholder:T.placeholder,value:h[T.name]||"",onChange:k=>C(T.name,k.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)})]})]})})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Connection Testing"}),n.jsx(ge,{children:"Test your adapter configuration"})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsx(W,{onClick:P,disabled:!r||v,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:v?n.jsxs(n.Fragment,{children:[n.jsx(zp,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zp,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),r==="soap"&&n.jsxs(W,{onClick:()=>y(!0),className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(_C,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),w!=="idle"&&n.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${w==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[w==="success"?n.jsx(Or,{className:"h-4 w-4"}):n.jsx(da,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:w==="success"?"Connection Successful":"Connection Failed"})]}),n.jsx(We,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(PX,{adapterType:(b==null?void 0:b.id)||"",configuration:h,children:n.jsxs(W,{variant:"outline",className:"w-full",disabled:!b,children:[n.jsx(zp,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),n.jsxs(W,{onClick:O,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(ha,{className:"h-4 w-4 mr-2"}),"Save Adapter"]})]})]})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(re,{children:n.jsx(se,{children:"Configuration Summary"})}),n.jsx(te,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(ce,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:(b==null?void 0:b.name)||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),n.jsx("span",{children:i||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"}),n.jsx("span",{children:(b==null?void 0:b.category)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),n.jsx(ce,{variant:w==="success"?"default":w==="error"?"destructive":"secondary",children:w==="success"?"Verified":w==="error"?"Failed":"Not tested"})]})]})})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(re,{children:n.jsx(se,{children:"Security Notes"})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Sn,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ua,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Test connections before using in production"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(_i,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})},TX=({structureName:e,setStructureName:t,structureDescription:r,setStructureDescription:s})=>n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsx(se,{children:"Create Data Structure"}),n.jsx(ge,{children:"Import existing schemas or create custom structures"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"structureName",children:"Structure Name *"}),n.jsx(I,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:a=>t(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:r,onChange:a=>s(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})})]}),AX=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:r,loading:s}=zr();return n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this data structure belongs to"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(J,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=r.find(i=>i.id===a)||null;t(o)},disabled:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a business component"})}),n.jsx(Q,{children:r.map(a=>n.jsx(M,{value:a.id,children:a.name},a.id))})]})]})})]})},tp=({icon:e,title:t,description:r,acceptTypes:s,dragOver:a,onDrop:o,onDragOver:i,onDragLeave:l,onFileSelect:d,uploadId:c,buttonText:u})=>n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:o,onDragOver:i,onDragLeave:l,children:[n.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r}),n.jsx("input",{type:"file",accept:s,onChange:m=>{var h;return((h=m.target.files)==null?void 0:h[0])&&d(m.target.files[0])},className:"hidden",id:c}),n.jsxs(W,{variant:"outline",onClick:()=>{var m;return(m=document.getElementById(c))==null?void 0:m.click()},children:[n.jsx(Hv,{className:"h-4 w-4 mr-2"}),u]})]}),MX=({jsonInput:e,setJsonInput:t,onResetAllFields:r})=>{const[s,a]=p.useState(!1),{toast:o}=wt(),i=c=>{const u=new FileReader;u.onload=m=>{var f;const h=(f=m.target)==null?void 0:f.result;try{const v=JSON.parse(h);t(JSON.stringify(v,null,2)),o({title:"JSON File Loaded",description:`Successfully loaded ${c.name}`})}catch{o({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},u.readAsText(c)},l=c=>{c.preventDefault(),a(!1);const u=Array.from(c.dataTransfer.files);u.length>0&&i(u[0])},d=()=>{r(),o({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(tp,{icon:Uv,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:s,onDrop:l,onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onFileSelect:i,uploadId:"json-upload",buttonText:"Upload JSON File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"JSON Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[n.jsx(lt,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),n.jsx(Se,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:c=>t(c.target.value),className:"font-mono text-sm",rows:8})]})]})},x0=({type:e,namespaceConfig:t,setNamespaceConfig:r})=>{const s=e==="wsdl";return n.jsxs(ee,{className:"p-4 bg-muted/30",children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4"}),s?"WSDL":"XML"," Namespace Configuration"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:s?"Service Namespace *":"Namespace URI *"}),n.jsx(I,{placeholder:s?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:a=>r({...t,uri:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:s?"Service Prefix":"Namespace Prefix"}),n.jsx(I,{placeholder:s?"svc":"ns1",value:t.prefix,onChange:a=>r({...t,prefix:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:"Target Namespace"}),n.jsx(I,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:a=>r({...t,targetNamespace:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:s?"WSDL Location":"Schema Location"}),n.jsx(I,{placeholder:s?"http://example.com/service.wsdl":"http://example.com/schema.xsd",value:t.schemaLocation,onChange:a=>r({...t,schemaLocation:a.target.value}),className:"text-sm"})]})]})]})},DX=({xsdInput:e,setXsdInput:t,namespaceConfig:r,setNamespaceConfig:s,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=wt(),d=m=>{const h=new FileReader;h.onload=f=>{var x;const v=(x=f.target)==null?void 0:x.result;t(v),l({title:"XSD File Loaded",description:`Successfully loaded ${m.name}`})},h.readAsText(m)},c=m=>{m.preventDefault(),i(!1);const h=Array.from(m.dataTransfer.files);h.length>0&&d(h[0])},u=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(x0,{type:"xml",namespaceConfig:r,setNamespaceConfig:s}),!e.trim()&&n.jsx(tp,{icon:td,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:o,onDrop:c,onDragOver:m=>{m.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onFileSelect:d,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"XSD/SOAP Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:[n.jsx(lt,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),n.jsx(Se,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:m=>t(m.target.value),className:"font-mono text-sm",rows:8})]})]})},RX=({wsdlInput:e,setWsdlInput:t,namespaceConfig:r,setNamespaceConfig:s,onWsdlAnalyzed:a,onResetAllFields:o})=>{const[i,l]=p.useState(!1),{toast:d}=wt(),c=f=>{const v=$U(f),x=UU(f);x&&s(x),a&&a(v,x)},u=f=>{const v=new FileReader;v.onload=x=>{var j;const w=(j=x.target)==null?void 0:j.result;t(w),c(w),d({title:"WSDL File Loaded",description:`Successfully loaded ${f.name}`})},v.readAsText(f)},m=f=>{f.preventDefault(),l(!1);const v=Array.from(f.dataTransfer.files);v.length>0&&u(v[0])},h=()=>{o(),d({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(x0,{type:"wsdl",namespaceConfig:r,setNamespaceConfig:s}),!e.trim()&&n.jsx(tp,{icon:td,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:i,onDrop:m,onDragOver:f=>{f.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onFileSelect:u,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"WSDL Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(lt,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),n.jsx(Se,{placeholder:"Paste your WSDL definition here...",value:e,onChange:f=>{const v=f.target.value;t(v),v.trim()&&c(v)},className:"font-mono text-sm",rows:8})]})]})},_X=({edmxInput:e,setEdmxInput:t,namespaceConfig:r,setNamespaceConfig:s,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=wt(),d=f=>{f.preventDefault(),i(!1);const v=f.dataTransfer.files;v[0]&&m(v[0])},c=f=>{f.preventDefault(),i(!0)},u=()=>{i(!1)},m=f=>{const v=new FileReader;v.onload=x=>{var j;const w=(j=x.target)==null?void 0:j.result;t(w),l({title:"EDMX File Loaded",description:`Successfully loaded ${f.name}`})},v.readAsText(f)},h=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(tp,{icon:td,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:o,onDrop:d,onDragOver:c,onDragLeave:u,onFileSelect:m,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(lt,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),n.jsx(Se,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:f=>t(f.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),n.jsx(x0,{type:"xml",namespaceConfig:r,setNamespaceConfig:s})]})},FX=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],OX=({field:e,canHaveChildren:t,isExpanded:r,onToggleExpanded:s,onUpdate:a,onRemove:o,depth:i})=>n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[n.jsx("div",{className:"col-span-1 flex items-center",children:t&&n.jsx(W,{onClick:s,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:r?n.jsx(ur,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"})})}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Field Name"}),n.jsx(I,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(S,{className:"text-xs",children:"Type"}),n.jsxs(J,{value:e.type,onValueChange:l=>a({type:l}),children:[n.jsx(X,{className:"text-sm",children:n.jsx(Z,{})}),n.jsx(Q,{children:FX.map(l=>n.jsx(M,{value:l,children:l},l))})]})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Description"}),n.jsx(I,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),n.jsx("span",{children:"Required"})]})}),n.jsx("div",{className:"col-span-1",children:n.jsx(W,{onClick:o,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:n.jsx(Na,{className:"h-3 w-3"})})})]}),IX=({field:e,canHaveChildren:t,onUpdate:r,onAddChild:s})=>{var a;return n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[n.jsx("div",{className:"col-span-1"}),n.jsx("div",{className:"col-span-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:o=>r({isComplexType:o.target.checked}),className:"rounded"}),n.jsx("span",{children:"Complex Type"})]})}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(S,{className:"text-xs",children:"Min Occurs"}),n.jsx(I,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:o=>r({minOccurs:parseInt(o.target.value)||0}),className:"text-sm"})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Max Occurs"}),n.jsxs(J,{value:((a=e.maxOccurs)==null?void 0:a.toString())||"1",onValueChange:o=>r({maxOccurs:o==="unbounded"?"unbounded":parseInt(o)}),children:[n.jsx(X,{className:"text-sm",children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"1",children:"1"}),n.jsx(M,{value:"2",children:"2"}),n.jsx(M,{value:"5",children:"5"}),n.jsx(M,{value:"10",children:"10"}),n.jsx(M,{value:"unbounded",children:"Unbounded"})]})]})]}),n.jsx("div",{className:"col-span-3",children:t&&n.jsxs(W,{onClick:s,size:"sm",variant:"outline",className:"w-full hover-scale",children:[n.jsx(hr,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]})},LX=({field:e,canHaveChildren:t,isExpanded:r,hasChildren:s,depth:a,path:o,onUpdateChild:i,onRemoveChild:l,onAddGrandChild:d,FieldBuilderComponent:c})=>!t||!r||!s?null:n.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[n.jsx(S,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,m)=>n.jsx(c,{field:u,index:m,onUpdate:i,onRemove:l,onAddChild:d,depth:a+1,path:[...o,m]},m))]}),$X=(e,t,r,s,a)=>{const o=p.useCallback(u=>{if(u.maxOccurs!==void 0){const m=u.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?u.type="array":m===1&&e.type==="array"&&(u.type="string")}r(t,u)},[t,r,e.type]),i=p.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&r(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,r,a]),l=p.useCallback(u=>{s(u)},[s]),d=p.useCallback((u,m)=>{r(u,m)},[r]),c=p.useCallback(u=>{a(u)},[a]);return{handleUpdate:o,handleAddChild:i,handleRemoveChild:l,handleUpdateChild:d,handleAddGrandChild:c}},bM=({field:e,index:t,onUpdate:r,onRemove:s,onAddChild:a,depth:o,path:i})=>{const[l,d]=me.useState(!0),c=e.children&&e.children.length>0,u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:m,handleAddChild:h,handleRemoveChild:f,handleUpdateChild:v,handleAddGrandChild:x}=$X(e,i,r,s,a);return n.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${o>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(OX,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>d(!l),onUpdate:m,onRemove:()=>s(i),depth:o}),n.jsx(IX,{field:e,canHaveChildren:u,onUpdate:m,onAddChild:h})]}),n.jsx(LX,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:c,depth:o,path:i,onUpdateChild:v,onRemoveChild:f,onAddGrandChild:x,FieldBuilderComponent:bM})]})},UX=(e,t)=>{const r=p.useCallback((i,l)=>{const d={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&i!==void 0){const c=[...e];c[l].children[i].children||(c[l].children[i].children=[]),c[l].children[i].children.push(d),t(c)}else if(i!==void 0){const c=[...e];c[i].children||(c[i].children=[]),c[i].children.push(d),t(c)}else t([...e,d])},[e,t]),s=p.useCallback((i,l)=>{console.log("updateFieldAtPath called:",{path:i,field:l});const d=[...e];let c=d;for(let m=0;m<i.length-1;m++){const h=i[m];c[h].children||(c[h].children=[]),c=c[h].children}const u=i[i.length-1];if(c[u]){if(l.maxOccurs!==void 0){const m=l.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?l.type="array":m===1&&c[u].type==="array"&&(l.type="string")}c[u]={...c[u],...l},console.log("Updated field at path:",i,c[u])}t(d)},[e,t]),a=p.useCallback(i=>{const l=[...e];if(i.length===1)t(l.filter((d,c)=>c!==i[0]));else{let d=l;for(let m=0;m<i.length-2;m++){const h=i[m];if(!d[h].children)return;d=d[h].children}const c=i[i.length-2],u=i[i.length-1];d[c]&&d[c].children&&(d[c].children=d[c].children.filter((m,h)=>h!==u)),t(l)}},[e,t]),o=p.useCallback(i=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},d=[...e];let c=d;for(let u=0;u<i.length;u++){const m=i[u];c[m].children||(c[m].children=[]),u===i.length-1?c[m].children.push(l):c=c[m].children}t(d)},[e,t]);return{addCustomField:r,updateFieldAtPath:s,removeFieldAtPath:a,addChildAtPath:o}},Uh=e=>{const t={};return e.forEach(r=>{if(r.name){const s=r.type==="array"||typeof r.maxOccurs=="number"&&r.maxOccurs>1||r.maxOccurs==="unbounded";r.isComplexType||r.children&&r.children.length>0?s?t[r.name]=[Uh(r.children)]:t[r.name]=Uh(r.children):t[r.name]=r.type==="integer"?0:""}}),t},VX=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const r=e[0],s={[r.name]:Uh(r.children||[])};return JSON.stringify(s,null,2)}const t={root:Uh(e)};return JSON.stringify(t,null,2)},HX=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(r=>{var s;if(r.name)if(r.isComplexType||r.children&&r.children.length>0)t+=`
        <xs:element name="${r.name}">
          <xs:complexType>
            <xs:sequence>`,(s=r.children)==null||s.forEach(a=>{var o;if(a.name){const i=a.minOccurs||(a.required?1:0),l=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,d=`minOccurs="${i}" maxOccurs="${l}"`;a.isComplexType||a.children&&a.children.length>0?(t+=`
              <xs:element name="${a.name}">
                <xs:complexType>
                  <xs:sequence>`,(o=a.children)==null||o.forEach(c=>{if(c.name){const u=c.minOccurs||(c.required?1:0),m=c.maxOccurs==="unbounded"?"unbounded":c.maxOccurs||1,h=`minOccurs="${u}" maxOccurs="${m}"`;t+=`
                    <xs:element name="${c.name}" type="xs:${c.type==="array"?"string":c.type}" ${h}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${a.name}" type="xs:${a.type==="array"?"string":a.type}" ${d}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;t+=`
        <xs:element name="${r.name}" type="xs:${r.type==="array"?"string":r.type}" ${i}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},BX=(e,t="        ")=>{var s;let r="";return(e.isComplexType||e.children&&e.children.length>0)&&(r+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,(s=e.children)==null||s.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
${t}    <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
${t}    <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),r+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),r},zX=(e,t="DataService",r="ProcessData")=>{if(e.length===0)return"";let s=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${r}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)s+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;s+=`
            <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),s+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${r}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${r}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(s+=`
      
      ${BX(a)}`)}),s+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${r}RequestMessage">
    <part name="parameters" element="tns:${r}Request"/>
  </message>
  
  <message name="${r}ResponseMessage">
    <part name="parameters" element="tns:${r}Response"/>
  </message>
  
  <message name="${r}FaultMessage">
    <part name="fault" element="tns:${r}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${r}">
      <documentation>Process data operation</documentation>
      <input message="tns:${r}RequestMessage"/>
      <output message="tns:${r}ResponseMessage"/>
      <fault name="${r}Fault" message="tns:${r}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${r}">
      <soap:operation soapAction="http://example.com/service/${r}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${r}Fault">
        <soap:fault name="${r}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,s},qX=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return VX(e);case"xml":case"xsd":return HX(e);case"wsdl":return zX(e);default:return JSON.stringify(e,null,2)}},WX=({fields:e,schemaType:t})=>e.length===0?null:n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[n.jsxs(S,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),n.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:qX(e,t)})]}),KX=({customFields:e,setCustomFields:t,selectedStructureType:r,setSelectedStructureType:s,onResetAllFields:a})=>{const[o,i]=p.useState(""),{toast:l}=wt(),{addCustomField:d,updateFieldAtPath:c,removeFieldAtPath:u,addChildAtPath:m}=UX(e,t),h=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customStructureType",children:"Structure Type"}),n.jsxs(J,{value:o,onValueChange:i,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select structure type to build"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"json",children:"JSON Schema"}),n.jsx(M,{value:"xsd",children:"XSD Schema"}),n.jsx(M,{value:"xml",children:"XML Schema"}),n.jsx(M,{value:"wsdl",children:"WSDL Schema"})]})]})]}),o?e.length===0?n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(zt,{className:"h-12 w-12 mx-auto text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",o.toUpperCase()," Structure"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",o.toUpperCase()," data structure"]}),n.jsxs(W,{onClick:()=>d(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(S,{children:["Structure Definition (",o.toUpperCase(),")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:()=>d(),size:"sm",variant:"outline",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Field"]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"text-destructive hover:text-destructive",children:[n.jsx(lt,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((f,v)=>n.jsx(bM,{field:f,index:v,onUpdate:c,onRemove:u,onAddChild:m,depth:0,path:[v]},v)),n.jsx(WX,{fields:e,schemaType:o})]}):n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(zt,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},YX=({customFields:e,setCustomFields:t,jsonInput:r,setJsonInput:s,xsdInput:a,setXsdInput:o,edmxInput:i,setEdmxInput:l,wsdlInput:d,setWsdlInput:c,selectedStructureType:u,setSelectedStructureType:m,namespaceConfig:h,setNamespaceConfig:f,onSave:v,onWsdlAnalyzed:x,onResetAllFields:w})=>n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Define Structure"}),n.jsx(ge,{children:"Choose your preferred method to define the data structure"})]}),n.jsxs(te,{children:[n.jsxs(Ye,{value:u,className:"w-full",onValueChange:j=>m(j),children:[n.jsxs(qe,{className:"grid w-full grid-cols-5",children:[n.jsx(be,{value:"json",children:"JSON Schema"}),n.jsx(be,{value:"xsd",children:"XSD/XML"}),n.jsx(be,{value:"wsdl",children:"WSDL"}),n.jsx(be,{value:"edmx",children:"EDMX"}),n.jsx(be,{value:"custom",children:"Custom Builder"})]}),n.jsx(je,{value:"json",children:n.jsx(MX,{jsonInput:r,setJsonInput:s,onResetAllFields:w})}),n.jsx(je,{value:"xsd",children:n.jsx(DX,{xsdInput:a,setXsdInput:o,namespaceConfig:h,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(je,{value:"wsdl",children:n.jsx(RX,{wsdlInput:d,setWsdlInput:c,namespaceConfig:h,setNamespaceConfig:f,onWsdlAnalyzed:x,onResetAllFields:w})}),n.jsx(je,{value:"edmx",children:n.jsx(_X,{edmxInput:i,setEdmxInput:l,namespaceConfig:h,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(je,{value:"custom",children:n.jsx(KX,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:m,onResetAllFields:w})})]}),n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs(W,{onClick:v,className:"w-full bg-gradient-primary hover:opacity-90",children:[n.jsx(ha,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})})]})]}),GX=e=>{switch(e){case"json":return Uv;case"xsd":case"soap":case"wsdl":return td;case"custom":return zt;default:return Gt}},XX=({structures:e,selectedStructure:t,onSelectStructure:r,onDuplicateStructure:s,onDeleteStructure:a})=>n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(re,{children:[n.jsx(se,{children:"Structure Library"}),n.jsx(ge,{children:"Existing data structures"})]}),n.jsxs(te,{className:"space-y-3",children:[e.map(o=>{const i=GX(o.type);return n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-300 hover:shadow-soft ${(t==null?void 0:t.id)===o.id?"border-primary bg-primary/10":"border-border"}`,onClick:()=>r(o),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(i,{className:"h-5 w-5 mt-0.5 text-primary"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:o.name}),n.jsx(ce,{variant:"outline",className:"text-xs",children:o.type.toUpperCase()})]}),o.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ce,{variant:o.usage==="source"?"default":o.usage==="target"?"secondary":"outline",className:"text-xs",children:o.usage}),n.jsx("span",{className:"text-xs text-muted-foreground",children:o.createdAt})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(W,{onClick:l=>{l.stopPropagation(),s(o)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:n.jsx(IC,{className:"h-3 w-3"})}),n.jsx(W,{onClick:l=>{l.stopPropagation(),a(o.id)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:n.jsx(Na,{className:"h-3 w-3"})})]})]})},o.id)}),e.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Gt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No data structures created yet. Create your first data structure using the tabs above."})]})]})]}),SM=(e,t=0)=>e?n.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([r,s])=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium text-primary",children:r}),n.jsx("span",{className:"text-muted-foreground",children:": "}),typeof s=="string"?n.jsx(ce,{variant:"outline",className:"text-xs",children:s}):n.jsx("div",{className:"mt-1",children:SM(s,t+1)})]},r)):n.jsx(ce,{variant:"outline",className:"text-xs",children:String(e)})}):null,kb=({selectedStructure:e})=>n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(jc,{className:"h-5 w-5"}),"Structure Preview"]})}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&n.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),n.jsx(We,{}),n.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[n.jsx(S,{className:"text-xs font-medium",children:"Structure Definition"}),n.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:SM(e.structure)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(rl,{className:"h-4 w-4 mr-2"}),"Edit"]}),n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(cm,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),QX=()=>{const{structures:e,selectedStructure:t,setSelectedStructure:r,saveStructure:s,deleteStructure:a,duplicateStructure:o}=ml(),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,m]=p.useState(null),[h,f]=p.useState([]),[v,x]=p.useState(""),[w,j]=p.useState(""),[g,y]=p.useState(""),[N,b]=p.useState(""),[E,C]=p.useState("json"),[P,O]=p.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),T=p.useMemo(()=>{if(!i)return null;let A={};return E==="json"&&v?A=lk(v):E==="wsdl"&&N?A=ck(N):E==="xsd"&&w?A={message:"XSD parsing not fully implemented yet"}:E==="edmx"&&g?A={message:"EDMX parsing not fully implemented yet"}:E==="custom"&&h.length>0&&(A=Ey(h)),Object.keys(A).length===0?null:{id:"preview",name:i,type:E,description:d,structure:A,createdAt:new Date().toISOString().split("T")[0],usage:"source",namespace:(E==="xsd"||E==="wsdl"||E==="edmx")&&P.uri?P:void 0}},[i,d,E,v,w,g,N,h,P]),_=(A,U)=>{A&&!i&&l(A),U&&O(U)},k=()=>{if(!u)return;s(i,d,"source",v,w,g,N,h,E,P)&&(l(""),c(""),m(null),x(""),j(""),y(""),b(""),f([]),O({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}))},$=()=>{l(""),c(""),m(null),x(""),j(""),y(""),b(""),f([]),O({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),C("json")};return n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Vv,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground",children:"Define and manage data structures for source and target messages"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(AX,{selectedBusinessComponent:u,setSelectedBusinessComponent:m}),n.jsx(TX,{structureName:i,setStructureName:l,structureDescription:d,setStructureDescription:c}),n.jsx(YX,{customFields:h,setCustomFields:f,jsonInput:v,setJsonInput:x,xsdInput:w,setXsdInput:j,edmxInput:g,setEdmxInput:y,wsdlInput:N,setWsdlInput:b,selectedStructureType:E,setSelectedStructureType:C,namespaceConfig:P,setNamespaceConfig:O,onSave:k,onWsdlAnalyzed:_,onResetAllFields:$}),T&&n.jsx("div",{className:"animate-fade-in",children:n.jsx(kb,{selectedStructure:T})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(XX,{structures:e,selectedStructure:t,onSelectStructure:r,onDuplicateStructure:o,onDeleteStructure:a}),t&&n.jsx(kb,{selectedStructure:t})]})]})]})};var CM="AlertDialog",[JX,Pte]=Wn(CM,[hk]),Ss=hk(),EM=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ss(t);return n.jsx(kk,{...s,...r,modal:!0})};EM.displayName=CM;var ZX="AlertDialogTrigger",PM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ss(r);return n.jsx(Tk,{...a,...s,ref:t})});PM.displayName=ZX;var eQ="AlertDialogPortal",kM=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ss(t);return n.jsx(Ak,{...s,...r})};kM.displayName=eQ;var tQ="AlertDialogOverlay",TM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ss(r);return n.jsx(My,{...a,...s,ref:t})});TM.displayName=tQ;var gi="AlertDialogContent",[nQ,rQ]=JX(gi),AM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,o=Ss(r),i=p.useRef(null),l=Te(t,i),d=p.useRef(null);return n.jsx(KU,{contentName:gi,titleName:MM,docsSlug:"alert-dialog",children:n.jsx(nQ,{scope:r,cancelRef:d,children:n.jsxs(Dy,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ue(a.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=d.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[n.jsx(Fv,{children:s}),n.jsx(aQ,{contentRef:i})]})})})});AM.displayName=gi;var MM="AlertDialogTitle",DM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ss(r);return n.jsx(Ry,{...a,...s,ref:t})});DM.displayName=MM;var RM="AlertDialogDescription",_M=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ss(r);return n.jsx(_y,{...a,...s,ref:t})});_M.displayName=RM;var sQ="AlertDialogAction",FM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ss(r);return n.jsx(Fy,{...a,...s,ref:t})});FM.displayName=sQ;var OM="AlertDialogCancel",IM=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=rQ(OM,r),o=Ss(r),i=Te(t,a);return n.jsx(Fy,{...o,...s,ref:i})});IM.displayName=OM;var aQ=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${RM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oQ=EM,iQ=PM,lQ=kM,LM=TM,$M=AM,UM=FM,VM=IM,HM=DM,BM=_M;const cQ=oQ,dQ=iQ,uQ=lQ,zM=p.forwardRef(({className:e,...t},r)=>n.jsx(LM,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zM.displayName=LM.displayName;const qM=p.forwardRef(({className:e,...t},r)=>n.jsxs(uQ,{children:[n.jsx(zM,{}),n.jsx($M,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));qM.displayName=$M.displayName;const WM=({className:e,...t})=>n.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});WM.displayName="AlertDialogHeader";const KM=({className:e,...t})=>n.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});KM.displayName="AlertDialogFooter";const YM=p.forwardRef(({className:e,...t},r)=>n.jsx(HM,{ref:r,className:ie("text-lg font-semibold",e),...t}));YM.displayName=HM.displayName;const GM=p.forwardRef(({className:e,...t},r)=>n.jsx(BM,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));GM.displayName=BM.displayName;const XM=p.forwardRef(({className:e,...t},r)=>n.jsx(UM,{ref:r,className:ie(Tc(),e),...t}));XM.displayName=UM.displayName;const QM=p.forwardRef(({className:e,...t},r)=>n.jsx(VM,{ref:r,className:ie(Tc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));QM.displayName=VM.displayName;function ka({icon:e,title:t,description:r,action:s,className:a}){return n.jsxs(ee,{className:ie("flex flex-col items-center justify-center p-8 text-center min-h-[200px]",a),children:[e&&n.jsx("div",{className:"mb-4 text-muted-foreground",children:e}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),r&&n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:r}),s&&n.jsx(W,{onClick:s.onClick,variant:"outline",children:s.label})]})}const hQ=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,m]=p.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:h}=wt();p.useEffect(()=>{f()},[]);const f=async()=>{const y=await Ua.getAllBusinessComponents();y.success&&y.data?t(y.data):h({title:"Error",description:y.error||"Failed to load businessComponents",variant:"destructive"}),s(!1)},v=async()=>{if(!u.name.trim()){h({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const y=await Ua.createBusinessComponent(u);y.success&&y.data?(t([...e,y.data]),o(!1),m({name:"",description:"",contactEmail:"",contactPhone:""}),h({title:"Success",description:"BusinessComponent created successfully"})):h({title:"Error",description:y.error||"Failed to create businessComponent",variant:"destructive"})},x=async()=>{if(!d||!u.name.trim()){h({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const y=await Ua.updateBusinessComponent({id:d.id,...u});y.success&&y.data?(t(e.map(N=>N.id===d.id?y.data:N)),l(!1),c(null),m({name:"",description:"",contactEmail:"",contactPhone:""}),h({title:"Success",description:"BusinessComponent updated successfully"})):h({title:"Error",description:y.error||"Failed to update businessComponent",variant:"destructive"})},w=async y=>{const N=await Ua.deleteBusinessComponent(y.id);N.success?(t(e.filter(b=>b.id!==y.id)),h({title:"Success",description:"BusinessComponent deleted successfully"})):h({title:"Error",description:N.error||"Failed to delete businessComponent",variant:"destructive"})},j=y=>{c(y),m({name:y.name,description:y.description||"",contactEmail:y.contactEmail||"",contactPhone:y.contactPhone||""}),l(!0)},g=()=>{m({name:"",description:"",contactEmail:"",contactPhone:""}),c(null)};return r?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(y=>n.jsx("div",{className:"h-48 bg-muted rounded"},y))})]})}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Fx,{className:"h-8 w-8"}),"BusinessComponent Management"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),n.jsxs(vt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{onClick:()=>g(),children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),n.jsxs(mt,{children:[n.jsxs(yt,{children:[n.jsx(jt,{children:"Create New BusinessComponent"}),n.jsx(ga,{children:"Add a new businessComponent to your system"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"name",children:"BusinessComponent Name *"}),n.jsx(I,{id:"name",value:u.name,onChange:y=>m({...u,name:y.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",value:u.description,onChange:y=>m({...u,description:y.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"email",children:"Contact Email"}),n.jsx(I,{id:"email",type:"email",value:u.contactEmail,onChange:y=>m({...u,contactEmail:y.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"phone",children:"Contact Phone"}),n.jsx(I,{id:"phone",value:u.contactPhone,onChange:y=>m({...u,contactPhone:y.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsx(W,{onClick:v,children:"Create BusinessComponent"})]})]})]})]})]}),e.length===0?n.jsx(ka,{icon:n.jsx(Fx,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:{label:"Add BusinessComponent",onClick:()=>o(!0)}}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(y=>n.jsxs(ee,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(se,{className:"text-lg",children:y.name}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>j(y),children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsxs(cQ,{children:[n.jsx(dQ,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(Na,{className:"h-4 w-4"})})}),n.jsxs(qM,{children:[n.jsxs(WM,{children:[n.jsx(YM,{children:"Delete BusinessComponent"}),n.jsxs(GM,{children:['Are you sure you want to delete "',y.name,'"? This action cannot be undone.']})]}),n.jsxs(KM,{children:[n.jsx(QM,{children:"Cancel"}),n.jsx(XM,{onClick:()=>w(y),children:"Delete"})]})]})]})]})]}),y.description&&n.jsx(ge,{children:y.description})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[y.contactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(nd,{className:"h-4 w-4"}),y.contactEmail]}),y.contactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(KO,{className:"h-4 w-4"}),y.contactPhone]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(y.createdAt).toLocaleDateString()]})]})})]},y.id))}),n.jsx(vt,{open:i,onOpenChange:l,children:n.jsxs(mt,{children:[n.jsxs(yt,{children:[n.jsx(jt,{children:"Edit BusinessComponent"}),n.jsx(ga,{children:"Update businessComponent information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),n.jsx(I,{id:"edit-name",value:u.name,onChange:y=>m({...u,name:y.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-description",children:"Description"}),n.jsx(Se,{id:"edit-description",value:u.description,onChange:y=>m({...u,description:y.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-email",children:"Contact Email"}),n.jsx(I,{id:"edit-email",type:"email",value:u.contactEmail,onChange:y=>m({...u,contactEmail:y.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-phone",children:"Contact Phone"}),n.jsx(I,{id:"edit-phone",value:u.contactPhone,onChange:y=>m({...u,contactPhone:y.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Update BusinessComponent"})]})]})]})})]})};class mQ{constructor(){et(this,"websocket",null);et(this,"reconnectAttempts",0);et(this,"maxReconnectAttempts",5);et(this,"reconnectInterval",3e3);et(this,"messageListeners",[]);et(this,"statsListeners",[])}async getMessages(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?r.append(a,o.join(",")):r.append(a,o.toString()))});const s=`/messages${r.toString()?`?${r.toString()}`:""}`;return pe.get(s)}async getMessage(t){return pe.get(`/messages/${t}`)}async getMessageStats(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?r.append(a,o.join(",")):r.append(a,o.toString()))});const s=`/messages/stats${r.toString()?`?${r.toString()}`:""}`;return pe.get(s)}async reprocessMessage(t){return pe.post(`/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([o,i])=>{i!==void 0&&(Array.isArray(i)?s.append(o,i.join(",")):s.append(o,i.toString()))});const a=`/business-components/${t}/messages${s.toString()?`?${s.toString()}`:""}`;return pe.get(a)}connectWebSocket(t){var o;if(((o=this.websocket)==null?void 0:o.readyState)===WebSocket.OPEN)return;const r="ws://localhost:8080",s=t?`?businessComponentId=${t}`:"",a=`${r}/ws/messages${s}`;try{this.websocket=new WebSocket(a),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=i=>{try{const l=JSON.parse(i.data);l.type==="message_update"?this.messageListeners.forEach(d=>d(l.message)):l.type==="stats_update"&&this.statsListeners.forEach(d=>d(l.stats))}catch(l){console.error("Error parsing WebSocket message:",l)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=i=>{console.error("WebSocket error:",i)}}catch(i){console.error("Failed to create WebSocket connection:",i)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const r=this.messageListeners.indexOf(t);r>-1&&this.messageListeners.splice(r,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const r=this.statsListeners.indexOf(t);r>-1&&this.statsListeners.splice(r,1)}}sendCommand(t,r){var s;((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:r}))}}const Sr=new mQ,pQ=e=>{const[t,r]=p.useState([]),[s,a]=p.useState(null),[o,i]=p.useState(!0),[l,d]=p.useState(!1),{toast:c}=wt(),u=p.useCallback(async w=>{i(!0);try{const j=e?await Sr.getBusinessComponentMessages(e,w):await Sr.getMessages(w);j.success&&j.data&&r(j.data.messages)}catch{c({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},[e,c]),m=p.useCallback(async w=>{try{const j=await Sr.getMessageStats(w);j.success&&j.data&&a(j.data)}catch(j){console.error("Failed to load message stats:",j)}},[]);p.useEffect(()=>{Sr.connectWebSocket(e),d(!0);const w=Sr.onMessageUpdate(g=>{r(y=>{const N=y.findIndex(b=>b.id===g.id);if(N>=0){const b=[...y];return b[N]=g,b}else return[g,...y]}),g.status==="failed"&&c({title:"Message Failed",description:`Message ${g.id} failed processing`,variant:"destructive"})}),j=Sr.onStatsUpdate(g=>{a(g)});return u(),m(),()=>{w(),j(),Sr.disconnectWebSocket(),d(!1)}},[e,u,m,c]);const h=p.useCallback(async w=>{try{const j=await Sr.reprocessMessage(w);if(j.success)c({title:"Success",description:"Message queued for reprocessing"});else throw new Error(j.error||"Failed to reprocess message")}catch{c({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[c]),f=p.useCallback(w=>{u(w),m(w)},[u,m]),v=p.useCallback(w=>{Sr.sendCommand("subscribe",{messageType:w})},[]),x=p.useCallback(w=>{Sr.sendCommand("unsubscribe",{messageType:w})},[]);return{messages:t,stats:s,loading:o,connected:l,loadMessages:u,loadStats:m,reprocessMessage:h,refreshData:f,subscribeToMessageType:v,unsubscribeFromMessageType:x}};function Nn({className:e,...t}){return n.jsx("div",{className:ie("animate-pulse rounded-md bg-muted",e),...t})}const fQ=({messages:e,stats:t,isBusinessComponentSelected:r,onStatusFilter:s,statusFilter:a,loading:o=!1})=>{const i=e||[],l=(t==null?void 0:t.successful)??i.filter(x=>x.status==="success").length,d=(t==null?void 0:t.processing)??i.filter(x=>x.status==="processing").length,c=(t==null?void 0:t.failed)??i.filter(x=>x.status==="failed").length,u=(t==null?void 0:t.total)??i.length,m=(t==null?void 0:t.successRate)??(u>0?l/u*100:0),h=(t==null?void 0:t.avgProcessingTime)??(()=>{const x=i.filter(w=>w.status!=="processing"&&w.processingTime!=="-");return x.length>0?Math.round(x.reduce((w,j)=>{const g=parseFloat(j.processingTime.replace(/[^\d.]/g,""));return w+(isNaN(g)?0:g)},0)/x.length):0})(),f=()=>r?`of ${u} business component messages`:"across all messages",v=x=>{s&&s(x)};return o?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((x,w)=>n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{className:"pb-2",children:n.jsx(Nn,{className:"h-4 w-32"})}),n.jsxs(te,{children:[n.jsx(Nn,{className:"h-8 w-16 mb-2"}),n.jsx(Nn,{className:"h-3 w-24"})]})]},w))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(ee,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>v("success"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-success",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(ee,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>v("processing"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-warning",children:d}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(ee,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>v("failed"),children:[n.jsx(re,{className:"pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold text-destructive",children:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(ee,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(re,{className:"pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold text-success",children:[m.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(ee,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(re,{className:"pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"text-2xl font-bold text-info",children:[h,"ms"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]})]})},xQ=(e,t)=>{if(!e||!Array.isArray(e))return[];const r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate());switch(t){case"today":return e.filter(l=>new Date(l.timestamp)>=s);case"yesterday":const a=new Date(s.getTime()-24*60*60*1e3);return e.filter(l=>{const d=new Date(l.timestamp);return d>=a&&d<s});case"last-7-days":const o=new Date(r.getTime()-7*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=o);case"last-30-days":const i=new Date(r.getTime()-30*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=i);case"all":default:return e}},gQ=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,vQ=({value:e,onValueChange:t})=>n.jsxs(J,{value:e,onValueChange:t,children:[n.jsx(X,{className:"w-48",children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"today",children:"Today"}),n.jsx(M,{value:"today-00",children:"Today 00:00 - 00:59"}),n.jsx(M,{value:"today-01",children:"Today 01:00 - 01:59"}),n.jsx(M,{value:"today-02",children:"Today 02:00 - 02:59"}),n.jsx(M,{value:"today-03",children:"Today 03:00 - 03:59"}),n.jsx(M,{value:"today-04",children:"Today 04:00 - 04:59"}),n.jsx(M,{value:"today-05",children:"Today 05:00 - 05:59"}),n.jsx(M,{value:"today-06",children:"Today 06:00 - 06:59"}),n.jsx(M,{value:"today-07",children:"Today 07:00 - 07:59"}),n.jsx(M,{value:"today-08",children:"Today 08:00 - 08:59"}),n.jsx(M,{value:"today-09",children:"Today 09:00 - 09:59"}),n.jsx(M,{value:"today-10",children:"Today 10:00 - 10:59"}),n.jsx(M,{value:"today-11",children:"Today 11:00 - 11:59"}),n.jsx(M,{value:"today-12",children:"Today 12:00 - 12:59"}),n.jsx(M,{value:"today-13",children:"Today 13:00 - 13:59"}),n.jsx(M,{value:"today-14",children:"Today 14:00 - 14:59"}),n.jsx(M,{value:"today-15",children:"Today 15:00 - 15:59"}),n.jsx(M,{value:"today-16",children:"Today 16:00 - 16:59"}),n.jsx(M,{value:"today-17",children:"Today 17:00 - 17:59"}),n.jsx(M,{value:"today-18",children:"Today 18:00 - 18:59"}),n.jsx(M,{value:"today-19",children:"Today 19:00 - 19:59"}),n.jsx(M,{value:"today-20",children:"Today 20:00 - 20:59"}),n.jsx(M,{value:"today-21",children:"Today 21:00 - 21:59"}),n.jsx(M,{value:"today-22",children:"Today 22:00 - 22:59"}),n.jsx(M,{value:"today-23",children:"Today 23:00 - 23:59"}),n.jsx(M,{value:"yesterday",children:"Yesterday"}),n.jsx(M,{value:"last-7-days",children:"Past 7 Days"}),n.jsx(M,{value:"last-30-days",children:"Past 30 Days"}),n.jsx(M,{value:"all",children:"All Messages"})]})]});var g0="Collapsible",[yQ,kte]=Wn(g0),[jQ,v0]=yQ(g0),JM=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[d=!1,c]=$r({prop:s,defaultProp:a,onChange:i});return n.jsx(jQ,{scope:r,disabled:o,contentId:cr(),open:d,onOpenToggle:p.useCallback(()=>c(u=>!u),[c]),children:n.jsx(Ce.div,{"data-state":j0(d),"data-disabled":o?"":void 0,...l,ref:t})})});JM.displayName=g0;var ZM="CollapsibleTrigger",eD=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=v0(ZM,r);return n.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":j0(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ue(e.onClick,a.onOpenToggle)})});eD.displayName=ZM;var y0="CollapsibleContent",tD=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=v0(y0,e.__scopeCollapsible);return n.jsx(Ft,{present:r||a.open,children:({present:o})=>n.jsx(wQ,{...s,ref:t,present:o})})});tD.displayName=y0;var wQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...o}=e,i=v0(y0,r),[l,d]=p.useState(s),c=p.useRef(null),u=Te(t,c),m=p.useRef(0),h=m.current,f=p.useRef(0),v=f.current,x=i.open||l,w=p.useRef(x),j=p.useRef();return p.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Mt(()=>{const g=c.current;if(g){j.current=j.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const y=g.getBoundingClientRect();m.current=y.height,f.current=y.width,w.current||(g.style.transitionDuration=j.current.transitionDuration,g.style.animationName=j.current.animationName),d(s)}},[i.open,s]),n.jsx(Ce.div,{"data-state":j0(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&a})});function j0(e){return e?"open":"closed"}var NQ=JM;const zl=NQ,Fg=eD,Og=tD,bQ=e=>{switch(e){case"success":return n.jsx(Or,{className:"h-4 w-4 text-success"});case"failed":return n.jsx(Ya,{className:"h-4 w-4 text-destructive"});case"processing":return n.jsx(hs,{className:"h-4 w-4 text-warning animate-spin"});default:return n.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})}},SQ=e=>{switch(e.toUpperCase()){case"SUCCESS":return n.jsx(Or,{className:"h-3 w-3 text-success"});case"ERROR":return n.jsx(Ya,{className:"h-3 w-3 text-destructive"});case"WARN":return n.jsx(ms,{className:"h-3 w-3 text-warning"});default:return n.jsx(ua,{className:"h-3 w-3 text-info"})}},CQ=({message:e})=>{const[t,r]=p.useState(!1);return n.jsx(ee,{className:"bg-gradient-secondary border-border/50 hover-scale",children:n.jsxs(zl,{open:t,onOpenChange:r,children:[n.jsx(Fg,{asChild:!0,children:n.jsx(W,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:n.jsx(re,{className:"w-full",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[bQ(e.status),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-foreground",children:e.id}),n.jsx(ce,{variant:"outline",className:"text-xs",children:e.type})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source,"  ",e.target]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-right",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:e.timestamp}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime,"  ",e.size]})]}),t?n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),n.jsx(Og,{children:n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"border-t border-border/50 pt-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(Gt,{className:"h-4 w-4"}),"Processing Logs"]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs.map((s,a)=>n.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[SQ(s.level),n.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:s.timestamp.split(" ")[1]}),n.jsx("span",{className:"text-foreground",children:s.message})]},a))})]})})})]})})},EQ=({messages:e,isBusinessComponentSelected:t,statusFilter:r,loading:s=!1})=>{const[a,o]=p.useState("today");let i=xQ(e||[],a);return r&&(i=i.filter(l=>l.status===r)),i.sort((l,d)=>new Date(d.timestamp).getTime()-new Date(l.timestamp).getTime()),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsxs(re,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(se,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Gt,{className:"h-5 w-5"}),"Message History"]}),n.jsx(vQ,{value:a,onValueChange:o})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:gQ(a,i.length)})]})}),n.jsx("div",{className:"space-y-3",children:s?Array.from({length:5}).map((l,d)=>n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nn,{className:"h-6 w-6 rounded-full"}),n.jsxs("div",{children:[n.jsx(Nn,{className:"h-4 w-32 mb-2"}),n.jsx(Nn,{className:"h-3 w-48"})]})]}),n.jsxs("div",{children:[n.jsx(Nn,{className:"h-3 w-24 mb-1"}),n.jsx(Nn,{className:"h-3 w-16"})]})]})})},d)):i.length===0?n.jsx(ka,{icon:n.jsx(zt,{className:"h-12 w-12"}),title:"No Messages Found",description:r?`No ${r} messages found for the selected time period.`:"No messages found for the selected time period."}):i.map(l=>n.jsx(CQ,{message:l},l.id))})]})},nD=({selectedBusinessComponent:e,businessComponents:t,loading:r,onBusinessComponentChange:s})=>n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),"Business Component Filter"]}),n.jsx(ge,{children:"Filter channels by business component"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(J,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=t.find(i=>i.id===a)||null;s(o)},disabled:r,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a business component to filter channels"})}),n.jsx(Q,{children:t.map(a=>n.jsx(M,{value:a.id,children:a.name},a.id))})]})]})})]}),PQ=()=>{const[e,t]=p.useState(null),[r,s]=p.useState(null),{businessComponents:a,loading:o}=zr(),{messages:i,stats:l,loading:d,connected:c,refreshData:u}=pQ(e==null?void 0:e.id),m=r?i.filter(x=>x.status===r):i,h=()=>{u()},f=x=>{s(r===x?null:x)},v=x=>{t(x),s(null)};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Qt,{className:"h-8 w-8"}),"Message Monitor"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:"text-muted-foreground",children:"Track and analyze integration message flows"}),n.jsxs(ce,{variant:c?"default":"destructive",className:"flex items-center gap-1",children:[c?n.jsx(eI,{className:"h-3 w-3"}):n.jsx(ZO,{className:"h-3 w-3"}),c?"Live":"Disconnected"]})]})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:h,className:"hover-scale",disabled:d,children:[n.jsx(Zt,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(fQ,{messages:m,stats:l,isBusinessComponentSelected:!!e,onStatusFilter:f,statusFilter:r,loading:d}),n.jsx(nD,{selectedBusinessComponent:e,businessComponents:a,loading:o,onBusinessComponentChange:v}),n.jsx(EQ,{messages:m,isBusinessComponentSelected:!!e,statusFilter:r,loading:d})]})},kQ=({channels:e,isCustomerSelected:t,statusFilter:r,onStatusFilter:s})=>{e.length;const a=e.filter(c=>c.status==="running").length,o=e.filter(c=>c.status==="idle").length,i=e.filter(c=>c.status==="stopped").length,l=e.filter(c=>c.status==="error").length,d=c=>{s(r===c?null:c)};return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs(ee,{className:`cursor-pointer transition-all hover:shadow-md ${r==="running"?"ring-2 ring-success":""}`,onClick:()=>d("running"),children:[n.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-3xl font-bold text-success",children:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:t?"across selected customer":"across all channels"})]})]}),n.jsxs(ee,{className:`cursor-pointer transition-all hover:shadow-md ${r==="idle"?"ring-2 ring-warning":""}`,onClick:()=>d("idle"),children:[n.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Inactive Channels"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-3xl font-bold text-warning",children:o}),n.jsx("p",{className:"text-xs text-muted-foreground",children:t?"across selected customer":"across all channels"})]})]}),n.jsxs(ee,{className:`cursor-pointer transition-all hover:shadow-md ${r==="stopped"?"ring-2 ring-muted-foreground":""}`,onClick:()=>d("stopped"),children:[n.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Stopped Channels"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-3xl font-bold text-muted-foreground",children:i}),n.jsx("p",{className:"text-xs text-muted-foreground",children:t?"across selected customer":"across all channels"})]})]}),n.jsxs(ee,{className:`cursor-pointer transition-all hover:shadow-md ${r==="error"?"ring-2 ring-destructive":""}`,onClick:()=>d("error"),children:[n.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Error Channels"})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-3xl font-bold text-destructive",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground",children:t?"across selected customer":"across all channels"})]})]})]})};function Pe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yt(e,t){const r=Pe(e);return isNaN(t)?mn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fr(e,t){const r=Pe(e);if(isNaN(t))return mn(e,NaN);if(!t)return r;const s=r.getDate(),a=mn(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return s>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const w0=6048e5,TQ=864e5,hu=43200,Tb=1440;let AQ={};function pl(){return AQ}function Hr(e,t){var l,d,c,u;const r=pl(),s=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pe(e),o=a.getDay(),i=(o<s?7:0)+o-s;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function go(e){return Hr(e,{weekStartsOn:1})}function rD(e){const t=Pe(e),r=t.getFullYear(),s=mn(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=go(s),o=mn(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=go(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Xi(e){const t=Pe(e);return t.setHours(0,0,0,0),t}function Qi(e){const t=Pe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Rr(e,t){const r=Xi(e),s=Xi(t),a=+r-Qi(r),o=+s-Qi(s);return Math.round((a-o)/TQ)}function MQ(e){const t=rD(e),r=mn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),go(r)}function Ig(e,t){const r=t*7;return Yt(e,r)}function DQ(e,t){return fr(e,t*12)}function RQ(e){let t;return e.forEach(function(r){const s=Pe(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function _Q(e){let t;return e.forEach(r=>{const s=Pe(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Fu(e,t){const r=Pe(e),s=Pe(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function FQ(e){return mn(e,Date.now())}function ln(e,t){const r=Xi(e),s=Xi(t);return+r==+s}function N0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OQ(e){if(!N0(e)&&typeof e!="number")return!1;const t=Pe(e);return!isNaN(Number(t))}function Ji(e,t){const r=Pe(e),s=Pe(t),a=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return a*12+o}function IQ(e,t,r){const s=Hr(e,r),a=Hr(t,r),o=+s-Qi(s),i=+a-Qi(a);return Math.round((o-i)/w0)}function LQ(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function $Q(e,t){return+Pe(e)-+Pe(t)}function UQ(e){const t=Pe(e);return t.setHours(23,59,59,999),t}function np(e){const t=Pe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function VQ(e){const t=Pe(e);return+UQ(t)==+np(t)}function HQ(e,t){const r=Pe(e),s=Pe(t),a=Fu(r,s),o=Math.abs(Ji(r,s));let i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);let l=Fu(r,s)===-a;VQ(Pe(e))&&o===1&&Fu(e,s)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function BQ(e,t,r){const s=$Q(e,t)/1e3;return LQ(r==null?void 0:r.roundingMethod)(s)}function hn(e){const t=Pe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sD(e){const t=Pe(e),r=mn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function b0(e,t){var l,d,c,u;const r=pl(),s=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Pe(e),o=a.getDay(),i=(o<s?-7:0)+6-(o-s);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function aD(e){return b0(e,{weekStartsOn:1})}const zQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qQ=(e,t,r)=>{let s;const a=zQ[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Tf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const WQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GQ={date:Tf({formats:WQ,defaultWidth:"full"}),time:Tf({formats:KQ,defaultWidth:"full"}),dateTime:Tf({formats:YQ,defaultWidth:"full"})},XQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QQ=(e,t,r,s)=>XQ[e];function Rl(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const JQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sJ=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aJ={ordinalNumber:sJ,era:Rl({values:JQ,defaultWidth:"wide"}),quarter:Rl({values:ZQ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rl({values:eJ,defaultWidth:"wide"}),day:Rl({values:tJ,defaultWidth:"wide"}),dayPeriod:Rl({values:nJ,defaultWidth:"wide",formattingValues:rJ,defaultFormattingWidth:"wide"})};function _l(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?iJ(l,m=>m.test(i)):oJ(l,m=>m.test(i));let c;c=e.valueCallback?e.valueCallback(d):d,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}function oJ(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iJ(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lJ(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const cJ=/^(\d+)(th|st|nd|rd)?/i,dJ=/\d+/i,uJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hJ={any:[/^b/i,/^(a|c)/i]},mJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pJ={any:[/1/i,/2/i,/3/i,/4/i]},fJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wJ={ordinalNumber:lJ({matchPattern:cJ,parsePattern:dJ,valueCallback:e=>parseInt(e,10)}),era:_l({matchPatterns:uJ,defaultMatchWidth:"wide",parsePatterns:hJ,defaultParseWidth:"any"}),quarter:_l({matchPatterns:mJ,defaultMatchWidth:"wide",parsePatterns:pJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_l({matchPatterns:fJ,defaultMatchWidth:"wide",parsePatterns:xJ,defaultParseWidth:"any"}),day:_l({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any"}),dayPeriod:_l({matchPatterns:yJ,defaultMatchWidth:"any",parsePatterns:jJ,defaultParseWidth:"any"})},S0={code:"en-US",formatDistance:qQ,formatLong:GQ,formatRelative:QQ,localize:aJ,match:wJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NJ(e){const t=Pe(e);return Rr(t,sD(t))+1}function oD(e){const t=Pe(e),r=+go(t)-+MQ(t);return Math.round(r/w0)+1}function iD(e,t){var u,m,h,f;const r=Pe(e),s=r.getFullYear(),a=pl(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=mn(e,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const l=Hr(i,t),d=mn(e,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const c=Hr(d,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=c.getTime()?s:s-1}function bJ(e,t){var l,d,c,u;const r=pl(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=iD(e,t),o=mn(e,0);return o.setFullYear(a,0,s),o.setHours(0,0,0,0),Hr(o,t)}function lD(e,t){const r=Pe(e),s=+Hr(r,t)-+bJ(r,t);return Math.round(s/w0)+1}function Ue(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Ms={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Ue(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ue(r+1,2)},d(e,t){return Ue(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ue(e.getHours()%12||12,t.length)},H(e,t){return Ue(e.getHours(),t.length)},m(e,t){return Ue(e.getMinutes(),t.length)},s(e,t){return Ue(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Ue(a,t.length)}},Lo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ab={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ms.y(e,t)},Y:function(e,t,r,s){const a=iD(e,s),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Ue(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ue(o,t.length)},R:function(e,t){const r=rD(e);return Ue(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ue(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ue(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ue(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Ms.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ue(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=lD(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ue(a,t.length)},I:function(e,t,r){const s=oD(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Ue(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ms.d(e,t)},D:function(e,t,r){const s=NJ(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ue(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ue(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ue(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Ue(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Lo.noon:s===0?a=Lo.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Lo.evening:s>=12?a=Lo.afternoon:s>=4?a=Lo.morning:a=Lo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ms.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ms.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ue(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ue(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ms.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ms.s(e,t)},S:function(e,t){return Ms.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Db(s);case"XXXX":case"XX":return _a(s);case"XXXXX":case"XXX":default:return _a(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Db(s);case"xxxx":case"xx":return _a(s);case"xxxxx":case"xxx":default:return _a(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Mb(s,":");case"OOOO":default:return"GMT"+_a(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Mb(s,":");case"zzzz":default:return"GMT"+_a(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Ue(s,t.length)},T:function(e,t,r){const s=e.getTime();return Ue(s,t.length)}};function Mb(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),o=s%60;return o===0?r+String(a):r+String(a)+t+Ue(o,2)}function Db(e,t){return e%60===0?(e>0?"-":"+")+Ue(Math.abs(e)/60,2):_a(e,t)}function _a(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Ue(Math.trunc(s/60),2),o=Ue(s%60,2);return r+a+t+o}const Rb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SJ=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Rb(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Rb(s,t)).replace("{{time}}",cD(a,t))},CJ={p:cD,P:SJ},EJ=/^D+$/,PJ=/^Y+$/,kJ=["D","DD","YY","YYYY"];function TJ(e){return EJ.test(e)}function AJ(e){return PJ.test(e)}function MJ(e,t,r){const s=DJ(e,t,r);if(console.warn(s),kJ.includes(e))throw new RangeError(s)}function DJ(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_J=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FJ=/^'([^]*?)'?$/,OJ=/''/g,IJ=/[a-zA-Z]/;function gs(e,t,r){var u,m,h,f,v,x,w,j;const s=pl(),a=(r==null?void 0:r.locale)??s.locale??S0,o=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((x=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((j=(w=s.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=Pe(e);if(!OQ(l))throw new RangeError("Invalid time value");let d=t.match(_J).map(g=>{const y=g[0];if(y==="p"||y==="P"){const N=CJ[y];return N(g,a.formatLong)}return g}).join("").match(RJ).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:LJ(g)};if(Ab[y])return{isToken:!0,value:g};if(y.match(IJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return d.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&AJ(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&TJ(y))&&MJ(y,t,String(e));const N=Ab[y[0]];return N(l,y,a.localize,c)}).join("")}function LJ(e){const t=e.match(FJ);return t?t[1].replace(OJ,"'"):e}function $J(e,t,r){const s=pl(),a=(r==null?void 0:r.locale)??s.locale??S0,o=2520,i=Fu(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let d,c;i>0?(d=Pe(t),c=Pe(e)):(d=Pe(e),c=Pe(t));const u=BQ(c,d),m=(Qi(c)-Qi(d))/1e3,h=Math.round((u-m)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<Tb){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<o)return a.formatDistance("xDays",1,l);if(h<hu){const v=Math.round(h/Tb);return a.formatDistance("xDays",v,l)}else if(h<hu*2)return f=Math.round(h/hu),a.formatDistance("aboutXMonths",f,l)}if(f=HQ(c,d),f<12){const v=Math.round(h/hu);return a.formatDistance("xMonths",v,l)}else{const v=f%12,x=Math.trunc(f/12);return v<3?a.formatDistance("aboutXYears",x,l):v<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function UJ(e,t){return $J(e,FQ(e),t)}function VJ(e){const t=Pe(e),r=t.getFullYear(),s=t.getMonth(),a=mn(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function HJ(e){return Math.trunc(+Pe(e)/1e3)}function BJ(e){const t=Pe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function zJ(e,t){return IQ(BJ(e),hn(e),t)+1}function Lg(e,t){const r=Pe(e),s=Pe(t);return r.getTime()>s.getTime()}function dD(e,t){const r=Pe(e),s=Pe(t);return+r<+s}function C0(e,t){const r=Pe(e),s=Pe(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function qJ(e,t){const r=Pe(e),s=Pe(t);return r.getFullYear()===s.getFullYear()}function Af(e,t){return Yt(e,-t)}function Mf(e,t){const r=Pe(e),s=r.getFullYear(),a=r.getDate(),o=mn(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const i=VJ(o);return r.setMonth(t,Math.min(a,i)),r}function _b(e,t){const r=Pe(e);return isNaN(+r)?mn(e,NaN):(r.setFullYear(t),r)}const WJ=({channelId:e,channelName:t,logs:r,loading:s=!1,onRefresh:a,onExport:o,realTimeEnabled:i=!1})=>{const[l,d]=p.useState(""),[c,u]=p.useState("all"),[m,h]=p.useState(new Set),[f,v]=p.useState([]);p.useEffect(()=>{let b=r;l&&(b=b.filter(E=>{var C,P;return E.message.toLowerCase().includes(l.toLowerCase())||((C=E.adapterName)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))||((P=E.correlationId)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))})),c!=="all"&&(b=b.filter(E=>E.level===c)),v(b)},[r,l,c]);const x=b=>{switch(b){case"error":return n.jsx(da,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(ms,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(ua,{className:"h-4 w-4 text-info"});case"debug":return n.jsx(DO,{className:"h-4 w-4 text-muted-foreground"})}},w=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline"}},j=b=>{h(E=>{const C=new Set(E);return C.has(b)?C.delete(b):C.add(b),C})},g=b=>{const E=new Date(b);return{time:E.toLocaleTimeString(),relative:UJ(E,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return r.forEach(E=>b[E.level]++),b})();return n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(hs,{className:"h-5 w-5"}),"Channel Logs",i&&n.jsx(ce,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsxs(ge,{children:["Real-time activity and execution logs for ",t]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsxs(W,{variant:"outline",size:"sm",onClick:o,children:[n.jsx(cm,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&n.jsxs(W,{variant:"outline",size:"sm",onClick:a,disabled:s,children:[n.jsx(Zt,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]})]}),n.jsx("div",{className:"flex items-center gap-4 pt-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ce,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),n.jsxs(ce,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),n.jsxs(ce,{variant:"default",className:"text-xs",children:[N.info," Info"]}),n.jsxs(ce,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),n.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search logs...",value:l,onChange:b=>d(b.target.value),className:"pl-10"})]})}),n.jsxs(J,{value:c,onValueChange:b=>u(b),children:[n.jsxs(X,{className:"w-32",children:[n.jsx(dm,{className:"h-4 w-4 mr-2"}),n.jsx(Z,{})]}),n.jsxs(Q,{children:[n.jsx(M,{value:"all",children:"All Levels"}),n.jsx(M,{value:"error",children:"Error"}),n.jsx(M,{value:"warn",children:"Warning"}),n.jsx(M,{value:"info",children:"Info"}),n.jsx(M,{value:"debug",children:"Debug"})]})]})]})]}),n.jsx(te,{children:n.jsx(mo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||c!=="all"?"No logs match the current filters":"No logs available"}):f.map(b=>{const E=m.has(b.id),C=g(b.timestamp);return n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[x(b.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ce,{variant:w(b.level),className:"text-xs",children:b.level.toUpperCase()}),b.adapterName&&n.jsx(ce,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&n.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),n.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsx("span",{children:C.time}),n.jsx("span",{children:C.relative})]})]})]}),b.details&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>j(b.id),className:"ml-2",children:E?n.jsx(ur,{className:"h-4 w-4"}):n.jsx(qn,{className:"h-4 w-4"})})]}),E&&b.details&&n.jsxs(n.Fragment,{children:[n.jsx(We,{className:"my-2"}),n.jsx("div",{className:"bg-muted/50 rounded p-2",children:n.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})},KJ=(e,t)=>{const[r,s]=p.useState([]),[a,o]=p.useState(!0),[i,l]=p.useState(null);p.useEffect(()=>{e&&d()},[e,t]);const d=async()=>{if(e){o(!0),l(null);try{const c=await ig.getChannelLogs(e,t);c.success&&c.data?s(c.data):(l(c.error||"Failed to load channel logs"),s([]))}catch(c){l(c instanceof Error?c.message:"An unexpected error occurred"),s([])}finally{o(!1)}}};return{logs:r,loading:a,error:i,refreshLogs:d,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},YJ=({channel:e})=>{const[t,r]=p.useState(!1),[s,a]=p.useState(!1),{logs:o,loading:i,connected:l,refreshLogs:d,exportLogs:c}=KJ(e.id,{limit:50}),u=h=>{switch(h){case"running":return"bg-success";case"idle":return"bg-warning";case"stopped":return"bg-destructive";default:return"bg-muted-foreground"}},m=h=>{switch(h){case"active":return"default";case"inactive":return"secondary";case"error":return"destructive";case"testing":return"outline";default:return"outline"}};return n.jsx(ee,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:n.jsxs(te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`h-3 w-3 rounded-full ${u(e.status)}`}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-lg",children:e.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground mr-2",children:"Adapters"}),n.jsx("div",{className:"flex gap-1",children:e.adapters.map(h=>n.jsx(ce,{variant:m(h.status),className:"text-xs",children:h.name},h.id))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[n.jsxs("div",{className:"flex-1 max-w-xs",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Load"}),n.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),n.jsx(Mm,{value:e.load,className:"h-2"})]}),n.jsxs("div",{className:"flex items-center gap-8 ml-8",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"h-4 w-4 text-warning"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.throughput}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"msg/sec"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.lastActivity}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(QO,{className:"h-4 w-4 text-success"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.uptime}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(da,{className:"h-4 w-4 text-destructive"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.totalMessages}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total messages"})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`${e.status==="running"?"Stopping":"Starting"} channel ${e.id}`)},children:[e.status==="running"?n.jsx(qO,{className:"h-4 w-4 mr-2"}):n.jsx(wo,{className:"h-4 w-4 mr-2"}),e.status==="running"?"Pause":"Start"]}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`Opening settings for channel ${e.id}`)},children:[n.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Settings"]}),n.jsx(zl,{open:t,onOpenChange:r,children:n.jsx(Fg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(jc,{className:"h-4 w-4 mr-2"}),"View Logs",t?n.jsx(ur,{className:"h-4 w-4 ml-2"}):n.jsx(qn,{className:"h-4 w-4 ml-2"})]})})}),n.jsx(zl,{open:s,onOpenChange:a,children:n.jsx(Fg,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(_O,{className:"h-4 w-4 mr-2"}),"Detailed Metrics",s?n.jsx(ur,{className:"h-4 w-4 ml-2"}):n.jsx(qn,{className:"h-4 w-4 ml-2"})]})})}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(no,{className:"h-4 w-4 mr-2"}),"Live"]}),l&&n.jsx(ce,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsx(zl,{open:t,onOpenChange:r,children:n.jsx(Og,{className:"mt-4",children:n.jsx(WJ,{channelId:e.id,channelName:e.name,logs:o,loading:i,onRefresh:d,onExport:c,realTimeEnabled:l})})}),n.jsx(zl,{open:s,onOpenChange:a,children:n.jsx(Og,{className:"mt-4",children:n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsx(se,{className:"text-lg",children:"Detailed Adapter Metrics"})}),n.jsx(te,{children:n.jsx("div",{className:"space-y-4",children:e.adapters.map(h=>(h.icon,n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(no,{className:"h-5 w-5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:h.category})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:h.messagesProcessed.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:h.errorCount}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-medium",children:[h.avgResponseTime,"ms"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Response"})]}),n.jsx(ce,{variant:m(h.status),children:h.status})]})]},h.id)))})})]})})})]})})},GJ=({channels:e})=>n.jsx("div",{className:"space-y-4",children:e.length>0?e.map(t=>n.jsx(YJ,{channel:t},t.id)):n.jsx(ka,{icon:n.jsx(Lx,{className:"h-12 w-12"}),title:"No channels found",description:"Channels will appear here once your integration flows are configured and deployed."})});function XJ(){const[e,t]=p.useState(null),[r,s]=p.useState(null),{businessComponents:a,loading:o}=zr(),l=[{id:"1",name:"SAP-to-Salesforce Integration",description:"Customer data synchronization between SAP ERP and Salesforce CRM",status:"running",customerId:(e==null?void 0:e.id)||"1",load:85,throughput:"245 msg/min",uptime:"99.8%",lastActivity:"2 seconds ago",errorRate:.2,totalMessages:124567,healthScore:98,flowMetrics:{totalMessages:124567,successfulMessages:124200,failedMessages:367,averageProcessingTime:"120ms",lastProcessed:"2 seconds ago"},adapters:[{id:"sap-adapter",name:"SAP ERP",status:"connected",category:"Database",messagesProcessed:5e4,errorCount:5,avgResponseTime:"120ms",icon:"Activity"},{id:"salesforce-adapter",name:"Salesforce CRM",status:"connected",category:"Cloud",messagesProcessed:48e3,errorCount:2,avgResponseTime:"95ms",icon:"Activity"}]}].filter(d=>!(e&&d.customerId!==e.id||r&&d.status!==r));return o?n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Zt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading channels..."})]})})}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(no,{className:"h-8 w-8"}),"Channel Monitor"]}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage integration channel performance"})]}),n.jsx(kQ,{channels:l,isCustomerSelected:!!e,statusFilter:r,onStatusFilter:s}),n.jsx(nD,{businessComponents:a,selectedBusinessComponent:e,onBusinessComponentChange:t,loading:o}),n.jsx(GJ,{channels:l})]})}const QJ=({users:e,roles:t,certificates:r,jarFiles:s})=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[n.jsxs(ee,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Total Users"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),n.jsxs(ee,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Sn,{className:"h-4 w-4"}),"Roles"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),n.jsxs(ee,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(_i,{className:"h-4 w-4"}),"Certificates"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),n.jsxs(ee,{className:"hover-scale",children:[n.jsx(re,{className:"pb-2",children:n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(wc,{className:"h-4 w-4"}),"Connection Drivers"]})}),n.jsxs(te,{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]}),rp=p.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ie("w-full caption-bottom text-sm",e),...t})}));rp.displayName="Table";const sp=p.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ie("[&_tr]:border-b",e),...t}));sp.displayName="TableHeader";const ap=p.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ie("[&_tr:last-child]:border-0",e),...t}));ap.displayName="TableBody";const JJ=p.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));JJ.displayName="TableFooter";const vo=p.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));vo.displayName="TableRow";const Nt=p.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Nt.displayName="TableHead";const bt=p.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableCell";const ZJ=p.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));ZJ.displayName="TableCaption";class eZ{async getAllUsers(t=0,r=50){return pe.get(`/users?page=${t}&limit=${r}`)}async getUserById(t){return pe.get(`/users/${t}`)}async createUser(t){const r={...t,password:t.password||this.generateDefaultPassword()};return pe.post("/auth/register",r)}async updateUser(t,r){return pe.put(`/users/${t}`,r)}async deleteUser(t){return pe.delete(`/users/${t}`)}async updateUserStatus(t,r){return pe.patch(`/users/${t}/status`,{status:r})}async resetUserPassword(t){return pe.post(`/users/${t}/reset-password`)}async assignRole(t,r,s={}){return pe.patch(`/users/${t}/role`,{role:r,permissions:s})}async getUserPermissions(t){return pe.get(`/users/${t}/permissions`)}async updateUserPermissions(t,r){return pe.patch(`/users/${t}/permissions`,{permissions:r})}async searchUsers(t,r){const s=new URLSearchParams({q:t,...(r==null?void 0:r.role)&&{role:r.role},...(r==null?void 0:r.status)&&{status:r.status},page:((r==null?void 0:r.page)||1).toString(),limit:((r==null?void 0:r.limit)||50).toString()});return pe.get(`/users/search?${s}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let r="";for(let s=0;s<12;s++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const yn=new eZ,tZ=({open:e,onOpenChange:t,onUserCreated:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=wt(),d=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",o);const m=await yn.createUser(o);m.success?(l({title:"User Created Successfully",description:`User ${o.username} has been created with role ${o.role}.`}),i({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),r==null||r()):l({title:"Error Creating User",description:m.error||"An error occurred while creating the user.",variant:"destructive"})}catch(m){console.error("User creation error:",m),l({title:"Error Creating User",description:m.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},c=u=>m=>{i(h=>({...h,[u]:m}))};return n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"sm:max-w-[425px]",children:[n.jsxs(yt,{children:[n.jsx(jt,{children:"Create New User"}),n.jsx(ga,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"firstName",children:"First Name"}),n.jsx(I,{id:"firstName",value:o.firstName,onChange:u=>c("firstName")(u.target.value),placeholder:"John",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"lastName",children:"Last Name"}),n.jsx(I,{id:"lastName",value:o.lastName,onChange:u=>c("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:s})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:o.username,onChange:u=>c("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email"}),n.jsx(I,{id:"email",type:"email",value:o.email,onChange:u=>c("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Temporary Password"}),n.jsx(I,{id:"password",type:"password",value:o.password,onChange:u=>c("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(J,{value:o.role,onValueChange:c("role"),disabled:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a role"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"administrator",children:"Administrator"}),n.jsx(M,{value:"integrator",children:"Integrator"}),n.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"status",children:"Status"}),n.jsxs(J,{value:o.status,onValueChange:c("status"),disabled:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select status"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"active",children:"Active"}),n.jsx(M,{value:"inactive",children:"Inactive"}),n.jsx(M,{value:"pending",children:"Pending"})]})]})]}),n.jsxs(Fm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:s,children:[s&&n.jsx(ss,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},nZ=[{key:"flows",label:"Flows",icon:Ze,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:Lx,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:zt,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:Ht,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:Sn,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:Qt,permissions:["read"]},{key:"channels",label:"Channels",icon:Lx,permissions:["read"]},{key:"certificates",label:"Certificates",icon:Sn,permissions:["create","read","update","delete"]}],rZ=({open:e,onOpenChange:t,user:r,onUserUpdated:s})=>{const[a,o]=p.useState(!1),[i,l]=p.useState({}),[d,c]=p.useState({}),[u,m]=p.useState(!1),{toast:h}=wt();p.useEffect(()=>{if(r)if(l({email:r.email,firstName:r.first_name,lastName:r.last_name,role:r.role,status:r.status}),r.permissions&&Object.keys(r.permissions).length>0)c(r.permissions),m(!0);else{const j=yn.getRolePermissions(r.role);c(j),m(!1)}},[r]);const f=async j=>{if(j.preventDefault(),!!r){o(!0);try{const g={...i,permissions:u?d:void 0};console.log("Updating user with data:",g);const y=await yn.updateUser(r.id,g);y.success?(h({title:"User Updated Successfully",description:`User ${r.username} has been updated.`}),t(!1),s==null||s()):h({title:"Error Updating User",description:y.error||"An error occurred while updating the user.",variant:"destructive"})}catch(g){console.error("User update error:",g),h({title:"Error Updating User",description:g.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}},v=j=>g=>{if(l(y=>({...y,[j]:g})),j==="role"){const y=yn.getRolePermissions(g);u||c(y)}},x=(j,g)=>{c(y=>{const N=y[j]||[],b=N.includes(g);return{...y,[j]:b?N.filter(E=>E!==g):[...N,g]}})},w=()=>{if(i.role){const j=yn.getRolePermissions(i.role);c(j),m(!1)}};return r?n.jsx(vt,{open:e,onOpenChange:t,children:n.jsxs(mt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[n.jsxs(yt,{children:[n.jsxs(jt,{children:["Edit User: ",r.username]}),n.jsx(ga,{children:"Update user information and customize their permissions."})]}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"firstName",children:"First Name"}),n.jsx(I,{id:"firstName",value:i.firstName||"",onChange:j=>v("firstName")(j.target.value),disabled:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"lastName",children:"Last Name"}),n.jsx(I,{id:"lastName",value:i.lastName||"",onChange:j=>v("lastName")(j.target.value),disabled:a})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email"}),n.jsx(I,{id:"email",type:"email",value:i.email||"",onChange:j=>v("email")(j.target.value),disabled:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(J,{value:i.role||"",onValueChange:v("role"),disabled:a,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select a role"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"administrator",children:"Administrator"}),n.jsx(M,{value:"integrator",children:"Integrator"}),n.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"status",children:"Status"}),n.jsxs(J,{value:i.status||"",onValueChange:v("status"),disabled:a,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select status"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"active",children:"Active"}),n.jsx(M,{value:"inactive",children:"Inactive"}),n.jsx(M,{value:"pending",children:"Pending"})]})]})]})]})]}),n.jsx(We,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"useCustomPermissions",checked:u,onCheckedChange:j=>m(j===!0),disabled:a}),n.jsx(S,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:a,children:"Reset to Role Defaults"})]})]}),n.jsxs(ee,{children:[n.jsx(re,{children:n.jsx(ge,{children:u?"Customize individual permissions for this user":`Using default permissions for ${i.role||"selected"} role`})}),n.jsx(te,{children:n.jsx("div",{className:"grid gap-4",children:nZ.map(j=>{const g=d[j.key]||[],y=j.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(S,{className:"font-medium",children:j.label})]}),n.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:j.permissions.map(N=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:`${j.key}-${N}`,checked:g.includes(N),onCheckedChange:()=>x(j.key,N),disabled:a||!u}),n.jsx(S,{htmlFor:`${j.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},j.key)})})})]})]}),n.jsxs(Fm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:a,children:[a&&n.jsx(ss,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},sZ=({users:e,isLoading:t=!1,onRefresh:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),c=m=>{switch(m){case"administrator":return n.jsx(LC,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(Ze,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(zC,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(Ht,{className:"h-4 w-4"})}},u=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(se,{children:"User Management"}),n.jsx(ge,{children:"Manage system users and their access levels"})]}),n.jsxs("div",{className:"flex gap-2",children:[r&&n.jsxs(W,{variant:"outline",onClick:r,disabled:t,children:[n.jsx(Zt,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),n.jsx(te,{children:t?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((m,h)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Nn,{className:"h-10 w-10 rounded-full"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(Nn,{className:"h-4 w-[200px]"}),n.jsx(Nn,{className:"h-4 w-[150px]"})]}),n.jsx(Nn,{className:"h-8 w-20"}),n.jsx(Nn,{className:"h-8 w-8"})]},h))}):e.length===0?n.jsx(ka,{icon:n.jsx(Ht,{className:"h-12 w-12"}),title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(rp,{children:[n.jsx(sp,{children:n.jsxs(vo,{children:[n.jsx(Nt,{children:"Username"}),n.jsx(Nt,{children:"Email"}),n.jsx(Nt,{children:"Role"}),n.jsx(Nt,{children:"Status"}),n.jsx(Nt,{children:"Last Login"}),n.jsx(Nt,{children:"Actions"})]})}),n.jsx(ap,{children:e.map(m=>n.jsxs(vo,{children:[n.jsx(bt,{className:"font-medium",children:m.username}),n.jsx(bt,{children:m.email}),n.jsx(bt,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[c(m.role),n.jsx("span",{className:"capitalize",children:m.role})]})}),n.jsx(bt,{children:n.jsx(ce,{variant:u(m.status),children:m.status})}),n.jsx(bt,{className:"text-muted-foreground",children:m.last_login_at||"Never"}),n.jsx(bt,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{d(m),i(!0)},children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(Na,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),n.jsx(tZ,{open:s,onOpenChange:a,onUserCreated:()=>{a(!1),r==null||r()}}),n.jsx(rZ,{open:o,onOpenChange:i,user:l,onUserUpdated:()=>{i(!1),d(null),r==null||r()}})]})},aZ=({roles:e})=>{const t=r=>{switch(r){case"administrator":return n.jsx(LC,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(Ze,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(zC,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(Ht,{className:"h-4 w-4"})}};return n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(se,{children:"Role Management"}),n.jsx(ge,{children:"Define and manage user roles and permissions"})]}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})}),n.jsx(te,{children:n.jsx("div",{className:"grid gap-4",children:e.length===0?n.jsx(ka,{icon:n.jsx(Sn,{className:"h-12 w-12"}),title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(r=>n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[t(r.name),n.jsxs("div",{children:[n.jsx(se,{className:"text-lg capitalize",children:r.name}),n.jsx(ge,{children:r.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ce,{variant:"outline",children:[r.userCount," users"]}),n.jsx(W,{variant:"outline",size:"sm",children:n.jsx(rl,{className:"h-4 w-4"})})]})]})}),n.jsx(te,{children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.permissions.map(s=>n.jsx(ce,{variant:"secondary",className:"text-xs",children:s.replace("_"," ")},s))})]})})]},r.id))})})]})},oZ=({certificates:e})=>{const t=r=>{switch(r){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(se,{children:"Certificate Management"}),n.jsx(ge,{children:"Manage SSL certificates and authentication keys"})]}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})}),n.jsx(te,{children:e.length===0?n.jsx(ka,{icon:n.jsx(_i,{className:"h-12 w-12"}),title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(rp,{children:[n.jsx(sp,{children:n.jsxs(vo,{children:[n.jsx(Nt,{children:"Name"}),n.jsx(Nt,{children:"Type"}),n.jsx(Nt,{children:"Issuer"}),n.jsx(Nt,{children:"Valid Period"}),n.jsx(Nt,{children:"Status"}),n.jsx(Nt,{children:"Usage"}),n.jsx(Nt,{children:"Actions"})]})}),n.jsx(ap,{children:e.map(r=>n.jsxs(vo,{children:[n.jsx(bt,{className:"font-medium",children:r.name}),n.jsx(bt,{children:r.type}),n.jsx(bt,{children:r.issuer}),n.jsxs(bt,{className:"text-sm",children:[r.validFrom," to ",r.validTo]}),n.jsx(bt,{children:n.jsx(ce,{variant:t(r.status),children:r.status})}),n.jsx(bt,{className:"text-muted-foreground text-sm",children:r.usage}),n.jsx(bt,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(rl,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(Na,{className:"h-4 w-4"})})]})})]},r.id))})]})})})]})},iZ=({open:e,onOpenChange:t,onDriverAdded:r})=>{const[s,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({databaseType:"",name:"",version:""}),{toast:c}=wt(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],m=v=>{var w;const x=(w=v.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(x);const j=x.name.replace(".jar","");d(g=>({...g,name:j,version:g.version||"1.0.0"}))}},h=async()=>{var v,x;if(!s||!l.databaseType){c({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(j=>setTimeout(j,2e3));const w={id:Date.now().toString(),name:l.name||s.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${(v=u.find(j=>j.value===l.databaseType))==null?void 0:v.label}`,file_name:s.name,size_bytes:s.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w),a(null),d({databaseType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JDBC driver for ${(x=u.find(j=>j.value===l.databaseType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({databaseType:"",name:"",version:""})};return n.jsx(vt,{open:e,onOpenChange:v=>{t(v),v||f()},children:n.jsxs(mt,{className:"sm:max-w-[425px]",children:[n.jsx(yt,{children:n.jsx(jt,{children:"Add JDBC Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"database-type",children:"Database Type *"}),n.jsxs(J,{value:l.databaseType,onValueChange:v=>d(x=>({...x,databaseType:v})),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select database type"})}),n.jsx(Q,{children:u.map(v=>n.jsx(M,{value:v.value,children:v.label},v.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{id:"jdbc-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),s&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",s.name," (",Math.round(s.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(I,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:v=>d(x=>({...x,name:v.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-version",children:"Version"}),n.jsx(I,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:v=>d(x=>({...x,version:v.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:h,disabled:o||!s||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(Hv,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},lZ=({open:e,onOpenChange:t,onDriverAdded:r})=>{const[s,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({brokerType:"",name:"",version:""}),{toast:c}=wt(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],m=v=>{var w;const x=(w=v.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(x);const j=x.name.replace(".jar","");d(g=>({...g,name:j,version:g.version||"1.0.0"}))}},h=async()=>{var v,x;if(!s||!l.brokerType){c({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(j=>setTimeout(j,2e3));const w={id:Date.now().toString(),name:l.name||s.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${(v=u.find(j=>j.value===l.brokerType))==null?void 0:v.label}`,file_name:s.name,size_bytes:s.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(w),a(null),d({brokerType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JMS driver for ${(x=u.find(j=>j.value===l.brokerType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({brokerType:"",name:"",version:""})};return n.jsx(vt,{open:e,onOpenChange:v=>{t(v),v||f()},children:n.jsxs(mt,{className:"sm:max-w-[425px]",children:[n.jsx(yt,{children:n.jsx(jt,{children:"Add JMS Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"broker-type",children:"Message Broker Type *"}),n.jsxs(J,{value:l.brokerType,onValueChange:v=>d(x=>({...x,brokerType:v})),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select broker type"})}),n.jsx(Q,{children:u.map(v=>n.jsx(M,{value:v.value,children:v.label},v.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jms-file",children:"JMS Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{id:"jms-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),s&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",s.name," (",Math.round(s.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(I,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:v=>d(x=>({...x,name:v.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-version",children:"Version"}),n.jsx(I,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:v=>d(x=>({...x,version:v.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:h,disabled:o||!s||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(Hv,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},cZ=({jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r})=>{const[s,a]=p.useState(!1),[o,i]=p.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[n.jsxs(ee,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>a(!0),children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(zt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),n.jsx(se,{className:"text-xl",children:"JDBC Driver"}),n.jsx(ge,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),n.jsx(te,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),n.jsxs(ee,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>i(!0),children:[n.jsxs(re,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(Qt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),n.jsx(se,{className:"text-xl",children:"JMS Driver"}),n.jsx(ge,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),n.jsx(te,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]})]}),e.length===0?n.jsx(ka,{icon:n.jsx(wc,{className:"h-12 w-12"}),title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(l=>n.jsxs(ee,{children:[n.jsxs(re,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[l.driver_type==="JDBC"?n.jsx(zt,{className:"h-5 w-5 text-blue-600"}):n.jsx(Qt,{className:"h-5 w-5 text-green-600"}),n.jsx(se,{className:"text-base",children:l.name})]}),n.jsx(ge,{className:"text-xs",children:l.file_name})]}),n.jsxs(te,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Version:"}),n.jsx("span",{children:l.version})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:l.driver_type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Size:"}),n.jsx("span",{children:l.size_bytes?`${Math.round(l.size_bytes/1024)} KB`:"N/A"})]})]}),n.jsx(W,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>r(l.id),children:"Remove"})]})]},l.id))})]}),n.jsx(iZ,{open:s,onOpenChange:a,onDriverAdded:t}),n.jsx(lZ,{open:o,onOpenChange:i,onDriverAdded:t})]})},dZ=({jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r})=>n.jsx(cZ,{jarFiles:e,onJarFileAdded:t,onJarFileDeleted:r});class uZ{async createAdapter(t){return pe.post("/adapters",t)}async getAdapters(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())});const s=`/adapters${r.toString()?`?${r.toString()}`:""}`;return pe.get(s)}async getAdapter(t){return pe.get(`/adapters/${t}`)}async updateAdapter(t,r){return pe.put(`/adapters/${t}`,r)}async deleteAdapter(t){return pe.delete(`/adapters/${t}`)}async cloneAdapter(t,r){return pe.post(`/adapters/${t}/clone`,{name:r})}}class hZ{async testAdapter(t,r){return pe.post(`/adapters/${t}/test`,{testData:r})}async testAdapterConfiguration(t,r){return pe.post("/adapters/test-config",{configuration:t,type:r})}async validateAdapterConfig(t,r){return pe.post("/adapters/validate-config",{type:t,configuration:r})}}class mZ{constructor(){et(this,"websocket",null);et(this,"reconnectAttempts",0);et(this,"maxReconnectAttempts",5);et(this,"reconnectInterval",3e3);et(this,"logListeners",[]);et(this,"statsListeners",[])}async getAdapterStats(t,r){const s=`/adapters/${t}/stats${r?`?timeRange=${r}`:""}`;return pe.get(s)}async getAdapterLogs(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([o,i])=>{i!==void 0&&s.append(o,i.toString())});const a=`/adapters/${t}/logs${s.toString()?`?${s.toString()}`:""}`;return pe.get(a)}connectWebSocket(t){var s;if(((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN)return;const r=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(r),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=a=>{try{const o=JSON.parse(a.data);o.type==="new_log"?this.logListeners.forEach(i=>i(o.log)):o.type==="stats_update"&&this.statsListeners.forEach(i=>i(o.stats))}catch(o){console.error("Error parsing WebSocket message:",o)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=a=>{console.error("WebSocket error:",a)}}catch(a){console.error("Failed to create WebSocket connection:",a)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const r=this.logListeners.indexOf(t);r>-1&&this.logListeners.splice(r,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const r=this.statsListeners.indexOf(t);r>-1&&this.statsListeners.splice(r,1)}}sendCommand(t,r){var s;((s=this.websocket)==null?void 0:s.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:r}))}}class pZ{async getAdapterTypes(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())});const s=`/adapters/types${r.toString()?`?${r.toString()}`:""}`;return pe.get(s)}async getAdapterType(t){return pe.get(`/adapters/types/${t}`)}async createAdapterType(t){return pe.post("/adapters/types",t)}async updateAdapterType(t,r){return pe.put(`/adapters/types/${t}`,r)}async deleteAdapterType(t){return pe.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,r){return pe.post(`/adapters/types/${t}/clone`,{name:r})}async getAdapterTypesByCategory(t){return pe.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,r){return pe.patch(`/adapters/types/${t}/status`,{isActive:r})}async validateAdapterTypeConfiguration(t,r){return pe.post("/adapters/types/validate",{configuration:t,category:r})}async searchAdapterTypes(t,r){const s=new URLSearchParams({q:t,...(r==null?void 0:r.category)&&{category:r.category},...(r==null?void 0:r.isActive)!==void 0&&{isActive:r.isActive.toString()},page:((r==null?void 0:r.page)||1).toString(),limit:((r==null?void 0:r.limit)||50).toString()});return pe.get(`/adapters/types/search?${s}`)}async getAdapterTypeUsage(t){return pe.get(`/adapters/types/${t}/usage`)}}class fZ{constructor(){et(this,"api");et(this,"testing");et(this,"monitoring");et(this,"types");this.api=new uZ,this.testing=new hZ,this.monitoring=new mZ,this.types=new pZ}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return NM.validateAdapter(t)}}const xZ=new fZ;class gZ{constructor(){et(this,"listeners",[]);et(this,"API_BASE_URL","http://localhost:8080/api");window.addEventListener("error",t=>{var r;this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(r=t.error)==null?void 0:r.stack})}),window.addEventListener("unhandledrejection",t=>{var r;this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:(r=t.reason)==null?void 0:r.stack})})}async logError(t,r){const s={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:r,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};await this.sendLogToBackend(s),this.notifyListeners(s)}async logInfo(t,r,s="system",a,o){const i={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:r,source:s,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async logWarning(t,r,s="system",a,o){const i={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:r,source:s,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async sendLogToBackend(t){try{await fetch(`${this.API_BASE_URL}/system/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(r){console.error("Failed to send log to backend:",r)}}async getAllLogs(){try{const t=await fetch(`${this.API_BASE_URL}/system/logs`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to fetch logs from backend:",t),[]}}async getFilteredLogs(t){try{const r=new URLSearchParams;Object.entries(t).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const s=`${this.API_BASE_URL}/system/logs${r.toString()?`?${r.toString()}`:""}`,a=await fetch(s);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(r){return console.error("Failed to fetch filtered logs from backend:",r),[]}}onLogUpdate(t){return this.listeners.push(t),()=>{const r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}}notifyListeners(t){this.listeners.forEach(r=>r(t))}}const Df=new gZ,E0=(e={})=>{const[t,r]=p.useState([]),[s,a]=p.useState({adapters:[],channels:[],flows:[]}),[o,i]=p.useState(!1),[l,d]=p.useState(),c=async()=>{var h;try{const[f,v]=await Promise.all([xZ.getAdapters(),pe.get("/channels")]);a({adapters:f.success?((h=f.data)==null?void 0:h.adapters)||[]:[],channels:v.success?v.data||[]:[],flows:[]})}catch(f){console.error("Failed to fetch sources:",f)}},u=async()=>{i(!0),d(void 0);try{const h=new URLSearchParams;e.source&&h.append("source",e.source),e.sourceId&&h.append("sourceId",e.sourceId),e.level&&h.append("level",e.level),e.search&&h.append("search",e.search),e.startDate&&h.append("startDate",e.startDate),e.endDate&&h.append("endDate",e.endDate),e.domainType&&h.append("domainType",e.domainType),e.domainReferenceId&&h.append("domainReferenceId",e.domainReferenceId);const f=`/api/logs/system${h.toString()?`?${h.toString()}`:""}`,v=await pe.get(f);if(v.success&&v.data)r(v.data);else{const x=Df.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});r(x)}}catch{try{const f=Df.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});r(f)}catch(f){d(f instanceof Error?f.message:"Failed to fetch logs"),r([])}}finally{i(!1)}},m=()=>{u()};return p.useEffect(()=>{c()},[]),p.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),p.useEffect(()=>{if(e.autoRefresh){const h=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(h)}},[e.autoRefresh,e.refreshInterval]),p.useEffect(()=>Df.onLogUpdate(()=>{u()}),[]),{logs:t,sources:s,loading:o,error:l,refetch:m}},$o=e=>{const[t,r]=p.useState([]),[s,a]=p.useState(!1),[o,i]=p.useState(),{logs:l,loading:d,error:c}=E0({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),i(void 0);try{const h=vZ(e.domainType),f=new URLSearchParams;e.referenceId&&f.append("referenceId",e.referenceId);const v=`/api/logs/${h}${f.toString()?`?${f.toString()}`:""}`,x=await pe.get(v);x.success&&x.data?r(x.data):r(Fb(e.domainType,e.referenceId))}catch(h){r(Fb(e.domainType,e.referenceId)),console.warn(`Failed to fetch domain errors for ${e.domainType}:`,h)}finally{a(!1)}},m=()=>{u()};return p.useEffect(()=>{u()},[e.domainType,e.referenceId]),p.useEffect(()=>{if(e.autoRefresh){const h=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(h)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t,systemLogs:e.includeSystemLogs?l:[],loading:s||(e.includeSystemLogs?d:!1),error:o||(e.includeSystemLogs?c:void 0),refetch:m}},vZ=e=>({UserManagement:"user-errors",FlowEngine:"flow-errors",AdapterManagement:"adapter-errors",DataStructures:"structure-errors",ChannelManagement:"channel-errors",MessageProcessing:"message-errors"})[e],Fb=(e,t)=>[{id:"1",action:"TestAction",description:`Mock ${e} error`,payload:JSON.stringify({mockData:!0,referenceId:t}),createdAt:new Date().toISOString(),systemLogId:"mock-log-1"}],yZ=({logs:e,loading:t,error:r,selectedSource:s})=>{const[a,o]=p.useState(new Set),i=m=>{const h=new Set(a);h.has(m)?h.delete(m):h.add(m),o(h)},l=m=>{switch(m){case"error":return n.jsx(da,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(ms,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(ua,{className:"h-4 w-4 text-success"});default:return n.jsx(lw,{className:"h-4 w-4 text-muted-foreground"})}},d=m=>{switch(m){case"error":return n.jsx(ce,{variant:"destructive",children:"Error"});case"warn":return n.jsx(ce,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return n.jsx(ce,{variant:"outline",children:"Info"});case"debug":return n.jsx(ce,{variant:"secondary",children:"Debug"});default:return n.jsx(ce,{variant:"outline",children:m})}},c=(m,h)=>{const f=h||m;switch(m){case"adapter":return n.jsx(ce,{variant:"default",children:f});case"channel":return n.jsx(ce,{variant:"secondary",children:f});case"system":return n.jsx(ce,{variant:"outline",children:"System"});case"flow":return n.jsxs(ce,{variant:"default",children:["Flow: ",f]});case"api":return n.jsx(ce,{variant:"destructive",children:"API"});default:return n.jsx(ce,{variant:"outline",children:f})}},u=m=>new Date(m).toLocaleString();return t?n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):r?n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",r]})})}):e.length===0?n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-8 text-center",children:n.jsx("div",{className:"text-muted-foreground",children:s?"No logs found for the selected filters":"No system logs available"})})}):n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(lw,{className:"h-5 w-5"}),"System Logs (",e.length,")"]})}),n.jsx(te,{children:n.jsx(mo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:e.map(m=>n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l(m.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(m.level),c(m.source,m.sourceName),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(hs,{className:"h-3 w-3"}),u(m.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:m.message}),m.details&&n.jsxs("div",{className:"mt-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(m.id),className:"text-xs",children:a.has(m.id)?"Hide Details":"Show Details"}),a.has(m.id)&&n.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:n.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof m.details=="string"?m.details:JSON.stringify(m.details,null,2)})})]})]})]})}),m!==e[e.length-1]&&n.jsx(We,{className:"mt-3"})]},m.id))})})})]})},Uo=({domainType:e,domainErrors:t,systemLogs:r,loading:s,error:a,referenceId:o,referenceName:i})=>{const[l,d]=p.useState(new Set),[c,u]=p.useState(new Set),m=g=>{const y=new Set(l);y.has(g)?y.delete(g):y.add(g),d(y)},h=g=>{const y=new Set(c);y.has(g)?y.delete(g):y.add(g),u(y)},f=g=>{const N={UserManagement:Nc,FlowEngine:um,AdapterManagement:ro,DataStructures:zt,ChannelManagement:Ze,MessageProcessing:Qt}[g];return n.jsx(N,{className:"h-4 w-4"})},v=g=>{const y={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(y).find(E=>g.includes(E))||"default",b=y[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return n.jsx(ce,{variant:"secondary",className:b,children:g})},x=g=>{switch(g){case"error":return n.jsx(Ya,{className:"h-4 w-4 text-red-500"});case"warn":return n.jsx(ms,{className:"h-4 w-4 text-yellow-500"});case"info":return n.jsx(ua,{className:"h-4 w-4 text-blue-500"});case"debug":return n.jsx(Ze,{className:"h-4 w-4 text-gray-500"});default:return n.jsx(ua,{className:"h-4 w-4 text-gray-500"})}},w=g=>new Date(g).toLocaleString(),j=g=>{try{const y=JSON.parse(g);return JSON.stringify(y,null,2)}catch{return g}};return s?n.jsx(ee,{children:n.jsx(te,{className:"p-6",children:n.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?n.jsxs($n,{variant:"destructive",children:[n.jsx(ms,{className:"h-4 w-4"}),n.jsx(Un,{children:a})]}):n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[f(e),e," Logs",i&&n.jsx(ce,{variant:"outline",children:i})]})}),n.jsx(te,{children:n.jsxs(Ye,{defaultValue:"errors",className:"w-full",children:[n.jsxs(qe,{className:"grid w-full grid-cols-2",children:[n.jsxs(be,{value:"errors",children:["User-Friendly Errors (",t.length,")"]}),n.jsxs(be,{value:"system",children:["System Logs (",r.length,")"]})]}),n.jsx(je,{value:"errors",children:n.jsx(mo,{className:"h-[600px] w-full",children:t.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):n.jsx("div",{className:"space-y-4",children:t.map(g=>n.jsx(ee,{className:"border-l-4 border-l-red-500",children:n.jsx(te,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[v(g.action),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(hs,{className:"h-3 w-3 inline mr-1"}),w(g.createdAt)]})]}),g.description&&n.jsx("p",{className:"text-sm font-medium",children:g.description}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(g.id),className:"h-6 px-2",children:[l.has(g.id)?n.jsx(ur,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"}),"Show Details"]})}),l.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:j(g.payload)})]}),g.systemLogId&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),n.jsx(ce,{variant:"outline",className:"text-xs",children:g.systemLogId})]})]})]})})})},g.id))})})}),n.jsx(je,{value:"system",children:n.jsx(mo,{className:"h-[600px] w-full",children:r.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):n.jsx("div",{className:"space-y-4",children:r.map(g=>n.jsx(ee,{children:n.jsx(te,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[x(g.level),n.jsx(ce,{variant:g.level==="error"?"destructive":"secondary",children:g.level.toUpperCase()}),g.source&&n.jsx(ce,{variant:"outline",children:g.source}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(hs,{className:"h-3 w-3 inline mr-1"}),w(g.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium",children:g.message}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>h(g.id),className:"h-6 px-2",children:[c.has(g.id)?n.jsx(ur,{className:"h-3 w-3"}):n.jsx(qn,{className:"h-3 w-3"}),"Show Details"]})}),c.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[g.details&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof g.details=="string"?g.details:JSON.stringify(g.details,null,2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[g.sourceName&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source Name:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceName})]}),g.sourceId&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source ID:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceId})]})]})]})]})})})},g.id))})})})]})})]})};var Ee=function(){return Ee=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ee.apply(this,arguments)};function jZ(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function uD(e,t,r){for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function vd(e){return e.mode==="multiple"}function yd(e){return e.mode==="range"}function op(e){return e.mode==="single"}var wZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function NZ(e,t){return gs(e,"LLLL y",t)}function bZ(e,t){return gs(e,"d",t)}function SZ(e,t){return gs(e,"LLLL",t)}function CZ(e){return"".concat(e)}function EZ(e,t){return gs(e,"cccccc",t)}function PZ(e,t){return gs(e,"yyyy",t)}var kZ=Object.freeze({__proto__:null,formatCaption:NZ,formatDay:bZ,formatMonthCaption:SZ,formatWeekNumber:CZ,formatWeekdayName:EZ,formatYearCaption:PZ}),TZ=function(e,t,r){return gs(e,"do MMMM (EEEE)",r)},AZ=function(){return"Month: "},MZ=function(){return"Go to next month"},DZ=function(){return"Go to previous month"},RZ=function(e,t){return gs(e,"cccc",t)},_Z=function(e){return"Week n. ".concat(e)},FZ=function(){return"Year: "},OZ=Object.freeze({__proto__:null,labelDay:TZ,labelMonthDropdown:AZ,labelNext:MZ,labelPrevious:DZ,labelWeekNumber:_Z,labelWeekday:RZ,labelYearDropdown:FZ});function IZ(){var e="buttons",t=wZ,r=S0,s={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:kZ,labels:OZ,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function LZ(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return s?o=hn(s):t&&(o=new Date(t,0,1)),a?i=np(a):r&&(i=new Date(r,11,31)),{fromDate:o?Xi(o):void 0,toDate:i?Xi(i):void 0}}var hD=p.createContext(void 0);function $Z(e){var t,r=e.initialProps,s=IZ(),a=LZ(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(op(r)||vd(r)||yd(r))&&(d=r.onSelect);var c=Ee(Ee(Ee({},s),r),{captionLayout:l,classNames:Ee(Ee({},s.classNames),r.classNames),components:Ee({},r.components),formatters:Ee(Ee({},s.formatters),r.formatters),fromDate:o,labels:Ee(Ee({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Ee(Ee({},s.modifiers),r.modifiers),modifiersClassNames:Ee(Ee({},s.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Ee(Ee({},s.styles),r.styles),toDate:i});return n.jsx(hD.Provider,{value:c,children:e.children})}function Ge(){var e=p.useContext(hD);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function mD(e){var t=Ge(),r=t.locale,s=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function UZ(e){return n.jsx("svg",Ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pD(e){var t,r,s=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,c=Ge(),u=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:UZ;return n.jsxs("div",{className:l,style:d,children:[n.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:s,children:o}),n.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function VZ(e){var t,r=Ge(),s=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,c=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var m=[];if(qJ(s,a))for(var h=hn(s),f=s.getMonth();f<=a.getMonth();f++)m.push(Mf(h,f));else for(var h=hn(new Date),f=0;f<=11;f++)m.push(Mf(h,f));var v=function(w){var j=Number(w.target.value),g=Mf(hn(e.displayMonth),j);e.onChange(g)},x=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:pD;return n.jsx(x,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(w){return n.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function HZ(e){var t,r=e.displayMonth,s=Ge(),a=s.fromDate,o=s.toDate,i=s.locale,l=s.styles,d=s.classNames,c=s.components,u=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,h=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var f=a.getFullYear(),v=o.getFullYear(),x=f;x<=v;x++)h.push(_b(sD(new Date),x));var w=function(g){var y=_b(hn(r),Number(g.target.value));e.onChange(y)},j=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:pD;return n.jsx(j,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:u(r,{locale:i}),children:h.map(function(g){return n.jsx("option",{value:g.getFullYear(),children:u(g,{locale:i})},g.getFullYear())})})}function BZ(e,t){var r=p.useState(e),s=r[0],a=r[1],o=t===void 0?s:t;return[o,a]}function zZ(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Ji(o,a)<0){var c=-1*(d-1);a=fr(o,c)}return i&&Ji(a,i)<0&&(a=i),hn(a)}function qZ(){var e=Ge(),t=zZ(e),r=BZ(t,e.month),s=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var d=hn(i);a(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[s,o]}function WZ(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=hn(e),o=hn(fr(a,s)),i=Ji(o,a),l=[],d=0;d<i;d++){var c=fr(a,d);l.push(c)}return r&&(l=l.reverse()),l}function KZ(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=hn(e);if(!r)return fr(l,i);var d=Ji(r,e);if(!(d<o))return fr(l,i)}}function YZ(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=hn(e);if(!r)return fr(l,-i);var d=Ji(l,r);if(!(d<=0))return fr(l,-i)}}var fD=p.createContext(void 0);function GZ(e){var t=Ge(),r=qZ(),s=r[0],a=r[1],o=WZ(s,t),i=KZ(s,t),l=YZ(s,t),d=function(m){return o.some(function(h){return C0(m,h)})},c=function(m,h){d(m)||(h&&dD(m,h)?a(fr(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:s,displayMonths:o,goToMonth:a,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:d};return n.jsx(fD.Provider,{value:u,children:e.children})}function jd(){var e=p.useContext(fD);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ob(e){var t,r=Ge(),s=r.classNames,a=r.styles,o=r.components,i=jd().goToMonth,l=function(u){i(fr(u,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:mD,c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:c}),n.jsx(VZ,{onChange:l,displayMonth:e.displayMonth}),n.jsx(HZ,{onChange:l,displayMonth:e.displayMonth})]})}function XZ(e){return n.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function QZ(e){return n.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Vh=p.forwardRef(function(e,t){var r=Ge(),s=r.classNames,a=r.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var i=o.join(" "),l=Ee(Ee({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Ee({},e,{ref:t,type:"button",className:i,style:l}))});function JZ(e){var t,r,s=Ge(),a=s.dir,o=s.locale,i=s.classNames,l=s.styles,d=s.labels,c=d.labelPrevious,u=d.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=c(e.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),v=u(e.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),w=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:QZ,j=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:XZ;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Vh,{name:"previous-month","aria-label":h,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(w,{className:i.nav_icon,style:l.nav_icon}):n.jsx(j,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Vh,{name:"next-month","aria-label":v,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:i.nav_icon,style:l.nav_icon}):n.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function Ib(e){var t=Ge().numberOfMonths,r=jd(),s=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(v){return C0(e.displayMonth,v)}),d=l===0,c=l===i.length-1,u=t>1&&(d||!c),m=t>1&&(c||!d),h=function(){s&&o(s)},f=function(){a&&o(a)};return n.jsx(JZ,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:f})}function ZZ(e){var t,r=Ge(),s=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:mD,c;return a?c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=n.jsx(Ob,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=n.jsxs(n.Fragment,{children:[n.jsx(Ob,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(Ib,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Ib,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:o.caption,children:c})}function eee(e){var t=Ge(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function tee(e,t,r){for(var s=r?go(new Date):Hr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Yt(s,o);a.push(i)}return a}function nee(){var e=Ge(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=tee(a,o,i);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),c.map(function(u,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function ree(){var e,t=Ge(),r=t.classNames,s=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:nee;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(o,{})})}function see(e){var t=Ge(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var P0=p.createContext(void 0);function aee(e){if(!vd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(P0.Provider,{value:t,children:e.children})}return n.jsx(oee,{initialProps:e.initialProps,children:e.children})}function oee(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,o=t.max,i=function(c,u,m){var h,f;(h=t.onDayClick)===null||h===void 0||h.call(t,c,u,m);var v=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!v){var x=!!(!u.selected&&o&&(s==null?void 0:s.length)===o);if(!x){var w=s?uD([],s):[];if(u.selected){var j=w.findIndex(function(g){return ln(c,g)});w.splice(j,1)}else w.push(c);(f=t.onSelect)===null||f===void 0||f.call(t,w,c,u,m)}}},l={disabled:[]};s&&l.disabled.push(function(c){var u=o&&s.length>o-1,m=s.some(function(h){return ln(h,c)});return!!(u&&!m)});var d={selected:s,onDayClick:i,modifiers:l};return n.jsx(P0.Provider,{value:d,children:r})}function k0(){var e=p.useContext(P0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function iee(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?ln(a,e)&&ln(s,e)?void 0:ln(a,e)?{from:a,to:void 0}:ln(s,e)?void 0:Lg(s,e)?{from:e,to:a}:{from:s,to:e}:a?Lg(e,a)?{from:a,to:e}:{from:e,to:a}:s?dD(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var T0=p.createContext(void 0);function lee(e){if(!yd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(T0.Provider,{value:t,children:e.children})}return n.jsx(cee,{initialProps:e.initialProps,children:e.children})}function cee(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},o=a.from,i=a.to,l=t.min,d=t.max,c=function(f,v,x){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,f,v,x);var g=iee(f,s);(j=t.onSelect)===null||j===void 0||j.call(t,g,f,v,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],ln(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:Af(o,l-1),before:Yt(o,l-1)}),o&&i&&u.disabled.push({after:o,before:Yt(o,l-1)}),!o&&i&&u.disabled.push({after:Af(i,l-1),before:Yt(i,l-1)})),d){if(o&&!i&&(u.disabled.push({before:Yt(o,-d+1)}),u.disabled.push({after:Yt(o,d-1)})),o&&i){var m=Rr(i,o)+1,h=d-m;u.disabled.push({before:Af(o,h)}),u.disabled.push({after:Yt(i,h)})}!o&&i&&(u.disabled.push({before:Yt(i,-d+1)}),u.disabled.push({after:Yt(i,d-1)}))}return n.jsx(T0.Provider,{value:{selected:s,onDayClick:c,modifiers:u},children:r})}function A0(){var e=p.useContext(T0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ou(e){return Array.isArray(e)?uD([],e):e!==void 0?[e]:[]}function dee(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=Ou(a)}),t}var xr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xr||(xr={}));var uee=xr.Selected,Qr=xr.Disabled,hee=xr.Hidden,mee=xr.Today,Rf=xr.RangeEnd,_f=xr.RangeMiddle,Ff=xr.RangeStart,pee=xr.Outside;function fee(e,t,r){var s,a=(s={},s[uee]=Ou(e.selected),s[Qr]=Ou(e.disabled),s[hee]=Ou(e.hidden),s[mee]=[e.today],s[Rf]=[],s[_f]=[],s[Ff]=[],s[pee]=[],s);return e.fromDate&&a[Qr].push({before:e.fromDate}),e.toDate&&a[Qr].push({after:e.toDate}),vd(e)?a[Qr]=a[Qr].concat(t.modifiers[Qr]):yd(e)&&(a[Qr]=a[Qr].concat(r.modifiers[Qr]),a[Ff]=r.modifiers[Ff],a[_f]=r.modifiers[_f],a[Rf]=r.modifiers[Rf]),a}var xD=p.createContext(void 0);function xee(e){var t=Ge(),r=k0(),s=A0(),a=fee(t,r,s),o=dee(t.modifiers),i=Ee(Ee({},a),o);return n.jsx(xD.Provider,{value:i,children:e.children})}function gD(){var e=p.useContext(xD);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function gee(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function vee(e){return!!(e&&typeof e=="object"&&"from"in e)}function yee(e){return!!(e&&typeof e=="object"&&"after"in e)}function jee(e){return!!(e&&typeof e=="object"&&"before"in e)}function wee(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Nee(e,t){var r,s=t.from,a=t.to;if(s&&a){var o=Rr(a,s)<0;o&&(r=[a,s],s=r[0],a=r[1]);var i=Rr(e,s)>=0&&Rr(a,e)>=0;return i}return a?ln(a,e):s?ln(s,e):!1}function bee(e){return N0(e)}function See(e){return Array.isArray(e)&&e.every(N0)}function Cee(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(bee(r))return ln(e,r);if(See(r))return r.includes(e);if(vee(r))return Nee(e,r);if(wee(r))return r.dayOfWeek.includes(e.getDay());if(gee(r)){var s=Rr(r.before,e),a=Rr(r.after,e),o=s>0,i=a<0,l=Lg(r.before,r.after);return l?i&&o:o||i}return yee(r)?Rr(e,r.after)>0:jee(r)?Rr(r.before,e)>0:typeof r=="function"?r(e):!1})}function M0(e,t,r){var s=Object.keys(t).reduce(function(o,i){var l=t[i];return Cee(e,l)&&o.push(i),o},[]),a={};return s.forEach(function(o){return a[o]=!0}),r&&!C0(e,r)&&(a.outside=!0),a}function Eee(e,t){for(var r=hn(e[0]),s=np(e[e.length-1]),a,o,i=r;i<=s;){var l=M0(i,t),d=!l.disabled&&!l.hidden;if(!d){i=Yt(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Yt(i,1)}return o||a}var Pee=365;function vD(e,t){var r=t.moveBy,s=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=a.weekStartsOn,c=a.fromDate,u=a.toDate,m=a.locale,h={day:Yt,week:Ig,month:fr,year:DQ,startOfWeek:function(w){return a.ISOWeek?go(w):Hr(w,{locale:m,weekStartsOn:d})},endOfWeek:function(w){return a.ISOWeek?aD(w):b0(w,{locale:m,weekStartsOn:d})}},f=h[r](e,s==="after"?1:-1);s==="before"&&c?f=RQ([c,f]):s==="after"&&u&&(f=_Q([u,f]));var v=!0;if(o){var x=M0(f,o);v=!x.disabled&&!x.hidden}return v?f:l.count>Pee?l.lastFocused:vD(f,{moveBy:r,direction:s,context:a,modifiers:o,retry:Ee(Ee({},l),{count:l.count+1})})}var yD=p.createContext(void 0);function kee(e){var t=jd(),r=gD(),s=p.useState(),a=s[0],o=s[1],i=p.useState(),l=i[0],d=i[1],c=Eee(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:c,m=function(){d(a),o(void 0)},h=function(w){o(w)},f=Ge(),v=function(w,j){if(a){var g=vD(a,{moveBy:w,direction:j,context:f,modifiers:r});ln(a,g)||(t.goToDate(g,a),h(g))}},x={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return n.jsx(yD.Provider,{value:x,children:e.children})}function D0(){var e=p.useContext(yD);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Tee(e,t){var r=gD(),s=M0(e,r,t);return s}var R0=p.createContext(void 0);function Aee(e){if(!op(e.initialProps)){var t={selected:void 0};return n.jsx(R0.Provider,{value:t,children:e.children})}return n.jsx(Mee,{initialProps:e.initialProps,children:e.children})}function Mee(e){var t=e.initialProps,r=e.children,s=function(o,i,l){var d,c,u;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:s};return n.jsx(R0.Provider,{value:a,children:r})}function jD(){var e=p.useContext(R0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Dee(e,t){var r=Ge(),s=jD(),a=k0(),o=A0(),i=D0(),l=i.focusDayAfter,d=i.focusDayBefore,c=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,h=i.focus,f=i.focusMonthBefore,v=i.focusMonthAfter,x=i.focusYearBefore,w=i.focusYearAfter,j=i.focusStartOfWeek,g=i.focusEndOfWeek,y=function(F){var R,D,H,B;op(r)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,F):vd(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,F):yd(r)?(H=o.onDayClick)===null||H===void 0||H.call(o,e,t,F):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,F)},N=function(F){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,F)},b=function(F){var R;m(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,F)},E=function(F){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,F)},C=function(F){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,F)},P=function(F){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,F)},O=function(F){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,F)},T=function(F){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,F)},_=function(F){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,F)},k=function(F){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,F)},$=function(F){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,F)},A=function(F){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,F)},U=function(F){var R;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),c();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),u();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?x():f();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?w():v();break;case"Home":F.preventDefault(),F.stopPropagation(),j();break;case"End":F.preventDefault(),F.stopPropagation(),g();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,F)},L={onClick:y,onFocus:N,onBlur:b,onKeyDown:U,onKeyUp:A,onMouseEnter:E,onMouseLeave:C,onPointerEnter:P,onPointerLeave:O,onTouchCancel:T,onTouchEnd:_,onTouchMove:k,onTouchStart:$};return L}function Ree(){var e=Ge(),t=jD(),r=k0(),s=A0(),a=op(e)?t.selected:vd(e)?r.selected:yd(e)?s.selected:void 0;return a}function _ee(e){return Object.values(xr).includes(e)}function Fee(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(_ee(s)){var o=e.classNames["day_".concat(s)];o&&r.push(o)}}),r}function Oee(e,t){var r=Ee({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Ee(Ee({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function Iee(e,t,r){var s,a,o,i=Ge(),l=D0(),d=Tee(e,t),c=Dee(e,d),u=Ree(),m=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var E;d.outside||l.focusedDay&&m&&ln(l.focusedDay,e)&&((E=r.current)===null||E===void 0||E.focus())},[l.focusedDay,e,r,m,d.outside]);var h=Fee(i,d).join(" "),f=Oee(i,d),v=!!(d.outside&&!i.showOutsideDays||d.hidden),x=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:see,w=n.jsx(x,{date:e,displayMonth:t,activeModifiers:d}),j={style:f,className:h,children:w,role:"gridcell"},g=l.focusTarget&&ln(l.focusTarget,e)&&!d.outside,y=l.focusedDay&&ln(l.focusedDay,e),N=Ee(Ee(Ee({},j),(s={disabled:d.disabled,role:"gridcell"},s["aria-selected"]=d.selected,s.tabIndex=y||g?0:-1,s)),c),b={isButton:m,isHidden:v,activeModifiers:d,selectedDays:u,buttonProps:N,divProps:j};return b}function Lee(e){var t=p.useRef(null),r=Iee(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Vh,Ee({name:"day",ref:t},r.buttonProps)):n.jsx("div",Ee({},r.divProps))}function $ee(e){var t=e.number,r=e.dates,s=Ge(),a=s.onWeekNumberClick,o=s.styles,i=s.classNames,l=s.locale,d=s.labels.labelWeekNumber,c=s.formatters.formatWeekNumber,u=c(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=d(Number(t),{locale:l}),h=function(f){a(t,r,f)};return n.jsx(Vh,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function Uee(e){var t,r,s=Ge(),a=s.styles,o=s.classNames,i=s.showWeekNumber,l=s.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Lee,c=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:$ee,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(c,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:m})},HJ(m))})]})}function Lb(e,t,r){for(var s=r!=null&&r.ISOWeek?aD(t):b0(t,r),a=r!=null&&r.ISOWeek?go(e):Hr(e,r),o=Rr(s,a),i=[],l=0;l<=o;l++)i.push(Yt(a,l));var d=i.reduce(function(c,u){var m=r!=null&&r.ISOWeek?oD(u):lD(u,r),h=c.find(function(f){return f.weekNumber===m});return h?(h.dates.push(u),c):(c.push({weekNumber:m,dates:[u]}),c)},[]);return d}function Vee(e,t){var r=Lb(hn(e),np(e),t);if(t!=null&&t.useFixedWeeks){var s=zJ(e,t);if(s<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=Ig(o,6-s),l=Lb(Ig(o,1),i,t);r.push.apply(r,l)}}return r}function Hee(e){var t,r,s,a=Ge(),o=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,c=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,f=a.ISOWeek,v=Vee(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:o,weekStartsOn:m,firstWeekContainsDate:h}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:ree,w=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Uee,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:eee;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(x,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:v.map(function(g){return n.jsx(w,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function Bee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var zee=Bee()?p.useLayoutEffect:p.useEffect,Of=!1,qee=0;function $b(){return"react-day-picker-".concat(++qee)}function Wee(e){var t,r=e??(Of?$b():null),s=p.useState(r),a=s[0],o=s[1];return zee(function(){a===null&&o($b())},[]),p.useEffect(function(){Of===!1&&(Of=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Kee(e){var t,r,s=Ge(),a=s.dir,o=s.classNames,i=s.styles,l=s.components,d=jd().displayMonths,c=Wee(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],h=i.month,f=e.displayIndex===0,v=e.displayIndex===d.length-1,x=!f&&!v;a==="rtl"&&(t=[f,v],v=t[0],f=t[1]),f&&(m.push(o.caption_start),h=Ee(Ee({},h),i.caption_start)),v&&(m.push(o.caption_end),h=Ee(Ee({},h),i.caption_end)),x&&(m.push(o.caption_between),h=Ee(Ee({},h),i.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:ZZ;return n.jsxs("div",{className:m.join(" "),style:h,children:[n.jsx(w,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Hee,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function Yee(e){var t=Ge(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function Gee(e){var t,r,s=e.initialProps,a=Ge(),o=D0(),i=jd(),l=p.useState(!1),d=l[0],c=l[1];p.useEffect(function(){a.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),c(!0)))},[a.initialFocus,d,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=Ee(Ee({},a.styles.root),a.style),h=Object.keys(s).filter(function(v){return v.startsWith("data-")}).reduce(function(v,x){var w;return Ee(Ee({},v),(w={},w[x]=s[x],w))},{}),f=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Yee;return n.jsx("div",Ee({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:n.jsx(f,{children:i.displayMonths.map(function(v,x){return n.jsx(Kee,{displayIndex:x,displayMonth:v},x)})})}))}function Xee(e){var t=e.children,r=jZ(e,["children"]);return n.jsx($Z,{initialProps:r,children:n.jsx(GZ,{children:n.jsx(Aee,{initialProps:r,children:n.jsx(aee,{initialProps:r,children:n.jsx(lee,{initialProps:r,children:n.jsx(xee,{children:n.jsx(kee,{children:t})})})})})})})}function Qee(e){return n.jsx(Xee,Ee({},e,{children:n.jsx(Gee,{initialProps:e})}))}function $g({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(Qee,{showOutsideDays:r,className:ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ie(Tc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ie(Tc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(OC,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(qn,{className:"h-4 w-4"})},...s})}$g.displayName="Calendar";const Jee=({onFilterChange:e})=>{const[t,r]=p.useState(),[s,a]=p.useState(),o=()=>{e({dateRange:{start:t==null?void 0:t.toISOString(),end:s==null?void 0:s.toISOString()}})},i=()=>{r(void 0),a(void 0),e({dateRange:{}})},l=d=>{const c=new Date,u=new Date;u.setDate(c.getDate()-d),r(u),a(c),e({dateRange:{start:u.toISOString(),end:c.toISOString()}})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"text-sm font-medium",children:"Date Range:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||s)&&n.jsx(W,{variant:"ghost",size:"sm",onClick:i,children:n.jsx(lt,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm",children:"Start Date"}),n.jsxs(Rg,{children:[n.jsx(_g,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:ie("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[n.jsx(sw,{className:"mr-2 h-4 w-4"}),t?gs(t,"PPP"):"Pick start date"]})}),n.jsx($h,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:t,onSelect:d=>{r(d),d&&s&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm",children:"End Date"}),n.jsxs(Rg,{children:[n.jsx(_g,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:ie("w-[200px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[n.jsx(sw,{className:"mr-2 h-4 w-4"}),s?gs(s,"PPP"):"Pick end date"]})}),n.jsx($h,{className:"w-auto p-0",align:"start",children:n.jsx($g,{mode:"single",selected:s,onSelect:d=>{a(d),t&&d&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},Zee=({adapterId:e})=>{const[t,r]=p.useState(!1),[s,a]=p.useState("csv"),[o,i]=p.useState(!1),{logs:l}=E0({sourceId:e}),{toast:d}=wt(),c=async()=>{if(!e){d({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}i(!0);try{let u,m,h;if(s==="csv"){const w=["Timestamp","Level","Message","Details"],j=l.map(g=>[g.timestamp,g.level,`"${g.message.replace(/"/g,'""')}"`,g.details?`"${JSON.stringify(g.details).replace(/"/g,'""')}"`:""]);u=[w.join(","),...j.map(g=>g.join(","))].join(`
`),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,h="text/csv"}else u=JSON.stringify(l,null,2),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,h="application/json";const f=new Blob([u],{type:h}),v=URL.createObjectURL(f),x=document.createElement("a");x.href=v,x.download=m,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),d({title:"Export Successful",description:`Logs exported as ${m}`}),r(!1)}catch{d({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{i(!1)}};return n.jsxs(vt,{open:t,onOpenChange:r,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(cm,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs(mt,{children:[n.jsx(yt,{children:n.jsx(jt,{children:"Export Adapter Logs"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),n.jsxs(J,{value:s,onValueChange:u=>a(u),children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"csv",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gt,{className:"h-4 w-4"}),"CSV Format"]})}),n.jsx(M,{value:"json",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Uv,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(W,{onClick:c,disabled:o||!e,children:o?"Exporting...":"Export"})]})]})]})]})},ete=()=>{const[e,t]=p.useState(""),[r,s]=p.useState(""),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState({}),[u,m]=p.useState("system"),{logs:h,loading:f,error:v,refetch:x,sources:w}=E0({source:e||void 0,sourceId:r||void 0,level:a||void 0,search:i,startDate:d.start,endDate:d.end}),j=$o({domainType:"UserManagement",includeSystemLogs:!1}),g=$o({domainType:"FlowEngine",includeSystemLogs:!1}),y=$o({domainType:"AdapterManagement",includeSystemLogs:!1}),N=$o({domainType:"DataStructures",includeSystemLogs:!1}),b=$o({domainType:"ChannelManagement",includeSystemLogs:!1}),E=$o({domainType:"MessageProcessing",includeSystemLogs:!1}),C=()=>{x(),j.refetch(),g.refetch(),y.refetch(),N.refetch(),b.refetch(),E.refetch()},P=O=>{o(O.level),c(O.dateRange)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[n.jsx($x,{className:"h-7 w-7"}),"System Logs"]}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Zee,{adapterId:r}),n.jsxs(W,{variant:"outline",size:"sm",onClick:C,className:"hover-scale",children:[n.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs(ee,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(re,{children:n.jsxs(se,{className:"text-lg flex items-center gap-2",children:[n.jsx(dm,{className:"h-5 w-5"}),"Filters"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),n.jsxs(J,{value:e,onValueChange:O=>t(O),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"All sources"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"system",children:"System"}),n.jsx(M,{value:"adapter",children:"Adapters"}),n.jsx(M,{value:"channel",children:"Channels"}),n.jsx(M,{value:"flow",children:"Flows"}),n.jsx(M,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),n.jsxs(J,{value:r,onValueChange:s,children:[n.jsx(X,{children:n.jsx(Z,{placeholder:`Select ${e}`})}),n.jsxs(Q,{children:[e==="adapter"&&w.adapters.map(O=>n.jsx(M,{value:O.id,children:O.name},O.id)),e==="channel"&&w.channels.map(O=>n.jsx(M,{value:O.id,children:O.name},O.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),n.jsxs(J,{value:a,onValueChange:O=>o(O),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"All levels"})}),n.jsxs(Q,{children:[n.jsx(M,{value:"debug",children:"Debug"}),n.jsx(M,{value:"info",children:"Info"}),n.jsx(M,{value:"warn",children:"Warning"}),n.jsx(M,{value:"error",children:"Error"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search logs...",value:i,onChange:O=>l(O.target.value),className:"pl-10"})]})]})]}),n.jsx(Jee,{onFilterChange:P})]})]}),h.length>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),n.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),n.jsx(ce,{variant:"outline",children:"24h"})]})})}),n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),n.jsx("p",{className:"text-2xl font-bold text-destructive",children:h.filter(O=>O.level==="error").length})]}),n.jsx(ce,{variant:"destructive",children:"Error"})]})})}),n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:h.filter(O=>O.level==="warn").length})]}),n.jsx(ce,{variant:"secondary",children:"Warning"})]})})}),n.jsx(ee,{className:"bg-gradient-secondary border-border/50",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:h.filter(O=>O.level==="info").length})]}),n.jsx(ce,{variant:"outline",children:"Info"})]})})})]}),n.jsxs(Ye,{value:u,onValueChange:m,children:[n.jsxs(qe,{className:"grid w-full grid-cols-7",children:[n.jsxs(be,{value:"system",className:"flex items-center gap-2",children:[n.jsx($x,{className:"h-4 w-4"}),"System Logs"]}),n.jsxs(be,{value:"user",className:"flex items-center gap-2",children:[n.jsx(Nc,{className:"h-4 w-4"}),"Users"]}),n.jsxs(be,{value:"flow",className:"flex items-center gap-2",children:[n.jsx(um,{className:"h-4 w-4"}),"Flows"]}),n.jsxs(be,{value:"adapter",className:"flex items-center gap-2",children:[n.jsx(ro,{className:"h-4 w-4"}),"Adapters"]}),n.jsxs(be,{value:"structure",className:"flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Structures"]}),n.jsxs(be,{value:"channel",className:"flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4"}),"Channels"]}),n.jsxs(be,{value:"message",className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"h-4 w-4"}),"Messages"]})]}),n.jsx(je,{value:"system",children:n.jsx(yZ,{logs:h,loading:f,error:v,selectedSource:e})}),n.jsx(je,{value:"user",children:n.jsx(Uo,{domainType:"UserManagement",domainErrors:j.domainErrors,systemLogs:j.systemLogs,loading:j.loading,error:j.error})}),n.jsx(je,{value:"flow",children:n.jsx(Uo,{domainType:"FlowEngine",domainErrors:g.domainErrors,systemLogs:g.systemLogs,loading:g.loading,error:g.error})}),n.jsx(je,{value:"adapter",children:n.jsx(Uo,{domainType:"AdapterManagement",domainErrors:y.domainErrors,systemLogs:y.systemLogs,loading:y.loading,error:y.error})}),n.jsx(je,{value:"structure",children:n.jsx(Uo,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),n.jsx(je,{value:"channel",children:n.jsx(Uo,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),n.jsx(je,{value:"message",children:n.jsx(Uo,{domainType:"MessageProcessing",domainErrors:E.domainErrors,systemLogs:E.systemLogs,loading:E.loading,error:E.error})})]})]})},tte=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],Ub=[{value:"network",icon:ro},{value:"shield",icon:Sn},{value:"folder",icon:$C},{value:"message-square",icon:Qt},{value:"database",icon:zt},{value:"globe",icon:Ys},{value:"mail",icon:nd},{value:"file-text",icon:Gt},{value:"cpu",icon:LO},{value:"activity",icon:no},{value:"cloud",icon:IO},{value:"inbox",icon:VC},{value:"download",icon:cm},{value:"hard-drive",icon:UC},{value:"zap",icon:lr}],nte=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(null),{toast:d}=wt(),[c,u]=p.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});p.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const g=await fetch("/api/admin/adapter-types");if(g.ok){const y=await g.json();t(y||[])}else if(g.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(g){console.log("API not available yet, starting with empty data:",g),t([])}finally{s(!1)}},h=async g=>{g.preventDefault();try{const y={...c,configurationSchema:c.configurationSchema?JSON.parse(c.configurationSchema):null},N=i?`/api/admin/adapter-types/${i.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)d({title:"Success",description:`Adapter type ${i?"updated":"created"} successfully`}),o(!1),x(),m();else throw new Error(`Failed to ${i?"update":"create"} adapter type`)}catch(y){d({title:"Error",description:`Failed to ${i?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",y)}},f=g=>{l(g),u({name:g.name,displayName:g.displayName,description:g.description,category:g.category,iconName:g.iconName,isActive:g.isActive,supportsSender:g.supportsSender,supportsReceiver:g.supportsReceiver,configurationSchema:g.configurationSchema?JSON.stringify(g.configurationSchema,null,2):""}),o(!0)},v=async g=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${g}`,{method:"DELETE"})).ok)d({title:"Success",description:"Adapter type deleted successfully"}),m();else throw new Error("Failed to delete adapter type")}catch(y){d({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",y)}},x=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},w=g=>{const y=Ub.find(N=>N.value===g);return y?y.icon:ro},j=g=>{const y={FILE_TRANSFER:"bg-blue-100 text-blue-800",MESSAGING:"bg-green-100 text-green-800",DATABASE:"bg-purple-100 text-purple-800",WEB_SERVICE:"bg-orange-100 text-orange-800",MAIL:"bg-red-100 text-red-800",OTHER:"bg-gray-100 text-gray-800"};return y[g]||y.OTHER};return n.jsxs(ee,{children:[n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(se,{children:"Adapter Types Management"}),n.jsx(ge,{children:"Manage available adapter types for communication channels"})]}),n.jsxs(vt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{onClick:x,children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),n.jsxs(mt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(yt,{children:[n.jsx(jt,{children:i?"Edit Adapter Type":"Add New Adapter Type"}),n.jsx(ga,{children:"Configure the adapter type settings and capabilities"})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"name",children:"Name (Internal)*"}),n.jsx(I,{id:"name",value:c.name,onChange:g=>u({...c,name:g.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"displayName",children:"Display Name*"}),n.jsx(I,{id:"displayName",value:c.displayName,onChange:g=>u({...c,displayName:g.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Se,{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"category",children:"Category*"}),n.jsxs(J,{value:c.category,onValueChange:g=>u({...c,category:g}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select category"})}),n.jsx(Q,{children:tte.map(g=>n.jsx(M,{value:g.value,children:g.label},g.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"iconName",children:"Icon"}),n.jsxs(J,{value:c.iconName,onValueChange:g=>u({...c,iconName:g}),children:[n.jsx(X,{children:n.jsx(Z,{placeholder:"Select icon"})}),n.jsx(Q,{children:Ub.map(g=>{const y=g.icon;return n.jsx(M,{value:g.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-4 w-4"}),g.value]})},g.value)})})]})]})]}),n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"isActive",checked:c.isActive,onCheckedChange:g=>u({...c,isActive:g===!0})}),n.jsx(S,{htmlFor:"isActive",children:"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"supportsSender",checked:c.supportsSender,onCheckedChange:g=>u({...c,supportsSender:g===!0})}),n.jsx(S,{htmlFor:"supportsSender",children:"Supports Sender"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ie,{id:"supportsReceiver",checked:c.supportsReceiver,onCheckedChange:g=>u({...c,supportsReceiver:g===!0})}),n.jsx(S,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),n.jsx(Se,{id:"configurationSchema",value:c.configurationSchema,onChange:g=>u({...c,configurationSchema:g.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),n.jsxs(Fm,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsxs(W,{type:"submit",children:[i?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),n.jsx(te,{children:r?n.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?n.jsx(ka,{icon:n.jsx(ro,{className:"h-12 w-12"}),title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):n.jsxs(rp,{children:[n.jsx(sp,{children:n.jsxs(vo,{children:[n.jsx(Nt,{children:"Icon"}),n.jsx(Nt,{children:"Name"}),n.jsx(Nt,{children:"Category"}),n.jsx(Nt,{children:"Support"}),n.jsx(Nt,{children:"Status"}),n.jsx(Nt,{children:"Actions"})]})}),n.jsx(ap,{children:e.map(g=>{const y=w(g.iconName);return n.jsxs(vo,{children:[n.jsx(bt,{children:n.jsx(y,{className:"h-5 w-5"})}),n.jsx(bt,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:g.displayName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:g.name})]})}),n.jsx(bt,{children:n.jsx(ce,{className:j(g.category),children:g.category.replace("_"," ")})}),n.jsx(bt,{children:n.jsxs("div",{className:"flex gap-1",children:[g.supportsSender&&n.jsx(ce,{variant:"outline",className:"text-xs",children:"Sender"}),g.supportsReceiver&&n.jsx(ce,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),n.jsx(bt,{children:n.jsx(ce,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"})}),n.jsx(bt,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(g),children:n.jsx(WO,{className:"h-4 w-4"})}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(g.id),children:n.jsx(Na,{className:"h-4 w-4"})})]})})]},g.id)})})]})})]})},rte=({})=>{const[e,t]=p.useState([]),[r,s]=p.useState([]),[a,o]=p.useState("all"),[i,l]=p.useState(!0),[d,c]=p.useState(!1),[u,m]=p.useState({}),h=async()=>{try{l(!0);const b=await fetch("/api/system-settings");if(b.ok){const E=await b.json();t(E)}else pt.error("Failed to load system settings")}catch(b){console.error("Error fetching system settings:",b),pt.error("Error loading system settings")}finally{l(!1)}},f=async()=>{try{const b=await fetch("/api/system-settings/categories");if(b.ok){const E=await b.json();s(["all",...E])}}catch(b){console.error("Error fetching categories:",b)}},v=async()=>{try{(await fetch("/api/system-settings/initialize",{method:"POST"})).ok?(pt.success("Default settings initialized"),h()):pt.error("Failed to initialize settings")}catch(b){console.error("Error initializing settings:",b),pt.error("Error initializing settings")}},x=async(b,E)=>{try{c(!0);const C=e.find(T=>T.settingKey===b);if(!C)return;const P={...C,settingValue:E,updatedBy:"admin"},O=await fetch(`/api/system-settings/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(O.ok){const T=await O.json();t(_=>_.map(k=>k.settingKey===b?T:k)),m(_=>{const k={..._};return delete k[b],k}),pt.success(`Setting "${b}" updated successfully`)}else pt.error("Failed to save setting")}catch(C){console.error("Error saving setting:",C),pt.error("Error saving setting")}finally{c(!1)}},w=(b,E)=>{m(C=>({...C,[b]:E}))},j=b=>u[b.settingKey]??b.settingValue,g=b=>u[b.settingKey]!==void 0&&u[b.settingKey]!==b.settingValue,y=a==="all"?e:e.filter(b=>b.category===a);p.useEffect(()=>{h(),f()},[]);const N=b=>n.jsxs(ee,{className:"mb-4",children:[n.jsx(re,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(se,{className:"text-sm font-medium flex items-center gap-2",children:[b.settingKey,b.isReadonly&&n.jsx(ce,{variant:"secondary",className:"text-xs",children:"Readonly"}),b.isEncrypted&&n.jsx(ce,{variant:"outline",className:"text-xs",children:"Encrypted"}),g(b)&&n.jsx(ce,{variant:"destructive",className:"text-xs",children:"Modified"})]}),n.jsx(ge,{className:"text-xs",children:b.description})]}),n.jsx(ce,{variant:"outline",className:"text-xs",children:b.category})]})}),n.jsx(te,{className:"pt-0",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:`setting-${b.id}`,className:"text-xs",children:["Value (",b.dataType,")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:`setting-${b.id}`,value:j(b),onChange:E=>w(b.settingKey,E.target.value),disabled:b.isReadonly,type:b.dataType==="PASSWORD"?"password":b.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:b.settingValue}),g(b)&&n.jsx(W,{size:"sm",onClick:()=>x(b.settingKey,u[b.settingKey]),disabled:d,className:"px-3",children:d?n.jsx(Zt,{className:"h-3 w-3 animate-spin"}):n.jsx(ha,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Created: ",new Date(b.createdAt).toLocaleString()]}),n.jsxs("span",{children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]}),(b.createdBy||b.updatedBy)&&n.jsxs("div",{className:"flex justify-between",children:[b.createdBy&&n.jsxs("span",{children:["Created by: ",b.createdBy]}),b.updatedBy&&n.jsxs("span",{children:["Updated by: ",b.updatedBy]})]})]})]})})]},b.id);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Zt,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ze,{className:"h-6 w-6"}),"System Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:h,disabled:i,children:[n.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(W,{variant:"outline",size:"sm",onClick:v,children:"Initialize Defaults"})]})]}),Object.keys(u).length>0&&n.jsx(ee,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:n.jsxs(re,{className:"pb-3",children:[n.jsxs(se,{className:"text-sm flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[n.jsx(da,{className:"h-4 w-4"}),"Unsaved Changes"]}),n.jsxs(ge,{className:"text-yellow-700 dark:text-yellow-300",children:["You have ",Object.keys(u).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),n.jsxs(Ye,{value:a,onValueChange:o,children:[n.jsx(qe,{className:"grid w-full grid-cols-auto max-w-fit",children:r.map(b=>n.jsxs(be,{value:b,className:"capitalize",children:[b==="all"?"All Settings":b,b!=="all"&&n.jsx(ce,{variant:"secondary",className:"ml-2 text-xs",children:e.filter(E=>E.category===b).length})]},b))}),n.jsx(je,{value:a,className:"space-y-4",children:y.length===0?n.jsx(ee,{children:n.jsx(te,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ze,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),n.jsx(W,{variant:"outline",size:"sm",onClick:v,className:"mt-2",children:"Initialize Default Settings"})]})})}):n.jsx("div",{className:"grid gap-4",children:y.map(N)})})]})]})},Vb=[{id:"1",username:"admin",email:"admin@integrixlab.com",first_name:"System",last_name:"Administrator",role:"administrator",status:"active",permissions:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"]},email_verified:!0,created_at:"2024-01-01 09:00:00",updated_at:"2024-01-01 09:00:00",last_login_at:"2024-01-15 14:30:25"},{id:"2",username:"integrator1",email:"integrator1@company.com",first_name:"John",last_name:"Integrator",role:"integrator",status:"active",permissions:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"]},email_verified:!0,created_at:"2024-01-05 10:30:00",updated_at:"2024-01-05 10:30:00",last_login_at:"2024-01-15 12:15:30"},{id:"3",username:"viewer1",email:"viewer1@company.com",first_name:"Jane",last_name:"Viewer",role:"viewer",status:"inactive",permissions:{flows:["read"],adapters:["read"],structures:["read"]},email_verified:!0,created_at:"2024-01-08 14:20:00",updated_at:"2024-01-08 14:20:00",last_login_at:"2024-01-10 16:45:12"}],ste=[{id:"1",name:"administrator",description:"Full system access with user management capabilities",permissions:["read","write","admin","user_management"],userCount:1},{id:"2",name:"integrator",description:"Can create and manage integration flows",permissions:["read","write","execute"],userCount:1},{id:"3",name:"viewer",description:"Read-only access to monitoring and logs",permissions:["read"],userCount:1}],ate=[{id:"1",name:"SAP Production SSL",type:"SSL Certificate",issuer:"DigiCert Inc",validFrom:"2024-01-01",validTo:"2025-01-01",status:"active",usage:"SAP ERP Connection"},{id:"2",name:"Salesforce OAuth",type:"OAuth Certificate",issuer:"Salesforce.com",validFrom:"2024-01-01",validTo:"2024-12-31",status:"active",usage:"Salesforce API Authentication"},{id:"3",name:"Legacy System Cert",type:"Client Certificate",issuer:"Internal CA",validFrom:"2023-06-01",validTo:"2024-02-01",status:"expiring",usage:"Legacy SOAP Service"}],ote=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",description:"MySQL Connector/J JDBC Driver for database connectivity",file_name:"mysql-connector-java-8.0.33.jar",size_bytes:2456789,upload_date:"2024-01-15",driver_type:"Database",is_active:!0,created_at:"2024-01-15 10:30:00",updated_at:"2024-01-15 10:30:00"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",description:"PostgreSQL JDBC Driver for database operations",file_name:"postgresql-42.6.0.jar",size_bytes:1234567,upload_date:"2024-01-10",driver_type:"Database",is_active:!0,created_at:"2024-01-10 11:20:00",updated_at:"2024-01-10 11:20:00"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",description:"ActiveMQ JMS Client for message queue operations",file_name:"activemq-client-5.18.3.jar",size_bytes:987654,upload_date:"2024-01-08",driver_type:"Message Queue",is_active:!0,created_at:"2024-01-08 09:15:00",updated_at:"2024-01-08 09:15:00"}],ite=()=>{const[e,t]=p.useState([]),[r,s]=p.useState(!0),[a]=p.useState(ste),[o]=p.useState(ate),[i,l]=p.useState(ote),[d,c]=p.useState("users"),u=async()=>{try{s(!0);const f=await yn.getAllUsers();if(console.log("User fetch response:",f),f.success&&f.data){const v=Array.isArray(f.data)?f.data:f.data.users;t(v||[])}else console.error("Failed to fetch users:",f.error),console.log("API not available, using fallback user data"),t(Vb),pt.error("API temporarily unavailable - showing offline data")}catch(f){console.error("Error fetching users:",f),console.log("API error, using fallback user data"),t(Vb),pt.error("API temporarily unavailable - showing offline data")}finally{s(!1)}};p.useEffect(()=>{u()},[]);const m=f=>{l(v=>[...v,f])},h=f=>{l(v=>v.filter(x=>x.id!==f))};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Ht,{className:"h-8 w-8"}),"Admin Panel"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),n.jsx(QJ,{users:e,roles:a,certificates:o,jarFiles:i}),n.jsxs(Ye,{value:d,onValueChange:c,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[n.jsxs(qe,{className:"grid w-full grid-cols-7",children:[n.jsxs(be,{value:"users",className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-4 w-4"}),"Users"]}),n.jsxs(be,{value:"roles",className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-4 w-4"}),"Roles"]}),n.jsxs(be,{value:"certificates",className:"flex items-center gap-2",children:[n.jsx(_i,{className:"h-4 w-4"}),"Certificates"]}),n.jsxs(be,{value:"jar-files",className:"flex items-center gap-2",children:[n.jsx(wc,{className:"h-4 w-4"}),"Connection Drivers"]}),n.jsxs(be,{value:"adapter-types",className:"flex items-center gap-2",children:[n.jsx(ro,{className:"h-4 w-4"}),"Adapter Types"]}),n.jsxs(be,{value:"system-settings",className:"flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4"}),"System Settings"]}),n.jsxs(be,{value:"system-logs",className:"flex items-center gap-2",children:[n.jsx($x,{className:"h-4 w-4"}),"System Logs"]})]}),n.jsx(je,{value:"users",className:"space-y-4",children:n.jsx(sZ,{users:e,isLoading:r,onRefresh:u})}),n.jsx(je,{value:"roles",className:"space-y-4",children:n.jsx(aZ,{roles:a})}),n.jsx(je,{value:"certificates",className:"space-y-4",children:n.jsx(oZ,{certificates:o})}),n.jsx(je,{value:"jar-files",className:"space-y-4",children:n.jsx(dZ,{jarFiles:i,onJarFileAdded:m,onJarFileDeleted:h})}),n.jsx(je,{value:"adapter-types",className:"space-y-4",children:n.jsx(nte,{})}),n.jsx(je,{value:"system-settings",className:"space-y-4",children:n.jsx(rte,{})}),n.jsx(je,{value:"system-logs",className:"space-y-4",children:n.jsx(ete,{})})]})]})},If=({selectedFunctionName:e="add"})=>{const[t,r]=p.useState(e),[s,a]=p.useState([]),[o,i]=p.useState(null),[l,d]=p.useState(""),c=cg(t);p.useEffect(()=>{if(c){const h=c.parameters.map(f=>{switch(f.type){case"number":return 0;case"boolean":return!1;case"array":return[];default:return""}});a(h),i(null),d("")}},[t,c]);const u=(h,f)=>{const v=[...s];if(c!=null&&c.parameters[h])switch(c.parameters[h].type){case"number":v[h]=parseFloat(f)||0;break;case"boolean":v[h]=f==="true";break;case"array":v[h]=f.split(",").map(w=>w.trim());break;default:v[h]=f}else v[h]=f;a(v)},m=()=>{if(c)try{d("");const h=eN.validateParameters(t,s);if(!h.valid){d(h.errors.join(", "));return}const f=eN.executeFunction(t,s);i(f)}catch(h){d(h instanceof Error?h.message:"Unknown error occurred")}};return c?n.jsxs(ee,{className:"w-full max-w-md",children:[n.jsxs(re,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(se,{className:"text-lg",children:c.name}),n.jsx(ce,{variant:"outline",children:c.category})]}),n.jsx(ge,{className:"text-sm",children:c.description})]}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm font-medium",children:"Function:"}),n.jsx("select",{value:t,onChange:h=>r(h.target.value),className:"w-full p-2 border rounded text-sm",children:Oy.map(h=>n.jsxs("option",{value:h.name,children:[h.name," (",h.category,")"]},h.name))})]}),c.parameters.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{className:"text-sm font-medium",children:"Parameters:"}),c.parameters.map((h,f)=>{var v;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(S,{className:"text-xs",children:[h.name," (",h.type,")",h.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),h.type==="boolean"?n.jsxs("select",{value:((v=s[f])==null?void 0:v.toString())||"false",onChange:x=>u(f,x.target.value),className:"w-full p-1 border rounded text-sm",children:[n.jsx("option",{value:"false",children:"false"}),n.jsx("option",{value:"true",children:"true"})]}):n.jsx(I,{type:h.type==="number"?"number":"text",placeholder:h.description||`Enter ${h.name}`,value:h.type==="array"?(s[f]||[]).join(", "):s[f]||"",onChange:x=>u(f,x.target.value),className:"h-8 text-sm"}),h.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]},h.name)})]}),n.jsxs(W,{onClick:m,className:"w-full",size:"sm",disabled:c.parameters.some(h=>h.required&&!s[c.parameters.indexOf(h)]),children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Execute Function"]}),(o!==null||l)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm font-medium",children:"Result:"}),l?n.jsxs("div",{className:"p-2 bg-destructive/10 border border-destructive/20 rounded flex items-start gap-2",children:[n.jsx(da,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-destructive",children:l})]}):n.jsx("div",{className:"p-2 bg-muted rounded",children:n.jsx("pre",{className:"text-sm font-mono text-primary",children:JSON.stringify(o,null,2)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm font-medium",children:"Java Code:"}),n.jsx("div",{className:"p-2 bg-muted rounded",children:n.jsx("code",{className:"text-xs font-mono",children:c.javaTemplate.replace(/{(\d+)}/g,(h,f)=>{const v=s[parseInt(f)];return typeof v=="string"?`"${v}"`:(v==null?void 0:v.toString())||`{${f}}`})})})]})]})]}):n.jsx(ee,{children:n.jsx(te,{className:"p-4",children:n.jsx("p",{className:"text-muted-foreground",children:"Function not found"})})})},lte=()=>{const{user:e}=ul(),{toast:t}=wt(),[r,s]=p.useState([]),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,m]=p.useState(!1),[h,f]=p.useState(!1),[v,x]=p.useState(!1),[w,j]=p.useState(!1),[g,y]=p.useState(null),[N,b]=p.useState({username:"",email:"",first_name:"",last_name:"",role:"viewer"});p.useEffect(()=>{E()},[]);const E=async()=>{try{f(!0);const k=await yn.getAllUsers();k.success&&k.data?s(k.data.users):t({title:"Error",description:k.error||"Failed to load users",variant:"destructive"})}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{f(!1)}},C=k=>"",P=async()=>{if(!N.username||!N.email){t({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{x(!0);const k={username:N.username,email:N.email,firstName:N.first_name||N.username,lastName:N.last_name||"",role:N.role,status:"active"},$=await yn.createUser(k);$.success?(t({title:"User Created",description:`User "${N.username}" has been created successfully`}),b({username:"",email:"",first_name:"",last_name:"",role:"viewer"}),o(!1),await E()):t({title:"Error",description:$.error||"Failed to create user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while creating the user",variant:"destructive"})}finally{x(!1)}},O=async()=>{if(d)try{j(!0);const k={email:d.email,firstName:d.first_name,lastName:d.last_name,role:d.role,permissions:yn.getRolePermissions(d.role)},$=await yn.updateUser(d.id,k);$.success?(t({title:"User Updated",description:`User "${d.username}" has been updated successfully`}),l(!1),c(null),await E()):t({title:"Error",description:$.error||"Failed to update user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while updating the user",variant:"destructive"})}finally{j(!1)}},T=async(k,$)=>{if((e==null?void 0:e.id)===k){t({title:"Cannot Delete",description:"You cannot delete your own account",variant:"destructive"});return}try{y(k);const A=await yn.deleteUser(k);A.success?(t({title:"User Deleted",description:`User "${$}" has been deleted`}),await E()):t({title:"Error",description:A.error||"Failed to delete user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while deleting the user",variant:"destructive"})}finally{y(null)}},_=k=>{switch(k){case"administrator":return"default";case"integrator":return"secondary";case"viewer":return"outline";default:return"outline"}};return n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Ze,{className:"h-8 w-8"}),"Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure your IntegrixLab platform preferences"})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsx("div",{className:"xl:col-span-3 space-y-6",children:n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(iw,{className:"h-5 w-5"}),"Transformation Functions Demo"]}),n.jsx(ge,{children:"Test the transformation functions that can be used in field mappings"})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[n.jsx(If,{selectedFunctionName:"add"}),n.jsx(If,{selectedFunctionName:"concat"}),n.jsx(If,{selectedFunctionName:"if"})]})})]})}),n.jsx("div",{className:"xl:col-span-2 space-y-6",children:n.jsxs(ee,{className:"animate-scale-in",children:[n.jsxs(re,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"h-5 w-5"}),n.jsx(se,{children:"User Management"})]}),n.jsxs(vt,{open:a,onOpenChange:o,children:[n.jsx(io,{asChild:!0,children:n.jsxs(W,{size:"sm",children:[n.jsx(JO,{className:"h-4 w-4 mr-2"}),"Add User"]})}),n.jsxs(mt,{children:[n.jsxs(yt,{children:[n.jsx(jt,{children:"Create New User"}),n.jsx(ga,{children:"Add a new user to the system with specified permissions"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username *"}),n.jsx(I,{id:"username",value:N.username,onChange:k=>b({...N,username:k.target.value}),placeholder:"Enter username",disabled:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email *"}),n.jsx(I,{id:"email",type:"email",value:N.email,onChange:k=>b({...N,email:k.target.value}),placeholder:"Enter email address",disabled:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"first_name",children:"First Name"}),n.jsx(I,{id:"first_name",value:N.first_name,onChange:k=>b({...N,first_name:k.target.value}),placeholder:"Enter first name",disabled:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"last_name",children:"Last Name"}),n.jsx(I,{id:"last_name",value:N.last_name,onChange:k=>b({...N,last_name:k.target.value}),placeholder:"Enter last name",disabled:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(J,{value:N.role,onValueChange:k=>b({...N,role:k}),disabled:v,children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"administrator",children:"Administrator"}),n.jsx(M,{value:"integrator",children:"Integrator"}),n.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(yn.getRolePermissions(N.role)).map(([k,$])=>$.map(A=>n.jsxs(ce,{variant:"outline",className:"text-xs",children:[k,":",A]},`${k}:${A}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),disabled:v,children:"Cancel"}),n.jsx(W,{onClick:P,disabled:v,children:v?"Creating...":"Create User"})]})]})]})]})]}),n.jsx(ge,{children:"Manage user accounts and permissions"})]}),n.jsx(te,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(S,{className:"text-sm font-medium",children:["System Users (",r.length,")",h&&n.jsx("span",{className:"text-muted-foreground",children:" - Loading..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:E,disabled:h,children:[n.jsx(Zt,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(!u),children:[u?n.jsx(Ox,{className:"h-4 w-4 mr-2"}):n.jsx(jc,{className:"h-4 w-4 mr-2"}),u?"Hide":"Show"," Passwords"]})]})]}),n.jsx("div",{className:"space-y-3",children:r.map(k=>n.jsx("div",{className:"border border-border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"font-medium",children:k.username}),n.jsx(ce,{variant:_(k.role),className:"text-xs",children:k.role.toUpperCase()}),k.id===(e==null?void 0:e.id)&&n.jsx(ce,{variant:"outline",className:"text-xs",children:"Current User"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{children:["Email: ",k.email]}),u&&n.jsxs("div",{children:["Password: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:C(k.username)})]}),n.jsxs("div",{children:["Created: ",k.created_at]}),k.last_login_at&&n.jsxs("div",{children:["Last Login: ",new Date(k.last_login_at).toLocaleDateString()]})]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:k.permissions&&Object.entries(k.permissions).map(([$,A])=>A.map(U=>n.jsxs(ce,{variant:"outline",className:"text-xs",children:[$,":",U]},`${$}:${U}`)))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(vt,{open:i&&(d==null?void 0:d.id)===k.id,onOpenChange:$=>{l($),$||c(null)},children:[n.jsx(io,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>c({...k}),children:n.jsx(rl,{className:"h-4 w-4"})})}),n.jsxs(mt,{children:[n.jsxs(yt,{children:[n.jsx(jt,{children:"Edit User"}),n.jsx(ga,{children:"Update user information and permissions"})]}),d&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Username"}),n.jsx(I,{value:d.username,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-email",children:"Email"}),n.jsx(I,{id:"edit-email",type:"email",value:d.email,onChange:$=>c({...d,email:$.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-first_name",children:"First Name"}),n.jsx(I,{id:"edit-first_name",value:d.first_name||"",onChange:$=>c({...d,first_name:$.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-last_name",children:"Last Name"}),n.jsx(I,{id:"edit-last_name",value:d.last_name||"",onChange:$=>c({...d,last_name:$.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-role",children:"Role"}),n.jsxs(J,{value:d.role,onValueChange:$=>c({...d,role:$}),disabled:w,children:[n.jsx(X,{children:n.jsx(Z,{})}),n.jsxs(Q,{children:[n.jsx(M,{value:"administrator",children:"Administrator"}),n.jsx(M,{value:"integrator",children:"Integrator"}),n.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(yn.getRolePermissions(d.role)).map(([$,A])=>A.map(U=>n.jsxs(ce,{variant:"outline",className:"text-xs",children:[$,":",U]},`${$}:${U}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),disabled:w,children:"Cancel"}),n.jsx(W,{onClick:O,disabled:w,children:w?"Updating...":"Update User"})]})]})]})]}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>T(k.id,k.username),disabled:k.id===(e==null?void 0:e.id)||g===k.id,children:g===k.id?n.jsx(Zt,{className:"h-4 w-4 animate-spin"}):n.jsx(Na,{className:"h-4 w-4"})})]})]})},k.id))})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(FC,{className:"h-5 w-5"}),"Notifications"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Flow failures"}),n.jsx(ce,{variant:"default",children:"Enabled"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Daily reports"}),n.jsx(ce,{variant:"secondary",children:"Disabled"})]})]})})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(iw,{className:"h-5 w-5"}),"Interface"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Dark mode"}),n.jsx(ce,{variant:"default",children:"Active"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Compact view"}),n.jsx(ce,{variant:"secondary",children:"Disabled"})]})]})})]}),n.jsxs(ee,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsx(re,{children:n.jsxs(se,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5"}),"Security"]})}),n.jsx(te,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Session timeout"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"24 hours"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Multi-factor auth"}),n.jsx(ce,{variant:"secondary",children:"Disabled"})]})]})})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsxs(W,{variant:"outline",children:[n.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]}),n.jsxs(W,{className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(ha,{className:"h-4 w-4 mr-2"}),"Save Settings"]})]})]})},cte=()=>{const e=ws();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary",children:n.jsxs(ee,{className:"w-full max-w-md shadow-elegant text-center",children:[n.jsxs(re,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-primary flex items-center justify-center",children:n.jsx(ms,{className:"h-6 w-6 text-primary-foreground"})})}),n.jsx(se,{className:"text-4xl font-bold text-foreground",children:"404"}),n.jsx(ge,{className:"text-xl",children:"Oops! Page not found"})]}),n.jsxs(te,{children:[n.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),n.jsx(W,{asChild:!0,className:"bg-gradient-primary hover:opacity-90",children:n.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})},dte=new QL,ute=()=>n.jsx(ZL,{client:dte,children:n.jsxs(kL,{children:[n.jsx(OI,{}),n.jsx(u3,{}),n.jsx(Q$,{children:n.jsx(c5,{children:n.jsxs(B$,{children:[n.jsx($t,{path:"/login",element:n.jsx(I8,{})}),n.jsxs($t,{path:"/",element:n.jsx(Iw,{children:n.jsx(R8,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(vh,{to:"/admin",replace:!0})}),n.jsx($t,{path:"dashboard",element:n.jsx(EU,{})}),n.jsx($t,{path:"create-flow",element:n.jsx(PU,{})}),n.jsx($t,{path:"create-direct-mapping-flow",element:n.jsx(BW,{})}),n.jsx($t,{path:"create-orchestration-flow",element:n.jsx(iK,{})}),n.jsx($t,{path:"create-communication-adapter",element:n.jsx(kX,{})}),n.jsx($t,{path:"data-structures",element:n.jsx(QX,{})}),n.jsx($t,{path:"business-components",element:n.jsx(hQ,{})}),n.jsx($t,{path:"messages",element:n.jsx(PQ,{})}),n.jsx($t,{path:"channels",element:n.jsx(XJ,{})}),n.jsx($t,{path:"admin",element:n.jsx(ite,{})}),n.jsx($t,{path:"settings",element:n.jsx(lte,{})})]}),n.jsx($t,{path:"*",element:n.jsx(Iw,{children:n.jsx(cte,{})})})]})})})]})});lC(document.getElementById("root")).render(n.jsx(ute,{}));
