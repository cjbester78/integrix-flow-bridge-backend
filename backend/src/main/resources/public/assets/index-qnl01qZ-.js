var _3=Object.defineProperty;var I3=(e,t,s)=>t in e?_3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Je=(e,t,s)=>I3(e,typeof t!="symbol"?t+"":t,s);function O3(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function h0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iT={exports:{}},jf={},lT={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),L3=Symbol.for("react.portal"),$3=Symbol.for("react.fragment"),V3=Symbol.for("react.strict_mode"),U3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),H3=Symbol.for("react.context"),z3=Symbol.for("react.forward_ref"),q3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),Y3=Symbol.for("react.lazy"),Wb=Symbol.iterator;function K3(e){return e===null||typeof e!="object"?null:(e=Wb&&e[Wb]||e["@@iterator"],typeof e=="function"?e:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dT=Object.assign,uT={};function Ol(e,t,s){this.props=e,this.context=t,this.refs=uT,this.updater=s||cT}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hT(){}hT.prototype=Ol.prototype;function m0(e,t,s){this.props=e,this.context=t,this.refs=uT,this.updater=s||cT}var p0=m0.prototype=new hT;p0.constructor=m0;dT(p0,Ol.prototype);p0.isPureReactComponent=!0;var Yb=Array.isArray,mT=Object.prototype.hasOwnProperty,f0={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function fT(e,t,s){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)mT.call(t,r)&&!pT.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:su,type:e,key:o,ref:i,props:a,_owner:f0.current}}function G3(e,t){return{$$typeof:su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x0(e){return typeof e=="object"&&e!==null&&e.$$typeof===su}function X3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Kb=/\/+/g;function Wx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?X3(""+e.key):t.toString(36)}function Pm(e,t,s,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case su:case L3:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Wx(i,0):r,Yb(a)?(s="",e!=null&&(s=e.replace(Kb,"$&/")+"/"),Pm(a,t,s,"",function(c){return c})):a!=null&&(x0(a)&&(a=G3(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Kb,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",Yb(e))for(var l=0;l<e.length;l++){o=e[l];var d=r+Wx(o,l);i+=Pm(o,t,s,d,a)}else if(d=K3(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=r+Wx(o,l++),i+=Pm(o,t,s,d,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Oh(e,t,s){if(e==null)return e;var r=[],a=0;return Pm(e,r,"","",function(o){return t.call(s,o,a++)}),r}function J3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},km={transition:null},Q3={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:km,ReactCurrentOwner:f0};function xT(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Oh,forEach:function(e,t,s){Oh(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Oh(e,function(){t++}),t},toArray:function(e){return Oh(e,function(t){return t})||[]},only:function(e){if(!x0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Ol;Ue.Fragment=$3;Ue.Profiler=U3;Ue.PureComponent=m0;Ue.StrictMode=V3;Ue.Suspense=q3;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3;Ue.act=xT;Ue.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dT({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=f0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)mT.call(t,d)&&!pT.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:su,type:e.type,key:a,ref:o,props:r,_owner:i}};Ue.createContext=function(e){return e={$$typeof:H3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B3,_context:e},e.Consumer=e};Ue.createElement=fT;Ue.createFactory=function(e){var t=fT.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:z3,render:e}};Ue.isValidElement=x0;Ue.lazy=function(e){return{$$typeof:Y3,_payload:{_status:-1,_result:e},_init:J3}};Ue.memo=function(e,t){return{$$typeof:W3,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=km.transition;km.transition={};try{e()}finally{km.transition=t}};Ue.unstable_act=xT;Ue.useCallback=function(e,t){return jn.current.useCallback(e,t)};Ue.useContext=function(e){return jn.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return jn.current.useEffect(e,t)};Ue.useId=function(){return jn.current.useId()};Ue.useImperativeHandle=function(e,t,s){return jn.current.useImperativeHandle(e,t,s)};Ue.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return jn.current.useMemo(e,t)};Ue.useReducer=function(e,t,s){return jn.current.useReducer(e,t,s)};Ue.useRef=function(e){return jn.current.useRef(e)};Ue.useState=function(e){return jn.current.useState(e)};Ue.useSyncExternalStore=function(e,t,s){return jn.current.useSyncExternalStore(e,t,s)};Ue.useTransition=function(){return jn.current.useTransition()};Ue.version="18.3.1";lT.exports=Ue;var p=lT.exports;const he=h0(p),ru=O3({__proto__:null,default:he},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3=p,e$=Symbol.for("react.element"),t$=Symbol.for("react.fragment"),n$=Object.prototype.hasOwnProperty,s$=Z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r$={key:!0,ref:!0,__self:!0,__source:!0};function gT(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)n$.call(t,r)&&!r$.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:e$,type:e,key:o,ref:i,props:a,_owner:s$.current}}jf.Fragment=t$;jf.jsx=gT;jf.jsxs=gT;iT.exports=jf;var n=iT.exports,vT={exports:{}},ss={},yT={exports:{}},jT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,_){var z=R.length;R.push(_);e:for(;0<z;){var B=z-1>>>1,U=R[B];if(0<a(U,_))R[B]=_,R[z]=U,z=B;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var _=R[0],z=R.pop();if(z!==_){R[0]=z;e:for(var B=0,U=R.length,K=U>>>1;B<K;){var Y=2*(B+1)-1,X=R[Y],G=Y+1,H=R[G];if(0>a(X,z))G<U&&0>a(H,X)?(R[B]=H,R[G]=z,B=G):(R[B]=X,R[Y]=z,B=Y);else if(G<U&&0>a(H,z))R[B]=H,R[G]=z,B=G;else break e}}return _}function a(R,_){var z=R.sortIndex-_.sortIndex;return z!==0?z:R.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var d=[],c=[],u=1,h=null,m=3,f=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var _=s(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=R)r(c),_.sortIndex=_.expirationTime,t(d,_);else break;_=s(c)}}function N(R){if(x=!1,j(R),!y)if(s(d)!==null)y=!0,L(b);else{var _=s(c);_!==null&&O(N,_.startTime-R)}}function b(R,_){y=!1,x&&(x=!1,v(T),T=-1),f=!0;var z=m;try{for(j(_),h=s(d);h!==null&&(!(h.expirationTime>_)||R&&!k());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var U=B(h.expirationTime<=_);_=e.unstable_now(),typeof U=="function"?h.callback=U:h===s(d)&&r(d),j(_)}else r(d);h=s(d)}if(h!==null)var K=!0;else{var Y=s(c);Y!==null&&O(N,Y.startTime-_),K=!1}return K}finally{h=null,m=z,f=!1}}var E=!1,C=null,T=-1,F=5,V=-1;function k(){return!(e.unstable_now()-V<F)}function M(){if(C!==null){var R=e.unstable_now();V=R;var _=!0;try{_=C(!0,R)}finally{_?$():(E=!1,C=null)}}else E=!1}var $;if(typeof g=="function")$=function(){g(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=M,$=function(){P.postMessage(null)}}else $=function(){w(M,0)};function L(R){C=R,E||(E=!0,$())}function O(R,_){T=w(function(){R(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,L(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var z=m;m=_;try{return R()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,_){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=m;m=R;try{return _()}finally{m=z}},e.unstable_scheduleCallback=function(R,_,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,R={id:u++,callback:_,priorityLevel:R,startTime:z,expirationTime:U,sortIndex:-1},z>B?(R.sortIndex=z,t(c,R),s(d)===null&&R===s(c)&&(x?(v(T),T=-1):x=!0,O(N,z-B))):(R.sortIndex=U,t(d,R),y||f||(y=!0,L(b))),R},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(R){var _=m;return function(){var z=m;m=_;try{return R.apply(this,arguments)}finally{m=z}}}})(jT);yT.exports=jT;var a$=yT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o$=p,Qn=a$;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wT=new Set,dd={};function Qo(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(dd[e]=t,e=0;e<t.length;e++)wT.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_v=Object.prototype.hasOwnProperty,i$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gb={},Xb={};function l$(e){return _v.call(Xb,e)?!0:_v.call(Gb,e)?!1:i$.test(e)?Xb[e]=!0:(Gb[e]=!0,!1)}function c$(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d$(e,t,s,r){if(t===null||typeof t>"u"||c$(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wn(e,t,s,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new wn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new wn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new wn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new wn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new wn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new wn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new wn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new wn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new wn(e,5,!1,e.toLowerCase(),null,!1,!1)});var g0=/[\-:]([a-z])/g;function v0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g0,v0);Jt[t]=new wn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g0,v0);Jt[t]=new wn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g0,v0);Jt[t]=new wn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new wn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new wn(e,1,!1,e.toLowerCase(),null,!0,!0)});function y0(e,t,s,r){var a=Jt.hasOwnProperty(t)?Jt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d$(t,s,a,r)&&(s=null),r||a===null?l$(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Gr=o$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lh=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Lv=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function fc(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,Yx;function Fc(e){if(Yx===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Yx=t&&t[1]||""}return`
`+Yx+e}var Kx=!1;function Gx(e,t){if(!e||Kx)return"";Kx=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{Kx=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Fc(e):""}function u$(e){switch(e.tag){case 5:return Fc(e.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return e=Gx(e.type,!1),e;case 11:return e=Gx(e.type.render,!1),e;case 1:return e=Gx(e.type,!0),e;default:return""}}function $v(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case Ei:return"Portal";case Iv:return"Profiler";case j0:return"StrictMode";case Ov:return"Suspense";case Lv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bT:return(e.displayName||"Context")+".Consumer";case NT:return(e._context.displayName||"Context")+".Provider";case w0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N0:return t=e.displayName||null,t!==null?t:$v(e.type)||"Memo";case fa:t=e._payload,e=e._init;try{return $v(e(t))}catch{}}return null}function h$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $v(t);case 8:return t===j0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m$(e){var t=CT(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $h(e){e._valueTracker||(e._valueTracker=m$(e))}function ET(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=CT(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function ip(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vv(e,t){var s=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Qb(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=_a(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TT(e,t){t=t.checked,t!=null&&y0(e,"checked",t,!1)}function Uv(e,t){TT(e,t);var s=_a(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bv(e,t.type,s):t.hasOwnProperty("defaultValue")&&Bv(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zb(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Bv(e,t,s){(t!=="number"||ip(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var _c=Array.isArray;function qi(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+_a(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Hv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eS(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(pe(92));if(_c(s)){if(1<s.length)throw Error(pe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:_a(s)}}function PT(e,t){var s=_a(t.value),r=_a(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function tS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vh,AT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ud(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p$=["Webkit","ms","Moz","O"];Object.keys(Wc).forEach(function(e){p$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wc[t]=Wc[e]})});function DT(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Wc.hasOwnProperty(e)&&Wc[e]?(""+t).trim():t+"px"}function RT(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=DT(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var f$=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qv(e,t){if(t){if(f$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function Wv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yv=null;function b0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kv=null,Wi=null,Yi=null;function nS(e){if(e=iu(e)){if(typeof Kv!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=Cf(t),Kv(e.stateNode,e.type,t))}}function MT(e){Wi?Yi?Yi.push(e):Yi=[e]:Wi=e}function FT(){if(Wi){var e=Wi,t=Yi;if(Yi=Wi=null,nS(e),t)for(e=0;e<t.length;e++)nS(t[e])}}function _T(e,t){return e(t)}function IT(){}var Xx=!1;function OT(e,t,s){if(Xx)return e(t,s);Xx=!0;try{return _T(e,t,s)}finally{Xx=!1,(Wi!==null||Yi!==null)&&(IT(),FT())}}function hd(e,t){var s=e.stateNode;if(s===null)return null;var r=Cf(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(pe(231,t,typeof s));return s}var Gv=!1;if($r)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{Gv=!1}function x$(e,t,s,r,a,o,i,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var Yc=!1,lp=null,cp=!1,Xv=null,g$={onError:function(e){Yc=!0,lp=e}};function v$(e,t,s,r,a,o,i,l,d){Yc=!1,lp=null,x$.apply(g$,arguments)}function y$(e,t,s,r,a,o,i,l,d){if(v$.apply(this,arguments),Yc){if(Yc){var c=lp;Yc=!1,lp=null}else throw Error(pe(198));cp||(cp=!0,Xv=c)}}function Zo(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function LT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sS(e){if(Zo(e)!==e)throw Error(pe(188))}function j$(e){var t=e.alternate;if(!t){if(t=Zo(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return sS(a),e;if(o===r)return sS(a),t;o=o.sibling}throw Error(pe(188))}if(s.return!==r.return)s=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,r=o;break}if(l===r){i=!0,r=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,r=a;break}if(l===r){i=!0,r=o,s=a;break}l=l.sibling}if(!i)throw Error(pe(189))}}if(s.alternate!==r)throw Error(pe(190))}if(s.tag!==3)throw Error(pe(188));return s.stateNode.current===s?e:t}function $T(e){return e=j$(e),e!==null?VT(e):null}function VT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VT(e);if(t!==null)return t;e=e.sibling}return null}var UT=Qn.unstable_scheduleCallback,rS=Qn.unstable_cancelCallback,w$=Qn.unstable_shouldYield,N$=Qn.unstable_requestPaint,Mt=Qn.unstable_now,b$=Qn.unstable_getCurrentPriorityLevel,S0=Qn.unstable_ImmediatePriority,BT=Qn.unstable_UserBlockingPriority,dp=Qn.unstable_NormalPriority,S$=Qn.unstable_LowPriority,HT=Qn.unstable_IdlePriority,wf=null,ir=null;function C$(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(wf,e,void 0,(e.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:P$,E$=Math.log,T$=Math.LN2;function P$(e){return e>>>=0,e===0?32:31-(E$(e)/T$|0)|0}var Uh=64,Bh=4194304;function Ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function up(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?r=Ic(l):(o&=i,o!==0&&(r=Ic(o)))}else i=s&~a,i!==0?r=Ic(i):o!==0&&(r=Ic(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ms(t),a=1<<s,r|=e[s],t&=~a;return r}function k$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A$(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ms(o),l=1<<i,d=a[i];d===-1?(!(l&s)||l&r)&&(a[i]=k$(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function Jv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zT(){var e=Uh;return Uh<<=1,!(Uh&4194240)&&(Uh=64),e}function Jx(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function au(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ms(t),e[t]=s}function D$(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Ms(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function C0(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ms(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Ze=0;function qT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WT,E0,YT,KT,GT,Qv=!1,Hh=[],Sa=null,Ca=null,Ea=null,md=new Map,pd=new Map,ga=[],R$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aS(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pd.delete(t.pointerId)}}function gc(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=iu(t),t!==null&&E0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function M$(e,t,s,r,a){switch(t){case"focusin":return Sa=gc(Sa,e,t,s,r,a),!0;case"dragenter":return Ca=gc(Ca,e,t,s,r,a),!0;case"mouseover":return Ea=gc(Ea,e,t,s,r,a),!0;case"pointerover":var o=a.pointerId;return md.set(o,gc(md.get(o)||null,e,t,s,r,a)),!0;case"gotpointercapture":return o=a.pointerId,pd.set(o,gc(pd.get(o)||null,e,t,s,r,a)),!0}return!1}function XT(e){var t=xo(e.target);if(t!==null){var s=Zo(t);if(s!==null){if(t=s.tag,t===13){if(t=LT(s),t!==null){e.blockedOn=t,GT(e.priority,function(){YT(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Am(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Zv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Yv=r,s.target.dispatchEvent(r),Yv=null}else return t=iu(s),t!==null&&E0(t),e.blockedOn=s,!1;t.shift()}return!0}function oS(e,t,s){Am(e)&&s.delete(t)}function F$(){Qv=!1,Sa!==null&&Am(Sa)&&(Sa=null),Ca!==null&&Am(Ca)&&(Ca=null),Ea!==null&&Am(Ea)&&(Ea=null),md.forEach(oS),pd.forEach(oS)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,Qv||(Qv=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,F$)))}function fd(e){function t(a){return vc(a,e)}if(0<Hh.length){vc(Hh[0],e);for(var s=1;s<Hh.length;s++){var r=Hh[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Sa!==null&&vc(Sa,e),Ca!==null&&vc(Ca,e),Ea!==null&&vc(Ea,e),md.forEach(t),pd.forEach(t),s=0;s<ga.length;s++)r=ga[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<ga.length&&(s=ga[0],s.blockedOn===null);)XT(s),s.blockedOn===null&&ga.shift()}var Ki=Gr.ReactCurrentBatchConfig,hp=!0;function _$(e,t,s,r){var a=Ze,o=Ki.transition;Ki.transition=null;try{Ze=1,T0(e,t,s,r)}finally{Ze=a,Ki.transition=o}}function I$(e,t,s,r){var a=Ze,o=Ki.transition;Ki.transition=null;try{Ze=4,T0(e,t,s,r)}finally{Ze=a,Ki.transition=o}}function T0(e,t,s,r){if(hp){var a=Zv(e,t,s,r);if(a===null)ig(e,t,r,mp,s),aS(e,r);else if(M$(a,e,t,s,r))r.stopPropagation();else if(aS(e,r),t&4&&-1<R$.indexOf(e)){for(;a!==null;){var o=iu(a);if(o!==null&&WT(o),o=Zv(e,t,s,r),o===null&&ig(e,t,r,mp,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else ig(e,t,r,null,s)}}var mp=null;function Zv(e,t,s,r){if(mp=null,e=b0(r),e=xo(e),e!==null)if(t=Zo(e),t===null)e=null;else if(s=t.tag,s===13){if(e=LT(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mp=e,null}function JT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b$()){case S0:return 1;case BT:return 4;case dp:case S$:return 16;case HT:return 536870912;default:return 16}default:return 16}}var ja=null,P0=null,Dm=null;function QT(){if(Dm)return Dm;var e,t=P0,s=t.length,r,a="value"in ja?ja.value:ja.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[o-r];r++);return Dm=a.slice(e,1<r?1-r:void 0)}function Rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zh(){return!0}function iS(){return!1}function rs(e){function t(s,r,a,o,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zh:iS,this.isPropagationStopped=iS,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k0=rs(Ll),ou=bt({},Ll,{view:0,detail:0}),O$=rs(ou),Qx,Zx,yc,Nf=bt({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yc&&(yc&&e.type==="mousemove"?(Qx=e.screenX-yc.screenX,Zx=e.screenY-yc.screenY):Zx=Qx=0,yc=e),Qx)},movementY:function(e){return"movementY"in e?e.movementY:Zx}}),lS=rs(Nf),L$=bt({},Nf,{dataTransfer:0}),$$=rs(L$),V$=bt({},ou,{relatedTarget:0}),eg=rs(V$),U$=bt({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),B$=rs(U$),H$=bt({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z$=rs(H$),q$=bt({},Ll,{data:0}),cS=rs(q$),W$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K$[e])?!!t[e]:!1}function A0(){return G$}var X$=bt({},ou,{key:function(e){if(e.key){var t=W$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A0,charCode:function(e){return e.type==="keypress"?Rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J$=rs(X$),Q$=bt({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dS=rs(Q$),Z$=bt({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A0}),e5=rs(Z$),t5=bt({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),n5=rs(t5),s5=bt({},Nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r5=rs(s5),a5=[9,13,27,32],D0=$r&&"CompositionEvent"in window,Kc=null;$r&&"documentMode"in document&&(Kc=document.documentMode);var o5=$r&&"TextEvent"in window&&!Kc,ZT=$r&&(!D0||Kc&&8<Kc&&11>=Kc),uS=" ",hS=!1;function eP(e,t){switch(e){case"keyup":return a5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function i5(e,t){switch(e){case"compositionend":return tP(t);case"keypress":return t.which!==32?null:(hS=!0,uS);case"textInput":return e=t.data,e===uS&&hS?null:e;default:return null}}function l5(e,t){if(Pi)return e==="compositionend"||!D0&&eP(e,t)?(e=QT(),Dm=P0=ja=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZT&&t.locale!=="ko"?null:t.data;default:return null}}var c5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c5[e.type]:t==="textarea"}function nP(e,t,s,r){MT(r),t=pp(t,"onChange"),0<t.length&&(s=new k0("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Gc=null,xd=null;function d5(e){mP(e,0)}function bf(e){var t=Di(e);if(ET(t))return e}function u5(e,t){if(e==="change")return t}var sP=!1;if($r){var tg;if($r){var ng="oninput"in document;if(!ng){var pS=document.createElement("div");pS.setAttribute("oninput","return;"),ng=typeof pS.oninput=="function"}tg=ng}else tg=!1;sP=tg&&(!document.documentMode||9<document.documentMode)}function fS(){Gc&&(Gc.detachEvent("onpropertychange",rP),xd=Gc=null)}function rP(e){if(e.propertyName==="value"&&bf(xd)){var t=[];nP(t,xd,e,b0(e)),OT(d5,t)}}function h5(e,t,s){e==="focusin"?(fS(),Gc=t,xd=s,Gc.attachEvent("onpropertychange",rP)):e==="focusout"&&fS()}function m5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bf(xd)}function p5(e,t){if(e==="click")return bf(t)}function f5(e,t){if(e==="input"||e==="change")return bf(t)}function x5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Os=typeof Object.is=="function"?Object.is:x5;function gd(e,t){if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!_v.call(t,a)||!Os(e[a],t[a]))return!1}return!0}function xS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gS(e,t){var s=xS(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xS(s)}}function aP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oP(){for(var e=window,t=ip();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ip(e.document)}return t}function R0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g5(e){var t=oP(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&aP(s.ownerDocument.documentElement,s)){if(r!==null&&R0(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=gS(s,o);var i=gS(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v5=$r&&"documentMode"in document&&11>=document.documentMode,ki=null,ey=null,Xc=null,ty=!1;function vS(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ty||ki==null||ki!==ip(r)||(r=ki,"selectionStart"in r&&R0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xc&&gd(Xc,r)||(Xc=r,r=pp(ey,"onSelect"),0<r.length&&(t=new k0("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=ki)))}function qh(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ai={animationend:qh("Animation","AnimationEnd"),animationiteration:qh("Animation","AnimationIteration"),animationstart:qh("Animation","AnimationStart"),transitionend:qh("Transition","TransitionEnd")},sg={},iP={};$r&&(iP=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Sf(e){if(sg[e])return sg[e];if(!Ai[e])return e;var t=Ai[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in iP)return sg[e]=t[s];return e}var lP=Sf("animationend"),cP=Sf("animationiteration"),dP=Sf("animationstart"),uP=Sf("transitionend"),hP=new Map,yS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(e,t){hP.set(e,t),Qo(t,[e])}for(var rg=0;rg<yS.length;rg++){var ag=yS[rg],y5=ag.toLowerCase(),j5=ag[0].toUpperCase()+ag.slice(1);Ya(y5,"on"+j5)}Ya(lP,"onAnimationEnd");Ya(cP,"onAnimationIteration");Ya(dP,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(uP,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function jS(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,y$(r,t,void 0,e),e.currentTarget=null}function mP(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==o&&a.isPropagationStopped())break e;jS(a,l,c),o=d}else for(i=0;i<r.length;i++){if(l=r[i],d=l.instance,c=l.currentTarget,l=l.listener,d!==o&&a.isPropagationStopped())break e;jS(a,l,c),o=d}}}if(cp)throw e=Xv,cp=!1,Xv=null,e}function ct(e,t){var s=t[oy];s===void 0&&(s=t[oy]=new Set);var r=e+"__bubble";s.has(r)||(pP(t,e,2,!1),s.add(r))}function og(e,t,s){var r=0;t&&(r|=4),pP(s,e,r,t)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[Wh]){e[Wh]=!0,wT.forEach(function(s){s!=="selectionchange"&&(w5.has(s)||og(s,!1,e),og(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wh]||(t[Wh]=!0,og("selectionchange",!1,t))}}function pP(e,t,s,r){switch(JT(t)){case 1:var a=_$;break;case 4:a=I$;break;default:a=T0}s=a.bind(null,t,s,e),a=void 0,!Gv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function ig(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;l!==null;){if(i=xo(l),i===null)return;if(d=i.tag,d===5||d===6){r=o=i;continue e}l=l.parentNode}}r=r.return}OT(function(){var c=o,u=b0(s),h=[];e:{var m=hP.get(e);if(m!==void 0){var f=k0,y=e;switch(e){case"keypress":if(Rm(s)===0)break e;case"keydown":case"keyup":f=J$;break;case"focusin":y="focus",f=eg;break;case"focusout":y="blur",f=eg;break;case"beforeblur":case"afterblur":f=eg;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=lS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=e5;break;case lP:case cP:case dP:f=B$;break;case uP:f=n5;break;case"scroll":f=O$;break;case"wheel":f=r5;break;case"copy":case"cut":case"paste":f=z$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=dS}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var g=c,j;g!==null;){j=g;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=hd(g,v),N!=null&&x.push(yd(g,N,j)))),w)break;g=g.return}0<x.length&&(m=new f(m,y,null,s,u),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==Yv&&(y=s.relatedTarget||s.fromElement)&&(xo(y)||y[Vr]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(y=s.relatedTarget||s.toElement,f=c,y=y?xo(y):null,y!==null&&(w=Zo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(x=lS,N="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=dS,N="onPointerLeave",v="onPointerEnter",g="pointer"),w=f==null?m:Di(f),j=y==null?m:Di(y),m=new x(N,g+"leave",f,s,u),m.target=w,m.relatedTarget=j,N=null,xo(u)===c&&(x=new x(v,g+"enter",y,s,u),x.target=j,x.relatedTarget=w,N=x),w=N,f&&y)t:{for(x=f,v=y,g=0,j=x;j;j=ui(j))g++;for(j=0,N=v;N;N=ui(N))j++;for(;0<g-j;)x=ui(x),g--;for(;0<j-g;)v=ui(v),j--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=ui(x),v=ui(v)}x=null}else x=null;f!==null&&wS(h,m,f,x,!1),y!==null&&w!==null&&wS(h,w,y,x,!0)}}e:{if(m=c?Di(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var b=u5;else if(mS(m))if(sP)b=f5;else{b=m5;var E=h5}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=p5);if(b&&(b=b(e,c))){nP(h,b,s,u);break e}E&&E(e,m,c),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Bv(m,"number",m.value)}switch(E=c?Di(c):window,e){case"focusin":(mS(E)||E.contentEditable==="true")&&(ki=E,ey=c,Xc=null);break;case"focusout":Xc=ey=ki=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,vS(h,s,u);break;case"selectionchange":if(v5)break;case"keydown":case"keyup":vS(h,s,u)}var C;if(D0)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pi?eP(e,s)&&(T="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(ZT&&s.locale!=="ko"&&(Pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pi&&(C=QT()):(ja=u,P0="value"in ja?ja.value:ja.textContent,Pi=!0)),E=pp(c,T),0<E.length&&(T=new cS(T,e,null,s,u),h.push({event:T,listeners:E}),C?T.data=C:(C=tP(s),C!==null&&(T.data=C)))),(C=o5?i5(e,s):l5(e,s))&&(c=pp(c,"onBeforeInput"),0<c.length&&(u=new cS("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:c}),u.data=C))}mP(h,t)})}function yd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function pp(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=hd(e,s),o!=null&&r.unshift(yd(e,o,a)),o=hd(e,t),o!=null&&r.push(yd(e,o,a))),e=e.return}return r}function ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wS(e,t,s,r,a){for(var o=t._reactName,i=[];s!==null&&s!==r;){var l=s,d=l.alternate,c=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&c!==null&&(l=c,a?(d=hd(s,o),d!=null&&i.unshift(yd(s,d,l))):a||(d=hd(s,o),d!=null&&i.push(yd(s,d,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var N5=/\r\n?/g,b5=/\u0000|\uFFFD/g;function NS(e){return(typeof e=="string"?e:""+e).replace(N5,`
`).replace(b5,"")}function Yh(e,t,s){if(t=NS(t),NS(e)!==t&&s)throw Error(pe(425))}function fp(){}var ny=null,sy=null;function ry(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ay=typeof setTimeout=="function"?setTimeout:void 0,S5=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,C5=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(e){return bS.resolve(null).then(e).catch(E5)}:ay;function E5(e){setTimeout(function(){throw e})}function lg(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),fd(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);fd(t)}function Ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var $l=Math.random().toString(36).slice(2),nr="__reactFiber$"+$l,jd="__reactProps$"+$l,Vr="__reactContainer$"+$l,oy="__reactEvents$"+$l,T5="__reactListeners$"+$l,P5="__reactHandles$"+$l;function xo(e){var t=e[nr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Vr]||s[nr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=SS(e);e!==null;){if(s=e[nr])return s;e=SS(e)}return t}e=s,s=e.parentNode}return null}function iu(e){return e=e[nr]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function Cf(e){return e[jd]||null}var iy=[],Ri=-1;function Ka(e){return{current:e}}function dt(e){0>Ri||(e.current=iy[Ri],iy[Ri]=null,Ri--)}function ot(e,t){Ri++,iy[Ri]=e.current,e.current=t}var Ia={},on=Ka(Ia),An=Ka(!1),Ao=Ia;function dl(e,t){var s=e.type.contextTypes;if(!s)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dn(e){return e=e.childContextTypes,e!=null}function xp(){dt(An),dt(on)}function CS(e,t,s){if(on.current!==Ia)throw Error(pe(168));ot(on,t),ot(An,s)}function fP(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(pe(108,h$(e)||"Unknown",a));return bt({},s,r)}function gp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Ao=on.current,ot(on,e),ot(An,An.current),!0}function ES(e,t,s){var r=e.stateNode;if(!r)throw Error(pe(169));s?(e=fP(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,dt(An),dt(on),ot(on,e)):dt(An),ot(An,s)}var Rr=null,Ef=!1,cg=!1;function xP(e){Rr===null?Rr=[e]:Rr.push(e)}function k5(e){Ef=!0,xP(e)}function Ga(){if(!cg&&Rr!==null){cg=!0;var e=0,t=Ze;try{var s=Rr;for(Ze=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Rr=null,Ef=!1}catch(a){throw Rr!==null&&(Rr=Rr.slice(e+1)),UT(S0,Ga),a}finally{Ze=t,cg=!1}}return null}var Mi=[],Fi=0,vp=null,yp=0,cs=[],ds=0,Do=null,Fr=1,_r="";function lo(e,t){Mi[Fi++]=yp,Mi[Fi++]=vp,vp=e,yp=t}function gP(e,t,s){cs[ds++]=Fr,cs[ds++]=_r,cs[ds++]=Do,Do=e;var r=Fr;e=_r;var a=32-Ms(r)-1;r&=~(1<<a),s+=1;var o=32-Ms(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Fr=1<<32-Ms(t)+a|s<<a|r,_r=o+e}else Fr=1<<o|s<<a|r,_r=e}function M0(e){e.return!==null&&(lo(e,1),gP(e,1,0))}function F0(e){for(;e===vp;)vp=Mi[--Fi],Mi[Fi]=null,yp=Mi[--Fi],Mi[Fi]=null;for(;e===Do;)Do=cs[--ds],cs[ds]=null,_r=cs[--ds],cs[ds]=null,Fr=cs[--ds],cs[ds]=null}var Xn=null,Yn=null,mt=!1,ks=null;function vP(e,t){var s=us(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function TS(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Yn=Ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Do!==null?{id:Fr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=us(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Xn=e,Yn=null,!0):!1;default:return!1}}function ly(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cy(e){if(mt){var t=Yn;if(t){var s=t;if(!TS(e,t)){if(ly(e))throw Error(pe(418));t=Ta(s.nextSibling);var r=Xn;t&&TS(e,t)?vP(r,s):(e.flags=e.flags&-4097|2,mt=!1,Xn=e)}}else{if(ly(e))throw Error(pe(418));e.flags=e.flags&-4097|2,mt=!1,Xn=e}}}function PS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function Kh(e){if(e!==Xn)return!1;if(!mt)return PS(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ry(e.type,e.memoizedProps)),t&&(t=Yn)){if(ly(e))throw yP(),Error(pe(418));for(;t;)vP(e,t),t=Ta(t.nextSibling)}if(PS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Yn=Ta(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=Xn?Ta(e.stateNode.nextSibling):null;return!0}function yP(){for(var e=Yn;e;)e=Ta(e.nextSibling)}function ul(){Yn=Xn=null,mt=!1}function _0(e){ks===null?ks=[e]:ks.push(e)}var A5=Gr.ReactCurrentBatchConfig;function jc(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(pe(309));var r=s.stateNode}if(!r)throw Error(pe(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(pe(284));if(!s._owner)throw Error(pe(290,e))}return e}function Gh(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kS(e){var t=e._init;return t(e._payload)}function jP(e){function t(v,g){if(e){var j=v.deletions;j===null?(v.deletions=[g],v.flags|=16):j.push(g)}}function s(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Da(v,g),v.index=0,v.sibling=null,v}function o(v,g,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<g?(v.flags|=2,g):j):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,j,N){return g===null||g.tag!==6?(g=xg(j,v.mode,N),g.return=v,g):(g=a(g,j),g.return=v,g)}function d(v,g,j,N){var b=j.type;return b===Ti?u(v,g,j.props.children,N,j.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===fa&&kS(b)===g.type)?(N=a(g,j.props),N.ref=jc(v,g,j),N.return=v,N):(N=$m(j.type,j.key,j.props,null,v.mode,N),N.ref=jc(v,g,j),N.return=v,N)}function c(v,g,j,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=gg(j,v.mode,N),g.return=v,g):(g=a(g,j.children||[]),g.return=v,g)}function u(v,g,j,N,b){return g===null||g.tag!==7?(g=So(j,v.mode,N,b),g.return=v,g):(g=a(g,j),g.return=v,g)}function h(v,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xg(""+g,v.mode,j),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lh:return j=$m(g.type,g.key,g.props,null,v.mode,j),j.ref=jc(v,null,g),j.return=v,j;case Ei:return g=gg(g,v.mode,j),g.return=v,g;case fa:var N=g._init;return h(v,N(g._payload),j)}if(_c(g)||fc(g))return g=So(g,v.mode,j,null),g.return=v,g;Gh(v,g)}return null}function m(v,g,j,N){var b=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return b!==null?null:l(v,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Lh:return j.key===b?d(v,g,j,N):null;case Ei:return j.key===b?c(v,g,j,N):null;case fa:return b=j._init,m(v,g,b(j._payload),N)}if(_c(j)||fc(j))return b!==null?null:u(v,g,j,N,null);Gh(v,j)}return null}function f(v,g,j,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,l(g,v,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lh:return v=v.get(N.key===null?j:N.key)||null,d(g,v,N,b);case Ei:return v=v.get(N.key===null?j:N.key)||null,c(g,v,N,b);case fa:var E=N._init;return f(v,g,j,E(N._payload),b)}if(_c(N)||fc(N))return v=v.get(j)||null,u(g,v,N,b,null);Gh(g,N)}return null}function y(v,g,j,N){for(var b=null,E=null,C=g,T=g=0,F=null;C!==null&&T<j.length;T++){C.index>T?(F=C,C=null):F=C.sibling;var V=m(v,C,j[T],N);if(V===null){C===null&&(C=F);break}e&&C&&V.alternate===null&&t(v,C),g=o(V,g,T),E===null?b=V:E.sibling=V,E=V,C=F}if(T===j.length)return s(v,C),mt&&lo(v,T),b;if(C===null){for(;T<j.length;T++)C=h(v,j[T],N),C!==null&&(g=o(C,g,T),E===null?b=C:E.sibling=C,E=C);return mt&&lo(v,T),b}for(C=r(v,C);T<j.length;T++)F=f(C,v,T,j[T],N),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?T:F.key),g=o(F,g,T),E===null?b=F:E.sibling=F,E=F);return e&&C.forEach(function(k){return t(v,k)}),mt&&lo(v,T),b}function x(v,g,j,N){var b=fc(j);if(typeof b!="function")throw Error(pe(150));if(j=b.call(j),j==null)throw Error(pe(151));for(var E=b=null,C=g,T=g=0,F=null,V=j.next();C!==null&&!V.done;T++,V=j.next()){C.index>T?(F=C,C=null):F=C.sibling;var k=m(v,C,V.value,N);if(k===null){C===null&&(C=F);break}e&&C&&k.alternate===null&&t(v,C),g=o(k,g,T),E===null?b=k:E.sibling=k,E=k,C=F}if(V.done)return s(v,C),mt&&lo(v,T),b;if(C===null){for(;!V.done;T++,V=j.next())V=h(v,V.value,N),V!==null&&(g=o(V,g,T),E===null?b=V:E.sibling=V,E=V);return mt&&lo(v,T),b}for(C=r(v,C);!V.done;T++,V=j.next())V=f(C,v,T,V.value,N),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?T:V.key),g=o(V,g,T),E===null?b=V:E.sibling=V,E=V);return e&&C.forEach(function(M){return t(v,M)}),mt&&lo(v,T),b}function w(v,g,j,N){if(typeof j=="object"&&j!==null&&j.type===Ti&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Lh:e:{for(var b=j.key,E=g;E!==null;){if(E.key===b){if(b=j.type,b===Ti){if(E.tag===7){s(v,E.sibling),g=a(E,j.props.children),g.return=v,v=g;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===fa&&kS(b)===E.type){s(v,E.sibling),g=a(E,j.props),g.ref=jc(v,E,j),g.return=v,v=g;break e}s(v,E);break}else t(v,E);E=E.sibling}j.type===Ti?(g=So(j.props.children,v.mode,N,j.key),g.return=v,v=g):(N=$m(j.type,j.key,j.props,null,v.mode,N),N.ref=jc(v,g,j),N.return=v,v=N)}return i(v);case Ei:e:{for(E=j.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){s(v,g.sibling),g=a(g,j.children||[]),g.return=v,v=g;break e}else{s(v,g);break}else t(v,g);g=g.sibling}g=gg(j,v.mode,N),g.return=v,v=g}return i(v);case fa:return E=j._init,w(v,g,E(j._payload),N)}if(_c(j))return y(v,g,j,N);if(fc(j))return x(v,g,j,N);Gh(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,g!==null&&g.tag===6?(s(v,g.sibling),g=a(g,j),g.return=v,v=g):(s(v,g),g=xg(j,v.mode,N),g.return=v,v=g),i(v)):s(v,g)}return w}var hl=jP(!0),wP=jP(!1),jp=Ka(null),wp=null,_i=null,I0=null;function O0(){I0=_i=wp=null}function L0(e){var t=jp.current;dt(jp),e._currentValue=t}function dy(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Gi(e,t){wp=e,I0=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cn=!0),e.firstContext=null)}function fs(e){var t=e._currentValue;if(I0!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(wp===null)throw Error(pe(308));_i=e,wp.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var go=null;function $0(e){go===null?go=[e]:go.push(e)}function NP(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,$0(t)):(s.next=a.next,a.next=s),t.interleaved=s,Ur(e,r)}function Ur(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var xa=!1;function V0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ur(e,s)}return a=r.interleaved,a===null?(t.next=t,$0(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ur(e,s)}function Mm(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,C0(e,s)}}function AS(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Np(e,t,s,r){var a=e.updateQueue;xa=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,c=d.next;d.next=null,i===null?o=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(o!==null){var h=a.baseState;i=0,u=c=d=null,l=o;do{var m=l.lane,f=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(m=t,f=s,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(f,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(f,h,m):y,m==null)break e;h=bt({},h,m);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,d=h):u=u.next=f,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(d=h),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Mo|=i,e.lanes=i,e.memoizedState=h}}function DS(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(pe(191,a));a.call(r)}}}var lu={},lr=Ka(lu),wd=Ka(lu),Nd=Ka(lu);function vo(e){if(e===lu)throw Error(pe(174));return e}function U0(e,t){switch(ot(Nd,t),ot(wd,e),ot(lr,lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zv(t,e)}dt(lr),ot(lr,t)}function ml(){dt(lr),dt(wd),dt(Nd)}function SP(e){vo(Nd.current);var t=vo(lr.current),s=zv(t,e.type);t!==s&&(ot(wd,e),ot(lr,s))}function B0(e){wd.current===e&&(dt(lr),dt(wd))}var gt=Ka(0);function bp(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dg=[];function H0(){for(var e=0;e<dg.length;e++)dg[e]._workInProgressVersionPrimary=null;dg.length=0}var Fm=Gr.ReactCurrentDispatcher,ug=Gr.ReactCurrentBatchConfig,Ro=0,wt=null,Ut=null,Ht=null,Sp=!1,Jc=!1,bd=0,D5=0;function Zt(){throw Error(pe(321))}function z0(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Os(e[s],t[s]))return!1;return!0}function q0(e,t,s,r,a,o){if(Ro=o,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fm.current=e===null||e.memoizedState===null?_5:I5,e=s(r,a),Jc){o=0;do{if(Jc=!1,bd=0,25<=o)throw Error(pe(301));o+=1,Ht=Ut=null,t.updateQueue=null,Fm.current=O5,e=s(r,a)}while(Jc)}if(Fm.current=Cp,t=Ut!==null&&Ut.next!==null,Ro=0,Ht=Ut=wt=null,Sp=!1,t)throw Error(pe(300));return e}function W0(){var e=bd!==0;return bd=0,e}function er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function xs(){if(Ut===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=Ht===null?wt.memoizedState:Ht.next;if(t!==null)Ht=t,Ut=e;else{if(e===null)throw Error(pe(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ht===null?wt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Sd(e,t){return typeof t=="function"?t(e):t}function hg(e){var t=xs(),s=t.queue;if(s===null)throw Error(pe(311));s.lastRenderedReducer=e;var r=Ut,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,d=null,c=o;do{var u=c.lane;if((Ro&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=h,i=r):d=d.next=h,wt.lanes|=u,Mo|=u}c=c.next}while(c!==null&&c!==o);d===null?i=r:d.next=l,Os(r,t.memoizedState)||(Cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=d,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,wt.lanes|=o,Mo|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function mg(e){var t=xs(),s=t.queue;if(s===null)throw Error(pe(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Os(o,t.memoizedState)||(Cn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function CP(){}function EP(e,t){var s=wt,r=xs(),a=t(),o=!Os(r.memoizedState,a);if(o&&(r.memoizedState=a,Cn=!0),r=r.queue,Y0(kP.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||Ht!==null&&Ht.memoizedState.tag&1){if(s.flags|=2048,Cd(9,PP.bind(null,s,r,a,t),void 0,null),zt===null)throw Error(pe(349));Ro&30||TP(s,t,a)}return a}function TP(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function PP(e,t,s,r){t.value=s,t.getSnapshot=r,AP(t)&&DP(e)}function kP(e,t,s){return s(function(){AP(t)&&DP(e)})}function AP(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Os(e,s)}catch{return!0}}function DP(e){var t=Ur(e,1);t!==null&&Fs(t,e,1,-1)}function RS(e){var t=er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:e},t.queue=e,e=e.dispatch=F5.bind(null,wt,e),[t.memoizedState,e]}function Cd(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function RP(){return xs().memoizedState}function _m(e,t,s,r){var a=er();wt.flags|=e,a.memoizedState=Cd(1|t,s,void 0,r===void 0?null:r)}function Tf(e,t,s,r){var a=xs();r=r===void 0?null:r;var o=void 0;if(Ut!==null){var i=Ut.memoizedState;if(o=i.destroy,r!==null&&z0(r,i.deps)){a.memoizedState=Cd(t,s,o,r);return}}wt.flags|=e,a.memoizedState=Cd(1|t,s,o,r)}function MS(e,t){return _m(8390656,8,e,t)}function Y0(e,t){return Tf(2048,8,e,t)}function MP(e,t){return Tf(4,2,e,t)}function FP(e,t){return Tf(4,4,e,t)}function _P(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IP(e,t,s){return s=s!=null?s.concat([e]):null,Tf(4,4,_P.bind(null,t,e),s)}function K0(){}function OP(e,t){var s=xs();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&z0(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function LP(e,t){var s=xs();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&z0(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function $P(e,t,s){return Ro&21?(Os(s,t)||(s=zT(),wt.lanes|=s,Mo|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cn=!0),e.memoizedState=s)}function R5(e,t){var s=Ze;Ze=s!==0&&4>s?s:4,e(!0);var r=ug.transition;ug.transition={};try{e(!1),t()}finally{Ze=s,ug.transition=r}}function VP(){return xs().memoizedState}function M5(e,t,s){var r=Aa(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},UP(e))BP(t,s);else if(s=NP(e,t,s,r),s!==null){var a=vn();Fs(s,e,r,a),HP(s,t,r)}}function F5(e,t,s){var r=Aa(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(UP(e))BP(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Os(l,i)){var d=t.interleaved;d===null?(a.next=a,$0(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}s=NP(e,t,a,r),s!==null&&(a=vn(),Fs(s,e,r,a),HP(s,t,r))}}function UP(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function BP(e,t){Jc=Sp=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function HP(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,C0(e,s)}}var Cp={readContext:fs,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},_5={readContext:fs,useCallback:function(e,t){return er().memoizedState=[e,t===void 0?null:t],e},useContext:fs,useEffect:MS,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,_m(4194308,4,_P.bind(null,t,e),s)},useLayoutEffect:function(e,t){return _m(4194308,4,e,t)},useInsertionEffect:function(e,t){return _m(4,2,e,t)},useMemo:function(e,t){var s=er();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=er();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=M5.bind(null,wt,e),[r.memoizedState,e]},useRef:function(e){var t=er();return e={current:e},t.memoizedState=e},useState:RS,useDebugValue:K0,useDeferredValue:function(e){return er().memoizedState=e},useTransition:function(){var e=RS(!1),t=e[0];return e=R5.bind(null,e[1]),er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=wt,a=er();if(mt){if(s===void 0)throw Error(pe(407));s=s()}else{if(s=t(),zt===null)throw Error(pe(349));Ro&30||TP(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,MS(kP.bind(null,r,o,e),[e]),r.flags|=2048,Cd(9,PP.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=er(),t=zt.identifierPrefix;if(mt){var s=_r,r=Fr;s=(r&~(1<<32-Ms(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=bd++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=D5++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I5={readContext:fs,useCallback:OP,useContext:fs,useEffect:Y0,useImperativeHandle:IP,useInsertionEffect:MP,useLayoutEffect:FP,useMemo:LP,useReducer:hg,useRef:RP,useState:function(){return hg(Sd)},useDebugValue:K0,useDeferredValue:function(e){var t=xs();return $P(t,Ut.memoizedState,e)},useTransition:function(){var e=hg(Sd)[0],t=xs().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:EP,useId:VP,unstable_isNewReconciler:!1},O5={readContext:fs,useCallback:OP,useContext:fs,useEffect:Y0,useImperativeHandle:IP,useInsertionEffect:MP,useLayoutEffect:FP,useMemo:LP,useReducer:mg,useRef:RP,useState:function(){return mg(Sd)},useDebugValue:K0,useDeferredValue:function(e){var t=xs();return Ut===null?t.memoizedState=e:$P(t,Ut.memoizedState,e)},useTransition:function(){var e=mg(Sd)[0],t=xs().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:EP,useId:VP,unstable_isNewReconciler:!1};function Es(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function uy(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:bt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pf={isMounted:function(e){return(e=e._reactInternals)?Zo(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=vn(),a=Aa(e),o=Or(r,a);o.payload=t,s!=null&&(o.callback=s),t=Pa(e,o,a),t!==null&&(Fs(t,e,a,r),Mm(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=vn(),a=Aa(e),o=Or(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Pa(e,o,a),t!==null&&(Fs(t,e,a,r),Mm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=vn(),r=Aa(e),a=Or(s,r);a.tag=2,t!=null&&(a.callback=t),t=Pa(e,a,r),t!==null&&(Fs(t,e,r,s),Mm(t,e,r))}};function FS(e,t,s,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!gd(s,r)||!gd(a,o):!0}function zP(e,t,s){var r=!1,a=Ia,o=t.contextType;return typeof o=="object"&&o!==null?o=fs(o):(a=Dn(t)?Ao:on.current,r=t.contextTypes,o=(r=r!=null)?dl(e,a):Ia),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function _S(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Pf.enqueueReplaceState(t,t.state,null)}function hy(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},V0(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=fs(o):(o=Dn(t)?Ao:on.current,a.context=dl(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(uy(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pf.enqueueReplaceState(a,a.state,null),Np(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function pl(e,t){try{var s="",r=t;do s+=u$(r),r=r.return;while(r);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function pg(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function my(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var L5=typeof WeakMap=="function"?WeakMap:Map;function qP(e,t,s){s=Or(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Tp||(Tp=!0,by=r),my(e,t)},s}function WP(e,t,s){s=Or(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){my(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){my(e,t),typeof r!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function IS(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new L5;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=Q5.bind(null,e,t,s),t.then(e,e))}function OS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LS(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Or(-1,1),t.tag=2,Pa(s,t,1))),s.lanes|=1),e)}var $5=Gr.ReactCurrentOwner,Cn=!1;function fn(e,t,s,r){t.child=e===null?wP(t,null,s,r):hl(t,e.child,s,r)}function $S(e,t,s,r,a){s=s.render;var o=t.ref;return Gi(t,a),r=q0(e,t,s,r,o,a),s=W0(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Br(e,t,a)):(mt&&s&&M0(t),t.flags|=1,fn(e,t,r,a),t.child)}function VS(e,t,s,r,a){if(e===null){var o=s.type;return typeof o=="function"&&!nw(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,YP(e,t,o,r,a)):(e=$m(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:gd,s(i,r)&&e.ref===t.ref)return Br(e,t,a)}return t.flags|=1,e=Da(o,r),e.ref=t.ref,e.return=t,t.child=e}function YP(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(gd(o,r)&&e.ref===t.ref)if(Cn=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(Cn=!0);else return t.lanes=e.lanes,Br(e,t,a)}return py(e,t,s,r,a)}function KP(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Oi,Hn),Hn|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Oi,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,ot(Oi,Hn),Hn|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,ot(Oi,Hn),Hn|=r;return fn(e,t,a,s),t.child}function GP(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function py(e,t,s,r,a){var o=Dn(s)?Ao:on.current;return o=dl(t,o),Gi(t,a),s=q0(e,t,s,r,o,a),r=W0(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Br(e,t,a)):(mt&&r&&M0(t),t.flags|=1,fn(e,t,s,a),t.child)}function US(e,t,s,r,a){if(Dn(s)){var o=!0;gp(t)}else o=!1;if(Gi(t,a),t.stateNode===null)Im(e,t),zP(t,s,r),hy(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var d=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=fs(c):(c=Dn(s)?Ao:on.current,c=dl(t,c));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||d!==c)&&_S(t,i,r,c),xa=!1;var m=t.memoizedState;i.state=m,Np(t,r,i,a),d=t.memoizedState,l!==r||m!==d||An.current||xa?(typeof u=="function"&&(uy(t,s,u,r),d=t.memoizedState),(l=xa||FS(t,s,l,r,m,d,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,bP(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Es(t.type,l),i.props=c,h=t.pendingProps,m=i.context,d=s.contextType,typeof d=="object"&&d!==null?d=fs(d):(d=Dn(s)?Ao:on.current,d=dl(t,d));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==d)&&_S(t,i,r,d),xa=!1,m=t.memoizedState,i.state=m,Np(t,r,i,a);var y=t.memoizedState;l!==h||m!==y||An.current||xa?(typeof f=="function"&&(uy(t,s,f,r),y=t.memoizedState),(c=xa||FS(t,s,c,r,m,y,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=d,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return fy(e,t,s,r,o,a)}function fy(e,t,s,r,a,o){GP(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&ES(t,s,!1),Br(e,t,o);r=t.stateNode,$5.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=hl(t,e.child,null,o),t.child=hl(t,null,l,o)):fn(e,t,l,o),t.memoizedState=r.state,a&&ES(t,s,!0),t.child}function XP(e){var t=e.stateNode;t.pendingContext?CS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CS(e,t.context,!1),U0(e,t.containerInfo)}function BS(e,t,s,r,a){return ul(),_0(a),t.flags|=256,fn(e,t,s,r),t.child}var xy={dehydrated:null,treeContext:null,retryLane:0};function gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function JP(e,t,s){var r=t.pendingProps,a=gt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ot(gt,a&1),e===null)return cy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Df(i,r,0,null),e=So(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gy(s),t.memoizedState=xy,e):G0(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return V5(e,t,i,r,l,a,s);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Da(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Da(l,o):(o=So(o,i,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?gy(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=xy,r}return o=e.child,e=o.sibling,r=Da(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function G0(e,t){return t=Df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xh(e,t,s,r){return r!==null&&_0(r),hl(t,e.child,null,s),e=G0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function V5(e,t,s,r,a,o,i){if(s)return t.flags&256?(t.flags&=-257,r=pg(Error(pe(422))),Xh(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Df({mode:"visible",children:r.children},a,0,null),o=So(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hl(t,e.child,null,i),t.child.memoizedState=gy(i),t.memoizedState=xy,o);if(!(t.mode&1))return Xh(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(pe(419)),r=pg(o,r,void 0),Xh(e,t,i,r)}if(l=(i&e.childLanes)!==0,Cn||l){if(r=zt,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ur(e,a),Fs(r,e,a,-1))}return tw(),r=pg(Error(pe(421))),Xh(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Z5.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Yn=Ta(a.nextSibling),Xn=t,mt=!0,ks=null,e!==null&&(cs[ds++]=Fr,cs[ds++]=_r,cs[ds++]=Do,Fr=e.id,_r=e.overflow,Do=t),t=G0(t,r.children),t.flags|=4096,t)}function HS(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dy(e.return,t,s)}function fg(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function QP(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(fn(e,t,r.children,s),r=gt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HS(e,s,t);else if(e.tag===19)HS(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ot(gt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&bp(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),fg(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bp(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}fg(t,!0,s,null,o);break;case"together":fg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Im(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Mo|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,s=Da(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Da(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function U5(e,t,s){switch(t.tag){case 3:XP(t),ul();break;case 5:SP(t);break;case 1:Dn(t.type)&&gp(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ot(jp,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ot(gt,gt.current&1),t.flags|=128,null):s&t.child.childLanes?JP(e,t,s):(ot(gt,gt.current&1),e=Br(e,t,s),e!==null?e.sibling:null);ot(gt,gt.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return QP(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ot(gt,gt.current),r)break;return null;case 22:case 23:return t.lanes=0,KP(e,t,s)}return Br(e,t,s)}var ZP,vy,ek,tk;ZP=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};vy=function(){};ek=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,vo(lr.current);var o=null;switch(s){case"input":a=Vv(e,a),r=Vv(e,r),o=[];break;case"select":a=bt({},a,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":a=Hv(e,a),r=Hv(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fp)}qv(s,r);var i;s=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dd.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var d=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(s||(s={}),s[i]=d[i])}else s||(o||(o=[]),o.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dd.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&ct("scroll",e),o||l===d||(o=[])):(o=o||[]).push(c,d))}s&&(o=o||[]).push("style",s);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};tk=function(e,t,s,r){s!==r&&(t.flags|=4)};function wc(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function B5(e,t,s){var r=t.pendingProps;switch(F0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return Dn(t.type)&&xp(),en(t),null;case 3:return r=t.stateNode,ml(),dt(An),dt(on),H0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ks!==null&&(Ey(ks),ks=null))),vy(e,t),en(t),null;case 5:B0(t);var a=vo(Nd.current);if(s=t.type,e!==null&&t.stateNode!=null)ek(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return en(t),null}if(e=vo(lr.current),Kh(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[nr]=t,r[jd]=o,e=(t.mode&1)!==0,s){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(a=0;a<Oc.length;a++)ct(Oc[a],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Qb(r,o),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ct("invalid",r);break;case"textarea":eS(r,o),ct("invalid",r)}qv(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,l,e),a=["children",""+l]):dd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ct("scroll",r)}switch(s){case"input":$h(r),Zb(r,o,!0);break;case"textarea":$h(r),tS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fp)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kT(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[nr]=t,e[jd]=r,ZP(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wv(s,r),s){case"dialog":ct("cancel",e),ct("close",e),a=r;break;case"iframe":case"object":case"embed":ct("load",e),a=r;break;case"video":case"audio":for(a=0;a<Oc.length;a++)ct(Oc[a],e);a=r;break;case"source":ct("error",e),a=r;break;case"img":case"image":case"link":ct("error",e),ct("load",e),a=r;break;case"details":ct("toggle",e),a=r;break;case"input":Qb(e,r),a=Vv(e,r),ct("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=bt({},r,{value:void 0}),ct("invalid",e);break;case"textarea":eS(e,r),a=Hv(e,r),ct("invalid",e);break;default:a=r}qv(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?RT(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&AT(e,d)):o==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&ud(e,d):typeof d=="number"&&ud(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dd.hasOwnProperty(o)?d!=null&&o==="onScroll"&&ct("scroll",e):d!=null&&y0(e,o,d,i))}switch(s){case"input":$h(e),Zb(e,r,!1);break;case"textarea":$h(e),tS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_a(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?qi(e,!!r.multiple,o,!1):r.defaultValue!=null&&qi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=fp)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)tk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(s=vo(Nd.current),vo(lr.current),Kh(t)){if(r=t.stateNode,s=t.memoizedProps,r[nr]=t,(o=r.nodeValue!==s)&&(e=Xn,e!==null))switch(e.tag){case 3:Yh(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[nr]=t,t.stateNode=r}return en(t),null;case 13:if(dt(gt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Yn!==null&&t.mode&1&&!(t.flags&128))yP(),ul(),t.flags|=98560,o=!1;else if(o=Kh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(pe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[nr]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),o=!1}else ks!==null&&(Ey(ks),ks=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?Bt===0&&(Bt=3):tw())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return ml(),vy(e,t),e===null&&vd(t.stateNode.containerInfo),en(t),null;case 10:return L0(t.type._context),en(t),null;case 17:return Dn(t.type)&&xp(),en(t),null;case 19:if(dt(gt),o=t.memoizedState,o===null)return en(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)wc(o,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bp(e),i!==null){for(t.flags|=128,wc(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ot(gt,gt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Mt()>fl&&(t.flags|=128,r=!0,wc(o,!1),t.lanes=4194304)}else{if(!r)if(e=bp(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),wc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!mt)return en(t),null}else 2*Mt()-o.renderingStartTime>fl&&s!==1073741824&&(t.flags|=128,r=!0,wc(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Mt(),t.sibling=null,s=gt.current,ot(gt,r?s&1|2:s&1),t):(en(t),null);case 22:case 23:return ew(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function H5(e,t){switch(F0(t),t.tag){case 1:return Dn(t.type)&&xp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),dt(An),dt(on),H0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return B0(t),null;case 13:if(dt(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(gt),null;case 4:return ml(),null;case 10:return L0(t.type._context),null;case 22:case 23:return ew(),null;case 24:return null;default:return null}}var Jh=!1,nn=!1,z5=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ii(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){At(e,t,r)}else s.current=null}function yy(e,t,s){try{s()}catch(r){At(e,t,r)}}var zS=!1;function q5(e,t){if(ny=hp,e=oP(),R0(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,d=-1,c=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==s||a!==0&&h.nodeType!==3||(l=i+a),h!==o||r!==0&&h.nodeType!==3||(d=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===s&&++c===a&&(l=i),m===o&&++u===r&&(d=i),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(sy={focusedElem:e,selectionRange:s},hp=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Es(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(N){At(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return y=zS,zS=!1,y}function Qc(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&yy(t,s,o)}a=a.next}while(a!==r)}}function kf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function jy(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function nk(e){var t=e.alternate;t!==null&&(e.alternate=null,nk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[jd],delete t[oy],delete t[T5],delete t[P5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sk(e){return e.tag===5||e.tag===3||e.tag===4}function qS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wy(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=fp));else if(r!==4&&(e=e.child,e!==null))for(wy(e,t,s),e=e.sibling;e!==null;)wy(e,t,s),e=e.sibling}function Ny(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ny(e,t,s),e=e.sibling;e!==null;)Ny(e,t,s),e=e.sibling}var Yt=null,Ts=!1;function ra(e,t,s){for(s=s.child;s!==null;)rk(e,t,s),s=s.sibling}function rk(e,t,s){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(wf,s)}catch{}switch(s.tag){case 5:nn||Ii(s,t);case 6:var r=Yt,a=Ts;Yt=null,ra(e,t,s),Yt=r,Ts=a,Yt!==null&&(Ts?(e=Yt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Yt.removeChild(s.stateNode));break;case 18:Yt!==null&&(Ts?(e=Yt,s=s.stateNode,e.nodeType===8?lg(e.parentNode,s):e.nodeType===1&&lg(e,s),fd(e)):lg(Yt,s.stateNode));break;case 4:r=Yt,a=Ts,Yt=s.stateNode.containerInfo,Ts=!0,ra(e,t,s),Yt=r,Ts=a;break;case 0:case 11:case 14:case 15:if(!nn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&yy(s,t,i),a=a.next}while(a!==r)}ra(e,t,s);break;case 1:if(!nn&&(Ii(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){At(s,t,l)}ra(e,t,s);break;case 21:ra(e,t,s);break;case 22:s.mode&1?(nn=(r=nn)||s.memoizedState!==null,ra(e,t,s),nn=r):ra(e,t,s);break;default:ra(e,t,s)}}function WS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new z5),t.forEach(function(r){var a=e6.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function bs(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,Ts=!1;break e;case 3:Yt=l.stateNode.containerInfo,Ts=!0;break e;case 4:Yt=l.stateNode.containerInfo,Ts=!0;break e}l=l.return}if(Yt===null)throw Error(pe(160));rk(o,i,a),Yt=null,Ts=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){At(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ak(t,e),t=t.sibling}function ak(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),Js(e),r&4){try{Qc(3,e,e.return),kf(3,e)}catch(x){At(e,e.return,x)}try{Qc(5,e,e.return)}catch(x){At(e,e.return,x)}}break;case 1:bs(t,e),Js(e),r&512&&s!==null&&Ii(s,s.return);break;case 5:if(bs(t,e),Js(e),r&512&&s!==null&&Ii(s,s.return),e.flags&32){var a=e.stateNode;try{ud(a,"")}catch(x){At(e,e.return,x)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&TT(a,o),Wv(l,i);var c=Wv(l,o);for(i=0;i<d.length;i+=2){var u=d[i],h=d[i+1];u==="style"?RT(a,h):u==="dangerouslySetInnerHTML"?AT(a,h):u==="children"?ud(a,h):y0(a,u,h,c)}switch(l){case"input":Uv(a,o);break;case"textarea":PT(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?qi(a,!!o.multiple,f,!1):m!==!!o.multiple&&(o.defaultValue!=null?qi(a,!!o.multiple,o.defaultValue,!0):qi(a,!!o.multiple,o.multiple?[]:"",!1))}a[jd]=o}catch(x){At(e,e.return,x)}}break;case 6:if(bs(t,e),Js(e),r&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){At(e,e.return,x)}}break;case 3:if(bs(t,e),Js(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{fd(t.containerInfo)}catch(x){At(e,e.return,x)}break;case 4:bs(t,e),Js(e);break;case 13:bs(t,e),Js(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Q0=Mt())),r&4&&WS(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(nn=(c=nn)||u,bs(t,e),nn=c):bs(t,e),Js(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Se=e,u=e.child;u!==null;){for(h=Se=u;Se!==null;){switch(m=Se,f=m.child,m.tag){case 0:case 11:case 14:case 15:Qc(4,m,m.return);break;case 1:Ii(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){At(r,s,x)}}break;case 5:Ii(m,m.return);break;case 22:if(m.memoizedState!==null){KS(h);continue}}f!==null?(f.return=m,Se=f):KS(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=DT("display",i))}catch(x){At(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){At(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bs(t,e),Js(e),r&4&&WS(e);break;case 21:break;default:bs(t,e),Js(e)}}function Js(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(sk(s)){var r=s;break e}s=s.return}throw Error(pe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ud(a,""),r.flags&=-33);var o=qS(e);Ny(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=qS(e);wy(e,l,i);break;default:throw Error(pe(161))}}catch(d){At(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W5(e,t,s){Se=e,ok(e)}function ok(e,t,s){for(var r=(e.mode&1)!==0;Se!==null;){var a=Se,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Jh;if(!i){var l=a.alternate,d=l!==null&&l.memoizedState!==null||nn;l=Jh;var c=nn;if(Jh=i,(nn=d)&&!c)for(Se=a;Se!==null;)i=Se,d=i.child,i.tag===22&&i.memoizedState!==null?GS(a):d!==null?(d.return=i,Se=d):GS(a);for(;o!==null;)Se=o,ok(o),o=o.sibling;Se=a,Jh=l,nn=c}YS(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Se=o):YS(e)}}function YS(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||kf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nn)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Es(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&DS(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}DS(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&fd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}nn||t.flags&512&&jy(t)}catch(m){At(t,t.return,m)}}if(t===e){Se=null;break}if(s=t.sibling,s!==null){s.return=t.return,Se=s;break}Se=t.return}}function KS(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Se=s;break}Se=t.return}}function GS(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{kf(4,t)}catch(d){At(t,s,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(d){At(t,a,d)}}var o=t.return;try{jy(t)}catch(d){At(t,o,d)}break;case 5:var i=t.return;try{jy(t)}catch(d){At(t,i,d)}}}catch(d){At(t,t.return,d)}if(t===e){Se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Se=l;break}Se=t.return}}var Y5=Math.ceil,Ep=Gr.ReactCurrentDispatcher,X0=Gr.ReactCurrentOwner,hs=Gr.ReactCurrentBatchConfig,We=0,zt=null,Lt=null,Xt=0,Hn=0,Oi=Ka(0),Bt=0,Ed=null,Mo=0,Af=0,J0=0,Zc=null,Sn=null,Q0=0,fl=1/0,Ar=null,Tp=!1,by=null,ka=null,Qh=!1,wa=null,Pp=0,ed=0,Sy=null,Om=-1,Lm=0;function vn(){return We&6?Mt():Om!==-1?Om:Om=Mt()}function Aa(e){return e.mode&1?We&2&&Xt!==0?Xt&-Xt:A5.transition!==null?(Lm===0&&(Lm=zT()),Lm):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:JT(e.type)),e):1}function Fs(e,t,s,r){if(50<ed)throw ed=0,Sy=null,Error(pe(185));au(e,s,r),(!(We&2)||e!==zt)&&(e===zt&&(!(We&2)&&(Af|=s),Bt===4&&va(e,Xt)),Rn(e,r),s===1&&We===0&&!(t.mode&1)&&(fl=Mt()+500,Ef&&Ga()))}function Rn(e,t){var s=e.callbackNode;A$(e,t);var r=up(e,e===zt?Xt:0);if(r===0)s!==null&&rS(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&rS(s),t===1)e.tag===0?k5(XS.bind(null,e)):xP(XS.bind(null,e)),C5(function(){!(We&6)&&Ga()}),s=null;else{switch(qT(r)){case 1:s=S0;break;case 4:s=BT;break;case 16:s=dp;break;case 536870912:s=HT;break;default:s=dp}s=pk(s,ik.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ik(e,t){if(Om=-1,Lm=0,We&6)throw Error(pe(327));var s=e.callbackNode;if(Xi()&&e.callbackNode!==s)return null;var r=up(e,e===zt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kp(e,r);else{t=r;var a=We;We|=2;var o=ck();(zt!==e||Xt!==t)&&(Ar=null,fl=Mt()+500,bo(e,t));do try{X5();break}catch(l){lk(e,l)}while(!0);O0(),Ep.current=o,We=a,Lt!==null?t=0:(zt=null,Xt=0,t=Bt)}if(t!==0){if(t===2&&(a=Jv(e),a!==0&&(r=a,t=Cy(e,a))),t===1)throw s=Ed,bo(e,0),va(e,r),Rn(e,Mt()),s;if(t===6)va(e,r);else{if(a=e.current.alternate,!(r&30)&&!K5(a)&&(t=kp(e,r),t===2&&(o=Jv(e),o!==0&&(r=o,t=Cy(e,o))),t===1))throw s=Ed,bo(e,0),va(e,r),Rn(e,Mt()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:co(e,Sn,Ar);break;case 3:if(va(e,r),(r&130023424)===r&&(t=Q0+500-Mt(),10<t)){if(up(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ay(co.bind(null,e,Sn,Ar),t);break}co(e,Sn,Ar);break;case 4:if(va(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Ms(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y5(r/1960))-r,10<r){e.timeoutHandle=ay(co.bind(null,e,Sn,Ar),r);break}co(e,Sn,Ar);break;case 5:co(e,Sn,Ar);break;default:throw Error(pe(329))}}}return Rn(e,Mt()),e.callbackNode===s?ik.bind(null,e):null}function Cy(e,t){var s=Zc;return e.current.memoizedState.isDehydrated&&(bo(e,t).flags|=256),e=kp(e,t),e!==2&&(t=Sn,Sn=s,t!==null&&Ey(t)),e}function Ey(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function K5(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!Os(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t){for(t&=~J0,t&=~Af,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ms(t),r=1<<s;e[s]=-1,t&=~r}}function XS(e){if(We&6)throw Error(pe(327));Xi();var t=up(e,0);if(!(t&1))return Rn(e,Mt()),null;var s=kp(e,t);if(e.tag!==0&&s===2){var r=Jv(e);r!==0&&(t=r,s=Cy(e,r))}if(s===1)throw s=Ed,bo(e,0),va(e,t),Rn(e,Mt()),s;if(s===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,co(e,Sn,Ar),Rn(e,Mt()),null}function Z0(e,t){var s=We;We|=1;try{return e(t)}finally{We=s,We===0&&(fl=Mt()+500,Ef&&Ga())}}function Fo(e){wa!==null&&wa.tag===0&&!(We&6)&&Xi();var t=We;We|=1;var s=hs.transition,r=Ze;try{if(hs.transition=null,Ze=1,e)return e()}finally{Ze=r,hs.transition=s,We=t,!(We&6)&&Ga()}}function ew(){Hn=Oi.current,dt(Oi)}function bo(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,S5(s)),Lt!==null)for(s=Lt.return;s!==null;){var r=s;switch(F0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xp();break;case 3:ml(),dt(An),dt(on),H0();break;case 5:B0(r);break;case 4:ml();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:L0(r.type._context);break;case 22:case 23:ew()}s=s.return}if(zt=e,Lt=e=Da(e.current,null),Xt=Hn=t,Bt=0,Ed=null,J0=Af=Mo=0,Sn=Zc=null,go!==null){for(t=0;t<go.length;t++)if(s=go[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}s.pending=r}go=null}return e}function lk(e,t){do{var s=Lt;try{if(O0(),Fm.current=Cp,Sp){for(var r=wt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Sp=!1}if(Ro=0,Ht=Ut=wt=null,Jc=!1,bd=0,X0.current=null,s===null||s.return===null){Bt=1,Ed=t,Lt=null;break}e:{var o=e,i=s.return,l=s,d=t;if(t=Xt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=OS(i);if(f!==null){f.flags&=-257,LS(f,i,l,o,t),f.mode&1&&IS(o,c,t),t=f,d=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(d),t.updateQueue=x}else y.add(d);break e}else{if(!(t&1)){IS(o,c,t),tw();break e}d=Error(pe(426))}}else if(mt&&l.mode&1){var w=OS(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),LS(w,i,l,o,t),_0(pl(d,l));break e}}o=d=pl(d,l),Bt!==4&&(Bt=2),Zc===null?Zc=[o]:Zc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=qP(o,d,t);AS(o,v);break e;case 1:l=d;var g=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ka===null||!ka.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=WP(o,l,t);AS(o,N);break e}}o=o.return}while(o!==null)}uk(s)}catch(b){t=b,Lt===s&&s!==null&&(Lt=s=s.return);continue}break}while(!0)}function ck(){var e=Ep.current;return Ep.current=Cp,e===null?Cp:e}function tw(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),zt===null||!(Mo&268435455)&&!(Af&268435455)||va(zt,Xt)}function kp(e,t){var s=We;We|=2;var r=ck();(zt!==e||Xt!==t)&&(Ar=null,bo(e,t));do try{G5();break}catch(a){lk(e,a)}while(!0);if(O0(),We=s,Ep.current=r,Lt!==null)throw Error(pe(261));return zt=null,Xt=0,Bt}function G5(){for(;Lt!==null;)dk(Lt)}function X5(){for(;Lt!==null&&!w$();)dk(Lt)}function dk(e){var t=mk(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?uk(e):Lt=t,X0.current=null}function uk(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=H5(s,t),s!==null){s.flags&=32767,Lt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,Lt=null;return}}else if(s=B5(s,t,Hn),s!==null){Lt=s;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Bt===0&&(Bt=5)}function co(e,t,s){var r=Ze,a=hs.transition;try{hs.transition=null,Ze=1,J5(e,t,s,r)}finally{hs.transition=a,Ze=r}return null}function J5(e,t,s,r){do Xi();while(wa!==null);if(We&6)throw Error(pe(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(D$(e,o),e===zt&&(Lt=zt=null,Xt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Qh||(Qh=!0,pk(dp,function(){return Xi(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=hs.transition,hs.transition=null;var i=Ze;Ze=1;var l=We;We|=4,X0.current=null,q5(e,s),ak(s,e),g5(sy),hp=!!ny,sy=ny=null,e.current=s,W5(s),N$(),We=l,Ze=i,hs.transition=o}else e.current=s;if(Qh&&(Qh=!1,wa=e,Pp=a),o=e.pendingLanes,o===0&&(ka=null),C$(s.stateNode),Rn(e,Mt()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Tp)throw Tp=!1,e=by,by=null,e;return Pp&1&&e.tag!==0&&Xi(),o=e.pendingLanes,o&1?e===Sy?ed++:(ed=0,Sy=e):ed=0,Ga(),null}function Xi(){if(wa!==null){var e=qT(Pp),t=hs.transition,s=Ze;try{if(hs.transition=null,Ze=16>e?16:e,wa===null)var r=!1;else{if(e=wa,wa=null,Pp=0,We&6)throw Error(pe(331));var a=We;for(We|=4,Se=e.current;Se!==null;){var o=Se,i=o.child;if(Se.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(Se=c;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:Qc(8,u,o)}var h=u.child;if(h!==null)h.return=u,Se=h;else for(;Se!==null;){u=Se;var m=u.sibling,f=u.return;if(nk(u),u===c){Se=null;break}if(m!==null){m.return=f,Se=m;break}Se=f}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Se=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Se=i;else e:for(;Se!==null;){if(o=Se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Se=v;break e}Se=o.return}}var g=e.current;for(Se=g;Se!==null;){i=Se;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,Se=j;else e:for(i=g;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kf(9,l)}}catch(b){At(l,l.return,b)}if(l===i){Se=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Se=N;break e}Se=l.return}}if(We=a,Ga(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(wf,e)}catch{}r=!0}return r}finally{Ze=s,hs.transition=t}}return!1}function JS(e,t,s){t=pl(s,t),t=qP(e,t,1),e=Pa(e,t,1),t=vn(),e!==null&&(au(e,1,t),Rn(e,t))}function At(e,t,s){if(e.tag===3)JS(e,e,s);else for(;t!==null;){if(t.tag===3){JS(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ka===null||!ka.has(r))){e=pl(s,e),e=WP(t,e,1),t=Pa(t,e,1),e=vn(),t!==null&&(au(t,1,e),Rn(t,e));break}}t=t.return}}function Q5(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&s,zt===e&&(Xt&s)===s&&(Bt===4||Bt===3&&(Xt&130023424)===Xt&&500>Mt()-Q0?bo(e,0):J0|=s),Rn(e,t)}function hk(e,t){t===0&&(e.mode&1?(t=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):t=1);var s=vn();e=Ur(e,t),e!==null&&(au(e,t,s),Rn(e,s))}function Z5(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),hk(e,s)}function e6(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),hk(e,s)}var mk;mk=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||An.current)Cn=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Cn=!1,U5(e,t,s);Cn=!!(e.flags&131072)}else Cn=!1,mt&&t.flags&1048576&&gP(t,yp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Im(e,t),e=t.pendingProps;var a=dl(t,on.current);Gi(t,s),a=q0(null,t,r,e,a,s);var o=W0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(r)?(o=!0,gp(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,V0(t),a.updater=Pf,t.stateNode=a,a._reactInternals=t,hy(t,r,e,s),t=fy(null,t,r,!0,o,s)):(t.tag=0,mt&&o&&M0(t),fn(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Im(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=n6(r),e=Es(r,e),a){case 0:t=py(null,t,r,e,s);break e;case 1:t=US(null,t,r,e,s);break e;case 11:t=$S(null,t,r,e,s);break e;case 14:t=VS(null,t,r,Es(r.type,e),s);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Es(r,a),py(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Es(r,a),US(e,t,r,a,s);case 3:e:{if(XP(t),e===null)throw Error(pe(387));r=t.pendingProps,o=t.memoizedState,a=o.element,bP(e,t),Np(t,r,null,s);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=pl(Error(pe(423)),t),t=BS(e,t,r,s,a);break e}else if(r!==a){a=pl(Error(pe(424)),t),t=BS(e,t,r,s,a);break e}else for(Yn=Ta(t.stateNode.containerInfo.firstChild),Xn=t,mt=!0,ks=null,s=wP(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ul(),r===a){t=Br(e,t,s);break e}fn(e,t,r,s)}t=t.child}return t;case 5:return SP(t),e===null&&cy(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ry(r,a)?i=null:o!==null&&ry(r,o)&&(t.flags|=32),GP(e,t),fn(e,t,i,s),t.child;case 6:return e===null&&cy(t),null;case 13:return JP(e,t,s);case 4:return U0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hl(t,null,r,s):fn(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Es(r,a),$S(e,t,r,a,s);case 7:return fn(e,t,t.pendingProps,s),t.child;case 8:return fn(e,t,t.pendingProps.children,s),t.child;case 12:return fn(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ot(jp,r._currentValue),r._currentValue=i,o!==null)if(Os(o.value,i)){if(o.children===a.children&&!An.current){t=Br(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Or(-1,s&-s),d.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}o.lanes|=s,d=o.alternate,d!==null&&(d.lanes|=s),dy(o.return,s,t),l.lanes|=s;break}d=d.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(pe(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),dy(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}fn(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Gi(t,s),a=fs(a),r=r(a),t.flags|=1,fn(e,t,r,s),t.child;case 14:return r=t.type,a=Es(r,t.pendingProps),a=Es(r.type,a),VS(e,t,r,a,s);case 15:return YP(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Es(r,a),Im(e,t),t.tag=1,Dn(r)?(e=!0,gp(t)):e=!1,Gi(t,s),zP(t,r,a),hy(t,r,a,s),fy(null,t,r,!0,e,s);case 19:return QP(e,t,s);case 22:return KP(e,t,s)}throw Error(pe(156,t.tag))};function pk(e,t){return UT(e,t)}function t6(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,t,s,r){return new t6(e,t,s,r)}function nw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n6(e){if(typeof e=="function")return nw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===w0)return 11;if(e===N0)return 14}return 2}function Da(e,t){var s=e.alternate;return s===null?(s=us(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function $m(e,t,s,r,a,o){var i=2;if(r=e,typeof e=="function")nw(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ti:return So(s.children,a,o,t);case j0:i=8,a|=8;break;case Iv:return e=us(12,s,t,a|2),e.elementType=Iv,e.lanes=o,e;case Ov:return e=us(13,s,t,a),e.elementType=Ov,e.lanes=o,e;case Lv:return e=us(19,s,t,a),e.elementType=Lv,e.lanes=o,e;case ST:return Df(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NT:i=10;break e;case bT:i=9;break e;case w0:i=11;break e;case N0:i=14;break e;case fa:i=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=us(i,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function So(e,t,s,r){return e=us(7,e,r,t),e.lanes=s,e}function Df(e,t,s,r){return e=us(22,e,r,t),e.elementType=ST,e.lanes=s,e.stateNode={isHidden:!1},e}function xg(e,t,s){return e=us(6,e,null,t),e.lanes=s,e}function gg(e,t,s){return t=us(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s6(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jx(0),this.expirationTimes=Jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jx(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sw(e,t,s,r,a,o,i,l,d){return e=new s6(e,t,s,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=us(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(o),e}function r6(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function fk(e){if(!e)return Ia;e=e._reactInternals;e:{if(Zo(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var s=e.type;if(Dn(s))return fP(e,s,t)}return t}function xk(e,t,s,r,a,o,i,l,d){return e=sw(s,r,!0,e,a,o,i,l,d),e.context=fk(null),s=e.current,r=vn(),a=Aa(s),o=Or(r,a),o.callback=t??null,Pa(s,o,a),e.current.lanes=a,au(e,a,r),Rn(e,r),e}function Rf(e,t,s,r){var a=t.current,o=vn(),i=Aa(a);return s=fk(s),t.context===null?t.context=s:t.pendingContext=s,t=Or(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pa(a,t,i),e!==null&&(Fs(e,a,i,o),Mm(e,a,i)),i}function Ap(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function rw(e,t){QS(e,t),(e=e.alternate)&&QS(e,t)}function a6(){return null}var gk=typeof reportError=="function"?reportError:function(e){console.error(e)};function aw(e){this._internalRoot=e}Mf.prototype.render=aw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Rf(e,t,null,null)};Mf.prototype.unmount=aw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){Rf(null,e,null,null)}),t[Vr]=null}};function Mf(e){this._internalRoot=e}Mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=KT();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ga.length&&t!==0&&t<ga[s].priority;s++);ga.splice(s,0,e),s===0&&XT(e)}};function ow(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZS(){}function o6(e,t,s,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var c=Ap(i);o.call(c)}}var i=xk(t,r,e,0,null,!1,!1,"",ZS);return e._reactRootContainer=i,e[Vr]=i.current,vd(e.nodeType===8?e.parentNode:e),Fo(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var c=Ap(d);l.call(c)}}var d=sw(e,0,!1,null,null,!1,!1,"",ZS);return e._reactRootContainer=d,e[Vr]=d.current,vd(e.nodeType===8?e.parentNode:e),Fo(function(){Rf(t,d,s,r)}),d}function _f(e,t,s,r,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var d=Ap(i);l.call(d)}}Rf(t,i,e,a)}else i=o6(s,t,e,a,r);return Ap(i)}WT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ic(t.pendingLanes);s!==0&&(C0(t,s|1),Rn(t,Mt()),!(We&6)&&(fl=Mt()+500,Ga()))}break;case 13:Fo(function(){var r=Ur(e,1);if(r!==null){var a=vn();Fs(r,e,1,a)}}),rw(e,1)}};E0=function(e){if(e.tag===13){var t=Ur(e,134217728);if(t!==null){var s=vn();Fs(t,e,134217728,s)}rw(e,134217728)}};YT=function(e){if(e.tag===13){var t=Aa(e),s=Ur(e,t);if(s!==null){var r=vn();Fs(s,e,t,r)}rw(e,t)}};KT=function(){return Ze};GT=function(e,t){var s=Ze;try{return Ze=e,t()}finally{Ze=s}};Kv=function(e,t,s){switch(t){case"input":if(Uv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Cf(r);if(!a)throw Error(pe(90));ET(r),Uv(r,a)}}}break;case"textarea":PT(e,s);break;case"select":t=s.value,t!=null&&qi(e,!!s.multiple,t,!1)}};_T=Z0;IT=Fo;var i6={usingClientEntryPoint:!1,Events:[iu,Di,Cf,MT,FT,Z0]},Nc={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l6={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$T(e),e===null?null:e.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||a6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{wf=Zh.inject(l6),ir=Zh}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i6;ss.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ow(t))throw Error(pe(200));return r6(e,t,null,s)};ss.createRoot=function(e,t){if(!ow(e))throw Error(pe(299));var s=!1,r="",a=gk;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sw(e,1,!1,null,null,s,!1,r,a),e[Vr]=t.current,vd(e.nodeType===8?e.parentNode:e),new aw(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=$T(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return Fo(e)};ss.hydrate=function(e,t,s){if(!Ff(t))throw Error(pe(200));return _f(null,e,t,!0,s)};ss.hydrateRoot=function(e,t,s){if(!ow(e))throw Error(pe(405));var r=s!=null&&s.hydratedSources||null,a=!1,o="",i=gk;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=xk(t,null,e,1,s??null,a,!1,o,i),e[Vr]=t.current,vd(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Mf(t)};ss.render=function(e,t,s){if(!Ff(t))throw Error(pe(200));return _f(null,e,t,!1,s)};ss.unmountComponentAtNode=function(e){if(!Ff(e))throw Error(pe(40));return e._reactRootContainer?(Fo(function(){_f(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};ss.unstable_batchedUpdates=Z0;ss.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ff(s))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return _f(e,t,s,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function vk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vk)}catch(e){console.error(e)}}vk(),vT.exports=ss;var qs=vT.exports;const If=h0(qs);var yk,e1=qs;yk=e1.createRoot,e1.hydrateRoot;const c6=1,d6=1e6;let vg=0;function u6(){return vg=(vg+1)%Number.MAX_SAFE_INTEGER,vg.toString()}const yg=new Map,t1=e=>{if(yg.has(e))return;const t=setTimeout(()=>{yg.delete(e),td({type:"REMOVE_TOAST",toastId:e})},d6);yg.set(e,t)},h6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,c6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?t1(s):e.toasts.forEach(r=>{t1(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Vm=[];let Um={toasts:[]};function td(e){Um=h6(Um,e),Vm.forEach(t=>{t(Um)})}function Dp({...e}){const t=u6(),s=a=>td({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>td({type:"DISMISS_TOAST",toastId:t});return td({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function nt(){const[e,t]=p.useState(Um);return p.useEffect(()=>(Vm.push(t),()=>{const s=Vm.indexOf(t);s>-1&&Vm.splice(s,1)}),[e]),{...e,toast:Dp,dismiss:s=>td({type:"DISMISS_TOAST",toastId:s})}}function me(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function m6(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Of(...e){return t=>e.forEach(s=>m6(s,t))}function Ae(...e){return p.useCallback(Of(...e),e)}function p6(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];function c(h){const{scope:m,children:f,...y}=h,x=(m==null?void 0:m[e][d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})}function u(h,m){const f=(m==null?void 0:m[e][d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,f6(a,...t)]}function f6(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Oa=p.forwardRef((e,t)=>{const{children:s,...r}=e,a=p.Children.toArray(s),o=a.find(x6);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return n.jsx(Ty,{...r,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,l):null})}return n.jsx(Ty,{...r,ref:t,children:s})});Oa.displayName="Slot";var Ty=p.forwardRef((e,t)=>{const{children:s,...r}=e;if(p.isValidElement(s)){const a=v6(s);return p.cloneElement(s,{...g6(r,s.props),ref:t?Of(t,a):a})}return p.Children.count(s)>1?p.Children.only(null):null});Ty.displayName="SlotClone";var iw=({children:e})=>n.jsx(n.Fragment,{children:e});function x6(e){return p.isValidElement(e)&&e.type===iw}function g6(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{o(...l),a(...l)}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function v6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function cu(e){const t=e+"CollectionProvider",[s,r]=p6(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:y,children:x}=f,w=he.useRef(null),v=he.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:v,collectionRef:w,children:x})};i.displayName=t;const l=e+"CollectionSlot",d=he.forwardRef((f,y)=>{const{scope:x,children:w}=f,v=o(l,x),g=Ae(y,v.collectionRef);return n.jsx(Oa,{ref:g,children:w})});d.displayName=l;const c=e+"CollectionItemSlot",u="data-radix-collection-item",h=he.forwardRef((f,y)=>{const{scope:x,children:w,...v}=f,g=he.useRef(null),j=Ae(y,g),N=o(c,x);return he.useEffect(()=>(N.itemMap.set(g,{ref:g,...v}),()=>void N.itemMap.delete(g))),n.jsx(Oa,{[u]:"",ref:j,children:w})});h.displayName=c;function m(f){const y=o(e+"CollectionConsumer",f);return he.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((N,b)=>v.indexOf(N.ref.current)-v.indexOf(b.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:d,ItemSlot:h},m,r]}function y6(e,t){const s=p.createContext(t),r=o=>{const{children:i,...l}=o,d=p.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:d,children:i})};r.displayName=e+"Provider";function a(o){const i=p.useContext(s);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function as(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];const c=h=>{var v;const{scope:m,children:f,...y}=h,x=((v=m==null?void 0:m[e])==null?void 0:v[d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(h,m){var x;const f=((x=m==null?void 0:m[e])==null?void 0:x[d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,j6(a,...t)]}function j6(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var w6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=w6.reduce((e,t)=>{const s=p.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?Oa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...i,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function lw(e,t){e&&qs.flushSync(()=>e.dispatchEvent(t))}function yt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function N6(e,t=globalThis==null?void 0:globalThis.document){const s=yt(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var b6="DismissableLayer",Py="dismissableLayer.update",S6="dismissableLayer.pointerDownOutside",C6="dismissableLayer.focusOutside",n1,jk=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(jk),[u,h]=p.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),y=Ae(t,C=>h(C)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=u?x.indexOf(u):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=v,b=T6(C=>{const T=C.target,F=[...c.branches].some(V=>V.contains(T));!N||F||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),E=P6(C=>{const T=C.target;[...c.branches].some(V=>V.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return N6(C=>{g===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),p.useEffect(()=>{if(u)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(n1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),s1(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=n1)}},[u,m,s,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),s1())},[u,c]),p.useEffect(()=>{const C=()=>f({});return document.addEventListener(Py,C),()=>document.removeEventListener(Py,C)},[]),n.jsx(Ce.div,{...d,ref:y,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,E.onFocusCapture),onBlurCapture:me(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,b.onPointerDownCapture)})});Vl.displayName=b6;var E6="DismissableLayerBranch",wk=p.forwardRef((e,t)=>{const s=p.useContext(jk),r=p.useRef(null),a=Ae(t,r);return p.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(Ce.div,{...e,ref:a})});wk.displayName=E6;function T6(e,t=globalThis==null?void 0:globalThis.document){const s=yt(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let d=function(){Nk(S6,s,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function P6(e,t=globalThis==null?void 0:globalThis.document){const s=yt(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&Nk(C6,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s1(){const e=new CustomEvent(Py);document.dispatchEvent(e)}function Nk(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?lw(a,o):a.dispatchEvent(o)}var k6=Vl,A6=wk,Wt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},D6="Portal",du=p.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=p.useState(!1);Wt(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?If.createPortal(n.jsx(Ce.div,{...r,ref:t}),i):null});du.displayName=D6;function R6(e,t){return p.useReducer((s,r)=>t[s][r]??s,e)}var Qt=e=>{const{present:t,children:s}=e,r=M6(t),a=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),o=Ae(r.ref,F6(a));return typeof s=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Qt.displayName="Presence";function M6(e){const[t,s]=p.useState(),r=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=R6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=em(r.current);o.current=l==="mounted"?c:"none"},[l]),Wt(()=>{const c=r.current,u=a.current;if(u!==e){const m=o.current,f=em(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Wt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const x=em(r.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=f=>{f.target===t&&(o.current=em(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),s(c)},[])}}function em(e){return(e==null?void 0:e.animationName)||"none"}function F6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ls({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,a]=_6({defaultProp:t,onChange:s}),o=e!==void 0,i=o?e:r,l=yt(s),d=p.useCallback(c=>{if(o){const h=typeof c=="function"?c(e):c;h!==e&&l(h)}else a(c)},[o,e,a,l]);return[i,d]}function _6({defaultProp:e,onChange:t}){const s=p.useState(e),[r]=s,a=p.useRef(r),o=yt(t);return p.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),s}var I6="VisuallyHidden",uu=p.forwardRef((e,t)=>n.jsx(Ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));uu.displayName=I6;var O6=uu,cw="ToastProvider",[dw,L6,$6]=cu("Toast"),[bk,Ape]=as("Toast",[$6]),[V6,Lf]=bk(cw),Sk=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,d]=p.useState(null),[c,u]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${cw}\`. Expected non-empty \`string\`.`),n.jsx(dw.Provider,{scope:t,children:n.jsx(V6,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>u(f=>f+1),[]),onToastRemove:p.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};Sk.displayName=cw;var Ck="ToastViewport",U6=["F8"],ky="toast.viewportPause",Ay="toast.viewportResume",Ek=p.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=U6,label:a="Notifications ({hotkey})",...o}=e,i=Lf(Ck,s),l=L6(s),d=p.useRef(null),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),m=Ae(t,h,i.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;p.useEffect(()=>{const w=v=>{var j;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),p.useEffect(()=>{const w=d.current,v=h.current;if(y&&w&&v){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(ky);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Ay);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},N=E=>{!w.contains(E.relatedTarget)&&j()},b=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",g),w.addEventListener("focusout",N),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",b),window.addEventListener("blur",g),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",g),window.removeEventListener("focus",j)}}},[y,i.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const g=l().map(j=>{const N=j.ref.current,b=[N,...eV(N)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const v=g=>{var b,E,C;const j=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!j){const T=document.activeElement,F=g.shiftKey;if(g.target===w&&F){(b=c.current)==null||b.focus();return}const M=x({tabbingDirection:F?"backwards":"forwards"}),$=M.findIndex(D=>D===T);jg(M.slice($+1))?g.preventDefault():F?(E=c.current)==null||E.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,x]),n.jsxs(A6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(Dy,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});jg(w)}}),n.jsx(dw.Slot,{scope:s,children:n.jsx(Ce.ol,{tabIndex:-1,...o,ref:m})}),y&&n.jsx(Dy,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});jg(w)}})]})});Ek.displayName=Ck;var Tk="ToastFocusProxy",Dy=p.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=Lf(Tk,s);return n.jsx(uu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&r()}})});Dy.displayName=Tk;var $f="Toast",B6="toast.swipeStart",H6="toast.swipeMove",z6="toast.swipeCancel",q6="toast.swipeEnd",Pk=p.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,d]=Ls({prop:r,defaultProp:a,onChange:o});return n.jsx(Qt,{present:s||l,children:n.jsx(K6,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:yt(e.onPause),onResume:yt(e.onResume),onSwipeStart:me(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:me(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});Pk.displayName=$f;var[W6,Y6]=bk($f,{onClose(){}}),K6=p.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...y}=e,x=Lf($f,s),[w,v]=p.useState(null),g=Ae(t,D=>v(D)),j=p.useRef(null),N=p.useRef(null),b=a||x.duration,E=p.useRef(0),C=p.useRef(b),T=p.useRef(0),{onToastAdd:F,onToastRemove:V}=x,k=yt(()=>{var P;(w==null?void 0:w.contains(document.activeElement))&&((P=x.viewport)==null||P.focus()),i()}),M=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(k,D))},[k]);p.useEffect(()=>{const D=x.viewport;if(D){const P=()=>{M(C.current),c==null||c()},L=()=>{const O=new Date().getTime()-E.current;C.current=C.current-O,window.clearTimeout(T.current),d==null||d()};return D.addEventListener(ky,L),D.addEventListener(Ay,P),()=>{D.removeEventListener(ky,L),D.removeEventListener(Ay,P)}}},[x.viewport,b,d,c,M]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&M(b)},[o,b,x.isClosePausedRef,M]),p.useEffect(()=>(F(),()=>V()),[F,V]);const $=p.useMemo(()=>w?_k(w):null,[w]);return x.viewport?n.jsxs(n.Fragment,{children:[$&&n.jsx(G6,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),n.jsx(W6,{scope:s,onClose:k,children:qs.createPortal(n.jsx(dw.ItemSlot,{scope:s,children:n.jsx(k6,{asChild:!0,onEscapeKeyDown:me(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:me(e.onPointerDown,D=>{D.button===0&&(j.current={x:D.clientX,y:D.clientY})}),onPointerMove:me(e.onPointerMove,D=>{if(!j.current)return;const P=D.clientX-j.current.x,L=D.clientY-j.current.y,O=!!N.current,R=["left","right"].includes(x.swipeDirection),_=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,z=R?_(0,P):0,B=R?0:_(0,L),U=D.pointerType==="touch"?10:2,K={x:z,y:B},Y={originalEvent:D,delta:K};O?(N.current=K,tm(H6,h,Y,{discrete:!1})):r1(K,x.swipeDirection,U)?(N.current=K,tm(B6,u,Y,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(P)>U||Math.abs(L)>U)&&(j.current=null)}),onPointerUp:me(e.onPointerUp,D=>{const P=N.current,L=D.target;if(L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),N.current=null,j.current=null,P){const O=D.currentTarget,R={originalEvent:D,delta:P};r1(P,x.swipeDirection,x.swipeThreshold)?tm(q6,f,R,{discrete:!0}):tm(z6,m,R,{discrete:!0}),O.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),G6=e=>{const{__scopeToast:t,children:s,...r}=e,a=Lf($f,t),[o,i]=p.useState(!1),[l,d]=p.useState(!1);return Q6(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:n.jsx(du,{asChild:!0,children:n.jsx(uu,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},X6="ToastTitle",kk=p.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ce.div,{...r,ref:t})});kk.displayName=X6;var J6="ToastDescription",Ak=p.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ce.div,{...r,ref:t})});Ak.displayName=J6;var Dk="ToastAction",Rk=p.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(Fk,{altText:s,asChild:!0,children:n.jsx(uw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dk}\`. Expected non-empty \`string\`.`),null)});Rk.displayName=Dk;var Mk="ToastClose",uw=p.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=Y6(Mk,s);return n.jsx(Fk,{asChild:!0,children:n.jsx(Ce.button,{type:"button",...r,ref:t,onClick:me(e.onClick,a.onClose)})})});uw.displayName=Mk;var Fk=p.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function _k(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Z6(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(..._k(r))}}),t}function tm(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?lw(a,o):a.dispatchEvent(o)}var r1=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>s:!o&&a>s};function Q6(e=()=>{}){const t=yt(e);Wt(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function Z6(e){return e.nodeType===e.ELEMENT_NODE}function eV(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function jg(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var tV=Sk,Ik=Ek,Ok=Pk,Lk=kk,$k=Ak,Vk=Rk,Uk=uw;function Bk(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Bk(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Hk(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Bk(e))&&(r&&(r+=" "),r+=t);return r}const a1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o1=Hk,hu=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return o1(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(c=>{const u=s==null?void 0:s[c],h=o==null?void 0:o[c];if(u===null)return null;const m=a1(u)||a1(h);return a[c][m]}),l=s&&Object.entries(s).reduce((c,u)=>{let[h,m]=u;return m===void 0||(c[h]=m),c},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...o,...l}[x]):{...o,...l}[x]===w})?[...c,h,m]:c},[]);return o1(e,i,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zk=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},d)=>p.createElement("svg",{ref:d,...sV,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:zk("lucide",a),...l},[...i.map(([c,u])=>p.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const s=p.forwardRef(({className:r,...a},o)=>p.createElement(rV,{ref:o,iconNode:t,className:zk(`lucide-${nV(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ue("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ue("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=ue("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=ue("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ue("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=ue("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ue("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=ue("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=ue("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=ue("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=ue("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ue("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ue("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ue("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ue("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ue("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=ue("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=ue("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ue("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=ue("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ue("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ue("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=ue("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ue("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ue("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ue("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ue("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ue("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=ue("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=ue("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ue("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mw="-",AV=e=>{const t=RV(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(mw);return l[0]===""&&l.length!==1&&l.shift(),nA(l,t)||DV(i)},getConflictingClassGroupIds:(i,l)=>{const d=s[i]||[];return l&&r[i]?[...d,...r[i]]:d}}},nA=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?nA(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(mw);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},u1=/^\[(.+)\]$/,DV=e=>{if(u1.test(e)){const t=u1.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},RV=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return FV(Object.entries(e.classGroups),s).forEach(([o,i])=>{$y(i,r,o,t)}),r},$y=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:h1(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(MV(a)){$y(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{$y(i,h1(t,o),s,r)})})},h1=(e,t)=>{let s=e;return t.split(mw).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},MV=e=>e.isThemeGetter,FV=(e,t)=>t?e.map(([s,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,_V=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},sA="!",IV=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const d=[];let c=0,u=0,h;for(let w=0;w<l.length;w++){let v=l[w];if(c===0){if(v===a&&(r||l.slice(w,w+o)===t)){d.push(l.slice(u,w)),u=w+o;continue}if(v==="/"){h=w;continue}}v==="["?c++:v==="]"&&c--}const m=d.length===0?l:l.substring(u),f=m.startsWith(sA),y=f?m.substring(1):m,x=h&&h>u?h-u:void 0;return{modifiers:d,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:i}):i},OV=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},LV=e=>({cache:_V(e.cacheSize),parseClassName:IV(e),...AV(e)}),$V=/\s+/,VV=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split($V);let l="";for(let d=i.length-1;d>=0;d-=1){const c=i[d],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=s(c);let y=!!f,x=r(y?m.substring(0,f):m);if(!x){if(!y){l=c+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=c+(l.length>0?" "+l:l);continue}y=!1}const w=OV(u).join(":"),v=h?w+sA:w,g=v+x;if(o.includes(g))continue;o.push(g);const j=a(x,y);for(let N=0;N<j.length;++N){const b=j[N];o.push(v+b)}l=c+(l.length>0?" "+l:l)}return l};function UV(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=rA(t))&&(r&&(r+=" "),r+=s);return r}const rA=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=rA(e[r]))&&(s&&(s+=" "),s+=t);return s};function BV(e,...t){let s,r,a,o=i;function i(d){const c=t.reduce((u,h)=>h(u),e());return s=LV(c),r=s.cache.get,a=s.cache.set,o=l,l(d)}function l(d){const c=r(d);if(c)return c;const u=VV(d,s);return a(d,u),u}return function(){return o(UV.apply(null,arguments))}}const lt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},aA=/^\[(?:([a-z-]+):)?(.+)\]$/i,HV=/^\d+\/\d+$/,zV=new Set(["px","full","screen"]),qV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tr=e=>Qi(e)||zV.has(e)||HV.test(e),aa=e=>zl(e,"length",sU),Qi=e=>!!e&&!Number.isNaN(Number(e)),bg=e=>zl(e,"number",Qi),bc=e=>!!e&&Number.isInteger(Number(e)),XV=e=>e.endsWith("%")&&Qi(e.slice(0,-1)),_e=e=>aA.test(e),oa=e=>qV.test(e),JV=new Set(["length","size","percentage"]),QV=e=>zl(e,JV,oA),ZV=e=>zl(e,"position",oA),eU=new Set(["image","url"]),tU=e=>zl(e,eU,aU),nU=e=>zl(e,"",rU),Sc=()=>!0,zl=(e,t,s)=>{const r=aA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},sU=e=>WV.test(e)&&!YV.test(e),oA=()=>!1,rU=e=>KV.test(e),aU=e=>GV.test(e),oU=()=>{const e=lt("colors"),t=lt("spacing"),s=lt("blur"),r=lt("brightness"),a=lt("borderColor"),o=lt("borderRadius"),i=lt("borderSpacing"),l=lt("borderWidth"),d=lt("contrast"),c=lt("grayscale"),u=lt("hueRotate"),h=lt("invert"),m=lt("gap"),f=lt("gradientColorStops"),y=lt("gradientColorStopPositions"),x=lt("inset"),w=lt("margin"),v=lt("opacity"),g=lt("padding"),j=lt("saturate"),N=lt("scale"),b=lt("sepia"),E=lt("skew"),C=lt("space"),T=lt("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",_e,t],M=()=>[_e,t],$=()=>["",Tr,aa],D=()=>["auto",Qi,_e],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",_e],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Qi,_e];return{cacheSize:500,separator:":",theme:{colors:[Sc],spacing:[Tr,aa],blur:["none","",oa,_e],brightness:B(),borderColor:[e],borderRadius:["none","","full",oa,_e],borderSpacing:M(),borderWidth:$(),contrast:B(),grayscale:_(),hueRotate:B(),invert:_(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[XV,aa],inset:k(),margin:k(),opacity:B(),padding:M(),saturate:B(),scale:B(),sepia:_(),skew:B(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),_e]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bc,_e]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",bc,_e]}],"grid-cols":[{"grid-cols":[Sc]}],"col-start-end":[{col:["auto",{span:["full",bc,_e]},_e]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Sc]}],"row-start-end":[{row:["auto",{span:[bc,_e]},_e]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bg]}],"font-family":[{font:[Sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Qi,bg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tr,aa]}],"underline-offset":[{"underline-offset":["auto",Tr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),ZV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Tr,_e]}],"outline-w":[{outline:[Tr,aa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Tr,aa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oa,nU]}],"shadow-color":[{shadow:[Sc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",oa,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[bc,_e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tr,aa,bg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iU=BV(oU);function ce(...e){return iU(Hk(e))}const lU=tV,iA=p.forwardRef(({className:e,...t},s)=>n.jsx(Ik,{ref:s,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));iA.displayName=Ik.displayName;const cU=hu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lA=p.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(Ok,{ref:r,className:ce(cU({variant:t}),e),...s}));lA.displayName=Ok.displayName;const dU=p.forwardRef(({className:e,...t},s)=>n.jsx(Vk,{ref:s,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dU.displayName=Vk.displayName;const cA=p.forwardRef(({className:e,...t},s)=>n.jsx(Uk,{ref:s,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ht,{className:"h-4 w-4"})}));cA.displayName=Uk.displayName;const dA=p.forwardRef(({className:e,...t},s)=>n.jsx(Lk,{ref:s,className:ce("text-sm font-semibold",e),...t}));dA.displayName=Lk.displayName;const uA=p.forwardRef(({className:e,...t},s)=>n.jsx($k,{ref:s,className:ce("text-sm opacity-90",e),...t}));uA.displayName=$k.displayName;function uU(){const{toasts:e}=nt();return n.jsxs(lU,{children:[e.map(function({id:t,title:s,description:r,action:a,...o}){return n.jsxs(lA,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(dA,{children:s}),r&&n.jsx(uA,{children:r})]}),a,n.jsx(cA,{})]},t)}),n.jsx(iA,{})]})}var m1=["light","dark"],hU="(prefers-color-scheme: dark)",mU=p.createContext(void 0),pU={setTheme:e=>{},themes:[]},fU=()=>{var e;return(e=p.useContext(mU))!=null?e:pU};p.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:d})=>{let c=o==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=a?m1.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,x=!1,w=!0)=>{let v=i?i[y]:y,g=x?y+"|| ''":`'${v}'`,j="";return a&&w&&!x&&m1.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),s==="class"?x||v?j+=`c.add(${g})`:j+="null":v&&(j+=`d[s](n,${g})`),j},f=e?`!function(){${u}${m(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${hU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:f}})});var xU=e=>{switch(e){case"success":return yU;case"info":return wU;case"warning":return jU;case"error":return NU;default:return null}},gU=Array(12).fill(0),vU=({visible:e})=>he.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},he.createElement("div",{className:"sonner-spinner"},gU.map((t,s)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),yU=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jU=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wU=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NU=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bU=()=>{let[e,t]=he.useState(document.hidden);return he.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Vy=1,SU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vy++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:s}),{...l,...e,id:a,dismissible:i,title:s}):l):this.addToast({title:s,...r,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=s!==void 0;return r.then(async o=>{if(EU(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:s,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:s,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:s,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(s),s=void 0),(o=t.finally)==null||o.call(t)}),s},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Vy++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},Bn=new SU,CU=(e,t)=>{let s=(t==null?void 0:t.id)||Vy++;return Bn.addToast({title:e,...t,id:s}),s},EU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TU=CU,PU=()=>Bn.toasts,tt=Object.assign(TU,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:PU});function kU(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}kU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nm(e){return e.label!==void 0}var AU=3,DU="32px",RU=4e3,MU=356,FU=14,_U=20,IU=200;function OU(...e){return e.filter(Boolean).join(" ")}var LU=e=>{var t,s,r,a,o,i,l,d,c,u;let{invert:h,toast:m,unstyled:f,interacting:y,setHeights:x,visibleToasts:w,heights:v,index:g,toasts:j,expanded:N,removeToast:b,defaultRichColors:E,closeButton:C,style:T,cancelButtonStyle:F,actionButtonStyle:V,className:k="",descriptionClassName:M="",duration:$,position:D,gap:P,loadingIcon:L,expandByDefault:O,classNames:R,icons:_,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B,cn:U}=e,[K,Y]=he.useState(!1),[X,G]=he.useState(!1),[H,ae]=he.useState(!1),[de,xe]=he.useState(!1),[ye,fe]=he.useState(0),[we,Ne]=he.useState(0),Me=he.useRef(null),Le=he.useRef(null),Pt=g===0,cn=g+1<=w,Ke=m.type,bn=m.dismissible!==!1,Sr=m.className||"",Gs=m.descriptionClassName||"",Ln=he.useMemo(()=>v.findIndex(De=>De.toastId===m.id)||0,[v,m.id]),ta=he.useMemo(()=>{var De;return(De=m.closeButton)!=null?De:C},[m.closeButton,C]),Xs=he.useMemo(()=>m.duration||$||RU,[m.duration,$]),$n=he.useRef(0),dn=he.useRef(0),na=he.useRef(0),Ns=he.useRef(null),[Cr,oi]=D.split("-"),so=he.useMemo(()=>v.reduce((De,Ge,Ye)=>Ye>=Ln?De:De+Ge.height,0),[v,Ln]),ro=bU(),ii=m.invert||h,sa=Ke==="loading";dn.current=he.useMemo(()=>Ln*P+so,[Ln,so]),he.useEffect(()=>{Y(!0)},[]),he.useLayoutEffect(()=>{if(!K)return;let De=Le.current,Ge=De.style.height;De.style.height="auto";let Ye=De.getBoundingClientRect().height;De.style.height=Ge,Ne(Ye),x(un=>un.find(hn=>hn.toastId===m.id)?un.map(hn=>hn.toastId===m.id?{...hn,height:Ye}:hn):[{toastId:m.id,height:Ye,position:m.position},...un])},[K,m.title,m.description,x,m.id]);let Vn=he.useCallback(()=>{G(!0),fe(dn.current),x(De=>De.filter(Ge=>Ge.toastId!==m.id)),setTimeout(()=>{b(m)},IU)},[m,b,x,dn]);he.useEffect(()=>{if(m.promise&&Ke==="loading"||m.duration===1/0||m.type==="loading")return;let De,Ge=Xs;return N||y||B&&ro?(()=>{if(na.current<$n.current){let Ye=new Date().getTime()-$n.current;Ge=Ge-Ye}na.current=new Date().getTime()})():Ge!==1/0&&($n.current=new Date().getTime(),De=setTimeout(()=>{var Ye;(Ye=m.onAutoClose)==null||Ye.call(m,m),Vn()},Ge)),()=>clearTimeout(De)},[N,y,O,m,Xs,Vn,m.promise,Ke,B,ro]),he.useEffect(()=>{let De=Le.current;if(De){let Ge=De.getBoundingClientRect().height;return Ne(Ge),x(Ye=>[{toastId:m.id,height:Ge,position:m.position},...Ye]),()=>x(Ye=>Ye.filter(un=>un.toastId!==m.id))}},[x,m.id]),he.useEffect(()=>{m.delete&&Vn()},[Vn,m.delete]);function li(){return _!=null&&_.loading?he.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},_.loading):L?he.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},L):he.createElement(vU,{visible:Ke==="loading"})}return he.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Le,className:U(k,Sr,R==null?void 0:R.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ke],(s=m==null?void 0:m.classNames)==null?void 0:s[Ke]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:E,"data-styled":!(m.jsx||m.unstyled||f),"data-mounted":K,"data-promise":!!m.promise,"data-removed":X,"data-visible":cn,"data-y-position":Cr,"data-x-position":oi,"data-index":g,"data-front":Pt,"data-swiping":H,"data-dismissible":bn,"data-type":Ke,"data-invert":ii,"data-swipe-out":de,"data-expanded":!!(N||O&&K),style:{"--index":g,"--toasts-before":g,"--z-index":j.length-g,"--offset":`${X?ye:dn.current}px`,"--initial-height":O?"auto":`${we}px`,...T,...m.style},onPointerDown:De=>{sa||!bn||(Me.current=new Date,fe(dn.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(ae(!0),Ns.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,Ge,Ye,un;if(de||!bn)return;Ns.current=null;let hn=Number(((De=Le.current)==null?void 0:De.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Er=new Date().getTime()-((Ge=Me.current)==null?void 0:Ge.getTime()),ci=Math.abs(hn)/Er;if(Math.abs(hn)>=_U||ci>.11){fe(dn.current),(Ye=m.onDismiss)==null||Ye.call(m,m),Vn(),xe(!0);return}(un=Le.current)==null||un.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:De=>{var Ge;if(!Ns.current||!bn)return;let Ye=De.clientY-Ns.current.y,un=De.clientX-Ns.current.x,hn=(Cr==="top"?Math.min:Math.max)(0,Ye),Er=De.pointerType==="touch"?10:2;Math.abs(hn)>Er?(Ge=Le.current)==null||Ge.style.setProperty("--swipe-amount",`${Ye}px`):Math.abs(un)>Er&&(Ns.current=null)}},ta&&!m.jsx?he.createElement("button",{"aria-label":z,"data-disabled":sa,"data-close-button":!0,onClick:sa||!bn?()=>{}:()=>{var De;Vn(),(De=m.onDismiss)==null||De.call(m,m)},className:U(R==null?void 0:R.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||he.isValidElement(m.title)?m.jsx||m.title:he.createElement(he.Fragment,null,Ke||m.icon||m.promise?he.createElement("div",{"data-icon":"",className:U(R==null?void 0:R.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||li():null,m.type!=="loading"?m.icon||(_==null?void 0:_[Ke])||xU(Ke):null):null,he.createElement("div",{"data-content":"",className:U(R==null?void 0:R.content,(i=m==null?void 0:m.classNames)==null?void 0:i.content)},he.createElement("div",{"data-title":"",className:U(R==null?void 0:R.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?he.createElement("div",{"data-description":"",className:U(M,Gs,R==null?void 0:R.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},m.description):null),he.isValidElement(m.cancel)?m.cancel:m.cancel&&nm(m.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||F,onClick:De=>{var Ge,Ye;nm(m.cancel)&&bn&&((Ye=(Ge=m.cancel).onClick)==null||Ye.call(Ge,De),Vn())},className:U(R==null?void 0:R.cancelButton,(c=m==null?void 0:m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,he.isValidElement(m.action)?m.action:m.action&&nm(m.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:De=>{var Ge,Ye;nm(m.action)&&(De.defaultPrevented||((Ye=(Ge=m.action).onClick)==null||Ye.call(Ge,De),Vn()))},className:U(R==null?void 0:R.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function p1(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var $U=e=>{let{invert:t,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:d="light",richColors:c,duration:u,style:h,visibleToasts:m=AU,toastOptions:f,dir:y=p1(),gap:x=FU,loadingIcon:w,icons:v,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:j,cn:N=OU}=e,[b,E]=he.useState([]),C=he.useMemo(()=>Array.from(new Set([s].concat(b.filter(B=>B.position).map(B=>B.position)))),[b,s]),[T,F]=he.useState([]),[V,k]=he.useState(!1),[M,$]=he.useState(!1),[D,P]=he.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=he.useRef(null),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=he.useRef(null),_=he.useRef(!1),z=he.useCallback(B=>{var U;(U=b.find(K=>K.id===B.id))!=null&&U.delete||Bn.dismiss(B.id),E(K=>K.filter(({id:Y})=>Y!==B.id))},[b]);return he.useEffect(()=>Bn.subscribe(B=>{if(B.dismiss){E(U=>U.map(K=>K.id===B.id?{...K,delete:!0}:K));return}setTimeout(()=>{If.flushSync(()=>{E(U=>{let K=U.findIndex(Y=>Y.id===B.id);return K!==-1?[...U.slice(0,K),{...U[K],...B},...U.slice(K+1)]:[B,...U]})})})}),[]),he.useEffect(()=>{if(d!=="system"){P(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{P(B?"dark":"light")})},[d]),he.useEffect(()=>{b.length<=1&&k(!1)},[b]),he.useEffect(()=>{let B=U=>{var K,Y;r.every(X=>U[X]||U.code===X)&&(k(!0),(K=L.current)==null||K.focus()),U.code==="Escape"&&(document.activeElement===L.current||(Y=L.current)!=null&&Y.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),he.useEffect(()=>{if(L.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,_.current=!1)}},[L.current]),b.length?he.createElement("section",{"aria-label":`${g} ${O}`,tabIndex:-1},C.map((B,U)=>{var K;let[Y,X]=B.split("-");return he.createElement("ol",{key:B,dir:y==="auto"?p1():y,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":Y,"data-x-position":X,style:{"--front-toast-height":`${((K=T[0])==null?void 0:K.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||DU,"--width":`${MU}px`,"--gap":`${x}px`,...h},onBlur:G=>{_.current&&!G.currentTarget.contains(G.relatedTarget)&&(_.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||_.current||(_.current=!0,R.current=G.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{M||k(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},b.filter(G=>!G.position&&U===0||G.position===B).map((G,H)=>{var ae,de;return he.createElement(LU,{key:G.id,icons:v,index:H,toast:G,defaultRichColors:c,duration:(ae=f==null?void 0:f.duration)!=null?ae:u,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:t,visibleToasts:m,closeButton:(de=f==null?void 0:f.closeButton)!=null?de:o,interacting:M,position:B,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:z,toasts:b.filter(xe=>xe.position==G.position),heights:T.filter(xe=>xe.position==G.position),setHeights:F,expandByDefault:a,gap:x,loadingIcon:w,expanded:V,pauseWhenPageIsHidden:j,cn:N})}))})):null};const VU=({...e})=>{const{theme:t="system"}=fU();return n.jsx($U,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var UU=ru.useId||(()=>{}),BU=0;function Is(e){const[t,s]=p.useState(UU());return Wt(()=>{s(r=>r??String(BU++))},[e]),t?`radix-${t}`:""}const HU=["top","right","bottom","left"],Va=Math.min,qn=Math.max,Fp=Math.round,sm=Math.floor,Ua=e=>({x:e,y:e}),zU={left:"right",right:"left",bottom:"top",top:"bottom"},qU={start:"end",end:"start"};function Uy(e,t,s){return qn(e,Va(t,s))}function Hr(e,t){return typeof e=="function"?e(t):e}function zr(e){return e.split("-")[0]}function ql(e){return e.split("-")[1]}function pw(e){return e==="x"?"y":"x"}function fw(e){return e==="y"?"height":"width"}function Ba(e){return["top","bottom"].includes(zr(e))?"y":"x"}function xw(e){return pw(Ba(e))}function WU(e,t,s){s===void 0&&(s=!1);const r=ql(e),a=xw(e),o=fw(a);let i=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=_p(i)),[i,_p(i)]}function YU(e){const t=_p(e);return[By(e),t,By(t)]}function By(e){return e.replace(/start|end/g,t=>qU[t])}function KU(e,t,s){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}function GU(e,t,s,r){const a=ql(e);let o=KU(zr(e),s==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(By)))),o}function _p(e){return e.replace(/left|right|bottom|top/g,t=>zU[t])}function XU(e){return{top:0,right:0,bottom:0,left:0,...e}}function hA(e){return typeof e!="number"?XU(e):{top:e,right:e,bottom:e,left:e}}function Ip(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function f1(e,t,s){let{reference:r,floating:a}=e;const o=Ba(t),i=xw(t),l=fw(i),d=zr(t),c=o==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let f;switch(d){case"top":f={x:u,y:r.y-a.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-a.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ql(t)){case"start":f[i]-=m*(s&&c?-1:1);break;case"end":f[i]+=m*(s&&c?-1:1);break}return f}const JU=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=f1(c,r,d),m=r,f={},y=0;for(let x=0;x<l.length;x++){const{name:w,fn:v}=l[x],{x:g,y:j,data:N,reset:b}=await v({x:u,y:h,initialPlacement:r,placement:m,strategy:a,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,h=j??h,f={...f,[w]:{...f[w],...N}},b&&y<=50&&(y++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(c=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:h}=f1(c,m,d)),x=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:f}};async function Ad(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Hr(t,e),y=hA(f),w=l[m?h==="floating"?"reference":"floating":h],v=Ip(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(w)))==null||s?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:d})),g=h==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},b=Ip(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:j,strategy:d}):g);return{top:(v.top-b.top+y.top)/N.y,bottom:(b.bottom-v.bottom+y.bottom)/N.y,left:(v.left-b.left+y.left)/N.x,right:(b.right-v.right+y.right)/N.x}}const QU=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:d}=t,{element:c,padding:u=0}=Hr(e,t)||{};if(c==null)return{};const h=hA(u),m={x:s,y:r},f=xw(a),y=fw(f),x=await i.getDimensions(c),w=f==="y",v=w?"top":"left",g=w?"bottom":"right",j=w?"clientHeight":"clientWidth",N=o.reference[y]+o.reference[f]-m[f]-o.floating[y],b=m[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[j]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=l.floating[j]||o.floating[y]);const T=N/2-b/2,F=C/2-x[y]/2-1,V=Va(h[v],F),k=Va(h[g],F),M=V,$=C-x[y]-k,D=C/2-x[y]/2+T,P=Uy(M,D,$),L=!d.arrow&&ql(a)!=null&&D!==P&&o.reference[y]/2-(D<M?V:k)-x[y]/2<0,O=L?D<M?D-M:D-$:0;return{[f]:m[f]+O,data:{[f]:P,centerOffset:D-P-O,...L&&{alignmentOffset:O}},reset:L}}}),ZU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:d,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=Hr(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const v=zr(a),g=Ba(l),j=zr(l)===l,N=await(d.isRTL==null?void 0:d.isRTL(c.floating)),b=m||(j||!x?[_p(l)]:YU(l)),E=y!=="none";!m&&E&&b.push(...GU(l,x,y,N));const C=[l,...b],T=await Ad(t,w),F=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&F.push(T[v]),h){const D=WU(a,i,N);F.push(T[D[0]],T[D[1]])}if(V=[...V,{placement:a,overflows:F}],!F.every(D=>D<=0)){var k,M;const D=(((k=o.flip)==null?void 0:k.index)||0)+1,P=C[D];if(P)return{data:{index:D,overflows:V},reset:{placement:P}};let L=(M=V.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:M.placement;if(!L)switch(f){case"bestFit":{var $;const O=($=V.filter(R=>{if(E){const _=Ba(R.placement);return _===g||_==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(_=>_>0).reduce((_,z)=>_+z,0)]).sort((R,_)=>R[1]-_[1])[0])==null?void 0:$[0];O&&(L=O);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function x1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function g1(e){return HU.some(t=>e[t]>=0)}const e8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=Hr(e,t);switch(r){case"referenceHidden":{const o=await Ad(t,{...a,elementContext:"reference"}),i=x1(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:g1(i)}}}case"escaped":{const o=await Ad(t,{...a,altBoundary:!0}),i=x1(o,s.floating);return{data:{escapedOffsets:i,escaped:g1(i)}}}default:return{}}}}};async function t8(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=zr(s),l=ql(s),d=Ba(s)==="y",c=["left","top"].includes(i)?-1:1,u=o&&d?-1:1,h=Hr(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(f=l==="end"?y*-1:y),d?{x:f*u,y:m*c}:{x:m*c,y:f*u}}const n8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,d=await t8(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}},s8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...d}=Hr(e,t),c={x:s,y:r},u=await Ad(t,d),h=Ba(zr(a)),m=pw(h);let f=c[m],y=c[h];if(o){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",g=f+u[w],j=f-u[v];f=Uy(g,f,j)}if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=y+u[w],j=y-u[v];y=Uy(g,y,j)}const x=l.fn({...t,[m]:f,[h]:y});return{...x,data:{x:x.x-s,y:x.y-r,enabled:{[m]:o,[h]:i}}}}}},r8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:c=!0}=Hr(e,t),u={x:s,y:r},h=Ba(a),m=pw(h);let f=u[m],y=u[h];const x=Hr(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const j=m==="y"?"height":"width",N=o.reference[m]-o.floating[j]+w.mainAxis,b=o.reference[m]+o.reference[j]-w.mainAxis;f<N?f=N:f>b&&(f=b)}if(c){var v,g;const j=m==="y"?"width":"height",N=["top","left"].includes(zr(a)),b=o.reference[h]-o.floating[j]+(N&&((v=i.offset)==null?void 0:v[h])||0)+(N?0:w.crossAxis),E=o.reference[h]+o.reference[j]+(N?0:((g=i.offset)==null?void 0:g[h])||0)-(N?w.crossAxis:0);y<b?y=b:y>E&&(y=E)}return{[m]:f,[h]:y}}}},a8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:d=()=>{},...c}=Hr(e,t),u=await Ad(t,c),h=zr(a),m=ql(a),f=Ba(a)==="y",{width:y,height:x}=o.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,w=m==="end"?"top":"bottom");const g=x-u.top-u.bottom,j=y-u.left-u.right,N=Va(x-u[w],g),b=Va(y-u[v],j),E=!t.middlewareData.shift;let C=N,T=b;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(T=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=g),E&&!m){const V=qn(u.left,0),k=qn(u.right,0),M=qn(u.top,0),$=qn(u.bottom,0);f?T=y-2*(V!==0||k!==0?V+k:qn(u.left,u.right)):C=x-2*(M!==0||$!==0?M+$:qn(u.top,u.bottom))}await d({...t,availableWidth:T,availableHeight:C});const F=await i.getDimensions(l.floating);return y!==F.width||x!==F.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function Wl(e){return mA(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(mA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mA(e){return Hf()?e instanceof Node||e instanceof Jn(e).Node:!1}function Us(e){return Hf()?e instanceof Element||e instanceof Jn(e).Element:!1}function pr(e){return Hf()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function v1(e){return!Hf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}function xu(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(a)}function o8(e){return["table","td","th"].includes(Wl(e))}function zf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gw(e){const t=vw(),s=Us(e)?Bs(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function i8(e){let t=Ha(e);for(;pr(t)&&!vl(t);){if(gw(t))return t;if(zf(t))return null;t=Ha(t)}return null}function vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vl(e){return["html","body","#document"].includes(Wl(e))}function Bs(e){return Jn(e).getComputedStyle(e)}function qf(e){return Us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(Wl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||v1(e)&&e.host||vr(e);return v1(t)?t.host:t}function pA(e){const t=Ha(e);return vl(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&xu(t)?t:pA(t)}function Dd(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=pA(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Jn(a);if(o){const l=Hy(i);return t.concat(i,i.visualViewport||[],xu(a)?a:[],l&&s?Dd(l):[])}return t.concat(a,Dd(a,[],s))}function Hy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fA(e){const t=Bs(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=pr(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=Fp(s)!==o||Fp(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function yw(e){return Us(e)?e:e.contextElement}function Zi(e){const t=yw(e);if(!pr(t))return Ua(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=fA(t);let i=(o?Fp(s.width):s.width)/r,l=(o?Fp(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const l8=Ua(0);function xA(e){const t=Jn(e);return!vw()||!t.visualViewport?l8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function c8(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Jn(e)?!1:t}function _o(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=yw(e);let i=Ua(1);t&&(r?Us(r)&&(i=Zi(r)):i=Zi(e));const l=c8(o,s,r)?xA(o):Ua(0);let d=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){const m=Jn(o),f=r&&Us(r)?Jn(r):r;let y=m,x=Hy(y);for(;x&&r&&f!==y;){const w=Zi(x),v=x.getBoundingClientRect(),g=Bs(x),j=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*w.x,N=v.top+(x.clientTop+parseFloat(g.paddingTop))*w.y;d*=w.x,c*=w.y,u*=w.x,h*=w.y,d+=j,c+=N,y=Jn(x),x=Hy(y)}}return Ip({width:u,height:h,x:d,y:c})}function d8(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=vr(r),l=t?zf(t.floating):!1;if(r===i||l&&o)return s;let d={scrollLeft:0,scrollTop:0},c=Ua(1);const u=Ua(0),h=pr(r);if((h||!h&&!o)&&((Wl(r)!=="body"||xu(i))&&(d=qf(r)),pr(r))){const m=_o(r);c=Zi(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-d.scrollLeft*c.x+u.x,y:s.y*c.y-d.scrollTop*c.y+u.y}}function u8(e){return Array.from(e.getClientRects())}function zy(e,t){const s=qf(e).scrollLeft;return t?t.left+s:_o(vr(e)).left+s}function h8(e){const t=vr(e),s=qf(e),r=e.ownerDocument.body,a=qn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=qn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+zy(e);const l=-s.scrollTop;return Bs(r).direction==="rtl"&&(i+=qn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function m8(e,t){const s=Jn(e),r=vr(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,d=0;if(a){o=a.width,i=a.height;const c=vw();(!c||c&&t==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:l,y:d}}function p8(e,t){const s=_o(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=pr(e)?Zi(e):Ua(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,d=a*o.x,c=r*o.y;return{width:i,height:l,x:d,y:c}}function y1(e,t,s){let r;if(t==="viewport")r=m8(e,s);else if(t==="document")r=h8(vr(e));else if(Us(t))r=p8(t,s);else{const a=xA(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return Ip(r)}function gA(e,t){const s=Ha(e);return s===t||!Us(s)||vl(s)?!1:Bs(s).position==="fixed"||gA(s,t)}function f8(e,t){const s=t.get(e);if(s)return s;let r=Dd(e,[],!1).filter(l=>Us(l)&&Wl(l)!=="body"),a=null;const o=Bs(e).position==="fixed";let i=o?Ha(e):e;for(;Us(i)&&!vl(i);){const l=Bs(i),d=gw(i);!d&&l.position==="fixed"&&(a=null),(o?!d&&!a:!d&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||xu(i)&&!d&&gA(e,i))?r=r.filter(u=>u!==i):a=l,i=Ha(i)}return t.set(e,r),r}function x8(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s==="clippingAncestors"?zf(t)?[]:f8(t,this._c):[].concat(s),r],l=i[0],d=i.reduce((c,u)=>{const h=y1(t,u,a);return c.top=qn(h.top,c.top),c.right=Va(h.right,c.right),c.bottom=Va(h.bottom,c.bottom),c.left=qn(h.left,c.left),c},y1(t,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function g8(e){const{width:t,height:s}=fA(e);return{width:t,height:s}}function v8(e,t,s){const r=pr(t),a=vr(t),o=s==="fixed",i=_o(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const d=Ua(0);if(r||!r&&!o)if((Wl(t)!=="body"||xu(a))&&(l=qf(t)),r){const f=_o(t,!0,o,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else a&&(d.x=zy(a));let c=0,u=0;if(a&&!r&&!o){const f=a.getBoundingClientRect();u=f.top+l.scrollTop,c=f.left+l.scrollLeft-zy(a,f)}const h=i.left+l.scrollLeft-d.x-c,m=i.top+l.scrollTop-d.y-u;return{x:h,y:m,width:i.width,height:i.height}}function Sg(e){return Bs(e).position==="static"}function j1(e,t){if(!pr(e)||Bs(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return vr(e)===s&&(s=s.ownerDocument.body),s}function vA(e,t){const s=Jn(e);if(zf(e))return s;if(!pr(e)){let a=Ha(e);for(;a&&!vl(a);){if(Us(a)&&!Sg(a))return a;a=Ha(a)}return s}let r=j1(e,t);for(;r&&o8(r)&&Sg(r);)r=j1(r,t);return r&&vl(r)&&Sg(r)&&!gw(r)?s:r||i8(e)||s}const y8=async function(e){const t=this.getOffsetParent||vA,s=this.getDimensions,r=await s(e.floating);return{reference:v8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j8(e){return Bs(e).direction==="rtl"}const w8={convertOffsetParentRelativeRectToViewportRelativeRect:d8,getDocumentElement:vr,getClippingRect:x8,getOffsetParent:vA,getElementRects:y8,getClientRects:u8,getDimensions:g8,getScale:Zi,isElement:Us,isRTL:j8};function N8(e,t){let s=null,r;const a=vr(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),o();const{left:c,top:u,width:h,height:m}=e.getBoundingClientRect();if(l||t(),!h||!m)return;const f=sm(u),y=sm(a.clientWidth-(c+h)),x=sm(a.clientHeight-(u+m)),w=sm(c),g={rootMargin:-f+"px "+-y+"px "+-x+"px "+-w+"px",threshold:qn(0,Va(1,d))||1};let j=!0;function N(b){const E=b[0].intersectionRatio;if(E!==d){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j=!1}try{s=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,g)}s.observe(e)}return i(!0),o}function yA(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,c=yw(e),u=a||o?[...c?Dd(c):[],...Dd(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",s,{passive:!0}),o&&v.addEventListener("resize",s)});const h=c&&l?N8(c,s):null;let m=-1,f=null;i&&(f=new ResizeObserver(v=>{let[g]=v;g&&g.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=f)==null||j.observe(t)})),s()}),c&&!d&&f.observe(c),f.observe(t));let y,x=d?_o(e):null;d&&w();function w(){const v=_o(e);x&&(v.x!==x.x||v.y!==x.y||v.width!==x.width||v.height!==x.height)&&s(),x=v,y=requestAnimationFrame(w)}return s(),()=>{var v;u.forEach(g=>{a&&g.removeEventListener("scroll",s),o&&g.removeEventListener("resize",s)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,d&&cancelAnimationFrame(y)}}const b8=n8,S8=s8,C8=ZU,E8=a8,T8=e8,w1=QU,P8=r8,k8=(e,t,s)=>{const r=new Map,a={platform:w8,...s},o={...a.platform,_c:r};return JU(e,t,{...a,platform:o})};var qm=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Op(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Op(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Op(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function jA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function N1(e,t){const s=jA(e);return Math.round(t*s)/s}function Cg(e){const t=p.useRef(e);return qm(()=>{t.current=e}),t}function wA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:d,open:c}=e,[u,h]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=p.useState(r);Op(m,r)||f(r);const[y,x]=p.useState(null),[w,v]=p.useState(null),g=p.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[]),j=p.useCallback(R=>{R!==C.current&&(C.current=R,v(R))},[]),N=o||y,b=i||w,E=p.useRef(null),C=p.useRef(null),T=p.useRef(u),F=d!=null,V=Cg(d),k=Cg(a),M=Cg(c),$=p.useCallback(()=>{if(!E.current||!C.current)return;const R={placement:t,strategy:s,middleware:m};k.current&&(R.platform=k.current),k8(E.current,C.current,R).then(_=>{const z={..._,isPositioned:M.current!==!1};D.current&&!Op(T.current,z)&&(T.current=z,qs.flushSync(()=>{h(z)}))})},[m,t,s,k,M]);qm(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[c]);const D=p.useRef(!1);qm(()=>(D.current=!0,()=>{D.current=!1}),[]),qm(()=>{if(N&&(E.current=N),b&&(C.current=b),N&&b){if(V.current)return V.current(N,b,$);$()}},[N,b,$,V,F]);const P=p.useMemo(()=>({reference:E,floating:C,setReference:g,setFloating:j}),[g,j]),L=p.useMemo(()=>({reference:N,floating:b}),[N,b]),O=p.useMemo(()=>{const R={position:s,left:0,top:0};if(!L.floating)return R;const _=N1(L.floating,u.x),z=N1(L.floating,u.y);return l?{...R,transform:"translate("+_+"px, "+z+"px)",...jA(L.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:_,top:z}},[s,l,L.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:$,refs:P,elements:L,floatingStyles:O}),[u,$,P,L,O])}const A8=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?w1({element:r.current,padding:a}).fn(s):{}:r?w1({element:r,padding:a}).fn(s):{}}}},NA=(e,t)=>({...b8(e),options:[e,t]}),bA=(e,t)=>({...S8(e),options:[e,t]}),SA=(e,t)=>({...P8(e),options:[e,t]}),CA=(e,t)=>({...C8(e),options:[e,t]}),EA=(e,t)=>({...E8(e),options:[e,t]}),TA=(e,t)=>({...T8(e),options:[e,t]}),PA=(e,t)=>({...A8(e),options:[e,t]});var D8="Arrow",kA=p.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(Ce.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});kA.displayName=D8;var R8=kA;function M8(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];function c(h){const{scope:m,children:f,...y}=h,x=(m==null?void 0:m[e][d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})}function u(h,m){const f=(m==null?void 0:m[e][d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,F8(a,...t)]}function F8(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function Wf(e){const[t,s]=p.useState(void 0);return Wt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var jw="Popper",[AA,Yl]=M8(jw),[_8,DA]=AA(jw),RA=e=>{const{__scopePopper:t,children:s}=e,[r,a]=p.useState(null);return n.jsx(_8,{scope:t,anchor:r,onAnchorChange:a,children:s})};RA.displayName=jw;var MA="PopperAnchor",FA=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=DA(MA,s),i=p.useRef(null),l=Ae(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.jsx(Ce.div,{...a,ref:l})});FA.displayName=MA;var ww="PopperContent",[I8,O8]=AA(ww),_A=p.forwardRef((e,t)=>{var H,ae,de,xe,ye,fe;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:y,...x}=e,w=DA(ww,s),[v,g]=p.useState(null),j=Ae(t,we=>g(we)),[N,b]=p.useState(null),E=Wf(N),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,F=r+(o!=="center"?"-"+o:""),V=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,$={padding:V,boundary:k.filter($8),altBoundary:M},{refs:D,floatingStyles:P,placement:L,isPositioned:O,middlewareData:R}=wA({strategy:"fixed",placement:F,whileElementsMounted:(...we)=>yA(...we,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[NA({mainAxis:a+T,alignmentAxis:i}),d&&bA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?SA():void 0,...$}),d&&CA({...$}),EA({...$,apply:({elements:we,rects:Ne,availableWidth:Me,availableHeight:Le})=>{const{width:Pt,height:cn}=Ne.reference,Ke=we.floating.style;Ke.setProperty("--radix-popper-available-width",`${Me}px`),Ke.setProperty("--radix-popper-available-height",`${Le}px`),Ke.setProperty("--radix-popper-anchor-width",`${Pt}px`),Ke.setProperty("--radix-popper-anchor-height",`${cn}px`)}}),N&&PA({element:N,padding:l}),V8({arrowWidth:C,arrowHeight:T}),m&&TA({strategy:"referenceHidden",...$})]}),[_,z]=LA(L),B=yt(y);Wt(()=>{O&&(B==null||B())},[O,B]);const U=(H=R.arrow)==null?void 0:H.x,K=(ae=R.arrow)==null?void 0:ae.y,Y=((de=R.arrow)==null?void 0:de.centerOffset)!==0,[X,G]=p.useState();return Wt(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:O?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(xe=R.transformOrigin)==null?void 0:xe.x,(ye=R.transformOrigin)==null?void 0:ye.y].join(" "),...((fe=R.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(I8,{scope:s,placedSide:_,onArrowChange:b,arrowX:U,arrowY:K,shouldHideArrow:Y,children:n.jsx(Ce.div,{"data-side":_,"data-align":z,...x,ref:j,style:{...x.style,animation:O?void 0:"none"}})})})});_A.displayName=ww;var IA="PopperArrow",L8={top:"bottom",right:"left",bottom:"top",left:"right"},OA=p.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=O8(IA,r),i=L8[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(R8,{...a,ref:s,style:{...a.style,display:"block"}})})});OA.displayName=IA;function $8(e){return e!==null}var V8=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:s,rects:r,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=LA(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let y="",x="";return c==="bottom"?(y=i?h:`${m}px`,x=`${-d}px`):c==="top"?(y=i?h:`${m}px`,x=`${r.floating.height+d}px`):c==="right"?(y=`${-d}px`,x=i?h:`${f}px`):c==="left"&&(y=`${r.floating.width+d}px`,x=i?h:`${f}px`),{data:{x:y,y:x}}}});function LA(e){const[t,s="center"]=e.split("-");return[t,s]}var $A=RA,Nw=FA,bw=_A,Sw=OA,[Yf,Dpe]=as("Tooltip",[Yl]),Cw=Yl(),VA="TooltipProvider",U8=700,b1="tooltip.open",[B8,UA]=Yf(VA),BA=e=>{const{__scopeTooltip:t,delayDuration:s=U8,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=p.useState(!0),d=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(B8,{scope:t,isOpenDelayed:i,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(u=>{d.current=u},[]),disableHoverableContent:a,children:o})};BA.displayName=VA;var HA="Tooltip",[Rpe,Kf]=Yf(HA),qy="TooltipTrigger",H8=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Kf(qy,s),o=UA(qy,s),i=Cw(s),l=p.useRef(null),d=Ae(t,l,a.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Nw,{asChild:!0,...i,children:n.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:d,onPointerMove:me(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:me(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:me(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:me(e.onBlur,a.onClose),onClick:me(e.onClick,a.onClose)})})});H8.displayName=qy;var z8="TooltipPortal",[Mpe,q8]=Yf(z8,{forceMount:void 0}),yl="TooltipContent",zA=p.forwardRef((e,t)=>{const s=q8(yl,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...o}=e,i=Kf(yl,e.__scopeTooltip);return n.jsx(Qt,{present:r||i.open,children:i.disableHoverableContent?n.jsx(qA,{side:a,...o,ref:t}):n.jsx(W8,{side:a,...o,ref:t})})}),W8=p.forwardRef((e,t)=>{const s=Kf(yl,e.__scopeTooltip),r=UA(yl,e.__scopeTooltip),a=p.useRef(null),o=Ae(t,a),[i,l]=p.useState(null),{trigger:d,onClose:c}=s,u=a.current,{onPointerInTransitChange:h}=r,m=p.useCallback(()=>{l(null),h(!1)},[h]),f=p.useCallback((y,x)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},g=X8(v,w.getBoundingClientRect()),j=J8(v,g),N=Q8(x.getBoundingClientRect()),b=eB([...j,...N]);l(b),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(d&&u){const y=w=>f(w,u),x=w=>f(w,d);return d.addEventListener("pointerleave",y),u.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",x)}}},[d,u,f,m]),p.useEffect(()=>{if(i){const y=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},g=(d==null?void 0:d.contains(w))||(u==null?void 0:u.contains(w)),j=!Z8(v,i);g?m():j&&(m(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[d,u,i,c,m]),n.jsx(qA,{...e,ref:o})}),[Y8,K8]=Yf(HA,{isInside:!1}),qA=p.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,d=Kf(yl,s),c=Cw(s),{onClose:u}=d;return p.useEffect(()=>(document.addEventListener(b1,u),()=>document.removeEventListener(b1,u)),[u]),p.useEffect(()=>{if(d.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(d.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,u]),n.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(bw,{"data-state":d.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(iw,{children:r}),n.jsx(Y8,{scope:s,isInside:!0,children:n.jsx(O6,{id:d.contentId,role:"tooltip",children:a||r})})]})})});zA.displayName=yl;var WA="TooltipArrow",G8=p.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Cw(s);return K8(WA,s).isInside?null:n.jsx(Sw,{...a,...r,ref:t})});G8.displayName=WA;function X8(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(s,r,a,o)){case o:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function J8(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function Q8(e){const{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}function Z8(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>r!=u>r&&s<(c-l)*(r-d)/(u-d)+l&&(a=!a)}return a}function eB(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),tB(t)}function tB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var nB=BA,YA=zA;const sB=nB,rB=p.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(YA,{ref:r,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));rB.displayName=YA.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Rd.apply(this,arguments)}var Na;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Na||(Na={}));const S1="popstate";function aB(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Wy("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Lp(a)}return iB(t,s,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oB(){return Math.random().toString(36).substr(2,8)}function C1(e,t){return{usr:e.state,key:e.key,idx:t}}function Wy(e,t,s,r){return s===void 0&&(s=null),Rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kl(t):t,{state:s,key:t&&t.key||r||oB()})}function Lp(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Kl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iB(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=Na.Pop,d=null,c=u();c==null&&(c=0,i.replaceState(Rd({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function h(){l=Na.Pop;let w=u(),v=w==null?null:w-c;c=w,d&&d({action:l,location:x.location,delta:v})}function m(w,v){l=Na.Push;let g=Wy(x.location,w,v);c=u()+1;let j=C1(g,c),N=x.createHref(g);try{i.pushState(j,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}o&&d&&d({action:l,location:x.location,delta:1})}function f(w,v){l=Na.Replace;let g=Wy(x.location,w,v);c=u();let j=C1(g,c),N=x.createHref(g);i.replaceState(j,"",N),o&&d&&d({action:l,location:x.location,delta:0})}function y(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:Lp(w);return g=g.replace(/ $/,"%20"),Nt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return l},get location(){return e(a,i)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(S1,h),d=w,()=>{a.removeEventListener(S1,h),d=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(w){return i.go(w)}};return x}var E1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(E1||(E1={}));function lB(e,t,s){return s===void 0&&(s="/"),cB(e,t,s,!1)}function cB(e,t,s,r){let a=typeof t=="string"?Kl(t):t,o=jl(a.pathname||"/",s);if(o==null)return null;let i=GA(e);dB(i);let l=null;for(let d=0;l==null&&d<i.length;++d){let c=wB(o);l=yB(i[d],c,r)}return l}function GA(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(o,i,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let c=Ra([r,d.relativePath]),u=s.concat(d);o.children&&o.children.length>0&&(Nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GA(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:gB(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let d of XA(o.path))a(o,i,d)}),t}function XA(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=XA(r.join("/")),l=[];return l.push(...i.map(d=>d===""?o:[o,d].join("/"))),a&&l.push(...i),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function dB(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:vB(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const uB=/^:[\w-]+$/,hB=3,mB=2,pB=1,fB=10,xB=-2,T1=e=>e==="*";function gB(e,t){let s=e.split("/"),r=s.length;return s.some(T1)&&(r+=xB),t&&(r+=mB),s.filter(a=>!T1(a)).reduce((a,o)=>a+(uB.test(o)?hB:o===""?pB:fB),r)}function vB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function yB(e,t,s){let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let d=r[l],c=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=$p({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),m=d.route;if(!h&&c&&s&&!r[r.length-1].route.index&&(h=$p({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Ra([o,h.pathname]),pathnameBase:CB(Ra([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Ra([o,h.pathnameBase]))}return i}function $p(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=jB(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let x=l[h]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return f&&!y?c[m]=void 0:c[m]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function jB(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),KA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function wB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function NB(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?Kl(e):e;return{pathname:s?s.startsWith("/")?s:bB(s,t):t,search:EB(r),hash:TB(a)}}function bB(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Eg(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SB(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ew(e,t){let s=SB(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Tw(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Kl(e):(a=Rd({},e),Nt(!a.pathname||!a.pathname.includes("?"),Eg("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),Eg("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),Eg("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let d=NB(a,l),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Ra=e=>e.join("/").replace(/\/\/+/g,"/"),CB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JA=["post","put","patch","delete"];new Set(JA);const kB=["get",...JA];new Set(kB);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Md.apply(this,arguments)}const Gf=p.createContext(null),QA=p.createContext(null),Xr=p.createContext(null),Xf=p.createContext(null),yr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ZA=p.createContext(null);function AB(e,t){let{relative:s}=t===void 0?{}:t;Gl()||Nt(!1);let{basename:r,navigator:a}=p.useContext(Xr),{hash:o,pathname:i,search:l}=Jf(e,{relative:s}),d=i;return r!=="/"&&(d=i==="/"?r:Ra([r,i])),a.createHref({pathname:d,search:l,hash:o})}function Gl(){return p.useContext(Xf)!=null}function jr(){return Gl()||Nt(!1),p.useContext(Xf).location}function eD(e){p.useContext(Xr).static||p.useLayoutEffect(e)}function ys(){let{isDataRoute:e}=p.useContext(yr);return e?WB():DB()}function DB(){Gl()||Nt(!1);let e=p.useContext(Gf),{basename:t,future:s,navigator:r}=p.useContext(Xr),{matches:a}=p.useContext(yr),{pathname:o}=jr(),i=JSON.stringify(Ew(a,s.v7_relativeSplatPath)),l=p.useRef(!1);return eD(()=>{l.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Tw(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ra([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,o,e])}const RB=p.createContext(null);function MB(e){let t=p.useContext(yr).outlet;return t&&p.createElement(RB.Provider,{value:e},t)}function FB(){let{matches:e}=p.useContext(yr),t=e[e.length-1];return t?t.params:{}}function Jf(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=p.useContext(Xr),{matches:a}=p.useContext(yr),{pathname:o}=jr(),i=JSON.stringify(Ew(a,r.v7_relativeSplatPath));return p.useMemo(()=>Tw(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function _B(e,t){return IB(e,t)}function IB(e,t,s,r){Gl()||Nt(!1);let{navigator:a}=p.useContext(Xr),{matches:o}=p.useContext(yr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=jr(),u;if(t){var h;let w=typeof t=="string"?Kl(t):t;d==="/"||(h=w.pathname)!=null&&h.startsWith(d)||Nt(!1),u=w}else u=c;let m=u.pathname||"/",f=m;if(d!=="/"){let w=d.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=lB(e,{pathname:f}),x=UB(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ra([d,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Ra([d,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,s,r);return t&&x?p.createElement(Xf.Provider,{value:{location:Md({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Na.Pop}},x):x}function OB(){let e=qB(),t=PB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:a},s):null,null)}const LB=p.createElement(OB,null);class $B extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?p.createElement(yr.Provider,{value:this.props.routeContext},p.createElement(ZA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VB(e){let{routeContext:t,match:s,children:r}=e,a=p.useContext(Gf);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(yr.Provider,{value:t},r)}function UB(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Nt(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:f}=s,y=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,m)=>{let f,y=!1,x=null,w=null;s&&(f=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||LB,d&&(c<0&&m===0?(y=!0,w=null):c===m&&(y=!0,w=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,m+1)),g=()=>{let j;return f?j=x:y?j=w:h.route.Component?j=p.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,p.createElement(VB,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:s!=null},children:j})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement($B,{location:s.location,revalidation:s.revalidation,component:x,error:f,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var tD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tD||{}),Vp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vp||{});function BB(e){let t=p.useContext(Gf);return t||Nt(!1),t}function HB(e){let t=p.useContext(QA);return t||Nt(!1),t}function zB(e){let t=p.useContext(yr);return t||Nt(!1),t}function nD(e){let t=zB(),s=t.matches[t.matches.length-1];return s.route.id||Nt(!1),s.route.id}function qB(){var e;let t=p.useContext(ZA),s=HB(Vp.UseRouteError),r=nD(Vp.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function WB(){let{router:e}=BB(tD.UseNavigateStable),t=nD(Vp.UseNavigateStable),s=p.useRef(!1);return eD(()=>{s.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Md({fromRouteId:t},o)))},[e,t])}function Pw(e){let{to:t,replace:s,state:r,relative:a}=e;Gl()||Nt(!1);let{future:o,static:i}=p.useContext(Xr),{matches:l}=p.useContext(yr),{pathname:d}=jr(),c=ys(),u=Tw(t,Ew(l,o.v7_relativeSplatPath),d,a==="path"),h=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(h),{replace:s,state:r,relative:a}),[c,h,a,s,r]),null}function sD(e){return MB(e.context)}function It(e){Nt(!1)}function YB(e){let{basename:t="/",children:s=null,location:r,navigationType:a=Na.Pop,navigator:o,static:i=!1,future:l}=e;Gl()&&Nt(!1);let d=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:d,navigator:o,static:i,future:Md({v7_relativeSplatPath:!1},l)}),[d,l,o,i]);typeof r=="string"&&(r=Kl(r));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:y="default"}=r,x=p.useMemo(()=>{let w=jl(u,d);return w==null?null:{location:{pathname:w,search:h,hash:m,state:f,key:y},navigationType:a}},[d,u,h,m,f,y,a]);return x==null?null:p.createElement(Xr.Provider,{value:c},p.createElement(Xf.Provider,{children:s,value:x}))}function KB(e){let{children:t,location:s}=e;return _B(Yy(t),s)}new Promise(()=>{});function Yy(e,t){t===void 0&&(t=[]);let s=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){s.push.apply(s,Yy(r.props.children,o));return}r.type!==It&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Yy(r.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Up.apply(this,arguments)}function rD(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function GB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XB(e,t){return e.button===0&&(!t||t==="_self")&&!GB(e)}const JB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZB="6";try{window.__reactRouterVersion=ZB}catch{}const eH=p.createContext({isTransitioning:!1}),tH="startTransition",P1=ru[tH];function nH(e){let{basename:t,children:s,future:r,window:a}=e,o=p.useRef();o.current==null&&(o.current=aB({window:a,v5Compat:!0}));let i=o.current,[l,d]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=p.useCallback(h=>{c&&P1?P1(()=>d(h)):d(h)},[d,c]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.createElement(YB,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:r})}const sH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aD=p.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:d,to:c,preventScrollReset:u,viewTransition:h}=t,m=rD(t,JB),{basename:f}=p.useContext(Xr),y,x=!1;if(typeof c=="string"&&rH.test(c)&&(y=c,sH))try{let j=new URL(window.location.href),N=c.startsWith("//")?new URL(j.protocol+c):new URL(c),b=jl(N.pathname,f);N.origin===j.origin&&b!=null?c=b+N.search+N.hash:x=!0}catch{}let w=AB(c,{relative:a}),v=iH(c,{replace:i,state:l,target:d,preventScrollReset:u,relative:a,viewTransition:h});function g(j){r&&r(j),j.defaultPrevented||v(j)}return p.createElement("a",Up({},m,{href:y||w,onClick:x||o?r:g,ref:s,target:d}))}),aH=p.forwardRef(function(t,s){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:d,viewTransition:c,children:u}=t,h=rD(t,QB),m=Jf(d,{relative:h.relative}),f=jr(),y=p.useContext(QA),{navigator:x,basename:w}=p.useContext(Xr),v=y!=null&&lH(m)&&c===!0,g=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,j=f.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(j=j.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&w&&(N=jl(N,w)||N);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=j===g||!i&&j.startsWith(g)&&j.charAt(b)==="/",C=N!=null&&(N===g||!i&&N.startsWith(g)&&N.charAt(g.length)==="/"),T={isActive:E,isPending:C,isTransitioning:v},F=E?r:void 0,V;typeof o=="function"?V=o(T):V=[o,E?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(T):l;return p.createElement(aD,Up({},h,{"aria-current":F,className:V,ref:s,style:k,to:d,viewTransition:c}),typeof u=="function"?u(T):u)});var Ky;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ky||(Ky={}));var k1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k1||(k1={}));function oH(e){let t=p.useContext(Gf);return t||Nt(!1),t}function iH(e,t){let{target:s,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,d=ys(),c=jr(),u=Jf(e,{relative:i});return p.useCallback(h=>{if(XB(h,s)){h.preventDefault();let m=r!==void 0?r:Lp(c)===Lp(u);d(e,{replace:m,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[c,d,u,r,a,s,e,o,i,l])}function lH(e,t){t===void 0&&(t={});let s=p.useContext(eH);s==null&&Nt(!1);let{basename:r}=oH(Ky.useViewTransitionState),a=Jf(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=jl(s.currentLocation.pathname,r)||s.currentLocation.pathname,i=jl(s.nextLocation.pathname,r)||s.nextLocation.pathname;return $p(a.pathname,i)!=null||$p(a.pathname,o)!=null}const cH=window.location.hostname,dH=window.location.port||"8080",oD=`http://${cH}:${dH}/api`;class Tg extends Error{constructor(t,s,r){super(t),this.status=s,this.response=r,this.name="ApiError"}}function A1(){return localStorage.getItem("integration_platform_token")}function uH(){return localStorage.getItem("integration_platform_refresh_token")}function hH(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function mH(){const e=uH();if(!e)return!1;try{const t=await fetch(`${oD}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const s=await t.json();return localStorage.setItem("integration_platform_token",s.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return hH(),!1}async function Cc(e,t={}){const s=`${oD}${e}`,r=A1(),a={"Content-Type":"application/json"};r&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${r}`);const o={headers:{...a,...t.headers},...t};try{let i=await fetch(s,o);if(i.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await mH()){const u=A1();u&&(o.headers={...o.headers,Authorization:`Bearer ${u}`},i=await fetch(s,o))}else throw window.location.href="/login",new Tg("Authentication failed",401);let l;const d=i.headers.get("content-type");if(d&&d.includes("application/json")?l=await i.json():l=await i.text(),!i.ok)throw new Tg(l.message||l||`HTTP ${i.status}: ${i.statusText}`,i.status,l);return typeof l=="string"&&l.includes("<!DOCTYPE html>")?(console.warn(`API endpoint ${e} returned HTML instead of JSON`),{success:!1,error:"API endpoint returned HTML instead of JSON",data:null}):{success:!0,data:l.data||l,message:l.message}}catch(i){if(i instanceof Tg)throw i;return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}const Q={get:(e,t)=>Cc(e,{method:"GET",...t}),post:(e,t,s)=>Cc(e,{method:"POST",body:JSON.stringify(t),...s}),put:(e,t,s)=>Cc(e,{method:"PUT",body:JSON.stringify(t),...s}),patch:(e,t,s)=>Cc(e,{method:"PATCH",body:JSON.stringify(t),...s}),delete:(e,t)=>Cc(e,{method:"DELETE",...t})};class pH{constructor(){Je(this,"TOKEN_KEY","integration_platform_token");Je(this,"REFRESH_TOKEN_KEY","integration_platform_refresh_token");Je(this,"USER_KEY","integration_platform_user")}async login(t){const s=await Q.post("/auth/login",t);return s.success&&s.data&&this.setAuthData(s.data),s}async register(t){return Q.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await Q.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const s=await Q.post("/auth/refresh",{refreshToken:t});return s.success&&s.data&&localStorage.setItem(this.TOKEN_KEY,s.data.token),s}async getProfile(){return Q.get("/auth/profile")}async updateProfile(t){return Q.put("/auth/profile",t)}async changePassword(t,s){return Q.post("/auth/change-password",{currentPassword:t,newPassword:s})}async requestPasswordReset(t){return Q.post("/auth/forgot-password",{email:t})}async resetPassword(t,s){return Q.post("/auth/reset-password",{token:t,newPassword:s})}async verifyEmail(t){return Q.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const s=this.getCurrentUser();if(!(s!=null&&s.permissions))return!1;let r=[];if(typeof s.permissions=="string")try{const a=JSON.parse(s.permissions);r=Array.isArray(a)?a:Object.keys(a)}catch{r=[]}else Array.isArray(s.permissions)&&(r=s.permissions);return r.includes(t)}hasRole(t){const s=this.getCurrentUser();return(s==null?void 0:s.role)===t}isAdmin(){return this.hasRole("administrator")}}const ls=new pH,iD=p.createContext(void 0),ti=()=>{const e=p.useContext(iD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},fH=({children:e})=>{const[t,s]=p.useState(null),[r,a]=p.useState(!0),[o,i]=p.useState([]),[l,d]=p.useState(null),c=ys();p.useEffect(()=>{(async()=>{try{if(window.location.pathname==="/login"){console.log("AuthContext: On login page, skipping auth check"),a(!1);return}const N=ls.getToken();if(!N){console.log("AuthContext: No token found, skipping initialization"),a(!1);return}try{const E=JSON.parse(atob(N.split(".")[1])).exp*1e3;if(E<Date.now()){console.log("AuthContext: Token expired, clearing auth data"),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),a(!1);return}d(E)}catch(b){console.warn("Failed to parse token:",b),a(!1);return}try{const b=await ls.getProfile();b.success&&b.data?s(b.data):console.warn("AuthContext: Profile fetch failed")}catch(b){console.warn("AuthContext: Profile fetch error:",b)}}catch(N){console.error("Auth initialization error:",N)}finally{a(!1)}})()},[]),p.useEffect(()=>{if(!l)return;const j=l-Date.now();if(j<=0){h();return}const N=setTimeout(()=>{h()},j);return()=>clearTimeout(N)},[l]);const u=async(j,N,b)=>{try{a(!0);const E=await ls.login({username:j,password:N});if(E.success&&E.data){s(E.data.user);const C=Date.now()+E.data.expiresIn*1e3;return d(C),tt.success("Login successful"),setTimeout(()=>{c(b||"/dashboard")},100),!0}else return tt.error(E.error||"Login failed"),!1}catch(E){return console.error("Login error:",E),tt.error("Login failed. Please try again."),!1}finally{a(!1)}},h=async()=>{try{s(null),d(null),ls.logout().catch(j=>{console.warn("Logout API call failed:",j)}),c("/login"),tt.success("Logged out successfully")}catch(j){console.error("Logout error:",j),c("/login")}},m=()=>!(!ls.isAuthenticated()||l&&Date.now()>=l||!t),f=async()=>{try{if(!m())return await h(),!1;const j=await ls.getProfile();if(j.success&&j.data){s(j.data);const N=ls.getToken();if(N)try{const b=JSON.parse(atob(N.split(".")[1]));d(b.exp*1e3)}catch(b){console.warn("Failed to parse token expiry:",b)}return!0}else return await h(),!1}catch(j){return console.error("Session check error:",j),await h(),!1}},y=()=>o,x=async j=>{try{const N=await ls.register({...j,password:"temp123"});N.success&&N.data?(i(b=>[...b,N.data]),tt.success("User created successfully")):tt.error(N.error||"Failed to create user")}catch(N){console.error("Create user error:",N),tt.error("Failed to create user")}},w=async(j,N)=>{try{i(b=>b.map(E=>E.id===j?{...E,...N}:E)),tt.success("User updated successfully")}catch(b){console.error("Update user error:",b),tt.error("Failed to update user")}},v=async j=>{try{i(N=>N.filter(b=>b.id!==j)),tt.success("User deleted successfully")}catch(N){console.error("Delete user error:",N),tt.error("Failed to delete user")}},g={user:t,login:u,logout:h,isAuthenticated:!!t&&ls.isAuthenticated(),isLoading:r,tokenExpiry:l,checkSession:f,isSessionValid:m,getAllUsers:y,createUser:x,updateUser:w,deleteUser:v};return n.jsx(iD.Provider,{value:g,children:e})},xH=()=>{const{isAuthenticated:e,isLoading:t}=ti(),[s,r]=he.useState(!0);return he.useEffect(()=>{const a=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(a)},[]),he.useEffect(()=>{console.log("ProtectedRoute: isAuthenticated =",e,"isLoading =",t)},[e,t]),t&&s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx($t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?n.jsx(sD,{}):(console.log("ProtectedRoute: Redirecting to login - not authenticated"),n.jsx(Pw,{to:"/login",replace:!0}))},Fd=hu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?Oa:"button";return n.jsx(i,{className:ce(Fd({variant:t,size:s,className:e})),ref:o,...a})});W.displayName="Button";const gH=hu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function le({className:e,variant:t,...s}){return n.jsx("div",{className:ce(gH({variant:t}),e),...s})}var vH=p.createContext(void 0);function Xl(e){const t=p.useContext(vH);return e||t||"ltr"}var Pg=0;function kw(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??D1()),document.body.insertAdjacentElement("beforeend",e[1]??D1()),Pg++,()=>{Pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pg--}},[])}function D1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kg="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",R1={bubbles:!1,cancelable:!0},yH="FocusScope",Qf=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=yt(a),u=yt(o),h=p.useRef(null),m=Ae(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(j){if(f.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:ua(h.current,{select:!0})},w=function(j){if(f.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||ua(h.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const b of j)b.removedNodes.length>0&&ua(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[r,l,f.paused]),p.useEffect(()=>{if(l){F1.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(kg,R1);l.addEventListener(kg,c),l.dispatchEvent(v),v.defaultPrevented||(jH(CH(lD(l)),{select:!0}),document.activeElement===x&&ua(l))}return()=>{l.removeEventListener(kg,c),setTimeout(()=>{const v=new CustomEvent(Ag,R1);l.addEventListener(Ag,u),l.dispatchEvent(v),v.defaultPrevented||ua(x??document.body,{select:!0}),l.removeEventListener(Ag,u),F1.remove(f)},0)}}},[l,c,u,f]);const y=p.useCallback(x=>{if(!s&&!r||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[j,N]=wH(g);j&&N?!x.shiftKey&&v===N?(x.preventDefault(),s&&ua(j,{select:!0})):x.shiftKey&&v===j&&(x.preventDefault(),s&&ua(N,{select:!0})):v===g&&x.preventDefault()}},[s,r,f.paused]);return n.jsx(Ce.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});Qf.displayName=yH;function jH(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(ua(r,{select:t}),document.activeElement!==s)return}function wH(e){const t=lD(e),s=M1(t,e),r=M1(t.reverse(),e);return[s,r]}function lD(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function M1(e,t){for(const s of e)if(!NH(s,{upTo:t}))return s}function NH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bH(e){return e instanceof HTMLInputElement&&"select"in e}function ua(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&bH(e)&&t&&e.select()}}var F1=SH();function SH(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=_1(e,t),e.unshift(t)},remove(t){var s;e=_1(e,t),(s=e[0])==null||s.resume()}}}function _1(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function CH(e){return e.filter(t=>t.tagName!=="A")}function EH(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];function c(h){const{scope:m,children:f,...y}=h,x=(m==null?void 0:m[e][d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})}function u(h,m){const f=(m==null?void 0:m[e][d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,TH(a,...t)]}function TH(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Dg="rovingFocusGroup.onEntryFocus",PH={bubbles:!1,cancelable:!0},Zf="RovingFocusGroup",[Gy,cD,kH]=cu(Zf),[AH,ex]=EH(Zf,[kH]),[DH,RH]=AH(Zf),dD=p.forwardRef((e,t)=>n.jsx(Gy.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Gy.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(MH,{...e,ref:t})})}));dD.displayName=Zf;var MH=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,m=p.useRef(null),f=Ae(t,m),y=Xl(o),[x=null,w]=Ls({prop:i,defaultProp:l,onChange:d}),[v,g]=p.useState(!1),j=yt(c),N=cD(s),b=p.useRef(!1),[E,C]=p.useState(0);return p.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Dg,j),()=>T.removeEventListener(Dg,j)},[j]),n.jsx(DH,{scope:s,orientation:r,dir:y,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(T=>w(T),[w]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>C(T=>T-1),[]),children:n.jsx(Ce.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{b.current=!0}),onFocus:me(e.onFocus,T=>{const F=!b.current;if(T.target===T.currentTarget&&F&&!v){const V=new CustomEvent(Dg,PH);if(T.currentTarget.dispatchEvent(V),!V.defaultPrevented){const k=N().filter(L=>L.focusable),M=k.find(L=>L.active),$=k.find(L=>L.id===x),P=[M,$,...k].filter(Boolean).map(L=>L.ref.current);mD(P,u)}}b.current=!1}),onBlur:me(e.onBlur,()=>g(!1))})})}),uD="RovingFocusGroupItem",hD=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,l=Is(),d=o||l,c=RH(uD,s),u=c.currentTabStopId===d,h=cD(s),{onFocusableItemAdd:m,onFocusableItemRemove:f}=c;return p.useEffect(()=>{if(r)return m(),()=>f()},[r,m,f]),n.jsx(Gy.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:n.jsx(Ce.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:me(e.onMouseDown,y=>{r?c.onItemFocus(d):y.preventDefault()}),onFocus:me(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:me(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=IH(y,c.orientation,c.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=h().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const g=v.indexOf(y.currentTarget);v=c.loop?OH(v,g+1):v.slice(g+1)}setTimeout(()=>mD(v))}})})})});hD.displayName=uD;var FH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _H(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IH(e,t,s){const r=_H(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FH[r]}function mD(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function OH(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var pD=dD,fD=hD,LH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mi=new WeakMap,rm=new WeakMap,am={},Rg=0,xD=function(e){return e&&(e.host||xD(e.parentNode))},$H=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=xD(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},VH=function(e,t,s,r){var a=$H(t,Array.isArray(e)?e:[e]);am[s]||(am[s]=new WeakMap);var o=am[s],i=[],l=new Set,d=new Set(a),c=function(h){!h||l.has(h)||(l.add(h),c(h.parentNode))};a.forEach(c);var u=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(r),y=f!==null&&f!=="false",x=(mi.get(m)||0)+1,w=(o.get(m)||0)+1;mi.set(m,x),o.set(m,w),i.push(m),x===1&&y&&rm.set(m,!0),w===1&&m.setAttribute(s,"true"),y||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return u(t),l.clear(),Rg++,function(){i.forEach(function(h){var m=mi.get(h)-1,f=o.get(h)-1;mi.set(h,m),o.set(h,f),m||(rm.has(h)||h.removeAttribute(r),rm.delete(h)),f||h.removeAttribute(s)}),Rg--,Rg||(mi=new WeakMap,mi=new WeakMap,rm=new WeakMap,am={})}},gu=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=LH(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),VH(r,a,s,"aria-hidden")):function(){return null}},Dt=function(){return Dt=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Dt.apply(this,arguments)};function tx(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function Aw(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var el="right-scroll-bar-position",tl="width-before-scroll-bar",UH="with-scroll-bars-hidden",BH="--removed-body-scroll-bar-size";function Mg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function HH(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var zH=typeof window<"u"?p.useLayoutEffect:p.useEffect,I1=new WeakMap;function Dw(e,t){var s=HH(null,function(r){return e.forEach(function(a){return Mg(a,r)})});return zH(function(){var r=I1.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||Mg(l,null)}),o.forEach(function(l){a.has(l)||Mg(l,i)})}I1.set(s,e)},[e]),s}function qH(e){return e}function WH(e,t){t===void 0&&(t=qH);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var d=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(d)};c(),s={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),s}}}};return a}function Rw(e){e===void 0&&(e={});var t=WH(null);return t.options=Dt({async:!0,ssr:!1},e),t}var gD=function(e){var t=e.sideCar,s=tx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Dt({},s))};gD.isSideCarExport=!0;function Mw(e,t){return e.useMedium(t),gD}var vD=Rw(),Fg=function(){},nx=p.forwardRef(function(e,t){var s=p.useRef(null),r=p.useState({onScrollCapture:Fg,onWheelCapture:Fg,onTouchMoveCapture:Fg}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,g=e.gapMode,j=tx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,b=Dw([s,t]),E=Dt(Dt({},j),a);return p.createElement(p.Fragment,null,u&&p.createElement(N,{sideCar:vD,removeScrollBar:c,shards:h,noIsolation:f,inert:y,setCallbacks:o,allowPinchZoom:!!x,lockRef:s,gapMode:g}),i?p.cloneElement(p.Children.only(l),Dt(Dt({},E),{ref:b})):p.createElement(v,Dt({},E,{className:d,ref:b}),l))});nx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nx.classNames={fullWidth:tl,zeroRight:el};var YH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YH();return t&&e.setAttribute("nonce",t),e}function GH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JH=function(){var e=0,t=null;return{add:function(s){e==0&&(t=KH())&&(GH(t,s),XH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QH=function(){var e=JH();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},sx=function(){var e=QH(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},ZH={left:0,top:0,right:0,gap:0},_g=function(e){return parseInt(e||"",10)||0},ez=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[_g(s),_g(r),_g(a)]},tz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZH;var t=ez(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},nz=sx(),nl="data-scroll-locked",sz=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(UH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(el,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(el," .").concat(el,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tl," .").concat(tl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat(BH,": ").concat(l,`px;
  }
`)},O1=function(){var e=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(e)?e:0},rz=function(){p.useEffect(function(){return document.body.setAttribute(nl,(O1()+1).toString()),function(){var e=O1()-1;e<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,e.toString())}},[])},Fw=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;rz();var o=p.useMemo(function(){return tz(a)},[a]);return p.createElement(nz,{styles:sz(o,!t,a,s?"":"!important")})},Xy=!1;if(typeof window<"u")try{var om=Object.defineProperty({},"passive",{get:function(){return Xy=!0,!0}});window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{Xy=!1}var pi=Xy?{passive:!1}:!1,az=function(e){return e.tagName==="TEXTAREA"},yD=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!az(e)&&s[t]==="visible")},oz=function(e){return yD(e,"overflowY")},iz=function(e){return yD(e,"overflowX")},L1=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=jD(e,r);if(a){var o=wD(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},lz=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},cz=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},jD=function(e,t){return e==="v"?oz(t):iz(t)},wD=function(e,t){return e==="v"?lz(t):cz(t)},dz=function(e,t){return e==="h"&&t==="rtl"?-1:1},uz=function(e,t,s,r,a){var o=dz(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,d=t.contains(l),c=!1,u=i>0,h=0,m=0;do{var f=wD(e,l),y=f[0],x=f[1],w=f[2],v=x-w-o*y;(y||v)&&jD(e,l)&&(h+=v,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(c=!0),c},im=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$1=function(e){return[e.deltaX,e.deltaY]},V1=function(e){return e&&"current"in e?e.current:e},hz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pz=0,fi=[];function fz(e){var t=p.useRef([]),s=p.useRef([0,0]),r=p.useRef(),a=p.useState(pz++)[0],o=p.useState(sx)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Aw([e.lockRef.current],(e.shards||[]).map(V1),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=im(x),g=s.current,j="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,C=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var T=L1(C,E);if(!T)return!0;if(T?b=C:(b=C==="v"?"h":"v",T=L1(C,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(j||N)&&(r.current=b),!b)return!0;var F=r.current||b;return uz(F,w,x,F==="h"?j:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!fi.length||fi[fi.length-1]!==o)){var v="deltaY"in w?$1(w):im(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&hz(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var j=(i.current.shards||[]).map(V1).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var j={name:x,delta:w,target:v,should:g,shadowParent:xz(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=p.useCallback(function(x){s.current=im(x),r.current=void 0},[]),h=p.useCallback(function(x){c(x.type,$1(x),x.target,l(x,e.lockRef.current))},[]),m=p.useCallback(function(x){c(x.type,im(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return fi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,pi),document.addEventListener("touchmove",d,pi),document.addEventListener("touchstart",u,pi),function(){fi=fi.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,pi),document.removeEventListener("touchmove",d,pi),document.removeEventListener("touchstart",u,pi)}},[]);var f=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:mz(a)}):null,f?p.createElement(Fw,{gapMode:e.gapMode}):null)}function xz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gz=Mw(vD,fz);var rx=p.forwardRef(function(e,t){return p.createElement(nx,Dt({},e,{ref:t,sideCar:gz}))});rx.classNames=nx.classNames;var Jy=["Enter"," "],vz=["ArrowDown","PageUp","Home"],ND=["ArrowUp","PageDown","End"],yz=[...vz,...ND],jz={ltr:[...Jy,"ArrowRight"],rtl:[...Jy,"ArrowLeft"]},wz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vu="Menu",[_d,Nz,bz]=cu(vu),[ni,bD]=as(vu,[bz,Yl,ex]),ax=Yl(),SD=ex(),[Sz,si]=ni(vu),[Cz,yu]=ni(vu),CD=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=ax(t),[d,c]=p.useState(null),u=p.useRef(!1),h=yt(o),m=Xl(a);return p.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx($A,{...l,children:n.jsx(Sz,{scope:t,open:s,onOpenChange:h,content:d,onContentChange:c,children:n.jsx(Cz,{scope:t,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:i,children:r})})})};CD.displayName=vu;var Ez="MenuAnchor",_w=p.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=ax(s);return n.jsx(Nw,{...a,...r,ref:t})});_w.displayName=Ez;var Iw="MenuPortal",[Tz,ED]=ni(Iw,{forceMount:void 0}),TD=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,o=si(Iw,t);return n.jsx(Tz,{scope:t,forceMount:s,children:n.jsx(Qt,{present:s||o.open,children:n.jsx(du,{asChild:!0,container:a,children:r})})})};TD.displayName=Iw;var ms="MenuContent",[Pz,Ow]=ni(ms),PD=p.forwardRef((e,t)=>{const s=ED(ms,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=si(ms,e.__scopeMenu),i=yu(ms,e.__scopeMenu);return n.jsx(_d.Provider,{scope:e.__scopeMenu,children:n.jsx(Qt,{present:r||o.open,children:n.jsx(_d.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(kz,{...a,ref:t}):n.jsx(Az,{...a,ref:t})})})})}),kz=p.forwardRef((e,t)=>{const s=si(ms,e.__scopeMenu),r=p.useRef(null),a=Ae(t,r);return p.useEffect(()=>{const o=r.current;if(o)return gu(o)},[]),n.jsx(Lw,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Az=p.forwardRef((e,t)=>{const s=si(ms,e.__scopeMenu);return n.jsx(Lw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Lw=p.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:y,...x}=e,w=si(ms,s),v=yu(ms,s),g=ax(s),j=SD(s),N=Nz(s),[b,E]=p.useState(null),C=p.useRef(null),T=Ae(t,C,w.onContentChange),F=p.useRef(0),V=p.useRef(""),k=p.useRef(0),M=p.useRef(null),$=p.useRef("right"),D=p.useRef(0),P=y?rx:p.Fragment,L=y?{as:Oa,allowPinchZoom:!0}:void 0,O=_=>{var H,ae;const z=V.current+_,B=N().filter(de=>!de.disabled),U=document.activeElement,K=(H=B.find(de=>de.ref.current===U))==null?void 0:H.textValue,Y=B.map(de=>de.textValue),X=Bz(Y,z,K),G=(ae=B.find(de=>de.textValue===X))==null?void 0:ae.ref.current;(function de(xe){V.current=xe,window.clearTimeout(F.current),xe!==""&&(F.current=window.setTimeout(()=>de(""),1e3))})(z),G&&setTimeout(()=>G.focus())};p.useEffect(()=>()=>window.clearTimeout(F.current),[]),kw();const R=p.useCallback(_=>{var B,U;return $.current===((B=M.current)==null?void 0:B.side)&&zz(_,(U=M.current)==null?void 0:U.area)},[]);return n.jsx(Pz,{scope:s,searchRef:V,onItemEnter:p.useCallback(_=>{R(_)&&_.preventDefault()},[R]),onItemLeave:p.useCallback(_=>{var z;R(_)||((z=C.current)==null||z.focus(),E(null))},[R]),onTriggerLeave:p.useCallback(_=>{R(_)&&_.preventDefault()},[R]),pointerGraceTimerRef:k,onPointerGraceIntentChange:p.useCallback(_=>{M.current=_},[]),children:n.jsx(P,{...L,children:n.jsx(Qf,{asChild:!0,trapped:a,onMountAutoFocus:me(o,_=>{var z;_.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:n.jsx(pD,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:E,onEntryFocus:me(d,_=>{v.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(bw,{role:"menu","aria-orientation":"vertical","data-state":zD(w.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:me(x.onKeyDown,_=>{const B=_.target.closest("[data-radix-menu-content]")===_.currentTarget,U=_.ctrlKey||_.altKey||_.metaKey,K=_.key.length===1;B&&(_.key==="Tab"&&_.preventDefault(),!U&&K&&O(_.key));const Y=C.current;if(_.target!==Y||!yz.includes(_.key))return;_.preventDefault();const G=N().filter(H=>!H.disabled).map(H=>H.ref.current);ND.includes(_.key)&&G.reverse(),Vz(G)}),onBlur:me(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(F.current),V.current="")}),onPointerMove:me(e.onPointerMove,Id(_=>{const z=_.target,B=D.current!==_.clientX;if(_.currentTarget.contains(z)&&B){const U=_.clientX>D.current?"right":"left";$.current=U,D.current=_.clientX}}))})})})})})})});PD.displayName=ms;var Dz="MenuGroup",$w=p.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ce.div,{role:"group",...r,ref:t})});$w.displayName=Dz;var Rz="MenuLabel",kD=p.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ce.div,{...r,ref:t})});kD.displayName=Rz;var Bp="MenuItem",U1="menu.itemSelect",ox=p.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,o=p.useRef(null),i=yu(Bp,e.__scopeMenu),l=Ow(Bp,e.__scopeMenu),d=Ae(t,o),c=p.useRef(!1),u=()=>{const h=o.current;if(!s&&h){const m=new CustomEvent(U1,{bubbles:!0,cancelable:!0});h.addEventListener(U1,f=>r==null?void 0:r(f),{once:!0}),lw(h,m),m.defaultPrevented?c.current=!1:i.onClose()}};return n.jsx(AD,{...a,ref:d,disabled:s,onClick:me(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),c.current=!0},onPointerUp:me(e.onPointerUp,h=>{var m;c.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:me(e.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||Jy.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ox.displayName=Bp;var AD=p.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=e,i=Ow(Bp,s),l=SD(s),d=p.useRef(null),c=Ae(t,d),[u,h]=p.useState(!1),[m,f]=p.useState("");return p.useEffect(()=>{const y=d.current;y&&f((y.textContent??"").trim())},[o.children]),n.jsx(_d.ItemSlot,{scope:s,disabled:r,textValue:a??m,children:n.jsx(fD,{asChild:!0,...l,focusable:!r,children:n.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:me(e.onPointerMove,Id(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Id(y=>i.onItemLeave(y))),onFocus:me(e.onFocus,()=>h(!0)),onBlur:me(e.onBlur,()=>h(!1))})})})}),Mz="MenuCheckboxItem",DD=p.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(ID,{scope:e.__scopeMenu,checked:s,children:n.jsx(ox,{role:"menuitemcheckbox","aria-checked":Hp(s)?"mixed":s,...a,ref:t,"data-state":Uw(s),onSelect:me(a.onSelect,()=>r==null?void 0:r(Hp(s)?!0:!s),{checkForDefaultPrevented:!1})})})});DD.displayName=Mz;var RD="MenuRadioGroup",[Fz,_z]=ni(RD,{value:void 0,onValueChange:()=>{}}),MD=p.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,o=yt(r);return n.jsx(Fz,{scope:e.__scopeMenu,value:s,onValueChange:o,children:n.jsx($w,{...a,ref:t})})});MD.displayName=RD;var FD="MenuRadioItem",_D=p.forwardRef((e,t)=>{const{value:s,...r}=e,a=_z(FD,e.__scopeMenu),o=s===a.value;return n.jsx(ID,{scope:e.__scopeMenu,checked:o,children:n.jsx(ox,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Uw(o),onSelect:me(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});_D.displayName=FD;var Vw="MenuItemIndicator",[ID,Iz]=ni(Vw,{checked:!1}),OD=p.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,o=Iz(Vw,s);return n.jsx(Qt,{present:r||Hp(o.checked)||o.checked===!0,children:n.jsx(Ce.span,{...a,ref:t,"data-state":Uw(o.checked)})})});OD.displayName=Vw;var Oz="MenuSeparator",LD=p.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});LD.displayName=Oz;var Lz="MenuArrow",$D=p.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=ax(s);return n.jsx(Sw,{...a,...r,ref:t})});$D.displayName=Lz;var $z="MenuSub",[Fpe,VD]=ni($z),$c="MenuSubTrigger",UD=p.forwardRef((e,t)=>{const s=si($c,e.__scopeMenu),r=yu($c,e.__scopeMenu),a=VD($c,e.__scopeMenu),o=Ow($c,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),d(null)}},[l,d]),n.jsx(_w,{asChild:!0,...c,children:n.jsx(AD,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":zD(s.open),...e,ref:Of(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Id(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:me(e.onPointerLeave,Id(h=>{var f,y;u();const m=(f=s.content)==null?void 0:f.getBoundingClientRect();if(m){const x=(y=s.content)==null?void 0:y.dataset.side,w=x==="right",v=w?-5:5,g=m[w?"left":"right"],j=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:g,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:g,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,h=>{var f;const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||jz[r.dir].includes(h.key)&&(s.onOpenChange(!0),(f=s.content)==null||f.focus(),h.preventDefault())})})})});UD.displayName=$c;var BD="MenuSubContent",HD=p.forwardRef((e,t)=>{const s=ED(ms,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=si(ms,e.__scopeMenu),i=yu(ms,e.__scopeMenu),l=VD(BD,e.__scopeMenu),d=p.useRef(null),c=Ae(t,d);return n.jsx(_d.Provider,{scope:e.__scopeMenu,children:n.jsx(Qt,{present:r||o.open,children:n.jsx(_d.Slot,{scope:e.__scopeMenu,children:n.jsx(Lw,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=d.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:me(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:me(e.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),m=wz[i.dir].includes(u.key);h&&m&&(o.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});HD.displayName=BD;function zD(e){return e?"open":"closed"}function Hp(e){return e==="indeterminate"}function Uw(e){return Hp(e)?"indeterminate":e?"checked":"unchecked"}function Vz(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function Uz(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function Bz(e,t,s){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=Uz(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==s));const d=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function Hz(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,d=t[o].y,c=t[i].x,u=t[i].y;d>r!=u>r&&s<(c-l)*(r-d)/(u-d)+l&&(a=!a)}return a}function zz(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return Hz(s,t)}function Id(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qz=CD,Wz=_w,Yz=TD,Kz=PD,Gz=$w,Xz=kD,Jz=ox,Qz=DD,Zz=MD,e9=_D,t9=OD,n9=LD,s9=$D,r9=UD,a9=HD,Bw="DropdownMenu",[o9,_pe]=as(Bw,[bD]),Nn=bD(),[i9,qD]=o9(Bw),WD=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=Nn(t),c=p.useRef(null),[u=!1,h]=Ls({prop:a,defaultProp:o,onChange:i});return n.jsx(i9,{scope:t,triggerId:Is(),triggerRef:c,contentId:Is(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(qz,{...d,open:u,onOpenChange:h,dir:r,modal:l,children:s})})};WD.displayName=Bw;var YD="DropdownMenuTrigger",KD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,o=qD(YD,s),i=Nn(s);return n.jsx(Wz,{asChild:!0,...i,children:n.jsx(Ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Of(t,o.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});KD.displayName=YD;var l9="DropdownMenuPortal",GD=e=>{const{__scopeDropdownMenu:t,...s}=e,r=Nn(t);return n.jsx(Yz,{...r,...s})};GD.displayName=l9;var XD="DropdownMenuContent",JD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=qD(XD,s),o=Nn(s),i=p.useRef(!1);return n.jsx(Kz,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const d=l.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,u=d.button===2||c;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JD.displayName=XD;var c9="DropdownMenuGroup",d9=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(Gz,{...a,...r,ref:t})});d9.displayName=c9;var u9="DropdownMenuLabel",QD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(Xz,{...a,...r,ref:t})});QD.displayName=u9;var h9="DropdownMenuItem",ZD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(Jz,{...a,...r,ref:t})});ZD.displayName=h9;var m9="DropdownMenuCheckboxItem",eR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(Qz,{...a,...r,ref:t})});eR.displayName=m9;var p9="DropdownMenuRadioGroup",f9=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(Zz,{...a,...r,ref:t})});f9.displayName=p9;var x9="DropdownMenuRadioItem",tR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(e9,{...a,...r,ref:t})});tR.displayName=x9;var g9="DropdownMenuItemIndicator",nR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(t9,{...a,...r,ref:t})});nR.displayName=g9;var v9="DropdownMenuSeparator",sR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(n9,{...a,...r,ref:t})});sR.displayName=v9;var y9="DropdownMenuArrow",j9=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(s9,{...a,...r,ref:t})});j9.displayName=y9;var w9="DropdownMenuSubTrigger",rR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(r9,{...a,...r,ref:t})});rR.displayName=w9;var N9="DropdownMenuSubContent",aR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Nn(s);return n.jsx(a9,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aR.displayName=N9;var b9=WD,S9=KD,C9=GD,oR=JD,iR=QD,lR=ZD,cR=eR,dR=tR,uR=nR,hR=sR,mR=rR,pR=aR;const E9=b9,T9=S9,P9=p.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(mR,{ref:a,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(Zn,{className:"ml-auto h-4 w-4"})]}));P9.displayName=mR.displayName;const k9=p.forwardRef(({className:e,...t},s)=>n.jsx(pR,{ref:s,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));k9.displayName=pR.displayName;const fR=p.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(C9,{children:n.jsx(oR,{ref:r,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));fR.displayName=oR.displayName;const Wm=p.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(lR,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Wm.displayName=lR.displayName;const A9=p.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(cR,{ref:a,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(uR,{children:n.jsx(mu,{className:"h-4 w-4"})})}),t]}));A9.displayName=cR.displayName;const D9=p.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(dR,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(uR,{children:n.jsx(Lc,{className:"h-2 w-2 fill-current"})})}),t]}));D9.displayName=dR.displayName;const R9=p.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(iR,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));R9.displayName=iR.displayName;const xR=p.forwardRef(({className:e,...t},s)=>n.jsx(hR,{ref:s,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));xR.displayName=hR.displayName;const M9=()=>{const{user:e,logout:t}=ti();return n.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:n.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IL"})}),n.jsx("h1",{className:"text-xl font-semibold text-foreground bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[n.jsx(Wk,{className:"h-4 w-4"}),n.jsx(le,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),n.jsxs(E9,{children:[n.jsx(T9,{asChild:!0,children:n.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(gl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:e==null?void 0:e.username})]})}),n.jsxs(fR,{align:"end",className:"w-56",children:[n.jsxs(Wm,{children:[n.jsx(gl,{className:"mr-2 h-4 w-4"}),"Profile"]}),n.jsxs(Wm,{children:[n.jsx(ut,{className:"mr-2 h-4 w-4"}),"Settings"]}),n.jsx(xR,{}),n.jsxs(Wm,{onClick:t,className:"text-destructive",children:[n.jsx(yV,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},Ec={getEnvironmentConfig:async()=>{try{const e=await Q.get("/system/config/environment");return e.data&&typeof e.data=="object"&&"type"in e.data?e.data:(console.warn("Invalid environment config response, using defaults"),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}})}catch(e){return console.error("Error fetching environment config:",e),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}}},getPermissions:async()=>{try{const e=await Q.get("/system/config/permissions");return e.data&&typeof e.data=="object"?e.data:(console.warn("Invalid permissions response, using defaults"),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1})}catch(e){return console.error("Error fetching permissions:",e),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}},updateEnvironmentType:async e=>(await Q.put("/system/config/environment",{environmentType:e})).data,checkPermission:async e=>(await Q.get("/system/config/check-permission",{params:{action:e}})).data.allowed,checkUIVisibility:async e=>(await Q.get("/system/config/ui-visibility",{params:{element:e}})).data.visible},ju=()=>{const[e,t]=p.useState(void 0),[s,r]=p.useState(void 0),[a,o]=p.useState(!0),i=async()=>{try{const[u,h]=await Promise.all([Ec.getEnvironmentConfig(),Ec.getPermissions()]);t(u),r(h)}catch(u){console.error("Error fetching environment data:",u),t({type:"DEVELOPMENT",name:"Development"}),r({isAdmin:!1,canWrite:!0,canRead:!0})}finally{o(!1)}};return p.useEffect(()=>{i()},[]),{environmentInfo:e,permissions:s,isLoading:a,checkPermission:async u=>{try{return await Ec.checkPermission(u)}catch{return!1}},checkUIVisibility:async u=>{try{return await Ec.checkUIVisibility(u)}catch{return!0}},updateEnvironmentType:async u=>{const h=await Ec.updateEnvironmentType(u);return await i(),h},isDevelopment:(e==null?void 0:e.type)==="DEVELOPMENT",isQA:(e==null?void 0:e.type)==="QUALITY_ASSURANCE",isProduction:(e==null?void 0:e.type)==="PRODUCTION"}},Ig=[{name:"Dashboard",href:"/dashboard",icon:gV,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Create Flow",href:"/create-flow",icon:Vs,roles:["administrator","integrator"],requiresDevEnv:!0},{name:"Create Data Structures",href:"/data-structures",icon:nd,roles:["administrator","integrator"],requiresDevEnv:!0},{name:"Create Communication Adapter",href:"/create-communication-adapter",icon:Zk,roles:["administrator","integrator"],requiresDevEnv:!0},{name:"Business Components",href:"/business-components",icon:Fy,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Interface Management",href:"/interfaces",icon:Bm,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Message Monitor",href:"/messages",icon:En,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Channel Monitor",href:"/channels",icon:La,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Admin Panel",href:"/admin",icon:an,roles:["administrator"],requiresDevEnv:!1},{name:"Settings",href:"/settings",icon:ut,roles:["administrator"],requiresDevEnv:!1}],F9=()=>{const[e,t]=p.useState(!1),{user:s}=ti(),{isDevelopment:r,permissions:a}=ju();console.log("Sidebar - user:",s),console.log("Sidebar - user role:",s==null?void 0:s.role),console.log("Sidebar - permissions:",a),console.log("Sidebar - isDevelopment:",r);const o=p.useMemo(()=>{if(!Array.isArray(Ig))return console.error("Navigation is not an array:",Ig),[];try{return Ig.filter(i=>{console.log("Filtering item:",i.name,"roles:",i.roles,"user role:",s==null?void 0:s.role);const l=(s==null?void 0:s.role)==="dministrator"?"administrator":s==null?void 0:s.role;return!s||!l||!i.roles.includes(l)?(console.log("Item filtered out - role mismatch"),!1):i.requiresDevEnv&&!r?!1:i.name==="Admin Panel"||i.name==="Settings"?(a==null?void 0:a.isAdmin)||l==="administrator":!0})}catch(i){return console.error("Error filtering navigation:",i),[]}},[s,r,a]);return console.log("Sidebar - filteredNavigation:",o),n.jsx("div",{className:ce("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-4 border-b border-border",children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?n.jsx(Zn,{className:"h-4 w-4 transition-transform duration-300"}):n.jsx(Yk,{className:"h-4 w-4 transition-transform duration-300"})})}),n.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(i=>n.jsxs(aH,{to:i.href,className:({isActive:l})=>ce("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",l?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[n.jsx(i.icon,{className:ce("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&n.jsx("span",{className:"transition-all duration-300",children:i.name})]},i.name))}),n.jsx("div",{className:"p-4 border-t border-border",children:n.jsx("div",{className:ce("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Version 1.0.0"}),n.jsx("div",{children:" 2024 IntegrixLab"})]})})})]})})},ia=[],_9=10,Jl=()=>{const e=ys(),t=jr(),s=p.useRef(null);return p.useEffect(()=>{t.pathname!==s.current&&(ia.push({pathname:t.pathname,state:t.state,timestamp:Date.now()}),ia.length>_9&&ia.shift(),s.current=t.pathname)},[t]),{navigateBack:(i="/dashboard")=>{const l=ia.filter(d=>d.pathname!==t.pathname);if(l.length>0){const d=l[l.length-1];e(d.pathname,{state:d.state})}else e(i)},isDirectNavigation:()=>{var u;if(ia.length<2)return!0;const i=t.pathname,l=(u=ia[ia.length-2])==null?void 0:u.pathname;if(!l)return!0;const d=i.split("/")[1],c=l==null?void 0:l.split("/")[1];return d!==c},getBreadcrumbs:()=>{const i=t.pathname.split("/").filter(Boolean),l=[{label:"Home",path:"/"}];let d="";return i.forEach(c=>{d+=`/${c}`,l.push({label:I9(c),path:d})}),l},currentPath:t.pathname,hasHistory:ia.length>1}};function I9(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const O9=()=>{const{getBreadcrumbs:e,currentPath:t}=Jl(),s=e();return t==="/login"||t==="/"?null:n.jsx("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground px-6 py-2 border-b",children:s.map((r,a)=>{const o=a===s.length-1,i=a===0;return n.jsxs("div",{className:"flex items-center",children:[!i&&n.jsx(Zn,{className:"h-4 w-4 mx-1"}),o?n.jsxs("span",{className:"font-medium text-foreground flex items-center",children:[i&&n.jsx(Iy,{className:"h-4 w-4 mr-1"}),r.label]}):n.jsxs(aD,{to:r.path,className:ce("hover:text-foreground transition-colors flex items-center","hover:underline"),children:[i&&n.jsx(Iy,{className:"h-4 w-4 mr-1"}),r.label]})]},r.path)})})},L9=hu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),st=p.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:ce(L9({variant:t}),e),...s}));st.displayName="Alert";const Dr=p.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));Dr.displayName="AlertTitle";const rt=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));rt.displayName="AlertDescription";const $9=()=>{const{tokenExpiry:e,logout:t}=ti(),{toast:s}=nt(),[r,a]=p.useState(!1),[o,i]=p.useState(0);p.useEffect(()=>{if(!e)return;const c=()=>{const h=e-Date.now();i(h),h<=10*60*1e3&&h>0?a(!0):a(!1),h<=5*60*1e3&&h>4*60*1e3&&s({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),h<=1*60*1e3&&h>30*1e3&&s({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[e,s]);const l=()=>{a(!1),s({title:"Session Extended",description:"Your session has been extended."})},d=c=>{const u=Math.floor(c/6e4),h=Math.floor(c%(1e3*60)/1e3);return`${u}:${h.toString().padStart(2,"0")}`};return!r||o<=0?null:n.jsx("div",{className:"fixed top-4 right-4 z-50 w-80",children:n.jsxs(st,{className:"border-warning bg-warning/10",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsxs(rt,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Session expires in:"}),n.jsx("p",{className:"text-lg font-mono",children:d(o)})]}),n.jsxs(W,{size:"sm",variant:"outline",onClick:l,className:"ml-2",children:[n.jsx(qt,{className:"h-3 w-3 mr-1"}),"Extend"]})]})]})})};var Hw="Dialog",[gR,vR]=as(Hw),[V9,Ws]=gR(Hw),yR=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=Ls({prop:r,defaultProp:a,onChange:o});return n.jsx(V9,{scope:t,triggerRef:l,contentRef:d,contentId:Is(),titleId:Is(),descriptionId:Is(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:i,children:s})};yR.displayName=Hw;var jR="DialogTrigger",wR=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ws(jR,s),o=Ae(t,a.triggerRef);return n.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ww(a.open),...r,ref:o,onClick:me(e.onClick,a.onOpenToggle)})});wR.displayName=jR;var zw="DialogPortal",[U9,NR]=gR(zw,{forceMount:void 0}),bR=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,o=Ws(zw,t);return n.jsx(U9,{scope:t,forceMount:s,children:p.Children.map(r,i=>n.jsx(Qt,{present:s||o.open,children:n.jsx(du,{asChild:!0,container:a,children:i})}))})};bR.displayName=zw;var zp="DialogOverlay",SR=p.forwardRef((e,t)=>{const s=NR(zp,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Ws(zp,e.__scopeDialog);return o.modal?n.jsx(Qt,{present:r||o.open,children:n.jsx(B9,{...a,ref:t})}):null});SR.displayName=zp;var B9=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ws(zp,s);return n.jsx(rx,{as:Oa,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ce.div,{"data-state":Ww(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",CR=p.forwardRef((e,t)=>{const s=NR(Io,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Ws(Io,e.__scopeDialog);return n.jsx(Qt,{present:r||o.open,children:o.modal?n.jsx(H9,{...a,ref:t}):n.jsx(z9,{...a,ref:t})})});CR.displayName=Io;var H9=p.forwardRef((e,t)=>{const s=Ws(Io,e.__scopeDialog),r=p.useRef(null),a=Ae(t,s.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return gu(o)},[]),n.jsx(ER,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault())})}),z9=p.forwardRef((e,t)=>{const s=Ws(Io,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return n.jsx(ER,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=s.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),ER=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Ws(Io,s),d=p.useRef(null),c=Ae(t,d);return kw(),n.jsxs(n.Fragment,{children:[n.jsx(Qf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(Vl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ww(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(W9,{titleId:l.titleId}),n.jsx(K9,{contentRef:d,descriptionId:l.descriptionId})]})]})}),qw="DialogTitle",TR=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ws(qw,s);return n.jsx(Ce.h2,{id:a.titleId,...r,ref:t})});TR.displayName=qw;var PR="DialogDescription",kR=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ws(PR,s);return n.jsx(Ce.p,{id:a.descriptionId,...r,ref:t})});kR.displayName=PR;var AR="DialogClose",DR=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ws(AR,s);return n.jsx(Ce.button,{type:"button",...r,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});DR.displayName=AR;function Ww(e){return e?"open":"closed"}var RR="DialogTitleWarning",[q9,MR]=y6(RR,{contentName:Io,titleName:qw,docsSlug:"dialog"}),W9=({titleId:e})=>{const t=MR(RR),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Y9="DialogDescriptionWarning",K9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MR(Y9).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},FR=yR,_R=wR,IR=bR,Yw=SR,Kw=CR,Gw=TR,Xw=kR,Jw=DR,OR="AlertDialog",[G9,Ipe]=as(OR,[vR]),Jr=vR(),LR=e=>{const{__scopeAlertDialog:t,...s}=e,r=Jr(t);return n.jsx(FR,{...r,...s,modal:!0})};LR.displayName=OR;var X9="AlertDialogTrigger",$R=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=Jr(s);return n.jsx(_R,{...a,...r,ref:t})});$R.displayName=X9;var J9="AlertDialogPortal",VR=e=>{const{__scopeAlertDialog:t,...s}=e,r=Jr(t);return n.jsx(IR,{...r,...s})};VR.displayName=J9;var Q9="AlertDialogOverlay",UR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=Jr(s);return n.jsx(Yw,{...a,...r,ref:t})});UR.displayName=Q9;var sl="AlertDialogContent",[Z9,e7]=G9(sl),BR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:r,...a}=e,o=Jr(s),i=p.useRef(null),l=Ae(t,i),d=p.useRef(null);return n.jsx(q9,{contentName:sl,titleName:HR,docsSlug:"alert-dialog",children:n.jsx(Z9,{scope:s,cancelRef:d,children:n.jsxs(Kw,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:me(a.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=d.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[n.jsx(iw,{children:r}),n.jsx(n7,{contentRef:i})]})})})});BR.displayName=sl;var HR="AlertDialogTitle",zR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=Jr(s);return n.jsx(Gw,{...a,...r,ref:t})});zR.displayName=HR;var qR="AlertDialogDescription",WR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=Jr(s);return n.jsx(Xw,{...a,...r,ref:t})});WR.displayName=qR;var t7="AlertDialogAction",YR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=Jr(s);return n.jsx(Jw,{...a,...r,ref:t})});YR.displayName=t7;var KR="AlertDialogCancel",GR=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,{cancelRef:a}=e7(KR,s),o=Jr(s),i=Ae(t,a);return n.jsx(Jw,{...o,...r,ref:i})});GR.displayName=KR;var n7=({contentRef:e})=>{const t=`\`${sl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sl}\` by passing a \`${qR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},s7=LR,r7=$R,a7=VR,XR=UR,JR=BR,QR=YR,ZR=GR,eM=zR,tM=WR;const ix=s7,o7=r7,i7=a7,nM=p.forwardRef(({className:e,...t},s)=>n.jsx(XR,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));nM.displayName=XR.displayName;const wu=p.forwardRef(({className:e,...t},s)=>n.jsxs(i7,{children:[n.jsx(nM,{}),n.jsx(JR,{ref:s,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wu.displayName=JR.displayName;const Nu=({className:e,...t})=>n.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nu.displayName="AlertDialogHeader";const bu=({className:e,...t})=>n.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bu.displayName="AlertDialogFooter";const Su=p.forwardRef(({className:e,...t},s)=>n.jsx(eM,{ref:s,className:ce("text-lg font-semibold",e),...t}));Su.displayName=eM.displayName;const Cu=p.forwardRef(({className:e,...t},s)=>n.jsx(tM,{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));Cu.displayName=tM.displayName;const Eu=p.forwardRef(({className:e,...t},s)=>n.jsx(QR,{ref:s,className:ce(Fd(),e),...t}));Eu.displayName=QR.displayName;const Tu=p.forwardRef(({className:e,...t},s)=>n.jsx(ZR,{ref:s,className:ce(Fd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Tu.displayName=ZR.displayName;const l7=()=>{const{tokenExpiry:e,checkSession:t,logout:s}=ti(),[r,a]=p.useState(!1),[o,i]=p.useState(0);p.useEffect(()=>{if(!e)return;const c=()=>{const h=Date.now(),m=e-h,f=5*60*1e3;m<=0?s():m<=f&&!r&&(a(!0),i(Math.floor(m/1e3)))};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[e,s,r]),p.useEffect(()=>{if(!r||o<=0)return;const c=setInterval(()=>{i(u=>u<=1?(s(),0):u-1)},1e3);return()=>clearInterval(c)},[r,s]);const l=async()=>{try{await t()&&(a(!1),i(0))}catch(c){console.error("Failed to extend session:",c),s()}},d=c=>{const u=Math.floor(c/60),h=c%60;return`${u}:${h.toString().padStart(2,"0")}`};return n.jsx(ix,{open:r,onOpenChange:a,children:n.jsxs(wu,{children:[n.jsxs(Nu,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5 text-yellow-500"}),n.jsx(Su,{children:"Session Expiring Soon"})]}),n.jsxs(Cu,{children:["Your session will expire in ",d(o),". Would you like to extend your session or logout?"]})]}),n.jsxs(bu,{children:[n.jsx(Tu,{onClick:s,children:"Logout"}),n.jsx(Eu,{onClick:l,children:"Extend Session"})]})]})})},c7=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(M9,{}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsx(F9,{}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx(O9,{}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx(sD,{})})]})]}),n.jsx($9,{}),n.jsx(l7,{})]}),I=p.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));I.displayName="Input";var d7="Label",sM=p.forwardRef((e,t)=>n.jsx(Ce.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));sM.displayName=d7;var rM=sM;const u7=hu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=p.forwardRef(({className:e,...t},s)=>n.jsx(rM,{ref:s,className:ce(u7(),e),...t}));S.displayName=rM.displayName;const J=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const oe=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const ie=p.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const ge=p.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const re=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ce("p-6 pt-0",e),...t}));re.displayName="CardContent";const h7=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ce("flex items-center p-6 pt-0",e),...t}));h7.displayName="CardFooter";const m7=()=>{var m,f;const[e,t]=p.useState(""),[s,r]=p.useState(""),[a,o]=p.useState(!1),{login:i,isAuthenticated:l}=ti(),{toast:d}=nt(),u=((f=(m=jr().state)==null?void 0:m.from)==null?void 0:f.pathname)||"/dashboard";if(l)return n.jsx(Pw,{to:u,replace:!0});const h=async y=>{y.preventDefault(),o(!0),await i(e,s,u)||d({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),o(!1)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary relative overflow-hidden p-4",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),n.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),n.jsx("div",{className:"w-full max-w-md relative z-10",children:n.jsxs(J,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[n.jsxs(oe,{className:"text-center space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-primary flex items-center justify-center animate-glow",children:n.jsx(Kn,{className:"h-8 w-8 text-primary-foreground"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ie,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"IntegrixLab"}),n.jsx(ge,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),n.jsx(re,{className:"space-y-6 animate-slide-up",children:n.jsxs("form",{onSubmit:h,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(gl,{className:"h-4 w-4"}),"Username"]}),n.jsx(I,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:y=>t(y.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(xV,{className:"h-4 w-4"}),"Password"]}),n.jsx(I,{id:"password",type:"password",placeholder:"Enter your password",value:s,onChange:y=>r(y.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),n.jsx(W,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx(Rp,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function p7(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];function c(h){const{scope:m,children:f,...y}=h,x=(m==null?void 0:m[e][d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})}function u(h,m){const f=(m==null?void 0:m[e][d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,f7(a,...t)]}function f7(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Qw="Progress",Zw=100,[x7,Ope]=p7(Qw),[g7,v7]=x7(Qw),aM=p.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:o=y7,...i}=e;(a||a===0)&&!B1(a)&&console.error(j7(`${a}`,"Progress"));const l=B1(a)?a:Zw;r!==null&&!H1(r,l)&&console.error(w7(`${r}`,"Progress"));const d=H1(r,l)?r:null,c=qp(d)?o(d,l):void 0;return n.jsx(g7,{scope:s,value:d,max:l,children:n.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":qp(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":lM(d,l),"data-value":d??void 0,"data-max":l,...i,ref:t})})});aM.displayName=Qw;var oM="ProgressIndicator",iM=p.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=v7(oM,s);return n.jsx(Ce.div,{"data-state":lM(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});iM.displayName=oM;function y7(e,t){return`${Math.round(e/t*100)}%`}function lM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function qp(e){return typeof e=="number"}function B1(e){return qp(e)&&!isNaN(e)&&e>0}function H1(e,t){return qp(e)&&!isNaN(e)&&e<=t&&e>=0}function j7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zw}\`.`}function w7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cM=aM,N7=iM;const Pu=p.forwardRef(({className:e,value:t,...s},r)=>n.jsx(cM,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(N7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Pu.displayName=cM.displayName;function Od(e,[t,s]){return Math.min(s,Math.max(t,e))}function lx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var b7=[" ","Enter","ArrowUp","ArrowDown"],S7=[" ","Enter"],ku="Select",[cx,dx,C7]=cu(ku),[Ql,Lpe]=as(ku,[C7,Yl]),ux=Yl(),[E7,Qa]=Ql(ku),[T7,P7]=Ql(ku),dM=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:d,dir:c,name:u,autoComplete:h,disabled:m,required:f,form:y}=e,x=ux(t),[w,v]=p.useState(null),[g,j]=p.useState(null),[N,b]=p.useState(!1),E=Xl(c),[C=!1,T]=Ls({prop:r,defaultProp:a,onChange:o}),[F,V]=Ls({prop:i,defaultProp:l,onChange:d}),k=p.useRef(null),M=w?y||!!w.closest("form"):!0,[$,D]=p.useState(new Set),P=Array.from($).map(L=>L.props.value).join(";");return n.jsx($A,{...x,children:n.jsxs(E7,{required:f,scope:t,trigger:w,onTriggerChange:v,valueNode:g,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:Is(),value:F,onValueChange:V,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:k,disabled:m,children:[n.jsx(cx.Provider,{scope:t,children:n.jsx(T7,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{D(O=>new Set(O).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{D(O=>{const R=new Set(O);return R.delete(L),R})},[]),children:s})}),M?n.jsxs(_M,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:F,onChange:L=>V(L.target.value),disabled:m,form:y,children:[F===void 0?n.jsx("option",{value:""}):null,Array.from($)]},P):null]})})};dM.displayName=ku;var uM="SelectTrigger",hM=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,o=ux(s),i=Qa(uM,s),l=i.disabled||r,d=Ae(t,i.onTriggerChange),c=dx(s),u=p.useRef("touch"),[h,m,f]=IM(x=>{const w=c().filter(j=>!j.disabled),v=w.find(j=>j.value===i.value),g=OM(w,x,v);g!==void 0&&i.onValueChange(g.value)}),y=x=>{l||(i.onOpenChange(!0),f()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(Nw,{asChild:!0,...o,children:n.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FM(i.value)?"":void 0,...a,ref:d,onClick:me(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:me(a.onPointerDown,x=>{u.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:me(a.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&b7.includes(x.key)&&(y(),x.preventDefault())})})})});hM.displayName=uM;var mM="SelectValue",pM=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:i="",...l}=e,d=Qa(mM,s),{onValueNodeHasChildrenChange:c}=d,u=o!==void 0,h=Ae(t,d.onValueNodeChange);return Wt(()=>{c(u)},[c,u]),n.jsx(Ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:FM(d.value)?n.jsx(n.Fragment,{children:i}):o})});pM.displayName=mM;var k7="SelectIcon",fM=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});fM.displayName=k7;var A7="SelectPortal",xM=e=>n.jsx(du,{asChild:!0,...e});xM.displayName=A7;var Oo="SelectContent",gM=p.forwardRef((e,t)=>{const s=Qa(Oo,e.__scopeSelect),[r,a]=p.useState();if(Wt(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?qs.createPortal(n.jsx(vM,{scope:e.__scopeSelect,children:n.jsx(cx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(yM,{...e,ref:t})});gM.displayName=Oo;var Ss=10,[vM,Za]=Ql(Oo),D7="SelectContentImpl",yM=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:y,hideWhenDetached:x,avoidCollisions:w,...v}=e,g=Qa(Oo,s),[j,N]=p.useState(null),[b,E]=p.useState(null),C=Ae(t,H=>N(H)),[T,F]=p.useState(null),[V,k]=p.useState(null),M=dx(s),[$,D]=p.useState(!1),P=p.useRef(!1);p.useEffect(()=>{if(j)return gu(j)},[j]),kw();const L=p.useCallback(H=>{const[ae,...de]=M().map(fe=>fe.ref.current),[xe]=de.slice(-1),ye=document.activeElement;for(const fe of H)if(fe===ye||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===ae&&b&&(b.scrollTop=0),fe===xe&&b&&(b.scrollTop=b.scrollHeight),fe==null||fe.focus(),document.activeElement!==ye))return},[M,b]),O=p.useCallback(()=>L([T,j]),[L,T,j]);p.useEffect(()=>{$&&O()},[$,O]);const{onOpenChange:R,triggerPointerDownPosRef:_}=g;p.useEffect(()=>{if(j){let H={x:0,y:0};const ae=xe=>{var ye,fe;H={x:Math.abs(Math.round(xe.pageX)-(((ye=_.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((fe=_.current)==null?void 0:fe.y)??0))}},de=xe=>{H.x<=10&&H.y<=10?xe.preventDefault():j.contains(xe.target)||R(!1),document.removeEventListener("pointermove",ae),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",de,{capture:!0})}}},[j,R,_]),p.useEffect(()=>{const H=()=>R(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[R]);const[z,B]=IM(H=>{const ae=M().filter(ye=>!ye.disabled),de=ae.find(ye=>ye.ref.current===document.activeElement),xe=OM(ae,H,de);xe&&setTimeout(()=>xe.ref.current.focus())}),U=p.useCallback((H,ae,de)=>{const xe=!P.current&&!de;(g.value!==void 0&&g.value===ae||xe)&&(F(H),xe&&(P.current=!0))},[g.value]),K=p.useCallback(()=>j==null?void 0:j.focus(),[j]),Y=p.useCallback((H,ae,de)=>{const xe=!P.current&&!de;(g.value!==void 0&&g.value===ae||xe)&&k(H)},[g.value]),X=r==="popper"?Qy:jM,G=X===Qy?{side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:y,hideWhenDetached:x,avoidCollisions:w}:{};return n.jsx(vM,{scope:s,content:j,viewport:b,onViewportChange:E,itemRefCallback:U,selectedItem:T,onItemLeave:K,itemTextRefCallback:Y,focusSelectedItem:O,selectedItemText:V,position:r,isPositioned:$,searchRef:z,children:n.jsx(rx,{as:Oa,allowPinchZoom:!0,children:n.jsx(Qf,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:me(a,H=>{var ae;(ae=g.trigger)==null||ae.focus({preventScroll:!0}),H.preventDefault()}),children:n.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:n.jsx(X,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...v,...G,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:me(v.onKeyDown,H=>{const ae=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ae&&H.key.length===1&&B(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let xe=M().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(H.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ye=H.target,fe=xe.indexOf(ye);xe=xe.slice(fe+1)}setTimeout(()=>L(xe)),H.preventDefault()}})})})})})})});yM.displayName=D7;var R7="SelectItemAlignedPosition",jM=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,o=Qa(Oo,s),i=Za(Oo,s),[l,d]=p.useState(null),[c,u]=p.useState(null),h=Ae(t,C=>u(C)),m=dx(s),f=p.useRef(!1),y=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:v,focusSelectedItem:g}=i,j=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&x&&w&&v){const C=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),F=o.valueNode.getBoundingClientRect(),V=v.getBoundingClientRect();if(o.dir!=="rtl"){const ye=V.left-T.left,fe=F.left-ye,we=C.left-fe,Ne=C.width+we,Me=Math.max(Ne,T.width),Le=window.innerWidth-Ss,Pt=Od(fe,[Ss,Math.max(Ss,Le-Me)]);l.style.minWidth=Ne+"px",l.style.left=Pt+"px"}else{const ye=T.right-V.right,fe=window.innerWidth-F.right-ye,we=window.innerWidth-C.right-fe,Ne=C.width+we,Me=Math.max(Ne,T.width),Le=window.innerWidth-Ss,Pt=Od(fe,[Ss,Math.max(Ss,Le-Me)]);l.style.minWidth=Ne+"px",l.style.right=Pt+"px"}const k=m(),M=window.innerHeight-Ss*2,$=x.scrollHeight,D=window.getComputedStyle(c),P=parseInt(D.borderTopWidth,10),L=parseInt(D.paddingTop,10),O=parseInt(D.borderBottomWidth,10),R=parseInt(D.paddingBottom,10),_=P+L+$+R+O,z=Math.min(w.offsetHeight*5,_),B=window.getComputedStyle(x),U=parseInt(B.paddingTop,10),K=parseInt(B.paddingBottom,10),Y=C.top+C.height/2-Ss,X=M-Y,G=w.offsetHeight/2,H=w.offsetTop+G,ae=P+L+H,de=_-ae;if(ae<=Y){const ye=k.length>0&&w===k[k.length-1].ref.current;l.style.bottom="0px";const fe=c.clientHeight-x.offsetTop-x.offsetHeight,we=Math.max(X,G+(ye?K:0)+fe+O),Ne=ae+we;l.style.height=Ne+"px"}else{const ye=k.length>0&&w===k[0].ref.current;l.style.top="0px";const we=Math.max(Y,P+x.offsetTop+(ye?U:0)+G)+de;l.style.height=we+"px",x.scrollTop=ae-Y+x.offsetTop}l.style.margin=`${Ss}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[m,o.trigger,o.valueNode,l,c,x,w,v,o.dir,r]);Wt(()=>j(),[j]);const[N,b]=p.useState();Wt(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const E=p.useCallback(C=>{C&&y.current===!0&&(j(),g==null||g(),y.current=!1)},[j,g]);return n.jsx(F7,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(Ce.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});jM.displayName=R7;var M7="SelectPopperPosition",Qy=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=Ss,...o}=e,i=ux(s);return n.jsx(bw,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qy.displayName=M7;var[F7,eN]=Ql(Oo,{}),Zy="SelectViewport",wM=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,o=Za(Zy,s),i=eN(Zy,s),l=Ae(t,o.onViewportChange),d=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(cx.Slot,{scope:s,children:n.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:me(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const f=Math.abs(d.current-u.scrollTop);if(f>0){const y=window.innerHeight-Ss*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),v=Math.max(x,w);if(v<y){const g=v+f,j=Math.min(y,g),N=g-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});wM.displayName=Zy;var NM="SelectGroup",[_7,I7]=Ql(NM),O7=p.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Is();return n.jsx(_7,{scope:s,id:a,children:n.jsx(Ce.div,{role:"group","aria-labelledby":a,...r,ref:t})})});O7.displayName=NM;var bM="SelectLabel",SM=p.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=I7(bM,s);return n.jsx(Ce.div,{id:a.id,...r,ref:t})});SM.displayName=bM;var Wp="SelectItem",[L7,CM]=Ql(Wp),EM=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...i}=e,l=Qa(Wp,s),d=Za(Wp,s),c=l.value===r,[u,h]=p.useState(o??""),[m,f]=p.useState(!1),y=Ae(t,g=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,g,r,a)}),x=Is(),w=p.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(L7,{scope:s,value:r,disabled:a,textId:x,isSelected:c,onItemTextChange:p.useCallback(g=>{h(j=>j||((g==null?void 0:g.textContent)??"").trim())},[]),children:n.jsx(cx.ItemSlot,{scope:s,value:r,disabled:a,textValue:u,children:n.jsx(Ce.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:me(i.onFocus,()=>f(!0)),onBlur:me(i.onBlur,()=>f(!1)),onClick:me(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:me(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:me(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:me(i.onPointerMove,g=>{var j;w.current=g.pointerType,a?(j=d.onItemLeave)==null||j.call(d):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(i.onPointerLeave,g=>{var j;g.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:me(i.onKeyDown,g=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(S7.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});EM.displayName=Wp;var Vc="SelectItemText",TM=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...o}=e,i=Qa(Vc,s),l=Za(Vc,s),d=CM(Vc,s),c=P7(Vc,s),[u,h]=p.useState(null),m=Ae(t,v=>h(v),d.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,d.value,d.disabled)}),f=u==null?void 0:u.textContent,y=p.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=c;return Wt(()=>(x(y),()=>w(y)),[x,w,y]),n.jsxs(n.Fragment,{children:[n.jsx(Ce.span,{id:d.textId,...o,ref:m}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qs.createPortal(o.children,i.valueNode):null]})});TM.displayName=Vc;var PM="SelectItemIndicator",kM=p.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return CM(PM,s).isSelected?n.jsx(Ce.span,{"aria-hidden":!0,...r,ref:t}):null});kM.displayName=PM;var ej="SelectScrollUpButton",AM=p.forwardRef((e,t)=>{const s=Za(ej,e.__scopeSelect),r=eN(ej,e.__scopeSelect),[a,o]=p.useState(!1),i=Ae(t,r.onScrollButtonChange);return Wt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const c=d.scrollTop>0;o(c)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(RM,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});AM.displayName=ej;var tj="SelectScrollDownButton",DM=p.forwardRef((e,t)=>{const s=Za(tj,e.__scopeSelect),r=eN(tj,e.__scopeSelect),[a,o]=p.useState(!1),i=Ae(t,r.onScrollButtonChange);return Wt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const c=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<c;o(u)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(RM,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});DM.displayName=tj;var RM=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,o=Za("SelectScrollButton",s),i=p.useRef(null),l=dx(s),d=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),Wt(()=>{var u;const c=l().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:me(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:me(a.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:me(a.onPointerLeave,()=>{d()})})}),$7="SelectSeparator",MM=p.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Ce.div,{"aria-hidden":!0,...r,ref:t})});MM.displayName=$7;var nj="SelectArrow",V7=p.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=ux(s),o=Qa(nj,s),i=Za(nj,s);return o.open&&i.position==="popper"?n.jsx(Sw,{...a,...r,ref:t}):null});V7.displayName=nj;function FM(e){return e===""||e===void 0}var _M=p.forwardRef((e,t)=>{const{value:s,...r}=e,a=p.useRef(null),o=Ae(t,a),i=lx(s);return p.useEffect(()=>{const l=a.current,d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[i,s]),n.jsx(uu,{asChild:!0,children:n.jsx("select",{...r,ref:o,defaultValue:s})})});_M.displayName="BubbleSelect";function IM(e){const t=yt(e),s=p.useRef(""),r=p.useRef(0),a=p.useCallback(i=>{const l=s.current+i;t(l),function d(c){s.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),o=p.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function OM(e,t,s){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=U7(e,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==s));const d=i.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function U7(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var B7=dM,LM=hM,H7=pM,z7=fM,q7=xM,$M=gM,W7=wM,VM=SM,UM=EM,Y7=TM,K7=kM,BM=AM,HM=DM,zM=MM;const te=B7,ne=H7,Z=p.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(LM,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(z7,{asChild:!0,children:n.jsx($s,{className:"h-4 w-4 opacity-50"})})]}));Z.displayName=LM.displayName;const qM=p.forwardRef(({className:e,...t},s)=>n.jsx(BM,{ref:s,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(lV,{className:"h-4 w-4"})}));qM.displayName=BM.displayName;const WM=p.forwardRef(({className:e,...t},s)=>n.jsx(HM,{ref:s,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx($s,{className:"h-4 w-4"})}));WM.displayName=HM.displayName;const ee=p.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(q7,{children:n.jsxs($M,{ref:a,className:ce("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(qM,{}),n.jsx(W7,{className:ce("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(WM,{})]})}));ee.displayName=$M.displayName;const G7=p.forwardRef(({className:e,...t},s)=>n.jsx(VM,{ref:s,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));G7.displayName=VM.displayName;const A=p.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(UM,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(K7,{children:n.jsx(mu,{className:"h-4 w-4"})})}),n.jsx(Y7,{children:t})]}));A.displayName=UM.displayName;const X7=p.forwardRef(({className:e,...t},s)=>n.jsx(zM,{ref:s,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));X7.displayName=zM.displayName;class J7{async getDashboardStats(t){try{const s=t?`/dashboard/stats?businessComponentId=${t}`:"/dashboard/stats";return await Q.get(s)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch dashboard stats"}}}async getDashboardMetrics(t){var s,r;try{const a=t?`/dashboard/metrics?businessComponentId=${t}`:"/dashboard/metrics",o=await Q.get(a);if(o.success&&o.data){const i=o.data;return{success:!0,data:[{title:"Active Integrations",value:((s=i.activeIntegrations)==null?void 0:s.toString())||"0",change:"+0%",icon:"Activity",color:"text-success"},{title:"Messages Today",value:((r=i.messagesToday)==null?void 0:r.toLocaleString())||"0",change:"+0%",icon:"MessageSquare",color:"text-info"},{title:"Success Rate",value:i.successRate?`${i.successRate.toFixed(1)}%`:"0.0%",change:"+0%",icon:"CheckCircle",color:"text-success"},{title:"Avg Response Time",value:i.avgResponseTime?`${i.avgResponseTime}ms`:"0ms",change:"0ms",icon:"Zap",color:"text-warning"}]}}return{success:!1,data:[],error:"Invalid response format"}}catch(a){return console.error("Dashboard metrics error:",a),{success:!1,data:[],error:a instanceof Error?a.message:"Failed to fetch dashboard metrics"}}}async getRecentMessages(t,s=10){try{const r=t?`/messages/recent?businessComponentId=${t}&limit=${s}`:`/messages/recent?limit=${s}`;return await Q.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch recent messages"}}}async getChannelStatuses(t){try{const s=t?`/channels/status?businessComponentId=${t}`:"/channels/status";return await Q.get(s)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch channel statuses"}}}async getDashboardData(t){try{const[s,r,a]=await Promise.all([this.getDashboardStats(t),this.getRecentMessages(t),this.getChannelStatuses(t)]);if(!s.success||!r.success||!a.success)return{success:!1,error:"Failed to fetch some dashboard data"};const o=await this.getDashboardMetrics(t);return{success:!0,data:{stats:s.data,metrics:o.data||[],recentMessages:r.data||[],channelStatuses:a.data||[]}}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch dashboard data"}}}}const Og=new J7;function YM(e,t){return function(){return e.apply(t,arguments)}}const{toString:Q7}=Object.prototype,{getPrototypeOf:tN}=Object,{iterator:hx,toStringTag:KM}=Symbol,mx=(e=>t=>{const s=Q7.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ys=e=>(e=e.toLowerCase(),t=>mx(t)===e),px=e=>t=>typeof t===e,{isArray:Zl}=Array,Ld=px("undefined");function Au(e){return e!==null&&!Ld(e)&&e.constructor!==null&&!Ld(e.constructor)&&Mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const GM=Ys("ArrayBuffer");function Z7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&GM(e.buffer),t}const eq=px("string"),Mn=px("function"),XM=px("number"),Du=e=>e!==null&&typeof e=="object",tq=e=>e===!0||e===!1,Ym=e=>{if(mx(e)!=="object")return!1;const t=tN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(KM in e)&&!(hx in e)},nq=e=>{if(!Du(e)||Au(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sq=Ys("Date"),rq=Ys("File"),aq=Ys("Blob"),oq=Ys("FileList"),iq=e=>Du(e)&&Mn(e.pipe),lq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mn(e.append)&&((t=mx(e))==="formdata"||t==="object"&&Mn(e.toString)&&e.toString()==="[object FormData]"))},cq=Ys("URLSearchParams"),[dq,uq,hq,mq]=["ReadableStream","Request","Response","Headers"].map(Ys),pq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Zl(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Au(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function JM(e,t){if(Au(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const yo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QM=e=>!Ld(e)&&e!==yo;function sj(){const{caseless:e}=QM(this)&&this||{},t={},s=(r,a)=>{const o=e&&JM(t,a)||a;Ym(t[o])&&Ym(r)?t[o]=sj(t[o],r):Ym(r)?t[o]=sj({},r):Zl(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ru(arguments[r],s);return t}const fq=(e,t,s,{allOwnKeys:r}={})=>(Ru(t,(a,o)=>{s&&Mn(a)?e[o]=YM(a,s):e[o]=a},{allOwnKeys:r}),e),xq=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gq=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},vq=(e,t,s,r)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&tN(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},yq=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},jq=e=>{if(!e)return null;if(Zl(e))return e;let t=e.length;if(!XM(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},wq=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tN(Uint8Array)),Nq=(e,t)=>{const r=(e&&e[hx]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},bq=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Sq=Ys("HTMLFormElement"),Cq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),z1=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Eq=Ys("RegExp"),ZM=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Ru(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(r[o]=i||a)}),Object.defineProperties(e,r)},Tq=e=>{ZM(e,(t,s)=>{if(Mn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Mn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Pq=(e,t)=>{const s={},r=a=>{a.forEach(o=>{s[o]=!0})};return Zl(e)?r(e):r(String(e).split(t)),s},kq=()=>{},Aq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dq(e){return!!(e&&Mn(e.append)&&e[KM]==="FormData"&&e[hx])}const Rq=e=>{const t=new Array(10),s=(r,a)=>{if(Du(r)){if(t.indexOf(r)>=0)return;if(Au(r))return r;if(!("toJSON"in r)){t[a]=r;const o=Zl(r)?[]:{};return Ru(r,(i,l)=>{const d=s(i,a+1);!Ld(d)&&(o[l]=d)}),t[a]=void 0,o}}return r};return s(e,0)},Mq=Ys("AsyncFunction"),Fq=e=>e&&(Du(e)||Mn(e))&&Mn(e.then)&&Mn(e.catch),eF=((e,t)=>e?setImmediate:t?((s,r)=>(yo.addEventListener("message",({source:a,data:o})=>{a===yo&&o===s&&r.length&&r.shift()()},!1),a=>{r.push(a),yo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Mn(yo.postMessage)),_q=typeof queueMicrotask<"u"?queueMicrotask.bind(yo):typeof process<"u"&&process.nextTick||eF,Iq=e=>e!=null&&Mn(e[hx]),se={isArray:Zl,isArrayBuffer:GM,isBuffer:Au,isFormData:lq,isArrayBufferView:Z7,isString:eq,isNumber:XM,isBoolean:tq,isObject:Du,isPlainObject:Ym,isEmptyObject:nq,isReadableStream:dq,isRequest:uq,isResponse:hq,isHeaders:mq,isUndefined:Ld,isDate:sq,isFile:rq,isBlob:aq,isRegExp:Eq,isFunction:Mn,isStream:iq,isURLSearchParams:cq,isTypedArray:wq,isFileList:oq,forEach:Ru,merge:sj,extend:fq,trim:pq,stripBOM:xq,inherits:gq,toFlatObject:vq,kindOf:mx,kindOfTest:Ys,endsWith:yq,toArray:jq,forEachEntry:Nq,matchAll:bq,isHTMLForm:Sq,hasOwnProperty:z1,hasOwnProp:z1,reduceDescriptors:ZM,freezeMethods:Tq,toObjectSet:Pq,toCamelCase:Cq,noop:kq,toFiniteNumber:Aq,findKey:JM,global:yo,isContextDefined:QM,isSpecCompliantForm:Dq,toJSONObject:Rq,isAsyncFn:Mq,isThenable:Fq,setImmediate:eF,asap:_q,isIterable:Iq};function Fe(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}se.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const tF=Fe.prototype,nF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nF[e]={value:e}});Object.defineProperties(Fe,nF);Object.defineProperty(tF,"isAxiosError",{value:!0});Fe.from=(e,t,s,r,a,o)=>{const i=Object.create(tF);return se.toFlatObject(e,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(i,e.message,t,s,r,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const Oq=null;function rj(e){return se.isPlainObject(e)||se.isArray(e)}function sF(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function q1(e,t,s){return e?e.concat(t).map(function(a,o){return a=sF(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function Lq(e){return se.isArray(e)&&!e.some(rj)}const $q=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function fx(e,t,s){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=se.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!se.isUndefined(w[x])});const r=s.metaTokens,a=s.visitor||u,o=s.dots,i=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(a))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(se.isDate(y))return y.toISOString();if(se.isBoolean(y))return y.toString();if(!d&&se.isBlob(y))throw new Fe("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(y)||se.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,w){let v=y;if(y&&!w&&typeof y=="object"){if(se.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(se.isArray(y)&&Lq(y)||(se.isFileList(y)||se.endsWith(x,"[]"))&&(v=se.toArray(y)))return x=sF(x),v.forEach(function(j,N){!(se.isUndefined(j)||j===null)&&t.append(i===!0?q1([x],N,o):i===null?x:x+"[]",c(j))}),!1}return rj(y)?!0:(t.append(q1(w,x,o),c(y)),!1)}const h=[],m=Object.assign($q,{defaultVisitor:u,convertValue:c,isVisitable:rj});function f(y,x){if(!se.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(y),se.forEach(y,function(v,g){(!(se.isUndefined(v)||v===null)&&a.call(t,v,se.isString(g)?g.trim():g,x,m))===!0&&f(v,x?x.concat(g):[g])}),h.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return f(e),t}function W1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function nN(e,t){this._pairs=[],e&&fx(e,this,t)}const rF=nN.prototype;rF.append=function(t,s){this._pairs.push([t,s])};rF.toString=function(t){const s=t?function(r){return t.call(this,r,W1)}:W1;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Vq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aF(e,t,s){if(!t)return e;const r=s&&s.encode||Vq;se.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=se.isURLSearchParams(t)?t.toString():new nN(t,s).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Y1{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const oF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uq=typeof URLSearchParams<"u"?URLSearchParams:nN,Bq=typeof FormData<"u"?FormData:null,Hq=typeof Blob<"u"?Blob:null,zq={isBrowser:!0,classes:{URLSearchParams:Uq,FormData:Bq,Blob:Hq},protocols:["http","https","file","blob","url","data"]},sN=typeof window<"u"&&typeof document<"u",aj=typeof navigator=="object"&&navigator||void 0,qq=sN&&(!aj||["ReactNative","NativeScript","NS"].indexOf(aj.product)<0),Wq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yq=sN&&window.location.href||"http://localhost",Kq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sN,hasStandardBrowserEnv:qq,hasStandardBrowserWebWorkerEnv:Wq,navigator:aj,origin:Yq},Symbol.toStringTag,{value:"Module"})),sn={...Kq,...zq};function Gq(e,t){return fx(e,new sn.classes.URLSearchParams,{visitor:function(s,r,a,o){return sn.isNode&&se.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Xq(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jq(e){const t={},s=Object.keys(e);let r;const a=s.length;let o;for(r=0;r<a;r++)o=s[r],t[o]=e[o];return t}function iF(e){function t(s,r,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=o>=s.length;return i=!i&&se.isArray(a)?a.length:i,d?(se.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!l):((!a[i]||!se.isObject(a[i]))&&(a[i]=[]),t(s,r,a[i],o)&&se.isArray(a[i])&&(a[i]=Jq(a[i])),!l)}if(se.isFormData(e)&&se.isFunction(e.entries)){const s={};return se.forEachEntry(e,(r,a)=>{t(Xq(r),a,s,0)}),s}return null}function Qq(e,t,s){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Mu={transitional:oF,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,o=se.isObject(t);if(o&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return a?JSON.stringify(iF(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gq(t,this.formSerializer).toString();if((l=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return fx(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),Qq(t)):t}],transformResponse:[function(t){const s=this.transitional||Mu.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Mu.headers[e]={}});const Zq=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eW=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!s||t[s]&&Zq[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},K1=Symbol("internals");function Tc(e){return e&&String(e).trim().toLowerCase()}function Km(e){return e===!1||e==null?e:se.isArray(e)?e.map(Km):String(e)}function tW(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const nW=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Lg(e,t,s,r,a){if(se.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function sW(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function rW(e,t){const s=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,o,i){return this[r].call(this,t,a,o,i)},configurable:!0})})}class Fn{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function o(l,d,c){const u=Tc(d);if(!u)throw new Error("header name must be a non-empty string");const h=se.findKey(a,u);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||d]=Km(l))}const i=(l,d)=>se.forEach(l,(c,u)=>o(c,u,d));if(se.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(se.isString(t)&&(t=t.trim())&&!nW(t))i(eW(t),s);else if(se.isObject(t)&&se.isIterable(t)){let l={},d,c;for(const u of t){if(!se.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?se.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(l,s)}else t!=null&&o(s,t,r);return this}get(t,s){if(t=Tc(t),t){const r=se.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return tW(a);if(se.isFunction(s))return s.call(this,a,r);if(se.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Tc(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Lg(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function o(i){if(i=Tc(i),i){const l=se.findKey(r,i);l&&(!s||Lg(r,r[l],l,s))&&(delete r[l],a=!0)}}return se.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const o=s[r];(!t||Lg(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,r={};return se.forEach(this,(a,o)=>{const i=se.findKey(r,o);if(i){s[i]=Km(a),delete s[o];return}const l=t?sW(o):String(o).trim();l!==o&&delete s[o],s[l]=Km(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return se.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&se.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[K1]=this[K1]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=Tc(i);r[l]||(rW(a,i),r[l]=!0)}return se.isArray(t)?t.forEach(o):o(t),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Fn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});se.freezeMethods(Fn);function $g(e,t){const s=this||Mu,r=t||s,a=Fn.from(r.headers);let o=r.data;return se.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function lF(e){return!!(e&&e.__CANCEL__)}function ec(e,t,s){Fe.call(this,e??"canceled",Fe.ERR_CANCELED,t,s),this.name="CanceledError"}se.inherits(ec,Fe,{__CANCEL__:!0});function cF(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Fe("Request failed with status code "+s.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function aW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oW(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=r[o];i||(i=c),s[a]=d,r[a]=c;let h=o,m=0;for(;h!==a;)m+=s[h++],h=h%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),c-i<t)return;const f=u&&c-u;return f?Math.round(m*1e3/f):void 0}}function iW(e,t){let s=0,r=1e3/t,a,o;const i=(c,u=Date.now())=>{s=u,a=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-s;h>=r?i(c,u):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},r-h)))},()=>a&&i(a)]}const Yp=(e,t,s=3)=>{let r=0;const a=oW(50,250);return iW(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,d=i-r,c=a(d),u=i<=l;r=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},G1=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},X1=e=>(...t)=>se.asap(()=>e(...t)),lW=sn.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,sn.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(sn.origin),sn.navigator&&/(msie|trident)/i.test(sn.navigator.userAgent)):()=>!0,cW=sn.hasStandardBrowserEnv?{write(e,t,s,r,a,o){const i=[e+"="+encodeURIComponent(t)];se.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),se.isString(r)&&i.push("path="+r),se.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dW(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uW(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dF(e,t,s){let r=!dW(t);return e&&(r||s==!1)?uW(e,t):t}const J1=e=>e instanceof Fn?{...e}:e;function Lo(e,t){t=t||{};const s={};function r(c,u,h,m){return se.isPlainObject(c)&&se.isPlainObject(u)?se.merge.call({caseless:m},c,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function a(c,u,h,m){if(se.isUndefined(u)){if(!se.isUndefined(c))return r(void 0,c,h,m)}else return r(c,u,h,m)}function o(c,u){if(!se.isUndefined(u))return r(void 0,u)}function i(c,u){if(se.isUndefined(u)){if(!se.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,h){if(h in t)return r(c,u);if(h in e)return r(void 0,c)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,h)=>a(J1(c),J1(u),h,!0)};return se.forEach(Object.keys({...e,...t}),function(u){const h=d[u]||a,m=h(e[u],t[u],u);se.isUndefined(m)&&h!==l||(s[u]=m)}),s}const uF=e=>{const t=Lo({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=Fn.from(i),t.url=aF(dF(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(se.isFormData(s)){if(sn.hasStandardBrowserEnv||sn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[c,...u]=d?d.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(sn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&lW(t.url))){const c=a&&o&&cW.read(o);c&&i.set(a,c)}return t},hW=typeof XMLHttpRequest<"u",mW=hW&&function(e){return new Promise(function(s,r){const a=uF(e);let o=a.data;const i=Fn.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=a,u,h,m,f,y;function x(){f&&f(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function v(){if(!w)return;const j=Fn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:j,config:e,request:w};cF(function(C){s(C),x()},function(C){r(C),x()},b),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new Fe("Request aborted",Fe.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const b=a.transitional||oF;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),r(new Fe(N,b.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&se.forEach(i.toJSON(),function(N,b){w.setRequestHeader(b,N)}),se.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),c&&([m,y]=Yp(c,!0),w.addEventListener("progress",m)),d&&w.upload&&([h,f]=Yp(d),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(u=j=>{w&&(r(!j||j.type?new ec(null,e,w):j),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const g=aW(a.url);if(g&&sn.protocols.indexOf(g)===-1){r(new Fe("Unsupported protocol "+g+":",Fe.ERR_BAD_REQUEST,e));return}w.send(o||null)})},pW=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const o=function(c){if(!a){a=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Fe?u:new ec(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new Fe(`timeout ${t} of ms exceeded`,Fe.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(l),d}},fW=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},xW=async function*(e,t){for await(const s of gW(e))yield*fW(s,t)},gW=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Q1=(e,t,s,r)=>{const a=xW(e,t);let o=0,i,l=d=>{i||(i=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){l(),d.close();return}let h=u.byteLength;if(s){let m=o+=h;s(m)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},xx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hF=xx&&typeof ReadableStream=="function",vW=xx&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yW=hF&&mF(()=>{let e=!1;const t=new Request(sn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Z1=64*1024,oj=hF&&mF(()=>se.isReadableStream(new Response("").body)),Kp={stream:oj&&(e=>e.body)};xx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kp[t]&&(Kp[t]=se.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new Fe(`Response type '${t}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const jW=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(sn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await vW(e)).byteLength},wW=async(e,t)=>{const s=se.toFiniteNumber(e.getContentLength());return s??jW(t)},NW=xx&&(async e=>{let{url:t,method:s,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:m}=uF(e);c=c?(c+"").toLowerCase():"text";let f=pW([a,o&&o.toAbortSignal()],i),y;const x=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let w;try{if(d&&yW&&s!=="get"&&s!=="head"&&(w=await wW(u,r))!==0){let b=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(se.isFormData(r)&&(E=b.headers.get("content-type"))&&u.setContentType(E),b.body){const[C,T]=G1(w,Yp(X1(d)));r=Q1(b.body,Z1,C,T)}}se.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;y=new Request(t,{...m,signal:f,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let g=await fetch(y,m);const j=oj&&(c==="stream"||c==="response");if(oj&&(l||j&&x)){const b={};["status","statusText","headers"].forEach(F=>{b[F]=g[F]});const E=se.toFiniteNumber(g.headers.get("content-length")),[C,T]=l&&G1(E,Yp(X1(l),!0))||[];g=new Response(Q1(g.body,Z1,C,()=>{T&&T(),x&&x()}),b)}c=c||"text";let N=await Kp[se.findKey(Kp,c)||"text"](g,e);return!j&&x&&x(),await new Promise((b,E)=>{cF(b,E,{data:N,headers:Fn.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:y})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,e,y),{cause:v.cause||v}):Fe.from(v,v&&v.code,e,y)}}),ij={http:Oq,xhr:mW,fetch:NW};se.forEach(ij,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const eC=e=>`- ${e}`,bW=e=>se.isFunction(e)||e===null||e===!1,pF={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let s,r;const a={};for(let o=0;o<t;o++){s=e[o];let i;if(r=s,!bW(s)&&(r=ij[(i=String(s)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+o]=r}if(!r){const o=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(eC).join(`
`):" "+eC(o[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:ij};function Vg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ec(null,e)}function tC(e){return Vg(e),e.headers=Fn.from(e.headers),e.data=$g.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pF.getAdapter(e.adapter||Mu.adapter)(e).then(function(r){return Vg(e),r.data=$g.call(e,e.transformResponse,r),r.headers=Fn.from(r.headers),r},function(r){return lF(r)||(Vg(e),r&&r.response&&(r.response.data=$g.call(e,e.transformResponse,r.response),r.response.headers=Fn.from(r.response.headers))),Promise.reject(r)})}const fF="1.11.0",gx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const nC={};gx.transitional=function(t,s,r){function a(o,i){return"[Axios v"+fF+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new Fe(a(i," has been removed"+(s?" in "+s:"")),Fe.ERR_DEPRECATED);return s&&!nC[i]&&(nC[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};gx.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function SW(e,t,s){if(typeof e!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const l=e[o],d=l===void 0||i(l,o,e);if(d!==!0)throw new Fe("option "+o+" must be "+d,Fe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Fe("Unknown option "+o,Fe.ERR_BAD_OPTION)}}const Gm={assertOptions:SW,validators:gx},Qs=Gm.validators;class Co{constructor(t){this.defaults=t||{},this.interceptors={request:new Y1,response:new Y1}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Lo(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:o}=s;r!==void 0&&Gm.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),a!=null&&(se.isFunction(a)?s.paramsSerializer={serialize:a}:Gm.assertOptions(a,{encode:Qs.function,serialize:Qs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Gm.assertOptions(s,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&se.merge(o.common,o[s.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),s.headers=Fn.concat(i,o);const l=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(d=d&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,h=0,m;if(!d){const y=[tC.bind(this),void 0];for(y.unshift(...l),y.push(...c),m=y.length,u=Promise.resolve(s);h<m;)u=u.then(y[h++],y[h++]);return u}m=l.length;let f=s;for(h=0;h<m;){const y=l[h++],x=l[h++];try{f=y(f)}catch(w){x.call(this,w);break}}try{u=tC.call(this,f)}catch(y){return Promise.reject(y)}for(h=0,m=c.length;h<m;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Lo(this.defaults,t);const s=dF(t.baseURL,t.url,t.allowAbsoluteUrls);return aF(s,t.params,t.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(t){Co.prototype[t]=function(s,r){return this.request(Lo(r||{},{method:t,url:s,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function s(r){return function(o,i,l){return this.request(Lo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Co.prototype[t]=s(),Co.prototype[t+"Form"]=s(!0)});class rN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new ec(o,i,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new rN(function(a){t=a}),cancel:t}}}function CW(e){return function(s){return e.apply(null,s)}}function EW(e){return se.isObject(e)&&e.isAxiosError===!0}const lj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lj).forEach(([e,t])=>{lj[t]=e});function xF(e){const t=new Co(e),s=YM(Co.prototype.request,t);return se.extend(s,Co.prototype,t,{allOwnKeys:!0}),se.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return xF(Lo(e,a))},s}const at=xF(Mu);at.Axios=Co;at.CanceledError=ec;at.CancelToken=rN;at.isCancel=lF;at.VERSION=fF;at.toFormData=fx;at.AxiosError=Fe;at.Cancel=at.CanceledError;at.all=function(t){return Promise.all(t)};at.spread=CW;at.isAxiosError=EW;at.mergeConfig=Lo;at.AxiosHeaders=Fn;at.formToJSON=e=>iF(se.isHTMLForm(e)?new FormData(e):e);at.getAdapter=pF.getAdapter;at.HttpStatusCode=lj;at.default=at;class TW{constructor(){Je(this,"client");Je(this,"baseURL");const t=window.location.hostname,s=window.location.port||"8080";this.baseURL=`http://${t}:${s}/api`,this.client=at.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{var a;const s=localStorage.getItem("integration_platform_token");console.log("API Request - Token present:",!!s),s&&!t.skipAuth?(t.headers.Authorization=`Bearer ${s}`,console.log("API Request - Adding Authorization header")):console.log("API Request - No token or skipAuth=true");const r=this.generateCorrelationId();return t.headers["X-Correlation-ID"]=r,window.__currentCorrelationId=r,console.log(`API Call: ${((a=t.method)==null?void 0:a.toUpperCase())||"GET"} ${t.url||""}`),console.log("Request headers:",t.headers),t},t=>Promise.reject(this.handleError(t))),this.client.interceptors.response.use(t=>{var s;return console.log(`API Response: ${(s=t.config.method)==null?void 0:s.toUpperCase()} ${t.config.url} - ${t.status}`),t},async t=>{var r,a;const s=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!s.skipAuth){const o=localStorage.getItem("integration_platform_refresh_token");if(o&&!((a=s.url)!=null&&a.includes("/refresh")))try{const l=(await this.client.post("/api/auth/refresh",{refreshToken:o},{skipAuth:!0})).data.token;return localStorage.setItem("integration_platform_token",l),s.headers&&(s.headers.Authorization=`Bearer ${l}`),this.client(s)}catch(i){console.error("Token refresh failed:",i),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}else localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}return Promise.reject(this.handleError(t))})}generateCorrelationId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleError(t){var s,r,a,o,i;return console.error(`API Error: ${((r=(s=t.config)==null?void 0:s.method)==null?void 0:r.toUpperCase())||"UNKNOWN"} ${((a=t.config)==null?void 0:a.url)||"unknown"}`,t),(o=t.response)!=null&&o.data?{message:t.response.data.message||"An error occurred",code:t.response.data.code||((i=t.response.status)==null?void 0:i.toString()),details:t.response.data.details,timestamp:t.response.data.timestamp||new Date().toISOString()}:t.request?{message:"No response from server. Please check your connection.",code:"NETWORK_ERROR",timestamp:new Date().toISOString()}:{message:t.message||"An unexpected error occurred",code:"UNKNOWN_ERROR",timestamp:new Date().toISOString()}}async get(t,s){return(await this.client.get(t,s)).data}async post(t,s,r){return(await this.client.post(t,s,r)).data}async put(t,s,r){return(await this.client.put(t,s,r)).data}async patch(t,s,r){return(await this.client.patch(t,s,r)).data}async delete(t,s){return(await this.client.delete(t,s)).data}async upload(t,s,r){return(await this.client.post(t,s,{...r,headers:{...r==null?void 0:r.headers,"Content-Type":"multipart/form-data"}})).data}async download(t,s,r){const a=await this.client.get(t,{...r,responseType:"blob"}),o=new Blob([a.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=s,i.click(),window.URL.revokeObjectURL(i.href)}}const sr=new TW;class PW{async getAllBusinessComponents(){try{return{success:!0,data:await sr.get("/business-components")}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{return{success:!0,data:await sr.get(`/business-components/${t}`)}}catch(s){return console.error("Failed to fetch business component:",s),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const s=await sr.post("/business-components",t);return console.log("Frontend: Created business component:",s),{success:!0,data:s}}catch(s){return console.error("Frontend: Failed to create business component:",s),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{return{success:!0,data:await sr.put(`/business-components/${t.id}`,t)}}catch(s){return console.error("Failed to update business component:",s),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{return await sr.delete(`/business-components/${t}`),{success:!0}}catch(s){return console.error("Failed to delete business component:",s),{success:!1,error:"Failed to delete business component"}}}}const ba=new PW,kW={Activity:La,MessageSquare:En,CheckCircle:vt,XCircle:Gt,Clock:vs,TrendingUp:eA,Server:hw,Zap:_s,Users:an},AW=()=>{console.log("Dashboard component loading...");const[e,t]=p.useState(null),[s,r]=p.useState([]),[a,o]=p.useState([]),[i,l]=p.useState([]),[d,c]=p.useState(!0),[u,h]=p.useState(!0),[m,f]=p.useState(!0),[y,x]=p.useState(null),[w,v]=p.useState([]),[g,j]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{console.log("Dashboard - loading business components...");const b=await ba.getAllBusinessComponents();b.success&&b.data&&v(b.data)}catch(b){console.error("Error loading business components:",b)}finally{j(!1)}})()},[]),console.log("Dashboard - business components:",w,"loading:",g),p.useEffect(()=>{const N=async()=>{try{x(null);const E=e==null?void 0:e.id;c(!0);const C=await Og.getDashboardMetrics(E);console.log("Metrics response:",C),C.success&&C.data&&Array.isArray(C.data)?r(C.data):(console.error("Failed to fetch metrics:",C.error),r([])),c(!1),h(!0);const T=await Og.getRecentMessages(E);T.success&&T.data?o(T.data):(console.error("Failed to fetch messages:",T.error),o([])),h(!1),f(!0);const F=await Og.getChannelStatuses(E);F.success&&F.data?l(F.data):(console.error("Failed to fetch channels:",F.error),l([])),f(!1)}catch(E){console.error("Dashboard data fetch error:",E),x("Failed to load dashboard data"),r([]),o([]),l([]),c(!1),h(!1),f(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e]),console.log("Dashboard render - about to return JSX"),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Integration Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor your integration flows and system health"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(S,{htmlFor:"business-component",children:"Business Component:"}),n.jsxs(te,{value:(e==null?void 0:e.id)||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=w.find(E=>E.id===N);t(b||null)}},children:[n.jsx(Z,{id:"business-component",className:"w-[280px]",children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"all",children:"All Components"}),w.map(N=>n.jsx(A,{value:N.id,children:N.name},N.id))]})]})]}),y&&n.jsx("div",{className:"bg-destructive/10 text-destructive p-4 rounded-lg",children:y}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d?n.jsx("div",{className:"col-span-full flex justify-center p-8",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})}):s&&Array.isArray(s)?s.map((N,b)=>{const E=kW[N.icon]||La,C=N.change.startsWith("+")||N.change.startsWith("-")&&N.change.includes("ms");return n.jsxs(J,{children:[n.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ie,{className:"text-sm font-medium",children:N.title}),n.jsx(E,{className:`h-4 w-4 ${N.color}`})]}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:N.value}),n.jsxs("p",{className:`text-xs ${C?"text-success":"text-destructive"}`,children:[N.change," from last period"]})]})]},b)}):n.jsx("div",{className:"col-span-full",children:n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No metrics available"})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Recent Messages"}),n.jsx(ge,{children:"Latest integration messages"})]}),n.jsx(re,{children:u?n.jsx("div",{className:"flex justify-center p-8",children:n.jsx($t,{className:"h-6 w-6 animate-spin"})}):!a||!Array.isArray(a)||a.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent messages"}):n.jsx("div",{className:"space-y-4",children:a.map(N=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(le,{variant:N.status==="success"?"success":N.status==="failed"?"destructive":"secondary",children:N.status}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[N.source,"  ",N.target]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]}),N.status==="success"&&n.jsx(vt,{className:"h-4 w-4 text-success"}),N.status==="failed"&&n.jsx(Gt,{className:"h-4 w-4 text-destructive"}),N.status==="processing"&&n.jsx(vs,{className:"h-4 w-4 text-warning animate-pulse"})]},N.id))})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Channel Status"}),n.jsx(ge,{children:"Active integration channels"})]}),n.jsx(re,{children:m?n.jsx("div",{className:"flex justify-center p-8",children:n.jsx($t,{className:"h-6 w-6 animate-spin"})}):!i||!Array.isArray(i)||i.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No active channels"}):n.jsx("div",{className:"space-y-4",children:i.map((N,b)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hw,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:N.name})]}),n.jsx(le,{variant:N.status==="running"?"success":N.status==="idle"?"secondary":"destructive",children:N.status})]}),n.jsx(Pu,{value:N.load,className:"h-2"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Load: ",N.load,"%"]})]},b))})})]})]})]})},DW=()=>(console.log("TestPage - rendering without React Query"),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),n.jsx("p",{children:"This is a simple test page without React Query to verify navigation works."})]})),gF=({children:e,requireDevelopment:t=!0,customMessage:s})=>{const{isDevelopment:r,environmentInfo:a}=ju(),o=ys();return t&&!r?n.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:n.jsx(J,{children:n.jsx(re,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:n.jsx(kd,{className:"h-12 w-12 text-destructive"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Page Restricted"}),n.jsx("p",{className:"text-muted-foreground",children:s||`This page is only available in development environment. 
                     The system is currently configured as ${(a==null?void 0:a.displayName)||"non-development"}.`})]}),n.jsxs(st,{className:"mt-4",children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsx(Dr,{children:"Why is this restricted?"}),n.jsxs(rt,{children:["In ",(a==null?void 0:a.displayName)||"this"," environment, creation and modification of flows, adapters, and data structures is disabled to prevent accidental changes. You can still import flows, modify adapter configurations, and manage deployments."]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx(W,{onClick:()=>o(-1),variant:"outline",children:"Go Back"}),n.jsx(W,{onClick:()=>o("/interfaces"),children:"Interface Management"})]})]})})})}):n.jsx(n.Fragment,{children:e})};function RW(){const e=ys(),{navigateBack:t}=Jl();return n.jsx(gF,{children:n.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(J,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(oe,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(po,{className:"h-8 w-8 text-primary"})}),n.jsx(ie,{className:"text-xl",children:"Create Orchestration Flow"}),n.jsx(ge,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),n.jsxs(re,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual workflow designer"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Message routing & transformation"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Multi-system orchestration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Error handling & compensation"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),n.jsxs(J,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[n.jsxs(oe,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:n.jsx(Ji,{className:"h-8 w-8 text-primary"})}),n.jsx(ie,{className:"text-xl",children:"Create Direct Mapping Flow"}),n.jsx(ge,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),n.jsxs(re,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Point-to-point integration"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Visual field mapping"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Transformation functions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),n.jsx("span",{children:"Quick setup & deployment"})]})]}),n.jsx(W,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs(W,{variant:"outline",onClick:()=>t("/integration-flows"),className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4"}),"Cancel"]})})]})})}const vF=e=>{const t=jr(),{isDirectNavigation:s}=Jl(),r=p.useRef(!1),a=p.useRef(t.pathname);return p.useEffect(()=>{a.current!==t.pathname&&(a.current=t.pathname,s()?(e(),r.current=!0):r.current=!1)},[t.pathname,s,e]),{isDirectNavigation:s(),hasReset:r.current}},Ee=p.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Ee.displayName="Textarea";var MW="Separator",sC="horizontal",FW=["horizontal","vertical"],yF=p.forwardRef((e,t)=>{const{decorative:s,orientation:r=sC,...a}=e,o=_W(r)?r:sC,l=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(Ce.div,{"data-orientation":o,...l,...a,ref:t})});yF.displayName=MW;function _W(e){return FW.includes(e)}var jF=yF;const Oe=p.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},a)=>n.jsx(jF,{ref:a,decorative:s,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Oe.displayName=jF.displayName;const IW=({onTestFlow:e,onSaveFlow:t})=>n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Actions"}),n.jsx(ge,{children:"Test and save your integration flow"})]}),n.jsxs(re,{className:"space-y-3",children:[n.jsxs(W,{onClick:e,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Test Flow"]}),n.jsxs(W,{onClick:t,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsx(Oe,{}),n.jsxs(W,{variant:"outline",className:"w-full",children:[n.jsx(Mp,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),OW=({sourceAdapter:e,targetAdapter:t,sourceStructure:s,targetStructure:r,selectedTransformations:a,adapters:o,sampleStructures:i})=>{var c,u,h,m;const l=f=>o.find(y=>y.id===f),d=f=>i.find(y=>y.id===f);return n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(oe,{children:n.jsx(ie,{children:"Flow Summary"})}),n.jsx(re,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(le,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source:"}),n.jsx("span",{children:e?(c=l(e))==null?void 0:c.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),n.jsx("span",{children:s?(u=d(s))==null?void 0:u.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target:"}),n.jsx("span",{children:t?(h=l(t))==null?void 0:h.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),n.jsx("span",{children:r?(m=d(r))==null?void 0:m.name:"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),n.jsx("span",{children:a.length})]})]})})]})},LW=()=>n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(oe,{children:n.jsx(ie,{children:"Quick Tips"})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Add transformations to modify data between systems"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),n.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]});var aN="Checkbox",[$W,$pe]=as(aN),[VW,UW]=$W(aN),wF=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...h}=e,[m,f]=p.useState(null),y=Ae(t,N=>f(N)),x=p.useRef(!1),w=m?u||!!m.closest("form"):!0,[v=!1,g]=Ls({prop:a,defaultProp:o,onChange:c}),j=p.useRef(v);return p.useEffect(()=>{const N=m==null?void 0:m.form;if(N){const b=()=>g(j.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[m,g]),n.jsxs(VW,{scope:s,state:v,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Ma(v)?"mixed":v,"aria-required":i,"data-state":SF(v),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:y,onKeyDown:me(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:me(e.onClick,N=>{g(b=>Ma(b)?!0:!b),w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),w&&n.jsx(BW,{control:m,bubbles:!x.current,name:r,value:d,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Ma(o)?!1:o})]})});wF.displayName=aN;var NF="CheckboxIndicator",bF=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,o=UW(NF,s);return n.jsx(Qt,{present:r||Ma(o.state)||o.state===!0,children:n.jsx(Ce.span,{"data-state":SF(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bF.displayName=NF;var BW=e=>{const{control:t,checked:s,bubbles:r=!0,defaultChecked:a,...o}=e,i=p.useRef(null),l=lx(s),d=Wf(t);p.useEffect(()=>{const u=i.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&f){const y=new Event("click",{bubbles:r});u.indeterminate=Ma(s),f.call(u,Ma(s)?!1:s),u.dispatchEvent(y)}},[l,s,r]);const c=p.useRef(Ma(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ma(e){return e==="indeterminate"}function SF(e){return Ma(e)?"indeterminate":e?"checked":"unchecked"}var CF=wF,HW=bF;const qe=p.forwardRef(({className:e,...t},s)=>n.jsx(CF,{ref:s,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(HW,{className:ce("flex items-center justify-center text-current"),children:n.jsx(mu,{className:"h-4 w-4"})})}));qe.displayName=CF.displayName;const EF=e=>{try{const t=JSON.parse(e);return cj(t)}catch{return null}},cj=e=>{if(Array.isArray(e))return e.length>0?["array",cj(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[s,r]of Object.entries(e))t[s]=cj(r);return t}else return typeof e},TF=e=>{try{const s=new DOMParser().parseFromString(e,"text/xml");if(s.querySelector("parsererror"))return null;const a={};return s.querySelectorAll("complexType, xs\\:complexType").forEach((i,l)=>{const d=i.getAttribute("name")||`ComplexType${l+1}`,c={};i.querySelectorAll("element, xs\\:element").forEach(h=>{const m=h.getAttribute("name"),f=h.getAttribute("type")||"string";m&&(c[m]=f.replace(/^(xs:|xsd:)/,""))}),Object.keys(c).length>0&&(a[d]=c)}),Object.keys(a).length===0&&s.querySelectorAll("element, xs\\:element").forEach(l=>{const d=l.getAttribute("name"),c=l.getAttribute("type")||"string";d&&(a[d]=c.replace(/^(xs:|xsd:)/,""))}),Object.keys(a).length>0?a:null}catch{return null}},zW=e=>{try{const s=new DOMParser().parseFromString(e,"text/xml");if(s.querySelector("parsererror"))return null;const a=s.querySelectorAll("part, wsdl\\:part");return a.length>0?a[0].getAttribute("name"):null}catch{return null}},qW=e=>{try{const s=new DOMParser().parseFromString(e,"text/xml");if(s.querySelector("parsererror"))return null;const a=s.documentElement,o=a.getAttribute("targetNamespace")||"",i=s.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";i.length>0&&(l=i[0].getAttribute("location")||"");let d="";for(let c=0;c<a.attributes.length;c++){const u=a.attributes[c];if(u.name.startsWith("xmlns:")&&u.value===o){d=u.name.replace("xmlns:","");break}}return{uri:o,prefix:d,targetNamespace:o,schemaLocation:l}}catch{return null}},oN=e=>{const t={};return e.forEach(s=>{s.children&&s.children.length>0?t[s.name]=oN(s.children):t[s.name]=s.type}),t};class WW{async createStructure(t){return Q.post("/structures",t)}async getStructures(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(i=>s.append(a,i.toString())):s.append(a,o.toString()))});const r=`/structures${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async getStructure(t){return Q.get(`/structures/${t}`)}async updateStructure(t,s){return Q.put(`/structures/${t}`,s)}async deleteStructure(t){return Q.delete(`/structures/${t}`)}async validateStructure(t,s){return Q.post("/structures/validate",{structure:t,type:s})}async parseStructure(t,s){return Q.post("/structures/parse",{content:t,type:s})}async generateSampleData(t,s){const r=`/structures/${t}/sample${s?`?format=${s}`:""}`;return Q.get(r)}async getStructureUsage(t){return Q.get(`/structures/${t}/usage`)}async cloneStructure(t,s){return Q.post(`/structures/${t}/clone`,{name:s})}async compareStructures(t,s){return Q.post("/structures/compare",{sourceId:t,targetId:s})}async getStructureMappings(t,s){return Q.get(`/structures/mappings?source=${t}&target=${s}`)}async exportStructure(t,s){return Q.get(`/structures/${t}/export?format=${s}`)}async searchStructures(t,s){const r=new URLSearchParams({q:t});return s&&Object.entries(s).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())}),Q.get(`/structures/search?${r.toString()}`)}async getStructureVersions(t){return Q.get(`/structures/${t}/versions`)}}const Uc=new WW,YW=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],tc=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(null),[a,o]=p.useState(!1),{toast:i}=nt();p.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0),console.log("Loading data structures from backend...");const h=await Uc.getStructures();if(h.success&&h.data){console.log("API structures loaded:",h.data.structures||h.data);const m=h.data.structures||h.data||[];if(typeof m=="string"&&m.includes("<!DOCTYPE html>")){console.log("API endpoint not implemented yet, showing sample data"),t(YW),i({title:"Info",description:"Data structures API not available yet. Showing sample data."});return}console.log(`API returned ${m.length} structures`),t(m)}else console.log("API failed, showing empty list"),t([])}catch(h){console.error("Error loading structures, showing empty list:",h),t([])}finally{o(!1)}};return{structures:e,selectedStructure:s,setSelectedStructure:r,saveStructure:async(h,m,f,y,x,w,v,g,j,N)=>{if(!h)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let b={};if(y)b=EF(y);else if(v)b=TF(v);else if(x)b={message:"XSD parsing not fully implemented yet"};else if(w)b={message:"EDMX parsing not fully implemented yet"};else if(g.length>0)b=oN(g);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;const E={name:h,type:y?"json":v?"wsdl":x?"xsd":"custom",description:m,usage:f,structure:b,namespace:(j==="xsd"||j==="wsdl"||j==="edmx")&&N.uri?N:void 0};try{console.log("Saving structure to backend:",E);const C=await Uc.createStructure(E);return C.success&&C.data?(console.log("Structure saved successfully:",C.data),await l(),i({title:"Structure Saved",description:`Data structure "${h}" has been created successfully`}),!0):(console.error("Failed to save structure:",C.error),i({title:"Save Failed",description:"Failed to save data structure to the backend",variant:"destructive"}),!1)}catch(C){return console.error("Error saving structure:",C),i({title:"Save Error",description:"An error occurred while saving the data structure",variant:"destructive"}),!1}},deleteStructure:async h=>{try{console.log("Deleting structure:",h);const m=await Uc.deleteStructure(h);m.success?(console.log("Structure deleted successfully"),await l(),(s==null?void 0:s.id)===h&&r(null),i({title:"Structure Deleted",description:"Data structure has been removed"})):(console.error("Failed to delete structure:",m.error),i({title:"Delete Failed",description:"Failed to delete data structure",variant:"destructive"}))}catch(m){console.error("Error deleting structure:",m),i({title:"Delete Error",description:"An error occurred while deleting the data structure",variant:"destructive"})}},duplicateStructure:async h=>{try{console.log("Duplicating structure:",h.name);const m=await Uc.cloneStructure(h.id,`${h.name} (Copy)`);m.success&&m.data?(console.log("Structure duplicated successfully:",m.data),await l(),i({title:"Structure Duplicated",description:`Created copy of "${h.name}"`})):(console.error("Failed to duplicate structure:",m.error),i({title:"Duplicate Failed",description:"Failed to duplicate data structure",variant:"destructive"}))}catch(m){console.error("Error duplicating structure:",m),i({title:"Duplicate Error",description:"An error occurred while duplicating the data structure",variant:"destructive"})}},loading:a,refreshStructures:l}};function PF({fields:e,mappings:t,side:s,selectedField:r,onToggleExpanded:a,onDragStart:o,onDragEnd:i,onDragOver:l,onDrop:d,onSelectField:c}){const u=p.useCallback((h,m)=>{const f=!h.children||h.children.length===0,y=t.some(w=>s==="source"?w.sourcePaths.includes(h.path):w.targetPath===h.path),x=(r==null?void 0:r.id)===h.id;return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${x?"bg-primary/20 border-primary ring-1 ring-primary":y?"bg-primary/10 border-primary":"bg-background hover:bg-muted/50"} ${f&&s==="source"?"cursor-grab active:cursor-grabbing":""} ${f&&s==="target"?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${m*16}px`},draggable:f&&s==="source",onClick:()=>{f&&s==="target"&&c&&c(h)},onDragStart:w=>{f&&s==="source"&&o&&(w.dataTransfer.effectAllowed="copy",w.dataTransfer.setData("application/json",JSON.stringify(h)),o(h))},onDragEnd:w=>{f&&s==="source"&&i&&i()},onDragOver:f&&s==="target"?l:void 0,onDrop:w=>{f&&s==="target"&&(w.preventDefault(),w.stopPropagation(),d==null||d(h))},children:[!f&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>a(h.id,s==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:h.expanded?n.jsx($s,{className:"h-3 w-3"}):n.jsx(Zn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:h.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:h.type}),y&&n.jsx(vV,{className:"h-3 w-3 text-primary"})]}),s==="source"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag "}),s==="target"&&f&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!f&&h.expanded&&h.children&&n.jsx("div",{className:"ml-4",children:h.children.map(w=>u(w,m+1))})]},h.id)},[t,s,r,a,o,i,l,d,c]);return n.jsx("div",{className:"space-y-2",children:e.map(h=>u(h,0))})}const St=FR,$o=_R,KW=IR,kF=p.forwardRef(({className:e,...t},s)=>n.jsx(Yw,{ref:s,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kF.displayName=Yw.displayName;const ft=p.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(KW,{children:[n.jsx(kF,{}),n.jsxs(Kw,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(Jw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ht,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ft.displayName=Kw.displayName;const Ct=({className:e,...t})=>n.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const nc=({className:e,...t})=>n.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nc.displayName="DialogFooter";const Et=p.forwardRef(({className:e,...t},s)=>n.jsx(Gw,{ref:s,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Et.displayName=Gw.displayName;const fr=p.forwardRef(({className:e,...t},s)=>n.jsx(Xw,{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));fr.displayName=Xw.displayName;function AF({isOpen:e,onOpenChange:t,selectedService:s,onSelectService:r,title:a,usage:o,businessComponentId:i}){var c;const{structures:l}=tc(),d=l.filter(u=>{const h=u.usage===o,m=!i||u.businessComponentId===i;return h&&m});return n.jsxs(St,{open:e,onOpenChange:t,children:[n.jsx($o,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Select"]})}),n.jsxs(ft,{className:"max-w-2xl",children:[n.jsx(Ct,{children:n.jsx(Et,{children:a})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),n.jsxs(te,{onValueChange:r,value:s,children:[n.jsx(Z,{className:"w-full",children:n.jsx(ne,{placeholder:"Choose a data structure..."})}),n.jsx(ee,{className:"bg-background border shadow-lg z-50",children:d.map(u=>n.jsx(A,{value:u.name,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:u.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type.toUpperCase(),"  ",u.description||"No description"]})]})},u.id))})]})]}),d.length===0&&n.jsx("div",{className:"border rounded-md p-3 space-y-2",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",o," usage. Please create data structures on the Data Structures page first."]})}),s&&n.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:((c=d.find(u=>u.name===s))==null?void 0:c.description)||s})]})]})]})]})}function GW({fields:e,mappings:t,selectedService:s,searchValue:r,showSelector:a,onSearchChange:o,onShowSelectorChange:i,onSelectService:l,onToggleExpanded:d,onDragStart:c,onDragEnd:u}){return n.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(S,{className:"font-semibold",children:"Source Message"}),n.jsx(AF,{isOpen:a,onOpenChange:i,selectedService:s,onSelectService:l,title:"Select Source Message",usage:"source"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:s||"No source selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(I,{placeholder:"Search source fields...",value:r,onChange:h=>o(h.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx(st,{children:n.jsx(rt,{children:"Select a source data structure to view fields"})}):n.jsx(PF,{fields:e,mappings:t,side:"source",onToggleExpanded:d,onDragStart:c,onDragEnd:u})})]})}function XW({fields:e,mappings:t,selectedService:s,searchValue:r,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:d,onToggleExpanded:c,onDragOver:u,onDrop:h,onSelectField:m}){return n.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b bg-background",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(S,{className:"font-semibold",children:"Target Message"}),n.jsx(AF,{isOpen:a,onOpenChange:l,selectedService:s,onSelectService:d,title:"Select Target Message",usage:"target"})]}),n.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:s||"No target selected"}),n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),n.jsx(I,{placeholder:"Search target fields...",value:r,onChange:f=>i(f.target.value),className:"pl-10"})]})]}),n.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:e.length===0?n.jsx(st,{children:n.jsx(rt,{children:"Select a target data structure to view fields"})}):n.jsx(PF,{fields:e,mappings:t,side:"target",selectedField:o,onToggleExpanded:c,onDragOver:u,onDrop:h,onSelectField:m})})]})}const JW=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,s=2)=>Number(e.toFixed(s)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,s)=>t+s,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,s)=>t+s,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],QW=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,s)=>s?e+s+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,s)=>e.substring(t,s),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,s)=>e.replace(t,s),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],ZW=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,s)=>e?t:s,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],eY=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],tY=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,s,r,a,o)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const s=new Date(e),r=new Date(t);return s<r?-1:s>r?1:0},javaTemplate:"compareDates({0}, {1})"}],nY=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,s)=>e.replace(t,s),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,s)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((s,r)=>s[t]-r[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],sY=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],$d={math:JW,text:QW,boolean:ZW,conversion:eY,date:tY,node:nY,constants:sY},rY=({open:e,onClose:t,selectedFunction:s,sourceFields:r,targetField:a,onApplyMapping:o})=>{const i=p.useRef(null),l=p.useRef(null),[d,c]=p.useState({id:"function_modal",functionName:s,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,h]=p.useState([]),[m,f]=p.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[y,x]=p.useState(new Set),[w,v]=p.useState(!1),j=Object.values($d).flat().find(k=>k.name===s),N=p.useCallback((k,M)=>{M.preventDefault(),M.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log(" DRAG START - Field:",k.name,"Position:",{x:M.clientX,y:M.clientY}),console.log(" DRAG START - Event target:",M.target),console.log(" DRAG START - Event currentTarget:",M.currentTarget),f({isDragging:!0,draggedItem:k,startPosition:{x:M.clientX,y:M.clientY},currentPosition:{x:M.clientX,y:M.clientY}});const $=new Set;j==null||j.parameters.forEach(D=>{!D.name.toLowerCase().includes("delimiter")&&!D.name.toLowerCase().includes("separator")&&($.add(`param-${d.id}-${D.name}`),console.log(" DRAG START - Added drop target:",`param-${d.id}-${D.name}`))}),x($),console.log(" DRAG START - Total drop targets:",$.size)},[j,d.id]),b=p.useCallback(k=>{m.isDragging&&(console.log(" DRAG MOVE - Position:",{x:k.clientX,y:k.clientY}),console.log(" DRAG MOVE - Element under mouse:",document.elementFromPoint(k.clientX,k.clientY)),f(M=>({...M,currentPosition:{x:k.clientX,y:k.clientY}})))},[m.isDragging]),E=p.useCallback(k=>{if(console.log(" DRAG END - Starting mouse up handler"),console.log(" DRAG END - isDragging:",m.isDragging),console.log(" DRAG END - draggedItem:",m.draggedItem),!m.isDragging||!m.draggedItem){console.log(" DRAG END - Early return - no drag in progress");return}console.log(" DRAG END - Position:",{x:k.clientX,y:k.clientY});const M=document.elementFromPoint(k.clientX,k.clientY);console.log(" DRAG END - Element under mouse:",M),console.log(" DRAG END - Element tag:",M==null?void 0:M.tagName),console.log(" DRAG END - Element classes:",M==null?void 0:M.className),console.log(" DRAG END - Element data-param:",M==null?void 0:M.getAttribute("data-param"));const $=M==null?void 0:M.closest("[data-param]");if(console.log(" DRAG END - Drop zone found:",$),console.log(" DRAG END - Drop zone data-param:",$==null?void 0:$.getAttribute("data-param")),$){const D=$.getAttribute("data-param");if(D){console.log(" DRAG END -  SUCCESS! Dropped on parameter:",D);const P=m.draggedItem;console.log(" DRAG END - Source field:",P),c(L=>{const O={...L,sourceConnections:{...L.sourceConnections,[D]:[P.path]}};return console.log(" DRAG END - Updated function node:",O),O}),setTimeout(()=>{console.log(" DRAG END - Creating visual connection");const L=document.querySelector(`[data-field-id="${P.id}"]`),O=$;if(console.log(" DRAG END - Source element found:",L),console.log(" DRAG END - Target element found:",O),console.log(" DRAG END - Canvas ref:",i.current),L&&O&&i.current){const R=i.current.getBoundingClientRect(),_=L.getBoundingClientRect(),z=O.getBoundingClientRect();console.log(" DRAG END - Canvas rect:",R),console.log(" DRAG END - Source rect:",_),console.log(" DRAG END - Target rect:",z);const B={id:`connection_${Date.now()}`,sourceId:P.id,targetId:`${d.id}-${D}`,sourceX:_.right-R.left,sourceY:_.top+_.height/2-R.top,targetX:z.left-R.left,targetY:z.top+z.height/2-R.top};console.log(" DRAG END - Connection created:",B),h(U=>{const K=[...U,B];return console.log(" DRAG END - All connections:",K),K})}else console.log(" DRAG END -  Failed to create connection - missing elements")},100)}else console.log(" DRAG END -  No param name found on drop zone")}else console.log(" DRAG END -  No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log(" DRAG END - Resetting drag state"),f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set),console.log(" DRAG END - Complete!")},[m,d.id]);he.useEffect(()=>{var k;if(console.log(" DRAG STATE CHANGE - isDragging:",m.isDragging),console.log(" DRAG STATE CHANGE - draggedItem:",(k=m.draggedItem)==null?void 0:k.name),m.isDragging)return console.log(" DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),()=>{console.log(" DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E)}},[m.isDragging,b,E]);const C=p.useCallback(k=>{if(!a)return;k.dataTransfer.setData("text/plain","function-output"),k.dataTransfer.effectAllowed="move";const M=new Set;M.add(`target-${a.id}`),x(M)},[a]),T=p.useCallback(()=>{f({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),x(new Set)},[]);p.useCallback((k,M)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",k),console.log("Event type:",M.type),M.preventDefault(),M.stopPropagation();let $=M.dataTransfer.getData("application/json");const D=M.dataTransfer.getData("text/plain"),P=M.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",$),console.log("Drag data - Name:",D),console.log("Drag data - ID:",P),!$&&D){const O=r.find(R=>R.name===D);O&&($=JSON.stringify(O))}if(!$){console.log("ERROR: No field data found in drag transfer");return}const L=JSON.parse($);console.log("Parsed source field:",L),c(O=>({...O,sourceConnections:{...O.sourceConnections,[k]:[L.path]}})),setTimeout(()=>{const O=document.querySelector(`[data-field-id="${L.id}"]`),R=document.querySelector(`[data-param="${k}"]`);if(O&&R&&i.current){const _=i.current.getBoundingClientRect(),z=O.getBoundingClientRect(),B=R.getBoundingClientRect(),U={id:`connection_${Date.now()}`,sourceId:L.id,targetId:`${d.id}-${k}`,sourceX:z.right-_.left,sourceY:z.top+z.height/2-_.top,targetX:B.left-_.left,targetY:B.top+B.height/2-_.top};h(K=>[...K,U]),console.log("Connection created:",U)}},100),T(),console.log("=== DROP COMPLETE ===")},[d.id,T,r]);const F=p.useCallback(k=>{if(k.preventDefault(),k.dataTransfer.getData("text/plain")!=="function-output"||!a)return;v(!0);const $=document.querySelector('[data-function-output="true"]'),D=document.querySelector(`[data-target-field="${a.id}"]`);if($&&D&&i.current){const P=i.current.getBoundingClientRect(),L=$.getBoundingClientRect(),O=D.getBoundingClientRect(),R={id:`connection_output_${Date.now()}`,sourceId:`${d.id}-output`,targetId:a.id,sourceX:L.right-P.left,sourceY:L.top+L.height/2-P.top,targetX:O.left-P.left,targetY:O.top+O.height/2-P.top};h(_=>[..._,R])}},[d.id,a]),V=p.useCallback(()=>{if(!j||!w||!a)return;const k=[],M=[];Object.values(d.sourceConnections).forEach(D=>{D.forEach(P=>{M.push(P),k.push(P.split(".").pop()||P)})});const $={id:`mapping_${Date.now()}`,name:`${s}_to_${a.name}`,sourceFields:k,targetField:a.name,sourcePaths:M,targetPath:a.path,functionNode:{...d,id:`function_${Date.now()}`},requiresTransformation:!0};o($),t()},[j,w,d,s,a,o,t]);return j?n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"max-w-6xl h-[80vh] p-0",children:[n.jsx(Ct,{className:"p-6 pb-0",children:n.jsxs(Et,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Function Mapping: ",j.name]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:V,disabled:!w||Object.keys(d.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),n.jsxs(W,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsxs("div",{ref:i,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[n.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[n.jsx("defs",{children:n.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(k=>n.jsx("path",{d:`M ${k.sourceX} ${k.sourceY} C ${k.sourceX+100} ${k.sourceY}, ${k.targetX-100} ${k.targetY}, ${k.targetX} ${k.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},k.id))]}),n.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[n.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),n.jsx("div",{className:"space-y-2",children:r.map(k=>{var M,$;return n.jsxs("div",{"data-field-id":k.id,className:ce("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",m.isDragging&&((M=m.draggedItem)==null?void 0:M.id)===k.id&&"opacity-70 scale-95"),style:{cursor:m.isDragging&&(($=m.draggedItem)==null?void 0:$.id)===k.id?"grabbing":"grab"},onMouseDown:D=>{D.preventDefault(),N(k,D)},children:[n.jsx("div",{className:"font-medium text-sm pointer-events-none",children:k.name}),n.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:k.type})]},k.id)})})]})}),n.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[n.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:j.name}),n.jsx("div",{className:"text-xs opacity-80",children:j.description})]}),n.jsx("div",{className:"p-2 space-y-2",children:j.parameters.map(k=>{var M,$;return n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-xs",children:k.name}),n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:k.type}),k.name.toLowerCase().includes("delimiter")||k.name.toLowerCase().includes("separator")?n.jsx(I,{placeholder:`Enter ${k.name}`,value:d.parameters[k.name]||"",onChange:D=>c(P=>({...P,parameters:{...P.parameters,[k.name]:D.target.value}})),className:"h-8 text-xs"}):n.jsxs("div",{"data-param":k.name,className:ce("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",y.has(`param-${d.id}-${k.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[(M=d.sourceConnections[k.name])==null?void 0:M.map((D,P)=>n.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:D.split(".").pop()},P)),!(($=d.sourceConnections[k.name])!=null&&$.length)&&n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},k.name)})}),n.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:C,onDragEnd:T,children:[n.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),n.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&n.jsx("div",{className:"w-72",children:n.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),n.jsxs("div",{"data-target-field":a.id,className:ce("bg-background border rounded p-3 transition-all",y.has(`target-${a.id}`)&&"border-primary bg-primary/10",w&&"border-success bg-success/10"),onDragOver:k=>k.preventDefault(),onDrop:F,children:[n.jsx("div",{className:"font-medium text-sm",children:a.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),w&&n.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:" Function output connected"})]})]})})]})]}),n.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"text-muted-foreground",children:"Connect source  function  target"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:ce("px-1.5 py-0.5 rounded",Object.keys(d.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(d.sourceConnections).length,"/",j.parameters.length]}),n.jsxs("span",{className:ce("px-1.5 py-0.5 rounded",w?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",w?"Connected":"Not connected"]})]})]})})]})}):null};function Vt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let s=0,r;s<e.length;s++)(r=Vt(e[s]))!==""&&(t+=(t&&" ")+r);else for(let s in e)e[s]&&(t+=(t&&" ")+s);return t}var aY={value:()=>{}};function vx(){for(var e=0,t=arguments.length,s={},r;e<t;++e){if(!(r=arguments[e]+"")||r in s||/[\s.]/.test(r))throw new Error("illegal type: "+r);s[r]=[]}return new Xm(s)}function Xm(e){this._=e}function oY(e,t){return e.trim().split(/^|\s+/).map(function(s){var r="",a=s.indexOf(".");if(a>=0&&(r=s.slice(a+1),s=s.slice(0,a)),s&&!t.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:r}})}Xm.prototype=vx.prototype={constructor:Xm,on:function(e,t){var s=this._,r=oY(e+"",s),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=iY(s[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)s[a]=rC(s[a],e.name,t);else if(t==null)for(a in s)s[a]=rC(s[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var s in t)e[s]=t[s].slice();return new Xm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var s=new Array(a),r=0,a,o;r<a;++r)s[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,s)},apply:function(e,t,s){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,s)}};function iY(e,t){for(var s=0,r=e.length,a;s<r;++s)if((a=e[s]).name===t)return a.value}function rC(e,t,s){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=aY,e=e.slice(0,r).concat(e.slice(r+1));break}return s!=null&&e.push({name:t,value:s}),e}var dj="http://www.w3.org/1999/xhtml";const aC={svg:"http://www.w3.org/2000/svg",xhtml:dj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yx(e){var t=e+="",s=t.indexOf(":");return s>=0&&(t=e.slice(0,s))!=="xmlns"&&(e=e.slice(s+1)),aC.hasOwnProperty(t)?{space:aC[t],local:e}:e}function lY(e){return function(){var t=this.ownerDocument,s=this.namespaceURI;return s===dj&&t.documentElement.namespaceURI===dj?t.createElement(e):t.createElementNS(s,e)}}function cY(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function DF(e){var t=yx(e);return(t.local?cY:lY)(t)}function dY(){}function iN(e){return e==null?dY:function(){return this.querySelector(e)}}function uY(e){typeof e!="function"&&(e=iN(e));for(var t=this._groups,s=t.length,r=new Array(s),a=0;a<s;++a)for(var o=t[a],i=o.length,l=r[a]=new Array(i),d,c,u=0;u<i;++u)(d=o[u])&&(c=e.call(d,d.__data__,u,o))&&("__data__"in d&&(c.__data__=d.__data__),l[u]=c);return new ns(r,this._parents)}function hY(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mY(){return[]}function RF(e){return e==null?mY:function(){return this.querySelectorAll(e)}}function pY(e){return function(){return hY(e.apply(this,arguments))}}function fY(e){typeof e=="function"?e=pY(e):e=RF(e);for(var t=this._groups,s=t.length,r=[],a=[],o=0;o<s;++o)for(var i=t[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&(r.push(e.call(d,d.__data__,c,i)),a.push(d));return new ns(r,a)}function MF(e){return function(){return this.matches(e)}}function FF(e){return function(t){return t.matches(e)}}var xY=Array.prototype.find;function gY(e){return function(){return xY.call(this.children,e)}}function vY(){return this.firstElementChild}function yY(e){return this.select(e==null?vY:gY(typeof e=="function"?e:FF(e)))}var jY=Array.prototype.filter;function wY(){return Array.from(this.children)}function NY(e){return function(){return jY.call(this.children,e)}}function bY(e){return this.selectAll(e==null?wY:NY(typeof e=="function"?e:FF(e)))}function SY(e){typeof e!="function"&&(e=MF(e));for(var t=this._groups,s=t.length,r=new Array(s),a=0;a<s;++a)for(var o=t[a],i=o.length,l=r[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new ns(r,this._parents)}function _F(e){return new Array(e.length)}function CY(){return new ns(this._enter||this._groups.map(_F),this._parents)}function Gp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gp.prototype={constructor:Gp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EY(e){return function(){return e}}function TY(e,t,s,r,a,o){for(var i=0,l,d=t.length,c=o.length;i<c;++i)(l=t[i])?(l.__data__=o[i],r[i]=l):s[i]=new Gp(e,o[i]);for(;i<d;++i)(l=t[i])&&(a[i]=l)}function PY(e,t,s,r,a,o,i){var l,d,c=new Map,u=t.length,h=o.length,m=new Array(u),f;for(l=0;l<u;++l)(d=t[l])&&(m[l]=f=i.call(d,d.__data__,l,t)+"",c.has(f)?a[l]=d:c.set(f,d));for(l=0;l<h;++l)f=i.call(e,o[l],l,o)+"",(d=c.get(f))?(r[l]=d,d.__data__=o[l],c.delete(f)):s[l]=new Gp(e,o[l]);for(l=0;l<u;++l)(d=t[l])&&c.get(m[l])===d&&(a[l]=d)}function kY(e){return e.__data__}function AY(e,t){if(!arguments.length)return Array.from(this,kY);var s=t?PY:TY,r=this._parents,a=this._groups;typeof e!="function"&&(e=EY(e));for(var o=a.length,i=new Array(o),l=new Array(o),d=new Array(o),c=0;c<o;++c){var u=r[c],h=a[c],m=h.length,f=DY(e.call(u,u&&u.__data__,c,r)),y=f.length,x=l[c]=new Array(y),w=i[c]=new Array(y),v=d[c]=new Array(m);s(u,h,x,w,v,f,t);for(var g=0,j=0,N,b;g<y;++g)if(N=x[g]){for(g>=j&&(j=g+1);!(b=w[j])&&++j<y;);N._next=b||null}}return i=new ns(i,r),i._enter=l,i._exit=d,i}function DY(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RY(){return new ns(this._exit||this._groups.map(_F),this._parents)}function MY(e,t,s){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),s==null?o.remove():s(o),r&&a?r.merge(a).order():a}function FY(e){for(var t=e.selection?e.selection():e,s=this._groups,r=t._groups,a=s.length,o=r.length,i=Math.min(a,o),l=new Array(a),d=0;d<i;++d)for(var c=s[d],u=r[d],h=c.length,m=l[d]=new Array(h),f,y=0;y<h;++y)(f=c[y]||u[y])&&(m[y]=f);for(;d<a;++d)l[d]=s[d];return new ns(l,this._parents)}function _Y(){for(var e=this._groups,t=-1,s=e.length;++t<s;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function IY(e){e||(e=OY);function t(h,m){return h&&m?e(h.__data__,m.__data__):!h-!m}for(var s=this._groups,r=s.length,a=new Array(r),o=0;o<r;++o){for(var i=s[o],l=i.length,d=a[o]=new Array(l),c,u=0;u<l;++u)(c=i[u])&&(d[u]=c);d.sort(t)}return new ns(a,this._parents).order()}function OY(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function LY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $Y(){return Array.from(this)}function VY(){for(var e=this._groups,t=0,s=e.length;t<s;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function UY(){let e=0;for(const t of this)++e;return e}function BY(){return!this.node()}function HY(e){for(var t=this._groups,s=0,r=t.length;s<r;++s)for(var a=t[s],o=0,i=a.length,l;o<i;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function zY(e){return function(){this.removeAttribute(e)}}function qY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WY(e,t){return function(){this.setAttribute(e,t)}}function YY(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function KY(e,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttribute(e):this.setAttribute(e,s)}}function GY(e,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,s)}}function XY(e,t){var s=yx(e);if(arguments.length<2){var r=this.node();return s.local?r.getAttributeNS(s.space,s.local):r.getAttribute(s)}return this.each((t==null?s.local?qY:zY:typeof t=="function"?s.local?GY:KY:s.local?YY:WY)(s,t))}function IF(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JY(e){return function(){this.style.removeProperty(e)}}function QY(e,t,s){return function(){this.style.setProperty(e,t,s)}}function ZY(e,t,s){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,s)}}function eK(e,t,s){return arguments.length>1?this.each((t==null?JY:typeof t=="function"?ZY:QY)(e,t,s??"")):wl(this.node(),e)}function wl(e,t){return e.style.getPropertyValue(t)||IF(e).getComputedStyle(e,null).getPropertyValue(t)}function tK(e){return function(){delete this[e]}}function nK(e,t){return function(){this[e]=t}}function sK(e,t){return function(){var s=t.apply(this,arguments);s==null?delete this[e]:this[e]=s}}function rK(e,t){return arguments.length>1?this.each((t==null?tK:typeof t=="function"?sK:nK)(e,t)):this.node()[e]}function OF(e){return e.trim().split(/^|\s+/)}function lN(e){return e.classList||new LF(e)}function LF(e){this._node=e,this._names=OF(e.getAttribute("class")||"")}LF.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $F(e,t){for(var s=lN(e),r=-1,a=t.length;++r<a;)s.add(t[r])}function VF(e,t){for(var s=lN(e),r=-1,a=t.length;++r<a;)s.remove(t[r])}function aK(e){return function(){$F(this,e)}}function oK(e){return function(){VF(this,e)}}function iK(e,t){return function(){(t.apply(this,arguments)?$F:VF)(this,e)}}function lK(e,t){var s=OF(e+"");if(arguments.length<2){for(var r=lN(this.node()),a=-1,o=s.length;++a<o;)if(!r.contains(s[a]))return!1;return!0}return this.each((typeof t=="function"?iK:t?aK:oK)(s,t))}function cK(){this.textContent=""}function dK(e){return function(){this.textContent=e}}function uK(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hK(e){return arguments.length?this.each(e==null?cK:(typeof e=="function"?uK:dK)(e)):this.node().textContent}function mK(){this.innerHTML=""}function pK(e){return function(){this.innerHTML=e}}function fK(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xK(e){return arguments.length?this.each(e==null?mK:(typeof e=="function"?fK:pK)(e)):this.node().innerHTML}function gK(){this.nextSibling&&this.parentNode.appendChild(this)}function vK(){return this.each(gK)}function yK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jK(){return this.each(yK)}function wK(e){var t=typeof e=="function"?e:DF(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NK(){return null}function bK(e,t){var s=typeof e=="function"?e:DF(e),r=t==null?NK:typeof t=="function"?t:iN(t);return this.select(function(){return this.insertBefore(s.apply(this,arguments),r.apply(this,arguments)||null)})}function SK(){var e=this.parentNode;e&&e.removeChild(this)}function CK(){return this.each(SK)}function EK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PK(e){return this.select(e?TK:EK)}function kK(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AK(e){return function(t){e.call(this,t,this.__data__)}}function DK(e){return e.trim().split(/^|\s+/).map(function(t){var s="",r=t.indexOf(".");return r>=0&&(s=t.slice(r+1),t=t.slice(0,r)),{type:t,name:s}})}function RK(e){return function(){var t=this.__on;if(t){for(var s=0,r=-1,a=t.length,o;s<a;++s)o=t[s],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function MK(e,t,s){return function(){var r=this.__on,a,o=AK(t);if(r){for(var i=0,l=r.length;i<l;++i)if((a=r[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=s),a.value=t;return}}this.addEventListener(e.type,o,s),a={type:e.type,name:e.name,value:t,listener:o,options:s},r?r.push(a):this.__on=[a]}}function FK(e,t,s){var r=DK(e+""),a,o=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,u;d<c;++d)for(a=0,u=l[d];a<o;++a)if((i=r[a]).type===u.type&&i.name===u.name)return u.value}return}for(l=t?MK:RK,a=0;a<o;++a)this.each(l(r[a],t,s));return this}function UF(e,t,s){var r=IF(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,s):(a=r.document.createEvent("Event"),s?(a.initEvent(t,s.bubbles,s.cancelable),a.detail=s.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function _K(e,t){return function(){return UF(this,e,t)}}function IK(e,t){return function(){return UF(this,e,t.apply(this,arguments))}}function OK(e,t){return this.each((typeof t=="function"?IK:_K)(e,t))}function*LK(){for(var e=this._groups,t=0,s=e.length;t<s;++t)for(var r=e[t],a=0,o=r.length,i;a<o;++a)(i=r[a])&&(yield i)}var BF=[null];function ns(e,t){this._groups=e,this._parents=t}function Fu(){return new ns([[document.documentElement]],BF)}function $K(){return this}ns.prototype=Fu.prototype={constructor:ns,select:uY,selectAll:fY,selectChild:yY,selectChildren:bY,filter:SY,data:AY,enter:CY,exit:RY,join:MY,merge:FY,selection:$K,order:_Y,sort:IY,call:LY,nodes:$Y,node:VY,size:UY,empty:BY,each:HY,attr:XY,style:eK,property:rK,classed:lK,text:hK,html:xK,raise:vK,lower:jK,append:wK,insert:bK,remove:CK,clone:PK,datum:kK,on:FK,dispatch:OK,[Symbol.iterator]:LK};function Wn(e){return typeof e=="string"?new ns([[document.querySelector(e)]],[document.documentElement]):new ns([[e]],BF)}function VK(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ps(e,t){if(e=VK(e),t===void 0&&(t=e.currentTarget),t){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var r=s.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const UK={passive:!1},Vd={capture:!0,passive:!1};function Ug(e){e.stopImmediatePropagation()}function rl(e){e.preventDefault(),e.stopImmediatePropagation()}function HF(e){var t=e.document.documentElement,s=Wn(e).on("dragstart.drag",rl,Vd);"onselectstart"in t?s.on("selectstart.drag",rl,Vd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zF(e,t){var s=e.document.documentElement,r=Wn(e).on("dragstart.drag",null);t&&(r.on("click.drag",rl,Vd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in s?r.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const lm=e=>()=>e;function uj(e,{sourceEvent:t,subject:s,target:r,identifier:a,active:o,x:i,y:l,dx:d,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}uj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function BK(e){return!e.ctrlKey&&!e.button}function HK(){return this.parentNode}function zK(e,t){return t??{x:e.x,y:e.y}}function qK(){return navigator.maxTouchPoints||"ontouchstart"in this}function qF(){var e=BK,t=HK,s=zK,r=qK,a={},o=vx("start","drag","end"),i=0,l,d,c,u,h=0;function m(N){N.on("mousedown.drag",f).filter(r).on("touchstart.drag",w).on("touchmove.drag",v,UK).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(N,b){if(!(u||!e.call(this,N,b))){var E=j(this,t.call(this,N,b),N,b,"mouse");E&&(Wn(N.view).on("mousemove.drag",y,Vd).on("mouseup.drag",x,Vd),HF(N.view),Ug(N),c=!1,l=N.clientX,d=N.clientY,E("start",N))}}function y(N){if(rl(N),!c){var b=N.clientX-l,E=N.clientY-d;c=b*b+E*E>h}a.mouse("drag",N)}function x(N){Wn(N.view).on("mousemove.drag mouseup.drag",null),zF(N.view,c),rl(N),a.mouse("end",N)}function w(N,b){if(e.call(this,N,b)){var E=N.changedTouches,C=t.call(this,N,b),T=E.length,F,V;for(F=0;F<T;++F)(V=j(this,C,N,b,E[F].identifier,E[F]))&&(Ug(N),V("start",N,E[F]))}}function v(N){var b=N.changedTouches,E=b.length,C,T;for(C=0;C<E;++C)(T=a[b[C].identifier])&&(rl(N),T("drag",N,b[C]))}function g(N){var b=N.changedTouches,E=b.length,C,T;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<E;++C)(T=a[b[C].identifier])&&(Ug(N),T("end",N,b[C]))}function j(N,b,E,C,T,F){var V=o.copy(),k=Ps(F||E,b),M,$,D;if((D=s.call(N,new uj("beforestart",{sourceEvent:E,target:m,identifier:T,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:V}),C))!=null)return M=D.x-k[0]||0,$=D.y-k[1]||0,function P(L,O,R){var _=k,z;switch(L){case"start":a[T]=P,z=i++;break;case"end":delete a[T],--i;case"drag":k=Ps(R||O,b),z=i;break}V.call(L,N,new uj(L,{sourceEvent:O,subject:D,target:m,identifier:T,active:z,x:k[0]+M,y:k[1]+$,dx:k[0]-_[0],dy:k[1]-_[1],dispatch:V}),C)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:lm(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:lm(N),m):t},m.subject=function(N){return arguments.length?(s=typeof N=="function"?N:lm(N),m):s},m.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:lm(!!N),m):r},m.on=function(){var N=o.on.apply(o,arguments);return N===o?m:N},m.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,m):Math.sqrt(h)},m}function cN(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function WF(e,t){var s=Object.create(e.prototype);for(var r in t)s[r]=t[r];return s}function _u(){}var Ud=.7,Xp=1/Ud,al="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WK=/^#([0-9a-f]{3,8})$/,YK=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),KK=new RegExp(`^rgb\\(${dr},${dr},${dr}\\)$`),GK=new RegExp(`^rgba\\(${al},${al},${al},${Bd}\\)$`),XK=new RegExp(`^rgba\\(${dr},${dr},${dr},${Bd}\\)$`),JK=new RegExp(`^hsl\\(${Bd},${dr},${dr}\\)$`),QK=new RegExp(`^hsla\\(${Bd},${dr},${dr},${Bd}\\)$`),oC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cN(_u,Vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iC,formatHex:iC,formatHex8:ZK,formatHsl:eG,formatRgb:lC,toString:lC});function iC(){return this.rgb().formatHex()}function ZK(){return this.rgb().formatHex8()}function eG(){return YF(this).formatHsl()}function lC(){return this.rgb().formatRgb()}function Vo(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=WK.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?cC(t):s===3?new Tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?cm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?cm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YK.exec(e))?new Tn(t[1],t[2],t[3],1):(t=KK.exec(e))?new Tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GK.exec(e))?cm(t[1],t[2],t[3],t[4]):(t=XK.exec(e))?cm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JK.exec(e))?hC(t[1],t[2]/100,t[3]/100,1):(t=QK.exec(e))?hC(t[1],t[2]/100,t[3]/100,t[4]):oC.hasOwnProperty(e)?cC(oC[e]):e==="transparent"?new Tn(NaN,NaN,NaN,0):null}function cC(e){return new Tn(e>>16&255,e>>8&255,e&255,1)}function cm(e,t,s,r){return r<=0&&(e=t=s=NaN),new Tn(e,t,s,r)}function tG(e){return e instanceof _u||(e=Vo(e)),e?(e=e.rgb(),new Tn(e.r,e.g,e.b,e.opacity)):new Tn}function hj(e,t,s,r){return arguments.length===1?tG(e):new Tn(e,t,s,r??1)}function Tn(e,t,s,r){this.r=+e,this.g=+t,this.b=+s,this.opacity=+r}cN(Tn,hj,WF(_u,{brighter(e){return e=e==null?Xp:Math.pow(Xp,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ud:Math.pow(Ud,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tn(Eo(this.r),Eo(this.g),Eo(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dC,formatHex:dC,formatHex8:nG,formatRgb:uC,toString:uC}));function dC(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function nG(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function uC(){const e=Jp(this.opacity);return`${e===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${e===1?")":`, ${e})`}`}function Jp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Eo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jo(e){return e=Eo(e),(e<16?"0":"")+e.toString(16)}function hC(e,t,s,r){return r<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new As(e,t,s,r)}function YF(e){if(e instanceof As)return new As(e.h,e.s,e.l,e.opacity);if(e instanceof _u||(e=Vo(e)),!e)return new As;if(e instanceof As)return e;e=e.rgb();var t=e.r/255,s=e.g/255,r=e.b/255,a=Math.min(t,s,r),o=Math.max(t,s,r),i=NaN,l=o-a,d=(o+a)/2;return l?(t===o?i=(s-r)/l+(s<r)*6:s===o?i=(r-t)/l+2:i=(t-s)/l+4,l/=d<.5?o+a:2-o-a,i*=60):l=d>0&&d<1?0:i,new As(i,l,d,e.opacity)}function sG(e,t,s,r){return arguments.length===1?YF(e):new As(e,t,s,r??1)}function As(e,t,s,r){this.h=+e,this.s=+t,this.l=+s,this.opacity=+r}cN(As,sG,WF(_u,{brighter(e){return e=e==null?Xp:Math.pow(Xp,e),new As(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ud:Math.pow(Ud,e),new As(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,r=s+(s<.5?s:1-s)*t,a=2*s-r;return new Tn(Bg(e>=240?e-240:e+120,a,r),Bg(e,a,r),Bg(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new As(mC(this.h),dm(this.s),dm(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jp(this.opacity);return`${e===1?"hsl(":"hsla("}${mC(this.h)}, ${dm(this.s)*100}%, ${dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mC(e){return e=(e||0)%360,e<0?e+360:e}function dm(e){return Math.max(0,Math.min(1,e||0))}function Bg(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const dN=e=>()=>e;function rG(e,t){return function(s){return e+s*t}}function aG(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(r){return Math.pow(e+r*t,s)}}function oG(e){return(e=+e)==1?KF:function(t,s){return s-t?aG(t,s,e):dN(isNaN(t)?s:t)}}function KF(e,t){var s=t-e;return s?rG(e,s):dN(isNaN(e)?t:e)}const Qp=function e(t){var s=oG(t);function r(a,o){var i=s((a=hj(a)).r,(o=hj(o)).r),l=s(a.g,o.g),d=s(a.b,o.b),c=KF(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=d(u),a.opacity=c(u),a+""}}return r.gamma=e,r}(1);function iG(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<s;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function lG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cG(e,t){var s=t?t.length:0,r=e?Math.min(s,e.length):0,a=new Array(r),o=new Array(s),i;for(i=0;i<r;++i)a[i]=sd(e[i],t[i]);for(;i<s;++i)o[i]=t[i];return function(l){for(i=0;i<r;++i)o[i]=a[i](l);return o}}function dG(e,t){var s=new Date;return e=+e,t=+t,function(r){return s.setTime(e*(1-r)+t*r),s}}function tr(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function uG(e,t){var s={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?s[a]=sd(e[a],t[a]):r[a]=t[a];return function(o){for(a in s)r[a]=s[a](o);return r}}var mj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hg=new RegExp(mj.source,"g");function hG(e){return function(){return e}}function mG(e){return function(t){return e(t)+""}}function GF(e,t){var s=mj.lastIndex=Hg.lastIndex=0,r,a,o,i=-1,l=[],d=[];for(e=e+"",t=t+"";(r=mj.exec(e))&&(a=Hg.exec(t));)(o=a.index)>s&&(o=t.slice(s,o),l[i]?l[i]+=o:l[++i]=o),(r=r[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,d.push({i,x:tr(r,a)})),s=Hg.lastIndex;return s<t.length&&(o=t.slice(s),l[i]?l[i]+=o:l[++i]=o),l.length<2?d[0]?mG(d[0].x):hG(t):(t=d.length,function(c){for(var u=0,h;u<t;++u)l[(h=d[u]).i]=h.x(c);return l.join("")})}function sd(e,t){var s=typeof t,r;return t==null||s==="boolean"?dN(t):(s==="number"?tr:s==="string"?(r=Vo(t))?(t=r,Qp):GF:t instanceof Vo?Qp:t instanceof Date?dG:lG(t)?iG:Array.isArray(t)?cG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uG:tr)(e,t)}var pC=180/Math.PI,pj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XF(e,t,s,r,a,o){var i,l,d;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(d=e*s+t*r)&&(s-=e*d,r-=t*d),(l=Math.sqrt(s*s+r*r))&&(s/=l,r/=l,d/=l),e*r<t*s&&(e=-e,t=-t,d=-d,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*pC,skewX:Math.atan(d)*pC,scaleX:i,scaleY:l}}var um;function pG(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?pj:XF(t.a,t.b,t.c,t.d,t.e,t.f)}function fG(e){return e==null||(um||(um=document.createElementNS("http://www.w3.org/2000/svg","g")),um.setAttribute("transform",e),!(e=um.transform.baseVal.consolidate()))?pj:(e=e.matrix,XF(e.a,e.b,e.c,e.d,e.e,e.f))}function JF(e,t,s,r){function a(c){return c.length?c.pop()+" ":""}function o(c,u,h,m,f,y){if(c!==h||u!==m){var x=f.push("translate(",null,t,null,s);y.push({i:x-4,x:tr(c,h)},{i:x-2,x:tr(u,m)})}else(h||m)&&f.push("translate("+h+t+m+s)}function i(c,u,h,m){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),m.push({i:h.push(a(h)+"rotate(",null,r)-2,x:tr(c,u)})):u&&h.push(a(h)+"rotate("+u+r)}function l(c,u,h,m){c!==u?m.push({i:h.push(a(h)+"skewX(",null,r)-2,x:tr(c,u)}):u&&h.push(a(h)+"skewX("+u+r)}function d(c,u,h,m,f,y){if(c!==h||u!==m){var x=f.push(a(f)+"scale(",null,",",null,")");y.push({i:x-4,x:tr(c,h)},{i:x-2,x:tr(u,m)})}else(h!==1||m!==1)&&f.push(a(f)+"scale("+h+","+m+")")}return function(c,u){var h=[],m=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,h,m),i(c.rotate,u.rotate,h,m),l(c.skewX,u.skewX,h,m),d(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,m),c=u=null,function(f){for(var y=-1,x=m.length,w;++y<x;)h[(w=m[y]).i]=w.x(f);return h.join("")}}}var xG=JF(pG,"px, ","px)","deg)"),gG=JF(fG,", ",")",")"),vG=1e-12;function fC(e){return((e=Math.exp(e))+1/e)/2}function yG(e){return((e=Math.exp(e))-1/e)/2}function jG(e){return((e=Math.exp(2*e))-1)/(e+1)}const Jm=function e(t,s,r){function a(o,i){var l=o[0],d=o[1],c=o[2],u=i[0],h=i[1],m=i[2],f=u-l,y=h-d,x=f*f+y*y,w,v;if(x<vG)v=Math.log(m/c)/t,w=function(C){return[l+C*f,d+C*y,c*Math.exp(t*C*v)]};else{var g=Math.sqrt(x),j=(m*m-c*c+r*x)/(2*c*s*g),N=(m*m-c*c-r*x)/(2*m*s*g),b=Math.log(Math.sqrt(j*j+1)-j),E=Math.log(Math.sqrt(N*N+1)-N);v=(E-b)/t,w=function(C){var T=C*v,F=fC(b),V=c/(s*g)*(F*jG(t*T+b)-yG(b));return[l+V*f,d+V*y,c*F/fC(t*T+b)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,d=l*l;return e(i,l,d)},a}(Math.SQRT2,2,4);var Nl=0,Bc=0,Pc=0,QF=1e3,Zp,Hc,ef=0,Uo=0,jx=0,Hd=typeof performance=="object"&&performance.now?performance:Date,ZF=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uN(){return Uo||(ZF(wG),Uo=Hd.now()+jx)}function wG(){Uo=0}function tf(){this._call=this._time=this._next=null}tf.prototype=e4.prototype={constructor:tf,restart:function(e,t,s){if(typeof e!="function")throw new TypeError("callback is not a function");s=(s==null?uN():+s)+(t==null?0:+t),!this._next&&Hc!==this&&(Hc?Hc._next=this:Zp=this,Hc=this),this._call=e,this._time=s,fj()},stop:function(){this._call&&(this._call=null,this._time=1/0,fj())}};function e4(e,t,s){var r=new tf;return r.restart(e,t,s),r}function NG(){uN(),++Nl;for(var e=Zp,t;e;)(t=Uo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Nl}function xC(){Uo=(ef=Hd.now())+jx,Nl=Bc=0;try{NG()}finally{Nl=0,SG(),Uo=0}}function bG(){var e=Hd.now(),t=e-ef;t>QF&&(jx-=t,ef=e)}function SG(){for(var e,t=Zp,s,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(s=t._next,t._next=null,t=e?e._next=s:Zp=s);Hc=e,fj(r)}function fj(e){if(!Nl){Bc&&(Bc=clearTimeout(Bc));var t=e-Uo;t>24?(e<1/0&&(Bc=setTimeout(xC,e-Hd.now()-jx)),Pc&&(Pc=clearInterval(Pc))):(Pc||(ef=Hd.now(),Pc=setInterval(bG,QF)),Nl=1,ZF(xC))}}function gC(e,t,s){var r=new tf;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,s),r}var CG=vx("start","end","cancel","interrupt"),EG=[],t4=0,vC=1,xj=2,Qm=3,yC=4,gj=5,Zm=6;function wx(e,t,s,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(s in i)return;TG(e,s,{name:t,index:r,group:a,on:CG,tween:EG,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:t4})}function hN(e,t){var s=Ks(e,t);if(s.state>t4)throw new Error("too late; already scheduled");return s}function wr(e,t){var s=Ks(e,t);if(s.state>Qm)throw new Error("too late; already running");return s}function Ks(e,t){var s=e.__transition;if(!s||!(s=s[t]))throw new Error("transition not found");return s}function TG(e,t,s){var r=e.__transition,a;r[t]=s,s.timer=e4(o,0,s.time);function o(c){s.state=vC,s.timer.restart(i,s.delay,s.time),s.delay<=c&&i(c-s.delay)}function i(c){var u,h,m,f;if(s.state!==vC)return d();for(u in r)if(f=r[u],f.name===s.name){if(f.state===Qm)return gC(i);f.state===yC?(f.state=Zm,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[u]):+u<t&&(f.state=Zm,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[u])}if(gC(function(){s.state===Qm&&(s.state=yC,s.timer.restart(l,s.delay,s.time),l(c))}),s.state=xj,s.on.call("start",e,e.__data__,s.index,s.group),s.state===xj){for(s.state=Qm,a=new Array(m=s.tween.length),u=0,h=-1;u<m;++u)(f=s.tween[u].value.call(e,e.__data__,s.index,s.group))&&(a[++h]=f);a.length=h+1}}function l(c){for(var u=c<s.duration?s.ease.call(null,c/s.duration):(s.timer.restart(d),s.state=gj,1),h=-1,m=a.length;++h<m;)a[h].call(e,u);s.state===gj&&(s.on.call("end",e,e.__data__,s.index,s.group),d())}function d(){s.state=Zm,s.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ep(e,t){var s=e.__transition,r,a,o=!0,i;if(s){t=t==null?null:t+"";for(i in s){if((r=s[i]).name!==t){o=!1;continue}a=r.state>xj&&r.state<gj,r.state=Zm,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete s[i]}o&&delete e.__transition}}function PG(e){return this.each(function(){ep(this,e)})}function kG(e,t){var s,r;return function(){var a=wr(this,e),o=a.tween;if(o!==s){r=s=o;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function AG(e,t,s){var r,a;if(typeof s!="function")throw new Error;return function(){var o=wr(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var l={name:t,value:s},d=0,c=a.length;d<c;++d)if(a[d].name===t){a[d]=l;break}d===c&&a.push(l)}o.tween=a}}function DG(e,t){var s=this._id;if(e+="",arguments.length<2){for(var r=Ks(this.node(),s).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?kG:AG)(s,e,t))}function mN(e,t,s){var r=e._id;return e.each(function(){var a=wr(this,r);(a.value||(a.value={}))[t]=s.apply(this,arguments)}),function(a){return Ks(a,r).value[t]}}function n4(e,t){var s;return(typeof t=="number"?tr:t instanceof Vo?Qp:(s=Vo(t))?(t=s,Qp):GF)(e,t)}function RG(e){return function(){this.removeAttribute(e)}}function MG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FG(e,t,s){var r,a=s+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,s)}}function _G(e,t,s){var r,a=s+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,s)}}function IG(e,t,s){var r,a,o;return function(){var i,l=s(this),d;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),d=l+"",i===d?null:i===r&&d===a?o:(a=d,o=t(r=i,l)))}}function OG(e,t,s){var r,a,o;return function(){var i,l=s(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),d=l+"",i===d?null:i===r&&d===a?o:(a=d,o=t(r=i,l)))}}function LG(e,t){var s=yx(e),r=s==="transform"?gG:n4;return this.attrTween(e,typeof t=="function"?(s.local?OG:IG)(s,r,mN(this,"attr."+e,t)):t==null?(s.local?MG:RG)(s):(s.local?_G:FG)(s,r,t))}function $G(e,t){return function(s){this.setAttribute(e,t.call(this,s))}}function VG(e,t){return function(s){this.setAttributeNS(e.space,e.local,t.call(this,s))}}function UG(e,t){var s,r;function a(){var o=t.apply(this,arguments);return o!==r&&(s=(r=o)&&VG(e,o)),s}return a._value=t,a}function BG(e,t){var s,r;function a(){var o=t.apply(this,arguments);return o!==r&&(s=(r=o)&&$G(e,o)),s}return a._value=t,a}function HG(e,t){var s="attr."+e;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;var r=yx(e);return this.tween(s,(r.local?UG:BG)(r,t))}function zG(e,t){return function(){hN(this,e).delay=+t.apply(this,arguments)}}function qG(e,t){return t=+t,function(){hN(this,e).delay=t}}function WG(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zG:qG)(t,e)):Ks(this.node(),t).delay}function YG(e,t){return function(){wr(this,e).duration=+t.apply(this,arguments)}}function KG(e,t){return t=+t,function(){wr(this,e).duration=t}}function GG(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?YG:KG)(t,e)):Ks(this.node(),t).duration}function XG(e,t){if(typeof t!="function")throw new Error;return function(){wr(this,e).ease=t}}function JG(e){var t=this._id;return arguments.length?this.each(XG(t,e)):Ks(this.node(),t).ease}function QG(e,t){return function(){var s=t.apply(this,arguments);if(typeof s!="function")throw new Error;wr(this,e).ease=s}}function ZG(e){if(typeof e!="function")throw new Error;return this.each(QG(this._id,e))}function eX(e){typeof e!="function"&&(e=MF(e));for(var t=this._groups,s=t.length,r=new Array(s),a=0;a<s;++a)for(var o=t[a],i=o.length,l=r[a]=[],d,c=0;c<i;++c)(d=o[c])&&e.call(d,d.__data__,c,o)&&l.push(d);return new qr(r,this._parents,this._name,this._id)}function tX(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,s=e._groups,r=t.length,a=s.length,o=Math.min(r,a),i=new Array(r),l=0;l<o;++l)for(var d=t[l],c=s[l],u=d.length,h=i[l]=new Array(u),m,f=0;f<u;++f)(m=d[f]||c[f])&&(h[f]=m);for(;l<r;++l)i[l]=t[l];return new qr(i,this._parents,this._name,this._id)}function nX(e){return(e+"").trim().split(/^|\s+/).every(function(t){var s=t.indexOf(".");return s>=0&&(t=t.slice(0,s)),!t||t==="start"})}function sX(e,t,s){var r,a,o=nX(t)?hN:wr;return function(){var i=o(this,e),l=i.on;l!==r&&(a=(r=l).copy()).on(t,s),i.on=a}}function rX(e,t){var s=this._id;return arguments.length<2?Ks(this.node(),s).on.on(e):this.each(sX(s,e,t))}function aX(e){return function(){var t=this.parentNode;for(var s in this.__transition)if(+s!==e)return;t&&t.removeChild(this)}}function oX(){return this.on("end.remove",aX(this._id))}function iX(e){var t=this._name,s=this._id;typeof e!="function"&&(e=iN(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var l=r[i],d=l.length,c=o[i]=new Array(d),u,h,m=0;m<d;++m)(u=l[m])&&(h=e.call(u,u.__data__,m,l))&&("__data__"in u&&(h.__data__=u.__data__),c[m]=h,wx(c[m],t,s,m,c,Ks(u,s)));return new qr(o,this._parents,t,s)}function lX(e){var t=this._name,s=this._id;typeof e!="function"&&(e=RF(e));for(var r=this._groups,a=r.length,o=[],i=[],l=0;l<a;++l)for(var d=r[l],c=d.length,u,h=0;h<c;++h)if(u=d[h]){for(var m=e.call(u,u.__data__,h,d),f,y=Ks(u,s),x=0,w=m.length;x<w;++x)(f=m[x])&&wx(f,t,s,x,m,y);o.push(m),i.push(u)}return new qr(o,i,t,s)}var cX=Fu.prototype.constructor;function dX(){return new cX(this._groups,this._parents)}function uX(e,t){var s,r,a;return function(){var o=wl(this,e),i=(this.style.removeProperty(e),wl(this,e));return o===i?null:o===s&&i===r?a:a=t(s=o,r=i)}}function s4(e){return function(){this.style.removeProperty(e)}}function hX(e,t,s){var r,a=s+"",o;return function(){var i=wl(this,e);return i===a?null:i===r?o:o=t(r=i,s)}}function mX(e,t,s){var r,a,o;return function(){var i=wl(this,e),l=s(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),wl(this,e))),i===d?null:i===r&&d===a?o:(a=d,o=t(r=i,l))}}function pX(e,t){var s,r,a,o="style."+t,i="end."+o,l;return function(){var d=wr(this,e),c=d.on,u=d.value[o]==null?l||(l=s4(t)):void 0;(c!==s||a!==u)&&(r=(s=c).copy()).on(i,a=u),d.on=r}}function fX(e,t,s){var r=(e+="")=="transform"?xG:n4;return t==null?this.styleTween(e,uX(e,r)).on("end.style."+e,s4(e)):typeof t=="function"?this.styleTween(e,mX(e,r,mN(this,"style."+e,t))).each(pX(this._id,e)):this.styleTween(e,hX(e,r,t),s).on("end.style."+e,null)}function xX(e,t,s){return function(r){this.style.setProperty(e,t.call(this,r),s)}}function gX(e,t,s){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&xX(e,i,s)),r}return o._value=t,o}function vX(e,t,s){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,gX(e,t,s??""))}function yX(e){return function(){this.textContent=e}}function jX(e){return function(){var t=e(this);this.textContent=t??""}}function wX(e){return this.tween("text",typeof e=="function"?jX(mN(this,"text",e)):yX(e==null?"":e+""))}function NX(e){return function(t){this.textContent=e.call(this,t)}}function bX(e){var t,s;function r(){var a=e.apply(this,arguments);return a!==s&&(t=(s=a)&&NX(a)),t}return r._value=e,r}function SX(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bX(e))}function CX(){for(var e=this._name,t=this._id,s=r4(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,d,c=0;c<l;++c)if(d=i[c]){var u=Ks(d,t);wx(d,e,s,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qr(r,this._parents,e,s)}function EX(){var e,t,s=this,r=s._id,a=s.size();return new Promise(function(o,i){var l={value:i},d={value:function(){--a===0&&o()}};s.each(function(){var c=wr(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),c.on=t}),a===0&&o()})}var TX=0;function qr(e,t,s,r){this._groups=e,this._parents=t,this._name=s,this._id=r}function r4(){return++TX}var Pr=Fu.prototype;qr.prototype={constructor:qr,select:iX,selectAll:lX,selectChild:Pr.selectChild,selectChildren:Pr.selectChildren,filter:eX,merge:tX,selection:dX,transition:CX,call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:rX,attr:LG,attrTween:HG,style:fX,styleTween:vX,text:wX,textTween:SX,remove:oX,tween:DG,delay:WG,duration:GG,ease:JG,easeVarying:ZG,end:EX,[Symbol.iterator]:Pr[Symbol.iterator]};function PX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kX={time:null,delay:0,duration:250,ease:PX};function AX(e,t){for(var s;!(s=e.__transition)||!(s=s[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return s}function DX(e){var t,s;e instanceof qr?(t=e._id,e=e._name):(t=r4(),(s=kX).time=uN(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,d,c=0;c<l;++c)(d=i[c])&&wx(d,e,t,c,i,s||AX(d,t));return new qr(r,this._parents,e,t)}Fu.prototype.interrupt=PG;Fu.prototype.transition=DX;const hm=e=>()=>e;function RX(e,{sourceEvent:t,target:s,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Ir(e,t,s){this.k=e,this.x=t,this.y=s}Ir.prototype={constructor:Ir,scale:function(e){return e===1?this:new Ir(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ir(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nx=new Ir(1,0,0);a4.prototype=Ir.prototype;function a4(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Nx;return e.__zoom}function zg(e){e.stopImmediatePropagation()}function kc(e){e.preventDefault(),e.stopImmediatePropagation()}function MX(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function FX(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jC(){return this.__zoom||Nx}function _X(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function IX(){return navigator.maxTouchPoints||"ontouchstart"in this}function OX(e,t,s){var r=e.invertX(t[0][0])-s[0][0],a=e.invertX(t[1][0])-s[1][0],o=e.invertY(t[0][1])-s[0][1],i=e.invertY(t[1][1])-s[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function o4(){var e=MX,t=FX,s=OX,r=_X,a=IX,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Jm,c=vx("start","zoom","end"),u,h,m,f=500,y=150,x=0,w=10;function v(D){D.property("__zoom",jC).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",V).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(D,P,L,O){var R=D.selection?D.selection():D;R.property("__zoom",jC),D!==R?b(D,P,L,O):R.interrupt().each(function(){E(this,arguments).event(O).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},v.scaleBy=function(D,P,L,O){v.scaleTo(D,function(){var R=this.__zoom.k,_=typeof P=="function"?P.apply(this,arguments):P;return R*_},L,O)},v.scaleTo=function(D,P,L,O){v.transform(D,function(){var R=t.apply(this,arguments),_=this.__zoom,z=L==null?N(R):typeof L=="function"?L.apply(this,arguments):L,B=_.invert(z),U=typeof P=="function"?P.apply(this,arguments):P;return s(j(g(_,U),z,B),R,i)},L,O)},v.translateBy=function(D,P,L,O){v.transform(D,function(){return s(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),i)},null,O)},v.translateTo=function(D,P,L,O,R){v.transform(D,function(){var _=t.apply(this,arguments),z=this.__zoom,B=O==null?N(_):typeof O=="function"?O.apply(this,arguments):O;return s(Nx.translate(B[0],B[1]).scale(z.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof L=="function"?-L.apply(this,arguments):-L),_,i)},O,R)};function g(D,P){return P=Math.max(o[0],Math.min(o[1],P)),P===D.k?D:new Ir(P,D.x,D.y)}function j(D,P,L){var O=P[0]-L[0]*D.k,R=P[1]-L[1]*D.k;return O===D.x&&R===D.y?D:new Ir(D.k,O,R)}function N(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function b(D,P,L,O){D.on("start.zoom",function(){E(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(O).end()}).tween("zoom",function(){var R=this,_=arguments,z=E(R,_).event(O),B=t.apply(R,_),U=L==null?N(B):typeof L=="function"?L.apply(R,_):L,K=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Y=R.__zoom,X=typeof P=="function"?P.apply(R,_):P,G=d(Y.invert(U).concat(K/Y.k),X.invert(U).concat(K/X.k));return function(H){if(H===1)H=X;else{var ae=G(H),de=K/ae[2];H=new Ir(de,U[0]-ae[0]*de,U[1]-ae[1]*de)}z.zoom(null,H)}})}function E(D,P,L){return!L&&D.__zooming||new C(D,P)}function C(D,P){this.that=D,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,P),this.taps=0}C.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,P){return this.mouse&&D!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var P=Wn(this.that).datum();c.call(D,this.that,new RX(D,{sourceEvent:this.sourceEvent,target:v,type:D,transform:this.that.__zoom,dispatch:c}),P)}};function T(D,...P){if(!e.apply(this,arguments))return;var L=E(this,P).event(D),O=this.__zoom,R=Math.max(o[0],Math.min(o[1],O.k*Math.pow(2,r.apply(this,arguments)))),_=Ps(D);if(L.wheel)(L.mouse[0][0]!==_[0]||L.mouse[0][1]!==_[1])&&(L.mouse[1]=O.invert(L.mouse[0]=_)),clearTimeout(L.wheel);else{if(O.k===R)return;L.mouse=[_,O.invert(_)],ep(this),L.start()}kc(D),L.wheel=setTimeout(z,y),L.zoom("mouse",s(j(g(O,R),L.mouse[0],L.mouse[1]),L.extent,i));function z(){L.wheel=null,L.end()}}function F(D,...P){if(m||!e.apply(this,arguments))return;var L=D.currentTarget,O=E(this,P,!0).event(D),R=Wn(D.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",K,!0),_=Ps(D,L),z=D.clientX,B=D.clientY;HF(D.view),zg(D),O.mouse=[_,this.__zoom.invert(_)],ep(this),O.start();function U(Y){if(kc(Y),!O.moved){var X=Y.clientX-z,G=Y.clientY-B;O.moved=X*X+G*G>x}O.event(Y).zoom("mouse",s(j(O.that.__zoom,O.mouse[0]=Ps(Y,L),O.mouse[1]),O.extent,i))}function K(Y){R.on("mousemove.zoom mouseup.zoom",null),zF(Y.view,O.moved),kc(Y),O.event(Y).end()}}function V(D,...P){if(e.apply(this,arguments)){var L=this.__zoom,O=Ps(D.changedTouches?D.changedTouches[0]:D,this),R=L.invert(O),_=L.k*(D.shiftKey?.5:2),z=s(j(g(L,_),O,R),t.apply(this,P),i);kc(D),l>0?Wn(this).transition().duration(l).call(b,z,O,D):Wn(this).call(v.transform,z,O,D)}}function k(D,...P){if(e.apply(this,arguments)){var L=D.touches,O=L.length,R=E(this,P,D.changedTouches.length===O).event(D),_,z,B,U;for(zg(D),z=0;z<O;++z)B=L[z],U=Ps(B,this),U=[U,this.__zoom.invert(U),B.identifier],R.touch0?!R.touch1&&R.touch0[2]!==U[2]&&(R.touch1=U,R.taps=0):(R.touch0=U,_=!0,R.taps=1+!!u);u&&(u=clearTimeout(u)),_&&(R.taps<2&&(h=U[0],u=setTimeout(function(){u=null},f)),ep(this),R.start())}}function M(D,...P){if(this.__zooming){var L=E(this,P).event(D),O=D.changedTouches,R=O.length,_,z,B,U;for(kc(D),_=0;_<R;++_)z=O[_],B=Ps(z,this),L.touch0&&L.touch0[2]===z.identifier?L.touch0[0]=B:L.touch1&&L.touch1[2]===z.identifier&&(L.touch1[0]=B);if(z=L.that.__zoom,L.touch1){var K=L.touch0[0],Y=L.touch0[1],X=L.touch1[0],G=L.touch1[1],H=(H=X[0]-K[0])*H+(H=X[1]-K[1])*H,ae=(ae=G[0]-Y[0])*ae+(ae=G[1]-Y[1])*ae;z=g(z,Math.sqrt(H/ae)),B=[(K[0]+X[0])/2,(K[1]+X[1])/2],U=[(Y[0]+G[0])/2,(Y[1]+G[1])/2]}else if(L.touch0)B=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",s(j(z,B,U),L.extent,i))}}function $(D,...P){if(this.__zooming){var L=E(this,P).event(D),O=D.changedTouches,R=O.length,_,z;for(zg(D),m&&clearTimeout(m),m=setTimeout(function(){m=null},f),_=0;_<R;++_)z=O[_],L.touch0&&L.touch0[2]===z.identifier?delete L.touch0:L.touch1&&L.touch1[2]===z.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(z=Ps(z,this),Math.hypot(h[0]-z[0],h[1]-z[1])<w)){var B=Wn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return v.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:hm(+D),v):r},v.filter=function(D){return arguments.length?(e=typeof D=="function"?D:hm(!!D),v):e},v.touchable=function(D){return arguments.length?(a=typeof D=="function"?D:hm(!!D),v):a},v.extent=function(D){return arguments.length?(t=typeof D=="function"?D:hm([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),v):t},v.scaleExtent=function(D){return arguments.length?(o[0]=+D[0],o[1]=+D[1],v):[o[0],o[1]]},v.translateExtent=function(D){return arguments.length?(i[0][0]=+D[0][0],i[1][0]=+D[1][0],i[0][1]=+D[0][1],i[1][1]=+D[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(D){return arguments.length?(s=D,v):s},v.duration=function(D){return arguments.length?(l=+D,v):l},v.interpolate=function(D){return arguments.length?(d=D,v):d},v.on=function(){var D=c.on.apply(c,arguments);return D===c?v:D},v.clickDistance=function(D){return arguments.length?(x=(D=+D)*D,v):Math.sqrt(x)},v.tapDistance=function(D){return arguments.length?(w=+D,v):w},v}const xr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:s,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?s:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},zd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],i4=["Enter"," ","Escape"],l4={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:s})=>`Moved selected node ${e}. New position, x: ${t}, y: ${s}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Bo;(function(e){e.Strict="strict",e.Loose="loose"})(Bo||(Bo={}));var To;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(To||(To={}));var qd;(function(e){e.Partial="partial",e.Full="full"})(qd||(qd={}));const c4={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ya;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ya||(ya={}));var Ds;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ds||(Ds={}));var be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(be||(be={}));const wC={[be.Left]:be.Right,[be.Right]:be.Left,[be.Top]:be.Bottom,[be.Bottom]:be.Top};function d4(e){return e===null?null:e?"valid":"invalid"}const u4=e=>"id"in e&&"source"in e&&"target"in e,LX=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),pN=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Iu=(e,t=[0,0])=>{const{width:s,height:r}=Qr(e),a=e.origin??t,o=s*a[0],i=r*a[1];return{x:e.position.x-o,y:e.position.y-i}},$X=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const s=e.reduce((r,a)=>{const o=typeof a=="string";let i=!t.nodeLookup&&!o?a:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(a):pN(a)?a:t.nodeLookup.get(a.id));const l=i?nf(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return bx(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sx(s)},Ou=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let s={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const a=nf(r);s=bx(s,a)}}),Sx(s)},fN=(e,t,[s,r,a]=[0,0,1],o=!1,i=!1)=>{const l={...Lu(t,[s,r,a]),width:t.width/a,height:t.height/a},d=[];for(const c of e.values()){const{measured:u,selectable:h=!0,hidden:m=!1}=c;if(i&&!h||m)continue;const f=u.width??c.width??c.initialWidth??null,y=u.height??c.height??c.initialHeight??null,x=Wd(l,Sl(c)),w=(f??0)*(y??0),v=o&&x>0;(!c.internals.handleBounds||v||x>=w||c.dragging)&&d.push(c)}return d},VX=(e,t)=>{const s=new Set;return e.forEach(r=>{s.add(r.id)}),t.filter(r=>s.has(r.source)||s.has(r.target))};function UX(e,t){const s=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!r||r.has(a.id))&&s.set(a.id,a)}),s}async function BX({nodes:e,width:t,height:s,panZoom:r,minZoom:a,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=UX(e,i),d=Ou(l),c=xN(d,t,s,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function h4({nodeId:e,nextPosition:t,nodeLookup:s,nodeOrigin:r=[0,0],nodeExtent:a,onError:o}){const i=s.get(e),l=i.parentId?s.get(i.parentId):void 0,{x:d,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let h=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)o==null||o("005",xr.error005());else{const f=l.measured.width,y=l.measured.height;f&&y&&(h=[[d,c],[d+f,c+y]])}else l&&Cl(i.extent)&&(h=[[i.extent[0][0]+d,i.extent[0][1]+c],[i.extent[1][0]+d,i.extent[1][1]+c]]);const m=Cl(h)?Ho(t,h,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",xr.error015())),{position:{x:m.x-d+(i.measured.width??0)*u[0],y:m.y-c+(i.measured.height??0)*u[1]},positionAbsolute:m}}async function HX({nodesToRemove:e=[],edgesToRemove:t=[],nodes:s,edges:r,onBeforeDelete:a}){const o=new Set(e.map(m=>m.id)),i=[];for(const m of s){if(m.deletable===!1)continue;const f=o.has(m.id),y=!f&&m.parentId&&i.find(x=>x.id===m.parentId);(f||y)&&i.push(m)}const l=new Set(t.map(m=>m.id)),d=r.filter(m=>m.deletable!==!1),u=VX(i,d);for(const m of d)l.has(m.id)&&!u.find(y=>y.id===m.id)&&u.push(m);if(!a)return{edges:u,nodes:i};const h=await a({nodes:i,edges:u});return typeof h=="boolean"?h?{edges:u,nodes:i}:{edges:[],nodes:[]}:h}const bl=(e,t=0,s=1)=>Math.min(Math.max(e,t),s),Ho=(e={x:0,y:0},t,s)=>({x:bl(e.x,t[0][0],t[1][0]-((s==null?void 0:s.width)??0)),y:bl(e.y,t[0][1],t[1][1]-((s==null?void 0:s.height)??0))});function m4(e,t,s){const{width:r,height:a}=Qr(s),{x:o,y:i}=s.internals.positionAbsolute;return Ho(e,[[o,i],[o+r,i+a]],t)}const NC=(e,t,s)=>e<t?bl(Math.abs(e-t),1,t)/t:e>s?-bl(Math.abs(e-s),1,t)/t:0,p4=(e,t,s=15,r=40)=>{const a=NC(e.x,r,t.width-r)*s,o=NC(e.y,r,t.height-r)*s;return[a,o]},bx=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vj=({x:e,y:t,width:s,height:r})=>({x:e,y:t,x2:e+s,y2:t+r}),Sx=({x:e,y:t,x2:s,y2:r})=>({x:e,y:t,width:s-e,height:r-t}),Sl=(e,t=[0,0])=>{var a,o;const{x:s,y:r}=pN(e)?e.internals.positionAbsolute:Iu(e,t);return{x:s,y:r,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},nf=(e,t=[0,0])=>{var a,o;const{x:s,y:r}=pN(e)?e.internals.positionAbsolute:Iu(e,t);return{x:s,y:r,x2:s+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},f4=(e,t)=>Sx(bx(vj(e),vj(t))),Wd=(e,t)=>{const s=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(s*r)},bC=e=>Rs(e.width)&&Rs(e.height)&&Rs(e.x)&&Rs(e.y),Rs=e=>!isNaN(e)&&isFinite(e),zX=(e,t)=>{},Cx=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Lu=({x:e,y:t},[s,r,a],o=!1,i=[1,1])=>{const l={x:(e-s)/a,y:(t-r)/a};return o?Cx(l,i):l},sf=({x:e,y:t},[s,r,a])=>({x:e*a+s,y:t*a+r});function xi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const s=parseFloat(e);if(!Number.isNaN(s))return Math.floor(s)}if(typeof e=="string"&&e.endsWith("%")){const s=parseFloat(e);if(!Number.isNaN(s))return Math.floor(t*s*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function qX(e,t,s){if(typeof e=="string"||typeof e=="number"){const r=xi(e,s),a=xi(e,t);return{top:r,right:a,bottom:r,left:a,x:a*2,y:r*2}}if(typeof e=="object"){const r=xi(e.top??e.y??0,s),a=xi(e.bottom??e.y??0,s),o=xi(e.left??e.x??0,t),i=xi(e.right??e.x??0,t);return{top:r,right:i,bottom:a,left:o,x:o+i,y:r+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function WX(e,t,s,r,a,o){const{x:i,y:l}=sf(e,[t,s,r]),{x:d,y:c}=sf({x:e.x+e.width,y:e.y+e.height},[t,s,r]),u=a-d,h=o-c;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(h)}}const xN=(e,t,s,r,a,o)=>{const i=qX(o,t,s),l=(t-i.x)/e.width,d=(s-i.y)/e.height,c=Math.min(l,d),u=bl(c,r,a),h=e.x+e.width/2,m=e.y+e.height/2,f=t/2-h*u,y=s/2-m*u,x=WX(e,f,y,u,t,s),w={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:f-w.left+w.right,y:y-w.top+w.bottom,zoom:u}},rf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Cl(e){return e!==void 0&&e!=="parent"}function Qr(e){var t,s;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}}function x4(e){var t,s;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight)!==void 0}function g4(e,t={width:0,height:0},s,r,a){const o={...e},i=r.get(s);if(i){const l=i.origin||a;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function SC(e,t){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}function YX(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function KX(e){return{...l4,...e||{}}}function rd(e,{snapGrid:t=[0,0],snapToGrid:s=!1,transform:r,containerBounds:a}){const{x:o,y:i}=ar(e),l=Lu({x:o-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},r),{x:d,y:c}=s?Cx(l,t):l;return{xSnapped:d,ySnapped:c,...l}}const gN=e=>({width:e.offsetWidth,height:e.offsetHeight}),v4=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},GX=["INPUT","SELECT","TEXTAREA"];function y4(e){var r,a;const t=((a=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:GX.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const j4=e=>"clientX"in e,ar=(e,t)=>{var o,i;const s=j4(e),r=s?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=s?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},CC=(e,t,s,r,a)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-s.left)/r,y:(l.top-s.top)/r,...gN(i)}})};function w4({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:l}){const d=e*.125+a*.375+i*.375+s*.125,c=t*.125+o*.375+l*.375+r*.125,u=Math.abs(d-e),h=Math.abs(c-t);return[d,c,u,h]}function mm(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function EC({pos:e,x1:t,y1:s,x2:r,y2:a,c:o}){switch(e){case be.Left:return[t-mm(t-r,o),s];case be.Right:return[t+mm(r-t,o),s];case be.Top:return[t,s-mm(s-a,o)];case be.Bottom:return[t,s+mm(a-s,o)]}}function vN({sourceX:e,sourceY:t,sourcePosition:s=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top,curvature:i=.25}){const[l,d]=EC({pos:s,x1:e,y1:t,x2:r,y2:a,c:i}),[c,u]=EC({pos:o,x1:r,y1:a,x2:e,y2:t,c:i}),[h,m,f,y]=w4({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:l,sourceControlY:d,targetControlX:c,targetControlY:u});return[`M${e},${t} C${l},${d} ${c},${u} ${r},${a}`,h,m,f,y]}function N4({sourceX:e,sourceY:t,targetX:s,targetY:r}){const a=Math.abs(s-e)/2,o=s<e?s+a:s-a,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[o,l,a,i]}function XX({sourceNode:e,targetNode:t,selected:s=!1,zIndex:r,elevateOnSelect:a=!1}){if(r!==void 0)return r;const o=a&&s?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function JX({sourceNode:e,targetNode:t,width:s,height:r,transform:a}){const o=bx(nf(e),nf(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:s/a[2],height:r/a[2]};return Wd(i,Sx(o))>0}const QX=({source:e,sourceHandle:t,target:s,targetHandle:r})=>`xy-edge__${e}${t||""}-${s}${r||""}`,ZX=(e,t)=>t.some(s=>s.source===e.source&&s.target===e.target&&(s.sourceHandle===e.sourceHandle||!s.sourceHandle&&!e.sourceHandle)&&(s.targetHandle===e.targetHandle||!s.targetHandle&&!e.targetHandle)),af=(e,t)=>{if(!e.source||!e.target)return t;let s;return u4(e)?s={...e}:s={...e,id:QX(e)},ZX(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function b4({sourceX:e,sourceY:t,targetX:s,targetY:r}){const[a,o,i,l]=N4({sourceX:e,sourceY:t,targetX:s,targetY:r});return[`M ${e},${t}L ${s},${r}`,a,o,i,l]}const TC={[be.Left]:{x:-1,y:0},[be.Right]:{x:1,y:0},[be.Top]:{x:0,y:-1},[be.Bottom]:{x:0,y:1}},eJ=({source:e,sourcePosition:t=be.Bottom,target:s})=>t===be.Left||t===be.Right?e.x<s.x?{x:1,y:0}:{x:-1,y:0}:e.y<s.y?{x:0,y:1}:{x:0,y:-1},PC=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function tJ({source:e,sourcePosition:t=be.Bottom,target:s,targetPosition:r=be.Top,center:a,offset:o,stepPosition:i}){const l=TC[t],d=TC[r],c={x:e.x+l.x*o,y:e.y+l.y*o},u={x:s.x+d.x*o,y:s.y+d.y*o},h=eJ({source:c,sourcePosition:t,target:u}),m=h.x!==0?"x":"y",f=h[m];let y=[],x,w;const v={x:0,y:0},g={x:0,y:0},[,,j,N]=N4({sourceX:e.x,sourceY:e.y,targetX:s.x,targetY:s.y});if(l[m]*d[m]===-1){m==="x"?(x=a.x??c.x+(u.x-c.x)*i,w=a.y??(c.y+u.y)/2):(x=a.x??(c.x+u.x)/2,w=a.y??c.y+(u.y-c.y)*i);const E=[{x,y:c.y},{x,y:u.y}],C=[{x:c.x,y:w},{x:u.x,y:w}];l[m]===f?y=m==="x"?E:C:y=m==="x"?C:E}else{const E=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(m==="x"?y=l.x===f?C:E:y=l.y===f?E:C,t===r){const M=Math.abs(e[m]-s[m]);if(M<=o){const $=Math.min(o-1,o-M);l[m]===f?v[m]=(c[m]>e[m]?-1:1)*$:g[m]=(u[m]>s[m]?-1:1)*$}}if(t!==r){const M=m==="x"?"y":"x",$=l[m]===d[M],D=c[M]>u[M],P=c[M]<u[M];(l[m]===1&&(!$&&D||$&&P)||l[m]!==1&&(!$&&P||$&&D))&&(y=m==="x"?E:C)}const T={x:c.x+v.x,y:c.y+v.y},F={x:u.x+g.x,y:u.y+g.y},V=Math.max(Math.abs(T.x-y[0].x),Math.abs(F.x-y[0].x)),k=Math.max(Math.abs(T.y-y[0].y),Math.abs(F.y-y[0].y));V>=k?(x=(T.x+F.x)/2,w=y[0].y):(x=y[0].x,w=(T.y+F.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...y,{x:u.x+g.x,y:u.y+g.y},s],x,w,j,N]}function nJ(e,t,s,r){const a=Math.min(PC(e,t)/2,PC(t,s)/2,r),{x:o,y:i}=t;if(e.x===o&&o===s.x||e.y===i&&i===s.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<s.x?-1:1,u=e.y<s.y?1:-1;return`L ${o+a*c},${i}Q ${o},${i} ${o},${i+a*u}`}const l=e.x<s.x?1:-1,d=e.y<s.y?-1:1;return`L ${o},${i+a*d}Q ${o},${i} ${o+a*l},${i}`}function yj({sourceX:e,sourceY:t,sourcePosition:s=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top,borderRadius:i=5,centerX:l,centerY:d,offset:c=20,stepPosition:u=.5}){const[h,m,f,y,x]=tJ({source:{x:e,y:t},sourcePosition:s,target:{x:r,y:a},targetPosition:o,center:{x:l,y:d},offset:c,stepPosition:u});return[h.reduce((v,g,j)=>{let N="";return j>0&&j<h.length-1?N=nJ(h[j-1],g,h[j+1],i):N=`${j===0?"M":"L"}${g.x} ${g.y}`,v+=N,v},""),m,f,y,x]}function kC(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function sJ(e){var h;const{sourceNode:t,targetNode:s}=e;if(!kC(t)||!kC(s))return null;const r=t.internals.handleBounds||AC(t.handles),a=s.internals.handleBounds||AC(s.handles),o=DC((r==null?void 0:r.source)??[],e.sourceHandle),i=DC(e.connectionMode===Bo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!o||!i)return(h=e.onError)==null||h.call(e,"008",xr.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(o==null?void 0:o.position)||be.Bottom,d=(i==null?void 0:i.position)||be.Top,c=Yd(t,o,l),u=Yd(s,i,d);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:d}}function AC(e){if(!e)return null;const t=[],s=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&s.push(r);return{source:t,target:s}}function Yd(e,t,s=be.Left,r=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Qr(e);if(r)return{x:a+i/2,y:o+l/2};switch((t==null?void 0:t.position)??s){case be.Top:return{x:a+i/2,y:o};case be.Right:return{x:a+i,y:o+l/2};case be.Bottom:return{x:a+i/2,y:o+l};case be.Left:return{x:a,y:o+l/2}}}function DC(e,t){return e&&(t?e.find(s=>s.id===t):e[0])||null}function jj(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function rJ(e,{id:t,defaultColor:s,defaultMarkerStart:r,defaultMarkerEnd:a}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||a].forEach(d=>{if(d&&typeof d=="object"){const c=jj(d,t);o.has(c)||(i.push({id:c,color:d.color||s,...d}),o.add(c))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const yN={nodeOrigin:[0,0],nodeExtent:zd,elevateNodesOnSelect:!0,defaults:{}},aJ={...yN,checkEquality:!0};function jN(e,t){const s={...e};for(const r in t)t[r]!==void 0&&(s[r]=t[r]);return s}function oJ(e,t,s){const r=jN(yN,s);for(const a of e.values())if(a.parentId)wN(a,e,t,r);else{const o=Iu(a,r.nodeOrigin),i=Cl(a.extent)?a.extent:r.nodeExtent,l=Ho(o,i,Qr(a));a.internals.positionAbsolute=l}}function wj(e,t,s,r){var d,c;const a=jN(aJ,r);let o=e.length>0;const i=new Map(t),l=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),s.clear();for(const u of e){let h=i.get(u.id);if(a.checkEquality&&u===(h==null?void 0:h.internals.userNode))t.set(u.id,h);else{const m=Iu(u,a.nodeOrigin),f=Cl(u.extent)?u.extent:a.nodeExtent,y=Ho(m,f,Qr(u));h={...a.defaults,...u,measured:{width:(d=u.measured)==null?void 0:d.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:y,handleBounds:u.measured?h==null?void 0:h.internals.handleBounds:void 0,z:S4(u,l),userNode:u}},t.set(u.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(o=!1),u.parentId&&wN(h,t,s,r)}return o}function iJ(e,t){if(!e.parentId)return;const s=t.get(e.parentId);s?s.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function wN(e,t,s,r){const{elevateNodesOnSelect:a,nodeOrigin:o,nodeExtent:i}=jN(yN,r),l=e.parentId,d=t.get(l);if(!d){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}iJ(e,s);const c=a?1e3:0,{x:u,y:h,z:m}=lJ(e,d,o,i,c),{positionAbsolute:f}=e.internals,y=u!==f.x||h!==f.y;(y||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:u,y:h}:f,z:m}})}function S4(e,t){return(Rs(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function lJ(e,t,s,r,a){const{x:o,y:i}=t.internals.positionAbsolute,l=Qr(e),d=Iu(e,s),c=Cl(e.extent)?Ho(d,e.extent,l):d;let u=Ho({x:o+c.x,y:i+c.y},r,l);e.extent==="parent"&&(u=m4(u,l,t));const h=S4(e,a),m=t.internals.z??0;return{x:u.x,y:u.y,z:m>=h?m+1:h}}function NN(e,t,s,r=[0,0]){var i;const a=[],o=new Map;for(const l of e){const d=t.get(l.parentId);if(!d)continue;const c=((i=o.get(l.parentId))==null?void 0:i.expandedRect)??Sl(d),u=f4(c,l.rect);o.set(l.parentId,{expandedRect:u,parent:d})}return o.size>0&&o.forEach(({expandedRect:l,parent:d},c)=>{var j;const u=d.internals.positionAbsolute,h=Qr(d),m=d.origin??r,f=l.x<u.x?Math.round(Math.abs(u.x-l.x)):0,y=l.y<u.y?Math.round(Math.abs(u.y-l.y)):0,x=Math.max(h.width,Math.round(l.width)),w=Math.max(h.height,Math.round(l.height)),v=(x-h.width)*m[0],g=(w-h.height)*m[1];(f>0||y>0||v||g)&&(a.push({id:c,type:"position",position:{x:d.position.x-f+v,y:d.position.y-y+g}}),(j=s.get(c))==null||j.forEach(N=>{e.some(b=>b.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+f,y:N.position.y+y}})})),(h.width<l.width||h.height<l.height||f||y)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:x+(f?m[0]*f-v:0),height:w+(y?m[1]*y-g:0)}})}),a}function cJ(e,t,s,r,a,o){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const d=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),h=[];for(const m of e.values()){const f=t.get(m.id);if(!f)continue;if(f.hidden){t.set(f.id,{...f,internals:{...f.internals,handleBounds:void 0}}),l=!0;continue}const y=gN(m.nodeElement),x=f.measured.width!==y.width||f.measured.height!==y.height;if(!!(y.width&&y.height&&(x||!f.internals.handleBounds||m.force))){const v=m.nodeElement.getBoundingClientRect(),g=Cl(f.extent)?f.extent:o;let{positionAbsolute:j}=f.internals;f.parentId&&f.extent==="parent"?j=m4(j,y,t.get(f.parentId)):g&&(j=Ho(j,g,y));const N={...f,measured:y,internals:{...f.internals,positionAbsolute:j,handleBounds:{source:CC("source",m.nodeElement,v,u,f.id),target:CC("target",m.nodeElement,v,u,f.id)}}};t.set(f.id,N),f.parentId&&wN(N,t,s,{nodeOrigin:a}),l=!0,x&&(d.push({id:f.id,type:"dimensions",dimensions:y}),f.expandParent&&f.parentId&&h.push({id:f.id,parentId:f.parentId,rect:Sl(N,a)}))}}if(h.length>0){const m=NN(h,t,s,a);d.push(...m)}return{changes:d,updatedInternals:l}}async function dJ({delta:e,panZoom:t,transform:s,translateExtent:r,width:a,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:s[0]+e.x,y:s[1]+e.y,zoom:s[2]},[[0,0],[a,o]],r),l=!!i&&(i.x!==s[0]||i.y!==s[1]||i.k!==s[2]);return Promise.resolve(l)}function RC(e,t,s,r,a,o){let i=a;const l=r.get(i)||new Map;r.set(i,l.set(s,t)),i=`${a}-${e}`;const d=r.get(i)||new Map;if(r.set(i,d.set(s,t)),o){i=`${a}-${e}-${o}`;const c=r.get(i)||new Map;r.set(i,c.set(s,t))}}function C4(e,t,s){e.clear(),t.clear();for(const r of s){const{source:a,target:o,sourceHandle:i=null,targetHandle:l=null}=r,d={edgeId:r.id,source:a,target:o,sourceHandle:i,targetHandle:l},c=`${a}-${i}--${o}-${l}`,u=`${o}-${l}--${a}-${i}`;RC("source",d,u,e,a,i),RC("target",d,c,e,o,l),t.set(r.id,r)}}function E4(e,t){if(!e.parentId)return!1;const s=t.get(e.parentId);return s?s.selected?!0:E4(s,t):!1}function MC(e,t,s){var a;let r=e;do{if((a=r==null?void 0:r.matches)!=null&&a.call(r,t))return!0;if(r===s)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function uJ(e,t,s,r){const a=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!E4(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&a.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:s.x-l.internals.positionAbsolute.x,y:s.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function qg({nodeId:e,dragItems:t,nodeLookup:s,dragging:r=!0}){var i,l,d;const a=[];for(const[c,u]of t){const h=(i=s.get(c))==null?void 0:i.internals.userNode;h&&a.push({...h,position:u.position,dragging:r})}if(!e)return[a[0],a];const o=(l=s.get(e))==null?void 0:l.internals.userNode;return[o?{...o,position:((d=t.get(e))==null?void 0:d.position)||o.position,dragging:r}:a[0],a]}function hJ({onNodeMouseDown:e,getStoreItems:t,onDragStart:s,onDrag:r,onDragStop:a}){let o={x:null,y:null},i=0,l=new Map,d=!1,c={x:0,y:0},u=null,h=!1,m=null,f=!1,y=!1;function x({noDragClassName:v,handleSelector:g,domNode:j,isSelectable:N,nodeId:b,nodeClickDistance:E=0}){m=Wn(j);function C({x:k,y:M},$){const{nodeLookup:D,nodeExtent:P,snapGrid:L,snapToGrid:O,nodeOrigin:R,onNodeDrag:_,onSelectionDrag:z,onError:B,updateNodePositions:U}=t();o={x:k,y:M};let K=!1,Y={x:0,y:0,x2:0,y2:0};if(l.size>1&&P){const X=Ou(l);Y=vj(X)}for(const[X,G]of l){if(!D.has(X))continue;let H={x:k-G.distance.x,y:M-G.distance.y};O&&(H=Cx(H,L));let ae=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];if(l.size>1&&P&&!G.extent){const{positionAbsolute:ye}=G.internals,fe=ye.x-Y.x+P[0][0],we=ye.x+G.measured.width-Y.x2+P[1][0],Ne=ye.y-Y.y+P[0][1],Me=ye.y+G.measured.height-Y.y2+P[1][1];ae=[[fe,Ne],[we,Me]]}const{position:de,positionAbsolute:xe}=h4({nodeId:X,nextPosition:H,nodeLookup:D,nodeExtent:ae,nodeOrigin:R,onError:B});K=K||G.position.x!==de.x||G.position.y!==de.y,G.position=de,G.internals.positionAbsolute=xe}if(y=y||K,!!K&&(U(l,!0),$&&(r||_||!b&&z))){const[X,G]=qg({nodeId:b,dragItems:l,nodeLookup:D});r==null||r($,l,X,G),_==null||_($,X,G),b||z==null||z($,G)}}async function T(){if(!u)return;const{transform:k,panBy:M,autoPanSpeed:$,autoPanOnNodeDrag:D}=t();if(!D){d=!1,cancelAnimationFrame(i);return}const[P,L]=p4(c,u,$);(P!==0||L!==0)&&(o.x=(o.x??0)-P/k[2],o.y=(o.y??0)-L/k[2],await M({x:P,y:L})&&C(o,null)),i=requestAnimationFrame(T)}function F(k){var K;const{nodeLookup:M,multiSelectionActive:$,nodesDraggable:D,transform:P,snapGrid:L,snapToGrid:O,selectNodesOnDrag:R,onNodeDragStart:_,onSelectionDragStart:z,unselectNodesAndEdges:B}=t();h=!0,(!R||!N)&&!$&&b&&((K=M.get(b))!=null&&K.selected||B()),N&&R&&b&&(e==null||e(b));const U=rd(k.sourceEvent,{transform:P,snapGrid:L,snapToGrid:O,containerBounds:u});if(o=U,l=uJ(M,D,U,b),l.size>0&&(s||_||!b&&z)){const[Y,X]=qg({nodeId:b,dragItems:l,nodeLookup:M});s==null||s(k.sourceEvent,l,Y,X),_==null||_(k.sourceEvent,Y,X),b||z==null||z(k.sourceEvent,X)}}const V=qF().clickDistance(E).on("start",k=>{const{domNode:M,nodeDragThreshold:$,transform:D,snapGrid:P,snapToGrid:L}=t();u=(M==null?void 0:M.getBoundingClientRect())||null,f=!1,y=!1,$===0&&F(k),o=rd(k.sourceEvent,{transform:D,snapGrid:P,snapToGrid:L,containerBounds:u}),c=ar(k.sourceEvent,u)}).on("drag",k=>{const{autoPanOnNodeDrag:M,transform:$,snapGrid:D,snapToGrid:P,nodeDragThreshold:L,nodeLookup:O}=t(),R=rd(k.sourceEvent,{transform:$,snapGrid:D,snapToGrid:P,containerBounds:u});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||b&&!O.has(b))&&(f=!0),!f){if(!d&&M&&h&&(d=!0,T()),!h){const _=R.xSnapped-(o.x??0),z=R.ySnapped-(o.y??0);Math.sqrt(_*_+z*z)>L&&F(k)}(o.x!==R.xSnapped||o.y!==R.ySnapped)&&l&&h&&(c=ar(k.sourceEvent,u),C(R,k.sourceEvent))}}).on("end",k=>{if(!(!h||f)&&(d=!1,h=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:M,updateNodePositions:$,onNodeDragStop:D,onSelectionDragStop:P}=t();if(y&&($(l,!1),y=!1),a||D||!b&&P){const[L,O]=qg({nodeId:b,dragItems:l,nodeLookup:M,dragging:!1});a==null||a(k.sourceEvent,l,L,O),D==null||D(k.sourceEvent,L,O),b||P==null||P(k.sourceEvent,O)}}}).filter(k=>{const M=k.target;return!k.button&&(!v||!MC(M,`.${v}`,j))&&(!g||MC(M,g,j))});m.call(V)}function w(){m==null||m.on(".drag",null)}return{update:x,destroy:w}}function mJ(e,t,s){const r=[],a={x:e.x-s,y:e.y-s,width:s*2,height:s*2};for(const o of t.values())Wd(a,Sl(o))>0&&r.push(o);return r}const pJ=250;function fJ(e,t,s,r){var l,d;let a=[],o=1/0;const i=mJ(e,s,t+pJ);for(const c of i){const u=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((d=c.internals.handleBounds)==null?void 0:d.target)??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:m,y:f}=Yd(c,h,h.position,!0),y=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(f-e.y,2));y>t||(y<o?(a=[{...h,x:m,y:f}],o=y):y===o&&a.push({...h,x:m,y:f}))}}if(!a.length)return null;if(a.length>1){const c=r.type==="source"?"target":"source";return a.find(u=>u.type===c)??a[0]}return a[0]}function T4(e,t,s,r,a,o=!1){var c,u,h;const i=r.get(e);if(!i)return null;const l=a==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((u=i.internals.handleBounds)==null?void 0:u.source)??[],...((h=i.internals.handleBounds)==null?void 0:h.target)??[]],d=(s?l==null?void 0:l.find(m=>m.id===s):l==null?void 0:l[0])??null;return d&&o?{...d,...Yd(i,d,d.position,!0)}:d}function P4(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function xJ(e,t){let s=null;return t?s=!0:e&&!t&&(s=!1),s}const k4=()=>!0;function gJ(e,{connectionMode:t,connectionRadius:s,handleId:r,nodeId:a,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:d,lib:c,autoPanOnConnect:u,flowId:h,panBy:m,cancelConnection:f,onConnectStart:y,onConnect:x,onConnectEnd:w,isValidConnection:v=k4,onReconnectEnd:g,updateConnection:j,getTransform:N,getFromHandle:b,autoPanSpeed:E,dragThreshold:C=1}){const T=v4(e.target);let F=0,V;const{x:k,y:M}=ar(e),$=T==null?void 0:T.elementFromPoint(k,M),D=P4(o,$),P=l==null?void 0:l.getBoundingClientRect();let L=!1;if(!P||!D)return;const O=T4(a,D,r,d,t);if(!O)return;let R=ar(e,P),_=!1,z=null,B=!1,U=null;function K(){if(!u||!P)return;const[ye,fe]=p4(R,P,E);m({x:ye,y:fe}),F=requestAnimationFrame(K)}const Y={...O,nodeId:a,type:D,position:O.position},X=d.get(a);let H={inProgress:!0,isValid:null,from:Yd(X,Y,be.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:X,to:R,toHandle:null,toPosition:wC[Y.position],toNode:null};function ae(){L=!0,j(H),y==null||y(e,{nodeId:a,handleId:r,handleType:D})}C===0&&ae();function de(ye){if(!L){const{x:Me,y:Le}=ar(ye),Pt=Me-k,cn=Le-M;if(!(Pt*Pt+cn*cn>C*C))return;ae()}if(!b()||!Y){xe(ye);return}const fe=N();R=ar(ye,P),V=fJ(Lu(R,fe,!1,[1,1]),s,d,Y),_||(K(),_=!0);const we=A4(ye,{handle:V,connectionMode:t,fromNodeId:a,fromHandleId:r,fromType:i?"target":"source",isValidConnection:v,doc:T,lib:c,flowId:h,nodeLookup:d});U=we.handleDomNode,z=we.connection,B=xJ(!!V,we.isValid);const Ne={...H,isValid:B,to:we.toHandle&&B?sf({x:we.toHandle.x,y:we.toHandle.y},fe):R,toHandle:we.toHandle,toPosition:B&&we.toHandle?we.toHandle.position:wC[Y.position],toNode:we.toHandle?d.get(we.toHandle.nodeId):null};B&&V&&H.toHandle&&Ne.toHandle&&H.toHandle.type===Ne.toHandle.type&&H.toHandle.nodeId===Ne.toHandle.nodeId&&H.toHandle.id===Ne.toHandle.id&&H.to.x===Ne.to.x&&H.to.y===Ne.to.y||(j(Ne),H=Ne)}function xe(ye){if(L){(V||U)&&z&&B&&(x==null||x(z));const{inProgress:fe,...we}=H,Ne={...we,toPosition:H.toHandle?H.toPosition:null};w==null||w(ye,Ne),o&&(g==null||g(ye,Ne))}f(),cancelAnimationFrame(F),_=!1,B=!1,z=null,U=null,T.removeEventListener("mousemove",de),T.removeEventListener("mouseup",xe),T.removeEventListener("touchmove",de),T.removeEventListener("touchend",xe)}T.addEventListener("mousemove",de),T.addEventListener("mouseup",xe),T.addEventListener("touchmove",de),T.addEventListener("touchend",xe)}function A4(e,{handle:t,connectionMode:s,fromNodeId:r,fromHandleId:a,fromType:o,doc:i,lib:l,flowId:d,isValidConnection:c=k4,nodeLookup:u}){const h=o==="target",m=t?i.querySelector(`.${l}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y}=ar(e),x=i.elementFromPoint(f,y),w=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:m,v={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const g=P4(void 0,w),j=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!j||!g)return v;const C={source:h?j:r,sourceHandle:h?N:a,target:h?r:j,targetHandle:h?a:N};v.connection=C;const F=b&&E&&(s===Bo.Strict?h&&g==="source"||!h&&g==="target":j!==r||N!==a);v.isValid=F&&c(C),v.toHandle=T4(j,g,N,u,s,!0)}return v}const Nj={onPointerDown:gJ,isValid:A4};function vJ({domNode:e,panZoom:t,getTransform:s,getViewScale:r}){const a=Wn(e);function o({translateExtent:l,width:d,height:c,zoomStep:u=10,pannable:h=!0,zoomable:m=!0,inversePan:f=!1}){const y=j=>{const N=s();if(j.sourceEvent.type!=="wheel"||!t)return;const b=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*u,E=N[2]*Math.pow(2,b);t.scaleTo(E)};let x=[0,0];const w=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(x=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},v=j=>{const N=s();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!t)return;const b=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],E=[b[0]-x[0],b[1]-x[1]];x=b;const C=r()*Math.max(N[2],Math.log(N[2]))*(f?-1:1),T={x:N[0]-E[0]*C,y:N[1]-E[1]*C},F=[[0,0],[d,c]];t.setViewportConstrained({x:T.x,y:T.y,zoom:N[2]},F,l)},g=o4().on("start",w).on("zoom",h?v:null).on("zoom.wheel",m?y:null);a.call(g,{})}function i(){a.on("zoom",null)}return{update:o,destroy:i,pointer:Ps}}const yJ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ex=e=>({x:e.x,y:e.y,zoom:e.k}),Wg=({x:e,y:t,zoom:s})=>Nx.translate(e,t).scale(s),Li=(e,t)=>e.target.closest(`.${t}`),D4=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),jJ=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Yg=(e,t=0,s=jJ,r=()=>{})=>{const a=typeof t=="number"&&t>0;return a||r(),a?e.transition().duration(t).ease(s).on("end",r):e},R4=e=>{const t=e.ctrlKey&&rf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function wJ({zoomPanValues:e,noWheelClassName:t,d3Selection:s,d3Zoom:r,panOnScrollMode:a,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:d,onPanZoomEnd:c}){return u=>{if(Li(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const h=s.property("__zoom").k||1;if(u.ctrlKey&&i){const w=Ps(u),v=R4(u),g=h*Math.pow(2,v);r.scaleTo(s,g,w,u);return}const m=u.deltaMode===1?20:1;let f=a===To.Vertical?0:u.deltaX*m,y=a===To.Horizontal?0:u.deltaY*m;!rf()&&u.shiftKey&&a!==To.Vertical&&(f=u.deltaY*m,y=0),r.translateBy(s,-(f/h)*o,-(y/h)*o,{internal:!0});const x=Ex(s.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(u,x)),e.isPanScrolling&&(d==null||d(u,x),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,x),e.isPanScrolling=!1},150))}}function NJ({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:s}){return function(r,a){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,l=Li(r,e);if(r.ctrlKey&&o&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),s.call(this,r,a)}}function bJ({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:s}){return r=>{var o,i,l;if((o=r.sourceEvent)!=null&&o.internal)return;const a=Ex(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),s&&(s==null||s(r.sourceEvent,a))}}function SJ({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:s,onTransformChange:r,onPanZoom:a}){return o=>{var i,l;e.usedRightMouseButton=!!(s&&D4(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||r([o.transform.x,o.transform.y,o.transform.k]),a&&!((l=o.sourceEvent)!=null&&l.internal)&&(a==null||a(o.sourceEvent,Ex(o.transform)))}}function CJ({zoomPanValues:e,panOnDrag:t,panOnScroll:s,onDraggingChange:r,onPanZoomEnd:a,onPaneContextMenu:o}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,o&&D4(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),a&&yJ(e.prevViewport,i.transform))){const d=Ex(i.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,d)},s?150:0)}}}function EJ({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:s,panOnDrag:r,panOnScroll:a,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:d,lib:c}){return u=>{var y;const h=e||t,m=s&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Li(u,`${c}-flow__node`)||Li(u,`${c}-flow__edge`)))return!0;if(!r&&!h&&!a&&!o&&!s||i||Li(u,l)&&u.type==="wheel"||Li(u,d)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!s&&u.ctrlKey&&u.type==="wheel")return!1;if(!s&&u.type==="touchstart"&&((y=u.touches)==null?void 0:y.length)>1)return u.preventDefault(),!1;if(!h&&!a&&!m&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const f=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&f}}function TJ({domNode:e,minZoom:t,maxZoom:s,paneClickDistance:r,translateExtent:a,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:d,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),m=o4().clickDistance(!Rs(r)||r<0?0:r).scaleExtent([t,s]).translateExtent(a),f=Wn(e).call(m);j({x:o.x,y:o.y,zoom:bl(o.zoom,t,s)},[[0,0],[h.width,h.height]],a);const y=f.on("wheel.zoom"),x=f.on("dblclick.zoom");m.wheelDelta(R4);function w(M,$){return f?new Promise(D=>{m==null||m.interpolate(($==null?void 0:$.interpolate)==="linear"?sd:Jm).transform(Yg(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function v({noWheelClassName:M,noPanClassName:$,onPaneContextMenu:D,userSelectionActive:P,panOnScroll:L,panOnDrag:O,panOnScrollMode:R,panOnScrollSpeed:_,preventScrolling:z,zoomOnPinch:B,zoomOnScroll:U,zoomOnDoubleClick:K,zoomActivationKeyPressed:Y,lib:X,onTransformChange:G}){P&&!u.isZoomingOrPanning&&g();const ae=L&&!Y&&!P?wJ({zoomPanValues:u,noWheelClassName:M,d3Selection:f,d3Zoom:m,panOnScrollMode:R,panOnScrollSpeed:_,zoomOnPinch:B,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:d}):NJ({noWheelClassName:M,preventScrolling:z,d3ZoomHandler:y});if(f.on("wheel.zoom",ae,{passive:!1}),!P){const xe=bJ({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:l});m.on("start",xe);const ye=SJ({zoomPanValues:u,panOnDrag:O,onPaneContextMenu:!!D,onPanZoom:i,onTransformChange:G});m.on("zoom",ye);const fe=CJ({zoomPanValues:u,panOnDrag:O,panOnScroll:L,onPaneContextMenu:D,onPanZoomEnd:d,onDraggingChange:c});m.on("end",fe)}const de=EJ({zoomActivationKeyPressed:Y,panOnDrag:O,zoomOnScroll:U,panOnScroll:L,zoomOnDoubleClick:K,zoomOnPinch:B,userSelectionActive:P,noPanClassName:$,noWheelClassName:M,lib:X});m.filter(de),K?f.on("dblclick.zoom",x):f.on("dblclick.zoom",null)}function g(){m.on("zoom",null)}async function j(M,$,D){const P=Wg(M),L=m==null?void 0:m.constrain()(P,$,D);return L&&await w(L),new Promise(O=>O(L))}async function N(M,$){const D=Wg(M);return await w(D,$),new Promise(P=>P(D))}function b(M){if(f){const $=Wg(M),D=f.property("__zoom");(D.k!==M.zoom||D.x!==M.x||D.y!==M.y)&&(m==null||m.transform(f,$,null,{sync:!0}))}}function E(){const M=f?a4(f.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function C(M,$){return f?new Promise(D=>{m==null||m.interpolate(($==null?void 0:$.interpolate)==="linear"?sd:Jm).scaleTo(Yg(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function T(M,$){return f?new Promise(D=>{m==null||m.interpolate(($==null?void 0:$.interpolate)==="linear"?sd:Jm).scaleBy(Yg(f,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function F(M){m==null||m.scaleExtent(M)}function V(M){m==null||m.translateExtent(M)}function k(M){const $=!Rs(M)||M<0?0:M;m==null||m.clickDistance($)}return{update:v,destroy:g,setViewport:N,setViewportConstrained:j,getViewport:E,scaleTo:C,scaleBy:T,setScaleExtent:F,setTranslateExtent:V,syncViewport:b,setClickDistance:k}}var El;(function(e){e.Line="line",e.Handle="handle"})(El||(El={}));function PJ({width:e,prevWidth:t,height:s,prevHeight:r,affectsX:a,affectsY:o}){const i=e-t,l=s-r,d=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(d[0]=d[0]*-1),l&&o&&(d[1]=d[1]*-1),d}function kJ(e){const t=e.includes("right")||e.includes("left"),s=e.includes("bottom")||e.includes("top"),r=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:s,affectsX:r,affectsY:a}}function la(e,t){return Math.max(0,t-e)}function ca(e,t){return Math.max(0,e-t)}function pm(e,t,s){return Math.max(0,t-e,e-s)}function FC(e,t){return e?!t:t}function AJ(e,t,s,r,a,o,i,l){let{affectsX:d,affectsY:c}=t;const{isHorizontal:u,isVertical:h}=t,m=u&&h,{xSnapped:f,ySnapped:y}=s,{minWidth:x,maxWidth:w,minHeight:v,maxHeight:g}=r,{x:j,y:N,width:b,height:E,aspectRatio:C}=e;let T=Math.floor(u?f-e.pointerX:0),F=Math.floor(h?y-e.pointerY:0);const V=b+(d?-T:T),k=E+(c?-F:F),M=-o[0]*b,$=-o[1]*E;let D=pm(V,x,w),P=pm(k,v,g);if(i){let R=0,_=0;d&&T<0?R=la(j+T+M,i[0][0]):!d&&T>0&&(R=ca(j+V+M,i[1][0])),c&&F<0?_=la(N+F+$,i[0][1]):!c&&F>0&&(_=ca(N+k+$,i[1][1])),D=Math.max(D,R),P=Math.max(P,_)}if(l){let R=0,_=0;d&&T>0?R=ca(j+T,l[0][0]):!d&&T<0&&(R=la(j+V,l[1][0])),c&&F>0?_=ca(N+F,l[0][1]):!c&&F<0&&(_=la(N+k,l[1][1])),D=Math.max(D,R),P=Math.max(P,_)}if(a){if(u){const R=pm(V/C,v,g)*C;if(D=Math.max(D,R),i){let _=0;!d&&!c||d&&!c&&m?_=ca(N+$+V/C,i[1][1])*C:_=la(N+$+(d?T:-T)/C,i[0][1])*C,D=Math.max(D,_)}if(l){let _=0;!d&&!c||d&&!c&&m?_=la(N+V/C,l[1][1])*C:_=ca(N+(d?T:-T)/C,l[0][1])*C,D=Math.max(D,_)}}if(h){const R=pm(k*C,x,w)/C;if(P=Math.max(P,R),i){let _=0;!d&&!c||c&&!d&&m?_=ca(j+k*C+M,i[1][0])/C:_=la(j+(c?F:-F)*C+M,i[0][0])/C,P=Math.max(P,_)}if(l){let _=0;!d&&!c||c&&!d&&m?_=la(j+k*C,l[1][0])/C:_=ca(j+(c?F:-F)*C,l[0][0])/C,P=Math.max(P,_)}}}F=F+(F<0?P:-P),T=T+(T<0?D:-D),a&&(m?V>k*C?F=(FC(d,c)?-T:T)/C:T=(FC(d,c)?-F:F)*C:u?(F=T/C,c=d):(T=F*C,d=c));const L=d?j+T:j,O=c?N+F:N;return{width:b+(d?-T:T),height:E+(c?-F:F),x:o[0]*T*(d?-1:1)+L,y:o[1]*F*(c?-1:1)+O}}const M4={width:0,height:0,x:0,y:0},DJ={...M4,pointerX:0,pointerY:0,aspectRatio:1};function RJ(e){return[[0,0],[e.measured.width,e.measured.height]]}function MJ(e,t,s){const r=t.position.x+e.position.x,a=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=s[0]*o,d=s[1]*i;return[[r-l,a-d],[r+o-l,a+i-d]]}function FJ({domNode:e,nodeId:t,getStoreItems:s,onChange:r,onEnd:a}){const o=Wn(e);function i({controlPosition:d,boundaries:c,keepAspectRatio:u,resizeDirection:h,onResizeStart:m,onResize:f,onResizeEnd:y,shouldResize:x}){let w={...M4},v={...DJ};const g=kJ(d);let j,N=null,b=[],E,C,T;const F=qF().on("start",V=>{const{nodeLookup:k,transform:M,snapGrid:$,snapToGrid:D,nodeOrigin:P,paneDomNode:L}=s();if(j=k.get(t),!j)return;N=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:O,ySnapped:R}=rd(V.sourceEvent,{transform:M,snapGrid:$,snapToGrid:D,containerBounds:N});w={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},v={...w,pointerX:O,pointerY:R,aspectRatio:w.width/w.height},E=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(E=k.get(j.parentId),C=E&&j.extent==="parent"?RJ(E):void 0),b=[],T=void 0;for(const[_,z]of k)if(z.parentId===t&&(b.push({id:_,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const B=MJ(z,j,z.origin??P);T?T=[[Math.min(B[0][0],T[0][0]),Math.min(B[0][1],T[0][1])],[Math.max(B[1][0],T[1][0]),Math.max(B[1][1],T[1][1])]]:T=B}m==null||m(V,{...w})}).on("drag",V=>{const{transform:k,snapGrid:M,snapToGrid:$,nodeOrigin:D}=s(),P=rd(V.sourceEvent,{transform:k,snapGrid:M,snapToGrid:$,containerBounds:N}),L=[];if(!j)return;const{x:O,y:R,width:_,height:z}=w,B={},U=j.origin??D,{width:K,height:Y,x:X,y:G}=AJ(v,g,P,c,u,U,C,T),H=K!==_,ae=Y!==z,de=X!==O&&H,xe=G!==R&&ae;if(!de&&!xe&&!H&&!ae)return;if((de||xe||U[0]===1||U[1]===1)&&(B.x=de?X:w.x,B.y=xe?G:w.y,w.x=B.x,w.y=B.y,b.length>0)){const Ne=X-O,Me=G-R;for(const Le of b)Le.position={x:Le.position.x-Ne+U[0]*(K-_),y:Le.position.y-Me+U[1]*(Y-z)},L.push(Le)}if((H||ae)&&(B.width=H&&(!h||h==="horizontal")?K:w.width,B.height=ae&&(!h||h==="vertical")?Y:w.height,w.width=B.width,w.height=B.height),E&&j.expandParent){const Ne=U[0]*(B.width??0);B.x&&B.x<Ne&&(w.x=Ne,v.x=v.x-(B.x-Ne));const Me=U[1]*(B.height??0);B.y&&B.y<Me&&(w.y=Me,v.y=v.y-(B.y-Me))}const ye=PJ({width:w.width,prevWidth:_,height:w.height,prevHeight:z,affectsX:g.affectsX,affectsY:g.affectsY}),fe={...w,direction:ye};(x==null?void 0:x(V,fe))!==!1&&(f==null||f(V,fe),r(B,L))}).on("end",V=>{y==null||y(V,{...w}),a==null||a({...w})});o.call(F)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var F4={exports:{}},_4={},I4={exports:{}},O4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=p;function _J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IJ=typeof Object.is=="function"?Object.is:_J,OJ=Tl.useState,LJ=Tl.useEffect,$J=Tl.useLayoutEffect,VJ=Tl.useDebugValue;function UJ(e,t){var s=t(),r=OJ({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return $J(function(){a.value=s,a.getSnapshot=t,Kg(a)&&o({inst:a})},[e,s,t]),LJ(function(){return Kg(a)&&o({inst:a}),e(function(){Kg(a)&&o({inst:a})})},[e]),VJ(s),s}function Kg(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!IJ(e,s)}catch{return!0}}function BJ(e,t){return t()}var HJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BJ:UJ;O4.useSyncExternalStore=Tl.useSyncExternalStore!==void 0?Tl.useSyncExternalStore:HJ;I4.exports=O4;var zJ=I4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx=p,qJ=zJ;function WJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YJ=typeof Object.is=="function"?Object.is:WJ,KJ=qJ.useSyncExternalStore,GJ=Tx.useRef,XJ=Tx.useEffect,JJ=Tx.useMemo,QJ=Tx.useDebugValue;_4.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var o=GJ(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=JJ(function(){function d(f){if(!c){if(c=!0,u=f,f=r(f),a!==void 0&&i.hasValue){var y=i.value;if(a(y,f))return h=y}return h=f}if(y=h,YJ(u,f))return y;var x=r(f);return a!==void 0&&a(y,x)?(u=f,y):(u=f,h=x)}var c=!1,u,h,m=s===void 0?null:s;return[function(){return d(t())},m===null?void 0:function(){return d(m())}]},[t,s,r,a]);var l=KJ(e,o[0],o[1]);return XJ(function(){i.hasValue=!0,i.value=l},[l]),QJ(l),l};F4.exports=_4;var ZJ=F4.exports;const eQ=h0(ZJ),tQ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},_C=e=>{let t;const s=new Set,r=(u,h)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const f=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),s.forEach(y=>y(t,f))}},a=()=>t,d={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(tQ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},c=t=e(r,a,d);return d},nQ=e=>e?_C(e):_C,{useDebugValue:sQ}=he,{useSyncExternalStoreWithSelector:rQ}=eQ,aQ=e=>e;function L4(e,t=aQ,s){const r=rQ(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return sQ(r),r}const IC=(e,t)=>{const s=nQ(e),r=(a,o=t)=>L4(s,a,o);return Object.assign(r,s),r},oQ=(e,t)=>e?IC(e,t):IC;function Tt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!1;for(const r of s)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Px=p.createContext(null),iQ=Px.Provider,$4=xr.error001();function Be(e,t){const s=p.useContext(Px);if(s===null)throw new Error($4);return L4(s,e,t)}function xt(){const e=p.useContext(Px);if(e===null)throw new Error($4);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const OC={display:"none"},lQ={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},V4="react-flow__node-desc",U4="react-flow__edge-desc",cQ="react-flow__aria-live",dQ=e=>e.ariaLiveMessage,uQ=e=>e.ariaLabelConfig;function hQ({rfId:e}){const t=Be(dQ);return n.jsx("div",{id:`${cQ}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:lQ,children:t})}function mQ({rfId:e,disableKeyboardA11y:t}){const s=Be(uQ);return n.jsxs(n.Fragment,{children:[n.jsx("div",{id:`${V4}-${e}`,style:OC,children:t?s["node.a11yDescription.default"]:s["node.a11yDescription.keyboardDisabled"]}),n.jsx("div",{id:`${U4}-${e}`,style:OC,children:s["edge.a11yDescription.default"]}),!t&&n.jsx(hQ,{rfId:e})]})}const Pl=p.forwardRef(({position:e="top-left",children:t,className:s,style:r,...a},o)=>{const i=`${e}`.split("-");return n.jsx("div",{className:Vt(["react-flow__panel",s,...i]),style:r,ref:o,...a,children:t})});Pl.displayName="Panel";function pQ({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:n.jsx(Pl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:n.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const fQ=e=>{const t=[],s=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&s.push(r);return{selectedNodes:t,selectedEdges:s}},fm=e=>e.id;function xQ(e,t){return Tt(e.selectedNodes.map(fm),t.selectedNodes.map(fm))&&Tt(e.selectedEdges.map(fm),t.selectedEdges.map(fm))}function gQ({onSelectionChange:e}){const t=xt(),{selectedNodes:s,selectedEdges:r}=Be(fQ,xQ);return p.useEffect(()=>{const a={nodes:s,edges:r};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(o=>o(a))},[s,r,e]),null}const vQ=e=>!!e.onSelectionChangeHandlers;function yQ({onSelectionChange:e}){const t=Be(vQ);return e||t?n.jsx(gQ,{onSelectionChange:e}):null}const B4=[0,0],jQ={x:0,y:0,zoom:1},wQ=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],LC=[...wQ,"rfId"],NQ=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),$C={translateExtent:zd,nodeOrigin:B4,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function bQ(e){const{setNodes:t,setEdges:s,setMinZoom:r,setMaxZoom:a,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:d,setPaneClickDistance:c}=Be(NQ,Tt),u=xt();p.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{h.current=$C,l()}),[]);const h=p.useRef($C);return p.useEffect(()=>{for(const m of LC){const f=e[m],y=h.current[m];f!==y&&(typeof e[m]>"u"||(m==="nodes"?t(f):m==="edges"?s(f):m==="minZoom"?r(f):m==="maxZoom"?a(f):m==="translateExtent"?o(f):m==="nodeExtent"?i(f):m==="paneClickDistance"?c(f):m==="ariaLabelConfig"?u.setState({ariaLabelConfig:KX(f)}):m==="fitView"?u.setState({fitViewQueued:f}):m==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[m]:f})))}h.current=e},LC.map(m=>e[m])),null}function VC(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function SQ(e){var r;const[t,s]=p.useState(e==="system"?null:e);return p.useEffect(()=>{if(e!=="system"){s(e);return}const a=VC(),o=()=>s(a!=null&&a.matches?"dark":"light");return o(),a==null||a.addEventListener("change",o),()=>{a==null||a.removeEventListener("change",o)}},[e]),t!==null?t:(r=VC())!=null&&r.matches?"dark":"light"}const UC=typeof document<"u"?document:null;function Kd(e=null,t={target:UC,actInsideInputWithModifier:!0}){const[s,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[i,l]=p.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((h,m)=>h.concat(...m),[]);return[c,u]}return[[],[]]},[e]);return p.useEffect(()=>{const d=(t==null?void 0:t.target)??UC,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=f=>{var w,v;if(a.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!a.current||a.current&&!c)&&y4(f))return!1;const x=HC(f.code,l);if(o.current.add(f[x]),BC(i,o.current,!1)){const g=((v=(w=f.composedPath)==null?void 0:w.call(f))==null?void 0:v[0])||f.target,j=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(a.current||!j)&&f.preventDefault(),r(!0)}},h=f=>{const y=HC(f.code,l);BC(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(f[y]),f.key==="Meta"&&o.current.clear(),a.current=!1},m=()=>{o.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",u),d==null||d.addEventListener("keyup",h),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{d==null||d.removeEventListener("keydown",u),d==null||d.removeEventListener("keyup",h),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,r]),s}function BC(e,t,s){return e.filter(r=>s||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function HC(e,t){return t.includes(e)?"code":"key"}const CQ=()=>{const e=xt();return p.useMemo(()=>({zoomIn:t=>{const{panZoom:s}=e.getState();return s?s.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:s}=e.getState();return s?s.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,s)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,s)=>{const{transform:[r,a,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??a,zoom:t.zoom??o},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,s,r]=e.getState().transform;return{x:t,y:s,zoom:r}},setCenter:async(t,s,r)=>e.getState().setCenter(t,s,r),fitBounds:async(t,s)=>{const{width:r,height:a,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),d=xN(t,r,a,o,i,(s==null?void 0:s.padding)??.1);return l?(await l.setViewport(d,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,s={})=>{const{transform:r,snapGrid:a,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:d}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-d},u=s.snapGrid??a,h=s.snapToGrid??o;return Lu(c,r,h,u)},flowToScreenPosition:t=>{const{transform:s,domNode:r}=e.getState();if(!r)return t;const{x:a,y:o}=r.getBoundingClientRect(),i=sf(t,s);return{x:i.x+a,y:i.y+o}}}),[])};function H4(e,t){const s=[],r=new Map,a=[];for(const o of e)if(o.type==="add"){a.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){s.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){s.push({...i[0].item});continue}const l={...o};for(const d of i)EQ(d,l);s.push(l)}return a.length&&a.forEach(o=>{o.index!==void 0?s.splice(o.index,0,{...o.item}):s.push({...o.item})}),s}function EQ(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function z4(e,t){return H4(e,t)}function q4(e,t){return H4(e,t)}function uo(e,t){return{id:e,type:"select",selected:t}}function $i(e,t=new Set,s=!1){const r=[];for(const[a,o]of e){const i=t.has(a);!(o.selected===void 0&&!i)&&o.selected!==i&&(s&&(o.selected=i),r.push(uo(o.id,i)))}return r}function zC({items:e=[],lookup:t}){var a;const s=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const l=t.get(i.id),d=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;d!==void 0&&d!==i&&s.push({id:i.id,item:i,type:"replace"}),d===void 0&&s.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&s.push({id:o,type:"remove"});return s}function qC(e){return{id:e.id,type:"remove"}}const WC=e=>LX(e),TQ=e=>u4(e);function W4(e){return p.forwardRef(e)}const PQ=typeof window<"u"?p.useLayoutEffect:p.useEffect;function YC(e){const[t,s]=p.useState(BigInt(0)),[r]=p.useState(()=>kQ(()=>s(a=>a+BigInt(1))));return PQ(()=>{const a=r.get();a.length&&(e(a),r.reset())},[t]),r}function kQ(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:s=>{t.push(s),e()}}}const Y4=p.createContext(null);function AQ({children:e}){const t=xt(),s=p.useCallback(l=>{const{nodes:d=[],setNodes:c,hasDefaultNodes:u,onNodesChange:h,nodeLookup:m,fitViewQueued:f}=t.getState();let y=d;for(const w of l)y=typeof w=="function"?w(y):w;const x=zC({items:y,lookup:m});u&&c(y),x.length>0?h==null||h(x):f&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:v,setNodes:g}=t.getState();w&&g(v)})},[]),r=YC(s),a=p.useCallback(l=>{const{edges:d=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:h,edgeLookup:m}=t.getState();let f=d;for(const y of l)f=typeof y=="function"?y(f):y;u?c(f):h&&h(zC({items:f,lookup:m}))},[]),o=YC(a),i=p.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return n.jsx(Y4.Provider,{value:i,children:e})}function DQ(){const e=p.useContext(Y4);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const RQ=e=>!!e.panZoom;function Nr(){const e=CQ(),t=xt(),s=DQ(),r=Be(RQ),a=p.useMemo(()=>{const o=h=>t.getState().nodeLookup.get(h),i=h=>{s.nodeQueue.push(h)},l=h=>{s.edgeQueue.push(h)},d=h=>{var v,g;const{nodeLookup:m,nodeOrigin:f}=t.getState(),y=WC(h)?h:m.get(h.id),x=y.parentId?g4(y.position,y.measured,y.parentId,m,f):y.position,w={...y,position:x,width:((v=y.measured)==null?void 0:v.width)??y.width,height:((g=y.measured)==null?void 0:g.height)??y.height};return Sl(w)},c=(h,m,f={replace:!1})=>{i(y=>y.map(x=>{if(x.id===h){const w=typeof m=="function"?m(x):m;return f.replace&&WC(w)?w:{...x,...w}}return x}))},u=(h,m,f={replace:!1})=>{l(y=>y.map(x=>{if(x.id===h){const w=typeof m=="function"?m(x):m;return f.replace&&TQ(w)?w:{...x,...w}}return x}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var m;return(m=o(h))==null?void 0:m.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(m=>({...m}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:i,setEdges:l,addNodes:h=>{const m=Array.isArray(h)?h:[h];s.nodeQueue.push(f=>[...f,...m])},addEdges:h=>{const m=Array.isArray(h)?h:[h];s.edgeQueue.push(f=>[...f,...m])},toObject:()=>{const{nodes:h=[],edges:m=[],transform:f}=t.getState(),[y,x,w]=f;return{nodes:h.map(v=>({...v})),edges:m.map(v=>({...v})),viewport:{x:y,y:x,zoom:w}}},deleteElements:async({nodes:h=[],edges:m=[]})=>{const{nodes:f,edges:y,onNodesDelete:x,onEdgesDelete:w,triggerNodeChanges:v,triggerEdgeChanges:g,onDelete:j,onBeforeDelete:N}=t.getState(),{nodes:b,edges:E}=await HX({nodesToRemove:h,edgesToRemove:m,nodes:f,edges:y,onBeforeDelete:N}),C=E.length>0,T=b.length>0;if(C){const F=E.map(qC);w==null||w(E),g(F)}if(T){const F=b.map(qC);x==null||x(b),v(F)}return(T||C)&&(j==null||j({nodes:b,edges:E})),{deletedNodes:b,deletedEdges:E}},getIntersectingNodes:(h,m=!0,f)=>{const y=bC(h),x=y?h:d(h),w=f!==void 0;return x?(f||t.getState().nodes).filter(v=>{const g=t.getState().nodeLookup.get(v.id);if(g&&!y&&(v.id===h.id||!g.internals.positionAbsolute))return!1;const j=Sl(w?v:g),N=Wd(j,x);return m&&N>0||N>=j.width*j.height||N>=x.width*x.height}):[]},isNodeIntersecting:(h,m,f=!0)=>{const x=bC(h)?h:d(h);if(!x)return!1;const w=Wd(x,m);return f&&w>0||w>=x.width*x.height},updateNode:c,updateNodeData:(h,m,f={replace:!1})=>{c(h,y=>{const x=typeof m=="function"?m(y):m;return f.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},f)},updateEdge:u,updateEdgeData:(h,m,f={replace:!1})=>{u(h,y=>{const x=typeof m=="function"?m(y):m;return f.replace?{...y,data:x}:{...y,data:{...y.data,...x}}},f)},getNodesBounds:h=>{const{nodeLookup:m,nodeOrigin:f}=t.getState();return $X(h,{nodeLookup:m,nodeOrigin:f})},getHandleConnections:({type:h,id:m,nodeId:f})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${f}-${h}${m?`-${m}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:h,handleId:m,nodeId:f})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${f}${h?m?`-${h}-${m}`:`-${h}`:""}`))==null?void 0:y.values())??[])},fitView:async h=>{const m=t.getState().fitViewResolver??YX();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:m}),s.nodeQueue.push(f=>[...f]),m.promise}}},[]);return p.useMemo(()=>({...a,...e,viewportInitialized:r}),[r])}const KC=e=>e.selected,MQ=typeof window<"u"?window:void 0;function FQ({deleteKeyCode:e,multiSelectionKeyCode:t}){const s=xt(),{deleteElements:r}=Nr(),a=Kd(e,{actInsideInputWithModifier:!1}),o=Kd(t,{target:MQ});p.useEffect(()=>{if(a){const{edges:i,nodes:l}=s.getState();r({nodes:l.filter(KC),edges:i.filter(KC)}),s.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{s.setState({multiSelectionActive:o})},[o])}function _Q(e){const t=xt();p.useEffect(()=>{const s=()=>{var a,o;if(!e.current)return!1;const r=gN(e.current);(r.height===0||r.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",xr.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){s(),window.addEventListener("resize",s);const r=new ResizeObserver(()=>s());return r.observe(e.current),()=>{window.removeEventListener("resize",s),r&&e.current&&r.unobserve(e.current)}}},[])}const kx={position:"absolute",width:"100%",height:"100%",top:0,left:0},IQ=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function OQ({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:s=!0,panOnScroll:r=!1,panOnScrollSpeed:a=.5,panOnScrollMode:o=To.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:d,translateExtent:c,minZoom:u,maxZoom:h,zoomActivationKeyCode:m,preventScrolling:f=!0,children:y,noWheelClassName:x,noPanClassName:w,onViewportChange:v,isControlledViewport:g,paneClickDistance:j}){const N=xt(),b=p.useRef(null),{userSelectionActive:E,lib:C}=Be(IQ,Tt),T=Kd(m),F=p.useRef();_Q(b);const V=p.useCallback(k=>{v==null||v({x:k[0],y:k[1],zoom:k[2]}),g||N.setState({transform:k})},[v,g]);return p.useEffect(()=>{if(b.current){F.current=TJ({domNode:b.current,minZoom:u,maxZoom:h,translateExtent:c,viewport:d,paneClickDistance:j,onDraggingChange:D=>N.setState({paneDragging:D}),onPanZoomStart:(D,P)=>{const{onViewportChangeStart:L,onMoveStart:O}=N.getState();O==null||O(D,P),L==null||L(P)},onPanZoom:(D,P)=>{const{onViewportChange:L,onMove:O}=N.getState();O==null||O(D,P),L==null||L(P)},onPanZoomEnd:(D,P)=>{const{onViewportChangeEnd:L,onMoveEnd:O}=N.getState();O==null||O(D,P),L==null||L(P)}});const{x:k,y:M,zoom:$}=F.current.getViewport();return N.setState({panZoom:F.current,transform:[k,M,$],domNode:b.current.closest(".react-flow")}),()=>{var D;(D=F.current)==null||D.destroy()}}},[]),p.useEffect(()=>{var k;(k=F.current)==null||k.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:s,panOnScroll:r,panOnScrollSpeed:a,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:f,noPanClassName:w,userSelectionActive:E,noWheelClassName:x,lib:C,onTransformChange:V})},[e,t,s,r,a,o,i,l,T,f,w,E,x,C,V]),n.jsx("div",{className:"react-flow__renderer",ref:b,style:kx,children:y})}const LQ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $Q(){const{userSelectionActive:e,userSelectionRect:t}=Be(LQ,Tt);return e&&t?n.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Gg=(e,t)=>s=>{s.target===t.current&&(e==null||e(s))},VQ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function UQ({isSelecting:e,selectionKeyPressed:t,selectionMode:s=qd.Full,panOnDrag:r,selectionOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:d,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:h,onPaneMouseLeave:m,children:f}){const y=xt(),{userSelectionActive:x,elementsSelectable:w,dragging:v,connectionInProgress:g}=Be(VQ,Tt),j=w&&(e||x),N=p.useRef(null),b=p.useRef(),E=p.useRef(new Set),C=p.useRef(new Set),T=p.useRef(!1),F=p.useRef(!1),V=O=>{if(T.current||g){T.current=!1;return}l==null||l(O),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},k=O=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){O.preventDefault();return}d==null||d(O)},M=c?O=>c(O):void 0,$=O=>{var U,K;const{resetSelectedElements:R,domNode:_}=y.getState();if(b.current=_==null?void 0:_.getBoundingClientRect(),!w||!e||O.button!==0||O.target!==N.current||!b.current)return;(K=(U=O.target)==null?void 0:U.setPointerCapture)==null||K.call(U,O.pointerId),F.current=!0,T.current=!1;const{x:z,y:B}=ar(O.nativeEvent,b.current);R(),y.setState({userSelectionRect:{width:0,height:0,startX:z,startY:B,x:z,y:B}}),o==null||o(O)},D=O=>{const{userSelectionRect:R,transform:_,nodeLookup:z,edgeLookup:B,connectionLookup:U,triggerNodeChanges:K,triggerEdgeChanges:Y,defaultEdgeOptions:X}=y.getState();if(!b.current||!R)return;T.current=!0;const{x:G,y:H}=ar(O.nativeEvent,b.current),{startX:ae,startY:de}=R,xe={startX:ae,startY:de,x:G<ae?G:ae,y:H<de?H:de,width:Math.abs(G-ae),height:Math.abs(H-de)},ye=E.current,fe=C.current;E.current=new Set(fN(z,xe,_,s===qd.Partial,!0).map(Ne=>Ne.id)),C.current=new Set;const we=(X==null?void 0:X.selectable)??!0;for(const Ne of E.current){const Me=U.get(Ne);if(Me)for(const{edgeId:Le}of Me.values()){const Pt=B.get(Le);Pt&&(Pt.selectable??we)&&C.current.add(Le)}}if(!SC(ye,E.current)){const Ne=$i(z,E.current,!0);K(Ne)}if(!SC(fe,C.current)){const Ne=$i(B,C.current);Y(Ne)}y.setState({userSelectionRect:xe,userSelectionActive:!0,nodesSelectionActive:!1})},P=O=>{var _,z;if(O.button!==0||!F.current)return;(z=(_=O.target)==null?void 0:_.releasePointerCapture)==null||z.call(_,O.pointerId);const{userSelectionRect:R}=y.getState();!x&&R&&O.target===N.current&&(V==null||V(O)),y.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),i==null||i(O),(t||a)&&(T.current=!1),F.current=!1},L=r===!0||Array.isArray(r)&&r.includes(0);return n.jsxs("div",{className:Vt(["react-flow__pane",{draggable:L,dragging:v,selection:e}]),onClick:j?void 0:Gg(V,N),onContextMenu:Gg(k,N),onWheel:Gg(M,N),onPointerEnter:j?void 0:u,onPointerDown:j?$:h,onPointerMove:j?D:h,onPointerUp:j?P:void 0,onPointerLeave:m,ref:N,style:kx,children:[f,n.jsx($Q,{})]})}function bj({id:e,store:t,unselect:s=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:d}=t.getState(),c=l.get(e);if(!c){d==null||d("012",xr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(s||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):a([e])}function K4({nodeRef:e,disabled:t=!1,noDragClassName:s,handleSelector:r,nodeId:a,isSelectable:o,nodeClickDistance:i}){const l=xt(),[d,c]=p.useState(!1),u=p.useRef();return p.useEffect(()=>{u.current=hJ({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{bj({id:h,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),p.useEffect(()=>{var h,m;if(t)(h=u.current)==null||h.destroy();else if(e.current)return(m=u.current)==null||m.update({noDragClassName:s,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:a,nodeClickDistance:i}),()=>{var f;(f=u.current)==null||f.destroy()}},[s,r,t,o,e,a]),d}const BQ=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function G4(){const e=xt();return p.useCallback(s=>{const{nodeExtent:r,snapToGrid:a,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:d,nodeLookup:c,nodeOrigin:u}=e.getState(),h=new Map,m=BQ(i),f=a?o[0]:5,y=a?o[1]:5,x=s.direction.x*f*s.factor,w=s.direction.y*y*s.factor;for(const[,v]of c){if(!m(v))continue;let g={x:v.internals.positionAbsolute.x+x,y:v.internals.positionAbsolute.y+w};a&&(g=Cx(g,o));const{position:j,positionAbsolute:N}=h4({nodeId:v.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:l});v.position=j,v.internals.positionAbsolute=N,h.set(v.id,v)}d(h)},[])}const bN=p.createContext(null),HQ=bN.Provider;bN.Consumer;const X4=()=>p.useContext(bN),zQ=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),qQ=(e,t,s)=>r=>{const{connectionClickStartHandle:a,connectionMode:o,connection:i}=r,{fromHandle:l,toHandle:d,isValid:c}=i,u=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===s;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===s,connectingTo:u,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===s,isPossibleEndHandle:o===Bo.Strict?(l==null?void 0:l.type)!==s:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&c}};function WQ({type:e="source",position:t=be.Top,isValidConnection:s,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:d,className:c,onMouseDown:u,onTouchStart:h,...m},f){var P,L;const y=i||null,x=e==="target",w=xt(),v=X4(),{connectOnClick:g,noPanClassName:j,rfId:N}=Be(zQ,Tt),{connectingFrom:b,connectingTo:E,clickConnecting:C,isPossibleEndHandle:T,connectionInProcess:F,clickConnectionInProcess:V,valid:k}=Be(qQ(v,y,e),Tt);v||(L=(P=w.getState()).onError)==null||L.call(P,"010",xr.error010());const M=O=>{const{defaultEdgeOptions:R,onConnect:_,hasDefaultEdges:z}=w.getState(),B={...R,...O};if(z){const{edges:U,setEdges:K}=w.getState();K(af(B,U))}_==null||_(B),l==null||l(B)},$=O=>{if(!v)return;const R=j4(O.nativeEvent);if(a&&(R&&O.button===0||!R)){const _=w.getState();Nj.onPointerDown(O.nativeEvent,{autoPanOnConnect:_.autoPanOnConnect,connectionMode:_.connectionMode,connectionRadius:_.connectionRadius,domNode:_.domNode,nodeLookup:_.nodeLookup,lib:_.lib,isTarget:x,handleId:y,nodeId:v,flowId:_.rfId,panBy:_.panBy,cancelConnection:_.cancelConnection,onConnectStart:_.onConnectStart,onConnectEnd:_.onConnectEnd,updateConnection:_.updateConnection,onConnect:M,isValidConnection:s||_.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:_.autoPanSpeed,dragThreshold:_.connectionDragThreshold})}R?u==null||u(O):h==null||h(O)},D=O=>{const{onClickConnectStart:R,onClickConnectEnd:_,connectionClickStartHandle:z,connectionMode:B,isValidConnection:U,lib:K,rfId:Y,nodeLookup:X,connection:G}=w.getState();if(!v||!z&&!a)return;if(!z){R==null||R(O.nativeEvent,{nodeId:v,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,id:y}});return}const H=v4(O.target),ae=s||U,{connection:de,isValid:xe}=Nj.isValid(O.nativeEvent,{handle:{nodeId:v,id:y,type:e},connectionMode:B,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ae,flowId:Y,doc:H,lib:K,nodeLookup:X});xe&&de&&M(de);const ye=structuredClone(G);delete ye.inProgress,ye.toPosition=ye.toHandle?ye.toHandle.position:null,_==null||_(O,ye),w.setState({connectionClickStartHandle:null})};return n.jsx("div",{"data-handleid":y,"data-nodeid":v,"data-handlepos":t,"data-id":`${N}-${v}-${y}-${e}`,className:Vt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,c,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:o,clickconnecting:C,connectingfrom:b,connectingto:E,valid:k,connectionindicator:r&&(!F||T)&&(F||V?o:a)}]),onMouseDown:$,onTouchStart:$,onClick:g?D:void 0,ref:f,...m,children:d})}const Ft=p.memo(W4(WQ));function YQ({data:e,isConnectable:t,sourcePosition:s=be.Bottom}){return n.jsxs(n.Fragment,{children:[e==null?void 0:e.label,n.jsx(Ft,{type:"source",position:s,isConnectable:t})]})}function KQ({data:e,isConnectable:t,targetPosition:s=be.Top,sourcePosition:r=be.Bottom}){return n.jsxs(n.Fragment,{children:[n.jsx(Ft,{type:"target",position:s,isConnectable:t}),e==null?void 0:e.label,n.jsx(Ft,{type:"source",position:r,isConnectable:t})]})}function GQ(){return null}function XQ({data:e,isConnectable:t,targetPosition:s=be.Top}){return n.jsxs(n.Fragment,{children:[n.jsx(Ft,{type:"target",position:s,isConnectable:t}),e==null?void 0:e.label]})}const of={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},GC={input:YQ,default:KQ,output:XQ,group:GQ};function JQ(e){var t,s,r,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((s=e.style)==null?void 0:s.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const QQ=e=>{const{width:t,height:s,x:r,y:a}=Ou(e.nodeLookup,{filter:o=>!!o.selected});return{width:Rs(t)?t:null,height:Rs(s)?s:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${a}px)`}};function ZQ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:s}){const r=xt(),{width:a,height:o,transformString:i,userSelectionActive:l}=Be(QQ,Tt),d=G4(),c=p.useRef(null);if(p.useEffect(()=>{var m;s||(m=c.current)==null||m.focus({preventScroll:!0})},[s]),K4({nodeRef:c}),l||!a||!o)return null;const u=e?m=>{const f=r.getState().nodes.filter(y=>y.selected);e(m,f)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(of,m.key)&&(m.preventDefault(),d({direction:of[m.key],factor:m.shiftKey?4:1}))};return n.jsx("div",{className:Vt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:n.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:s?void 0:-1,onKeyDown:s?void 0:h,style:{width:a,height:o}})})}const XC=typeof window<"u"?window:void 0,eZ=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function J4({children:e,onPaneClick:t,onPaneMouseEnter:s,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:d,selectionKeyCode:c,selectionOnDrag:u,selectionMode:h,onSelectionStart:m,onSelectionEnd:f,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:v,zoomOnScroll:g,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:T,defaultViewport:F,translateExtent:V,minZoom:k,maxZoom:M,preventScrolling:$,onSelectionContextMenu:D,noWheelClassName:P,noPanClassName:L,disableKeyboardA11y:O,onViewportChange:R,isControlledViewport:_}){const{nodesSelectionActive:z,userSelectionActive:B}=Be(eZ),U=Kd(c,{target:XC}),K=Kd(x,{target:XC}),Y=K||T,X=K||N,G=u&&Y!==!0,H=U||B||G;return FQ({deleteKeyCode:d,multiSelectionKeyCode:y}),n.jsx(OQ,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:g,zoomOnPinch:j,panOnScroll:X,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!U&&Y,defaultViewport:F,translateExtent:V,minZoom:k,maxZoom:M,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:P,noPanClassName:L,onViewportChange:R,isControlledViewport:_,paneClickDistance:l,children:n.jsxs(UQ,{onSelectionStart:m,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:s,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:Y,isSelecting:!!H,selectionMode:h,selectionKeyPressed:U,selectionOnDrag:G,children:[e,z&&n.jsx(ZQ,{onSelectionContextMenu:D,noPanClassName:L,disableKeyboardA11y:O})]})})}J4.displayName="FlowRenderer";const tZ=p.memo(J4),nZ=e=>t=>e?fN(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(s=>s.id):Array.from(t.nodeLookup.keys());function sZ(e){return Be(p.useCallback(nZ(e),[e]),Tt)}const rZ=e=>e.updateNodeInternals;function aZ(){const e=Be(rZ),[t]=p.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const r=new Map;s.forEach(a=>{const o=a.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:a.target,force:!0})}),e(r)}));return p.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function oZ({node:e,nodeType:t,hasDimensions:s,resizeObserver:r}){const a=xt(),o=p.useRef(null),i=p.useRef(null),l=p.useRef(e.sourcePosition),d=p.useRef(e.targetPosition),c=p.useRef(t),u=s&&!!e.internals.handleBounds;return p.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(o.current),i.current=o.current)},[u,e.hidden]),p.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),p.useEffect(()=>{if(o.current){const h=c.current!==t,m=l.current!==e.sourcePosition,f=d.current!==e.targetPosition;(h||m||f)&&(c.current=t,l.current=e.sourcePosition,d.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function iZ({id:e,onClick:t,onMouseEnter:s,onMouseMove:r,onMouseLeave:a,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:d,nodesConnectable:c,nodesFocusable:u,resizeObserver:h,noDragClassName:m,noPanClassName:f,disableKeyboardA11y:y,rfId:x,nodeTypes:w,nodeClickDistance:v,onError:g}){const{node:j,internals:N,isParent:b}=Be(ae=>{const de=ae.nodeLookup.get(e),xe=ae.parentLookup.has(e);return{node:de,internals:de.internals,isParent:xe}},Tt);let E=j.type||"default",C=(w==null?void 0:w[E])||GC[E];C===void 0&&(g==null||g("003",xr.error003(E)),E="default",C=(w==null?void 0:w.default)||GC.default);const T=!!(j.draggable||l&&typeof j.draggable>"u"),F=!!(j.selectable||d&&typeof j.selectable>"u"),V=!!(j.connectable||c&&typeof j.connectable>"u"),k=!!(j.focusable||u&&typeof j.focusable>"u"),M=xt(),$=x4(j),D=oZ({node:j,nodeType:E,hasDimensions:$,resizeObserver:h}),P=K4({nodeRef:D,disabled:j.hidden||!T,noDragClassName:m,handleSelector:j.dragHandle,nodeId:e,isSelectable:F,nodeClickDistance:v}),L=G4();if(j.hidden)return null;const O=Qr(j),R=JQ(j),_=F||T||t||s||r||a,z=s?ae=>s(ae,{...N.userNode}):void 0,B=r?ae=>r(ae,{...N.userNode}):void 0,U=a?ae=>a(ae,{...N.userNode}):void 0,K=o?ae=>o(ae,{...N.userNode}):void 0,Y=i?ae=>i(ae,{...N.userNode}):void 0,X=ae=>{const{selectNodesOnDrag:de,nodeDragThreshold:xe}=M.getState();F&&(!de||!T||xe>0)&&bj({id:e,store:M,nodeRef:D}),t&&t(ae,{...N.userNode})},G=ae=>{if(!(y4(ae.nativeEvent)||y)){if(i4.includes(ae.key)&&F){const de=ae.key==="Escape";bj({id:e,store:M,unselect:de,nodeRef:D})}else if(T&&j.selected&&Object.prototype.hasOwnProperty.call(of,ae.key)){ae.preventDefault();const{ariaLabelConfig:de}=M.getState();M.setState({ariaLiveMessage:de["node.a11yDescription.ariaLiveMessage"]({direction:ae.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),L({direction:of[ae.key],factor:ae.shiftKey?4:1})}}},H=()=>{var Ne;if(y||!((Ne=D.current)!=null&&Ne.matches(":focus-visible")))return;const{transform:ae,width:de,height:xe,autoPanOnNodeFocus:ye,setCenter:fe}=M.getState();if(!ye)return;fN(new Map([[e,j]]),{x:0,y:0,width:de,height:xe},ae,!0).length>0||fe(j.position.x+O.width/2,j.position.y+O.height/2,{zoom:ae[2]})};return n.jsx("div",{className:Vt(["react-flow__node",`react-flow__node-${E}`,{[f]:T},j.className,{selected:j.selected,selectable:F,parent:b,draggable:T,dragging:P}]),ref:D,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:_?"all":"none",visibility:$?"visible":"hidden",...j.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:U,onContextMenu:K,onClick:X,onDoubleClick:Y,onKeyDown:k?G:void 0,tabIndex:k?0:void 0,onFocus:k?H:void 0,role:j.ariaRole??(k?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${V4}-${x}`,"aria-label":j.ariaLabel,...j.domAttributes,children:n.jsx(HQ,{value:e,children:n.jsx(C,{id:e,data:j.data,type:E,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:j.selected??!1,selectable:F,draggable:T,deletable:j.deletable??!0,isConnectable:V,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:P,dragHandle:j.dragHandle,zIndex:N.z,parentId:j.parentId,...O})})})}const lZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Q4(e){const{nodesDraggable:t,nodesConnectable:s,nodesFocusable:r,elementsSelectable:a,onError:o}=Be(lZ,Tt),i=sZ(e.onlyRenderVisibleElements),l=aZ();return n.jsx("div",{className:"react-flow__nodes",style:kx,children:i.map(d=>n.jsx(iZ,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:s,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:o},d))})}Q4.displayName="NodeRenderer";const cZ=p.memo(Q4);function dZ(e){return Be(p.useCallback(s=>{if(!e)return s.edges.map(a=>a.id);const r=[];if(s.width&&s.height)for(const a of s.edges){const o=s.nodeLookup.get(a.source),i=s.nodeLookup.get(a.target);o&&i&&JX({sourceNode:o,targetNode:i,width:s.width,height:s.height,transform:s.transform})&&r.push(a.id)}return r},[e]),Tt)}const uZ=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hZ=({color:e="none",strokeWidth:t=1})=>n.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),JC={[Ds.Arrow]:uZ,[Ds.ArrowClosed]:hZ};function mZ(e){const t=xt();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(JC,e)?JC[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",xr.error009(e)),null)},[e])}const pZ=({id:e,type:t,color:s,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const d=mZ(t);return d?n.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:n.jsx(d,{color:s,strokeWidth:i})}):null},Z4=({defaultColor:e,rfId:t})=>{const s=Be(o=>o.edges),r=Be(o=>o.defaultEdgeOptions),a=p.useMemo(()=>rJ(s,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[s,r,t,e]);return a.length?n.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:n.jsx("defs",{children:a.map(o=>n.jsx(pZ,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Z4.displayName="MarkerDefinitions";var fZ=p.memo(Z4);function e_({x:e,y:t,label:s,labelStyle:r,labelShowBg:a=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:d,className:c,...u}){const[h,m]=p.useState({x:1,y:0,width:0,height:0}),f=Vt(["react-flow__edge-textwrapper",c]),y=p.useRef(null);return p.useEffect(()=>{if(y.current){const x=y.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[s]),s?n.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:f,visibility:h.width?"visible":"hidden",...u,children:[a&&n.jsx("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),n.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:y,style:r,children:s}),d]}):null}e_.displayName="EdgeText";const xZ=p.memo(e_);function $u({path:e,labelX:t,labelY:s,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:c=20,...u}){return n.jsxs(n.Fragment,{children:[n.jsx("path",{...u,d:e,fill:"none",className:Vt(["react-flow__edge-path",u.className])}),c&&n.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&Rs(t)&&Rs(s)?n.jsx(xZ,{x:t,y:s,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function QC({pos:e,x1:t,y1:s,x2:r,y2:a}){return e===be.Left||e===be.Right?[.5*(t+r),s]:[t,.5*(s+a)]}function t_({sourceX:e,sourceY:t,sourcePosition:s=be.Bottom,targetX:r,targetY:a,targetPosition:o=be.Top}){const[i,l]=QC({pos:s,x1:e,y1:t,x2:r,y2:a}),[d,c]=QC({pos:o,x1:r,y1:a,x2:e,y2:t}),[u,h,m,f]=w4({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:d,targetControlY:c});return[`M${e},${t} C${i},${l} ${d},${c} ${r},${a}`,u,h,m,f]}function n_(e){return p.memo(({id:t,sourceX:s,sourceY:r,targetX:a,targetY:o,sourcePosition:i,targetPosition:l,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:f,style:y,markerEnd:x,markerStart:w,interactionWidth:v})=>{const[g,j,N]=t_({sourceX:s,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l}),b=e.isInternal?void 0:t;return n.jsx($u,{id:b,path:g,labelX:j,labelY:N,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:f,style:y,markerEnd:x,markerStart:w,interactionWidth:v})})}const gZ=n_({isInternal:!1}),s_=n_({isInternal:!0});gZ.displayName="SimpleBezierEdge";s_.displayName="SimpleBezierEdgeInternal";function r_(e){return p.memo(({id:t,sourceX:s,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:m,sourcePosition:f=be.Bottom,targetPosition:y=be.Top,markerEnd:x,markerStart:w,pathOptions:v,interactionWidth:g})=>{const[j,N,b]=yj({sourceX:s,sourceY:r,sourcePosition:f,targetX:a,targetY:o,targetPosition:y,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset,stepPosition:v==null?void 0:v.stepPosition}),E=e.isInternal?void 0:t;return n.jsx($u,{id:E,path:j,labelX:N,labelY:b,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:x,markerStart:w,interactionWidth:g})})}const a_=r_({isInternal:!1}),o_=r_({isInternal:!0});a_.displayName="SmoothStepEdge";o_.displayName="SmoothStepEdgeInternal";function i_(e){return p.memo(({id:t,...s})=>{var a;const r=e.isInternal?void 0:t;return n.jsx(a_,{...s,id:r,pathOptions:p.useMemo(()=>{var o;return{borderRadius:0,offset:(o=s.pathOptions)==null?void 0:o.offset}},[(a=s.pathOptions)==null?void 0:a.offset])})})}const vZ=i_({isInternal:!1}),l_=i_({isInternal:!0});vZ.displayName="StepEdge";l_.displayName="StepEdgeInternal";function c_(e){return p.memo(({id:t,sourceX:s,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:f,markerStart:y,interactionWidth:x})=>{const[w,v,g]=b4({sourceX:s,sourceY:r,targetX:a,targetY:o}),j=e.isInternal?void 0:t;return n.jsx($u,{id:j,path:w,labelX:v,labelY:g,label:i,labelStyle:l,labelShowBg:d,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:f,markerStart:y,interactionWidth:x})})}const yZ=c_({isInternal:!1}),d_=c_({isInternal:!0});yZ.displayName="StraightEdge";d_.displayName="StraightEdgeInternal";function u_(e){return p.memo(({id:t,sourceX:s,sourceY:r,targetX:a,targetY:o,sourcePosition:i=be.Bottom,targetPosition:l=be.Top,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:f,style:y,markerEnd:x,markerStart:w,pathOptions:v,interactionWidth:g})=>{const[j,N,b]=vN({sourceX:s,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l,curvature:v==null?void 0:v.curvature}),E=e.isInternal?void 0:t;return n.jsx($u,{id:E,path:j,labelX:N,labelY:b,label:d,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:f,style:y,markerEnd:x,markerStart:w,interactionWidth:g})})}const jZ=u_({isInternal:!1}),h_=u_({isInternal:!0});jZ.displayName="BezierEdge";h_.displayName="BezierEdgeInternal";const ZC={default:h_,straight:d_,step:l_,smoothstep:o_,simplebezier:s_},e2={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},wZ=(e,t,s)=>s===be.Left?e-t:s===be.Right?e+t:e,NZ=(e,t,s)=>s===be.Top?e-t:s===be.Bottom?e+t:e,t2="react-flow__edgeupdater";function n2({position:e,centerX:t,centerY:s,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:l}){return n.jsx("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:Vt([t2,`${t2}-${l}`]),cx:wZ(t,r,e),cy:NZ(s,r,e),r,stroke:"transparent",fill:"transparent"})}function bZ({isReconnectable:e,reconnectRadius:t,edge:s,sourceX:r,sourceY:a,targetX:o,targetY:i,sourcePosition:l,targetPosition:d,onReconnect:c,onReconnectStart:u,onReconnectEnd:h,setReconnecting:m,setUpdateHover:f}){const y=xt(),x=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:E,domNode:C,isValidConnection:T,connectionMode:F,connectionRadius:V,lib:k,onConnectStart:M,onConnectEnd:$,cancelConnection:D,nodeLookup:P,rfId:L,panBy:O,updateConnection:R}=y.getState(),_=b.type==="target",z=(K,Y)=>{m(!1),h==null||h(K,s,b.type,Y)},B=K=>c==null?void 0:c(s,K),U=(K,Y)=>{m(!0),u==null||u(N,s,b.type),M==null||M(K,Y)};Nj.onPointerDown(N.nativeEvent,{autoPanOnConnect:E,connectionMode:F,connectionRadius:V,domNode:C,handleId:b.id,nodeId:b.nodeId,nodeLookup:P,isTarget:_,edgeUpdaterType:b.type,lib:k,flowId:L,cancelConnection:D,panBy:O,isValidConnection:T,onConnect:B,onConnectStart:U,onConnectEnd:$,onReconnectEnd:z,updateConnection:R,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold})},w=N=>x(N,{nodeId:s.target,id:s.targetHandle??null,type:"target"}),v=N=>x(N,{nodeId:s.source,id:s.sourceHandle??null,type:"source"}),g=()=>f(!0),j=()=>f(!1);return n.jsxs(n.Fragment,{children:[(e===!0||e==="source")&&n.jsx(n2,{position:l,centerX:r,centerY:a,radius:t,onMouseDown:w,onMouseEnter:g,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&n.jsx(n2,{position:d,centerX:o,centerY:i,radius:t,onMouseDown:v,onMouseEnter:g,onMouseOut:j,type:"target"})]})}function SZ({id:e,edgesFocusable:t,edgesReconnectable:s,elementsSelectable:r,onClick:a,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,reconnectRadius:u,onReconnect:h,onReconnectStart:m,onReconnectEnd:f,rfId:y,edgeTypes:x,noPanClassName:w,onError:v,disableKeyboardA11y:g}){let j=Be(fe=>fe.edgeLookup.get(e));const N=Be(fe=>fe.defaultEdgeOptions);j=N?{...N,...j}:j;let b=j.type||"default",E=(x==null?void 0:x[b])||ZC[b];E===void 0&&(v==null||v("011",xr.error011(b)),b="default",E=(x==null?void 0:x.default)||ZC.default);const C=!!(j.focusable||t&&typeof j.focusable>"u"),T=typeof h<"u"&&(j.reconnectable||s&&typeof j.reconnectable>"u"),F=!!(j.selectable||r&&typeof j.selectable>"u"),V=p.useRef(null),[k,M]=p.useState(!1),[$,D]=p.useState(!1),P=xt(),{zIndex:L,sourceX:O,sourceY:R,targetX:_,targetY:z,sourcePosition:B,targetPosition:U}=Be(p.useCallback(fe=>{const we=fe.nodeLookup.get(j.source),Ne=fe.nodeLookup.get(j.target);if(!we||!Ne)return{zIndex:j.zIndex,...e2};const Me=sJ({id:e,sourceNode:we,targetNode:Ne,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:fe.connectionMode,onError:v});return{zIndex:XX({selected:j.selected,zIndex:j.zIndex,sourceNode:we,targetNode:Ne,elevateOnSelect:fe.elevateEdgesOnSelect}),...Me||e2}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),Tt),K=p.useMemo(()=>j.markerStart?`url('#${jj(j.markerStart,y)}')`:void 0,[j.markerStart,y]),Y=p.useMemo(()=>j.markerEnd?`url('#${jj(j.markerEnd,y)}')`:void 0,[j.markerEnd,y]);if(j.hidden||O===null||R===null||_===null||z===null)return null;const X=fe=>{var Le;const{addSelectedEdges:we,unselectNodesAndEdges:Ne,multiSelectionActive:Me}=P.getState();F&&(P.setState({nodesSelectionActive:!1}),j.selected&&Me?(Ne({nodes:[],edges:[j]}),(Le=V.current)==null||Le.blur()):we([e])),a&&a(fe,j)},G=o?fe=>{o(fe,{...j})}:void 0,H=i?fe=>{i(fe,{...j})}:void 0,ae=l?fe=>{l(fe,{...j})}:void 0,de=d?fe=>{d(fe,{...j})}:void 0,xe=c?fe=>{c(fe,{...j})}:void 0,ye=fe=>{var we;if(!g&&i4.includes(fe.key)&&F){const{unselectNodesAndEdges:Ne,addSelectedEdges:Me}=P.getState();fe.key==="Escape"?((we=V.current)==null||we.blur(),Ne({edges:[j]})):Me([e])}};return n.jsx("svg",{style:{zIndex:L},children:n.jsxs("g",{className:Vt(["react-flow__edge",`react-flow__edge-${b}`,j.className,w,{selected:j.selected,animated:j.animated,inactive:!F&&!a,updating:k,selectable:F}]),onClick:X,onDoubleClick:G,onContextMenu:H,onMouseEnter:ae,onMouseMove:de,onMouseLeave:xe,onKeyDown:C?ye:void 0,tabIndex:C?0:void 0,role:j.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":C?`${U4}-${y}`:void 0,ref:V,...j.domAttributes,children:[!$&&n.jsx(E,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:F,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:O,sourceY:R,targetX:_,targetY:z,sourcePosition:B,targetPosition:U,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:K,markerEnd:Y,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),T&&n.jsx(bZ,{edge:j,isReconnectable:T,reconnectRadius:u,onReconnect:h,onReconnectStart:m,onReconnectEnd:f,sourceX:O,sourceY:R,targetX:_,targetY:z,sourcePosition:B,targetPosition:U,setUpdateHover:M,setReconnecting:D})]})})}const CZ=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function m_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:s,edgeTypes:r,noPanClassName:a,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:h,onEdgeDoubleClick:m,onReconnectStart:f,onReconnectEnd:y,disableKeyboardA11y:x}){const{edgesFocusable:w,edgesReconnectable:v,elementsSelectable:g,onError:j}=Be(CZ,Tt),N=dZ(t);return n.jsxs("div",{className:"react-flow__edges",children:[n.jsx(fZ,{defaultColor:e,rfId:s}),N.map(b=>n.jsx(SZ,{id:b,edgesFocusable:w,edgesReconnectable:v,elementsSelectable:g,noPanClassName:a,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:u,reconnectRadius:h,onDoubleClick:m,onReconnectStart:f,onReconnectEnd:y,rfId:s,onError:j,edgeTypes:r,disableKeyboardA11y:x},b))]})}m_.displayName="EdgeRenderer";const EZ=p.memo(m_),TZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function PZ({children:e}){const t=Be(TZ);return n.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function kZ(e){const t=Nr(),s=p.useRef(!1);p.useEffect(()=>{!s.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),s.current=!0)},[e,t.viewportInitialized])}const AZ=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function DZ(e){const t=Be(AZ),s=xt();return p.useEffect(()=>{e&&(t==null||t(e),s.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function RZ(e){return e.connection.inProgress?{...e.connection,to:Lu(e.connection.to,e.transform)}:{...e.connection}}function MZ(e){return RZ}function FZ(e){const t=MZ();return Be(t,Tt)}const _Z=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function IZ({containerStyle:e,style:t,type:s,component:r}){const{nodesConnectable:a,width:o,height:i,isValid:l,inProgress:d}=Be(_Z,Tt);return!(o&&a&&d)?null:n.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:n.jsx("g",{className:Vt(["react-flow__connection",d4(l)]),children:n.jsx(p_,{style:t,type:s,CustomComponent:r,isValid:l})})})}const p_=({style:e,type:t=ya.Bezier,CustomComponent:s,isValid:r})=>{const{inProgress:a,from:o,fromNode:i,fromHandle:l,fromPosition:d,to:c,toNode:u,toHandle:h,toPosition:m}=FZ();if(!a)return;if(s)return n.jsx(s,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:d,toPosition:m,connectionStatus:d4(r),toNode:u,toHandle:h});let f="";const y={sourceX:o.x,sourceY:o.y,sourcePosition:d,targetX:c.x,targetY:c.y,targetPosition:m};switch(t){case ya.Bezier:[f]=vN(y);break;case ya.SimpleBezier:[f]=t_(y);break;case ya.Step:[f]=yj({...y,borderRadius:0});break;case ya.SmoothStep:[f]=yj(y);break;default:[f]=b4(y)}return n.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};p_.displayName="ConnectionLine";const OZ={};function s2(e=OZ){p.useRef(e),xt(),p.useEffect(()=>{},[e])}function LZ(){xt(),p.useRef(!1),p.useEffect(()=>{},[])}function f_({nodeTypes:e,edgeTypes:t,onInit:s,onNodeClick:r,onEdgeClick:a,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:f,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:g,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:T,onlyRenderVisibleElements:F,elementsSelectable:V,defaultViewport:k,translateExtent:M,minZoom:$,maxZoom:D,preventScrolling:P,defaultMarkerColor:L,zoomOnScroll:O,zoomOnPinch:R,panOnScroll:_,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:U,panOnDrag:K,onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:H,onPaneScroll:ae,onPaneContextMenu:de,paneClickDistance:xe,nodeClickDistance:ye,onEdgeContextMenu:fe,onEdgeMouseEnter:we,onEdgeMouseMove:Ne,onEdgeMouseLeave:Me,reconnectRadius:Le,onReconnect:Pt,onReconnectStart:cn,onReconnectEnd:Ke,noDragClassName:bn,noWheelClassName:Sr,noPanClassName:Gs,disableKeyboardA11y:Ln,nodeExtent:ta,rfId:Xs,viewport:$n,onViewportChange:dn}){return s2(e),s2(t),LZ(),kZ(s),DZ($n),n.jsx(tZ,{onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:G,onPaneMouseLeave:H,onPaneContextMenu:de,onPaneScroll:ae,paneClickDistance:xe,deleteKeyCode:T,selectionKeyCode:g,selectionOnDrag:j,selectionMode:N,onSelectionStart:m,onSelectionEnd:f,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:V,zoomOnScroll:O,zoomOnPinch:R,zoomOnDoubleClick:U,panOnScroll:_,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:K,defaultViewport:k,translateExtent:M,minZoom:$,maxZoom:D,onSelectionContextMenu:h,preventScrolling:P,noDragClassName:bn,noWheelClassName:Sr,noPanClassName:Gs,disableKeyboardA11y:Ln,onViewportChange:dn,isControlledViewport:!!$n,children:n.jsxs(PZ,{children:[n.jsx(EZ,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Pt,onReconnectStart:cn,onReconnectEnd:Ke,onlyRenderVisibleElements:F,onEdgeContextMenu:fe,onEdgeMouseEnter:we,onEdgeMouseMove:Ne,onEdgeMouseLeave:Me,reconnectRadius:Le,defaultMarkerColor:L,noPanClassName:Gs,disableKeyboardA11y:Ln,rfId:Xs}),n.jsx(IZ,{style:x,type:y,component:w,containerStyle:v}),n.jsx("div",{className:"react-flow__edgelabel-renderer"}),n.jsx(cZ,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:ye,onlyRenderVisibleElements:F,noPanClassName:Gs,noDragClassName:bn,disableKeyboardA11y:Ln,nodeExtent:ta,rfId:Xs}),n.jsx("div",{className:"react-flow__viewport-portal"})]})})}f_.displayName="GraphView";const $Z=p.memo(f_),r2=({nodes:e,edges:t,defaultNodes:s,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:h}={})=>{const m=new Map,f=new Map,y=new Map,x=new Map,w=r??t??[],v=s??e??[],g=u??[0,0],j=h??zd;C4(y,x,w);const N=wj(v,m,f,{nodeOrigin:g,nodeExtent:j,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&a&&o){const E=Ou(m,{filter:V=>!!((V.width||V.initialWidth)&&(V.height||V.initialHeight))}),{x:C,y:T,zoom:F}=xN(E,a,o,d,c,(l==null?void 0:l.padding)??.1);b=[C,T,F]}return{rfId:"1",width:0,height:0,transform:b,nodes:v,nodesInitialized:N,nodeLookup:m,parentLookup:f,edges:w,edgeLookup:x,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:s!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:c,translateExtent:zd,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Bo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...c4},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:zX,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:l4}},VZ=({nodes:e,edges:t,defaultNodes:s,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:h})=>oQ((m,f)=>{async function y(){const{nodeLookup:x,panZoom:w,fitViewOptions:v,fitViewResolver:g,width:j,height:N,minZoom:b,maxZoom:E}=f();w&&(await BX({nodes:x,width:j,height:N,panZoom:w,minZoom:b,maxZoom:E},v),g==null||g.resolve(!0),m({fitViewResolver:null}))}return{...r2({nodes:e,edges:t,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:h,defaultNodes:s,defaultEdges:r}),setNodes:x=>{const{nodeLookup:w,parentLookup:v,nodeOrigin:g,elevateNodesOnSelect:j,fitViewQueued:N}=f(),b=wj(x,w,v,{nodeOrigin:g,nodeExtent:h,elevateNodesOnSelect:j,checkEquality:!0});N&&b?(y(),m({nodes:x,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:x,nodesInitialized:b})},setEdges:x=>{const{connectionLookup:w,edgeLookup:v}=f();C4(w,v,x),m({edges:x})},setDefaultNodesAndEdges:(x,w)=>{if(x){const{setNodes:v}=f();v(x),m({hasDefaultNodes:!0})}if(w){const{setEdges:v}=f();v(w),m({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:w,nodeLookup:v,parentLookup:g,domNode:j,nodeOrigin:N,nodeExtent:b,debug:E,fitViewQueued:C}=f(),{changes:T,updatedInternals:F}=cJ(x,v,g,j,N,b);F&&(oJ(v,g,{nodeOrigin:N,nodeExtent:b}),C?(y(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(T==null?void 0:T.length)>0&&(E&&console.log("React Flow: trigger node changes",T),w==null||w(T)))},updateNodePositions:(x,w=!1)=>{const v=[],g=[],{nodeLookup:j,triggerNodeChanges:N}=f();for(const[b,E]of x){const C=j.get(b),T=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(E!=null&&E.position)),F={id:b,type:"position",position:T?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};T&&C.parentId&&v.push({id:b,parentId:C.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),g.push(F)}if(v.length>0){const{parentLookup:b,nodeOrigin:E}=f(),C=NN(v,j,b,E);g.push(...C)}N(g)},triggerNodeChanges:x=>{const{onNodesChange:w,setNodes:v,nodes:g,hasDefaultNodes:j,debug:N}=f();if(x!=null&&x.length){if(j){const b=z4(x,g);v(b)}N&&console.log("React Flow: trigger node changes",x),w==null||w(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:w,setEdges:v,edges:g,hasDefaultEdges:j,debug:N}=f();if(x!=null&&x.length){if(j){const b=q4(x,g);v(b)}N&&console.log("React Flow: trigger edge changes",x),w==null||w(x)}},addSelectedNodes:x=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:g,triggerNodeChanges:j,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>uo(E,!0));j(b);return}j($i(g,new Set([...x]),!0)),N($i(v))},addSelectedEdges:x=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:g,triggerNodeChanges:j,triggerEdgeChanges:N}=f();if(w){const b=x.map(E=>uo(E,!0));N(b);return}N($i(v,new Set([...x]))),j($i(g,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:w}={})=>{const{edges:v,nodes:g,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:b}=f(),E=x||g,C=w||v,T=E.map(V=>{const k=j.get(V.id);return k&&(k.selected=!1),uo(V.id,!1)}),F=C.map(V=>uo(V.id,!1));N(T),b(F)},setMinZoom:x=>{const{panZoom:w,maxZoom:v}=f();w==null||w.setScaleExtent([x,v]),m({minZoom:x})},setMaxZoom:x=>{const{panZoom:w,minZoom:v}=f();w==null||w.setScaleExtent([v,x]),m({maxZoom:x})},setTranslateExtent:x=>{var w;(w=f().panZoom)==null||w.setTranslateExtent(x),m({translateExtent:x})},setPaneClickDistance:x=>{var w;(w=f().panZoom)==null||w.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:w,triggerNodeChanges:v,triggerEdgeChanges:g,elementsSelectable:j}=f();if(!j)return;const N=w.reduce((E,C)=>C.selected?[...E,uo(C.id,!1)]:E,[]),b=x.reduce((E,C)=>C.selected?[...E,uo(C.id,!1)]:E,[]);v(N),g(b)},setNodeExtent:x=>{const{nodes:w,nodeLookup:v,parentLookup:g,nodeOrigin:j,elevateNodesOnSelect:N,nodeExtent:b}=f();x[0][0]===b[0][0]&&x[0][1]===b[0][1]&&x[1][0]===b[1][0]&&x[1][1]===b[1][1]||(wj(w,v,g,{nodeOrigin:j,nodeExtent:x,elevateNodesOnSelect:N,checkEquality:!1}),m({nodeExtent:x}))},panBy:x=>{const{transform:w,width:v,height:g,panZoom:j,translateExtent:N}=f();return dJ({delta:x,panZoom:j,transform:w,translateExtent:N,width:v,height:g})},setCenter:async(x,w,v)=>{const{width:g,height:j,maxZoom:N,panZoom:b}=f();if(!b)return Promise.resolve(!1);const E=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:N;return await b.setViewport({x:g/2-x*E,y:j/2-w*E,zoom:E},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...c4}})},updateConnection:x=>{m({connection:x})},reset:()=>m({...r2()})}},Object.is);function UZ({initialNodes:e,initialEdges:t,defaultNodes:s,defaultEdges:r,initialWidth:a,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:d,fitView:c,nodeOrigin:u,nodeExtent:h,children:m}){const[f]=p.useState(()=>VZ({nodes:e,edges:t,defaultNodes:s,defaultEdges:r,width:a,height:o,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:d,nodeOrigin:u,nodeExtent:h}));return n.jsx(iQ,{value:f,children:n.jsx(AQ,{children:m})})}function BZ({children:e,nodes:t,edges:s,defaultNodes:r,defaultEdges:a,width:o,height:i,fitView:l,fitViewOptions:d,minZoom:c,maxZoom:u,nodeOrigin:h,nodeExtent:m}){return p.useContext(Px)?n.jsx(n.Fragment,{children:e}):n.jsx(UZ,{initialNodes:t,initialEdges:s,defaultNodes:r,defaultEdges:a,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:d,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:h,nodeExtent:m,children:e})}const HZ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zZ({nodes:e,edges:t,defaultNodes:s,defaultEdges:r,className:a,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:d,onInit:c,onMove:u,onMoveStart:h,onMoveEnd:m,onConnect:f,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:g,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:F,onNodesDelete:V,onEdgesDelete:k,onDelete:M,onSelectionChange:$,onSelectionDragStart:D,onSelectionDrag:P,onSelectionDragStop:L,onSelectionContextMenu:O,onSelectionStart:R,onSelectionEnd:_,onBeforeDelete:z,connectionMode:B,connectionLineType:U=ya.Bezier,connectionLineStyle:K,connectionLineComponent:Y,connectionLineContainerStyle:X,deleteKeyCode:G="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:ae=!1,selectionMode:de=qd.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:ye=rf()?"Meta":"Control",zoomActivationKeyCode:fe=rf()?"Meta":"Control",snapToGrid:we,snapGrid:Ne,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:Le,nodesDraggable:Pt,autoPanOnNodeFocus:cn,nodesConnectable:Ke,nodesFocusable:bn,nodeOrigin:Sr=B4,edgesFocusable:Gs,edgesReconnectable:Ln,elementsSelectable:ta=!0,defaultViewport:Xs=jQ,minZoom:$n=.5,maxZoom:dn=2,translateExtent:na=zd,preventScrolling:Ns=!0,nodeExtent:Cr,defaultMarkerColor:oi="#b1b1b7",zoomOnScroll:so=!0,zoomOnPinch:ro=!0,panOnScroll:ii=!1,panOnScrollSpeed:sa=.5,panOnScrollMode:Vn=To.Free,zoomOnDoubleClick:li=!0,panOnDrag:De=!0,onPaneClick:Ge,onPaneMouseEnter:Ye,onPaneMouseMove:un,onPaneMouseLeave:hn,onPaneScroll:Er,onPaneContextMenu:ci,paneClickDistance:lc=0,nodeClickDistance:Xu=0,children:Ju,onReconnect:Qu,onReconnectStart:Zu,onReconnectEnd:eh,onEdgeContextMenu:th,onEdgeDoubleClick:nh,onEdgeMouseEnter:sh,onEdgeMouseMove:rh,onEdgeMouseLeave:ah,reconnectRadius:oh=10,onNodesChange:ih,onEdgesChange:lh,noDragClassName:ch="nodrag",noWheelClassName:dh="nowheel",noPanClassName:cc="nopan",fitView:dc,fitViewOptions:uc,connectOnClick:uh,attributionPosition:hh,proOptions:mh,defaultEdgeOptions:ph,elevateNodesOnSelect:fh,elevateEdgesOnSelect:xh,disableKeyboardA11y:hc=!1,autoPanOnConnect:gh,autoPanOnNodeDrag:vh,autoPanSpeed:yh,connectionRadius:jh,isValidConnection:wh,onError:Nh,style:bh,id:mc,nodeDragThreshold:Sh,connectionDragThreshold:Ch,viewport:Eh,onViewportChange:Th,width:Ph,height:kh,colorMode:Ah="light",debug:Dh,onScroll:ao,ariaLabelConfig:Rh,...Mh},Fh){const di=mc||"1",_h=SQ(Ah),Ih=p.useCallback(pc=>{pc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ao==null||ao(pc)},[ao]);return n.jsx("div",{"data-testid":"rf__wrapper",...Mh,onScroll:Ih,style:{...bh,...HZ},ref:Fh,className:Vt(["react-flow",a,_h]),id:mc,role:"application",children:n.jsxs(BZ,{nodes:e,edges:t,width:Ph,height:kh,fitView:dc,fitViewOptions:uc,minZoom:$n,maxZoom:dn,nodeOrigin:Sr,nodeExtent:Cr,children:[n.jsx($Z,{onInit:c,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:g,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:U,connectionLineStyle:K,connectionLineComponent:Y,connectionLineContainerStyle:X,selectionKeyCode:H,selectionOnDrag:ae,selectionMode:de,deleteKeyCode:G,multiSelectionKeyCode:ye,panActivationKeyCode:xe,zoomActivationKeyCode:fe,onlyRenderVisibleElements:Me,defaultViewport:Xs,translateExtent:na,minZoom:$n,maxZoom:dn,preventScrolling:Ns,zoomOnScroll:so,zoomOnPinch:ro,zoomOnDoubleClick:li,panOnScroll:ii,panOnScrollSpeed:sa,panOnScrollMode:Vn,panOnDrag:De,onPaneClick:Ge,onPaneMouseEnter:Ye,onPaneMouseMove:un,onPaneMouseLeave:hn,onPaneScroll:Er,onPaneContextMenu:ci,paneClickDistance:lc,nodeClickDistance:Xu,onSelectionContextMenu:O,onSelectionStart:R,onSelectionEnd:_,onReconnect:Qu,onReconnectStart:Zu,onReconnectEnd:eh,onEdgeContextMenu:th,onEdgeDoubleClick:nh,onEdgeMouseEnter:sh,onEdgeMouseMove:rh,onEdgeMouseLeave:ah,reconnectRadius:oh,defaultMarkerColor:oi,noDragClassName:ch,noWheelClassName:dh,noPanClassName:cc,rfId:di,disableKeyboardA11y:hc,nodeExtent:Cr,viewport:Eh,onViewportChange:Th}),n.jsx(bQ,{nodes:e,edges:t,defaultNodes:s,defaultEdges:r,onConnect:f,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:Pt,autoPanOnNodeFocus:cn,nodesConnectable:Ke,nodesFocusable:bn,edgesFocusable:Gs,edgesReconnectable:Ln,elementsSelectable:ta,elevateNodesOnSelect:fh,elevateEdgesOnSelect:xh,minZoom:$n,maxZoom:dn,nodeExtent:Cr,onNodesChange:ih,onEdgesChange:lh,snapToGrid:we,snapGrid:Ne,connectionMode:B,translateExtent:na,connectOnClick:uh,defaultEdgeOptions:ph,fitView:dc,fitViewOptions:uc,onNodesDelete:V,onEdgesDelete:k,onDelete:M,onNodeDragStart:C,onNodeDrag:T,onNodeDragStop:F,onSelectionDrag:P,onSelectionDragStart:D,onSelectionDragStop:L,onMove:u,onMoveStart:h,onMoveEnd:m,noPanClassName:cc,nodeOrigin:Sr,rfId:di,autoPanOnConnect:gh,autoPanOnNodeDrag:vh,autoPanSpeed:yh,onError:Nh,connectionRadius:jh,isValidConnection:wh,selectNodesOnDrag:Le,nodeDragThreshold:Sh,connectionDragThreshold:Ch,onBeforeDelete:z,paneClickDistance:lc,debug:Dh,ariaLabelConfig:Rh}),n.jsx(yQ,{onSelectionChange:$}),Ju,n.jsx(pQ,{proOptions:mh,position:hh}),n.jsx(mQ,{rfId:di,disableKeyboardA11y:hc})]})})}var x_=W4(zZ);const qZ=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function WZ({children:e}){const t=Be(qZ);return t?qs.createPortal(e,t):null}function g_(e){const[t,s]=p.useState(e),r=p.useCallback(a=>s(o=>z4(a,o)),[]);return[t,s,r]}function v_(e){const[t,s]=p.useState(e),r=p.useCallback(a=>s(o=>q4(a,o)),[]);return[t,s,r]}function YZ({dimensions:e,lineWidth:t,variant:s,className:r}){return n.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Vt(["react-flow__background-pattern",s,r])})}function KZ({radius:e,className:t}){return n.jsx("circle",{cx:e,cy:e,r:e,className:Vt(["react-flow__background-pattern","dots",t])})}var Lr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Lr||(Lr={}));const GZ={[Lr.Dots]:1,[Lr.Lines]:1,[Lr.Cross]:6},XZ=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function y_({id:e,variant:t=Lr.Dots,gap:s=20,size:r,lineWidth:a=1,offset:o=0,color:i,bgColor:l,style:d,className:c,patternClassName:u}){const h=p.useRef(null),{transform:m,patternId:f}=Be(XZ,Tt),y=r||GZ[t],x=t===Lr.Dots,w=t===Lr.Cross,v=Array.isArray(s)?s:[s,s],g=[v[0]*m[2]||1,v[1]*m[2]||1],j=y*m[2],N=Array.isArray(o)?o:[o,o],b=w?[j,j]:g,E=[N[0]*m[2]||1+b[0]/2,N[1]*m[2]||1+b[1]/2],C=`${f}${e||""}`;return n.jsxs("svg",{className:Vt(["react-flow__background",c]),style:{...d,...kx,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:h,"data-testid":"rf__background",children:[n.jsx("pattern",{id:C,x:m[0]%g[0],y:m[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:x?n.jsx(KZ,{radius:j/2,className:u}):n.jsx(YZ,{dimensions:b,lineWidth:a,variant:t,className:u})}),n.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}y_.displayName="Background";const j_=p.memo(y_);function JZ(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:n.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function QZ(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:n.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ZZ(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:n.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function eee(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tee(){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:n.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function xm({children:e,className:t,...s}){return n.jsx("button",{type:"button",className:Vt(["react-flow__controls-button",t]),...s,children:e})}const nee=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function w_({style:e,showZoom:t=!0,showFitView:s=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:d,className:c,children:u,position:h="bottom-left",orientation:m="vertical","aria-label":f}){const y=xt(),{isInteractive:x,minZoomReached:w,maxZoomReached:v,ariaLabelConfig:g}=Be(nee,Tt),{zoomIn:j,zoomOut:N,fitView:b}=Nr(),E=()=>{j(),o==null||o()},C=()=>{N(),i==null||i()},T=()=>{b(a),l==null||l()},F=()=>{y.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),d==null||d(!x)},V=m==="horizontal"?"horizontal":"vertical";return n.jsxs(Pl,{className:Vt(["react-flow__controls",V,c]),position:h,style:e,"data-testid":"rf__controls","aria-label":f??g["controls.ariaLabel"],children:[t&&n.jsxs(n.Fragment,{children:[n.jsx(xm,{onClick:E,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:v,children:n.jsx(JZ,{})}),n.jsx(xm,{onClick:C,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:w,children:n.jsx(QZ,{})})]}),s&&n.jsx(xm,{className:"react-flow__controls-fitview",onClick:T,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:n.jsx(ZZ,{})}),r&&n.jsx(xm,{className:"react-flow__controls-interactive",onClick:F,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:x?n.jsx(tee,{}):n.jsx(eee,{})}),u]})}w_.displayName="Controls";const N_=p.memo(w_);function see({id:e,x:t,y:s,width:r,height:a,style:o,color:i,strokeColor:l,strokeWidth:d,className:c,borderRadius:u,shapeRendering:h,selected:m,onClick:f}){const{background:y,backgroundColor:x}=o||{},w=i||y||x;return n.jsx("rect",{className:Vt(["react-flow__minimap-node",{selected:m},c]),x:t,y:s,rx:u,ry:u,width:r,height:a,style:{fill:w,stroke:l,strokeWidth:d},shapeRendering:h,onClick:f?v=>f(v,e):void 0})}const ree=p.memo(see),aee=e=>e.nodes.map(t=>t.id),Xg=e=>e instanceof Function?e:()=>e;function oee({nodeStrokeColor:e,nodeColor:t,nodeClassName:s="",nodeBorderRadius:r=5,nodeStrokeWidth:a,nodeComponent:o=ree,onClick:i}){const l=Be(aee,Tt),d=Xg(t),c=Xg(e),u=Xg(s),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return n.jsx(n.Fragment,{children:l.map(m=>n.jsx(lee,{id:m,nodeColorFunc:d,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:a,NodeComponent:o,onClick:i,shapeRendering:h},m))})}function iee({id:e,nodeColorFunc:t,nodeStrokeColorFunc:s,nodeClassNameFunc:r,nodeBorderRadius:a,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:d}){const{node:c,x:u,y:h,width:m,height:f}=Be(y=>{const{internals:x}=y.nodeLookup.get(e),w=x.userNode,{x:v,y:g}=x.positionAbsolute,{width:j,height:N}=Qr(w);return{node:w,x:v,y:g,width:j,height:N}},Tt);return!c||c.hidden||!x4(c)?null:n.jsx(l,{x:u,y:h,width:m,height:f,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:a,strokeColor:s(c),strokeWidth:o,shapeRendering:i,onClick:d,id:c.id})}const lee=p.memo(iee);var cee=p.memo(oee);const dee=200,uee=150,hee=e=>!e.hidden,mee=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?f4(Ou(e.nodeLookup,{filter:hee}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},pee="react-flow__minimap-desc";function b_({style:e,className:t,nodeStrokeColor:s,nodeColor:r,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:d,maskColor:c,maskStrokeColor:u,maskStrokeWidth:h,position:m="bottom-right",onClick:f,onNodeClick:y,pannable:x=!1,zoomable:w=!1,ariaLabel:v,inversePan:g,zoomStep:j=10,offsetScale:N=5}){const b=xt(),E=p.useRef(null),{boundingRect:C,viewBB:T,rfId:F,panZoom:V,translateExtent:k,flowWidth:M,flowHeight:$,ariaLabelConfig:D}=Be(mee,Tt),P=(e==null?void 0:e.width)??dee,L=(e==null?void 0:e.height)??uee,O=C.width/P,R=C.height/L,_=Math.max(O,R),z=_*P,B=_*L,U=N*_,K=C.x-(z-C.width)/2-U,Y=C.y-(B-C.height)/2-U,X=z+U*2,G=B+U*2,H=`${pee}-${F}`,ae=p.useRef(0),de=p.useRef();ae.current=_,p.useEffect(()=>{if(E.current&&V)return de.current=vJ({domNode:E.current,panZoom:V,getTransform:()=>b.getState().transform,getViewScale:()=>ae.current}),()=>{var we;(we=de.current)==null||we.destroy()}},[V]),p.useEffect(()=>{var we;(we=de.current)==null||we.update({translateExtent:k,width:M,height:$,inversePan:g,pannable:x,zoomStep:j,zoomable:w})},[x,w,g,j,k,M,$]);const xe=f?we=>{var Le;const[Ne,Me]=((Le=de.current)==null?void 0:Le.pointer(we))||[0,0];f(we,{x:Ne,y:Me})}:void 0,ye=y?p.useCallback((we,Ne)=>{const Me=b.getState().nodeLookup.get(Ne).internals.userNode;y(we,Me)},[]):void 0,fe=v??D["minimap.ariaLabel"];return n.jsx(Pl,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*_:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Vt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:n.jsxs("svg",{width:P,height:L,viewBox:`${K} ${Y} ${X} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":H,ref:E,onClick:xe,children:[fe&&n.jsx("title",{id:H,children:fe}),n.jsx(cee,{onClick:ye,nodeColor:r,nodeStrokeColor:s,nodeBorderRadius:o,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),n.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-U},${Y-U}h${X+U*2}v${G+U*2}h${-X-U*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}b_.displayName="MiniMap";const S_=p.memo(b_),fee=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,xee={[El.Line]:"right",[El.Handle]:"bottom-right"};function gee({nodeId:e,position:t,variant:s=El.Handle,className:r,style:a=void 0,children:o,color:i,minWidth:l=10,minHeight:d=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:m,autoScale:f=!0,shouldResize:y,onResizeStart:x,onResize:w,onResizeEnd:v}){const g=X4(),j=typeof e=="string"?e:g,N=xt(),b=p.useRef(null),E=s===El.Handle,C=Be(p.useCallback(fee(E&&f),[E,f]),Tt),T=p.useRef(null),F=t??xee[s];p.useEffect(()=>{if(!(!b.current||!j))return T.current||(T.current=FJ({domNode:b.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:k,transform:M,snapGrid:$,snapToGrid:D,nodeOrigin:P,domNode:L}=N.getState();return{nodeLookup:k,transform:M,snapGrid:$,snapToGrid:D,nodeOrigin:P,paneDomNode:L}},onChange:(k,M)=>{const{triggerNodeChanges:$,nodeLookup:D,parentLookup:P,nodeOrigin:L}=N.getState(),O=[],R={x:k.x,y:k.y},_=D.get(j);if(_&&_.expandParent&&_.parentId){const z=_.origin??L,B=k.width??_.measured.width??0,U=k.height??_.measured.height??0,K={id:_.id,parentId:_.parentId,rect:{width:B,height:U,...g4({x:k.x??_.position.x,y:k.y??_.position.y},{width:B,height:U},_.parentId,D,z)}},Y=NN([K],D,P,L);O.push(...Y),R.x=k.x?Math.max(z[0]*B,k.x):void 0,R.y=k.y?Math.max(z[1]*U,k.y):void 0}if(R.x!==void 0&&R.y!==void 0){const z={id:j,type:"position",position:{...R}};O.push(z)}if(k.width!==void 0&&k.height!==void 0){const B={id:j,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:k.width,height:k.height}};O.push(B)}for(const z of M){const B={...z,type:"position"};O.push(B)}$(O)},onEnd:({width:k,height:M})=>{const $={id:j,type:"dimensions",resizing:!1,dimensions:{width:k,height:M}};N.getState().triggerNodeChanges([$])}})),T.current.update({controlPosition:F,boundaries:{minWidth:l,minHeight:d,maxWidth:c,maxHeight:u},keepAspectRatio:h,resizeDirection:m,onResizeStart:x,onResize:w,onResizeEnd:v,shouldResize:y}),()=>{var k;(k=T.current)==null||k.destroy()}},[F,l,d,c,u,h,x,w,v,y]);const V=F.split("-");return n.jsx("div",{className:Vt(["react-flow__resize-control","nodrag",...V,s,r]),ref:b,style:{...a,scale:C,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:o})}p.memo(gee);const vee=({id:e,data:t})=>{const{field:s}=t,{setNodes:r,setEdges:a}=Nr(),o=()=>{r(i=>i.filter(l=>l.id!==e)),a(i=>i.filter(l=>l.source!==e&&l.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:o,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(ln,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:s.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:s.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:s.path,children:s.path})]}),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})},yee=({id:e,data:t})=>{const[s,r]=p.useState(t.function),[a,o]=p.useState(t.parameters),[i,l]=p.useState(!1),{setNodes:d,setEdges:c}=Nr(),u=x=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(g=>x.name.toLowerCase().includes(g))||s.parameters.indexOf(x)===0&&x.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(g=>x.name.toLowerCase().includes(g))?!1:x.required,h=Object.values($d).flat(),m=x=>{const w=h.find(v=>v.name===x);w&&(r(w),o({}))},f=(x,w)=>{o(v=>({...v,[x]:w}))},y=()=>{d(x=>x.filter(w=>w.id!==e)),c(x=>x.filter(w=>w.source!==e&&w.target!==e))};return n.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(_s,{className:"h-4 w-4 text-orange-500"})}),n.jsx(W,{size:"sm",variant:"ghost",onClick:x=>{x.preventDefault(),x.stopPropagation(),l(!i)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:n.jsx(ut,{className:`h-3 w-3 ${i?"text-primary":""}`})})]}),t.showSelector?n.jsxs(te,{value:s.name,onValueChange:m,children:[n.jsx(Z,{className:"w-full text-xs",children:n.jsx(ne,{})}),n.jsx(ee,{children:Object.entries($d).map(([x,w])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:x}),w.map(v=>n.jsx(A,{value:v.name,className:"text-xs",children:v.name},v.name))]},x))})]}):n.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&n.jsx(Mr,{className:"h-3 w-3"}),s.name]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:s.description}),i&&n.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs font-medium",children:"Custom Java Code"}),n.jsx(Ee,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:x=>f("customCode",x.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):n.jsxs(n.Fragment,{children:[n.jsx(S,{className:"text-xs font-medium",children:"Parameters"}),s.parameters.filter(x=>!u(x)).length===0?n.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):s.parameters.filter(x=>!u(x)).map(x=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs(S,{className:"text-xs",children:[x.name,x.required&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx(I,{placeholder:`${x.type} value`,value:a[x.name]||"",onChange:w=>f(x.name,w.target.value),className:"h-6 text-xs"}),x.description&&n.jsx("div",{className:"text-xs text-muted-foreground",children:x.description})]},x.name))]})}),s.parameters.map((x,w)=>u(x)?n.jsx(Ft,{type:"target",position:be.Left,id:x.name,style:{top:`${60+w*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${x.name}`):null),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},jee=({data:e})=>{const[t,s]=p.useState(e.value),[r,a]=p.useState(e.type);return n.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(fV,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(te,{value:r,onValueChange:o=>a(o),children:[n.jsx(Z,{className:"w-full h-7 text-xs",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"string",children:"String"}),n.jsx(A,{value:"number",children:"Number"}),n.jsx(A,{value:"boolean",children:"Boolean"})]})]}),r==="boolean"?n.jsxs(te,{value:t,onValueChange:s,children:[n.jsx(Z,{className:"w-full h-7 text-xs",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"true",children:"true"}),n.jsx(A,{value:"false",children:"false"})]})]}):n.jsx(I,{placeholder:`Enter ${r} value`,value:t,onChange:o=>s(o.target.value),type:r==="number"?"number":"text",className:"h-7 text-xs"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",n.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},wee=({data:e})=>{const{field:t}=e;return n.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(Ly,{className:"h-4 w-4 text-purple-500"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),n.jsx(Ft,{type:"target",position:be.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},Nee=({data:e})=>{const[t,s]=p.useState(e.condition),[r,a]=p.useState(e.compareValue);return n.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(po,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Condition"}),n.jsxs(te,{value:t,onValueChange:o=>s(o),children:[n.jsx(Z,{className:"w-full h-7 text-xs",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"equals",children:"Equals"}),n.jsx(A,{value:"notEquals",children:"Not Equals"}),n.jsx(A,{value:"contains",children:"Contains"}),n.jsx(A,{value:"startsWith",children:"Starts With"}),n.jsx(A,{value:"endsWith",children:"Ends With"}),n.jsx(A,{value:"isEmpty",children:"Is Empty"}),n.jsx(A,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Compare Value"}),n.jsx(I,{placeholder:"Value to compare",value:r,onChange:o=>a(o.target.value),className:"h-7 text-xs"})]})]}),n.jsx(Ft,{type:"target",position:be.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),n.jsx(Ft,{type:"source",position:be.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),n.jsx(Ft,{type:"source",position:be.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),n.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),n.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function bee(e,t){return p.useReducer((s,r)=>t[s][r]??s,e)}var SN="ScrollArea",[C_,Vpe]=as(SN),[See,js]=C_(SN),E_=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,d]=p.useState(null),[c,u]=p.useState(null),[h,m]=p.useState(null),[f,y]=p.useState(null),[x,w]=p.useState(null),[v,g]=p.useState(0),[j,N]=p.useState(0),[b,E]=p.useState(!1),[C,T]=p.useState(!1),F=Ae(t,k=>d(k)),V=Xl(a);return n.jsx(See,{scope:s,type:r,dir:V,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:y,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:g,onCornerHeightChange:N,children:n.jsx(Ce.div,{dir:V,...i,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});E_.displayName=SN;var T_="ScrollAreaViewport",P_=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,asChild:a,nonce:o,...i}=e,l=js(T_,s),d=p.useRef(null),c=Ae(t,d,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),n.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Fee({asChild:a,children:r},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});P_.displayName=T_;var br="ScrollAreaScrollbar",CN=p.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=js(br,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(Cee,{...r,ref:t,forceMount:s}):a.type==="scroll"?n.jsx(Eee,{...r,ref:t,forceMount:s}):a.type==="auto"?n.jsx(k_,{...r,ref:t,forceMount:s}):a.type==="always"?n.jsx(EN,{...r,ref:t}):null});CN.displayName=br;var Cee=p.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=js(br,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const c=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Qt,{present:s||o,children:n.jsx(k_,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Eee=p.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=js(br,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Dx(()=>d("SCROLL_END"),100),[l,d]=bee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,a.scrollHideDelay,d]),p.useEffect(()=>{const c=a.viewport,u=o?"scrollLeft":"scrollTop";if(c){let h=c[u];const m=()=>{const f=c[u];h!==f&&(d("SCROLL"),i()),h=f};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[a.viewport,o,d,i]),n.jsx(Qt,{present:s||l!=="hidden",children:n.jsx(EN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:me(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),k_=p.forwardRef((e,t)=>{const s=js(br,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=p.useState(!1),l=e.orientation==="horizontal",d=Dx(()=>{if(s.viewport){const c=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;i(l?c:u)}},10);return kl(s.viewport,d),kl(s.content,d),n.jsx(Qt,{present:r||o,children:n.jsx(EN,{"data-state":o?"visible":"hidden",...a,ref:t})})}),EN=p.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,a=js(br,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=F_(l.viewport,l.content),u={...r,sizes:l,onSizesChange:d,hasThumb:c>0&&c<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,f){return Ree(m,i.current,l,f)}return s==="horizontal"?n.jsx(Tee,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollLeft,f=a2(m,l,a.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):s==="vertical"?n.jsx(Pee,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollTop,f=a2(m,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),Tee=p.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=js(br,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Ae(t,d,o.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(D_,{"data-orientation":"horizontal",...a,ref:c,sizes:s,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ax(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),I_(m,h)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:cf(i.paddingLeft),paddingEnd:cf(i.paddingRight)}})}})}),Pee=p.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=js(br,e.__scopeScrollArea),[i,l]=p.useState(),d=p.useRef(null),c=Ae(t,d,o.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(D_,{"data-orientation":"vertical",...a,ref:c,sizes:s,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ax(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const m=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),I_(m,h)&&u.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:cf(i.paddingTop),paddingEnd:cf(i.paddingBottom)}})}})}),[kee,A_]=C_(br),D_=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:c,onWheelScroll:u,onResize:h,...m}=e,f=js(br,s),[y,x]=p.useState(null),w=Ae(t,F=>x(F)),v=p.useRef(null),g=p.useRef(""),j=f.viewport,N=r.content-r.viewport,b=yt(u),E=yt(d),C=Dx(h,10);function T(F){if(v.current){const V=F.clientX-v.current.left,k=F.clientY-v.current.top;c({x:V,y:k})}}return p.useEffect(()=>{const F=V=>{const k=V.target;(y==null?void 0:y.contains(k))&&b(V,N)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[j,y,N,b]),p.useEffect(E,[r,E]),kl(y,C),kl(f.content,C),n.jsx(kee,{scope:s,scrollbar:y,hasThumb:a,onThumbChange:yt(o),onThumbPointerUp:yt(i),onThumbPositionChange:E,onThumbPointerDown:yt(l),children:n.jsx(Ce.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:me(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),v.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(F))}),onPointerMove:me(e.onPointerMove,T),onPointerUp:me(e.onPointerUp,F=>{const V=F.target;V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),lf="ScrollAreaThumb",R_=p.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=A_(lf,e.__scopeScrollArea);return n.jsx(Qt,{present:s||a.hasThumb,children:n.jsx(Aee,{ref:t,...r})})}),Aee=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...a}=e,o=js(lf,s),i=A_(lf,s),{onThumbPositionChange:l}=i,d=Ae(t,h=>i.onThumbChange(h)),c=p.useRef(),u=Dx(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(u(),!c.current){const f=Mee(h,l);c.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,u,l]),n.jsx(Ce.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:me(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),y=h.clientX-f.left,x=h.clientY-f.top;i.onThumbPointerDown({x:y,y:x})}),onPointerUp:me(e.onPointerUp,i.onThumbPointerUp)})});R_.displayName=lf;var TN="ScrollAreaCorner",M_=p.forwardRef((e,t)=>{const s=js(TN,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(Dee,{...e,ref:t}):null});M_.displayName=TN;var Dee=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,a=js(TN,s),[o,i]=p.useState(0),[l,d]=p.useState(0),c=!!(o&&l);return kl(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),d(u)}),kl(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),c?n.jsx(Ce.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function cf(e){return e?parseInt(e,10):0}function F_(e,t){const s=e/t;return isNaN(s)?0:s}function Ax(e){const t=F_(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function Ree(e,t,s,r="ltr"){const a=Ax(s),o=a/2,i=t||o,l=a-i,d=s.scrollbar.paddingStart+i,c=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return __([d,c],h)(e)}function a2(e,t,s="ltr"){const r=Ax(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,d=s==="ltr"?[0,i]:[i*-1,0],c=Od(e,d);return __([0,i],[0,l])(c)}function __(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function I_(e,t){return e>0&&e<t}var Mee=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=s.left!==o.left,l=s.top!==o.top;(i||l)&&t(),s=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Dx(e,t){const s=yt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function kl(e,t){const s=yt(t);Wt(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,s])}function Fee(e,t){const{asChild:s,children:r}=e;if(!s)return typeof t=="function"?t(r):t;const a=p.Children.only(r);return p.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var O_=E_,_ee=P_,Iee=M_;const zo=p.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(O_,{ref:r,className:ce("relative overflow-hidden",e),...s,children:[n.jsx(_ee,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(L_,{}),n.jsx(Iee,{})]}));zo.displayName=O_.displayName;const L_=p.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(CN,{ref:r,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(R_,{className:"relative flex-1 rounded-full bg-border"})}));L_.displayName=CN.displayName;const Oee=({open:e,onClose:t,sourceFields:s,onSelectField:r,excludeFields:a=[]})=>{const[o,i]=p.useState(""),[l,d]=p.useState(new Set),c=w=>{d(v=>{const g=new Set(v);return g.has(w)?g.delete(w):g.add(w),g})},u=w=>{r(w),t(),i(""),d(new Set)},h=(w,v=0)=>{var C;const g=!w.children||w.children.length===0,j=l.has(w.id),N=a.includes(w.id),b=!o||w.name.toLowerCase().includes(o.toLowerCase())||w.path.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase()),E=(C=w.children)==null?void 0:C.some(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.path.toLowerCase().includes(o.toLowerCase())||T.type.toLowerCase().includes(o.toLowerCase()));return!b&&!E?null:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":g?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${v*16}px`},onClick:()=>{g&&!N?u(w):g||c(w.id)},children:[!g&&n.jsx(W,{variant:"ghost",size:"sm",onClick:T=>{T.stopPropagation(),c(w.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:j?n.jsx($s,{className:"h-3 w-3"}):n.jsx(Zn,{className:"h-3 w-3"})}),n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx(ln,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm",children:w.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:w.type}),N&&n.jsx(le,{variant:"secondary",className:"text-xs",children:"Already added"})]}),g&&!N&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!g&&j&&w.children&&n.jsx("div",{className:"ml-2",children:w.children.map(T=>h(T,v+1))})]},w.id)},m=w=>{const v=[],g=j=>{!j.children||j.children.length===0?v.push(j):j.children.forEach(g)};return w.forEach(g),v},f=s.filter(w=>!a.includes(w.id)),y=m(s).length,x=m(f).length;return n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"max-w-2xl h-[80vh] flex flex-col",children:[n.jsx(Ct,{className:"flex-shrink-0",children:n.jsxs(Et,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{children:"Select Source Field"}),n.jsxs(le,{variant:"outline",className:"text-xs",children:[x," of ",y," available"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(ht,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search fields by name, path, or type...",value:o,onChange:w=>i(w.target.value),className:"pl-10"})]})}),n.jsx(zo,{className:"flex-1",children:n.jsx("div",{className:"space-y-2 pr-4",children:f.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ln,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No available source fields to add"})]}):f.map(w=>h(w))})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var PN="Tabs",[Lee,Upe]=as(PN,[ex]),$_=ex(),[$ee,kN]=Lee(PN),V_=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=Xl(l),[h,m]=Ls({prop:r,onChange:a,defaultProp:o});return n.jsx($ee,{scope:s,baseId:Is(),value:h,onValueChange:m,orientation:i,dir:u,activationMode:d,children:n.jsx(Ce.div,{dir:u,"data-orientation":i,...c,ref:t})})});V_.displayName=PN;var U_="TabsList",B_=p.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,o=kN(U_,s),i=$_(s);return n.jsx(pD,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:n.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});B_.displayName=U_;var H_="TabsTrigger",z_=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...o}=e,i=kN(H_,s),l=$_(s),d=Y_(i.baseId,r),c=K_(i.baseId,r),u=r===i.value;return n.jsx(fD,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:me(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:me(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:me(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!a&&h&&i.onValueChange(r)})})})});z_.displayName=H_;var q_="TabsContent",W_=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:o,...i}=e,l=kN(q_,s),d=Y_(l.baseId,r),c=K_(l.baseId,r),u=r===l.value,h=p.useRef(u);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(Qt,{present:a||u,children:({present:m})=>n.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});W_.displayName=q_;function Y_(e,t){return`${e}-trigger-${t}`}function K_(e,t){return`${e}-content-${t}`}var Vee=V_,G_=B_,X_=z_,J_=W_;const et=Vee,Xe=p.forwardRef(({className:e,...t},s)=>n.jsx(G_,{ref:s,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xe.displayName=G_.displayName;const je=p.forwardRef(({className:e,...t},s)=>n.jsx(X_,{ref:s,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));je.displayName=X_.displayName;const ve=p.forwardRef(({className:e,...t},s)=>n.jsx(J_,{ref:s,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ve.displayName=J_.displayName;const Uee=({open:e,onClose:t,onSelectFunction:s})=>{const[r,a]=p.useState(""),o=Object.entries($d).reduce((c,[u,h])=>{const m=h.filter(f=>f.name.toLowerCase().includes(r.toLowerCase())||f.description.toLowerCase().includes(r.toLowerCase()));return m.length>0&&(c[u]=m),c},{}),i=c=>{s(c),t(),a("")},l=Object.values($d).flat().length,d=Object.values(o).flat().length;return n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"max-w-4xl h-[80vh] flex flex-col",children:[n.jsx(Ct,{className:"flex-shrink-0",children:n.jsxs(Et,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wg,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Select Function"}),n.jsxs(le,{variant:"outline",className:"text-xs",children:[d," of ",l," functions"]})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(ht,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex-shrink-0 mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search functions by name or description...",value:r,onChange:c=>a(c.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:Object.keys(o).length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(wg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No functions found matching your search"})]}):n.jsxs(et,{defaultValue:Object.keys(o)[0],className:"h-full flex flex-col",children:[n.jsx(Xe,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(o).length}, 1fr)`},children:Object.keys(o).map(c=>n.jsxs(je,{value:c,className:"capitalize text-xs",children:[c," (",o[c].length,")"]},c))}),Object.entries(o).map(([c,u])=>n.jsx(ve,{value:c,className:"flex-1 mt-4",children:n.jsx(zo,{className:"h-full",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:u.map(h=>n.jsxs(J,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>i(h),children:[n.jsx(oe,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(wg,{className:"h-3 w-3 text-primary"}),h.name]}),n.jsx(ge,{className:"text-xs mt-1",children:h.description})]}),n.jsx(le,{variant:"secondary",className:"text-xs ml-2",children:h.category})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.parameters.length," parameter",h.parameters.length!==1?"s":""]}),n.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},h.name))})})},c))]})}),n.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},Bee=({id:e,sourceX:t,sourceY:s,targetX:r,targetY:a,sourcePosition:o,targetPosition:i,style:l={},markerEnd:d,selected:c=!1})=>{const{setEdges:u}=Nr(),[h,m,f]=vN({sourceX:t,sourceY:s,sourcePosition:o,targetX:r,targetY:a,targetPosition:i}),y=x=>{x.stopPropagation(),u(w=>w.filter(v=>v.id!==e))};return n.jsxs(n.Fragment,{children:[n.jsx($u,{path:h,markerEnd:d,style:l}),c&&n.jsx(WZ,{children:n.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${m}px,${f}px)`},children:n.jsx(W,{variant:"ghost",size:"sm",onClick:y,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:n.jsx(ht,{className:"h-3 w-3"})})})})]})},Hee={sourceField:vee,function:yee,constant:jee,targetField:wee,conditional:Nee},zee={deletable:Bee},qee=({open:e,onClose:t,sourceFields:s,targetField:r,onApplyMapping:a,initialMapping:o})=>{const[i,l,d]=g_([]),[c,u,h]=v_([]),[m,f]=p.useState(1),[y,x]=p.useState(!1),[w,v]=p.useState(!1);he.useEffect(()=>{var V,k;if(e&&r){let M=[],$=[],D=1;o!=null&&o.visualFlowData?(M=o.visualFlowData.nodes,$=o.visualFlowData.edges,D=o.visualFlowData.nodeIdCounter):(M.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:r}}),o&&o.sourcePaths&&o.sourcePaths.length>0?o.sourcePaths.forEach((L,O)=>{const R=s.find(_=>_.path===L||_.name===L);if(R){const _=`source-${R.id}`;M.push({id:_,type:"sourceField",position:{x:50,y:50+O*100},data:{field:R}}),$.push({id:`edge-${_}-target`,source:_,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}})}}):o&&o.sourceFields&&o.sourceFields.length>0&&o.sourceFields.forEach((L,O)=>{const R=s.find(_=>_.name===L||_.path===L);if(R){const _=`source-${R.id}`;M.push({id:_,type:"sourceField",position:{x:50,y:50+O*100},data:{field:R}}),$.push({id:`edge-${_}-target`,source:_,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}})}}),D=2+(((V=o==null?void 0:o.sourcePaths)==null?void 0:V.length)||((k=o==null?void 0:o.sourceFields)==null?void 0:k.length)||0)),l(M),u($),f(D)}},[e,r,s,o,l,u]);const g=p.useCallback(V=>{if(V.target==="target")u(k=>{const M=k.filter(D=>D.target!=="target"),$={...V,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}};return af($,M)});else{const k={...V,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}};u(M=>af(k,M))}},[u]),j=p.useCallback(()=>{x(!0)},[]),N=p.useCallback(V=>{const k=i.filter($=>$.type==="sourceField"),M={id:`source-${V.id}`,type:"sourceField",position:{x:50,y:50+k.length*100},data:{field:V}};l($=>[...$,M])},[i,l]),b=p.useCallback(()=>{v(!0)},[]),E=p.useCallback(V=>{const k=i.filter($=>$.type==="function"),M={id:`function-${m}`,type:"function",position:{x:350,y:50+k.length*120},data:{function:V,parameters:{},showSelector:!1}};l($=>[...$,M]),f($=>$+1)},[m,i,l]),C=p.useCallback(()=>{const V=i.filter(M=>M.type==="function"&&M.data.function.name==="custom"),k={id:`custom-function-${m}`,type:"function",position:{x:350,y:50+V.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(M=>[...M,k]),f(M=>M+1)},[m,i,l]),T=p.useCallback(()=>{if(!r||(console.log(" VisualFlowEditor handleSave - saving with nodes:",i.length,"edges:",c.length),!i.find(D=>D.type==="targetField")))return;const k=[],M=[];i.forEach(D=>{D.type==="sourceField"&&c.some(L=>L.source===D.id)&&(k.push(D.data.field.path),M.push(D.data.field.name))}),console.log(" VisualFlowEditor handleSave - connectedSourcePaths:",k),console.log(" VisualFlowEditor handleSave - connectedSourceFields:",M);const $={id:(o==null?void 0:o.id)||`mapping_${Date.now()}`,name:(o==null?void 0:o.name)||`visual_flow_to_${r.name}`,sourceFields:M,targetField:r.name,sourcePaths:k,targetPath:r.path,requiresTransformation:!0,visualFlowData:{nodes:i,edges:c,nodeIdCounter:m},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log(" VisualFlowEditor handleSave - final mapping:",$),a($),t()},[i,c,m,r,o,a,t]),F=p.useMemo(()=>{const V=i.find(M=>M.type==="targetField");return V?c.some(M=>M.target===V.id):!1},[i,c]);return n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[n.jsx(Ct,{className:"p-4 pb-2 border-b bg-muted/30",children:n.jsxs(Et,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",n.jsx("span",{className:"font-medium text-primary",children:r.name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{onClick:T,disabled:!F,className:"bg-primary text-primary-foreground",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:t,children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),n.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:n.jsxs(x_,{nodes:i,edges:c,onNodesChange:d,onEdgesChange:h,onConnect:g,nodeTypes:Hee,edgeTypes:zee,connectionMode:Bo.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[n.jsx(j_,{gap:20,size:1}),n.jsx(N_,{}),n.jsx(S_,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),n.jsx(Pl,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),n.jsxs(W,{onClick:j,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Source Field"]}),n.jsxs(W,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(_s,{className:"h-4 w-4 mr-2"}),"Function"]}),n.jsxs(W,{onClick:C,size:"sm",variant:"outline",className:"justify-start h-9",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),n.jsx(Pl,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${F?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"text-sm font-medium",children:F?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),n.jsx(Oee,{open:y,onClose:()=>x(!1),sourceFields:s,onSelectField:N,excludeFields:i.filter(V=>V.type==="sourceField").map(V=>V.data.field.id)}),n.jsx(Uee,{open:w,onClose:()=>v(!1),onSelectFunction:E})]})})};function Wee({mappings:e,sourceFields:t=[],targetFields:s=[],onRemoveMapping:r,onUpdateMapping:a,onCreateMapping:o}){const[i,l]=p.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[d,c]=p.useState({open:!1,targetField:null});p.useEffect(()=>{console.log(" Modal state changed:",i)},[i]),p.useEffect(()=>{console.log(" Visual flow editor state changed:",d)},[d]);const u=f=>{console.log(" handleOpenVisualFlowEditor called with mappingId:",f),console.log(" Available mappings:",e),console.log(" Available targetFields:",s),console.log(" Target fields names:",s.map(w=>w==null?void 0:w.name));const y=e.find(w=>w.id===f);if(console.log(" Found existing mapping:",y),!y){console.log(" No existing mapping found for ID:",f);return}const x=s.find(w=>(w==null?void 0:w.name)===y.targetField);if(console.log(" Looking for target field with name:",y.targetField),console.log(" Found target field:",x),!x){console.log(" Target field not found, attempting to create a mock target field");const w={id:`target_${y.targetField}`,name:y.targetField,type:"string",path:y.targetPath||y.targetField,children:[],expanded:!1};console.log(" Created mock target field:",w),c({open:!0,targetField:w,existingMapping:y});return}console.log(" Opening visual flow editor with:",{targetField:x.name,existingMapping:y.id}),c({open:!0,targetField:x,existingMapping:y})},h=f=>{console.log(" handleApplyVisualFlow called with:",f),d.existingMapping?a&&a(d.existingMapping.id,{functionNode:f.functionNode,visualFlowData:f.visualFlowData,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths,name:f.name}):o&&o(f),c({open:!1,targetField:null})},m=f=>{i.existingMappingId?a&&a(i.existingMappingId,{functionNode:f.functionNode,requiresTransformation:!0,sourceFields:f.sourceFields,sourcePaths:f.sourcePaths}):o&&o(f),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log(" MappingArea render - mappings count:",e.length),console.log(" MappingArea render - mappings:",e),n.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Rp,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),n.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?n.jsx(st,{className:"mt-8",children:n.jsx(rt,{children:"Drag fields from source to target to create mappings"})}):n.jsx("div",{className:"space-y-3",children:e.map(f=>n.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(le,{variant:"outline",className:"text-xs",children:f.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),f.requiresTransformation===!1&&n.jsx(le,{variant:"secondary",className:"text-xs",children:"Pass-through"}),f.functionNode&&n.jsxs(le,{variant:"default",className:"text-xs",children:["Function: ",f.functionNode.functionName]})]}),n.jsxs("div",{className:"flex gap-1",children:[f.requiresTransformation!==!1&&n.jsx(n.Fragment,{children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{console.log(" Lightning bolt clicked for mapping:",f.id),u(f.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:n.jsx(_s,{className:"h-3 w-3"})})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>r(f.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:n.jsx(ht,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium text-primary",children:f.name})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Source:"}),n.jsx("span",{className:"text-muted-foreground",children:f.sourceFields.join(", ")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rp,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium",children:"Target:"}),n.jsx("span",{className:"text-muted-foreground",children:f.targetField})]}),f.requiresTransformation!==!1&&n.jsxs(n.Fragment,{children:[f.functionNode&&n.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_s,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),n.jsx("div",{className:"text-muted-foreground",children:f.functionNode.functionName==="visual_flow"?f.visualFlowData?`Visual Flow - ${f.sourceFields.length} source field(s): ${f.sourceFields.join(", ")}`:`Visual Flow - ${f.sourceFields.length} source field(s) connected`:`${f.functionNode.functionName} with ${Object.keys(f.functionNode.sourceConnections).length} parameter(s) connected`})]}),!f.functionNode&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),f.requiresTransformation===!1&&n.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},f.id))})}),i.open&&i.targetField&&n.jsx(rY,{open:i.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:i.selectedFunction,sourceFields:i.filteredSourceFields||t,targetField:i.targetField,onApplyMapping:m}),d.open&&d.targetField&&n.jsx(qee,{open:d.open,onClose:()=>c({open:!1,targetField:null}),sourceFields:t,targetField:d.targetField,onApplyMapping:h,initialMapping:d.existingMapping})]})}function AN({onClose:e,onSave:t,initialMappingName:s="",sampleStructures:r=[],sourceAdapterType:a="",targetAdapterType:o=""}){const[i,l]=p.useState([]),[d,c]=p.useState([]),[u,h]=p.useState([]),[m,f]=p.useState(null),[y,x]=p.useState(""),[w,v]=p.useState(""),[g,j]=p.useState(""),[N,b]=p.useState(""),[E,C]=p.useState(!1),[T,F]=p.useState(!1),[V,k]=p.useState(s),[M,$]=p.useState(!0),{structures:D}=tc();p.useEffect(()=>{if(a&&o&&D.length>0&&!g&&!N){const Y=D.filter(G=>G.usage==="source"||!G.usage),X=D.filter(G=>G.usage==="target"||!G.usage);Y.length>0&&B(Y[0].name,!0),X.length>0&&B(X[0].name,!1)}},[a,o,D,g,N]);const P=p.useCallback((Y,X)=>{const G=H=>H.map(ae=>ae.id===Y?{...ae,expanded:!ae.expanded}:ae.children?{...ae,children:G(ae.children)}:ae);X?l(G):c(G)},[]),L=Y=>{f(Y)},O=Y=>{Y.preventDefault()},R=Y=>{if(!m)return;const X=u.findIndex(G=>G.targetPath===Y.path);if(X>=0){const G=u[X],H={...G,sourceFields:[...G.sourceFields,m.name],sourcePaths:[...G.sourcePaths,m.path]},ae=[...u];ae[X]=H,h(ae)}else{const G={id:`mapping_${Date.now()}`,name:`${m.name}_to_${Y.name}`,sourceFields:[m.name],targetField:Y.name,sourcePaths:[m.path],targetPath:Y.path,requiresTransformation:M};h(H=>[...H,G])}f(null)},_=Y=>{h(X=>X.filter(G=>G.id!==Y))},z=()=>{h([])},B=(Y,X)=>{const G=D.find(de=>de.name===Y);if(!G)return;const H=(de,xe="")=>!de||typeof de!="object"?[]:Object.keys(de).map((ye,fe)=>{const we=de[ye],Ne=xe?`${xe}.${ye}`:ye,Me=we&&typeof we=="object"&&!Array.isArray(we);return{id:`${Ne}_${fe}`,name:ye,type:Array.isArray(we)?"array":typeof we,path:Ne,expanded:!1,children:Me?H(we,Ne):void 0}}),ae=H(G.structure);X?(j(Y),l(ae),C(!1)):(b(Y),c(ae),F(!1))},U=(Y,X)=>{h(G=>G.map(H=>H.id===Y?{...H,...X}:H))},K=Y=>{h(X=>[...X,Y])};return n.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[n.jsx("div",{className:"border-b",children:n.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),n.jsx(I,{id:"mappingName",placeholder:"Enter mapping name",value:V,onChange:Y=>k(Y.target.value),className:"w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qe,{id:"requiresTransformation",checked:M,onCheckedChange:Y=>$(Y)}),n.jsx(S,{htmlFor:"requiresTransformation",className:"text-sm font-medium",children:"Requires Transformation"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",onClick:z,className:"text-destructive hover:text-destructive hover-scale",children:[n.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),u.length>0&&n.jsxs(W,{onClick:()=>t==null?void 0:t(u,V),className:"hover-scale",disabled:!V.trim(),children:[n.jsx(vt,{className:"h-4 w-4 mr-2"}),"Save Mappings"]}),n.jsxs(W,{variant:"outline",onClick:e,className:"hover-scale",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),n.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[n.jsx(GW,{fields:i,mappings:u,selectedService:g,searchValue:y,showSelector:E,onSearchChange:x,onShowSelectorChange:C,onSelectService:Y=>B(Y,!0),onToggleExpanded:P,onDragStart:L}),n.jsx(Wee,{mappings:u,sourceFields:i,targetFields:d,onRemoveMapping:_,onUpdateMapping:U,onCreateMapping:K}),n.jsx(XW,{fields:d,mappings:u,selectedService:N,searchValue:w,showSelector:T,onSearchChange:v,onShowSelectorChange:F,onSelectService:Y=>B(Y,!1),onToggleExpanded:P,onDragOver:O,onDrop:R})]})]})}const Jg=e=>{const t=e.toUpperCase();return t.includes("JDBC")?ln:t.includes("HTTP")||t.includes("REST")?rr:t.includes("SOAP")?Mr:t.includes("MAIL")?pu:t.includes("FILE")||t.includes("FTP")?tn:hw};function Yee(){ys();const{navigateBack:e,isDirectNavigation:t}=Jl(),{toast:s}=nt(),[r,a]=p.useState(!1),[o,i]=p.useState(""),[l,d]=p.useState(""),[c,u]=p.useState(""),[h,m]=p.useState(""),[f,y]=p.useState(""),[x,w]=p.useState(""),[v,g]=p.useState(""),[j,N]=p.useState(""),[b,E]=p.useState([]),[C,T]=p.useState([]),[F,V]=p.useState([]),[k,M]=p.useState(!0),[$,D]=p.useState(!1);vF(()=>{i(""),d(""),u(""),m(""),y(""),w(""),g(""),N(""),a(!1)}),p.useEffect(()=>{L()},[]);const L=async()=>{try{M(!0);const B=await ba.getAllBusinessComponents();B.success&&B.data&&E(B.data);try{const U=await Q.get("/adapters");U.data&&T(U.data)}catch(U){console.warn("Could not load adapters:",U),T([])}try{const U=await Q.get("/structures");U.data&&V(U.data)}catch(U){console.warn("Could not load data structures:",U),V([])}}catch(B){console.error("Error loading component data:",B),s({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{M(!1)}},O=()=>{e("/dashboard")},R=async(B,U)=>{var K,Y;if(!o.trim()){s({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!f||!x){s({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}try{D(!0);const X={flowName:o.trim(),description:l.trim(),sourceBusinessComponentId:c||null,targetBusinessComponentId:h||null,sourceAdapterId:f,targetAdapterId:x,sourceStructureId:v||null,targetStructureId:j||null,createdBy:"current-user",fieldMappings:B||[]};(await Q.post("/flow-composition/direct-mapping",X)).data&&(s({title:"Success",description:`Integration flow "${o}" has been created successfully.`}),e("/dashboard"))}catch(X){console.error("Error saving flow:",X),s({title:"Save Failed",description:((Y=(K=X.response)==null?void 0:K.data)==null?void 0:Y.message)||"Failed to save the integration flow. Please try again.",variant:"destructive"})}finally{D(!1)}},_=async()=>{var B,U,K,Y,X;if(!f||!x){s({title:"Validation Error",description:"Both source and target adapters are required for testing.",variant:"destructive"});return}try{const G={flowName:o.trim()||"Test Flow",sourceAdapterId:f,targetAdapterId:x,sourceBusinessComponentId:c||null,targetBusinessComponentId:h||null},H=await Q.post("/flow-composition/validate/direct-mapping",G);if((B=H.data)!=null&&B.valid)s({title:"Validation Passed",description:"Flow configuration is valid and ready for execution."});else{const ae=((K=(U=H.data)==null?void 0:U.errors)==null?void 0:K.join(", "))||"Unknown validation errors";s({title:"Validation Failed",description:ae,variant:"destructive"})}}catch(G){console.error("Error testing flow:",G),s({title:"Test Failed",description:((X=(Y=G.response)==null?void 0:Y.data)==null?void 0:X.message)||"Failed to test the flow configuration.",variant:"destructive"})}},z=()=>{a(!0)};return r?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"gap-2",children:[n.jsx(My,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",o]}),n.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",f," and ",x]})]})]})})}),n.jsx(AN,{onClose:O,onSave:R,initialMappingName:o,sourceAdapterType:f,targetAdapterType:x})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:O,className:"gap-2",children:[n.jsx(My,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Integration Flow"}),n.jsx("p",{className:"text-muted-foreground",children:"Design and configure a new message integration flow"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Flow Details"}),n.jsx(ge,{children:"Configure the basic information for your integration flow"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"flowName",children:"Flow Name *"}),n.jsx(I,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:o,onChange:B=>i(B.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",placeholder:"Describe what this integration flow does...",value:l,onChange:B=>d(B.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})]}),n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsx(re,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Business Component *"}),n.jsxs(te,{value:c,onValueChange:u,disabled:k,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:k?"Loading...":"Select source business component"})}),n.jsx(ee,{children:b.map(B=>n.jsx(A,{value:B.id,children:B.name},B.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Source Adapter *"}),n.jsxs(te,{value:f,onValueChange:y,disabled:k,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:k?"Loading...":"Select source system"})}),n.jsx(ee,{children:C.map(B=>{const U=Jg(B.type||B.name);return n.jsx(A,{value:B.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{className:"h-4 w-4"}),B.name]})},B.name)})})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Business Component *"}),n.jsxs(te,{value:h,onValueChange:m,disabled:k,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:k?"Loading...":"Select target business component"})}),n.jsx(ee,{children:b.map(B=>n.jsx(A,{value:B.id,children:B.name},B.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Target Adapter *"}),n.jsxs(te,{value:x,onValueChange:w,disabled:k,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:k?"Loading...":"Select target system"})}),n.jsx(ee,{children:C.map(B=>{const U=Jg(B.type||B.name);return n.jsx(A,{value:B.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{className:"h-4 w-4"}),B.name]})},B.name)})})]})]})]})]})]})})]}),n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Data Transformations"}),n.jsx(ge,{children:"Configure how data should be transformed during the flow"})]}),n.jsx(re,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:n.jsx(ut,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"Configure data transformations with field mapping"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Field mapping allows you to connect source and target fields with custom logic."}),n.jsx("p",{className:"text-sm text-orange-600",children:"Please select both source and target business components AND their corresponding adapters above to enable mapping."})]}),n.jsx(W,{onClick:z,disabled:!c||!h||!f||!x,className:"mt-4",children:"Create Mapping"})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsx(IW,{onTestFlow:_,onSaveFlow:()=>R(),isLoading:$,disabled:k||!o.trim()||!f||!x}),n.jsx(OW,{sourceAdapter:f,targetAdapter:x,sourceStructure:v,targetStructure:j,selectedTransformations:[],adapters:C.map(B=>({id:B.name,name:B.name,icon:Jg(B.type||B.name),category:B.type||"General"})),sampleStructures:F}),n.jsx(LW,{}),k&&n.jsx(J,{children:n.jsx(re,{className:"flex items-center justify-center py-6",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx($t,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}class Kee{async getChannels(t){try{const s=t?`/channels?businessComponentId=${t}`:"/channels";return await Q.get(s)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch channels"}}}async getChannelById(t){try{return await Q.get(`/channels/${t}`)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch channel"}}}async createChannel(t){try{return await Q.post("/channels",t)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to create channel"}}}async updateChannel(t,s){try{return await Q.put(`/channels/${t}`,s)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to update channel"}}}async deleteChannel(t){try{return await Q.delete(`/channels/${t}`),{success:!0}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to delete channel"}}}async getChannelLogs(t,s){var r;try{const a=new URLSearchParams;(r=s==null?void 0:s.level)!=null&&r.length&&a.append("level",s.level.join(",")),s!=null&&s.dateFrom&&a.append("dateFrom",s.dateFrom),s!=null&&s.dateTo&&a.append("dateTo",s.dateTo),s!=null&&s.search&&a.append("search",s.search);const o=a.toString()?`?${a.toString()}`:"";return await Q.get(`/channels/${t}/logs${o}`)}catch(a){return{success:!1,error:a instanceof Error?a.message:"Failed to fetch channel logs"}}}async getAvailableAdapters(){try{return await Q.get("/adapters")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapters"}}}async testChannelConnection(t){try{return await Q.post(`/channels/${t}/test`),{success:!0}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to test channel connection"}}}}const ol=new Kee,Zr=()=>{const[e,t]=p.useState([]),[s,r]=p.useState([]),[a,o]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=async()=>{try{console.log("Loading businessComponent data...");const[c,u]=await Promise.all([ba.getAllBusinessComponents(),ol.getAvailableAdapters()]);let h=!1;if(c.success&&c.data){console.log("API businessComponents loaded:",c.data);const m=Array.isArray(c.data)?c.data:[];console.log(`API returned ${m.length} business components`),t(m),h=!0}if(u.success&&u.data)if(console.log("API adapters loaded:",u.data),typeof u.data=="string"&&u.data.includes("<!DOCTYPE html>"))console.log("Adapters API endpoint not implemented, using empty array"),r([]);else{const m=Array.isArray(u.data)?u.data:[];r(m)}else r([]);h||(console.log("API failed, showing empty business components list"),t([]))}catch(c){console.error("Error loading data, showing empty list:",c),t([]),r([])}finally{o(!1)}};return{businessComponents:e,adapters:s,loading:a,getAdaptersForBusinessComponent:async c=>{try{const u=await ol.getChannels(c);if(u.success&&u.data&&Array.isArray(u.data)){const h=u.data.flatMap(m=>!m||typeof m!="object"?(console.warn("Invalid channel object:",m),[]):!m.adapters||!Array.isArray(m.adapters)?(console.warn("Channel adapters is not an array:",m.adapters),[]):m.adapters.map(f=>f==null?void 0:f.id).filter(f=>f!=null));return[...new Set(h)]}}catch(u){console.error("Error getting adapters for business component:",u)}return[]},getStructuresForBusinessComponent:async c=>{try{const u=await Uc.getStructures();if(u.success&&u.data){const h=u.data.structures||u.data;return Array.isArray(h)?h.filter(m=>!m||typeof m!="object"?(console.warn("Invalid structure object:",m),!1):m.businessComponentId===c).map(m=>m.id).filter(m=>m!=null):(console.warn("Structures is not an array:",h),[])}}catch(u){console.error("Error getting structures for business component:",u)}return[]},refreshData:i}},Gee=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:s,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:d,onSourceAdapterChange:c,onTargetAdapterChange:u,onSourceAdapterActiveChange:h,onTargetAdapterActiveChange:m})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:s,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i});const{businessComponents:f,loading:y,getAdaptersForBusinessComponent:x}=Zr();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:f.length,loading:y});const w=C=>e.find(T=>T.id===C),[v,g]=p.useState([]);p.useEffect(()=>{t&&j(t)},[t]);const j=async C=>{const T=await x(C);g(T)},N=C=>C?e.filter(T=>v.includes(T.id)):e,b=async C=>{console.log("[AdapterConfigurationCard] Source business component changing:",C);try{l(C);const T=await x(C);console.log("[AdapterConfigurationCard] Available adapters for business component:",T),r&&!T.includes(r)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),c(""))}catch(T){console.error("[AdapterConfigurationCard] Error handling source business component change:",T)}},E=async C=>{d(C);const T=await x(C);a&&!T.includes(a)&&u("")};return n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Source & Target Configuration"}),n.jsx(ge,{children:"Select the source and target systems for your integration"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Source Business Component *"}),n.jsxs(te,{value:t,onValueChange:b,disabled:y,children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:"Select source business component"})}),n.jsx(ee,{children:f.map(C=>n.jsx(A,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:C.name}),C.description&&n.jsx(le,{variant:"outline",className:"text-xs",children:C.description})]})},C.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Source Adapter *"}),n.jsxs(te,{value:r,onValueChange:c,disabled:!t,children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:"Select source system"})}),n.jsx(ee,{children:N(t).map(C=>n.jsx(A,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{children:C.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:C.category})]})},C.id))})]}),r&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(r)&&n.jsx(n.Fragment,{children:(()=>{const C=w(r),T=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(T,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})})]}),r&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"sourceAdapterActive",checked:o,onCheckedChange:C=>h(C===!0)}),n.jsxs(S,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",n.jsx(le,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Target Business Component *"}),n.jsxs(te,{value:s,onValueChange:E,disabled:y,children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:"Select target business component"})}),n.jsx(ee,{children:f.map(C=>n.jsx(A,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:C.name}),C.description&&n.jsx(le,{variant:"outline",className:"text-xs",children:C.description})]})},C.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(S,{children:"Target Adapter *"}),n.jsxs(te,{value:a,onValueChange:u,disabled:!s,children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:"Select target system"})}),n.jsx(ee,{children:N(s).map(C=>n.jsx(A,{value:C.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{children:C.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:C.category})]})},C.id))})]}),a&&n.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:n.jsx("div",{className:"flex items-center gap-2",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const C=w(a),T=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(T,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})})]}),a&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"targetAdapterActive",checked:i,onCheckedChange:C=>m(C===!0)}),n.jsxs(S,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",n.jsx(le,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]})]}),r&&a&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(r)&&n.jsx(n.Fragment,{children:(()=>{const C=w(r),T=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(T,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})}),n.jsx(Rp,{className:"h-6 w-6 text-primary animate-pulse"}),n.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(a)&&n.jsx(n.Fragment,{children:(()=>{const C=w(a),T=C.icon;return n.jsxs(n.Fragment,{children:[n.jsx(T,{className:"h-5 w-5 text-primary"}),n.jsx("span",{className:"font-medium",children:C.name})]})})()})})]})})]})]})},Xee=e=>{switch(e){case"start-process":return fu;case"http-sender":case"http-receiver":return rr;case"soap-sender":case"soap-receiver":return Bf;case"rest-sender":case"rest-receiver":return qt;default:return Jk}},Jee=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),pn=({id:e,data:t,selected:s})=>{var C,T,F,V,k;console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[r,a]=p.useState(!1),{setNodes:o,setEdges:i}=Nr(),[l,d]=p.useState(((C=t.adapterConfig)==null?void 0:C.sourceBusinessComponent)||""),[c,u]=p.useState(((T=t.adapterConfig)==null?void 0:T.targetBusinessComponent)||""),[h,m]=p.useState(t.adapterType),[f,y]=p.useState(((F=t.adapterConfig)==null?void 0:F.targetAdapter)||""),[x,w]=p.useState(((V=t.adapterConfig)==null?void 0:V.sourceAdapterActive)||!0),[v,g]=p.useState(((k=t.adapterConfig)==null?void 0:k.targetAdapterActive)||!1),j=Xee(t.adapterType),N=Jee(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:r});const E=()=>{o(M=>M.filter($=>$.id!==e)),i(M=>M.filter($=>$.source!==e&&$.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(J,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:E,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsx(oe,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j,{className:"h-5 w-5 text-white"}),n.jsx(ie,{className:"text-sm font-medium text-white",children:N})]}),n.jsx(le,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:M=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),M.stopPropagation(),M.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch($){console.error("[AdapterNode] Error opening dialog:",$)}},onMouseDown:M=>{console.log("[AdapterNode] Configure button mousedown"),M.stopPropagation()},children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(Ft,{type:"target",position:be.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(St,{open:r,onOpenChange:M=>{console.log("[AdapterNode] Dialog state changing:",{open:M,id:e}),a(M)},children:n.jsxs(ft,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(Ct,{children:n.jsxs(Et,{children:["Configure ",N]})}),n.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),n.jsx(Gee,{adapters:[{id:t.adapterType,name:N,icon:j,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:c,sourceAdapter:h,targetAdapter:f,sourceAdapterActive:x,targetAdapterActive:v,onSourceBusinessComponentChange:M=>{console.log("[AdapterNode] Source business component changed:",M),d(M)},onTargetBusinessComponentChange:M=>{console.log("[AdapterNode] Target business component changed:",M),u(M)},onSourceAdapterChange:M=>{console.log("[AdapterNode] Source adapter changed:",M),m(M)},onTargetAdapterChange:M=>{console.log("[AdapterNode] Target adapter changed:",M),y(M)},onSourceAdapterActiveChange:M=>{console.log("[AdapterNode] Source adapter active changed:",M),w(M)},onTargetAdapterActiveChange:M=>{console.log("[AdapterNode] Target adapter active changed:",M),g(M)}}))})]})})]})};var DN="Switch",[Qee,Bpe]=as(DN),[Zee,ete]=Qee(DN),Q_=p.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...h}=e,[m,f]=p.useState(null),y=Ae(t,j=>f(j)),x=p.useRef(!1),w=m?u||!!m.closest("form"):!0,[v=!1,g]=Ls({prop:a,defaultProp:o,onChange:c});return n.jsxs(Zee,{scope:s,checked:v,disabled:l,children:[n.jsx(Ce.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":tI(v),"data-disabled":l?"":void 0,disabled:l,value:d,...h,ref:y,onClick:me(e.onClick,j=>{g(N=>!N),w&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),w&&n.jsx(tte,{control:m,bubbles:!x.current,name:r,value:d,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Q_.displayName=DN;var Z_="SwitchThumb",eI=p.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=ete(Z_,s);return n.jsx(Ce.span,{"data-state":tI(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});eI.displayName=Z_;var tte=e=>{const{control:t,checked:s,bubbles:r=!0,...a}=e,o=p.useRef(null),i=lx(s),l=Wf(t);return p.useEffect(()=>{const d=o.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==s&&h){const m=new Event("click",{bubbles:r});h.call(d,s),d.dispatchEvent(m)}},[i,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tI(e){return e?"checked":"unchecked"}var nI=Q_,nte=eI;const ke=p.forwardRef(({className:e,...t},s)=>n.jsx(nI,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(nte,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ke.displayName=nI.displayName;const ste=({id:e,data:t,selected:s})=>{var C;const[r,a]=p.useState(!1),{setNodes:o,setEdges:i}=Nr(),[l,d]=p.useState(t.senderComponent||""),[c,u]=p.useState(t.sourceAdapter||""),[h,m]=p.useState(t.isAsync??!0),[f,y]=p.useState([]),{businessComponents:x,adapters:w,getAdaptersForBusinessComponent:v}=Zr(),g=t.senderComponent&&t.sourceAdapter;p.useEffect(()=>{(async()=>{if(l){const F=await v(l);y(F)}else y([])})()},[l,v]);const j=()=>{o(T=>T.filter(F=>F.id!==e)),i(T=>T.filter(F=>F.source!==e&&F.target!==e))},N=async T=>{d(T);const F=await v(T),V=F.includes(c)?c:"";F.includes(c)||u(""),t.onConfigChange({senderComponent:T,sourceAdapter:V,isAsync:h,payload:t.payload})},b=T=>{u(T),t.onConfigChange({senderComponent:l,sourceAdapter:T,isAsync:h,payload:t.payload})},E=T=>{m(T),t.onConfigChange({senderComponent:l,sourceAdapter:c,isAsync:T,payload:t.payload})};return n.jsxs(n.Fragment,{children:[n.jsxs(J,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:j,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsx(oe,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fu,{className:"h-5 w-5 text-white"}),n.jsx(ie,{className:"text-sm font-medium text-white",children:"Start Process"})]}),n.jsx(le,{variant:g?"default":"secondary",className:"text-xs bg-white text-black",children:g?"Configured":"Setup Required"})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:T=>{T.stopPropagation(),T.preventDefault(),a(!0)},onMouseDown:T=>T.stopPropagation(),children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),n.jsx(St,{open:r,onOpenChange:a,children:n.jsxs(ft,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[n.jsx(Ct,{children:n.jsx(Et,{children:"Configure Start Process"})}),n.jsxs("div",{className:"mt-4 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sender-component",children:"Sender Component"}),n.jsxs(te,{value:l,onValueChange:N,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a business component..."})}),n.jsx(ee,{children:x.map(T=>n.jsx(A,{value:T.id,children:T.name},T.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"source-adapter",children:"Source Adapter"}),n.jsxs(te,{value:c,onValueChange:b,disabled:!l,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select an adapter..."})}),n.jsx(ee,{children:f.map(T=>{const F=w.find(V=>V.id===T);return F?n.jsx(A,{value:F.id,children:F.name},F.id):null})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"execution-mode",children:"Execution Mode"}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-sm",children:h?"Asynchronous":"Synchronous"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:h?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),n.jsx(ke,{checked:h,onCheckedChange:E,"aria-label":"Toggle execution mode"})]})]}),g&&n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",(C=w.find(T=>T.id===c))==null?void 0:C.name," adapter."]})]})]})]})})]})},rte=e=>{switch(e){case"field-mapping":return Ji;case"custom-function":return Mr;case"filter":return Uf;case"enrichment":return Vs;default:return Ji}},ate=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},Ie=({id:e,data:t,selected:s})=>{const[r,a]=p.useState(!1),{setNodes:o,setEdges:i}=Nr(),l=rte(t.transformationType),d=ate(t.transformationType),c=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{o(h=>h.filter(m=>m.id!==e)),i(h=>h.filter(m=>m.source!==e&&m.target!==e))};return n.jsxs(n.Fragment,{children:[n.jsxs(J,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsx(oe,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(l,{className:"h-5 w-5 text-white"}),n.jsx(ie,{className:"text-sm font-medium text-white",children:d})]}),n.jsx(le,{variant:c?"default":"secondary",className:"text-xs bg-white text-black",children:c?"Configured":"Setup Required"})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs(W,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:h=>{h.stopPropagation(),h.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:h=>h.stopPropagation(),children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(Ft,{type:"target",position:be.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),n.jsx(Ft,{type:"source",position:be.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?n.jsx(St,{open:r,onOpenChange:a,children:n.jsx(ft,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:n.jsx(AN,{onClose:()=>a(!1),onSave:h=>{t.onConfigChange({fieldMappings:h}),a(!1)},initialMappingName:`${d} - ${e}`,sampleStructures:[]})})}):n.jsx(St,{open:r,onOpenChange:a,children:n.jsxs(ft,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(Ct,{children:n.jsxs(Et,{children:["Configure ",d]})}),n.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[d," configuration panel coming soon..."]})})]})})]})},Un=({id:e,data:t,selected:s})=>{const[r,a]=p.useState(!1),[o,i]=p.useState(t.routingType||"conditional"),[l,d]=p.useState(t.conditions||[]),{setNodes:c,setEdges:u}=Nr(),h=()=>{c(v=>v.filter(g=>g.id!==e)),u(v=>v.filter(g=>g.source!==e&&g.target!==e))},m=()=>{d([...l,{field:"",operator:"equals",value:"",route:""}])},f=(v,g,j)=>{const N=[...l];N[v]={...N[v],[g]:j},d(N)},y=v=>{d(l.filter((g,j)=>j!==v))},x=()=>{var v;(v=t.onConfigChange)==null||v.call(t,e,{routingType:o,conditions:l}),a(!1)},w=t.conditions&&t.conditions.length>0;return n.jsxs(n.Fragment,{children:[n.jsxs(J,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&n.jsx(W,{variant:"ghost",size:"sm",onClick:h,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:n.jsx(ht,{className:"h-3 w-3"})}),n.jsx(oe,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hm,{className:"h-5 w-5 text-white"}),n.jsx(ie,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),n.jsx(le,{variant:w?"default":"secondary",className:"text-xs bg-white text-black",children:w?"Configured":"Setup Required"})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs(W,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:v=>{v.stopPropagation(),v.preventDefault(),a(!0)},onMouseDown:v=>v.stopPropagation(),children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Configure"]})}),n.jsx(Ft,{type:"target",position:be.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),n.jsx(Ft,{type:"source",position:be.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),n.jsx(Ft,{type:"source",position:be.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),n.jsx(Ft,{type:"source",position:be.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),n.jsx(St,{open:r,onOpenChange:a,children:n.jsxs(ft,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[n.jsx(Ct,{children:n.jsx(Et,{children:"Configure Routing Logic"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"routingType",children:"Routing Type"}),n.jsxs(te,{value:o,onValueChange:i,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select routing type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"conditional",children:"Conditional Routing"}),n.jsx(A,{value:"content-based",children:"Content-Based Routing"}),n.jsx(A,{value:"load-balance",children:"Load Balancing"}),n.jsx(A,{value:"round-robin",children:"Round Robin"})]})]})]}),o==="conditional"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"Routing Conditions"}),n.jsx(W,{onClick:m,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((v,g)=>n.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Field"}),n.jsx(I,{placeholder:"Field name",value:v.field,onChange:j=>f(g,"field",j.target.value)})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Operator"}),n.jsxs(te,{value:v.operator,onValueChange:j=>f(g,"operator",j),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"equals",children:"Equals"}),n.jsx(A,{value:"contains",children:"Contains"}),n.jsx(A,{value:"starts-with",children:"Starts With"}),n.jsx(A,{value:"greater-than",children:"Greater Than"}),n.jsx(A,{value:"less-than",children:"Less Than"})]})]})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Value"}),n.jsx(I,{placeholder:"Condition value",value:v.value,onChange:j=>f(g,"value",j.target.value)})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-xs",children:"Route"}),n.jsxs(te,{value:v.route,onValueChange:j=>f(g,"route",j),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"default",children:"Default"}),n.jsx(A,{value:"route1",children:"Route 1"}),n.jsx(A,{value:"route2",children:"Route 2"})]})]})]}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>y(g),children:n.jsx(ht,{className:"h-3 w-3"})})]},g))]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Save Configuration"})]})]})]})})]})},ote=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:Lc,nodes:[{type:"start-process",label:"Start Process",icon:fu},{type:"end-process",label:"End Process",icon:CV},{type:"start-event",label:"Start Event",icon:Lc},{type:"end-event",label:"End Event",icon:Lc},{type:"intermediate-event",label:"Intermediate Event",icon:Lc},{type:"timer-event",label:"Timer Event",icon:EV},{type:"message-event",label:"Message Event",icon:En},{type:"error-event",label:"Error Event",icon:ts}]},{category:"BPMN Activities",icon:ut,nodes:[{type:"task",label:"Task",icon:ut},{type:"service-task",label:"Service Task",icon:_s},{type:"user-task",label:"User Task",icon:an},{type:"script-task",label:"Script Task",icon:Mr},{type:"manual-task",label:"Manual Task",icon:Ly},{type:"business-rule-task",label:"Business Rule Task",icon:Ng},{type:"receive-task",label:"Receive Task",icon:En},{type:"send-task",label:"Send Task",icon:En}]},{category:"BPMN Gateways",icon:hi,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:hi},{type:"parallel-gateway",label:"Parallel Gateway",icon:hi},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:hi},{type:"event-gateway",label:"Event Gateway",icon:hi},{type:"complex-gateway",label:"Complex Gateway",icon:hi}]},{category:"Mapping & Transformation",icon:Ji,nodes:[{type:"field-mapping",label:"Field Mapping",icon:Ji},{type:"data-transformation",label:"Data Transformation",icon:qt},{type:"format-conversion",label:"Format Conversion",icon:Ji},{type:"value-mapping",label:"Value Mapping",icon:cr},{type:"structure-mapping",label:"Structure Mapping",icon:Bf},{type:"conditional-mapping",label:"Conditional Mapping",icon:po},{type:"aggregation",label:"Aggregation",icon:Ry},{type:"split-mapping",label:"Split Mapping",icon:po}]},{category:"File Transformations",icon:tn,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:tn},{type:"json-to-xml",label:"JSON to XML",icon:tn},{type:"xml-to-json",label:"XML to JSON",icon:tn},{type:"excel-to-csv",label:"Excel to CSV",icon:tn},{type:"pdf-extractor",label:"PDF Extractor",icon:tn},{type:"file-splitter",label:"File Splitter",icon:po},{type:"file-merger",label:"File Merger",icon:Ry},{type:"file-validator",label:"File Validator",icon:Kn}]},{category:"Scripts & Functions",icon:Mr,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:Mr},{type:"groovy-script",label:"Groovy Script",icon:Mr},{type:"xslt-transformation",label:"XSLT Transformation",icon:Mr},{type:"custom-function",label:"Custom Function",icon:_s},{type:"lookup-function",label:"Lookup Function",icon:cr},{type:"calculation-function",label:"Calculation Function",icon:Ly},{type:"validation-function",label:"Validation Function",icon:Kn},{type:"enrichment-function",label:"Enrichment Function",icon:_s}]},{category:"Flow Routing",icon:Hm,nodes:[{type:"content-router",label:"Content Router",icon:Hm},{type:"recipient-list",label:"Recipient List",icon:an},{type:"message-filter",label:"Message Filter",icon:Uf},{type:"dynamic-router",label:"Dynamic Router",icon:Hm},{type:"load-balancer",label:"Load Balancer",icon:po},{type:"failover-router",label:"Failover Router",icon:qt},{type:"multicast",label:"Multicast",icon:po},{type:"wire-tap",label:"Wire Tap",icon:cr}]},{category:"Security",icon:Kn,nodes:[{type:"encryption",label:"Encryption",icon:kd},{type:"decryption",label:"Decryption",icon:xl},{type:"digital-signature",label:"Digital Signature",icon:Ng},{type:"authentication",label:"Authentication",icon:an},{type:"authorization",label:"Authorization",icon:Kn},{type:"certificate-validation",label:"Certificate Validation",icon:Ng},{type:"secure-transport",label:"Secure Transport",icon:kd},{type:"access-control",label:"Access Control",icon:xl}]},{category:"Adapters & Connectors",icon:rr,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:rr},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:Gk},{type:"database-adapter",label:"Database Adapter",icon:ln},{type:"mail-adapter",label:"Mail Adapter",icon:pu},{type:"file-adapter",label:"File Adapter",icon:tn},{type:"jms-adapter",label:"JMS Adapter",icon:En},{type:"soap-adapter",label:"SOAP Adapter",icon:rr},{type:"rest-adapter",label:"REST Adapter",icon:rr}]}];return n.jsxs(J,{className:"w-64 h-full",children:[n.jsx(oe,{className:"pb-3",children:n.jsx(ie,{className:"text-sm",children:"Process Steps"})}),n.jsx(re,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(s=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[n.jsx(s.icon,{className:"h-3 w-3"}),s.category]}),n.jsx("div",{className:"grid gap-1",children:s.nodes.map(r=>n.jsxs(W,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(r.type,s.category),children:[n.jsx(r.icon,{className:"h-3 w-3 mr-2"}),r.label]},r.type))}),n.jsx(Oe,{})]},s.category))})]})},ite=({selectedNode:e,flowStats:t})=>{const s=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,r=a=>{switch(a){case"Low":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"High":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"w-64 space-y-4",children:[n.jsxs(J,{children:[n.jsx(oe,{className:"pb-3",children:n.jsxs(ie,{className:"text-sm flex items-center gap-2",children:[n.jsx(ut,{className:"h-4 w-4"}),"Properties"]})}),n.jsx(re,{className:"space-y-3",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),n.jsx(le,{variant:"secondary",className:"text-xs",children:s(e.type||"unknown")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),n.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Position"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?n.jsx(le,{variant:"default",className:"text-xs",children:"Configured"}):n.jsx(le,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):n.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),n.jsxs(J,{children:[n.jsx(oe,{className:"pb-3",children:n.jsxs(ie,{className:"text-sm flex items-center gap-2",children:[n.jsx(es,{className:"h-4 w-4"}),"Flow Status"]})}),n.jsxs(re,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),n.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),n.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"h-3 w-3"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),n.jsx(le,{className:`text-xs ${r(t.complexity)}`,children:t.complexity})]})]})]})]})},lte={"start-process":ste,"end-process":pn,"start-event":pn,"end-event":pn,"intermediate-event":pn,"timer-event":pn,"message-event":pn,"error-event":pn,task:Ie,"service-task":Ie,"user-task":Ie,"script-task":Ie,"manual-task":Ie,"business-rule-task":Ie,"receive-task":Ie,"send-task":Ie,"exclusive-gateway":Un,"parallel-gateway":Un,"inclusive-gateway":Un,"event-gateway":Un,"complex-gateway":Un,"field-mapping":Ie,"data-transformation":Ie,"format-conversion":Ie,"value-mapping":Ie,"structure-mapping":Ie,"conditional-mapping":Ie,aggregation:Ie,"split-mapping":Ie,"csv-to-xml":Ie,"json-to-xml":Ie,"xml-to-json":Ie,"excel-to-csv":Ie,"pdf-extractor":Ie,"file-splitter":Ie,"file-merger":Ie,"file-validator":Ie,"javascript-script":Ie,"groovy-script":Ie,"xslt-transformation":Ie,"custom-function":Ie,"lookup-function":Ie,"calculation-function":Ie,"validation-function":Ie,"enrichment-function":Ie,"content-router":Un,"recipient-list":Un,"message-filter":Un,"dynamic-router":Un,"load-balancer":Un,"failover-router":Un,multicast:Un,"wire-tap":Un,encryption:Ie,decryption:Ie,"digital-signature":Ie,authentication:Ie,authorization:Ie,"certificate-validation":Ie,"secure-transport":Ie,"access-control":Ie,"http-adapter":pn,"ftp-adapter":pn,"database-adapter":pn,"mail-adapter":pn,"file-adapter":pn,"jms-adapter":pn,"soap-adapter":pn,"rest-adapter":pn},cte=()=>[{id:"start-process-1",type:"start-process",position:{x:100,y:200},data:{senderComponent:"",sourceAdapter:"",isAsync:!0,configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}},{id:"end-process-1",type:"end-process",position:{x:500,y:200},data:{adapterType:"end-process",configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}}],dte=()=>[{id:"start-to-end",source:"start-process-1",target:"end-process-1",type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}}];function ute({flowId:e,onFlowChange:t}){const[s,r,a]=g_(cte()),[o,i,l]=v_(dte()),[d,c]=p.useState(null),[u,h]=p.useState(null),m=p.useMemo(()=>s.filter(v=>v.selected).map(v=>v.id),[s]);p.useEffect(()=>{if(t){const v=s.map(g=>({id:g.id,type:g.type,position:g.position,data:g.data}));t({steps:v})}},[s,o,t]);const f=p.useCallback(v=>{const g={...v,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Ds.ArrowClosed,color:"hsl(var(--primary))"}};i(j=>af(g,j))},[i]),y=p.useCallback((v,g)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:g.id,nodeType:g.type}),c(g),h(g.id),setTimeout(()=>h(null),3e3)},[]),x=p.useCallback((v,g)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:v,category:g});const j=`${v}-${Date.now()}`,N={id:j,type:v,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:v,transformationType:v,routingType:v,configured:!1,showDeleteButton:!1,onConfigChange:b=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:j,config:b}),r(E=>E.map(C=>C.id===j?{...C,data:{...C.data,...b,configured:!0}}:C))}}};console.log("[VisualOrchestrationEditor] Created new node:",N),r(b=>{const E=b.concat(N);return console.log("[VisualOrchestrationEditor] Updated nodes list:",E),E})},[r]);p.useCallback(()=>{r(v=>v.filter(g=>!g.selected)),i(v=>v.filter(g=>!m.includes(g.source)&&!m.includes(g.target)))},[m,r,i]);const w=p.useMemo(()=>{const v=s.length,g=o.length;let j="Low";v>10||g>15?j="High":(v>5||g>8)&&(j="Medium");const N=v*100+g*50,b=N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`;return{totalNodes:v,totalConnections:g,estimatedExecutionTime:b,complexity:j}},[s,o]);return n.jsxs("div",{className:"h-full w-full flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(ote,{onAddNode:x})}),n.jsx("div",{className:"flex-1 relative",children:n.jsxs(x_,{nodes:s.map(v=>({...v,data:{...v.data,showDeleteButton:u===v.id}})),edges:o,onNodesChange:a,onEdgesChange:l,onConnect:f,onNodeClick:y,nodeTypes:lte,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[n.jsx(N_,{showInteractive:!1}),n.jsx(S_,{}),n.jsx(j_,{variant:Lr.Dots,gap:12,size:1})]})}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(ite,{selectedNode:d,flowStats:w})})]})}function hte(){ys();const{navigateBack:e}=Jl(),{toast:t}=nt(),[s,r]=p.useState(!0),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState(""),[u,h]=p.useState(""),[m,f]=p.useState(""),[y,x]=p.useState(""),[w,v]=p.useState(""),[g,j]=p.useState([]),[N,b]=p.useState([]),[E,C]=p.useState([]),[T,F]=p.useState(!0),[V,k]=p.useState(!1);p.useState(!1),vF(()=>{o(""),l(""),c(""),h(""),f(""),x(""),v(""),r(!0)}),p.useEffect(()=>{$()},[]);const $=async()=>{try{F(!0);const P=await ba.getAllBusinessComponents();P.success&&P.data&&b(P.data);try{const L=await Q.get("/adapters");L.data&&C(L.data)}catch(L){console.warn("Could not load adapters:",L),C([])}}catch(P){console.error("Error loading component data:",P),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{F(!1)}},D=async()=>{var P,L;if(!i.trim()){t({title:"Validation Error",description:"Unique Flow ID is required.",variant:"destructive"});return}try{k(!0);const O={flowId:i.trim(),flowName:i.trim(),description:d.trim()||`Orchestration flow with ID: ${i.trim()}`,sourceBusinessComponentId:u||null,targetBusinessComponentId:m||null,sourceAdapterId:y||null,targetAdapterId:w||null,orchestrationSteps:g,createdBy:"current-user"};(await Q.post("/flow-composition/orchestration",O)).data&&(t({title:"Success",description:`Orchestration flow "${i}" has been created successfully.`}),e("/dashboard"))}catch(O){console.error("Error saving orchestration flow:",O),t({title:"Save Failed",description:((L=(P=O.response)==null?void 0:P.data)==null?void 0:L.message)||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{k(!1)}};return s?n.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[n.jsxs("div",{className:"h-24 border-b border-border px-6 flex flex-col justify-center space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[n.jsx(My,{className:"h-4 w-4"}),"Back to Dashboard"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Visual Orchestration Editor"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:D,disabled:V||!i.trim(),className:"flex items-center gap-2",children:[V?n.jsx($t,{className:"h-4 w-4 animate-spin"}):n.jsx(ei,{className:"h-4 w-4"}),"Save Flow"]}),n.jsxs(W,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4"}),"Cancel"]})]}),n.jsxs(st,{className:"max-w-md",children:[n.jsx(uV,{className:"h-4 w-4"}),n.jsx(rt,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 max-w-md",children:[n.jsx(S,{htmlFor:"uniqueFlowId",className:"text-sm font-medium whitespace-nowrap",children:"Unique Flow ID:"}),n.jsx(I,{id:"uniqueFlowId",placeholder:"Enter unique orchestration flow ID",value:i,onChange:P=>l(P.target.value),className:"flex-1"})]})]}),n.jsx("div",{className:"h-[calc(100vh-96px)]",children:n.jsx(ute,{flowId:i,onFlowChange:P=>{j(P.steps||[])}})})]}):null}var o2=1,mte=.9,pte=.8,fte=.17,Qg=.1,Zg=.999,xte=.9999,gte=.99,vte=/[\\\/_+.#"@\[\(\{&]/,yte=/[\\\/_+.#"@\[\(\{&]/g,jte=/[\s-]/,sI=/[\s-]/g;function Sj(e,t,s,r,a,o,i){if(o===t.length)return a===e.length?o2:gte;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var d=r.charAt(o),c=s.indexOf(d,a),u=0,h,m,f,y;c>=0;)h=Sj(e,t,s,r,c+1,o+1,i),h>u&&(c===a?h*=o2:vte.test(e.charAt(c-1))?(h*=pte,f=e.slice(a,c-1).match(yte),f&&a>0&&(h*=Math.pow(Zg,f.length))):jte.test(e.charAt(c-1))?(h*=mte,y=e.slice(a,c-1).match(sI),y&&a>0&&(h*=Math.pow(Zg,y.length))):(h*=fte,a>0&&(h*=Math.pow(Zg,c-a))),e.charAt(c)!==t.charAt(o)&&(h*=xte)),(h<Qg&&s.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&s.charAt(c-1)!==r.charAt(o))&&(m=Sj(e,t,s,r,c+1,o+2,i),m*Qg>h&&(h=m*Qg)),h>u&&(u=h),c=s.indexOf(d,c+1);return i[l]=u,u}function i2(e){return e.toLowerCase().replace(sI," ")}function wte(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Sj(e,t,i2(e),i2(t),0,0,{})}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},yn.apply(null,arguments)}function il(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Nte(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function rI(...e){return t=>e.forEach(s=>Nte(s,t))}function Vu(...e){return p.useCallback(rI(...e),e)}function bte(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];function c(h){const{scope:m,children:f,...y}=h,x=(m==null?void 0:m[e][d])||l,w=p.useMemo(()=>y,Object.values(y));return p.createElement(x.Provider,{value:w},f)}function u(h,m){const f=(m==null?void 0:m[e][d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,Ste(a,...t)]}function Ste(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}const Cj=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Cte=ru.useId||(()=>{});let Ete=0;function ev(e){const[t,s]=p.useState(Cte());return Cj(()=>{e||s(r=>r??String(Ete++))},[e]),e||(t?`radix-${t}`:"")}function qo(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...s)},[])}function Tte({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,a]=Pte({defaultProp:t,onChange:s}),o=e!==void 0,i=o?e:r,l=qo(s),d=p.useCallback(c=>{if(o){const h=typeof c=="function"?c(e):c;h!==e&&l(h)}else a(c)},[o,e,a,l]);return[i,d]}function Pte({defaultProp:e,onChange:t}){const s=p.useState(e),[r]=s,a=p.useRef(r),o=qo(t);return p.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),s}const RN=p.forwardRef((e,t)=>{const{children:s,...r}=e,a=p.Children.toArray(s),o=a.find(Ate);if(o){const i=o.props.children,l=a.map(d=>d===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:d);return p.createElement(Ej,yn({},r,{ref:t}),p.isValidElement(i)?p.cloneElement(i,void 0,l):null)}return p.createElement(Ej,yn({},r,{ref:t}),s)});RN.displayName="Slot";const Ej=p.forwardRef((e,t)=>{const{children:s,...r}=e;return p.isValidElement(s)?p.cloneElement(s,{...Dte(r,s.props),ref:t?rI(t,s.ref):s.ref}):p.Children.count(s)>1?p.Children.only(null):null});Ej.displayName="SlotClone";const kte=({children:e})=>p.createElement(p.Fragment,null,e);function Ate(e){return p.isValidElement(e)&&e.type===kte}function Dte(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{o(...l),a(...l)}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}const Rte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ws=Rte.reduce((e,t)=>{const s=p.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?RN:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(l,yn({},i,{ref:a}))});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Mte(e,t){e&&qs.flushSync(()=>e.dispatchEvent(t))}function Fte(e,t=globalThis==null?void 0:globalThis.document){const s=qo(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[s,t])}const Tj="dismissableLayer.update",_te="dismissableLayer.pointerDownOutside",Ite="dismissableLayer.focusOutside";let l2;const Ote=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lte=p.forwardRef((e,t)=>{var s;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...c}=e,u=p.useContext(Ote),[h,m]=p.useState(null),f=(s=h==null?void 0:h.ownerDocument)!==null&&s!==void 0?s:globalThis==null?void 0:globalThis.document,[,y]=p.useState({}),x=Vu(t,T=>m(T)),w=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(v),j=h?w.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=j>=g,E=$te(T=>{const F=T.target,V=[...u.branches].some(k=>k.contains(F));!b||V||(o==null||o(T),l==null||l(T),T.defaultPrevented||d==null||d())},f),C=Vte(T=>{const F=T.target;[...u.branches].some(k=>k.contains(F))||(i==null||i(T),l==null||l(T),T.defaultPrevented||d==null||d())},f);return Fte(T=>{j===u.layers.size-1&&(a==null||a(T),!T.defaultPrevented&&d&&(T.preventDefault(),d()))},f),p.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(l2=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),c2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=l2)}},[h,f,r,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),c2())},[h,u]),p.useEffect(()=>{const T=()=>y({});return document.addEventListener(Tj,T),()=>document.removeEventListener(Tj,T)},[]),p.createElement(ws.div,yn({},c,{ref:x,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:il(e.onFocusCapture,C.onFocusCapture),onBlurCapture:il(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:il(e.onPointerDownCapture,E.onPointerDownCapture)}))});function $te(e,t=globalThis==null?void 0:globalThis.document){const s=qo(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let u=function(){aI(_te,s,c,{discrete:!0})};var d=u;const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function Vte(e,t=globalThis==null?void 0:globalThis.document){const s=qo(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&aI(Ite,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function c2(){const e=new CustomEvent(Tj);document.dispatchEvent(e)}function aI(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?Mte(a,o):a.dispatchEvent(o)}const tv="focusScope.autoFocusOnMount",nv="focusScope.autoFocusOnUnmount",d2={bubbles:!1,cancelable:!0},Ute=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=qo(a),u=qo(o),h=p.useRef(null),m=Vu(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(E){if(f.paused||!l)return;const C=E.target;l.contains(C)?h.current=C:ha(h.current,{select:!0})},j=function(E){if(f.paused||!l)return;const C=E.relatedTarget;C!==null&&(l.contains(C)||ha(h.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ha(l)};var x=g,w=j,v=N;document.addEventListener("focusin",g),document.addEventListener("focusout",j);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",j),b.disconnect()}}},[r,l,f.paused]),p.useEffect(()=>{if(l){h2.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(tv,d2);l.addEventListener(tv,c),l.dispatchEvent(v),v.defaultPrevented||(Bte(Yte(oI(l)),{select:!0}),document.activeElement===x&&ha(l))}return()=>{l.removeEventListener(tv,c),setTimeout(()=>{const v=new CustomEvent(nv,d2);l.addEventListener(nv,u),l.dispatchEvent(v),v.defaultPrevented||ha(x??document.body,{select:!0}),l.removeEventListener(nv,u),h2.remove(f)},0)}}},[l,c,u,f]);const y=p.useCallback(x=>{if(!s&&!r||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[j,N]=Hte(g);j&&N?!x.shiftKey&&v===N?(x.preventDefault(),s&&ha(j,{select:!0})):x.shiftKey&&v===j&&(x.preventDefault(),s&&ha(N,{select:!0})):v===g&&x.preventDefault()}},[s,r,f.paused]);return p.createElement(ws.div,yn({tabIndex:-1},i,{ref:m,onKeyDown:y}))});function Bte(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(ha(r,{select:t}),document.activeElement!==s)return}function Hte(e){const t=oI(e),s=u2(t,e),r=u2(t.reverse(),e);return[s,r]}function oI(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function u2(e,t){for(const s of e)if(!zte(s,{upTo:t}))return s}function zte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qte(e){return e instanceof HTMLInputElement&&"select"in e}function ha(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&qte(e)&&t&&e.select()}}const h2=Wte();function Wte(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=m2(e,t),e.unshift(t)},remove(t){var s;e=m2(e,t),(s=e[0])===null||s===void 0||s.resume()}}}function m2(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function Yte(e){return e.filter(t=>t.tagName!=="A")}const Kte=p.forwardRef((e,t)=>{var s;const{container:r=globalThis==null||(s=globalThis.document)===null||s===void 0?void 0:s.body,...a}=e;return r?If.createPortal(p.createElement(ws.div,yn({},a,{ref:t})),r):null});function Gte(e,t){return p.useReducer((s,r)=>{const a=t[s][r];return a??s},e)}const Rx=e=>{const{present:t,children:s}=e,r=Xte(t),a=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),o=Vu(r.ref,a.ref);return typeof s=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Rx.displayName="Presence";function Xte(e){const[t,s]=p.useState(),r=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Gte(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=gm(r.current);o.current=l==="mounted"?c:"none"},[l]),Cj(()=>{const c=r.current,u=a.current;if(u!==e){const m=o.current,f=gm(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Cj(()=>{if(t){const c=h=>{const f=gm(r.current).includes(h.animationName);h.target===t&&f&&qs.flushSync(()=>d("ANIMATION_END"))},u=h=>{h.target===t&&(o.current=gm(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),s(c)},[])}}function gm(e){return(e==null?void 0:e.animationName)||"none"}let sv=0;function Jte(){p.useEffect(()=>{var e,t;const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=s[0])!==null&&e!==void 0?e:p2()),document.body.insertAdjacentElement("beforeend",(t=s[1])!==null&&t!==void 0?t:p2()),sv++,()=>{sv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),sv--}},[])}function p2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var iI=Rw(),rv=function(){},Mx=p.forwardRef(function(e,t){var s=p.useRef(null),r=p.useState({onScrollCapture:rv,onWheelCapture:rv,onTouchMoveCapture:rv}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,g=tx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=m,N=Dw([s,t]),b=Dt(Dt({},g),a);return p.createElement(p.Fragment,null,u&&p.createElement(j,{sideCar:iI,removeScrollBar:c,shards:h,noIsolation:f,inert:y,setCallbacks:o,allowPinchZoom:!!x,lockRef:s}),i?p.cloneElement(p.Children.only(l),Dt(Dt({},b),{ref:N})):p.createElement(v,Dt({},b,{className:d,ref:N}),l))});Mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mx.classNames={fullWidth:tl,zeroRight:el};var Pj=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Pj=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Pj=!1}var gi=Pj?{passive:!1}:!1,Qte=function(e){return e.tagName==="TEXTAREA"},lI=function(e,t){var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Qte(e)&&s[t]==="visible")},Zte=function(e){return lI(e,"overflowY")},ene=function(e){return lI(e,"overflowX")},f2=function(e,t){var s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=cI(e,s);if(r){var a=dI(e,s),o=a[1],i=a[2];if(o>i)return!0}s=s.parentNode}while(s&&s!==document.body);return!1},tne=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},nne=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},cI=function(e,t){return e==="v"?Zte(t):ene(t)},dI=function(e,t){return e==="v"?tne(t):nne(t)},sne=function(e,t){return e==="h"&&t==="rtl"?-1:1},rne=function(e,t,s,r,a){var o=sne(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,d=t.contains(l),c=!1,u=i>0,h=0,m=0;do{var f=dI(e,l),y=f[0],x=f[1],w=f[2],v=x-w-o*y;(y||v)&&cI(e,l)&&(h+=v,m+=y),l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(h===0||!a)||!u&&(m===0||!a))&&(c=!0),c},ym=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x2=function(e){return[e.deltaX,e.deltaY]},g2=function(e){return e&&"current"in e?e.current:e},ane=function(e,t){return e[0]===t[0]&&e[1]===t[1]},one=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ine=0,vi=[];function lne(e){var t=p.useRef([]),s=p.useRef([0,0]),r=p.useRef(),a=p.useState(ine++)[0],o=p.useState(function(){return sx()})[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Aw([e.lockRef.current],(e.shards||[]).map(g2),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2)return!i.current.allowPinchZoom;var v=ym(x),g=s.current,j="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,C=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var T=f2(C,E);if(!T)return!0;if(T?b=C:(b=C==="v"?"h":"v",T=f2(C,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(j||N)&&(r.current=b),!b)return!0;var F=r.current||b;return rne(F,w,x,F==="h"?j:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!vi.length||vi[vi.length-1]!==o)){var v="deltaY"in w?x2(w):ym(w),g=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&ane(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var j=(i.current.shards||[]).map(g2).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var j={name:x,delta:w,target:v,should:g};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=p.useCallback(function(x){s.current=ym(x),r.current=void 0},[]),h=p.useCallback(function(x){c(x.type,x2(x),x.target,l(x,e.lockRef.current))},[]),m=p.useCallback(function(x){c(x.type,ym(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return vi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,gi),document.addEventListener("touchmove",d,gi),document.addEventListener("touchstart",u,gi),function(){vi=vi.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,gi),document.removeEventListener("touchmove",d,gi),document.removeEventListener("touchstart",u,gi)}},[]);var f=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:one(a)}):null,f?p.createElement(Fw,{gapMode:"margin"}):null)}const cne=Mw(iI,lne);var uI=p.forwardRef(function(e,t){return p.createElement(Mx,Dt({},e,{ref:t,sideCar:cne}))});uI.classNames=Mx.classNames;const hI="Dialog",[mI,Hpe]=bte(hI),[dne,ri]=mI(hI),une=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),d=p.useRef(null),[c=!1,u]=Tte({prop:r,defaultProp:a,onChange:o});return p.createElement(dne,{scope:t,triggerRef:l,contentRef:d,contentId:ev(),titleId:ev(),descriptionId:ev(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:i},s)},pI="DialogPortal",[hne,fI]=mI(pI,{forceMount:void 0}),mne=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,o=ri(pI,t);return p.createElement(hne,{scope:t,forceMount:s},p.Children.map(r,i=>p.createElement(Rx,{present:s||o.open},p.createElement(Kte,{asChild:!0,container:a},i))))},kj="DialogOverlay",pne=p.forwardRef((e,t)=>{const s=fI(kj,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=ri(kj,e.__scopeDialog);return o.modal?p.createElement(Rx,{present:r||o.open},p.createElement(fne,yn({},a,{ref:t}))):null}),fne=p.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=ri(kj,s);return p.createElement(uI,{as:RN,allowPinchZoom:!0,shards:[a.contentRef]},p.createElement(ws.div,yn({"data-state":gI(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Gd="DialogContent",xne=p.forwardRef((e,t)=>{const s=fI(Gd,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=ri(Gd,e.__scopeDialog);return p.createElement(Rx,{present:r||o.open},o.modal?p.createElement(gne,yn({},a,{ref:t})):p.createElement(vne,yn({},a,{ref:t})))}),gne=p.forwardRef((e,t)=>{const s=ri(Gd,e.__scopeDialog),r=p.useRef(null),a=Vu(t,s.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return gu(o)},[]),p.createElement(xI,yn({},e,{ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:il(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=s.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:il(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:il(e.onFocusOutside,o=>o.preventDefault())}))}),vne=p.forwardRef((e,t)=>{const s=ri(Gd,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return p.createElement(xI,yn({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;r.current||(l=s.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const d=o.target;((l=s.triggerRef.current)===null||l===void 0?void 0:l.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),xI=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=ri(Gd,s),d=p.useRef(null),c=Vu(t,d);return Jte(),p.createElement(p.Fragment,null,p.createElement(Ute,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o},p.createElement(Lte,yn({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gI(l.open)},i,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function gI(e){return e?"open":"closed"}const yne=une,jne=mne,wne=pne,Nne=xne;var Ac='[cmdk-group=""]',av='[cmdk-group-items=""]',bne='[cmdk-group-heading=""]',MN='[cmdk-item=""]',v2=`${MN}:not([aria-disabled="true"])`,Aj="cmdk-item-select",fo="data-value",Sne=(e,t,s)=>wte(e,t,s),vI=p.createContext(void 0),Uu=()=>p.useContext(vI),yI=p.createContext(void 0),FN=()=>p.useContext(yI),jI=p.createContext(void 0),wI=p.forwardRef((e,t)=>{let s=Si(()=>{var U,K;return{search:"",value:(K=(U=e.value)!=null?U:e.defaultValue)!=null?K:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Si(()=>new Set),a=Si(()=>new Map),o=Si(()=>new Map),i=Si(()=>new Set),l=NI(e),{label:d,children:c,value:u,onValueChange:h,filter:m,shouldFilter:f,loop:y,disablePointerSelection:x=!1,vimBindings:w=!0,...v}=e,g=p.useId(),j=p.useId(),N=p.useId(),b=p.useRef(null),E=_ne();Wo(()=>{if(u!==void 0){let U=u.trim();s.current.value=U,C.emit()}},[u]),Wo(()=>{E(6,$)},[]);let C=p.useMemo(()=>({subscribe:U=>(i.current.add(U),()=>i.current.delete(U)),snapshot:()=>s.current,setState:(U,K,Y)=>{var X,G,H;if(!Object.is(s.current[U],K)){if(s.current[U]=K,U==="search")M(),V(),E(1,k);else if(U==="value"&&(Y||E(5,$),((X=l.current)==null?void 0:X.value)!==void 0)){let ae=K??"";(H=(G=l.current).onValueChange)==null||H.call(G,ae);return}C.emit()}},emit:()=>{i.current.forEach(U=>U())}}),[]),T=p.useMemo(()=>({value:(U,K,Y)=>{var X;K!==((X=o.current.get(U))==null?void 0:X.value)&&(o.current.set(U,{value:K,keywords:Y}),s.current.filtered.items.set(U,F(K,Y)),E(2,()=>{V(),C.emit()}))},item:(U,K)=>(r.current.add(U),K&&(a.current.has(K)?a.current.get(K).add(U):a.current.set(K,new Set([U]))),E(3,()=>{M(),V(),s.current.value||k(),C.emit()}),()=>{o.current.delete(U),r.current.delete(U),s.current.filtered.items.delete(U);let Y=D();E(4,()=>{M(),(Y==null?void 0:Y.getAttribute("id"))===U&&k(),C.emit()})}),group:U=>(a.current.has(U)||a.current.set(U,new Set),()=>{o.current.delete(U),a.current.delete(U)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],disablePointerSelection:x,listId:g,inputId:N,labelId:j,listInnerRef:b}),[]);function F(U,K){var Y,X;let G=(X=(Y=l.current)==null?void 0:Y.filter)!=null?X:Sne;return U?G(U,s.current.search,K):0}function V(){if(!s.current.search||l.current.shouldFilter===!1)return;let U=s.current.filtered.items,K=[];s.current.filtered.groups.forEach(X=>{let G=a.current.get(X),H=0;G.forEach(ae=>{let de=U.get(ae);H=Math.max(de,H)}),K.push([X,H])});let Y=b.current;P().sort((X,G)=>{var H,ae;let de=X.getAttribute("id"),xe=G.getAttribute("id");return((H=U.get(xe))!=null?H:0)-((ae=U.get(de))!=null?ae:0)}).forEach(X=>{let G=X.closest(av);G?G.appendChild(X.parentElement===G?X:X.closest(`${av} > *`)):Y.appendChild(X.parentElement===Y?X:X.closest(`${av} > *`))}),K.sort((X,G)=>G[1]-X[1]).forEach(X=>{let G=b.current.querySelector(`${Ac}[${fo}="${encodeURIComponent(X[0])}"]`);G==null||G.parentElement.appendChild(G)})}function k(){let U=P().find(Y=>Y.getAttribute("aria-disabled")!=="true"),K=U==null?void 0:U.getAttribute(fo);C.setState("value",K||void 0)}function M(){var U,K,Y,X;if(!s.current.search||l.current.shouldFilter===!1){s.current.filtered.count=r.current.size;return}s.current.filtered.groups=new Set;let G=0;for(let H of r.current){let ae=(K=(U=o.current.get(H))==null?void 0:U.value)!=null?K:"",de=(X=(Y=o.current.get(H))==null?void 0:Y.keywords)!=null?X:[],xe=F(ae,de);s.current.filtered.items.set(H,xe),xe>0&&G++}for(let[H,ae]of a.current)for(let de of ae)if(s.current.filtered.items.get(de)>0){s.current.filtered.groups.add(H);break}s.current.filtered.count=G}function $(){var U,K,Y;let X=D();X&&(((U=X.parentElement)==null?void 0:U.firstChild)===X&&((Y=(K=X.closest(Ac))==null?void 0:K.querySelector(bne))==null||Y.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function D(){var U;return(U=b.current)==null?void 0:U.querySelector(`${MN}[aria-selected="true"]`)}function P(){var U;return Array.from((U=b.current)==null?void 0:U.querySelectorAll(v2))}function L(U){let K=P()[U];K&&C.setState("value",K.getAttribute(fo))}function O(U){var K;let Y=D(),X=P(),G=X.findIndex(ae=>ae===Y),H=X[G+U];(K=l.current)!=null&&K.loop&&(H=G+U<0?X[X.length-1]:G+U===X.length?X[0]:X[G+U]),H&&C.setState("value",H.getAttribute(fo))}function R(U){let K=D(),Y=K==null?void 0:K.closest(Ac),X;for(;Y&&!X;)Y=U>0?Mne(Y,Ac):Fne(Y,Ac),X=Y==null?void 0:Y.querySelector(v2);X?C.setState("value",X.getAttribute(fo)):O(U)}let _=()=>L(P().length-1),z=U=>{U.preventDefault(),U.metaKey?_():U.altKey?R(1):O(1)},B=U=>{U.preventDefault(),U.metaKey?L(0):U.altKey?R(-1):O(-1)};return p.createElement(ws.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:U=>{var K;if((K=v.onKeyDown)==null||K.call(v,U),!U.defaultPrevented)switch(U.key){case"n":case"j":{w&&U.ctrlKey&&z(U);break}case"ArrowDown":{z(U);break}case"p":case"k":{w&&U.ctrlKey&&B(U);break}case"ArrowUp":{B(U);break}case"Home":{U.preventDefault(),L(0);break}case"End":{U.preventDefault(),_();break}case"Enter":if(!U.nativeEvent.isComposing&&U.keyCode!==229){U.preventDefault();let Y=D();if(Y){let X=new Event(Aj);Y.dispatchEvent(X)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:One},d),Fx(e,U=>p.createElement(yI.Provider,{value:C},p.createElement(vI.Provider,{value:T},U))))}),Cne=p.forwardRef((e,t)=>{var s,r;let a=p.useId(),o=p.useRef(null),i=p.useContext(jI),l=Uu(),d=NI(e),c=(r=(s=d.current)==null?void 0:s.forceMount)!=null?r:i==null?void 0:i.forceMount;Wo(()=>{if(!c)return l.item(a,i==null?void 0:i.id)},[c]);let u=bI(a,o,[e.value,e.children,o],e.keywords),h=FN(),m=Yo(E=>E.value&&E.value===u.current),f=Yo(E=>c||l.filter()===!1?!0:E.search?E.filtered.items.get(a)>0:!0);p.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(Aj,y),()=>E.removeEventListener(Aj,y)},[f,e.onSelect,e.disabled]);function y(){var E,C;x(),(C=(E=d.current).onSelect)==null||C.call(E,u.current)}function x(){h.setState("value",u.current,!0)}if(!f)return null;let{disabled:w,value:v,onSelect:g,forceMount:j,keywords:N,...b}=e;return p.createElement(ws.div,{ref:Xd([o,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.disablePointerSelection?void 0:x,onClick:w?void 0:y},e.children)}),Ene=p.forwardRef((e,t)=>{let{heading:s,children:r,forceMount:a,...o}=e,i=p.useId(),l=p.useRef(null),d=p.useRef(null),c=p.useId(),u=Uu(),h=Yo(f=>a||u.filter()===!1?!0:f.search?f.filtered.groups.has(i):!0);Wo(()=>u.group(i),[]),bI(i,l,[e.value,e.heading,d]);let m=p.useMemo(()=>({id:i,forceMount:a}),[a]);return p.createElement(ws.div,{ref:Xd([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},s&&p.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},s),Fx(e,f=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?c:void 0},p.createElement(jI.Provider,{value:m},f))))}),Tne=p.forwardRef((e,t)=>{let{alwaysRender:s,...r}=e,a=p.useRef(null),o=Yo(i=>!i.search);return!s&&!o?null:p.createElement(ws.div,{ref:Xd([a,t]),...r,"cmdk-separator":"",role:"separator"})}),Pne=p.forwardRef((e,t)=>{let{onValueChange:s,...r}=e,a=e.value!=null,o=FN(),i=Yo(u=>u.search),l=Yo(u=>u.value),d=Uu(),c=p.useMemo(()=>{var u;let h=(u=d.listInnerRef.current)==null?void 0:u.querySelector(`${MN}[${fo}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(ws.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),s==null||s(u.target.value)}})}),kne=p.forwardRef((e,t)=>{let{children:s,label:r="Suggestions",...a}=e,o=p.useRef(null),i=p.useRef(null),l=Uu();return p.useEffect(()=>{if(i.current&&o.current){let d=i.current,c=o.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=d.offsetHeight;c.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(u),h.unobserve(d)}}},[]),p.createElement(ws.div,{ref:Xd([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},Fx(e,d=>p.createElement("div",{ref:Xd([i,l.listInnerRef]),"cmdk-list-sizer":""},d)))}),Ane=p.forwardRef((e,t)=>{let{open:s,onOpenChange:r,overlayClassName:a,contentClassName:o,container:i,...l}=e;return p.createElement(yne,{open:s,onOpenChange:r},p.createElement(jne,{container:i},p.createElement(wne,{"cmdk-overlay":"",className:a}),p.createElement(Nne,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(wI,{ref:t,...l}))))}),Dne=p.forwardRef((e,t)=>Yo(s=>s.filtered.count===0)?p.createElement(ws.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Rne=p.forwardRef((e,t)=>{let{progress:s,children:r,label:a="Loading...",...o}=e;return p.createElement(ws.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Fx(e,i=>p.createElement("div",{"aria-hidden":!0},i)))}),On=Object.assign(wI,{List:kne,Item:Cne,Input:Pne,Group:Ene,Separator:Tne,Dialog:Ane,Empty:Dne,Loading:Rne});function Mne(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function Fne(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function NI(e){let t=p.useRef(e);return Wo(()=>{t.current=e}),t}var Wo=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Si(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Xd(e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}function Yo(e){let t=FN(),s=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,s,s)}function bI(e,t,s,r=[]){let a=p.useRef(),o=Uu();return Wo(()=>{var i;let l=(()=>{var c;for(let u of s){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():a.current}})(),d=r.map(c=>c.trim());o.value(e,l,d),(i=t.current)==null||i.setAttribute(fo,l),a.current=l}),a}var _ne=()=>{let[e,t]=p.useState(),s=Si(()=>new Map);return Wo(()=>{s.current.forEach(r=>r()),s.current=new Map},[e]),(r,a)=>{s.current.set(r,a),t({})}};function Ine(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Fx({asChild:e,children:t},s){return e&&p.isValidElement(t)?p.cloneElement(Ine(t),{ref:t.ref},s(t.props.children)):s(t)}var One={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const SI=p.forwardRef(({className:e,...t},s)=>n.jsx(On,{ref:s,className:ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));SI.displayName=On.displayName;const CI=p.forwardRef(({className:e,...t},s)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(cr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(On.Input,{ref:s,className:ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));CI.displayName=On.Input.displayName;const EI=p.forwardRef(({className:e,...t},s)=>n.jsx(On.List,{ref:s,className:ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));EI.displayName=On.List.displayName;const TI=p.forwardRef((e,t)=>n.jsx(On.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));TI.displayName=On.Empty.displayName;const PI=p.forwardRef(({className:e,...t},s)=>n.jsx(On.Group,{ref:s,className:ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));PI.displayName=On.Group.displayName;const Lne=p.forwardRef(({className:e,...t},s)=>n.jsx(On.Separator,{ref:s,className:ce("-mx-1 h-px bg-border",e),...t}));Lne.displayName=On.Separator.displayName;const kI=p.forwardRef(({className:e,...t},s)=>n.jsx(On.Item,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));kI.displayName=On.Item.displayName;function Fa(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function y2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AI(...e){return t=>{let s=!1;const r=e.map(a=>{const o=y2(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():y2(e[a],null)}}}}function eo(...e){return p.useCallback(AI(...e),e)}function DI(e,t=[]){let s=[];function r(o,i){const l=p.createContext(i),d=s.length;s=[...s,i];const c=h=>{var v;const{scope:m,children:f,...y}=h,x=((v=m==null?void 0:m[e])==null?void 0:v[d])||l,w=p.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:w,children:f})};c.displayName=o+"Provider";function u(h,m){var x;const f=((x=m==null?void 0:m[e])==null?void 0:x[d])||l,y=p.useContext(f);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=s.map(i=>p.createContext(i));return function(l){const d=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[r,$ne(a,...t)]}function $ne(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:d,scopeName:c})=>{const h=d(o)[`__scope${c}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function RI(e){const t=Vne(e),s=p.forwardRef((r,a)=>{const{children:o,...i}=r,l=p.Children.toArray(o),d=l.find(Bne);if(d){const c=d.props.children,u=l.map(h=>h===d?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:h);return n.jsx(t,{...i,ref:a,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function Vne(e){const t=p.forwardRef((s,r)=>{const{children:a,...o}=s;if(p.isValidElement(a)){const i=zne(a),l=Hne(o,a.props);return a.type!==p.Fragment&&(l.ref=r?AI(r,i):i),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Une=Symbol("radix.slottable");function Bne(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Une}function Hne(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function zne(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var qne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ea=qne.reduce((e,t)=>{const s=RI(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Wne(e,t){e&&qs.flushSync(()=>e.dispatchEvent(t))}function Al(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function Yne(e,t=globalThis==null?void 0:globalThis.document){const s=Al(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var Kne="DismissableLayer",Dj="dismissableLayer.update",Gne="dismissableLayer.pointerDownOutside",Xne="dismissableLayer.focusOutside",j2,MI=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FI=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=e,c=p.useContext(MI),[u,h]=p.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=p.useState({}),y=eo(t,C=>h(C)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=u?x.indexOf(u):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,N=g>=v,b=Zne(C=>{const T=C.target,F=[...c.branches].some(V=>V.contains(T));!N||F||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),E=ese(C=>{const T=C.target;[...c.branches].some(V=>V.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return Yne(C=>{g===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),p.useEffect(()=>{if(u)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),w2(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=j2)}},[u,m,s,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),w2())},[u,c]),p.useEffect(()=>{const C=()=>f({});return document.addEventListener(Dj,C),()=>document.removeEventListener(Dj,C)},[]),n.jsx(ea.div,{...d,ref:y,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:Fa(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Fa(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Fa(e.onPointerDownCapture,b.onPointerDownCapture)})});FI.displayName=Kne;var Jne="DismissableLayerBranch",Qne=p.forwardRef((e,t)=>{const s=p.useContext(MI),r=p.useRef(null),a=eo(t,r);return p.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(ea.div,{...e,ref:a})});Qne.displayName=Jne;function Zne(e,t=globalThis==null?void 0:globalThis.document){const s=Al(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let d=function(){_I(Gne,s,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function ese(e,t=globalThis==null?void 0:globalThis.document){const s=Al(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&_I(Xne,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w2(){const e=new CustomEvent(Dj);document.dispatchEvent(e)}function _I(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?Wne(a,o):a.dispatchEvent(o)}var ov=0;function tse(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N2()),document.body.insertAdjacentElement("beforeend",e[1]??N2()),ov++,()=>{ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ov--}},[])}function N2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iv="focusScope.autoFocusOnMount",lv="focusScope.autoFocusOnUnmount",b2={bubbles:!1,cancelable:!0},nse="FocusScope",II=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,d]=p.useState(null),c=Al(a),u=Al(o),h=p.useRef(null),m=eo(t,x=>d(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(j){if(f.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:ma(h.current,{select:!0})},w=function(j){if(f.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||ma(h.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const b of j)b.removedNodes.length>0&&ma(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[r,l,f.paused]),p.useEffect(()=>{if(l){C2.add(f);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(iv,b2);l.addEventListener(iv,c),l.dispatchEvent(v),v.defaultPrevented||(sse(lse(OI(l)),{select:!0}),document.activeElement===x&&ma(l))}return()=>{l.removeEventListener(iv,c),setTimeout(()=>{const v=new CustomEvent(lv,b2);l.addEventListener(lv,u),l.dispatchEvent(v),v.defaultPrevented||ma(x??document.body,{select:!0}),l.removeEventListener(lv,u),C2.remove(f)},0)}}},[l,c,u,f]);const y=p.useCallback(x=>{if(!s&&!r||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[j,N]=rse(g);j&&N?!x.shiftKey&&v===N?(x.preventDefault(),s&&ma(j,{select:!0})):x.shiftKey&&v===j&&(x.preventDefault(),s&&ma(N,{select:!0})):v===g&&x.preventDefault()}},[s,r,f.paused]);return n.jsx(ea.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});II.displayName=nse;function sse(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(ma(r,{select:t}),document.activeElement!==s)return}function rse(e){const t=OI(e),s=S2(t,e),r=S2(t.reverse(),e);return[s,r]}function OI(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function S2(e,t){for(const s of e)if(!ase(s,{upTo:t}))return s}function ase(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ose(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&ose(e)&&t&&e.select()}}var C2=ise();function ise(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=E2(e,t),e.unshift(t)},remove(t){var s;e=E2(e,t),(s=e[0])==null||s.resume()}}}function E2(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function lse(e){return e.filter(t=>t.tagName!=="A")}var za=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},cse=ru[" useId ".trim().toString()]||(()=>{}),dse=0;function use(e){const[t,s]=p.useState(cse());return za(()=>{e||s(r=>r??String(dse++))},[e]),e||(t?`radix-${t}`:"")}var hse="Arrow",LI=p.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(ea.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});LI.displayName=hse;var mse=LI;function pse(e){const[t,s]=p.useState(void 0);return za(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var _N="Popper",[$I,VI]=DI(_N),[fse,UI]=$I(_N),BI=e=>{const{__scopePopper:t,children:s}=e,[r,a]=p.useState(null);return n.jsx(fse,{scope:t,anchor:r,onAnchorChange:a,children:s})};BI.displayName=_N;var HI="PopperAnchor",zI=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=UI(HI,s),i=p.useRef(null),l=eo(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.jsx(ea.div,{...a,ref:l})});zI.displayName=HI;var IN="PopperContent",[xse,gse]=$I(IN),qI=p.forwardRef((e,t)=>{var H,ae,de,xe,ye,fe;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:y,...x}=e,w=UI(IN,s),[v,g]=p.useState(null),j=eo(t,we=>g(we)),[N,b]=p.useState(null),E=pse(N),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,F=r+(o!=="center"?"-"+o:""),V=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,$={padding:V,boundary:k.filter(yse),altBoundary:M},{refs:D,floatingStyles:P,placement:L,isPositioned:O,middlewareData:R}=wA({strategy:"fixed",placement:F,whileElementsMounted:(...we)=>yA(...we,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[NA({mainAxis:a+T,alignmentAxis:i}),d&&bA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?SA():void 0,...$}),d&&CA({...$}),EA({...$,apply:({elements:we,rects:Ne,availableWidth:Me,availableHeight:Le})=>{const{width:Pt,height:cn}=Ne.reference,Ke=we.floating.style;Ke.setProperty("--radix-popper-available-width",`${Me}px`),Ke.setProperty("--radix-popper-available-height",`${Le}px`),Ke.setProperty("--radix-popper-anchor-width",`${Pt}px`),Ke.setProperty("--radix-popper-anchor-height",`${cn}px`)}}),N&&PA({element:N,padding:l}),jse({arrowWidth:C,arrowHeight:T}),m&&TA({strategy:"referenceHidden",...$})]}),[_,z]=KI(L),B=Al(y);za(()=>{O&&(B==null||B())},[O,B]);const U=(H=R.arrow)==null?void 0:H.x,K=(ae=R.arrow)==null?void 0:ae.y,Y=((de=R.arrow)==null?void 0:de.centerOffset)!==0,[X,G]=p.useState();return za(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:O?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(xe=R.transformOrigin)==null?void 0:xe.x,(ye=R.transformOrigin)==null?void 0:ye.y].join(" "),...((fe=R.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(xse,{scope:s,placedSide:_,onArrowChange:b,arrowX:U,arrowY:K,shouldHideArrow:Y,children:n.jsx(ea.div,{"data-side":_,"data-align":z,...x,ref:j,style:{...x.style,animation:O?void 0:"none"}})})})});qI.displayName=IN;var WI="PopperArrow",vse={top:"bottom",right:"left",bottom:"top",left:"right"},YI=p.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=gse(WI,r),i=vse[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(mse,{...a,ref:s,style:{...a.style,display:"block"}})})});YI.displayName=WI;function yse(e){return e!==null}var jse=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:s,rects:r,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[c,u]=KI(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,f=(((g=a.arrow)==null?void 0:g.y)??0)+d/2;let y="",x="";return c==="bottom"?(y=i?h:`${m}px`,x=`${-d}px`):c==="top"?(y=i?h:`${m}px`,x=`${r.floating.height+d}px`):c==="right"?(y=`${-d}px`,x=i?h:`${f}px`):c==="left"&&(y=`${r.floating.width+d}px`,x=i?h:`${f}px`),{data:{x:y,y:x}}}});function KI(e){const[t,s="center"]=e.split("-");return[t,s]}var wse=BI,GI=zI,Nse=qI,bse=YI,Sse="Portal",XI=p.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=p.useState(!1);za(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?If.createPortal(n.jsx(ea.div,{...r,ref:t}),i):null});XI.displayName=Sse;function Cse(e,t){return p.useReducer((s,r)=>t[s][r]??s,e)}var ON=e=>{const{present:t,children:s}=e,r=Ese(t),a=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),o=eo(r.ref,Tse(a));return typeof s=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};ON.displayName="Presence";function Ese(e){const[t,s]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Cse(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=jm(r.current);o.current=l==="mounted"?c:"none"},[l]),za(()=>{const c=r.current,u=a.current;if(u!==e){const m=o.current,f=jm(c);e?d("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),za(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const x=jm(r.current).includes(f.animationName);if(f.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=f=>{f.target===t&&(o.current=jm(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,s(c)},[])}}function jm(e){return(e==null?void 0:e.animationName)||"none"}function Tse(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Pse=ru[" useInsertionEffect ".trim().toString()]||za;function kse({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,o,i]=Ase({defaultProp:t,onChange:s}),l=e!==void 0,d=l?e:a;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const c=p.useCallback(u=>{var h;if(l){const m=Dse(u)?u(e):u;m!==e&&((h=i.current)==null||h.call(i,m))}else o(u)},[l,e,o,i]);return[d,c]}function Ase({defaultProp:e,onChange:t}){const[s,r]=p.useState(e),a=p.useRef(s),o=p.useRef(t);return Pse(()=>{o.current=t},[t]),p.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,r,o]}function Dse(e){return typeof e=="function"}var JI=Rw(),cv=function(){},_x=p.forwardRef(function(e,t){var s=p.useRef(null),r=p.useState({onScrollCapture:cv,onWheelCapture:cv,onTouchMoveCapture:cv}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,d=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,j=e.gapMode,N=tx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,E=Dw([s,t]),C=Dt(Dt({},N),a);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:JI,removeScrollBar:c,shards:h,noRelative:f,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:s,gapMode:j}),i?p.cloneElement(p.Children.only(l),Dt(Dt({},C),{ref:E})):p.createElement(g,Dt({},C,{className:d,ref:E}),l))});_x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_x.classNames={fullWidth:tl,zeroRight:el};var Rj=!1;if(typeof window<"u")try{var wm=Object.defineProperty({},"passive",{get:function(){return Rj=!0,!0}});window.addEventListener("test",wm,wm),window.removeEventListener("test",wm,wm)}catch{Rj=!1}var yi=Rj?{passive:!1}:!1,Rse=function(e){return e.tagName==="TEXTAREA"},QI=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Rse(e)&&s[t]==="visible")},Mse=function(e){return QI(e,"overflowY")},Fse=function(e){return QI(e,"overflowX")},T2=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=ZI(e,r);if(a){var o=eO(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},_se=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},Ise=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},ZI=function(e,t){return e==="v"?Mse(t):Fse(t)},eO=function(e,t){return e==="v"?_se(t):Ise(t)},Ose=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lse=function(e,t,s,r,a){var o=Ose(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,d=t.contains(l),c=!1,u=i>0,h=0,m=0;do{if(!l)break;var f=eO(e,l),y=f[0],x=f[1],w=f[2],v=x-w-o*y;(y||v)&&ZI(e,l)&&(h+=v,m+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(c=!0),c},Nm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P2=function(e){return[e.deltaX,e.deltaY]},k2=function(e){return e&&"current"in e?e.current:e},$se=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Vse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Use=0,ji=[];function Bse(e){var t=p.useRef([]),s=p.useRef([0,0]),r=p.useRef(),a=p.useState(Use++)[0],o=p.useState(sx)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Aw([e.lockRef.current],(e.shards||[]).map(k2),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=Nm(x),g=s.current,j="deltaX"in x?x.deltaX:g[0]-v[0],N="deltaY"in x?x.deltaY:g[1]-v[1],b,E=x.target,C=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&E.type==="range")return!1;var T=T2(C,E);if(!T)return!0;if(T?b=C:(b=C==="v"?"h":"v",T=T2(C,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(j||N)&&(r.current=b),!b)return!0;var F=r.current||b;return Lse(F,w,x,F==="h"?j:N,!0)},[]),d=p.useCallback(function(x){var w=x;if(!(!ji.length||ji[ji.length-1]!==o)){var v="deltaY"in w?P2(w):Nm(w),g=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&$se(b.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var j=(i.current.shards||[]).map(k2).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(x,w,v,g){var j={name:x,delta:w,target:v,should:g,shadowParent:Hse(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=p.useCallback(function(x){s.current=Nm(x),r.current=void 0},[]),h=p.useCallback(function(x){c(x.type,P2(x),x.target,l(x,e.lockRef.current))},[]),m=p.useCallback(function(x){c(x.type,Nm(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return ji.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,yi),document.addEventListener("touchmove",d,yi),document.addEventListener("touchstart",u,yi),function(){ji=ji.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,yi),document.removeEventListener("touchmove",d,yi),document.removeEventListener("touchstart",u,yi)}},[]);var f=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:Vse(a)}):null,f?p.createElement(Fw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hse(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zse=Mw(JI,Bse);var tO=p.forwardRef(function(e,t){return p.createElement(_x,Dt({},e,{ref:t,sideCar:zse}))});tO.classNames=_x.classNames;var Ix="Popover",[nO,zpe]=DI(Ix,[VI]),Bu=VI(),[qse,to]=nO(Ix),sO=e=>{const{__scopePopover:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Bu(t),d=p.useRef(null),[c,u]=p.useState(!1),[h,m]=kse({prop:r,defaultProp:a??!1,onChange:o,caller:Ix});return n.jsx(wse,{...l,children:n.jsx(qse,{scope:t,contentId:use(),triggerRef:d,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:i,children:s})})};sO.displayName=Ix;var rO="PopoverAnchor",Wse=p.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=to(rO,s),o=Bu(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(GI,{...o,...r,ref:t})});Wse.displayName=rO;var aO="PopoverTrigger",oO=p.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=to(aO,s),o=Bu(s),i=eo(t,a.triggerRef),l=n.jsx(ea.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":uO(a.open),...r,ref:i,onClick:Fa(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(GI,{asChild:!0,...o,children:l})});oO.displayName=aO;var LN="PopoverPortal",[Yse,Kse]=nO(LN,{forceMount:void 0}),iO=e=>{const{__scopePopover:t,forceMount:s,children:r,container:a}=e,o=to(LN,t);return n.jsx(Yse,{scope:t,forceMount:s,children:n.jsx(ON,{present:s||o.open,children:n.jsx(XI,{asChild:!0,container:a,children:r})})})};iO.displayName=LN;var Dl="PopoverContent",lO=p.forwardRef((e,t)=>{const s=Kse(Dl,e.__scopePopover),{forceMount:r=s.forceMount,...a}=e,o=to(Dl,e.__scopePopover);return n.jsx(ON,{present:r||o.open,children:o.modal?n.jsx(Xse,{...a,ref:t}):n.jsx(Jse,{...a,ref:t})})});lO.displayName=Dl;var Gse=RI("PopoverContent.RemoveScroll"),Xse=p.forwardRef((e,t)=>{const s=to(Dl,e.__scopePopover),r=p.useRef(null),a=eo(t,r),o=p.useRef(!1);return p.useEffect(()=>{const i=r.current;if(i)return gu(i)},[]),n.jsx(tO,{as:Gse,allowPinchZoom:!0,children:n.jsx(cO,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fa(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Fa(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,c=l.button===2||d;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Fa(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Jse=p.forwardRef((e,t)=>{const s=to(Dl,e.__scopePopover),r=p.useRef(!1),a=p.useRef(!1);return n.jsx(cO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=s.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),cO=p.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...h}=e,m=to(Dl,s),f=Bu(s);return tse(),n.jsx(II,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(FI,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(Nse,{"data-state":uO(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dO="PopoverClose",Qse=p.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=to(dO,s);return n.jsx(ea.button,{type:"button",...r,ref:t,onClick:Fa(e.onClick,()=>a.onOpenChange(!1))})});Qse.displayName=dO;var Zse="PopoverArrow",ere=p.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Bu(s);return n.jsx(bse,{...a,...r,ref:t})});ere.displayName=Zse;function uO(e){return e?"open":"closed"}var tre=sO,nre=oO,sre=iO,hO=lO;const Mj=tre,Fj=nre,df=p.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>n.jsx(sre,{children:n.jsx(hO,{ref:a,align:t,sideOffset:s,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));df.displayName=hO.displayName;function rre({options:e,value:t,onValueChange:s,placeholder:r="Select option...",searchPlaceholder:a="Search...",emptyMessage:o="No option found.",className:i}){const[l,d]=p.useState(!1),c=e.find(u=>u.value===t);return n.jsxs(Mj,{open:l,onOpenChange:d,children:[n.jsx(Fj,{asChild:!0,children:n.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":l,className:ce("w-full justify-between",i),children:[c?n.jsxs("div",{className:"flex items-center gap-2",children:[c.icon&&n.jsx(c.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"truncate",children:c.label}),c.category&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c.category,")"]})]}):r,n.jsx(cV,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(df,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:n.jsxs(SI,{children:[n.jsx(CI,{placeholder:a}),n.jsxs(EI,{children:[n.jsx(TI,{children:o}),n.jsx(PI,{children:e.map(u=>n.jsxs(kI,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{s==null||s(u.value),d(!1)},children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&n.jsx(u.icon,{className:"h-4 w-4 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:u.label}),u.category&&n.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&n.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),n.jsx(mu,{className:ce("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function are(e,t={}){const{minLength:s=8,requireUppercase:r=!1,requireLowercase:a=!1,requireNumbers:o=!1,requireSpecialChars:i=!1,allowEmpty:l=!0}=t,d=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<s&&d.push(`Password must be at least ${s} characters long`),r&&!/[A-Z]/.test(e)&&d.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&d.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(e)&&d.push("Password must contain at least one number"),i&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&d.push("Password must contain at least one special character"),{isValid:d.length===0,errors:d})}function ore(e){return are(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const _t=p.forwardRef(({name:e,label:t,placeholder:s,required:r,value:a,onValueChange:o,className:i,showConfirmation:l=!0,validator:d=ore},c)=>{const[u,h]=p.useState(a||""),[m,f]=p.useState(""),[y,x]=p.useState(!1),[w,v]=p.useState(!1),[g,j]=p.useState(!1),[N,b]=p.useState({isValid:!0,errors:[]});p.useEffect(()=>{a!==u&&h(a||"")},[a]);const E=u===m,C=g&&m.length>0&&!E,T=!N.isValid&&u.length>0,F=k=>{h(k),b(d(k)),o(k)},V=k=>{f(k),!g&&k.length>0&&j(!0)};return n.jsxs("div",{ref:c,className:ce("space-y-3",i),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:e,className:"flex items-center gap-1",children:[t,r&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(I,{id:e,type:y?"text":"password",placeholder:s,value:u,onChange:k=>F(k.target.value),className:ce("pr-10 transition-all duration-300 focus:scale-[1.01]",T&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>x(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:y?n.jsx(_y,{className:"h-4 w-4"}):n.jsx(Td,{className:"h-4 w-4"})})]})]}),T&&n.jsx("div",{className:"space-y-1",children:N.errors.map((k,M)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(gs,{className:"h-4 w-4"}),k]},M))}),N.isValid&&u.length>0&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(vt,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,r&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(I,{id:`${e}_confirm`,type:w?"text":"password",placeholder:`Confirm ${s||t.toLowerCase()}`,value:m,onChange:k=>V(k.target.value),className:ce("pr-10 transition-all duration-300 focus:scale-[1.01]",C&&"border-destructive focus-visible:ring-destructive")}),n.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:w?n.jsx(_y,{className:"h-4 w-4"}):n.jsx(Td,{className:"h-4 w-4"})})]})]}),C&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[n.jsx(gs,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});_t.displayName="PasswordConfirmation";const ire=({selectedJarId:e,onJarSelect:t,label:s="Select JAR File",placeholder:r="Choose a driver JAR file...",driverTypeFilter:a})=>{const o=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],i=a?o.filter(d=>d.driverType===a):o,l=o.find(d=>d.id===e);return n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm font-medium",children:s}),n.jsxs(te,{value:e,onValueChange:t,children:[n.jsx(Z,{className:"w-full",children:n.jsx(ne,{placeholder:r,children:l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pd,{className:"h-4 w-4"}),n.jsx("span",{children:l.name}),n.jsxs(le,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),n.jsxs(ee,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[i.map(d=>n.jsx(A,{value:d.id,children:n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(Pd,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:d.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:d.fileName})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(le,{variant:"secondary",className:"text-xs",children:["v",d.version]}),n.jsx(le,{variant:"outline",className:"text-xs",children:d.driverType})]})]})},d.id)),i.length===0&&n.jsxs(A,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},lre=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:s,loading:r}=Zr();return n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this adapter belongs to"})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(te,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=s.find(i=>i.id===a)||null;t(o)},disabled:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsx(ee,{children:s.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):s.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]})},cre=({mode:e,onConfigChange:t})=>{const[s,r]=p.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...s,...d};r(c),t==null||t(c)},o=()=>{const d=[...s.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const h=[...s.advancedEntries];h[d]={...h[d],[c]:u},a({advancedEntries:h})},l=d=>{if(s.advancedEntries.length>1){const c=s.advancedEntries.filter((u,h)=>h!==d);a({advancedEntries:c})}};return n.jsxs(J,{className:"w-full",children:[n.jsxs(oe,{children:[n.jsxs(ie,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your FTP ",e," adapter settings"]})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(ve,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:s.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:s.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(te,{value:s.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select sorting option"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(A,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(A,{value:"file-size",children:"File Size"}),n.jsx(A,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"advancedSelection",checked:s.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),s.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:s.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),s.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),s.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:s.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:s.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:s.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(te,{value:s.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection security"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(A,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(A,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:s.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:s.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(te,{value:s.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(ve,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:s.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:s.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:s.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:s.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:s.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionSecurity",children:"Connection Security *"}),n.jsxs(te,{value:s.connectionSecurity,onValueChange:d=>a({connectionSecurity:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection security"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"explicit-ftps",children:"Explicit FTPS"}),n.jsx(A,{value:"implicit-ftps",children:"Implicit FTPS"}),n.jsx(A,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:s.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:s.password,onValueChange:d=>a({password:d})})}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(te,{value:s.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(I,{id:"pollingInterval",value:s.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(te,{value:s.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select processing mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(te,{value:s.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty file handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"do-not-create",children:"Do not create message"}),n.jsx(A,{value:"process-empty",children:"Process empty files"}),n.jsx(A,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"createFileDirectory",checked:s.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"overwriteExistingFile",checked:s.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(te,{value:s.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file construction mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(te,{value:s.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file placement"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(te,{value:s.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty message handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:s.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"enableDuplicateHandling",checked:s.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),s.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(I,{id:"duplicateThreshold",value:s.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"disableChannelOnExceed",checked:s.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})},dre=({mode:e,onConfigChange:t})=>{const[s,r]=p.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:""}),a=c=>{const u={...s,...c};r(u),t==null||t(u)},o=()=>{const c=[...s.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,u,h)=>{const m=[...s.advancedEntries];m[c]={...m[c],[u]:h},a({advancedEntries:m})},l=c=>{if(s.advancedEntries.length>1){const u=s.advancedEntries.filter((h,m)=>m!==c);a({advancedEntries:u})}},d=()=>{switch(s.authenticationType){case"public-key":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(te,{value:s.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a key pair from system"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(A,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(A,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(A,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(A,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(A,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:s.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"username-password":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:s.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:s.password,onValueChange:c=>a({password:c})})})]});case"dual":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"userName",children:"User Name *"}),n.jsx(I,{id:"userName",value:s.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:s.password,onValueChange:c=>a({password:c})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),n.jsxs(te,{value:s.publicKey,onValueChange:c=>a({publicKey:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a key pair from system"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),n.jsx(A,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),n.jsx(A,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),n.jsx(A,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),n.jsx(A,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),n.jsx(A,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(_t,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:s.passphrase,onValueChange:c=>a({passphrase:c})})})]});case"dynamic":return n.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return n.jsxs(J,{className:"w-full",children:[n.jsxs(oe,{children:[n.jsxs(ie,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your SFTP ",e," adapter settings"]})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsxs(ve,{value:"source",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:s.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:s.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"advancedSelection",checked:s.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),s.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:s.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),s.advancedEntries.map((c,u)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:c.directory,onChange:h=>i(u,"directory",h.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:c.fileName,onChange:h=>i(u,"fileName",h.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:c.exclusionMask,onChange:h=>i(u,"exclusionMask",h.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),s.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:s.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:s.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:s.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(te,{value:s.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"public-key",children:"Public Key"}),n.jsx(A,{value:"username-password",children:"User Name/Password"}),n.jsx(A,{value:"dual",children:"Dual"}),n.jsx(A,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:s.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryConnection",children:"Retry Connection"}),n.jsx(I,{id:"retryConnection",value:s.retryConnection,onChange:c=>a({retryConnection:c.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),n.jsx(I,{id:"retryConnectionDelay",value:s.retryConnectionDelay,onChange:c=>a({retryConnectionDelay:c.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(te,{value:s.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&n.jsxs(ve,{value:"target",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:s.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:s.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serverAddress",children:"Server Address *"}),n.jsx(I,{id:"serverAddress",value:s.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",value:s.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout"}),n.jsx(I,{id:"timeout",value:s.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication *"}),n.jsxs(te,{value:s.authenticationType,onValueChange:c=>a({authenticationType:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"public-key",children:"Public Key"}),n.jsx(A,{value:"username-password",children:"User Name/Password"}),n.jsx(A,{value:"dual",children:"Dual"}),n.jsx(A,{value:"dynamic",children:"Dynamic"})]})]})]}),d(),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"connectionMode",children:"Connection Mode *"}),n.jsxs(te,{value:s.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"permanently",children:"Permanently"}),n.jsx(A,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),n.jsx(ve,{value:"processing",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),n.jsx(I,{id:"pollingInterval",value:s.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(te,{value:s.processingMode,onValueChange:c=>a({processingMode:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select processing mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"keep-file",children:"Keep File"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(te,{value:s.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty file handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"do-not-create-message",children:"Do not create message"}),n.jsx(A,{value:"process-empty-files",children:"Process empty files"}),n.jsx(A,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"enableDuplicateHandling",checked:s.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),s.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),n.jsx(I,{id:"duplicateMessageAlertThreshold",value:s.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"disableChannelOnExceed",checked:s.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"createFileDirectory",checked:s.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"overwriteExistingFile",checked:s.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(te,{value:s.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file construction mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(te,{value:s.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file placement"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(te,{value:s.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty message handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:s.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})})]})})]})},ure=({mode:e,onConfigChange:t})=>{const[s,r]=p.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:""}),a=d=>{const c={...s,...d};r(c),t==null||t(c)},o=()=>{const d=[...s.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,c,u)=>{const h=[...s.advancedEntries];h[d]={...h[d],[c]:u},a({advancedEntries:h})},l=d=>{if(s.advancedEntries.length>1){const c=s.advancedEntries.filter((u,h)=>h!==d);a({advancedEntries:c})}};return n.jsxs(J,{className:"w-full",children:[n.jsxs(oe,{children:[n.jsxs(ie,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),n.jsxs(ge,{children:["Configure your File ",e," adapter settings"]})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),e==="sender"&&n.jsx(ve,{value:"source",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sourceDirectory",children:"Source Directory *"}),n.jsx(I,{id:"sourceDirectory",value:s.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileName",children:"File Name *"}),n.jsx(I,{id:"fileName",value:s.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sorting",children:"Sorting"}),n.jsxs(te,{value:s.sorting,onValueChange:d=>a({sorting:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select sorting option"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"timestamp-ascending",children:"Timestamp Ascending"}),n.jsx(A,{value:"timestamp-descending",children:"Timestamp Descending"}),n.jsx(A,{value:"file-size",children:"File Size"}),n.jsx(A,{value:"file-name",children:"File Name"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"advancedSelection",checked:s.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),n.jsx(S,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),s.advancedSelection&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),n.jsx(I,{id:"exclusionMask",value:s.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(S,{className:"text-sm font-medium",children:"Multiple File Selection"}),n.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),s.advancedEntries.map((d,c)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Directory"}),n.jsx(I,{value:d.directory,onChange:u=>i(c,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"File Name"}),n.jsx(I,{value:d.fileName,onChange:u=>i(c,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{className:"text-xs",children:"Exclusion Mask"}),n.jsx(I,{value:d.exclusionMask,onChange:u=>i(c,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),s.advancedEntries.length>1&&n.jsx("button",{type:"button",onClick:()=>l(c),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},c))]})]})]})}),e==="receiver"&&n.jsx(ve,{value:"target",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetDirectory",children:"Target Directory *"}),n.jsx(I,{id:"targetDirectory",value:s.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetFileName",children:"File Name *"}),n.jsx(I,{id:"targetFileName",value:s.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]})}),n.jsxs(ve,{value:"processing",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),n.jsx(Oe,{className:"mb-4"})]}),e==="sender"?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),n.jsx(I,{id:"pollingInterval",value:s.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processingMode",children:"Processing Mode *"}),n.jsxs(te,{value:s.processingMode,onValueChange:d=>a({processingMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select processing mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"archive",children:"Archive"}),n.jsx(A,{value:"delete",children:"Delete"}),n.jsx(A,{value:"test",children:"Test"})]})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),n.jsxs(te,{value:s.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty file handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"do-not-create",children:"Do not create message"}),n.jsx(A,{value:"process-empty",children:"Process empty files"}),n.jsx(A,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"createFileDirectory",checked:s.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),n.jsx(S,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"overwriteExistingFile",checked:s.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),n.jsx(S,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),n.jsxs(te,{value:s.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file construction mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"create",children:"Create"}),n.jsx(A,{value:"append",children:"Append"}),n.jsx(A,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"filePlacement",children:"File Placement *"}),n.jsxs(te,{value:s.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select file placement"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"use-temporary-file",children:"Use Temporary File"}),n.jsx(A,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),n.jsxs(te,{value:s.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select empty message handling"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"write-out-empty-file",children:"Write Out Empty File"}),n.jsx(A,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),n.jsx(I,{id:"maxConcurrentConnections",value:s.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),n.jsx(Oe,{className:"mb-4"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"enableDuplicateHandling",checked:s.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),n.jsx(S,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),s.enableDuplicateHandling&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),n.jsx(I,{id:"duplicateThreshold",value:s.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"disableChannelOnExceed",checked:s.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),n.jsx(S,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]})]})})]})};function hre({configuration:e,onConfigurationChange:t}){const{businessComponents:s,loading:r}=Zr(),{structures:a}=tc(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"HTTP Sender Configuration"}),n.jsx(ge,{children:"Configure your HTTP sender adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsx(ve,{value:"source",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"endpointUrl",children:"Endpoint URL"}),n.jsx(I,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:c=>t("endpointUrl",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(te,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select HTTP method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"}),n.jsx(A,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(te,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select media type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),n.jsx(Ee,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:c=>t("sslConfig",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),n.jsx(I,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:c=>t("rateLimits",c.target.value)})]})]})}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(te,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select response format"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(te,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:r,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsx(ee,{className:"bg-background border z-50",children:s.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(te,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select request structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(te,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select response structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Ee,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"}),n.jsx(A,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:c=>t("basicPassword",c),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:c=>t("bearerToken",c),showConfirmation:!1})}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:c=>t("apiKeyValue",c),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jwtToken",children:"JWT Token"}),n.jsx(Ee,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:c=>t("jwtToken",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),n.jsxs(te,{value:e.jwtAlgorithm||"",onValueChange:c=>t("jwtAlgorithm",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select JWT algorithm"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"HS256",children:"HS256"}),n.jsx(A,{value:"HS384",children:"HS384"}),n.jsx(A,{value:"HS512",children:"HS512"}),n.jsx(A,{value:"RS256",children:"RS256"}),n.jsx(A,{value:"RS384",children:"RS384"}),n.jsx(A,{value:"RS512",children:"RS512"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Ee,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Ee,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}class mre{async getAllCertificates(t){const s=t?`?businessComponentId=${t}`:"";return Q.get(`/certificates${s}`)}async getCertificateById(t){return Q.get(`/certificates/${t}`)}async createCertificate(t){return Q.post("/certificates",t)}async updateCertificate(t,s){return Q.put(`/certificates/${t}`,s)}async deleteCertificate(t){return Q.delete(`/certificates/${t}`)}async uploadCertificate(t,s){const r=new FormData;return r.append("file",t),r.append("name",s.name),r.append("type",s.type),r.append("usage",s.usage),Q.post("/certificates/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadCertificate(t){const s=await fetch(`${Q.baseURL}/certificates/${t}/download`,{method:"GET",headers:Q.getAuthHeaders()});if(!s.ok)throw new Error("Failed to download certificate");return s.blob()}async getCertificatesByBusinessComponent(t){return Q.get(`/business-components/${t}/certificates`)}async validateCertificate(t){return Q.get(`/certificates/${t}/validate`)}async getExpiringCertificates(t=30){return Q.get(`/certificates/expiring?days=${t}`)}}const mO=new mre;function ze({className:e,...t}){return n.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",e),...t})}const $N=({id:e,label:t,value:s,onChange:r,businessComponentId:a,placeholder:o="Select certificate",required:i=!1})=>{const[l,d]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{(async()=>{try{u(!0);const f=await mO.getAllCertificates(a);f.success&&f.data?d(f.data):(console.error("Failed to fetch certificates:",f.error),d([]))}catch(f){console.error("Error fetching certificates:",f),d([]),tt.error("Failed to load certificates")}finally{u(!1)}})()},[a]);const h=l.filter(m=>m.status==="active");return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:e,className:"flex items-center gap-1",children:[t,i&&n.jsx("span",{className:"text-destructive",children:"*"})]}),c?n.jsx(ze,{className:"h-10 w-full"}):n.jsxs(te,{value:s,onValueChange:r,children:[n.jsx(Z,{id:e,children:n.jsx(ne,{placeholder:o})}),n.jsx(ee,{children:h.length===0?n.jsxs(A,{value:"",disabled:!0,children:["No certificates available ",a?"for this business component":""]}):h.map(m=>n.jsx(A,{value:m.id,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:m.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[m.type,"  ",m.issuer]})]})},m.id))})]})]})};function pre({configuration:e,onConfigurationChange:t,businessComponentId:s}){return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"HTTP Receiver Configuration"}),n.jsx(ge,{children:"Configure your HTTP receiver adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsx(ve,{value:"target",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(I,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:r=>t("targetEndpointUrl",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(te,{value:e.httpMethod||"",onValueChange:r=>t("httpMethod",r),children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select HTTP method"})}),n.jsxs(ee,{className:"bg-background border z-50",children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"}),n.jsx(A,{value:"HEAD",children:"HEAD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),n.jsx(I,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:r=>t("connectionTimeout",parseInt(r.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"readTimeout",children:"Read Timeout"}),n.jsx(I,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:r=>t("readTimeout",parseInt(r.target.value)||0)})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:r=>t("useProxy",r)}),n.jsx(S,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyServer",children:"Server"}),n.jsx(I,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:r=>t("proxyServer",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyPort",children:"Port"}),n.jsx(I,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:r=>t("proxyPort",parseInt(r.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyUsername",children:"User Name"}),n.jsx(I,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:r=>t("proxyUsername",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxyPassword",children:"Password"}),n.jsx(I,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:r=>t("proxyPassword",r.target.value)})]})]})]})]})}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:r=>t("processingMode",r?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:r=>t("responseTimeout",parseInt(r.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:r=>t("waitForResponse",r)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:r=>t("asyncCorrelationId",r.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:e.authenticationType||"",onValueChange:r=>t("authenticationType",r),children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select authentication method"})}),n.jsxs(ee,{className:"bg-background border z-50",children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic"}),n.jsx(A,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),n.jsx(A,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:r=>t("basicUsername",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:r=>t("basicPassword",r.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:r=>t("clientId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:r=>t("clientSecret",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:r=>t("tokenUrl",r.target.value)})]})]}),e.authenticationType==="client-certificate"&&n.jsx("div",{className:"space-y-4",children:n.jsx($N,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:r=>t("certificateId",r),businessComponentId:s,placeholder:"Select client certificate",required:!0})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestHeaders",children:"Request Headers"}),n.jsx(Ee,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:r=>t("requestHeaders",r.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsx(Ee,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:r=>t("requestPayloadFormat",r.target.value),className:"min-h-[80px]"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseHandling",children:"Response Handling"}),n.jsx(Ee,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:r=>t("responseHandling",r.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Ee,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:r=>t("retryPolicy",r.target.value),className:"min-h-[80px]"})]})]})]})]})})]})}const fre=["TCP/IP","Gateway"];function xre({configuration:e,onConfigurationChange:t}){return n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"IDOC Sender Configuration"}),n.jsx(ge,{children:"Configure your IDOC sender adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:s=>t("sapSystemId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:s=>t("sapClientNumber",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:s=>t("sapSystemNumber",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:s=>t("sapApplicationServerHost",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:s=>t("sapGatewayHost",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:s=>t("sapGatewayService",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:s=>t("portNumber",parseInt(s.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(te,{value:e.connectionType||"",onValueChange:s=>t("connectionType",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection type"})}),n.jsx(ee,{children:fre.map(s=>n.jsx(A,{value:s,children:s},s))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:s=>t("sapUser",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:s=>t("sapPassword",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:s=>t("rfcDestinationName",s.target.value)})]})})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(I,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:s=>t("idocPort",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:s=>t("listenerServiceName",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(I,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:s=>t("idocType",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageType",children:"Message Type"}),n.jsx(I,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:s=>t("messageType",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processCode",children:"Process Code"}),n.jsx(I,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:s=>t("processCode",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Ee,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:s=>t("sncSecuritySettings",s.target.value),rows:4})]})})]})]})]})})]})}const gre=["TCP/IP","Gateway"];function vre({configuration:e,onConfigurationChange:t}){return n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"IDOC Receiver Configuration"}),n.jsx(ge,{children:"Configure your IDOC receiver adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:s=>t("sapSystemId",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:s=>t("sapClientNumber",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:s=>t("sapSystemNumber",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:s=>t("sapApplicationServerHost",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:s=>t("sapGatewayHost",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:s=>t("sapGatewayService",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:s=>t("portNumber",parseInt(s.target.value)||0)})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(te,{value:e.connectionType||"",onValueChange:s=>t("connectionType",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection type"})}),n.jsx(ee,{children:gre.map(s=>n.jsx(A,{value:s,children:s},s))})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:s=>t("sapUser",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:s=>t("sapPassword",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:s=>t("rfcDestinationName",s.target.value)})]})})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocPort",children:"IDoc Port"}),n.jsx(I,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:s=>t("idocPort",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:s=>t("listenerServiceName",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"idocType",children:"IDoc Type"}),n.jsx(I,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:s=>t("idocType",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageType",children:"Message Type"}),n.jsx(I,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:s=>t("messageType",s.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"processCode",children:"Process Code"}),n.jsx(I,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:s=>t("processCode",s.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),n.jsx(Ee,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:s=>t("sncSecuritySettings",s.target.value),rows:4})]})})]})]})]})})]})}function yre({adapter:e,onUpdate:t}){const s=(r,a)=>{t({...e,configuration:{...e.configuration,[r]:a}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing Details"})]}),n.jsx(ve,{value:"source",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ie,{children:"Connection Details"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(I,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:r=>s("connectionFactoryClass",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(I,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:r=>s("queueClass",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(I,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:r=>s("queueManager",r.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(I,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:r=>s("host",r.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:r=>s("port",parseInt(r.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(I,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:r=>s("channel",r.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(I,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:r=>s("connectionFactory",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(te,{value:e.configuration.transportType||"CLIENT",onValueChange:r=>s("transportType",r),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select transport type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(A,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"User Name"}),n.jsx(I,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:r=>s("username",r.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:r=>s("password",r)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:r=>s("useSSL",r)}),n.jsx(S,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),n.jsx(I,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:r=>s("sslKeystore",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),n.jsx(I,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:r=>s("sslPassword",r.target.value)})]})]})]})]})}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ie,{children:"Processing Details"})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(I,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:r=>s("queueName",r.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(te,{value:e.configuration.destinationType||"",onValueChange:r=>s("destinationType",r),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select destination type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"Queue",children:"Queue"}),n.jsx(A,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(I,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:r=>s("messageSelector",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:r=>s("clientId",r.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(te,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:r=>s("ackMode",r),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select acknowledgement mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(A,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function jre({adapter:e,onUpdate:t,businessComponentId:s}){const r=(a,o)=>{t({...e,configuration:{...e.configuration,[a]:o}})};return n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing Details"})]}),n.jsx(ve,{value:"target",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ie,{children:"Connection Details"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),n.jsx(I,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>r("connectionFactoryClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueClass",children:"Queue class"}),n.jsx(I,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>r("queueClass",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueManager",children:"Queue Manager Name *"}),n.jsx(I,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>r("queueManager",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"host",children:"Host Name / IP *"}),n.jsx(I,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>r("host",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"port",children:"Port *"}),n.jsx(I,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>r("port",parseInt(a.target.value)),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"channel",children:"Channel Name *"}),n.jsx(I,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>r("channel",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),n.jsx(I,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>r("connectionFactory",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"transportType",children:"Transport Type *"}),n.jsxs(te,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>r("transportType",a),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select transport type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"CLIENT",children:"Remote TCP/IP"}),n.jsx(A,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"User Name"}),n.jsx(I,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>r("username",a.target.value)})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>r("password",a)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>r("useSSL",a)}),n.jsx(S,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&n.jsx("div",{className:"space-y-4",children:n.jsx($N,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>r("sslCertificateId",a),businessComponentId:s,placeholder:"Select SSL certificate",required:!0})})]})]})}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ie,{children:"Processing Details"})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queueName",children:"Queue Name *"}),n.jsx(I,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>r("queueName",a.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"destinationType",children:"JMS Destination Type *"}),n.jsxs(te,{value:e.configuration.destinationType||"",onValueChange:a=>r("destinationType",a),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select destination type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"Queue",children:"Queue"}),n.jsx(A,{value:"Topic",children:"Topic"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"messageSelector",children:"Message Selector"}),n.jsx(I,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>r("messageSelector",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>r("clientId",a.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),n.jsxs(te,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>r("ackMode",a),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select acknowledgement mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),n.jsx(A,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function wre({configuration:e,onConfigurationChange:t}){const{businessComponents:s,loading:r}=Zr(),{structures:a}=tc(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"REST Sender Configuration"}),n.jsx(ge,{children:"Configure your REST sender adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),n.jsx(I,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:c=>t("baseEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(I,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(te,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select HTTP method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(te,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select media type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(te,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select expected response type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/plain",children:"text/plain"}),n.jsx(A,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Ee,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:c=>t("asyncResponseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(te,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:c=>t("asyncResponseFormat",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select response format"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:c=>t("asyncCallbackUrl",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(I,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(I,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(te,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:r,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsx(ee,{className:"bg-background border z-50",children:s.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayload",children:"Request Payload"}),n.jsxs(te,{value:e.requestPayload||"",onValueChange:c=>t("requestPayload",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select request structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(te,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select response structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Headers"}),n.jsx(Ee,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Ee,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),n.jsx(I,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:c=>t("rateLimiting",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]})]})})]})}function Nre({configuration:e,onConfigurationChange:t}){const{businessComponents:s,loading:r}=Zr(),{structures:a}=tc(),[o,i]=p.useState(""),[l,d]=p.useState([]);return p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),p.useEffect(()=>{if(o){const c=a.filter(u=>u.usage==="source");d(c)}else d([])},[o,a]),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"REST Receiver Configuration"}),n.jsx(ge,{children:"Configure your REST receiver adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),n.jsx(I,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:c=>t("targetEndpointUrl",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"resourcePath",children:"Resource Path"}),n.jsx(I,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:c=>t("resourcePath",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsx(I,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:c=>t("apiVersion",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"httpMethod",children:"HTTP Method"}),n.jsxs(te,{value:e.httpMethod||"",onValueChange:c=>t("httpMethod",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select HTTP method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"POST",children:"POST"}),n.jsx(A,{value:"PUT",children:"PUT"}),n.jsx(A,{value:"GET",children:"GET"}),n.jsx(A,{value:"DELETE",children:"DELETE"}),n.jsx(A,{value:"PATCH",children:"PATCH"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentType",children:"Content-Type"}),n.jsxs(te,{value:e.contentType||"",onValueChange:c=>t("contentType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select media type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),n.jsx(A,{value:"text/plain",children:"text/plain"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"acceptType",children:"Accept"}),n.jsxs(te,{value:e.acceptType||"",onValueChange:c=>t("acceptType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select expected response type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"application/json",children:"application/json"}),n.jsx(A,{value:"application/xml",children:"application/xml"}),n.jsx(A,{value:"text/plain",children:"text/plain"}),n.jsx(A,{value:"text/html",children:"text/html"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryParameters",children:"Query Parameters"}),n.jsx(Ee,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:c=>t("queryParameters",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:c=>t("timeoutSettings",c.target.value)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"proxySettings",children:"Proxy Settings"}),n.jsx(Ee,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:c=>t("proxySettings",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:c=>t("processingMode",c?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:c=>t("responseTimeout",parseInt(c.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:c=>t("waitForResponse",c)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:c=>t("asyncCorrelationId",c.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:e.authenticationType||"",onValueChange:c=>t("authenticationType",c),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication method"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicUsername",children:"Username"}),n.jsx(I,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:c=>t("basicUsername",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"basicPassword",children:"Password"}),n.jsx(I,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:c=>t("basicPassword",c.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bearerToken",children:"Bearer Token"}),n.jsx(I,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:c=>t("bearerToken",c.target.value)})]}),e.authenticationType==="api-key"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyName",children:"API Key Name"}),n.jsx(I,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:c=>t("apiKeyName",c.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyValue",children:"API Key Value"}),n.jsx(I,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:c=>t("apiKeyValue",c.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(te,{value:o,onValueChange:c=>{i(c),t("businessComponentId",c)},disabled:r,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsx(ee,{className:"bg-background border z-50",children:s.map(c=>n.jsx(A,{value:c.id,children:c.name},c.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),n.jsxs(te,{value:e.requestPayloadFormat||"",onValueChange:c=>t("requestPayloadFormat",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select request structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseFormat",children:"Response Format"}),n.jsxs(te,{value:e.responseFormat||"",onValueChange:c=>t("responseFormat",c),disabled:!o||l.length===0,children:[n.jsx(Z,{className:"bg-background",children:n.jsx(ne,{placeholder:"Select response structure"})}),n.jsx(ee,{className:"bg-background border z-50",children:l.map(c=>n.jsxs(A,{value:c.id,children:[c.name," (",c.type,")"]},c.id))})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customHeaders",children:"Custom Headers"}),n.jsx(Ee,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:c=>t("customHeaders",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorHandling",children:"Error Handling"}),n.jsx(Ee,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:c=>t("errorHandling",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryPolicy",children:"Retry Policy"}),n.jsx(Ee,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:c=>t("retryPolicy",c.target.value),className:"min-h-[80px]"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]})]})})]})}function bre({configuration:e,onConfigurationChange:t}){var o;p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]);const s=i=>{t("authentication.type",i),t("authentication.credentials",{})},r=(i,l)=>{var c;const d={...((c=e.authentication)==null?void 0:c.credentials)||{}};d[i]=l,t("authentication.credentials",d)},a=()=>{var d,c;const i=(d=e.authentication)==null?void 0:d.type,l=((c=e.authentication)==null?void 0:c.credentials)||{};switch(i){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:l.username||"",onChange:u=>r("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>r("password",u),showConfirmation:!1})})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:l.username||"",onChange:u=>r("username",u.target.value),placeholder:"Enter username"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"auth-password",label:"Password",placeholder:"Enter password",value:l.password||"",onValueChange:u=>r("password",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(te,{value:l.passwordType||"digest",onValueChange:u=>r("passwordType",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select password type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"digest",children:"Password Digest"}),n.jsx(A,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(te,{value:l.securityPolicy||"",onValueChange:u=>r("securityPolicy",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select security policy"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"usernametoken",children:"Username Token Only"}),n.jsx(A,{value:"timestamp",children:"Timestamp"}),n.jsx(A,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(A,{value:"sign",children:"Digital Sign"}),n.jsx(A,{value:"encrypt",children:"Encrypt"}),n.jsx(A,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(te,{value:l.wsAddressing||"disabled",onValueChange:u=>r("wsAddressing",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select WS-Addressing"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"disabled",children:"Disabled"}),n.jsx(A,{value:"optional",children:"Optional"}),n.jsx(A,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(I,{id:"timestamp-ttl",type:"number",value:l.timestampTTL||"",onChange:u=>r("timestampTTL",u.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(te,{value:l.securityAlgorithm||"",onValueChange:u=>r("securityAlgorithm",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select algorithm"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"aes128",children:"AES-128"}),n.jsx(A,{value:"aes256",children:"AES-256"}),n.jsx(A,{value:"3des",children:"Triple DES"}),n.jsx(A,{value:"rsa15",children:"RSA 1.5"}),n.jsx(A,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"keystore-alias",children:"Private Key Alias"}),n.jsx(I,{id:"keystore-alias",value:l.keystoreAlias||"",onChange:u=>r("keystoreAlias",u.target.value),placeholder:"mykey"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"keystore-password",label:"Private Key Password",placeholder:"Enter private key password",value:l.keystorePassword||"",onValueChange:u=>r("keystorePassword",u),showConfirmation:!1})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"certificate-alias",children:"Certificate Alias"}),n.jsx(I,{id:"certificate-alias",value:l.certificateAlias||"",onChange:u=>r("certificateAlias",u.target.value),placeholder:"receiver-cert"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(te,{value:l.verifyServerCertificate||"true",onValueChange:u=>r("verifyServerCertificate",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select verification"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"true",children:"Yes"}),n.jsx(A,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Ee,{id:"custom-policy",value:l.customPolicy||"",onChange:u=>r("customPolicy",u.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(te,{value:l.securityTokenReference||"binarySecurityToken",onValueChange:u=>r("securityTokenReference",u),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select token reference"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(A,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(A,{value:"x509Data",children:"X509 Data"}),n.jsx(A,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(I,{id:"auth-client-id",value:l.clientId||"",onChange:u=>r("clientId",u.target.value),placeholder:"Enter client ID"})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_t,{name:"auth-client-secret",label:"Client Secret",placeholder:"Enter client secret",value:l.clientSecret||"",onValueChange:u=>r("clientSecret",u),showConfirmation:!1})})]});default:return null}};return n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"SOAP Sender Configuration"}),n.jsx(ge,{children:"Configure your SOAP sender adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"source",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"service-endpoint",children:"Service Endpoint URL"}),n.jsx(I,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:i=>t("serviceEndpointUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(I,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:i=>t("wsdlUrl",i.target.value),placeholder:"https://api.yourdomain.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(I,{id:"soap-action",value:e.soapAction||"",onChange:i=>t("soapAction",i.target.value),placeholder:"urn:getOrderDetails"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(te,{value:e.soapVersion||"",onValueChange:i=>t("soapVersion",i),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select SOAP version"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"1.1",children:"SOAP 1.1"}),n.jsx(A,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Ee,{id:"request-message",value:e.requestMessage||"",onChange:i=>t("requestMessage",i.target.value),placeholder:"XML schema / structure expected in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(te,{value:e.contentType||"",onValueChange:i=>t("contentType",i),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select content type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:i=>t("processingMode",i?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),n.jsx(I,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:i=>t("asyncResponseTimeout",parseInt(i.target.value)||3e4)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),n.jsxs(te,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:i=>t("asyncResponseFormat",i),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select response format"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"HTTP_202",children:"HTTP 202 Accepted"}),n.jsx(A,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),n.jsx(I,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:i=>t("asyncCallbackUrl",i.target.value)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(te,{value:((o=e.authentication)==null?void 0:o.type)||"none",onValueChange:s,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(A,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(te,{value:e.wsSecurityPolicyType||"",onValueChange:i=>t("wsSecurityPolicyType",i),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Define Parameter"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),a()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Ee,{id:"custom-headers",value:e.customHeaders||"",onChange:i=>t("customHeaders",i.target.value),placeholder:"Additional headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Ee,{id:"fault-handling",value:e.faultHandling||"",onChange:i=>t("faultHandling",i.target.value),placeholder:"Expected fault codes and handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Ee,{id:"response-message",value:e.responseMessage||"",onChange:i=>t("responseMessage",i.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Ee,{id:"error-handling",value:e.errorHandling||"",onChange:i=>t("errorHandling",i.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:i=>t("timeout",parseInt(i.target.value)||0),placeholder:"30"})]})]})]})]})]})})]})}function Sre({configuration:e,onConfigurationChange:t,businessComponentId:s}){var i;p.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]);const r=l=>{t("authentication.type",l),t("authentication.credentials",{})},a=(l,d)=>{var u;const c={...((u=e.authentication)==null?void 0:u.credentials)||{}};c[l]=d,t("authentication.credentials",c)},o=()=>{var c,u;const l=(c=e.authentication)==null?void 0:c.type,d=((u=e.authentication)==null?void 0:u.credentials)||{};switch(l){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:d.username||"",onChange:h=>a("username",h.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-password",children:"Password"}),n.jsx(I,{id:"auth-password",type:"password",value:d.password||"",onChange:h=>a("password",h.target.value),placeholder:"Enter password"})]})]});case"ws-security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-username",children:"Username"}),n.jsx(I,{id:"auth-username",value:d.username||"",onChange:h=>a("username",h.target.value),placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-password",children:"Password"}),n.jsx(I,{id:"auth-password",type:"password",value:d.password||"",onChange:h=>a("password",h.target.value),placeholder:"Enter password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password-type",children:"Password Type"}),n.jsxs(te,{value:d.passwordType||"digest",onValueChange:h=>a("passwordType",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select password type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"digest",children:"Password Digest"}),n.jsx(A,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-policy",children:"Security Policy"}),n.jsxs(te,{value:d.securityPolicy||"",onValueChange:h=>a("securityPolicy",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select security policy"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"usernametoken",children:"Username Token Only"}),n.jsx(A,{value:"timestamp",children:"Timestamp"}),n.jsx(A,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),n.jsx(A,{value:"sign",children:"Digital Sign"}),n.jsx(A,{value:"encrypt",children:"Encrypt"}),n.jsx(A,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-addressing",children:"WS-Addressing"}),n.jsxs(te,{value:d.wsAddressing||"disabled",onValueChange:h=>a("wsAddressing",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select WS-Addressing"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"disabled",children:"Disabled"}),n.jsx(A,{value:"optional",children:"Optional"}),n.jsx(A,{value:"required",children:"Required"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),n.jsx(I,{id:"timestamp-ttl",type:"number",value:d.timestampTTL||"",onChange:h=>a("timestampTTL",h.target.value),placeholder:"300"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-algorithm",children:"Security Algorithm"}),n.jsxs(te,{value:d.securityAlgorithm||"",onValueChange:h=>a("securityAlgorithm",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select algorithm"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"aes128",children:"AES-128"}),n.jsx(A,{value:"aes256",children:"AES-256"}),n.jsx(A,{value:"3des",children:"Triple DES"}),n.jsx(A,{value:"rsa15",children:"RSA 1.5"}),n.jsx(A,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx($N,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:h=>t("certificateId",h),businessComponentId:s,placeholder:"Select SOAP certificate",required:!0}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),n.jsxs(te,{value:e.verifyServerCertificate||"true",onValueChange:h=>t("verifyServerCertificate",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select verification"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"true",children:"Yes"}),n.jsx(A,{value:"false",children:"No"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-policy",children:"Custom Security Policy"}),n.jsx(Ee,{id:"custom-policy",value:d.customPolicy||"",onChange:h=>a("customPolicy",h.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"security-token-reference",children:"Security Token Reference"}),n.jsxs(te,{value:d.securityTokenReference||"binarySecurityToken",onValueChange:h=>a("securityTokenReference",h),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select token reference"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"binarySecurityToken",children:"Binary Security Token"}),n.jsx(A,{value:"keyIdentifier",children:"Key Identifier"}),n.jsx(A,{value:"x509Data",children:"X509 Data"}),n.jsx(A,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-id",children:"Client ID"}),n.jsx(I,{id:"auth-client-id",value:d.clientId||"",onChange:h=>a("clientId",h.target.value),placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-client-secret",children:"Client Secret"}),n.jsx(I,{id:"auth-client-secret",type:"password",value:d.clientSecret||"",onChange:h=>a("clientSecret",h.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"SOAP Receiver Configuration"}),n.jsx(ge,{children:"Configure your SOAP receiver adapter settings"})]}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"target",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),n.jsx(I,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:l=>t("targetEndpointUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"wsdl-url",children:"WSDL URL"}),n.jsx(I,{id:"wsdl-url",value:e.wsdlUrl||"",onChange:l=>t("wsdlUrl",l.target.value),placeholder:"https://api.thirdparty.com/soap/service?wsdl"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-action",children:"SOAP Action"}),n.jsx(I,{id:"soap-action",value:e.soapAction||"",onChange:l=>t("soapAction",l.target.value),placeholder:"urn:submitOrder"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"soap-version",children:"SOAP Version"}),n.jsxs(te,{value:e.soapVersion||"",onValueChange:l=>t("soapVersion",l),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select SOAP version"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"1.1",children:"SOAP 1.1"}),n.jsx(A,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Request Format"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"request-message",children:"Request Message"}),n.jsx(Ee,{id:"request-message",value:e.requestMessage||"",onChange:l=>t("requestMessage",l.target.value),placeholder:"XML schema / structure sent in SOAP request",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"content-type",children:"Content-Type"}),n.jsxs(te,{value:e.contentType||"",onValueChange:l=>t("contentType",l),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select content type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"text/xml",children:"text/xml"}),n.jsx(A,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),n.jsx(I,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:l=>t("connectionTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),n.jsx(I,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:l=>t("readTimeout",parseInt(l.target.value)||0),placeholder:"30"})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(S,{htmlFor:"proxy-settings",children:"Proxy Settings"}),n.jsx(I,{id:"proxy-settings",value:e.proxySettings||"",onChange:l=>t("proxySettings",l.target.value),placeholder:"Optional proxy hostname and port"})]})]})]})]}),n.jsxs(ve,{value:"processing",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),n.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(S,{htmlFor:"processingMode",className:"text-sm font-medium",children:"Asynchronous Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.processingMode==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),n.jsx(ke,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:l=>t("processingMode",l?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&n.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),n.jsx(I,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:l=>t("responseTimeout",parseInt(l.target.value)||3e4)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:l=>t("waitForResponse",l)}),n.jsx(S,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&n.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),n.jsx(I,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:l=>t("asyncCorrelationId",l.target.value)})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"auth-type",children:"Authentication Type"}),n.jsxs(te,{value:((i=e.authentication)==null?void 0:i.type)||"none",onValueChange:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select authentication type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"ws-security",children:"WS-Security UsernameToken"}),n.jsx(A,{value:"oauth",children:"OAuth"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),n.jsxs(te,{value:e.wsSecurityPolicyType||"",onValueChange:l=>t("wsSecurityPolicyType",l),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Define Parameter"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),o()]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Headers and Metadata"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),n.jsx(Ee,{id:"custom-headers",value:e.customHeaders||"",onChange:l=>t("customHeaders",l.target.value),placeholder:"Additional SOAP headers required by service (WS-Addressing, Custom headers)",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fault-handling",children:"SOAP Fault Handling"}),n.jsx(Ee,{id:"fault-handling",value:e.faultHandling||"",onChange:l=>t("faultHandling",l.target.value),placeholder:"Expected fault codes and fault handling logic",rows:3})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"response-message",children:"Response Message"}),n.jsx(Ee,{id:"response-message",value:e.responseMessage||"",onChange:l=>t("responseMessage",l.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"error-handling",children:"Error Handling"}),n.jsx(Ee,{id:"error-handling",value:e.errorHandling||"",onChange:l=>t("errorHandling",l.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retry-policy",children:"Retry Policy"}),n.jsx(Ee,{id:"retry-policy",value:e.retryPolicy||"",onChange:l=>t("retryPolicy",l.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]})]})]})})]})}const Cre=({configuration:e,onConfigurationChange:t})=>{var r;const s=()=>{var o,i,l,d,c,u,h,m,f,y,x,w,v,g,j,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Password"}),n.jsx(I,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",value:((h=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:h.clientId)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",value:((f=(m=e.authentication)==null?void 0:m.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",value:((x=(y=e.authentication)==null?void 0:y.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"scope",children:"Scope"}),n.jsx(I,{id:"scope",value:((v=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:v.scope)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKey",children:"API Key"}),n.jsx(I,{id:"apiKey",type:"password",value:((j=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:j.apiKey)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(I,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsx(ve,{value:"target",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(I,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(I,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Products, Orders"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(te,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select OData version"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"v2",children:"v2"}),n.jsx(A,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:((r=e.authentication)==null?void 0:r.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2",children:"OAuth2"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),s(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryOptions",children:"Query Options"}),n.jsx(Ee,{id:"queryOptions",value:e.queryOptions||"",onChange:a=>t("queryOptions",a.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Data Handling"}),n.jsx(ge,{children:"Configure data processing and validation"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map ProductID to id",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Ee,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},Ere=({configuration:e,onConfigurationChange:t})=>{var r;const s=()=>{var o,i,l,d,c,u,h,m,f,y,x,w,v,g,j,N,b;switch(((o=e.authentication)==null?void 0:o.type)||"none"){case"basic":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:((l=(i=e.authentication)==null?void 0:i.credentials)==null?void 0:l.username)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,username:E.target.value}})},placeholder:"Enter username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Password"}),n.jsx(I,{id:"password",type:"password",value:((c=(d=e.authentication)==null?void 0:d.credentials)==null?void 0:c.password)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,password:E.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientId",children:"Client ID"}),n.jsx(I,{id:"clientId",value:((h=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:h.clientId)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientId:E.target.value}})},placeholder:"Enter client ID"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"clientSecret",children:"Client Secret"}),n.jsx(I,{id:"clientSecret",type:"password",value:((f=(m=e.authentication)==null?void 0:m.credentials)==null?void 0:f.clientSecret)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,clientSecret:E.target.value}})},placeholder:"Enter client secret"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"tokenUrl",children:"Token URL"}),n.jsx(I,{id:"tokenUrl",value:((x=(y=e.authentication)==null?void 0:y.credentials)==null?void 0:x.tokenUrl)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,tokenUrl:E.target.value}})},placeholder:"https://oauth.example.com/token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"scope",children:"Scope"}),n.jsx(I,{id:"scope",value:((v=(w=e.authentication)==null?void 0:w.credentials)==null?void 0:v.scope)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,scope:E.target.value}})},placeholder:"read write"})]})]});case"api-key":return n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKey",children:"API Key"}),n.jsx(I,{id:"apiKey",type:"password",value:((j=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:j.apiKey)||"",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKey:E.target.value}})},placeholder:"Enter API key"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiKeyHeader",children:"API Key Header"}),n.jsx(I,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:E=>{var C;return t("authentication",{...e.authentication,credentials:{...(C=e.authentication)==null?void 0:C.credentials,apiKeyHeader:E.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsx(ve,{value:"source",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Service Connection"}),n.jsx(ge,{children:"Configure OData service connection parameters"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),n.jsx(I,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"entitySetName",children:"Entity Set Name"}),n.jsx(I,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Orders, Customers"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apiVersion",children:"API Version"}),n.jsxs(te,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select OData version"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"v2",children:"v2"}),n.jsx(A,{value:"v4",children:"v4"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"authenticationType",children:"Authentication Type"}),n.jsxs(te,{value:((r=e.authentication)==null?void 0:r.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"none",children:"None"}),n.jsx(A,{value:"basic",children:"Basic Auth"}),n.jsx(A,{value:"oauth2",children:"OAuth2"}),n.jsx(A,{value:"api-key",children:"API Key"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),s(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),n.jsx(I,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Data Preparation"}),n.jsx(ge,{children:"Configure data processing and validation before sending"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map OrderID to OrderId",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),n.jsx(Ee,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},Tre=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"target",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"target",children:"Target"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"target",className:"space-y-6",children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",value:e.sapSystemId||"",onChange:s=>t("sapSystemId",s.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:s=>t("sapClientNumber",s.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:s=>t("sapSystemNumber",s.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:s=>t("sapApplicationServerHost",s.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:s=>t("sapGatewayHost",s.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:s=>t("sapGatewayService",s.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:s=>t("portNumber",s.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(te,{value:e.connectionType||"",onValueChange:s=>t("connectionType",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"TCP",children:"TCP/IP"}),n.jsx(A,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",value:e.sapUser||"",onChange:s=>t("sapUser",s.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapPassword",children:"SAP Password"}),n.jsx(I,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:s=>t("sapPassword",s.target.value),placeholder:"secret"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:s=>t("rfcDestinationName",s.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),n.jsx(I,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:s=>t("listenerServiceName",s.target.value),placeholder:"RfcReceiverService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Data Handling"}),n.jsx(ge,{children:"Configuration for handling received RFC data"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:s=>t("dataMappingRules",s.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Ee,{id:"validationRules",value:e.validationRules||"",onChange:s=>t("validationRules",s.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),Pre=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"source",className:"space-y-6",children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"SAP System Identification"}),n.jsx(ge,{children:"SAP system connection details"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),n.jsx(I,{id:"sapSystemId",value:e.sapSystemId||"",onChange:s=>t("sapSystemId",s.target.value),placeholder:"PRD, DEV"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),n.jsx(I,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:s=>t("sapClientNumber",s.target.value),placeholder:"100"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),n.jsx(I,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:s=>t("sapSystemNumber",s.target.value),placeholder:"00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Connection Details"}),n.jsx(ge,{children:"SAP application server and gateway configuration"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),n.jsx(I,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:s=>t("sapApplicationServerHost",s.target.value),placeholder:"sapserver.example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),n.jsx(I,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:s=>t("sapGatewayHost",s.target.value),placeholder:"sapgw.example.com"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),n.jsx(I,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:s=>t("sapGatewayService",s.target.value),placeholder:"sapgw00"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"portNumber",children:"Port Number"}),n.jsx(I,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:s=>t("portNumber",s.target.value),placeholder:"3300"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionType",children:"Connection Type"}),n.jsxs(te,{value:e.connectionType||"",onValueChange:s=>t("connectionType",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select connection type"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"TCP",children:"TCP/IP"}),n.jsx(A,{value:"Gateway",children:"Gateway"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Authentication"}),n.jsx(ge,{children:"SAP user credentials"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sapUser",children:"SAP User"}),n.jsx(I,{id:"sapUser",value:e.sapUser||"",onChange:s=>t("sapUser",s.target.value),placeholder:"sapuser"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_t,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:s=>t("sapPassword",s),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"RFC Configuration"}),n.jsx(ge,{children:"RFC-specific settings"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),n.jsx(I,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:s=>t("rfcDestinationName",s.target.value),placeholder:"MIDDLEWARE_DEST"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"callerServiceName",children:"Caller Service Name"}),n.jsx(I,{id:"callerServiceName",value:e.callerServiceName||"",onChange:s=>t("callerServiceName",s.target.value),placeholder:"RfcSenderService"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Data Preparation"}),n.jsx(ge,{children:"Configuration for preparing data before sending to SAP"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),n.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:s=>t("dataMappingRules",s.target.value),placeholder:"Map OrderID to VBELN",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"validationRules",children:"Validation Rules"}),n.jsx(Ee,{id:"validationRules",value:e.validationRules||"",onChange:s=>t("validationRules",s.target.value),placeholder:"Mandatory fields, formats",rows:4}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),kre=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsxs(ve,{value:"source",className:"space-y-6",children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Mail Server Connection"}),n.jsx(ge,{children:"Configure connection to the incoming mail server"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailServerHost",children:"Mail Server Host"}),n.jsx(I,{id:"mailServerHost",value:e.mailServerHost||"",onChange:s=>t("mailServerHost",s.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailServerPort",children:"Mail Server Port"}),n.jsx(I,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:s=>t("mailServerPort",s.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailProtocol",children:"Protocol"}),n.jsxs(te,{value:e.mailProtocol||"",onValueChange:s=>t("mailProtocol",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select mail protocol"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"IMAP",children:"IMAP"}),n.jsx(A,{value:"POP3",children:"POP3"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailUsername",children:"Username"}),n.jsx(I,{id:"mailUsername",value:e.mailUsername||"",onChange:s=>t("mailUsername",s.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_t,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:s=>t("mailPassword",s),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:s=>t("useSSLTLS",s)}),n.jsx(S,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"folderName",children:"Folder Name"}),n.jsx(I,{id:"folderName",value:e.folderName||"INBOX",onChange:s=>t("folderName",s.target.value),placeholder:"INBOX"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),n.jsx(I,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:s=>t("pollingInterval",s.target.value),placeholder:"60000"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Message Filtering and Fetching"}),n.jsx(ge,{children:"Configure email search criteria and limits"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"searchCriteria",children:"Search Criteria"}),n.jsx(I,{id:"searchCriteria",value:e.searchCriteria||"",onChange:s=>t("searchCriteria",s.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxMessages",children:"Max Messages"}),n.jsx(I,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:s=>t("maxMessages",s.target.value),placeholder:"100"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Message Processing"}),n.jsx(ge,{children:"Configure how emails are processed after retrieval"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"contentHandling",children:"Content Handling"}),n.jsx(Ee,{id:"contentHandling",value:e.contentHandling||"",onChange:s=>t("contentHandling",s.target.value),placeholder:"Save attachments, parse body text",rows:3}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"mailEncoding",children:"Encoding"}),n.jsxs(te,{value:e.mailEncoding||"",onValueChange:s=>t("mailEncoding",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select encoding"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"UTF-8",children:"UTF-8"}),n.jsx(A,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(A,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:s=>t("deleteAfterFetch",s)}),n.jsx(S,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),Are=({configuration:e,onConfigurationChange:t})=>n.jsx("div",{className:"space-y-6",children:n.jsxs(et,{defaultValue:"source",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsx(je,{value:"source",children:"Source"}),n.jsx(je,{value:"processing",children:"Processing"})]}),n.jsx(ve,{value:"source",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"SMTP Server Connection"}),n.jsx(ge,{children:"Configure connection to the SMTP server for sending emails"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),n.jsx(I,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:s=>t("smtpServerHost",s.target.value),placeholder:"smtp.mailserver.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),n.jsx(I,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:s=>t("smtpServerPort",s.target.value),placeholder:"587 (TLS), 465 (SSL)"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[n.jsx(qe,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:s=>t("smtpUseSSLTLS",s)}),n.jsx(S,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpUsername",children:"Username"}),n.jsx(I,{id:"smtpUsername",value:e.smtpUsername||"",onChange:s=>t("smtpUsername",s.target.value),placeholder:"user@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_t,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:s=>t("smtpPassword",s),showConfirmation:!1}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),n.jsx(I,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:s=>t("connectionTimeout",s.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),n.jsx(I,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:s=>t("readTimeout",s.target.value),placeholder:"30000"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),n.jsx(ve,{value:"processing",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Message Preparation"}),n.jsx(ge,{children:"Configure email content and recipients"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"fromAddress",children:"From Address"}),n.jsx(I,{id:"fromAddress",value:e.fromAddress||"",onChange:s=>t("fromAddress",s.target.value),placeholder:"sender@example.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"toAddresses",children:"To Addresses"}),n.jsx(Ee,{id:"toAddresses",value:e.toAddresses||"",onChange:s=>t("toAddresses",s.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"ccAddresses",children:"CC Addresses"}),n.jsx(Ee,{id:"ccAddresses",value:e.ccAddresses||"",onChange:s=>t("ccAddresses",s.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"bccAddresses",children:"BCC Addresses"}),n.jsx(Ee,{id:"bccAddresses",value:e.bccAddresses||"",onChange:s=>t("bccAddresses",s.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailSubject",children:"Subject"}),n.jsx(I,{id:"emailSubject",value:e.emailSubject||"",onChange:s=>t("emailSubject",s.target.value),placeholder:"Order Confirmation"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailBody",children:"Body"}),n.jsx(Ee,{id:"emailBody",value:e.emailBody||"",onChange:s=>t("emailBody",s.target.value),placeholder:"Email content - plain text or HTML",rows:6}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailAttachments",children:"Attachments"}),n.jsx(Ee,{id:"emailAttachments",value:e.emailAttachments||"",onChange:s=>t("emailAttachments",s.target.value),placeholder:"PDF, images, etc.",rows:2}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailEncoding",children:"Encoding"}),n.jsxs(te,{value:e.emailEncoding||"",onValueChange:s=>t("emailEncoding",s),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select encoding"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"UTF-8",children:"UTF-8"}),n.jsx(A,{value:"ISO-8859-1",children:"ISO-8859-1"}),n.jsx(A,{value:"ASCII",children:"ASCII"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class Dre{async createAdapter(t){return Q.post("/adapters",t)}async getAdapters(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&s.append(a,o.toString())});const r=`/adapters${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async getAdapter(t){return Q.get(`/adapters/${t}`)}async updateAdapter(t,s){return Q.put(`/adapters/${t}`,s)}async deleteAdapter(t){return Q.delete(`/adapters/${t}`)}async cloneAdapter(t,s){return Q.post(`/adapters/${t}/clone`,{name:s})}}class Rre{async testAdapter(t,s){return Q.post(`/adapters/${t}/test`,{testData:s})}async testAdapterConfiguration(t,s){return Q.post("/adapters/test-config",{configuration:t,type:s})}async validateAdapterConfig(t,s){return Q.post("/adapters/validate-config",{type:t,configuration:s})}}class Mre{constructor(){Je(this,"websocket",null);Je(this,"reconnectAttempts",0);Je(this,"maxReconnectAttempts",5);Je(this,"reconnectInterval",3e3);Je(this,"logListeners",[]);Je(this,"statsListeners",[])}async getAdapterStats(t,s){const r=`/adapters/${t}/stats${s?`?timeRange=${s}`:""}`;return Q.get(r)}async getAdapterLogs(t,s){const r=new URLSearchParams;s&&Object.entries(s).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/adapters/${t}/logs${r.toString()?`?${r.toString()}`:""}`;return Q.get(a)}connectWebSocket(t){var r;if(((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN)return;const s=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(s),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=a=>{try{const o=JSON.parse(a.data);o.type==="new_log"?this.logListeners.forEach(i=>i(o.log)):o.type==="stats_update"&&this.statsListeners.forEach(i=>i(o.stats))}catch(o){console.error("Error parsing WebSocket message:",o)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=a=>{console.error("WebSocket error:",a)}}catch(a){console.error("Failed to create WebSocket connection:",a)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const s=this.logListeners.indexOf(t);s>-1&&this.logListeners.splice(s,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const s=this.statsListeners.indexOf(t);s>-1&&this.statsListeners.splice(s,1)}}sendCommand(t,s){var r;((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:s}))}}class Fre{async getAdapterTypes(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&s.append(a,o.toString())});const r=`/adapters/types${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async getAdapterType(t){return Q.get(`/adapters/types/${t}`)}async createAdapterType(t){return Q.post("/adapters/types",t)}async updateAdapterType(t,s){return Q.put(`/adapters/types/${t}`,s)}async deleteAdapterType(t){return Q.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,s){return Q.post(`/adapters/types/${t}/clone`,{name:s})}async getAdapterTypesByCategory(t){return Q.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,s){return Q.patch(`/adapters/types/${t}/status`,{isActive:s})}async validateAdapterTypeConfiguration(t,s){return Q.post("/adapters/types/validate",{configuration:t,category:s})}async searchAdapterTypes(t,s){const r=new URLSearchParams({q:t,...(s==null?void 0:s.category)&&{category:s.category},...(s==null?void 0:s.isActive)!==void 0&&{isActive:s.isActive.toString()},page:((s==null?void 0:s.page)||1).toString(),limit:((s==null?void 0:s.limit)||50).toString()});return Q.get(`/adapters/types/search?${r}`)}async getAdapterTypeUsage(t){return Q.get(`/adapters/types/${t}/usage`)}}class _re{constructor(){Je(this,"mockServers",new Map)}async validateAdapter(t){const s=Date.now(),r=[],a=[],o=[];try{const i=this.validateConfiguration(t);i.isValid||(r.push(...i.errors),a.push(...i.warnings)),await this.setupMockServers(t.adapterType);for(const d of t.testScenarios){const c=await this.runTestScenario(t,d);o.push(c),c.status==="failed"&&r.push(`Test '${d.name}' failed: ${c.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-s;return Dp({title:"Adapter Validation Complete",description:`${o.length} tests completed in ${l}ms`,variant:o.some(d=>d.status==="failed")?"destructive":"default"}),{isValid:r.length===0,errors:r,warnings:a,testResults:o}}catch(i){return r.push(`Validation failed: ${i instanceof Error?i.message:"Unknown error"}`),{isValid:!1,errors:r,warnings:a,testResults:o}}}validateConfiguration(t){const s=[],r=[],a=this.getRequiredFields(t.adapterType);for(const o of a)t.configuration[o]||s.push(`Required field '${o}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,s,r);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,s,r);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,s,r);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,s,r);break}return{isValid:s.length===0,errors:s,warnings:r}}validateHttpConfiguration(t,s,r){if(t.url)try{new URL(t.url)}catch{s.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&s.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&r.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,s,r){t.host||s.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&s.push("Invalid port number"),t.username||r.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,s,r){t.connectionUrl||s.push("JDBC connection URL is required"),t.driverClass||s.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&s.push("Invalid JDBC URL format")}validateSoapConfiguration(t,s,r){if(!t.wsdlUrl&&!t.endpointUrl&&s.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{s.push("Invalid WSDL URL format")}}async runTestScenario(t,s){const r=Date.now();try{switch(s.type){case"connection":return await this.testConnection(t,s);case"authentication":return await this.testAuthentication(t,s);case"data_transmission":return await this.testDataTransmission(t,s);case"error_handling":return await this.testErrorHandling(t,s);default:throw new Error(`Unknown test scenario type: ${s.type}`)}}catch(a){return{testName:s.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-r}}}async testConnection(t,s){const r=Date.now();await new Promise(i=>setTimeout(i,1e3));const a=this.mockServers.get(t.adapterType),o=(a==null?void 0:a.isRunning())??!0;return{testName:s.name,status:o?"passed":"failed",message:o?"Connection successful":"Connection failed",duration:Date.now()-r}}async testAuthentication(t,s){const r=Date.now();await new Promise(o=>setTimeout(o,800));const a=t.configuration.username&&t.configuration.password;return{testName:s.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-r}}async testDataTransmission(t,s){const r=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:s.name,status:"passed",message:"Data transmission successful",duration:Date.now()-r}}async testErrorHandling(t,s){const r=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:s.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-r}}async setupMockServers(t){const s=new Ire(t);await s.start(),this.mockServers.set(t,s)}async cleanupMockServers(t){const s=this.mockServers.get(t);s&&(await s.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class Ire{constructor(t){Je(this,"running",!1);this.adapterType=t}async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const pO=new _re;class Ore{constructor(){Je(this,"api");Je(this,"testing");Je(this,"monitoring");Je(this,"types");this.api=new Dre,this.testing=new Rre,this.monitoring=new Mre,this.types=new Fre}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return pO.validateAdapter(t)}}const fO=new Ore,Lre=({adapterType:e,configuration:t,children:s})=>{var x,w,v;const[r,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),[c,u]=p.useState(0),h=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],m=async()=>{if(!t||Object.keys(t).length===0){Dp({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}i(!0),u(0),d(null);try{const g={adapterType:e,configuration:t,testScenarios:h},j=setInterval(()=>{u(b=>Math.min(b+20,90))},500),N=await pO.validateAdapter(g);clearInterval(j),u(100),d(N)}catch(g){Dp({title:"Validation Failed",description:g instanceof Error?g.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),1e3)}},f=g=>{switch(g){case"passed":return n.jsx(vt,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(Gt,{className:"h-4 w-4 text-red-500"});case"warning":return n.jsx(ts,{className:"h-4 w-4 text-yellow-500"});default:return null}},y=g=>{const j={passed:"default",failed:"destructive",warning:"secondary"};return n.jsx(le,{variant:j[g]||"outline",children:g})};return n.jsxs(St,{open:r,onOpenChange:a,children:[n.jsx($o,{asChild:!0,children:s}),n.jsxs(ft,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(Ct,{children:n.jsxs(Et,{className:"flex items-center gap-2",children:[n.jsx(l1,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ie,{className:"text-lg",children:"Validation Controls"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),n.jsx(W,{onClick:m,disabled:o,className:"flex items-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx($t,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(l1,{className:"h-4 w-4"}),"Run Validation"]})})]}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Validation Progress"}),n.jsxs("span",{children:[c,"%"]})]}),n.jsx(Pu,{value:c,className:"h-2"})]})]})]}),l&&n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[l.isValid?n.jsx(vt,{className:"h-5 w-5 text-green-500"}):n.jsx(Gt,{className:"h-5 w-5 text-red-500"}),"Validation Results"]})}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"summary",className:"w-full",children:[n.jsxs(Xe,{children:[n.jsx(je,{value:"summary",children:"Summary"}),n.jsx(je,{value:"tests",children:"Test Results"}),n.jsx(je,{value:"errors",children:"Issues"})]}),n.jsxs(ve,{value:"summary",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(J,{children:n.jsxs(re,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center",children:((x=l.testResults)==null?void 0:x.filter(g=>g.status==="passed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),n.jsx(J,{children:n.jsxs(re,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-red-500",children:((w=l.testResults)==null?void 0:w.filter(g=>g.status==="failed").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),n.jsx(J,{children:n.jsxs(re,{className:"pt-6",children:[n.jsx("div",{className:"text-2xl font-bold text-center text-yellow-500",children:l.warnings.length}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),n.jsx(st,{children:n.jsx(rt,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),n.jsx(ve,{value:"tests",className:"space-y-4",children:(v=l.testResults)==null?void 0:v.map((g,j)=>n.jsx(J,{children:n.jsx(re,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[f(g.status),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:g.testName}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.message})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[y(g.status),g.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.duration,"ms"]})]})]})})},j))}),n.jsxs(ve,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-red-500",children:"Errors"}),l.errors.map((g,j)=>n.jsxs(st,{variant:"destructive",children:[n.jsx(Gt,{className:"h-4 w-4"}),n.jsx(rt,{children:g})]},j))]}),l.warnings.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-yellow-500",children:"Warnings"}),l.warnings.map((g,j)=>n.jsxs(st,{children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsx(rt,{children:g})]},j))]}),l.errors.length===0&&l.warnings.length===0&&n.jsxs(st,{children:[n.jsx(vt,{className:"h-4 w-4"}),n.jsx(rt,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},A2=[{id:"sms-gateway",name:"SMS Gateway",icon:SV,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:tn,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:Xk,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:kd,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:$a,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:rr,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:Ul,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:En,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:nd,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:mV,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:ln,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:oV,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:qk,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:La,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:pu,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],$re=()=>{ys();const{navigateBack:e}=Jl(),[t,s]=p.useState(null),[r,a]=p.useState(""),[o,i]=p.useState(""),[l,d]=p.useState("sender"),[c,u]=p.useState(""),[h,m]=p.useState(!0),[f,y]=p.useState({}),[x,w]=p.useState(!1),[v,g]=p.useState("idle"),[j,N]=p.useState(!1),{toast:b}=nt(),E=A2.find(k=>k.id===r),C=k=>{switch(k){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},T=(k,M)=>{y($=>({...$,[k]:M}))},F=async()=>{if(!r){b({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}w(!0),g("idle");try{await new Promise(M=>setTimeout(M,2e3)),Math.random()>.3?(g("success"),b({title:"Connection Successful",description:`Successfully connected to ${E==null?void 0:E.name}`,variant:"default"})):(g("error"),b({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{g("error"),b({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{w(!1)}},V=async()=>{if(!t){b({title:"Validation Error",description:"Please select a customer for this adapter",variant:"destructive"});return}if(!o||!r||!l){b({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}const M=((E==null?void 0:E.fields.filter(L=>!(!L.required||L.conditionalField==="receiver"&&l==="sender"||L.conditionalField==="sender"&&l==="receiver"||L.parentField&&L.parentValue&&f[L.parentField]!==L.parentValue)))||[]).filter(L=>!f[L.name]);if(M.length>0){b({title:"Missing Required Fields",description:`Please fill in: ${M.map(L=>L.label).join(", ")}`,variant:"destructive"});return}const $=l==="sender"?"SENDER":"RECEIVER",D=l==="sender"?"INBOUND":"OUTBOUND",P={name:o,type:r.toUpperCase(),mode:$,direction:D,description:c,active:h,businessComponentId:t.id,configJson:JSON.stringify(f)};try{const L=await fO.createAdapter(P);L.success?(b({title:"Adapter Saved Successfully",description:`Communication adapter "${o}" has been created`,variant:"default"}),setTimeout(()=>{e("/communication-adapters")},500)):b({title:"Save Failed",description:L.error||"Failed to save adapter configuration",variant:"destructive"})}catch(L){console.error("Error saving adapter:",L),b({title:"Save Error",description:"An error occurred while saving the adapter",variant:"destructive"})}};return n.jsx(gF,{children:n.jsxs(n.Fragment,{children:[j&&n.jsx(AN,{onClose:()=>N(!1)}),n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Zk,{className:"h-8 w-8"}),"Create Communication Adapter"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(lre,{selectedBusinessComponent:t,setSelectedBusinessComponent:s}),n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Adapter Details"}),n.jsx(ge,{children:"Basic information for your communication adapter"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterName",children:"Adapter Name *"}),n.jsx(I,{id:"adapterName",placeholder:"e.g., Production Email Server",value:o,onChange:k=>i(k.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:c,onChange:k=>u(k.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"isActive",checked:h,onCheckedChange:k=>m(k===!0)}),n.jsxs(S,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",n.jsx(le,{variant:h?"default":"secondary",className:"text-xs",children:h?"Active":"Inactive"})]})]})]})]}),n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Adapter Type Selection"}),n.jsx(ge,{children:"Choose the type of communication adapter to configure"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterType",children:"Adapter Type *"}),n.jsx(rre,{options:A2.map(k=>({value:k.id,label:k.name,icon:k.icon,category:k.category,description:k.description})),value:r,onValueChange:k=>{a(k),y({})},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),E&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(E.icon,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:E.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:E.category})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"adapterMode",children:"Adapter Mode *"}),n.jsxs(te,{value:l,onValueChange:k=>{d(k),y({})},children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:"Select adapter mode"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"sender",children:"Sender"}),n.jsx(A,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),E&&l&&n.jsx(n.Fragment,{children:r==="ftp"?n.jsx(cre,{mode:l,onConfigChange:y}):r==="sftp"?n.jsx(dre,{mode:l,onConfigChange:y}):r==="file"?n.jsx(ure,{mode:l,onConfigChange:y}):r==="http"&&l==="sender"?n.jsx(hre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="http"&&l==="receiver"?n.jsx(pre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="idoc"&&l==="sender"?n.jsx(xre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="idoc"&&l==="receiver"?n.jsx(vre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="jms"&&l==="sender"?n.jsx(yre,{adapter:{name:"",type:"jms",mode:"outbound",configuration:f,status:"inactive"},onUpdate:k=>y(k.configuration)}):r==="jms"&&l==="receiver"?n.jsx(jre,{adapter:{name:"",type:"jms",mode:"inbound",configuration:f,status:"inactive"},onUpdate:k=>y(k.configuration)}):r==="rest"&&l==="sender"?n.jsx(wre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="rest"&&l==="receiver"?n.jsx(Nre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="soap"&&l==="sender"?n.jsx(bre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="soap"&&l==="receiver"?n.jsx(Sre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="odata"&&l==="sender"?n.jsx(Ere,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="odata"&&l==="receiver"?n.jsx(Cre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="rfc"&&l==="sender"?n.jsx(Pre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="rfc"&&l==="receiver"?n.jsx(Tre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="mail"&&l==="sender"?n.jsx(Are,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):r==="mail"&&l==="receiver"?n.jsx(kre,{configuration:f,onConfigurationChange:(k,M)=>T(k,M)}):n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(oe,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(E.icon,{className:"h-5 w-5"}),E.name," Configuration"]}),n.jsx(ge,{children:"Configure the connection parameters and authentication"})]}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.fields.filter(k=>!(k.conditionalField==="receiver"&&l==="sender"||k.conditionalField==="sender"&&l==="receiver"||k.parentField&&k.parentValue&&f[k.parentField]!==k.parentValue)).map(k=>{var M;return n.jsx("div",{className:k.name==="url"||k.name==="webhookUrl"||k.name==="customHeaders"||k.type==="password"?"md:col-span-2":"",children:k.type==="jar-selector"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ire,{selectedJarId:f[k.name]||"",onJarSelect:$=>T(k.name,$),label:"",placeholder:`Choose ${k.label}`,driverTypeFilter:k.driverTypeFilter||void 0})]}):k.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(te,{value:f[k.name]||"",onValueChange:$=>T(k.name,$),children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:`Select ${k.label}`})}),n.jsx(ee,{className:"bg-card border-border shadow-lg z-50",children:(M=k.options)==null?void 0:M.map($=>n.jsx(A,{value:$,children:$},$))})]})]}):k.type==="textarea"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Ee,{id:k.name,placeholder:k.placeholder,value:f[k.name]||"",onChange:$=>T(k.name,$.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):k.type==="checkbox"?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{id:k.name,type:"checkbox",checked:f[k.name]==="true"||f[k.name]===!0||f[k.name]==="on",onChange:$=>T(k.name,$.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),n.jsx(S,{htmlFor:k.name,className:"text-sm font-normal",children:k.label})]}):k.type==="password"?n.jsx(_t,{name:k.name,label:k.label,placeholder:k.placeholder,required:k.required,value:f[k.name]||"",onValueChange:$=>T(k.name,$)}):n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(I,{id:k.name,type:k.type,placeholder:k.placeholder,value:f[k.name]||"",onChange:$=>T(k.name,$.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},k.name)}),f.authType&&f.authType!=="None"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Oe,{className:"my-4"}),n.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[f.authType," Configuration"]})]}),C(f.authType).map(k=>{var M;return n.jsx("div",{className:k.name.includes("Url")||k.name.includes("url")||k.type==="password"?"md:col-span-2":"",children:k.type==="select"?n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(te,{value:f[k.name]||"",onValueChange:$=>T(k.name,$),children:[n.jsx(Z,{className:"transition-all duration-300 hover:bg-accent/50",children:n.jsx(ne,{placeholder:`Select ${k.label}`})}),n.jsx(ee,{className:"bg-card border-border shadow-lg z-50",children:(M=k.options)==null?void 0:M.map($=>n.jsx(A,{value:$,children:$},$))})]})]}):k.type==="password"?n.jsx(_t,{name:k.name,label:k.label,placeholder:k.placeholder,required:k.required,value:f[k.name]||"",onValueChange:$=>T(k.name,$)}):n.jsxs(n.Fragment,{children:[n.jsxs(S,{htmlFor:k.name,className:"flex items-center gap-1",children:[k.label,k.required&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(I,{id:k.name,type:k.type,placeholder:k.placeholder,value:f[k.name]||"",onChange:$=>T(k.name,$.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},k.name)})]})]})})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Connection Testing"}),n.jsx(ge,{children:"Test your adapter configuration"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsx(W,{onClick:F,disabled:!r||x,className:"w-full bg-gradient-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:x?n.jsxs(n.Fragment,{children:[n.jsx(zm,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zm,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),r==="soap"&&n.jsxs(W,{onClick:()=>N(!0),className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[n.jsx(qk,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),v!=="idle"&&n.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${v==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[v==="success"?n.jsx(vt,{className:"h-4 w-4"}):n.jsx(gs,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:v==="success"?"Connection Successful":"Connection Failed"})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Lre,{adapterType:(E==null?void 0:E.id)||"",configuration:f,children:n.jsxs(W,{variant:"outline",className:"w-full",disabled:!E,children:[n.jsx(zm,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>e("/communication-adapters"),className:"flex-1",children:"Cancel"}),n.jsxs(W,{onClick:V,className:"flex-1 bg-gradient-primary hover:opacity-90 transition-all duration-300",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Save Adapter"]})]})]})]})]}),n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[n.jsx(oe,{children:n.jsx(ie,{children:"Configuration Summary"})}),n.jsx(re,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(le,{variant:"secondary",children:"Draft"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:(E==null?void 0:E.name)||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),n.jsx("span",{children:l||"Not selected"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"}),n.jsx("span",{children:(E==null?void 0:E.category)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),n.jsx(le,{variant:v==="success"?"default":v==="error"?"destructive":"secondary",children:v==="success"?"Verified":v==="error"?"Failed":"Not tested"})]})]})})]}),n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[n.jsx(oe,{children:n.jsx(ie,{children:"Security Notes"})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Kn,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(es,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Test connections before using in production"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(xl,{className:"h-4 w-4 mt-0.5 text-primary"}),n.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})})},Vre=({structureName:e,setStructureName:t,structureDescription:s,setStructureDescription:r})=>n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Create Data Structure"}),n.jsx(ge,{children:"Import existing schemas or create custom structures"})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"structureName",children:"Structure Name *"}),n.jsx(I,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:a=>t(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:s,onChange:a=>r(a.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]})]})})]}),Ure=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:s,loading:r}=Zr();return n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-5 w-5"}),"Business Component Selection"]}),n.jsx(ge,{children:"Select the business component this data structure belongs to"})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component *"}),n.jsxs(te,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=s.find(i=>i.id===a)||null;t(o)},disabled:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsx(ee,{children:s.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):s.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]})},Ox=({icon:e,title:t,description:s,acceptTypes:r,dragOver:a,onDrop:o,onDragOver:i,onDragLeave:l,onFileSelect:d,uploadId:c,buttonText:u})=>n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:o,onDragOver:i,onDragLeave:l,children:[n.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s}),n.jsx("input",{type:"file",accept:r,onChange:h=>{var m;return((m=h.target.files)==null?void 0:m[0])&&d(h.target.files[0])},className:"hidden",id:c}),n.jsxs(W,{variant:"outline",onClick:()=>{var h;return(h=document.getElementById(c))==null?void 0:h.click()},children:[n.jsx(Hl,{className:"h-4 w-4 mr-2"}),u]})]}),Bre=({jsonInput:e,setJsonInput:t,onResetAllFields:s})=>{const[r,a]=p.useState(!1),{toast:o}=nt(),i=c=>{const u=new FileReader;u.onload=h=>{var f;const m=(f=h.target)==null?void 0:f.result;try{const y=JSON.parse(m);t(JSON.stringify(y,null,2)),o({title:"JSON File Loaded",description:`Successfully loaded ${c.name}`})}catch{o({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},u.readAsText(c)},l=c=>{c.preventDefault(),a(!1);const u=Array.from(c.dataTransfer.files);u.length>0&&i(u[0])},d=()=>{s(),o({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(Ox,{icon:Vf,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:r,onDrop:l,onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onFileSelect:i,uploadId:"json-upload",buttonText:"Upload JSON File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"JSON Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),n.jsx(Ee,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:c=>t(c.target.value),className:"font-mono text-sm",rows:8})]})]})},VN=({type:e,namespaceConfig:t,setNamespaceConfig:s})=>{const r=e==="wsdl";return n.jsxs(J,{className:"p-4 bg-muted/30",children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(ut,{className:"h-4 w-4"}),r?"WSDL":"XML"," Namespace Configuration"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:r?"Service Namespace *":"Namespace URI *"}),n.jsx(I,{placeholder:r?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:a=>s({...t,uri:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:r?"Service Prefix":"Namespace Prefix"}),n.jsx(I,{placeholder:r?"svc":"ns1",value:t.prefix,onChange:a=>s({...t,prefix:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:"Target Namespace"}),n.jsx(I,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:a=>s({...t,targetNamespace:a.target.value}),className:"text-sm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-xs",children:r?"WSDL Location":"Schema Location"}),n.jsx(I,{placeholder:r?"http://example.com/service.wsdl":"http://example.com/schema.xsd",value:t.schemaLocation,onChange:a=>s({...t,schemaLocation:a.target.value}),className:"text-sm"})]})]})]})},Hre=({xsdInput:e,setXsdInput:t,namespaceConfig:s,setNamespaceConfig:r,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=nt(),d=h=>{const m=new FileReader;m.onload=f=>{var x;const y=(x=f.target)==null?void 0:x.result;t(y),l({title:"XSD File Loaded",description:`Successfully loaded ${h.name}`})},m.readAsText(h)},c=h=>{h.preventDefault(),i(!1);const m=Array.from(h.dataTransfer.files);m.length>0&&d(m[0])},u=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(VN,{type:"xml",namespaceConfig:s,setNamespaceConfig:r}),!e.trim()&&n.jsx(Ox,{icon:Ul,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:o,onDrop:c,onDragOver:h=>{h.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onFileSelect:d,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"XSD/SOAP Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),n.jsx(Ee,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:h=>t(h.target.value),className:"font-mono text-sm",rows:8})]})]})},zre=({wsdlInput:e,setWsdlInput:t,namespaceConfig:s,setNamespaceConfig:r,onWsdlAnalyzed:a,onResetAllFields:o})=>{const[i,l]=p.useState(!1),{toast:d}=nt(),c=f=>{const y=zW(f),x=qW(f);x&&r(x),a&&a(y,x)},u=f=>{const y=new FileReader;y.onload=x=>{var v;const w=(v=x.target)==null?void 0:v.result;t(w),c(w),d({title:"WSDL File Loaded",description:`Successfully loaded ${f.name}`})},y.readAsText(f)},h=f=>{f.preventDefault(),l(!1);const y=Array.from(f.dataTransfer.files);y.length>0&&u(y[0])},m=()=>{o(),d({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx(VN,{type:"wsdl",namespaceConfig:s,setNamespaceConfig:r}),!e.trim()&&n.jsx(Ox,{icon:Ul,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:i,onDrop:h,onDragOver:f=>{f.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onFileSelect:u,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{children:"WSDL Content"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),n.jsx(Ee,{placeholder:"Paste your WSDL definition here...",value:e,onChange:f=>{const y=f.target.value;t(y),y.trim()&&c(y)},className:"font-mono text-sm",rows:8})]})]})},qre=({edmxInput:e,setEdmxInput:t,namespaceConfig:s,setNamespaceConfig:r,onResetAllFields:a})=>{const[o,i]=p.useState(!1),{toast:l}=nt(),d=f=>{f.preventDefault(),i(!1);const y=f.dataTransfer.files;y[0]&&h(y[0])},c=f=>{f.preventDefault(),i(!0)},u=()=>{i(!1)},h=f=>{const y=new FileReader;y.onload=x=>{var v;const w=(v=x.target)==null?void 0:v.result;t(w),l({title:"EDMX File Loaded",description:`Successfully loaded ${f.name}`})},y.readAsText(f)},m=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[!e.trim()&&n.jsx(Ox,{icon:Ul,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:o,onDrop:d,onDragOver:c,onDragLeave:u,onFileSelect:h,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&n.jsxs(W,{variant:"outline",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),n.jsx(Ee,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:f=>t(f.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),n.jsx(VN,{type:"xml",namespaceConfig:s,setNamespaceConfig:r})]})},Wre=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],Yre=({field:e,canHaveChildren:t,isExpanded:s,onToggleExpanded:r,onUpdate:a,onRemove:o,depth:i})=>n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[n.jsx("div",{className:"col-span-1 flex items-center",children:t&&n.jsx(W,{onClick:r,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:s?n.jsx($s,{className:"h-3 w-3"}):n.jsx(Zn,{className:"h-3 w-3"})})}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Field Name"}),n.jsx(I,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(S,{className:"text-xs",children:"Type"}),n.jsxs(te,{value:e.type,onValueChange:l=>a({type:l}),children:[n.jsx(Z,{className:"text-sm",children:n.jsx(ne,{})}),n.jsx(ee,{children:Wre.map(l=>n.jsx(A,{value:l,children:l},l))})]})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Description"}),n.jsx(I,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),n.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),n.jsx("span",{children:"Required"})]})}),n.jsx("div",{className:"col-span-1",children:n.jsx(W,{onClick:o,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:n.jsx(Ja,{className:"h-3 w-3"})})})]}),Kre=({field:e,canHaveChildren:t,onUpdate:s,onAddChild:r})=>{var a;return n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[n.jsx("div",{className:"col-span-1"}),n.jsx("div",{className:"col-span-2",children:n.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:o=>s({isComplexType:o.target.checked}),className:"rounded"}),n.jsx("span",{children:"Complex Type"})]})}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(S,{className:"text-xs",children:"Min Occurs"}),n.jsx(I,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:o=>s({minOccurs:parseInt(o.target.value)||0}),className:"text-sm"})]}),n.jsxs("div",{className:"col-span-3",children:[n.jsx(S,{className:"text-xs",children:"Max Occurs"}),n.jsxs(te,{value:((a=e.maxOccurs)==null?void 0:a.toString())||"1",onValueChange:o=>s({maxOccurs:o==="unbounded"?"unbounded":parseInt(o)}),children:[n.jsx(Z,{className:"text-sm",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"1",children:"1"}),n.jsx(A,{value:"2",children:"2"}),n.jsx(A,{value:"5",children:"5"}),n.jsx(A,{value:"10",children:"10"}),n.jsx(A,{value:"unbounded",children:"Unbounded"})]})]})]}),n.jsx("div",{className:"col-span-3",children:t&&n.jsxs(W,{onClick:r,size:"sm",variant:"outline",className:"w-full hover-scale",children:[n.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]})},Gre=({field:e,canHaveChildren:t,isExpanded:s,hasChildren:r,depth:a,path:o,onUpdateChild:i,onRemoveChild:l,onAddGrandChild:d,FieldBuilderComponent:c})=>!t||!s||!r?null:n.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[n.jsx(S,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,h)=>n.jsx(c,{field:u,index:h,onUpdate:i,onRemove:l,onAddChild:d,depth:a+1,path:[...o,h]},h))]}),Xre=(e,t,s,r,a)=>{const o=p.useCallback(u=>{if(u.maxOccurs!==void 0){const h=u.maxOccurs;typeof h=="number"&&h>1||h==="unbounded"?u.type="array":h===1&&e.type==="array"&&(u.type="string")}s(t,u)},[t,s,e.type]),i=p.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&s(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,s,a]),l=p.useCallback(u=>{r(u)},[r]),d=p.useCallback((u,h)=>{s(u,h)},[s]),c=p.useCallback(u=>{a(u)},[a]);return{handleUpdate:o,handleAddChild:i,handleRemoveChild:l,handleUpdateChild:d,handleAddGrandChild:c}},xO=({field:e,index:t,onUpdate:s,onRemove:r,onAddChild:a,depth:o,path:i})=>{const[l,d]=he.useState(!0),c=e.children&&e.children.length>0,u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:h,handleAddChild:m,handleRemoveChild:f,handleUpdateChild:y,handleAddGrandChild:x}=Xre(e,i,s,r,a);return n.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${o>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Yre,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>d(!l),onUpdate:h,onRemove:()=>r(i),depth:o}),n.jsx(Kre,{field:e,canHaveChildren:u,onUpdate:h,onAddChild:m})]}),n.jsx(Gre,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:c,depth:o,path:i,onUpdateChild:y,onRemoveChild:f,onAddGrandChild:x,FieldBuilderComponent:xO})]})},Jre=(e,t)=>{const s=p.useCallback((i,l)=>{const d={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&i!==void 0){const c=[...e];c[l].children[i].children||(c[l].children[i].children=[]),c[l].children[i].children.push(d),t(c)}else if(i!==void 0){const c=[...e];c[i].children||(c[i].children=[]),c[i].children.push(d),t(c)}else t([...e,d])},[e,t]),r=p.useCallback((i,l)=>{console.log("updateFieldAtPath called:",{path:i,field:l});const d=[...e];let c=d;for(let h=0;h<i.length-1;h++){const m=i[h];c[m].children||(c[m].children=[]),c=c[m].children}const u=i[i.length-1];if(c[u]){if(l.maxOccurs!==void 0){const h=l.maxOccurs;typeof h=="number"&&h>1||h==="unbounded"?l.type="array":h===1&&c[u].type==="array"&&(l.type="string")}c[u]={...c[u],...l},console.log("Updated field at path:",i,c[u])}t(d)},[e,t]),a=p.useCallback(i=>{const l=[...e];if(i.length===1)t(l.filter((d,c)=>c!==i[0]));else{let d=l;for(let h=0;h<i.length-2;h++){const m=i[h];if(!d[m].children)return;d=d[m].children}const c=i[i.length-2],u=i[i.length-1];d[c]&&d[c].children&&(d[c].children=d[c].children.filter((h,m)=>m!==u)),t(l)}},[e,t]),o=p.useCallback(i=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},d=[...e];let c=d;for(let u=0;u<i.length;u++){const h=i[u];c[h].children||(c[h].children=[]),u===i.length-1?c[h].children.push(l):c=c[h].children}t(d)},[e,t]);return{addCustomField:s,updateFieldAtPath:r,removeFieldAtPath:a,addChildAtPath:o}},uf=e=>{const t={};return e.forEach(s=>{if(s.name){const r=s.type==="array"||typeof s.maxOccurs=="number"&&s.maxOccurs>1||s.maxOccurs==="unbounded";s.isComplexType||s.children&&s.children.length>0?r?t[s.name]=[uf(s.children)]:t[s.name]=uf(s.children):t[s.name]=s.type==="integer"?0:""}}),t},Qre=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const s=e[0],r={[s.name]:uf(s.children||[])};return JSON.stringify(r,null,2)}const t={root:uf(e)};return JSON.stringify(t,null,2)},Zre=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(s=>{var r;if(s.name)if(s.isComplexType||s.children&&s.children.length>0)t+=`
        <xs:element name="${s.name}">
          <xs:complexType>
            <xs:sequence>`,(r=s.children)==null||r.forEach(a=>{var o;if(a.name){const i=a.minOccurs||(a.required?1:0),l=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,d=`minOccurs="${i}" maxOccurs="${l}"`;a.isComplexType||a.children&&a.children.length>0?(t+=`
              <xs:element name="${a.name}">
                <xs:complexType>
                  <xs:sequence>`,(o=a.children)==null||o.forEach(c=>{if(c.name){const u=c.minOccurs||(c.required?1:0),h=c.maxOccurs==="unbounded"?"unbounded":c.maxOccurs||1,m=`minOccurs="${u}" maxOccurs="${h}"`;t+=`
                    <xs:element name="${c.name}" type="xs:${c.type==="array"?"string":c.type}" ${m}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${a.name}" type="xs:${a.type==="array"?"string":a.type}" ${d}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const a=s.minOccurs||(s.required?1:0),o=s.maxOccurs==="unbounded"?"unbounded":s.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;t+=`
        <xs:element name="${s.name}" type="xs:${s.type==="array"?"string":s.type}" ${i}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},eae=(e,t="        ")=>{var r;let s="";return(e.isComplexType||e.children&&e.children.length>0)&&(s+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,(r=e.children)==null||r.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)s+=`
${t}    <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;s+=`
${t}    <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),s+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),s},tae=(e,t="DataService",s="ProcessData")=>{if(e.length===0)return"";let r=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${s}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const d=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
            <xsd:element name="${a.name}" type="xsd:${d}" ${l}/>`}}}),r+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${s}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${s}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(r+=`
      
      ${eae(a)}`)}),r+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${s}RequestMessage">
    <part name="parameters" element="tns:${s}Request"/>
  </message>
  
  <message name="${s}ResponseMessage">
    <part name="parameters" element="tns:${s}Response"/>
  </message>
  
  <message name="${s}FaultMessage">
    <part name="fault" element="tns:${s}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${s}">
      <documentation>Process data operation</documentation>
      <input message="tns:${s}RequestMessage"/>
      <output message="tns:${s}ResponseMessage"/>
      <fault name="${s}Fault" message="tns:${s}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${s}">
      <soap:operation soapAction="http://example.com/service/${s}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${s}Fault">
        <soap:fault name="${s}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,r},nae=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return Qre(e);case"xml":case"xsd":return Zre(e);case"wsdl":return tae(e);default:return JSON.stringify(e,null,2)}},sae=({fields:e,schemaType:t})=>e.length===0?null:n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[n.jsxs(S,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),n.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:nae(e,t)})]}),rae=({customFields:e,setCustomFields:t,selectedStructureType:s,setSelectedStructureType:r,onResetAllFields:a})=>{const[o,i]=p.useState(""),{toast:l}=nt(),{addCustomField:d,updateFieldAtPath:c,removeFieldAtPath:u,addChildAtPath:h}=Jre(e,t),m=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"customStructureType",children:"Structure Type"}),n.jsxs(te,{value:o,onValueChange:i,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select structure type to build"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"json",children:"JSON Schema"}),n.jsx(A,{value:"xsd",children:"XSD Schema"}),n.jsx(A,{value:"xml",children:"XML Schema"}),n.jsx(A,{value:"wsdl",children:"WSDL Schema"})]})]})]}),o?e.length===0?n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(ln,{className:"h-12 w-12 mx-auto text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",o.toUpperCase()," Structure"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",o.toUpperCase()," data structure"]}),n.jsxs(W,{onClick:()=>d(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(S,{children:["Structure Definition (",o.toUpperCase(),")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:()=>d(),size:"sm",variant:"outline",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add Field"]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((f,y)=>n.jsx(xO,{field:f,index:y,onUpdate:c,onRemove:u,onAddChild:h,depth:0,path:[y]},y)),n.jsx(sae,{fields:e,schemaType:o})]}):n.jsxs("div",{className:"text-center py-8 space-y-4",children:[n.jsx(ln,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},aae=({customFields:e,setCustomFields:t,jsonInput:s,setJsonInput:r,xsdInput:a,setXsdInput:o,edmxInput:i,setEdmxInput:l,wsdlInput:d,setWsdlInput:c,selectedStructureType:u,setSelectedStructureType:h,namespaceConfig:m,setNamespaceConfig:f,onSave:y,onWsdlAnalyzed:x,onResetAllFields:w})=>n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Define Structure"}),n.jsx(ge,{children:"Choose your preferred method to define the data structure"})]}),n.jsxs(re,{children:[n.jsxs(et,{value:u,className:"w-full",onValueChange:v=>h(v),children:[n.jsxs(Xe,{className:"grid w-full grid-cols-5",children:[n.jsx(je,{value:"json",children:"JSON Schema"}),n.jsx(je,{value:"xsd",children:"XSD/XML"}),n.jsx(je,{value:"wsdl",children:"WSDL"}),n.jsx(je,{value:"edmx",children:"EDMX"}),n.jsx(je,{value:"custom",children:"Custom Builder"})]}),n.jsx(ve,{value:"json",children:n.jsx(Bre,{jsonInput:s,setJsonInput:r,onResetAllFields:w})}),n.jsx(ve,{value:"xsd",children:n.jsx(Hre,{xsdInput:a,setXsdInput:o,namespaceConfig:m,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(ve,{value:"wsdl",children:n.jsx(zre,{wsdlInput:d,setWsdlInput:c,namespaceConfig:m,setNamespaceConfig:f,onWsdlAnalyzed:x,onResetAllFields:w})}),n.jsx(ve,{value:"edmx",children:n.jsx(qre,{edmxInput:i,setEdmxInput:l,namespaceConfig:m,setNamespaceConfig:f,onResetAllFields:w})}),n.jsx(ve,{value:"custom",children:n.jsx(rae,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:h,onResetAllFields:w})})]}),n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs(W,{onClick:y,className:"w-full bg-gradient-primary hover:opacity-90",children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})})]})]}),oae=e=>{switch(e){case"json":return Vf;case"xsd":case"soap":case"wsdl":return Ul;case"custom":return ln;default:return tn}},iae=({structures:e,selectedStructure:t,onSelectStructure:s,onDuplicateStructure:r,onDeleteStructure:a})=>n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Structure Library"}),n.jsx(ge,{children:"Existing data structures"})]}),n.jsxs(re,{className:"space-y-3",children:[e.map(o=>{const i=oae(o.type);return n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-300 hover:shadow-soft ${(t==null?void 0:t.id)===o.id?"border-primary bg-primary/10":"border-border"}`,onClick:()=>s(o),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(i,{className:"h-5 w-5 mt-0.5 text-primary"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-sm",children:o.name}),n.jsx(le,{variant:"outline",className:"text-xs",children:o.type.toUpperCase()})]}),o.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(le,{variant:o.usage==="source"?"default":o.usage==="target"?"secondary":"outline",className:"text-xs",children:o.usage}),n.jsx("span",{className:"text-xs text-muted-foreground",children:o.createdAt})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(W,{onClick:l=>{l.stopPropagation(),r(o)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:n.jsx(Mp,{className:"h-3 w-3"})}),n.jsx(W,{onClick:l=>{l.stopPropagation(),a(o.id)},size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:n.jsx(Ja,{className:"h-3 w-3"})})]})]})},o.id)}),e.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(tn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No data structures created yet. Create your first data structure using the tabs above."})]})]})]}),gO=(e,t=0)=>e?n.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([s,r])=>n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-medium text-primary",children:s}),n.jsx("span",{className:"text-muted-foreground",children:": "}),typeof r=="string"?n.jsx(le,{variant:"outline",className:"text-xs",children:r}):n.jsx("div",{className:"mt-1",children:gO(r,t+1)})]},s)):n.jsx(le,{variant:"outline",className:"text-xs",children:String(e)})}):null,D2=({selectedStructure:e})=>n.jsxs(J,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[n.jsx(oe,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(Td,{className:"h-5 w-5"}),"Structure Preview"]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&n.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[n.jsx(S,{className:"text-xs font-medium",children:"Structure Definition"}),n.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:gO(e.structure)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Edit"]}),n.jsxs(W,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),lae=()=>{try{const{structures:e,selectedStructure:t,setSelectedStructure:s,saveStructure:r,deleteStructure:a,duplicateStructure:o,loading:i}=tc();console.log("DataStructures component rendering, structures:",(e==null?void 0:e.length)||0,"loading:",i);const{toast:l}=nt(),[d,c]=p.useState(""),[u,h]=p.useState(""),[m,f]=p.useState(null),[y,x]=p.useState([]),[w,v]=p.useState(""),[g,j]=p.useState(""),[N,b]=p.useState(""),[E,C]=p.useState(""),[T,F]=p.useState("json"),[V,k]=p.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),M=p.useMemo(()=>{if(!d)return null;let L={};return T==="json"&&w?L=EF(w):T==="wsdl"&&E?L=TF(E):T==="xsd"&&g?L={message:"XSD parsing not fully implemented yet"}:T==="edmx"&&N?L={message:"EDMX parsing not fully implemented yet"}:T==="custom"&&y.length>0&&(L=oN(y)),Object.keys(L).length===0?null:{id:"preview",name:d,type:T,description:u,structure:L,createdAt:new Date().toISOString().split("T")[0],usage:"source",namespace:(T==="xsd"||T==="wsdl"||T==="edmx")&&V.uri?V:void 0}},[d,u,T,w,g,N,E,y,V]),$=(L,O)=>{L&&!d&&c(L),O&&k(O)},D=async()=>{if(!m){l({title:"Validation Error",description:"Please select a business component",variant:"destructive"});return}await r(d,u,"source",w,g,N,E,y,T,V)&&(c(""),h(""),f(null),v(""),j(""),b(""),C(""),x([]),k({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}))},P=()=>{c(""),h(""),f(null),v(""),j(""),b(""),C(""),x([]),k({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),F("json")};return i?n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(nd,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"h-32 bg-muted rounded-lg"})})})})]}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"animate-slide-up",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(nd,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground",children:"Define and manage data structures for source and target messages"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Ure,{selectedBusinessComponent:m,setSelectedBusinessComponent:f}),n.jsx(Vre,{structureName:d,setStructureName:c,structureDescription:u,setStructureDescription:h}),n.jsx(aae,{customFields:y,setCustomFields:x,jsonInput:w,setJsonInput:v,xsdInput:g,setXsdInput:j,edmxInput:N,setEdmxInput:b,wsdlInput:E,setWsdlInput:C,selectedStructureType:T,setSelectedStructureType:F,namespaceConfig:V,setNamespaceConfig:k,onSave:D,onWsdlAnalyzed:$,onResetAllFields:P}),M&&n.jsx("div",{className:"animate-fade-in",children:n.jsx(D2,{selectedStructure:M})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(iae,{structures:e||[],selectedStructure:t,onSelectStructure:s,onDuplicateStructure:o,onDeleteStructure:a}),t&&n.jsx(D2,{selectedStructure:t})]})]})]})}catch(e){return console.error("Error rendering DataStructures component:",e),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center justify-center gap-3",children:[n.jsx(nd,{className:"h-8 w-8"}),"Data Structures"]}),n.jsx("p",{className:"text-muted-foreground mt-4",children:"There was an error loading the data structures page. Please check the browser console for details."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})})}};function ai({icon:e,title:t,description:s,action:r,className:a}){return n.jsxs(J,{className:ce("flex flex-col items-center justify-center p-8 text-center min-h-[200px]",a),children:[e&&n.jsx("div",{className:"mb-4 text-muted-foreground",children:e}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),s&&n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:s}),r&&n.jsx(W,{onClick:r.onClick,variant:"outline",children:r.label})]})}const cae=({action:e,children:t,fallback:s,showMessage:r=!0})=>{const{permissions:a,environmentInfo:o}=ju();return he.useMemo(()=>{switch(e){case"flow.create":return(a==null?void 0:a.canCreateFlows)??!1;case"adapter.create":return(a==null?void 0:a.canCreateAdapters)??!1;case"adapter.updateConfig":return(a==null?void 0:a.canModifyAdapterConfig)??!0;case"flow.import":return(a==null?void 0:a.canImportFlows)??!0;case"flow.deploy":return(a==null?void 0:a.canDeployFlows)??!0;case"businessComponent.create":return(a==null?void 0:a.canCreateBusinessComponents)??!1;case"dataStructure.create":return(a==null?void 0:a.canCreateDataStructures)??!1;case"admin.access":return(a==null?void 0:a.isAdmin)??!1;default:return!0}},[a,e])?n.jsx(n.Fragment,{children:t}):s?n.jsx(n.Fragment,{children:s}):r?n.jsxs(st,{variant:"destructive",children:[n.jsx(kd,{className:"h-4 w-4"}),n.jsxs(rt,{children:["This action is not available in ",(o==null?void 0:o.displayName)||"this"," environment.",(o==null?void 0:o.type)!=="DEVELOPMENT"&&n.jsx("span",{className:"block mt-1 text-sm",children:"Only available in development environment."})]})]}):null},dae=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,h]=p.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:m}=nt(),{permissions:f}=ju();p.useEffect(()=>{y()},[]);const y=async()=>{const N=await ba.getAllBusinessComponents();N.success&&N.data?t(N.data):m({title:"Error",description:N.error||"Failed to load businessComponents",variant:"destructive"}),r(!1)},x=async()=>{if(!u.name.trim()){m({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await ba.createBusinessComponent(u);N.success&&N.data?(t(b=>[...b,N.data]),o(!1),h({name:"",description:"",contactEmail:"",contactPhone:""}),m({title:"Success",description:"BusinessComponent created successfully"})):m({title:"Error",description:N.error||"Failed to create businessComponent",variant:"destructive"})},w=async()=>{if(!d||!u.name.trim()){m({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await ba.updateBusinessComponent({id:d.id,...u});N.success&&N.data?(t(b=>b.map(E=>E.id===d.id?N.data:E)),l(!1),c(null),h({name:"",description:"",contactEmail:"",contactPhone:""}),m({title:"Success",description:"BusinessComponent updated successfully"})):m({title:"Error",description:N.error||"Failed to update businessComponent",variant:"destructive"})},v=async N=>{const b=await ba.deleteBusinessComponent(N.id);b.success?(t(E=>E.filter(C=>C.id!==N.id)),m({title:"Success",description:"BusinessComponent deleted successfully"})):m({title:"Error",description:b.error||"Failed to delete businessComponent",variant:"destructive"})},g=N=>{c(N),h({name:N.name,description:N.description||"",contactEmail:N.contactEmail||"",contactPhone:N.contactPhone||""}),l(!0)},j=()=>{h({name:"",description:"",contactEmail:"",contactPhone:""}),c(null)};return s?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>n.jsx("div",{className:"h-48 bg-muted rounded"},N))})]})}):n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Fy,{className:"h-8 w-8"}),"BusinessComponent Management"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),n.jsx(cae,{action:"businessComponent.create",showMessage:!1,children:n.jsxs(St,{open:a,onOpenChange:o,children:[n.jsx($o,{asChild:!0,children:n.jsxs(W,{onClick:()=>j(),children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),n.jsxs(ft,{children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Create New BusinessComponent"}),n.jsx(fr,{children:"Add a new businessComponent to your system"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"name",children:"BusinessComponent Name *"}),n.jsx(I,{id:"name",value:u.name,onChange:N=>h({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",value:u.description,onChange:N=>h({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"email",children:"Contact Email"}),n.jsx(I,{id:"email",type:"email",value:u.contactEmail,onChange:N=>h({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"phone",children:"Contact Phone"}),n.jsx(I,{id:"phone",value:u.contactPhone,onChange:N=>h({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsx(W,{onClick:x,children:"Create BusinessComponent"})]})]})]})]})})]}),e.length===0?n.jsx(ai,{icon:n.jsx(Fy,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:f!=null&&f.canCreateBusinessComponents?{label:"Add BusinessComponent",onClick:()=>o(!0)}:void 0}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&Array.isArray(e)&&e.map(N=>n.jsxs(J,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(oe,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ie,{className:"text-lg",children:N.name}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>g(N),children:n.jsx(Bl,{className:"h-4 w-4"})}),n.jsxs(ix,{children:[n.jsx(o7,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(Ja,{className:"h-4 w-4"})})}),n.jsxs(wu,{children:[n.jsxs(Nu,{children:[n.jsx(Su,{children:"Delete BusinessComponent"}),n.jsxs(Cu,{children:['Are you sure you want to delete "',N.name,'"? This action cannot be undone.']})]}),n.jsxs(bu,{children:[n.jsx(Tu,{children:"Cancel"}),n.jsx(Eu,{onClick:()=>v(N),children:"Delete"})]})]})]})]})]}),N.description&&n.jsx(ge,{children:N.description})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2",children:[N.contactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(pu,{className:"h-4 w-4"}),N.contactEmail]}),N.contactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(NV,{className:"h-4 w-4"}),N.contactPhone]}),n.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(N.createdAt).toLocaleDateString()]})]})})]},N.id))}),n.jsx(St,{open:i,onOpenChange:l,children:n.jsxs(ft,{children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Edit BusinessComponent"}),n.jsx(fr,{children:"Update businessComponent information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),n.jsx(I,{id:"edit-name",value:u.name,onChange:N=>h({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-description",children:"Description"}),n.jsx(Ee,{id:"edit-description",value:u.description,onChange:N=>h({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-email",children:"Contact Email"}),n.jsx(I,{id:"edit-email",type:"email",value:u.contactEmail,onChange:N=>h({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"edit-phone",children:"Contact Phone"}),n.jsx(I,{id:"edit-phone",value:u.contactPhone,onChange:N=>h({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(W,{onClick:w,children:"Update BusinessComponent"})]})]})]})})]})};class uae{constructor(){Je(this,"websocket",null);Je(this,"reconnectAttempts",0);Je(this,"maxReconnectAttempts",5);Je(this,"reconnectInterval",3e3);Je(this,"messageListeners",[]);Je(this,"statsListeners",[])}async getMessages(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?s.append(a,o.join(",")):s.append(a,o.toString()))});const r=`/api/messages${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async getMessage(t){return Q.get(`/api/messages/${t}`)}async getMessageStats(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?s.append(a,o.join(",")):s.append(a,o.toString()))});const r=`/api/messages/stats${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async reprocessMessage(t){return Q.post(`/api/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,s){const r=new URLSearchParams;s&&Object.entries(s).forEach(([o,i])=>{i!==void 0&&(Array.isArray(i)?r.append(o,i.join(",")):r.append(o,i.toString()))});const a=`/api/business-components/${t}/messages${r.toString()?`?${r.toString()}`:""}`;return Q.get(a)}connectWebSocket(t){var d;if(((d=this.websocket)==null?void 0:d.readyState)===WebSocket.OPEN)return;const s=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,a=window.location.port||"8080",o=`${s}//${r}:${a}`,i=t?`?businessComponentId=${t}`:"",l=`${o}/ws/messages${i}`;try{this.websocket=new WebSocket(l),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=c=>{try{const u=JSON.parse(c.data);u.type==="message_update"?this.messageListeners.forEach(h=>h(u.message)):u.type==="stats_update"&&this.statsListeners.forEach(h=>h(u.stats))}catch(u){console.error("Error parsing WebSocket message:",u)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=c=>{console.error("WebSocket error:",c)}}catch(c){console.error("Failed to create WebSocket connection:",c)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const s=this.messageListeners.indexOf(t);s>-1&&this.messageListeners.splice(s,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const s=this.statsListeners.indexOf(t);s>-1&&this.statsListeners.splice(s,1)}}sendCommand(t,s){var r;((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:s}))}}const Zs=new uae,hae=e=>{const[t,s]=p.useState([]),[r,a]=p.useState(null),[o,i]=p.useState(!0),[l,d]=p.useState(!1),{toast:c}=nt(),u=p.useCallback(async w=>{i(!0);try{const v=e?await Zs.getBusinessComponentMessages(e,w):await Zs.getMessages(w);v.success&&v.data?s(v.data.messages||[]):s([])}catch{c({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},[e,c]),h=p.useCallback(async w=>{try{const v=await Zs.getMessageStats(w);v.success&&v.data&&a(v.data)}catch(v){console.error("Failed to load message stats:",v)}},[]);p.useEffect(()=>{Zs.connectWebSocket(e),d(!0);const w=Zs.onMessageUpdate(g=>{s(j=>{const N=j.findIndex(b=>b.id===g.id);if(N>=0){const b=[...j];return b[N]=g,b}else return[g,...j]}),g.status==="failed"&&c({title:"Message Failed",description:`Message ${g.id} failed processing`,variant:"destructive"})}),v=Zs.onStatsUpdate(g=>{a(g)});return u(),h(),()=>{w(),v(),Zs.disconnectWebSocket(),d(!1)}},[e,u,h,c]);const m=p.useCallback(async w=>{try{const v=await Zs.reprocessMessage(w);if(v.success)c({title:"Success",description:"Message queued for reprocessing"});else throw new Error(v.error||"Failed to reprocess message")}catch{c({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[c]),f=p.useCallback(w=>{u(w),h(w)},[u,h]),y=p.useCallback(w=>{Zs.sendCommand("subscribe",{messageType:w})},[]),x=p.useCallback(w=>{Zs.sendCommand("unsubscribe",{messageType:w})},[]);return{messages:t,stats:r,loading:o,connected:l,loadMessages:u,loadStats:h,reprocessMessage:m,refreshData:f,subscribeToMessageType:y,unsubscribeFromMessageType:x}},mae=({messages:e,stats:t,isBusinessComponentSelected:s,onStatusFilter:r,statusFilter:a,loading:o=!1})=>{const i=e||[],l=(t==null?void 0:t.successful)??i.filter(x=>x.status==="success").length,d=(t==null?void 0:t.processing)??i.filter(x=>x.status==="processing").length,c=(t==null?void 0:t.failed)??i.filter(x=>x.status==="failed").length,u=(t==null?void 0:t.total)??i.length,h=(t==null?void 0:t.successRate)??(u>0?l/u*100:0),m=(t==null?void 0:t.avgProcessingTime)??(()=>{const x=i.filter(w=>w.status!=="processing"&&w.processingTime!=="-");return x.length>0?Math.round(x.reduce((w,v)=>{const g=parseFloat(v.processingTime.replace(/[^\d.]/g,""));return w+(isNaN(g)?0:g)},0)/x.length):0})(),f=()=>s?`of ${u} business component messages`:"across all messages",y=x=>{r&&r(x)};return o?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((x,w)=>n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ze,{className:"h-4 w-32"})}),n.jsxs(re,{children:[n.jsx(ze,{className:"h-8 w-16 mb-2"}),n.jsx(ze,{className:"h-3 w-24"})]})]},w))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(J,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>y("success"),children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold text-success",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(J,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>y("processing"),children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold text-warning",children:d}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(J,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>y("failed"),children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold text-destructive",children:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(J,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),n.jsxs(re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-success",children:[h.toFixed(1),"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]}),n.jsxs(J,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[n.jsx(oe,{className:"pb-2",children:n.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),n.jsxs(re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-info",children:[m,"ms"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f()})]})]})]})},pae=(e,t)=>{if(!e||!Array.isArray(e))return[];const s=new Date,r=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(t){case"today":return e.filter(l=>new Date(l.timestamp)>=r);case"yesterday":const a=new Date(r.getTime()-24*60*60*1e3);return e.filter(l=>{const d=new Date(l.timestamp);return d>=a&&d<r});case"last-7-days":const o=new Date(s.getTime()-7*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=o);case"last-30-days":const i=new Date(s.getTime()-30*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=i);case"all":default:return e}},fae=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,xae=({value:e,onValueChange:t})=>n.jsxs(te,{value:e,onValueChange:t,children:[n.jsx(Z,{className:"w-48",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"today",children:"Today"}),n.jsx(A,{value:"today-00",children:"Today 00:00 - 00:59"}),n.jsx(A,{value:"today-01",children:"Today 01:00 - 01:59"}),n.jsx(A,{value:"today-02",children:"Today 02:00 - 02:59"}),n.jsx(A,{value:"today-03",children:"Today 03:00 - 03:59"}),n.jsx(A,{value:"today-04",children:"Today 04:00 - 04:59"}),n.jsx(A,{value:"today-05",children:"Today 05:00 - 05:59"}),n.jsx(A,{value:"today-06",children:"Today 06:00 - 06:59"}),n.jsx(A,{value:"today-07",children:"Today 07:00 - 07:59"}),n.jsx(A,{value:"today-08",children:"Today 08:00 - 08:59"}),n.jsx(A,{value:"today-09",children:"Today 09:00 - 09:59"}),n.jsx(A,{value:"today-10",children:"Today 10:00 - 10:59"}),n.jsx(A,{value:"today-11",children:"Today 11:00 - 11:59"}),n.jsx(A,{value:"today-12",children:"Today 12:00 - 12:59"}),n.jsx(A,{value:"today-13",children:"Today 13:00 - 13:59"}),n.jsx(A,{value:"today-14",children:"Today 14:00 - 14:59"}),n.jsx(A,{value:"today-15",children:"Today 15:00 - 15:59"}),n.jsx(A,{value:"today-16",children:"Today 16:00 - 16:59"}),n.jsx(A,{value:"today-17",children:"Today 17:00 - 17:59"}),n.jsx(A,{value:"today-18",children:"Today 18:00 - 18:59"}),n.jsx(A,{value:"today-19",children:"Today 19:00 - 19:59"}),n.jsx(A,{value:"today-20",children:"Today 20:00 - 20:59"}),n.jsx(A,{value:"today-21",children:"Today 21:00 - 21:59"}),n.jsx(A,{value:"today-22",children:"Today 22:00 - 22:59"}),n.jsx(A,{value:"today-23",children:"Today 23:00 - 23:59"}),n.jsx(A,{value:"yesterday",children:"Yesterday"}),n.jsx(A,{value:"last-7-days",children:"Past 7 Days"}),n.jsx(A,{value:"last-30-days",children:"Past 30 Days"}),n.jsx(A,{value:"all",children:"All Messages"})]})]});var UN="Collapsible",[gae,qpe]=as(UN),[vae,BN]=gae(UN),vO=p.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[d=!1,c]=Ls({prop:r,defaultProp:a,onChange:i});return n.jsx(vae,{scope:s,disabled:o,contentId:Is(),open:d,onOpenToggle:p.useCallback(()=>c(u=>!u),[c]),children:n.jsx(Ce.div,{"data-state":zN(d),"data-disabled":o?"":void 0,...l,ref:t})})});vO.displayName=UN;var yO="CollapsibleTrigger",jO=p.forwardRef((e,t)=>{const{__scopeCollapsible:s,...r}=e,a=BN(yO,s);return n.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":zN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:me(e.onClick,a.onOpenToggle)})});jO.displayName=yO;var HN="CollapsibleContent",wO=p.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=BN(HN,e.__scopeCollapsible);return n.jsx(Qt,{present:s||a.open,children:({present:o})=>n.jsx(yae,{...r,ref:t,present:o})})});wO.displayName=HN;var yae=p.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:r,children:a,...o}=e,i=BN(HN,s),[l,d]=p.useState(r),c=p.useRef(null),u=Ae(t,c),h=p.useRef(0),m=h.current,f=p.useRef(0),y=f.current,x=i.open||l,w=p.useRef(x),v=p.useRef();return p.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Wt(()=>{const g=c.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const j=g.getBoundingClientRect();h.current=j.height,f.current=j.width,w.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),d(r)}},[i.open,r]),n.jsx(Ce.div,{"data-state":zN(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&a})});function zN(e){return e?"open":"closed"}var jae=vO;const zc=jae,_j=jO,Ij=wO,wae=e=>{switch(e){case"success":return n.jsx(vt,{className:"h-4 w-4 text-success"});case"failed":return n.jsx(Gt,{className:"h-4 w-4 text-destructive"});case"processing":return n.jsx(vs,{className:"h-4 w-4 text-warning animate-spin"});default:return n.jsx(es,{className:"h-4 w-4 text-muted-foreground"})}},Nae=e=>{switch(e.toUpperCase()){case"SUCCESS":return n.jsx(vt,{className:"h-3 w-3 text-success"});case"ERROR":return n.jsx(Gt,{className:"h-3 w-3 text-destructive"});case"WARN":return n.jsx(ts,{className:"h-3 w-3 text-warning"});default:return n.jsx(es,{className:"h-3 w-3 text-info"})}},bae=({message:e})=>{const[t,s]=p.useState(!1);return n.jsx(J,{className:"bg-gradient-secondary border-border/50 hover-scale",children:n.jsxs(zc,{open:t,onOpenChange:s,children:[n.jsx(_j,{asChild:!0,children:n.jsx(W,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:n.jsx(oe,{className:"w-full",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[wae(e.status),n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-foreground",children:e.id}),n.jsx(le,{variant:"outline",className:"text-xs",children:e.type})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source,"  ",e.target]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-right",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:e.timestamp}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime,"  ",e.size]})]}),t?n.jsx($s,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),n.jsx(Ij,{children:n.jsx(re,{className:"pt-0",children:n.jsxs("div",{className:"border-t border-border/50 pt-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"Processing Logs"]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs.map((r,a)=>n.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[Nae(r.level),n.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:r.timestamp.split(" ")[1]}),n.jsx("span",{className:"text-foreground",children:r.message})]},a))})]})})})]})})},Sae=({messages:e,isBusinessComponentSelected:t,statusFilter:s,loading:r=!1})=>{const[a,o]=p.useState("today");let i=pae(e||[],a);return s&&(i=i.filter(l=>l.status===s)),i.sort((l,d)=>new Date(d.timestamp).getTime()-new Date(l.timestamp).getTime()),n.jsxs("div",{className:"space-y-4",children:[n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsxs(oe,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(tn,{className:"h-5 w-5"}),"Message History"]}),n.jsx(xae,{value:a,onValueChange:o})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:fae(a,i.length)})]})}),n.jsx("div",{className:"space-y-3",children:r?Array.from({length:5}).map((l,d)=>n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ze,{className:"h-6 w-6 rounded-full"}),n.jsxs("div",{children:[n.jsx(ze,{className:"h-4 w-32 mb-2"}),n.jsx(ze,{className:"h-3 w-48"})]})]}),n.jsxs("div",{children:[n.jsx(ze,{className:"h-3 w-24 mb-1"}),n.jsx(ze,{className:"h-3 w-16"})]})]})})},d)):i.length===0?n.jsx(ai,{icon:n.jsx(ln,{className:"h-12 w-12"}),title:"No Messages Found",description:s?`No ${s} messages found for the selected time period.`:"No messages found for the selected time period."}):i.map(l=>n.jsx(bae,{message:l},l.id))})]})},Cae=({selectedBusinessComponent:e,businessComponents:t,loading:s,onBusinessComponentChange:r})=>n.jsxs(J,{className:"animate-scale-in",children:[n.jsxs(oe,{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-5 w-5"}),"Business Component Filter"]}),n.jsx(ge,{children:"Filter channels by business component"})]}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"businessComponent",children:"Business Component"}),n.jsxs(te,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const o=t.find(i=>i.id===a)||null;r(o)},disabled:s,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a business component to filter channels"})}),n.jsx(ee,{children:t.map(a=>n.jsx(A,{value:a.id,children:a.name},a.id))})]})]})})]}),Eae=()=>{const[e,t]=p.useState(null),[s,r]=p.useState(null),{businessComponents:a,loading:o}=Zr(),{messages:i,stats:l,loading:d,connected:c,refreshData:u}=hae(e==null?void 0:e.id),h=s?i.filter(x=>x.status===s):i,m=()=>{u()},f=x=>{r(s===x?null:x)},y=x=>{t(x),r(null)};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(En,{className:"h-8 w-8"}),"Message Monitor"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("p",{className:"text-muted-foreground",children:"Track and analyze integration message flows"}),n.jsxs(le,{variant:c?"default":"destructive",className:"flex items-center gap-1",children:[c?n.jsx(kV,{className:"h-3 w-3"}):n.jsx(PV,{className:"h-3 w-3"}),c?"Live":"Disconnected"]})]})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:m,className:"hover-scale",disabled:d,children:[n.jsx(qt,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]})]}),n.jsx(mae,{messages:h,stats:l,isBusinessComponentSelected:!!e,onStatusFilter:f,statusFilter:s,loading:d}),n.jsx(Cae,{selectedBusinessComponent:e,businessComponents:a,loading:o,onBusinessComponentChange:y}),n.jsx(Sae,{messages:h,isBusinessComponentSelected:!!e,statusFilter:s,loading:d})]})};function Re(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function In(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xn(e,t){const s=Re(e);return isNaN(t)?In(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Hs(e,t){const s=Re(e);if(isNaN(t))return In(e,NaN);if(!t)return s;const r=s.getDate(),a=In(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}const qN=6048e5,Tae=864e5,bm=43200,R2=1440;let Pae={};function sc(){return Pae}function gr(e,t){var l,d,c,u;const s=sc(),r=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Re(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ko(e){return gr(e,{weekStartsOn:1})}function NO(e){const t=Re(e),s=t.getFullYear(),r=In(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=Ko(r),o=In(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const i=Ko(o);return t.getTime()>=a.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function Rl(e){const t=Re(e);return t.setHours(0,0,0,0),t}function Ml(e){const t=Re(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function or(e,t){const s=Rl(e),r=Rl(t),a=+s-Ml(s),o=+r-Ml(r);return Math.round((a-o)/Tae)}function kae(e){const t=NO(e),s=In(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Ko(s)}function Oj(e,t){const s=t*7;return xn(e,s)}function Aae(e,t){return Hs(e,t*12)}function Dae(e){let t;return e.forEach(function(s){const r=Re(s);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Rae(e){let t;return e.forEach(s=>{const r=Re(s);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function tp(e,t){const s=Re(e),r=Re(t),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Mae(e){return In(e,Date.now())}function Pn(e,t){const s=Rl(e),r=Rl(t);return+s==+r}function WN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fae(e){if(!WN(e)&&typeof e!="number")return!1;const t=Re(e);return!isNaN(Number(t))}function Fl(e,t){const s=Re(e),r=Re(t),a=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return a*12+o}function _ae(e,t,s){const r=gr(e,s),a=gr(t,s),o=+r-Ml(r),i=+a-Ml(a);return Math.round((o-i)/qN)}function Iae(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Oae(e,t){return+Re(e)-+Re(t)}function Lae(e){const t=Re(e);return t.setHours(23,59,59,999),t}function Lx(e){const t=Re(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function $ae(e){const t=Re(e);return+Lae(t)==+Lx(t)}function Vae(e,t){const s=Re(e),r=Re(t),a=tp(s,r),o=Math.abs(Fl(s,r));let i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=tp(s,r)===-a;$ae(Re(e))&&o===1&&tp(e,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function Uae(e,t,s){const r=Oae(e,t)/1e3;return Iae(s==null?void 0:s.roundingMethod)(r)}function _n(e){const t=Re(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bO(e){const t=Re(e),s=In(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function YN(e,t){var l,d,c,u;const s=sc(),r=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Re(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function SO(e){return YN(e,{weekStartsOn:1})}const Bae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hae=(e,t,s)=>{let r;const a=Bae[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function dv(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const zae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yae={date:dv({formats:zae,defaultWidth:"full"}),time:dv({formats:qae,defaultWidth:"full"}),dateTime:dv({formats:Wae,defaultWidth:"full"})},Kae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gae=(e,t,s,r)=>Kae[e];function Dc(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const Xae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},toe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},noe=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},soe={ordinalNumber:noe,era:Dc({values:Xae,defaultWidth:"wide"}),quarter:Dc({values:Jae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dc({values:Qae,defaultWidth:"wide"}),day:Dc({values:Zae,defaultWidth:"wide"}),dayPeriod:Dc({values:eoe,defaultWidth:"wide",formattingValues:toe,defaultFormattingWidth:"wide"})};function Rc(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?aoe(l,h=>h.test(i)):roe(l,h=>h.test(i));let c;c=e.valueCallback?e.valueCallback(d):d,c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}function roe(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function aoe(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function ooe(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const ioe=/^(\d+)(th|st|nd|rd)?/i,loe=/\d+/i,coe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},doe={any:[/^b/i,/^(a|c)/i]},uoe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hoe={any:[/1/i,/2/i,/3/i,/4/i]},moe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},poe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},foe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},goe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},voe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yoe={ordinalNumber:ooe({matchPattern:ioe,parsePattern:loe,valueCallback:e=>parseInt(e,10)}),era:Rc({matchPatterns:coe,defaultMatchWidth:"wide",parsePatterns:doe,defaultParseWidth:"any"}),quarter:Rc({matchPatterns:uoe,defaultMatchWidth:"wide",parsePatterns:hoe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rc({matchPatterns:moe,defaultMatchWidth:"wide",parsePatterns:poe,defaultParseWidth:"any"}),day:Rc({matchPatterns:foe,defaultMatchWidth:"wide",parsePatterns:xoe,defaultParseWidth:"any"}),dayPeriod:Rc({matchPatterns:goe,defaultMatchWidth:"any",parsePatterns:voe,defaultParseWidth:"any"})},KN={code:"en-US",formatDistance:Hae,formatLong:Yae,formatRelative:Gae,localize:soe,match:yoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function joe(e){const t=Re(e);return or(t,bO(t))+1}function CO(e){const t=Re(e),s=+Ko(t)-+kae(t);return Math.round(s/qN)+1}function EO(e,t){var u,h,m,f;const s=Re(e),r=s.getFullYear(),a=sc(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(m=a.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,i=In(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=gr(i,t),d=In(e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const c=gr(d,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=c.getTime()?r:r-1}function woe(e,t){var l,d,c,u;const s=sc(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=EO(e,t),o=In(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),gr(o,t)}function TO(e,t){const s=Re(e),r=+gr(s,t)-+woe(s,t);return Math.round(r/qN)+1}function Qe(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const da={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Qe(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Qe(s+1,2)},d(e,t){return Qe(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Qe(e.getHours()%12||12,t.length)},H(e,t){return Qe(e.getHours(),t.length)},m(e,t){return Qe(e.getMinutes(),t.length)},s(e,t){return Qe(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return Qe(a,t.length)}},wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M2={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return da.y(e,t)},Y:function(e,t,s,r){const a=EO(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Qe(i,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):Qe(o,t.length)},R:function(e,t){const s=NO(e);return Qe(s,t.length)},u:function(e,t){const s=e.getFullYear();return Qe(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return da.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=TO(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Qe(a,t.length)},I:function(e,t,s){const r=CO(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Qe(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):da.d(e,t)},D:function(e,t,s){const r=joe(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Qe(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Qe(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Qe(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=wi.noon:r===0?a=wi.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=wi.evening:r>=12?a=wi.afternoon:r>=4?a=wi.morning:a=wi.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return da.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):da.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Qe(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Qe(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):da.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):da.s(e,t)},S:function(e,t){return da.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return _2(r);case"XXXX":case"XX":return ho(r);case"XXXXX":case"XXX":default:return ho(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return _2(r);case"xxxx":case"xx":return ho(r);case"xxxxx":case"xxx":default:return ho(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F2(r,":");case"OOOO":default:return"GMT"+ho(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F2(r,":");case"zzzz":default:return"GMT"+ho(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return Qe(r,t.length)},T:function(e,t,s){const r=e.getTime();return Qe(r,t.length)}};function F2(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?s+String(a):s+String(a)+t+Qe(o,2)}function _2(e,t){return e%60===0?(e>0?"-":"+")+Qe(Math.abs(e)/60,2):ho(e,t)}function ho(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Qe(Math.trunc(r/60),2),o=Qe(r%60,2);return s+a+t+o}const I2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Noe=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return I2(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",I2(r,t)).replace("{{time}}",PO(a,t))},boe={p:PO,P:Noe},Soe=/^D+$/,Coe=/^Y+$/,Eoe=["D","DD","YY","YYYY"];function Toe(e){return Soe.test(e)}function Poe(e){return Coe.test(e)}function koe(e,t,s){const r=Aoe(e,t,s);if(console.warn(r),Eoe.includes(e))throw new RangeError(r)}function Aoe(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Doe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Roe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Moe=/^'([^]*?)'?$/,Foe=/''/g,_oe=/[a-zA-Z]/;function Wr(e,t,s){var u,h,m,f,y,x,w,v;const r=sc(),a=(s==null?void 0:s.locale)??r.locale??KN,o=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,i=(s==null?void 0:s.weekStartsOn)??((x=(y=s==null?void 0:s.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((v=(w=r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??0,l=Re(e);if(!Fae(l))throw new RangeError("Invalid time value");let d=t.match(Roe).map(g=>{const j=g[0];if(j==="p"||j==="P"){const N=boe[j];return N(g,a.formatLong)}return g}).join("").match(Doe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const j=g[0];if(j==="'")return{isToken:!1,value:Ioe(g)};if(M2[j])return{isToken:!0,value:g};if(j.match(_oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return d.map(g=>{if(!g.isToken)return g.value;const j=g.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&Poe(j)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&Toe(j))&&koe(j,t,String(e));const N=M2[j[0]];return N(l,j,a.localize,c)}).join("")}function Ioe(e){const t=e.match(Moe);return t?t[1].replace(Foe,"'"):e}function Ooe(e,t,s){const r=sc(),a=(s==null?void 0:s.locale)??r.locale??KN,o=2520,i=tp(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i});let d,c;i>0?(d=Re(t),c=Re(e)):(d=Re(e),c=Re(t));const u=Uae(c,d),h=(Ml(c)-Ml(d))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return s!=null&&s.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<R2){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<o)return a.formatDistance("xDays",1,l);if(m<bm){const y=Math.round(m/R2);return a.formatDistance("xDays",y,l)}else if(m<bm*2)return f=Math.round(m/bm),a.formatDistance("aboutXMonths",f,l)}if(f=Vae(c,d),f<12){const y=Math.round(m/bm);return a.formatDistance("xMonths",y,l)}else{const y=f%12,x=Math.trunc(f/12);return y<3?a.formatDistance("aboutXYears",x,l):y<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function Loe(e,t){return Ooe(e,Mae(e),t)}function $oe(e){const t=Re(e),s=t.getFullYear(),r=t.getMonth(),a=In(e,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Voe(e){return Math.trunc(+Re(e)/1e3)}function Uoe(e){const t=Re(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function Boe(e,t){return _ae(Uoe(e),_n(e),t)+1}function Lj(e,t){const s=Re(e),r=Re(t);return s.getTime()>r.getTime()}function kO(e,t){const s=Re(e),r=Re(t);return+s<+r}function GN(e,t){const s=Re(e),r=Re(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function Hoe(e,t){const s=Re(e),r=Re(t);return s.getFullYear()===r.getFullYear()}function uv(e,t){return xn(e,-t)}function hv(e,t){const s=Re(e),r=s.getFullYear(),a=s.getDate(),o=In(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=$oe(o);return s.setMonth(t,Math.min(a,i)),s}function O2(e,t){const s=Re(e);return isNaN(+s)?In(e,NaN):(s.setFullYear(t),s)}const zoe=({channelId:e,channelName:t,logs:s,loading:r=!1,onRefresh:a,onExport:o,realTimeEnabled:i=!1})=>{const[l,d]=p.useState(""),[c,u]=p.useState("all"),[h,m]=p.useState(new Set),[f,y]=p.useState([]);p.useEffect(()=>{let b=s;l&&(b=b.filter(E=>{var C,T;return E.message.toLowerCase().includes(l.toLowerCase())||((C=E.adapterName)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))||((T=E.correlationId)==null?void 0:T.toLowerCase().includes(l.toLowerCase()))})),c!=="all"&&(b=b.filter(E=>E.level===c)),y(b)},[s,l,c]);const x=b=>{switch(b){case"error":return n.jsx(gs,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(ts,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(es,{className:"h-4 w-4 text-info"});case"debug":return n.jsx(aV,{className:"h-4 w-4 text-muted-foreground"})}},w=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline"}},v=b=>{m(E=>{const C=new Set(E);return C.has(b)?C.delete(b):C.add(b),C})},g=b=>{const E=new Date(b);return{time:E.toLocaleTimeString(),relative:Loe(E,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return s.forEach(E=>b[E.level]++),b})();return n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsxs(oe,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"}),"Channel Logs",i&&n.jsx(le,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsxs(ge,{children:["Real-time activity and execution logs for ",t]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsxs(W,{variant:"outline",size:"sm",onClick:o,children:[n.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&n.jsxs(W,{variant:"outline",size:"sm",onClick:a,disabled:r,children:[n.jsx(qt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),n.jsx("div",{className:"flex items-center gap-4 pt-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(le,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),n.jsxs(le,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),n.jsxs(le,{variant:"default",className:"text-xs",children:[N.info," Info"]}),n.jsxs(le,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),n.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search logs...",value:l,onChange:b=>d(b.target.value),className:"pl-10"})]})}),n.jsxs(te,{value:c,onValueChange:b=>u(b),children:[n.jsxs(Z,{className:"w-32",children:[n.jsx(Uf,{className:"h-4 w-4 mr-2"}),n.jsx(ne,{})]}),n.jsxs(ee,{children:[n.jsx(A,{value:"all",children:"All Levels"}),n.jsx(A,{value:"error",children:"Error"}),n.jsx(A,{value:"warn",children:"Warning"}),n.jsx(A,{value:"info",children:"Info"}),n.jsx(A,{value:"debug",children:"Debug"})]})]})]})]}),n.jsx(re,{children:n.jsx(zo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||c!=="all"?"No logs match the current filters":"No logs available"}):f.map(b=>{const E=h.has(b.id),C=g(b.timestamp);return n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[x(b.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(le,{variant:w(b.level),className:"text-xs",children:b.level.toUpperCase()}),b.adapterName&&n.jsx(le,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&n.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),n.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsx("span",{children:C.time}),n.jsx("span",{children:C.relative})]})]})]}),b.details&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>v(b.id),className:"ml-2",children:E?n.jsx($s,{className:"h-4 w-4"}):n.jsx(Zn,{className:"h-4 w-4"})})]}),E&&b.details&&n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"my-2"}),n.jsx("div",{className:"bg-muted/50 rounded p-2",children:n.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})},qoe=(e,t)=>{const[s,r]=p.useState([]),[a,o]=p.useState(!0),[i,l]=p.useState(null);p.useEffect(()=>{e&&d()},[e,t]);const d=async()=>{if(e){o(!0),l(null);try{const c=await ol.getChannelLogs(e,t);c.success&&c.data?r(c.data):(l(c.error||"Failed to load channel logs"),r([]))}catch(c){l(c instanceof Error?c.message:"An unexpected error occurred"),r([])}finally{o(!1)}}};return{logs:s,loading:a,error:i,refreshLogs:d,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},Woe=({channel:e})=>{const[t,s]=p.useState(!1),[r,a]=p.useState(!1),{logs:o,loading:i,connected:l,refreshLogs:d,exportLogs:c}=qoe(e.id,{limit:50}),u=m=>{switch(m){case"running":return"bg-success";case"idle":return"bg-warning";case"stopped":return"bg-destructive";default:return"bg-muted-foreground"}},h=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";case"error":return"destructive";case"testing":return"outline";default:return"outline"}};return n.jsx(J,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`h-3 w-3 rounded-full ${u(e.status)}`}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-lg",children:e.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground mr-2",children:"Adapters"}),n.jsx("div",{className:"flex gap-1",children:e.adapters.map(m=>n.jsx(le,{variant:h(m.status),className:"text-xs",children:m.name},m.id))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[n.jsxs("div",{className:"flex-1 max-w-xs",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Load"}),n.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),n.jsx(Pu,{value:e.load,className:"h-2"})]}),n.jsxs("div",{className:"flex items-center gap-8 ml-8",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"h-4 w-4 text-warning"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.throughput}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"msg/sec"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.lastActivity}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eA,{className:"h-4 w-4 text-success"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.uptime}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"h-4 w-4 text-destructive"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium",children:e.totalMessages}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total messages"})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`${e.status==="running"?"Stopping":"Starting"} channel ${e.id}`)},children:[e.status==="running"?n.jsx(jV,{className:"h-4 w-4 mr-2"}):n.jsx(fu,{className:"h-4 w-4 mr-2"}),e.status==="running"?"Pause":"Start"]}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`Opening settings for channel ${e.id}`)},children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Settings"]}),n.jsx(zc,{open:t,onOpenChange:s,children:n.jsx(_j,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(Td,{className:"h-4 w-4 mr-2"}),"View Logs",t?n.jsx($s,{className:"h-4 w-4 ml-2"}):n.jsx(Zn,{className:"h-4 w-4 ml-2"})]})})}),n.jsx(zc,{open:r,onOpenChange:a,children:n.jsx(_j,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(iV,{className:"h-4 w-4 mr-2"}),"Detailed Metrics",r?n.jsx($s,{className:"h-4 w-4 ml-2"}):n.jsx(Zn,{className:"h-4 w-4 ml-2"})]})})}),n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(La,{className:"h-4 w-4 mr-2"}),"Live"]}),l&&n.jsx(le,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),n.jsx(zc,{open:t,onOpenChange:s,children:n.jsx(Ij,{className:"mt-4",children:n.jsx(zoe,{channelId:e.id,channelName:e.name,logs:o,loading:i,onRefresh:d,onExport:c,realTimeEnabled:l})})}),n.jsx(zc,{open:r,onOpenChange:a,children:n.jsx(Ij,{className:"mt-4",children:n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{children:n.jsx(ie,{className:"text-lg",children:"Detailed Adapter Metrics"})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:e.adapters.map(m=>(m.icon,n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(La,{className:"h-5 w-5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:m.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:m.category})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:m.messagesProcessed.toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-medium",children:m.errorCount}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-medium",children:[m.avgResponseTime,"ms"]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Response"})]}),n.jsx(le,{variant:h(m.status),children:m.status})]})]},m.id)))})})]})})})]})})};function Yoe({selectedStatus:e,onStatusChange:t}){const s=[{value:null,label:"All",color:"bg-gray-100"},{value:"active",label:"Active",color:"bg-green-100"},{value:"running",label:"Running",color:"bg-blue-100"},{value:"stopped",label:"Stopped",color:"bg-yellow-100"},{value:"error",label:"Error",color:"bg-red-100"}];return n.jsxs(J,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Filter by Status"}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:s.map(r=>n.jsx(W,{variant:e===r.value?"default":"outline",size:"sm",onClick:()=>t(r.value),className:e!==r.value?r.color:"",children:r.label},r.value||"all"))})]})}function Koe(){const[e,t]=p.useState(null),[s,r]=p.useState(null),[a,o]=p.useState([]),[i,l]=p.useState(!0),[d,c]=p.useState(null),{businessComponents:u,loading:h}=Zr(),{toast:m}=nt();p.useEffect(()=>{const N=async()=>{try{c(null),l(!0);const E=await ol.getChannels(e==null?void 0:e.id);E.success&&E.data?o(E.data):(c(E.error||"Failed to fetch channels"),m({variant:"destructive",title:"Error",description:E.error||"Failed to fetch channels"}))}catch(E){console.error("Error fetching channels:",E),c("Failed to load channels"),m({variant:"destructive",title:"Error",description:"Failed to load channels"})}finally{l(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e,m]);const f=async(N,b)=>{try{const E=await ol.updateChannel(N,b);E.success&&E.data?(o(C=>C.map(T=>T.id===N?E.data:T)),m({title:"Success",description:"Channel updated successfully"})):m({variant:"destructive",title:"Error",description:E.error||"Failed to update channel"})}catch(E){console.error("Error updating channel:",E),m({variant:"destructive",title:"Error",description:"Failed to update channel"})}},y=async N=>{try{const b=await ol.deleteChannel(N);b.success?(o(E=>E.filter(C=>C.id!==N)),m({title:"Success",description:"Channel deleted successfully"})):m({variant:"destructive",title:"Error",description:b.error||"Failed to delete channel"})}catch(b){console.error("Error deleting channel:",b),m({variant:"destructive",title:"Error",description:"Failed to delete channel"})}},x=a.filter(N=>!(s&&N.status!==s)),w=a.length,v=a.filter(N=>N.status==="running"||N.status==="active").length,g=a.filter(N=>N.status==="error").length,j=a.length>0?Math.round(a.reduce((N,b)=>N+(b.load||0),0)/a.length):0;return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Integration Channels"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and manage your integration channels"})]}),n.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[n.jsx(S,{htmlFor:"business-component",children:"Business Component:"}),n.jsxs(te,{value:(e==null?void 0:e.id)||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=u.find(E=>E.id===N);t(b||null)}},disabled:h,children:[n.jsx(Z,{id:"business-component",className:"w-[280px]",children:n.jsx(ne,{placeholder:"Select a business component"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"all",children:"All Components"}),u.map(N=>n.jsx(A,{value:N.id,children:N.name},N.id))]})]})]}),d&&n.jsx("div",{className:"mb-6 bg-destructive/10 text-destructive p-4 rounded-lg",children:d}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs(J,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Channels"}),n.jsx("p",{className:"text-2xl font-bold",children:w})]}),n.jsxs(J,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Channels"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:v})]}),n.jsxs(J,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Channels with Errors"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:g})]}),n.jsxs(J,{className:"p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Load"}),n.jsxs("div",{className:"mt-2",children:[n.jsx(Pu,{value:j,className:"h-2"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[j,"%"]})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx(Yoe,{selectedStatus:s,onStatusChange:r})}),i?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})}):x.length===0?n.jsx(J,{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-500",children:s?`No channels found with status: ${s}`:e?`No channels found for ${e.name}`:"No channels found"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:x.map(N=>n.jsx(Woe,{channel:N,onUpdate:b=>f(N.id,b),onDelete:()=>y(N.id)},N.id))})]})}const Go=p.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:ce("w-full caption-bottom text-sm",e),...t})}));Go.displayName="Table";const Xo=p.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:ce("[&_tr]:border-b",e),...t}));Xo.displayName="TableHeader";const Jo=p.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:ce("[&_tr:last-child]:border-0",e),...t}));Jo.displayName="TableBody";const Goe=p.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Goe.displayName="TableFooter";const Gn=p.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Gn.displayName="TableRow";const $e=p.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$e.displayName="TableHead";const Ve=p.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableCell";const Xoe=p.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));Xoe.displayName="TableCaption";class Joe{async createFlow(t){return Q.post("/flows",t)}async getFlows(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&s.append(a,o.toString())});const r=`/flows${s.toString()?`?${s.toString()}`:""}`;return Q.get(r)}async getFlow(t){return Q.get(`/flows/${t}`)}async updateFlow(t,s){return Q.put(`/flows/${t}`,s)}async deleteFlow(t){return Q.delete(`/flows/${t}`)}async testFlow(t,s){return Q.post(`/flows/${t}/test`,{testData:s})}async updateFlowStatus(t,s){return Q.patch(`/flows/${t}/status`,{status:s})}async getFlowExecutions(t,s){const r=new URLSearchParams;s&&Object.entries(s).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/flows/${t}/executions${r.toString()?`?${r.toString()}`:""}`;return Q.get(a)}async saveFieldMappings(t,s){return Q.post(`/flows/${t}/field-mappings`,{mappings:s})}async cloneFlow(t,s){return Q.post(`/flows/${t}/clone`,{name:s})}async validateFlow(t){return Q.post("/flows/validate",t)}}const XN=new Joe;class Qoe{async deployFlow(t){try{return await Q.post(`/flows/${t}/deployment/deploy`)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to deploy flow"}}}async undeployFlow(t){try{return{success:(await Q.post(`/flows/${t}/deployment/undeploy`)).success}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to undeploy flow"}}}async getDeploymentInfo(t){try{return await Q.get(`/flows/${t}/deployment`)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Failed to fetch deployment info"}}}}const JN=new Qoe,hf={exportFlowFile:async e=>(await Q.post("/flows/export-import/export",e,{responseType:"blob"})).data,exportFlowJson:async e=>(await Q.get(`/flows/export-import/export/${e}`)).data,validateExport:async e=>(await Q.get(`/flows/export-import/export/${e}/validate`)).data,importFlow:async e=>(await Q.post("/flows/export-import/import",e)).data,importFlowFromFile:async(e,t={})=>{const s=new FormData;s.append("file",e);const r=new URLSearchParams;return t.conflictStrategy&&r.append("conflictStrategy",t.conflictStrategy),t.activateAfterImport!==void 0&&r.append("activateAfterImport",String(t.activateAfterImport)),t.namePrefix&&r.append("namePrefix",t.namePrefix),t.nameSuffix&&r.append("nameSuffix",t.nameSuffix),(await Q.post(`/flows/export-import/import/file?${r.toString()}`,s,{headers:{"Content-Type":"multipart/form-data"}})).data},validateImport:async e=>(await Q.post("/flows/export-import/import/validate",e)).data,validateImportFromFile:async e=>{const t=new FormData;return t.append("file",e),(await Q.post("/flows/export-import/import/validate/file",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},Zoe=async(e,t,s)=>{const r={flowId:e,options:s||{}},a=await hf.exportFlowFile(r),o=window.URL.createObjectURL(a),i=document.createElement("a");i.href=o;const l=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);i.download=`flow_${t.replace(/[^a-zA-Z0-9]/g,"_")}_${l}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)},eie=({flowId:e,flowName:t,open:s,onOpenChange:r})=>{const{toast:a}=nt(),[o,i]=p.useState(!1),[l,d]=p.useState(!1),[c,u]=p.useState(null),[h,m]=p.useState({includeBusinessComponent:!0,includeAdapterConfigs:!0,includeCertificateReferences:!0,includeSensitiveData:!1,includeStatistics:!1,includeAuditInfo:!1,format:"JSON",compress:!1,environment:"",description:"",tags:[]}),[f,y]=p.useState("");he.useEffect(()=>{s&&e&&x()},[s,e]);const x=async()=>{d(!0);try{const j=await hf.validateExport(e);u(j)}catch(j){a({title:"Validation Failed",description:j.message||"Failed to validate export",variant:"destructive"})}finally{d(!1)}},w=async()=>{if(!(c!=null&&c.canExport)){a({title:"Cannot Export",description:(c==null?void 0:c.reason)||"Flow cannot be exported",variant:"destructive"});return}i(!0);try{await Zoe(e,t,h),a({title:"Export Successful",description:`Flow "${t}" has been exported successfully.`}),r(!1)}catch(j){a({title:"Export Failed",description:j.message||"Failed to export flow",variant:"destructive"})}finally{i(!1)}},v=()=>{f.trim()&&(m({...h,tags:[...h.tags||[],f.trim()]}),y(""))},g=j=>{var N;m({...h,tags:(N=h.tags)==null?void 0:N.filter((b,E)=>E!==j)})};return n.jsx(St,{open:s,onOpenChange:r,children:n.jsxs(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Export Integration Flow"}),n.jsxs(fr,{children:['Export "',t,'" with all its dependencies and configurations.']})]}),l?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})}):c&&!c.canExport?n.jsx(st,{variant:"destructive",children:n.jsxs(rt,{children:[n.jsx("strong",{children:"Cannot export this flow:"})," ",c.reason]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium",children:"Export Options"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-business-component",children:"Include Business Component"}),n.jsx(ke,{id:"include-business-component",checked:h.includeBusinessComponent,onCheckedChange:j=>m({...h,includeBusinessComponent:j})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-adapter-configs",children:"Include Adapter Configurations"}),n.jsx(ke,{id:"include-adapter-configs",checked:h.includeAdapterConfigs,onCheckedChange:j=>m({...h,includeAdapterConfigs:j})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-certificate-refs",children:"Include Certificate References"}),n.jsx(ke,{id:"include-certificate-refs",checked:h.includeCertificateReferences,onCheckedChange:j=>m({...h,includeCertificateReferences:j})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-sensitive",children:"Include Sensitive Data (Encrypted)"}),n.jsx(ke,{id:"include-sensitive",checked:h.includeSensitiveData,onCheckedChange:j=>m({...h,includeSensitiveData:j})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-statistics",children:"Include Execution Statistics"}),n.jsx(ke,{id:"include-statistics",checked:h.includeStatistics,onCheckedChange:j=>m({...h,includeStatistics:j})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"include-audit",children:"Include Audit Information"}),n.jsx(ke,{id:"include-audit",checked:h.includeAuditInfo,onCheckedChange:j=>m({...h,includeAuditInfo:j})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium",children:"Export Metadata"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"environment",children:"Environment"}),n.jsx(I,{id:"environment",placeholder:"e.g., development, staging, production",value:h.environment||"",onChange:j=>m({...h,environment:j.target.value})})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",placeholder:"Add a description for this export...",value:h.description||"",onChange:j=>m({...h,description:j.target.value}),rows:3})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"tags",children:"Tags"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:"tags",placeholder:"Add tags...",value:f,onChange:j=>y(j.target.value),onKeyPress:j=>j.key==="Enter"&&(j.preventDefault(),v())}),n.jsx(W,{type:"button",variant:"outline",onClick:v,children:"Add"})]}),h.tags&&h.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.tags.map((j,N)=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-sm bg-secondary rounded-md",children:[j,n.jsx("button",{type:"button",onClick:()=>g(N),className:"text-muted-foreground hover:text-foreground",children:""})]},N))})]})]})]}),n.jsxs(st,{children:[n.jsx(es,{className:"h-4 w-4"}),n.jsx(rt,{children:"The exported file will contain all selected components and can be imported into another environment. Sensitive data like passwords will be encrypted if included."})]})]}),n.jsxs(nc,{children:[n.jsx(W,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(W,{onClick:w,disabled:o||!(c!=null&&c.canExport),children:o?n.jsxs(n.Fragment,{children:[n.jsx($t,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Export Flow"]})})]})]})})},tie=({open:e,onOpenChange:t,onImportComplete:s})=>{const{toast:r}=nt(),a=ys(),[o,i]=p.useState(null),[l,d]=p.useState(null),[c,u]=p.useState(null),[h,m]=p.useState(null),[f,y]=p.useState(!1),[x,w]=p.useState("upload"),[v,g]=p.useState({conflictStrategy:"FAIL",importBusinessComponent:!0,importAdapters:!0,importCertificateReferences:!0,validateReferences:!0,activateAfterImport:!1,namePrefix:"",nameSuffix:""}),j=async T=>{var V;const F=(V=T.target.files)==null?void 0:V[0];if(F){if(!F.name.endsWith(".json")){r({title:"Invalid File",description:"Please select a JSON file exported from the system.",variant:"destructive"});return}i(F),u(null),m(null);try{const k=await F.text(),M=JSON.parse(k);d(M),await N(F)}catch{r({title:"Invalid File",description:"Failed to parse the export file. Please ensure it is a valid flow export.",variant:"destructive"}),i(null),d(null)}}},N=async T=>{const F=T||o;if(F){y(!0),w("validate");try{const V=await hf.validateImportFromFile(F);u(V)}catch(V){r({title:"Validation Failed",description:V.message||"Failed to validate import file",variant:"destructive"}),w("upload")}finally{y(!1)}}},b=async()=>{var T;if(!(!o||!(c!=null&&c.canImport))){y(!0),w("import");try{const F=await hf.importFlowFromFile(o,{conflictStrategy:v.conflictStrategy,activateAfterImport:v.activateAfterImport,namePrefix:v.namePrefix,nameSuffix:v.nameSuffix});m(F),w("complete"),F.success?(r({title:"Import Successful",description:`Flow "${F.importedFlowName}" has been imported successfully.`}),s&&F.importedFlowId&&s(F.importedFlowId)):r({title:"Import Failed",description:((T=F.errors[0])==null?void 0:T.message)||"Failed to import flow",variant:"destructive"})}catch(F){r({title:"Import Failed",description:F.message||"Failed to import flow",variant:"destructive"}),w("validate")}finally{y(!1)}}},E=()=>{i(null),d(null),u(null),m(null),w("upload")},C=T=>{switch(T){case"ERROR":return n.jsx(Gt,{className:"h-4 w-4 text-destructive"});case"WARNING":return n.jsx(ts,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx(es,{className:"h-4 w-4 text-blue-500"})}};return n.jsx(St,{open:e,onOpenChange:T=>{T||E(),t(T)},children:n.jsxs(ft,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Import Integration Flow"}),n.jsx(fr,{children:"Import a previously exported integration flow with all its dependencies."})]}),n.jsxs("div",{className:"space-y-6",children:[x==="upload"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[n.jsx("input",{type:"file",accept:".json",onChange:j,className:"hidden",id:"flow-import-file"}),n.jsxs("label",{htmlFor:"flow-import-file",className:"cursor-pointer flex flex-col items-center gap-3",children:[n.jsx(Vf,{className:"h-12 w-12 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Click to select a flow export file"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"JSON files only"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium",children:"Import Options"}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"conflict-strategy",children:"Conflict Resolution Strategy"}),n.jsxs(te,{value:v.conflictStrategy,onValueChange:T=>g({...v,conflictStrategy:T}),children:[n.jsx(Z,{id:"conflict-strategy",children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"FAIL",children:"Fail on Conflicts"}),n.jsx(A,{value:"SKIP",children:"Skip Conflicting Objects"}),n.jsx(A,{value:"CREATE_NEW",children:"Create New Objects"}),n.jsx(A,{value:"UPDATE_EXISTING",children:"Update Existing Objects"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(S,{htmlFor:"name-prefix",children:"Name Prefix (Optional)"}),n.jsx(I,{id:"name-prefix",placeholder:"e.g., DEV_",value:v.namePrefix||"",onChange:T=>g({...v,namePrefix:T.target.value})})]}),n.jsxs("div",{children:[n.jsx(S,{htmlFor:"name-suffix",children:"Name Suffix (Optional)"}),n.jsx(I,{id:"name-suffix",placeholder:"e.g., _COPY",value:v.nameSuffix||"",onChange:T=>g({...v,nameSuffix:T.target.value})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"activate-after-import",children:"Activate Flow After Import"}),n.jsx(ke,{id:"activate-after-import",checked:v.activateAfterImport,onCheckedChange:T=>g({...v,activateAfterImport:T})})]})]})]})]}),x==="validate"&&c&&n.jsx(n.Fragment,{children:f?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx($t,{className:"h-8 w-8 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Validating import..."})]}):n.jsxs(et,{defaultValue:"preview",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-3",children:[n.jsx(je,{value:"preview",children:"Preview"}),n.jsxs(je,{value:"conflicts",children:["Conflicts ",c.conflicts.length>0&&`(${c.conflicts.length})`]}),n.jsxs(je,{value:"issues",children:["Issues ",c.errors.length+c.warnings.length>0&&`(${c.errors.length+c.warnings.length})`]})]}),n.jsxs(ve,{value:"preview",className:"space-y-4",children:[n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Flow Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Flow Name:"}),n.jsx("p",{className:"font-medium",children:c.preview.flowName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Business Component:"}),n.jsx("p",{className:"font-medium",children:c.preview.businessComponentName||"None"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Source Adapter:"}),n.jsx("p",{className:"font-medium",children:c.preview.sourceAdapterName||"None"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Target Adapter:"}),n.jsx("p",{className:"font-medium",children:c.preview.targetAdapterName||"None"})]})]})]}),n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Objects to Import"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bm,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Transformations: ",c.preview.transformationCount]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bm,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Field Mappings: ",c.preview.fieldMappingCount]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bm,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Certificates: ",c.preview.certificateReferenceCount]})]})]})]}),!c.versionCompatibility.isCompatible&&n.jsxs(st,{variant:"destructive",children:[n.jsx(gs,{className:"h-4 w-4"}),n.jsx(Dr,{children:"Version Incompatibility"}),n.jsxs(rt,{children:["Export version (",c.versionCompatibility.exportVersion,") is not compatible with current version (",c.versionCompatibility.currentVersion,")."]})]})]}),n.jsx(ve,{value:"conflicts",className:"space-y-3",children:c.conflicts.length===0?n.jsxs(st,{children:[n.jsx(vt,{className:"h-4 w-4 text-green-500"}),n.jsx(rt,{children:"No conflicts detected."})]}):c.conflicts.map((T,F)=>n.jsxs(st,{variant:"destructive",children:[n.jsx(gs,{className:"h-4 w-4"}),n.jsxs(Dr,{children:[T.objectType," Conflict"]}),n.jsxs(rt,{children:[T.type==="NAME_EXISTS"&&`An object named "${T.importName}" already exists.`,T.type==="REFERENCE_MISSING"&&`Referenced ${T.objectType} "${T.importName}" not found.`]})]},F))}),n.jsx(ve,{value:"issues",className:"space-y-3",children:c.errors.length===0&&c.warnings.length===0?n.jsxs(st,{children:[n.jsx(vt,{className:"h-4 w-4 text-green-500"}),n.jsx(rt,{children:"No issues found."})]}):n.jsxs(n.Fragment,{children:[c.errors.map((T,F)=>n.jsx(st,{variant:"destructive",children:n.jsxs("div",{className:"flex items-start gap-2",children:[C(T.severity),n.jsxs("div",{children:[n.jsx(Dr,{children:T.code}),n.jsx(rt,{children:T.message})]})]})},`error-${F}`)),c.warnings.map((T,F)=>n.jsx(st,{children:n.jsxs("div",{className:"flex items-start gap-2",children:[C(T.severity),n.jsxs("div",{children:[n.jsx(Dr,{children:T.code}),n.jsx(rt,{children:T.message})]})]})},`warning-${F}`))]})})]})}),x==="import"&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[n.jsx($t,{className:"h-12 w-12 animate-spin"}),n.jsx("p",{className:"text-lg font-medium",children:"Importing flow..."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This may take a few moments."})]}),x==="complete"&&h&&n.jsx("div",{className:"space-y-4",children:h.success?n.jsxs(n.Fragment,{children:[n.jsxs(st,{children:[n.jsx(vt,{className:"h-4 w-4 text-green-500"}),n.jsx(Dr,{children:"Import Successful!"}),n.jsxs(rt,{children:['Flow "',h.importedFlowName,'" has been imported successfully.']})]}),n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Import Summary"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:["Flow Imported: ",h.summary.flowImported?"":""]}),n.jsxs("div",{children:["Business Component: ",h.summary.businessComponentImported?"":""]}),n.jsxs("div",{children:["Adapters: ",h.summary.adaptersImported]}),n.jsxs("div",{children:["Transformations: ",h.summary.transformationsImported]}),n.jsxs("div",{children:["Field Mappings: ",h.summary.fieldMappingsImported]}),n.jsxs("div",{children:["Total Objects: ",h.summary.totalObjectsImported]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Import completed in ",h.summary.importDurationMs,"ms"]})]}),h.warnings.length>0&&n.jsxs(st,{children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsx(Dr,{children:"Import completed with warnings"}),n.jsx(rt,{children:n.jsx("ul",{className:"list-disc list-inside mt-2",children:h.warnings.map((T,F)=>n.jsx("li",{children:T.message},F))})})]})]}):n.jsxs(st,{variant:"destructive",children:[n.jsx(Gt,{className:"h-4 w-4"}),n.jsx(Dr,{children:"Import Failed"}),n.jsx(rt,{children:h.errors.map((T,F)=>n.jsx("div",{children:T.message},F))})]})})]}),n.jsxs(nc,{children:[x==="upload"&&n.jsx(n.Fragment,{children:n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})}),x==="validate"&&n.jsxs(n.Fragment,{children:[n.jsx(W,{variant:"outline",onClick:E,children:"Back"}),n.jsxs(W,{onClick:b,disabled:!(c!=null&&c.canImport)||f,children:[n.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Import Flow"]})]}),x==="complete"&&(h==null?void 0:h.success)&&n.jsxs(n.Fragment,{children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Close"}),n.jsx(W,{onClick:()=>{h.importedFlowId&&(a(`/flows/${h.importedFlowId}`),t(!1))},children:"View Flow"})]}),x==="complete"&&!(h!=null&&h.success)&&n.jsxs(n.Fragment,{children:[n.jsx(W,{variant:"outline",onClick:E,children:"Try Again"}),n.jsx(W,{onClick:()=>t(!1),children:"Close"})]})]})]})})};function nie(){const[e,t]=p.useState([]),[s,r]=p.useState(!0),[a,o]=p.useState(null),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,h]=p.useState(!1),[m,f]=p.useState(!1),[y,x]=p.useState(null),{toast:w}=nt();p.useEffect(()=>{v()},[]);const v=async()=>{try{r(!0);const C=await XN.getFlows();if(C.success&&C.data){const T=C.data.filter(F=>F.status==="DEVELOPED_INACTIVE"||F.status==="DRAFT"||F.status==="INACTIVE");t(T)}}catch{w({variant:"destructive",title:"Error",description:"Failed to fetch undeployed interfaces"})}finally{r(!1)}},g=C=>{c(C),l(!0)},j=async()=>{if(d)try{o(d.id),l(!1);const C=await JN.deployFlow(d.id);C.success?(w({title:"Success",description:`Interface "${d.name}" has been deployed successfully`}),v()):w({variant:"destructive",title:"Deployment Failed",description:C.error||"Failed to deploy interface"})}catch{w({variant:"destructive",title:"Error",description:"An error occurred during deployment"})}finally{o(null),c(null)}},N=C=>{x(C),h(!0)},b=C=>{v(),w({title:"Import Complete",description:"The flow has been imported successfully."})},E=C=>{var T,F;return{sourceType:((T=C.sourceAdapter)==null?void 0:T.type)||"Unknown",targetType:((F=C.targetAdapter)==null?void 0:F.type)||"Unknown"}};return s?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})}):e.length===0?n.jsx(J,{children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx(gs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No undeployed interfaces found"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create new interfaces or check the deployed interfaces tab"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Undeployed Interfaces"}),n.jsx(ge,{children:"These interfaces are in development and not receiving external calls. Deploy them to make them available for production use."})]}),n.jsxs(W,{variant:"outline",onClick:()=>f(!0),children:[n.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Import Flow"]})]})}),n.jsx(re,{children:n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Interface Name"}),n.jsx($e,{children:"Source  Target"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Mapping Mode"}),n.jsx($e,{children:"Last Modified"}),n.jsx($e,{className:"text-right",children:"Actions"})]})}),n.jsx(Jo,{children:e.map(C=>{const T=E(C),F=a===C.id;return n.jsxs(Gn,{children:[n.jsx(Ve,{className:"font-medium",children:C.name}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(le,{variant:"outline",children:T.sourceType}),n.jsx("span",{children:""}),n.jsx(le,{variant:"outline",children:T.targetType})]})}),n.jsx(Ve,{children:n.jsx(le,{variant:"secondary",children:C.status})}),n.jsx(Ve,{children:n.jsx(le,{variant:C.mappingMode==="PASS_THROUGH"?"outline":"default",children:C.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})}),n.jsx(Ve,{children:new Date(C.updatedAt).toLocaleDateString()}),n.jsx(Ve,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(W,{size:"sm",variant:"outline",onClick:()=>window.location.href=`/flows/${C.id}/edit`,title:"Edit",children:n.jsx(ut,{className:"h-4 w-4"})}),n.jsx(W,{size:"sm",variant:"outline",onClick:()=>N(C),title:"Export",children:n.jsx(Xa,{className:"h-4 w-4"})}),n.jsxs(W,{size:"sm",onClick:()=>g(C),disabled:F||C.status==="DRAFT",title:"Deploy",children:[F?n.jsx($t,{className:"h-4 w-4 animate-spin"}):n.jsx(Qk,{className:"h-4 w-4"}),"Deploy"]})]})})]},C.id)})})]})})]}),n.jsx(ix,{open:i,onOpenChange:l,children:n.jsxs(wu,{children:[n.jsxs(Nu,{children:[n.jsx(Su,{children:"Deploy Interface"}),n.jsxs(Cu,{children:['Are you sure you want to deploy "',d==null?void 0:d.name,'"? This will make the interface available for external calls and activate any configured timers.']})]}),n.jsxs(bu,{children:[n.jsx(Tu,{children:"Cancel"}),n.jsx(Eu,{onClick:j,children:"Deploy"})]})]})}),y&&n.jsx(eie,{flowId:y.id,flowName:y.name,open:u,onOpenChange:C=>{h(C),C||x(null)}}),n.jsx(tie,{open:m,onOpenChange:f,onImportComplete:b})]})}function sie(){const[e,t]=p.useState([]),[s,r]=p.useState(!0),[a,o]=p.useState(null),[i,l]=p.useState(!1),[d,c]=p.useState(null),{toast:u}=nt(),h=ys();p.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const v=await XN.getFlows();if(v.success&&v.data){const g=v.data.filter(j=>j.status==="DEPLOYED_ACTIVE"||j.status==="ACTIVE");t(g)}}catch{u({variant:"destructive",title:"Error",description:"Failed to fetch deployed interfaces"})}finally{r(!1)}},f=v=>{h(`/interfaces/${v.id}/details`)},y=v=>{c(v),l(!0)},x=async()=>{if(d)try{o(d.id),l(!1);const v=await JN.undeployFlow(d.id);v.success?(u({title:"Success",description:`Interface "${d.name}" has been undeployed`}),m()):u({variant:"destructive",title:"Undeploy Failed",description:v.error||"Failed to undeploy interface"})}catch{u({variant:"destructive",title:"Error",description:"An error occurred during undeployment"})}finally{o(null),c(null)}},w=v=>{var g,j;return{sourceType:((g=v.sourceAdapter)==null?void 0:g.type)||"Unknown",targetType:((j=v.targetAdapter)==null?void 0:j.type)||"Unknown"}};return s?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})}):e.length===0?n.jsx(J,{children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx(vt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No deployed interfaces found"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Deploy interfaces from the undeployed tab to see them here"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Deployed Interfaces"}),n.jsx(ge,{children:"Active interfaces that are receiving calls from external systems and running scheduled tasks."})]}),n.jsx(re,{children:n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Interface Name"}),n.jsx($e,{children:"Source  Target"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Deployed At"}),n.jsx($e,{children:"Endpoint"}),n.jsx($e,{className:"text-right",children:"Actions"})]})}),n.jsx(Jo,{children:e.map(v=>{const g=w(v),j=a===v.id;return n.jsxs(Gn,{children:[n.jsx(Ve,{className:"font-medium",children:v.name}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(le,{variant:"outline",children:g.sourceType}),n.jsx("span",{children:""}),n.jsx(le,{variant:"outline",children:g.targetType})]})}),n.jsx(Ve,{children:n.jsxs(le,{variant:"success",children:[n.jsx(vt,{className:"h-3 w-3 mr-1"}),"Active"]})}),n.jsx(Ve,{children:v.deployedAt?new Date(v.deployedAt).toLocaleString():"N/A"}),n.jsx(Ve,{children:n.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:v.deploymentEndpoint?v.deploymentEndpoint.substring(0,40)+"...":"N/A"})}),n.jsx(Ve,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs(W,{size:"sm",variant:"outline",onClick:()=>f(v),children:[n.jsx(es,{className:"h-4 w-4"}),"Details"]}),n.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>y(v),disabled:j,children:[j?n.jsx($t,{className:"h-4 w-4 animate-spin"}):n.jsx(bV,{className:"h-4 w-4"}),"Undeploy"]})]})})]},v.id)})})]})})]}),n.jsx(ix,{open:i,onOpenChange:l,children:n.jsxs(wu,{children:[n.jsxs(Nu,{children:[n.jsx(Su,{children:"Undeploy Interface"}),n.jsxs(Cu,{children:['Are you sure you want to undeploy "',d==null?void 0:d.name,'"? This will deactivate the interface and stop receiving external calls. All endpoint information will be removed.']})]}),n.jsxs(bu,{children:[n.jsx(Tu,{children:"Cancel"}),n.jsx(Eu,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Undeploy"})]})]})})]})}function rie(){return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Interface Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage your integration interfaces deployment lifecycle"})]}),n.jsx(J,{children:n.jsxs(et,{defaultValue:"undeployed",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsxs(je,{value:"undeployed",className:"flex items-center gap-2",children:[n.jsx(Ul,{className:"w-4 h-4"}),"Undeployed Interfaces"]}),n.jsxs(je,{value:"deployed",className:"flex items-center gap-2",children:[n.jsx(Qk,{className:"w-4 h-4"}),"Deployed Interfaces"]})]}),n.jsx(ve,{value:"undeployed",className:"mt-6",children:n.jsx(nie,{})}),n.jsx(ve,{value:"deployed",className:"mt-6",children:n.jsx(sie,{})})]})})]})}function aie(){var x,w,v,g,j,N,b;const{flowId:e}=FB(),t=ys(),{toast:s}=nt(),[r,a]=p.useState(!0),[o,i]=p.useState(null),[l,d]=p.useState(null);p.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{a(!0);const E=await XN.getFlow(e);E.success&&E.data&&i(E.data);const C=await JN.getDeploymentInfo(e);C.success&&C.data&&d(C.data)}catch{s({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{a(!1)}},u=(E,C)=>{navigator.clipboard.writeText(E),s({title:"Copied!",description:`${C} copied to clipboard`})},h=()=>{var E;(E=l==null?void 0:l.metadata)!=null&&E.wsdlUrl&&window.open(l.metadata.wsdlUrl,"_blank")};if(r)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx($t,{className:"h-8 w-8 animate-spin"})})});if(!o||!l)return n.jsx("div",{className:"container mx-auto p-6",children:n.jsx(J,{children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),n.jsx(W,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const m=((x=l.metadata)==null?void 0:x.adapterType)||"Unknown",f=["HTTP","REST","SOAP"].includes(m),y=m==="SOAP";return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:o.name}),n.jsxs(le,{variant:"success",className:"text-lg px-4 py-2",children:[n.jsx(vt,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),n.jsx("p",{className:"text-gray-600",children:o.description})]}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Deployment Information"}),n.jsx(ge,{children:"Details about the deployed interface"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Deployed At"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(vs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:new Date(l.deployedAt).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Deployed By"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(gl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:l.deployedBy||"System"})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),n.jsx(le,{variant:"outline",children:m})]})]})]}),f&&n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Endpoint Information"}),n.jsx(ge,{children:"Connection details for external systems"})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"endpoint",children:"API Endpoint"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:"endpoint",value:l.endpoint,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>u(l.endpoint,"Endpoint"),children:n.jsx(Mp,{className:"h-4 w-4"})})]})]}),y&&((w=l.metadata)==null?void 0:w.wsdlUrl)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"wsdl",children:"WSDL URL"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:"wsdl",value:l.metadata.wsdlUrl,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>u(l.metadata.wsdlUrl,"WSDL URL"),children:n.jsx(Mp,{className:"h-4 w-4"})}),n.jsx(W,{size:"icon",variant:"outline",onClick:h,children:n.jsx(Xa,{className:"h-4 w-4"})})]})]}),m==="REST"&&((v=l.metadata)==null?void 0:v.apiDocsUrl)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"apidocs",children:"API Documentation"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:"apidocs",value:l.metadata.apiDocsUrl,readOnly:!0,className:"font-mono text-sm"}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>window.open(l.metadata.apiDocsUrl,"_blank"),children:n.jsx(rr,{className:"h-4 w-4"})})]})]}),((g=l.metadata)==null?void 0:g.httpMethods)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Supported Methods"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.httpMethods})]}),((j=l.metadata)==null?void 0:j.contentType)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Content Types"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(m)&&n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"File Configuration"}),n.jsx(ge,{children:"File handling settings for this interface"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Polling"}),n.jsx("p",{className:"mt-1",children:(N=l.metadata)!=null&&N.pollingEnabled?"Enabled":"Disabled"})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"File Pattern"}),n.jsx("p",{className:"mt-1 font-mono text-sm",children:((b=l.metadata)==null?void 0:b.filePattern)||"*.*"})]})]})})]}),n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Integration Details"}),n.jsx(ge,{children:"Configuration and mapping information"})]}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),n.jsx(le,{variant:o.mappingMode==="PASS_THROUGH"?"outline":"default",children:o.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),n.jsxs("div",{children:[n.jsx(S,{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(le,{variant:"success",children:o.status})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>t("/interfaces"),children:"Back to Interfaces"}),n.jsxs(W,{variant:"outline",onClick:()=>t(`/flows/${e}/edit`),children:[n.jsx(tn,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})}const oie=({users:e,roles:t,certificates:s,jarFiles:r})=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[n.jsxs(J,{className:"hover-scale",children:[n.jsx(oe,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(an,{className:"h-4 w-4"}),"Total Users"]})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:e.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),n.jsxs(J,{className:"hover-scale",children:[n.jsx(oe,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4"}),"Roles"]})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),n.jsxs(J,{className:"hover-scale",children:[n.jsx(oe,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(xl,{className:"h-4 w-4"}),"Certificates"]})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:s.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),n.jsxs(J,{className:"hover-scale",children:[n.jsx(oe,{className:"pb-2",children:n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Pd,{className:"h-4 w-4"}),"Connection Drivers"]})}),n.jsxs(re,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]});class iie{async getAllUsers(t=0,s=50){return Q.get(`/users?page=${t}&limit=${s}`)}async getUserById(t){return Q.get(`/users/${t}`)}async createUser(t){const s={...t,password:t.password||this.generateDefaultPassword()};return Q.post("/auth/register",s)}async updateUser(t,s){return Q.put(`/users/${t}`,s)}async deleteUser(t){return Q.delete(`/users/${t}`)}async updateUserStatus(t,s){return Q.patch(`/users/${t}/status`,{status:s})}async resetUserPassword(t){return Q.post(`/users/${t}/reset-password`)}async assignRole(t,s,r={}){return Q.patch(`/users/${t}/role`,{role:s,permissions:r})}async getUserPermissions(t){return Q.get(`/users/${t}/permissions`)}async updateUserPermissions(t,s){return Q.patch(`/users/${t}/permissions`,{permissions:s})}async searchUsers(t,s){const r=new URLSearchParams({q:t,...(s==null?void 0:s.role)&&{role:s.role},...(s==null?void 0:s.status)&&{status:s.status},page:((s==null?void 0:s.page)||1).toString(),limit:((s==null?void 0:s.limit)||50).toString()});return Q.get(`/users/search?${r}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let s="";for(let r=0;r<12;r++)s+=t.charAt(Math.floor(Math.random()*t.length));return s}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const zn=new iie,lie=({open:e,onOpenChange:t,onUserCreated:s})=>{const[r,a]=p.useState(!1),[o,i]=p.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=nt(),d=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",o);const h=await zn.createUser(o);h.success?(l({title:"User Created Successfully",description:`User ${o.username} has been created with role ${o.role}.`}),i({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),s==null||s()):l({title:"Error Creating User",description:h.error||"An error occurred while creating the user.",variant:"destructive"})}catch(h){console.error("User creation error:",h),l({title:"Error Creating User",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},c=u=>h=>{i(m=>({...m,[u]:h}))};return n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"sm:max-w-[425px]",children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Create New User"}),n.jsx(fr,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"firstName",children:"First Name"}),n.jsx(I,{id:"firstName",value:o.firstName,onChange:u=>c("firstName")(u.target.value),placeholder:"John",required:!0,disabled:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"lastName",children:"Last Name"}),n.jsx(I,{id:"lastName",value:o.lastName,onChange:u=>c("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:r})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username"}),n.jsx(I,{id:"username",value:o.username,onChange:u=>c("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email"}),n.jsx(I,{id:"email",type:"email",value:o.email,onChange:u=>c("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"password",children:"Temporary Password"}),n.jsx(I,{id:"password",type:"password",value:o.password,onChange:u=>c("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(te,{value:o.role,onValueChange:c("role"),disabled:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a role"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"status",children:"Status"}),n.jsxs(te,{value:o.status,onValueChange:c("status"),disabled:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select status"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"active",children:"Active"}),n.jsx(A,{value:"inactive",children:"Inactive"}),n.jsx(A,{value:"pending",children:"Pending"})]})]})]}),n.jsxs(nc,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:r,children:[r&&n.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},cie=[{key:"flows",label:"Flows",icon:ut,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:c1,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:ln,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:an,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:Kn,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:En,permissions:["read"]},{key:"channels",label:"Channels",icon:c1,permissions:["read"]},{key:"certificates",label:"Certificates",icon:Kn,permissions:["create","read","update","delete"]}],die=({open:e,onOpenChange:t,user:s,onUserUpdated:r})=>{const[a,o]=p.useState(!1),[i,l]=p.useState({}),[d,c]=p.useState({}),[u,h]=p.useState(!1),{toast:m}=nt();p.useEffect(()=>{if(s)if(l({email:s.email,firstName:s.first_name,lastName:s.last_name,role:s.role,status:s.status}),s.permissions&&Object.keys(s.permissions).length>0)c(s.permissions),h(!0);else{const v=zn.getRolePermissions(s.role);c(v),h(!1)}},[s]);const f=async v=>{if(v.preventDefault(),!!s){o(!0);try{const g={...i,permissions:u?d:void 0};console.log("Updating user with data:",g);const j=await zn.updateUser(s.id,g);j.success?(m({title:"User Updated Successfully",description:`User ${s.username} has been updated.`}),t(!1),r==null||r()):m({title:"Error Updating User",description:j.error||"An error occurred while updating the user.",variant:"destructive"})}catch(g){console.error("User update error:",g),m({title:"Error Updating User",description:g.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}},y=v=>g=>{if(l(j=>({...j,[v]:g})),v==="role"){const j=zn.getRolePermissions(g);u||c(j)}},x=(v,g)=>{c(j=>{const N=j[v]||[],b=N.includes(g);return{...j,[v]:b?N.filter(E=>E!==g):[...N,g]}})},w=()=>{if(i.role){const v=zn.getRolePermissions(i.role);c(v),h(!1)}};return s?n.jsx(St,{open:e,onOpenChange:t,children:n.jsxs(ft,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[n.jsxs(Ct,{children:[n.jsxs(Et,{children:["Edit User: ",s.username]}),n.jsx(fr,{children:"Update user information and customize their permissions."})]}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"firstName",children:"First Name"}),n.jsx(I,{id:"firstName",value:i.firstName||"",onChange:v=>y("firstName")(v.target.value),disabled:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"lastName",children:"Last Name"}),n.jsx(I,{id:"lastName",value:i.lastName||"",onChange:v=>y("lastName")(v.target.value),disabled:a})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email"}),n.jsx(I,{id:"email",type:"email",value:i.email||"",onChange:v=>y("email")(v.target.value),disabled:a})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(te,{value:i.role||"",onValueChange:y("role"),disabled:a,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select a role"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"status",children:"Status"}),n.jsxs(te,{value:i.status||"",onValueChange:y("status"),disabled:a,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select status"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"active",children:"Active"}),n.jsx(A,{value:"inactive",children:"Inactive"}),n.jsx(A,{value:"pending",children:"Pending"})]})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"useCustomPermissions",checked:u,onCheckedChange:v=>h(v===!0),disabled:a}),n.jsx(S,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:a,children:"Reset to Role Defaults"})]})]}),n.jsxs(J,{children:[n.jsx(oe,{children:n.jsx(ge,{children:u?"Customize individual permissions for this user":`Using default permissions for ${i.role||"selected"} role`})}),n.jsx(re,{children:n.jsx("div",{className:"grid gap-4",children:cie.map(v=>{const g=d[v.key]||[],j=v.icon;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(S,{className:"font-medium",children:v.label})]}),n.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:v.permissions.map(N=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:`${v.key}-${N}`,checked:g.includes(N),onCheckedChange:()=>x(v.key,N),disabled:a||!u}),n.jsx(S,{htmlFor:`${v.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},v.key)})})})]})]}),n.jsxs(nc,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:a,children:[a&&n.jsx($t,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},uie=({users:e,isLoading:t=!1,onRefresh:s})=>{const[r,a]=p.useState(!1),[o,i]=p.useState(!1),[l,d]=p.useState(null),c=h=>{switch(h){case"administrator":return n.jsx(Kk,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(ut,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(tA,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(an,{className:"h-4 w-4"})}},u=h=>{switch(h){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"User Management"}),n.jsx(ge,{children:"Manage system users and their access levels"})]}),n.jsxs("div",{className:"flex gap-2",children:[s&&n.jsxs(W,{variant:"outline",onClick:s,disabled:t,children:[n.jsx(qt,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),n.jsx(re,{children:t?n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((h,m)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ze,{className:"h-10 w-10 rounded-full"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(ze,{className:"h-4 w-[200px]"}),n.jsx(ze,{className:"h-4 w-[150px]"})]}),n.jsx(ze,{className:"h-8 w-20"}),n.jsx(ze,{className:"h-8 w-8"})]},m))}):e.length===0?n.jsx(ai,{icon:n.jsx(an,{className:"h-12 w-12"}),title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Username"}),n.jsx($e,{children:"Email"}),n.jsx($e,{children:"Role"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Last Login"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(Jo,{children:e.map(h=>n.jsxs(Gn,{children:[n.jsx(Ve,{className:"font-medium",children:h.username}),n.jsx(Ve,{children:h.email}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[c(h.role),n.jsx("span",{className:"capitalize",children:h.role})]})}),n.jsx(Ve,{children:n.jsx(le,{variant:u(h.status),children:h.status})}),n.jsx(Ve,{className:"text-muted-foreground",children:h.last_login_at||"Never"}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{d(h),i(!0)},children:n.jsx(Bl,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(Ja,{className:"h-4 w-4"})})]})})]},h.id))})]})})}),n.jsx(lie,{open:r,onOpenChange:a,onUserCreated:()=>{a(!1),s==null||s()}}),n.jsx(die,{open:o,onOpenChange:i,user:l,onUserUpdated:()=>{i(!1),d(null),s==null||s()}})]})},hie=({roles:e,isLoading:t=!1,onRefresh:s})=>{const r=a=>{switch(a){case"administrator":return n.jsx(Kk,{className:"h-4 w-4 text-warning"});case"integrator":return n.jsx(ut,{className:"h-4 w-4 text-info"});case"viewer":return n.jsx(tA,{className:"h-4 w-4 text-muted-foreground"});default:return n.jsx(an,{className:"h-4 w-4"})}};return n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Role Management"}),n.jsx(ge,{children:"Define and manage user roles and permissions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx(W,{variant:"outline",size:"sm",onClick:s,disabled:t,children:n.jsx(qt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})]})}),n.jsx(re,{children:n.jsx("div",{className:"grid gap-4",children:t?Array.from({length:3}).map((a,o)=>n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ze,{className:"h-4 w-4 rounded-full"}),n.jsxs("div",{children:[n.jsx(ze,{className:"h-5 w-32 mb-2"}),n.jsx(ze,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{className:"h-6 w-16"}),n.jsx(ze,{className:"h-8 w-8"})]})]})}),n.jsx(re,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:4}).map((i,l)=>n.jsx(ze,{className:"h-6 w-20"},l))})})]},o)):e.length===0?n.jsx(ai,{icon:n.jsx(Kn,{className:"h-12 w-12"}),title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(a=>n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[r(a.name),n.jsxs("div",{children:[n.jsx(ie,{className:"text-lg capitalize",children:a.name}),n.jsx(ge,{children:a.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(le,{variant:"outline",children:[a.userCount," users"]}),n.jsx(W,{variant:"outline",size:"sm",children:n.jsx(Bl,{className:"h-4 w-4"})})]})]})}),n.jsx(re,{children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.permissions.map(o=>n.jsx(le,{variant:"secondary",className:"text-xs",children:o.replace("_"," ")},o))})]})})]},a.id))})})]})},mie=({certificates:e,isLoading:t=!1,onRefresh:s})=>{const r=a=>{switch(a){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Certificate Management"}),n.jsx(ge,{children:"Manage SSL certificates and authentication keys"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx(W,{variant:"outline",size:"sm",onClick:s,disabled:t,children:n.jsx(qt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),n.jsxs(W,{className:"bg-gradient-primary",children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})]})}),n.jsx(re,{children:t?n.jsx("div",{className:"rounded-md border",children:n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Name"}),n.jsx($e,{children:"Type"}),n.jsx($e,{children:"Issuer"}),n.jsx($e,{children:"Valid Period"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Usage"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(Jo,{children:Array.from({length:3}).map((a,o)=>n.jsxs(Gn,{children:[n.jsx(Ve,{children:n.jsx(ze,{className:"h-4 w-32"})}),n.jsx(Ve,{children:n.jsx(ze,{className:"h-4 w-24"})}),n.jsx(Ve,{children:n.jsx(ze,{className:"h-4 w-28"})}),n.jsx(Ve,{children:n.jsx(ze,{className:"h-4 w-40"})}),n.jsx(Ve,{children:n.jsx(ze,{className:"h-6 w-16"})}),n.jsx(Ve,{children:n.jsx(ze,{className:"h-4 w-36"})}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ze,{className:"h-8 w-8"}),n.jsx(ze,{className:"h-8 w-8"})]})})]},o))})]})}):e.length===0?n.jsx(ai,{icon:n.jsx(xl,{className:"h-12 w-12"}),title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Name"}),n.jsx($e,{children:"Type"}),n.jsx($e,{children:"Issuer"}),n.jsx($e,{children:"Valid Period"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Usage"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(Jo,{children:e.map(a=>n.jsxs(Gn,{children:[n.jsx(Ve,{className:"font-medium",children:a.name}),n.jsx(Ve,{children:a.type}),n.jsx(Ve,{children:a.issuer}),n.jsxs(Ve,{className:"text-sm",children:[a.validFrom," to ",a.validTo]}),n.jsx(Ve,{children:n.jsx(le,{variant:r(a.status),children:a.status})}),n.jsx(Ve,{className:"text-muted-foreground text-sm",children:a.usage}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",children:n.jsx(Bl,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive",children:n.jsx(Ja,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})},pie=({open:e,onOpenChange:t,onDriverAdded:s})=>{const[r,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({databaseType:"",name:"",version:""}),{toast:c}=nt(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],h=y=>{var w;const x=(w=y.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(x);const v=x.name.replace(".jar","");d(g=>({...g,name:v,version:g.version||"1.0.0"}))}},m=async()=>{var y,x;if(!r||!l.databaseType){c({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(v=>setTimeout(v,2e3));const w={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${(y=u.find(v=>v.value===l.databaseType))==null?void 0:y.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(w),a(null),d({databaseType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JDBC driver for ${(x=u.find(v=>v.value===l.databaseType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({databaseType:"",name:"",version:""})};return n.jsx(St,{open:e,onOpenChange:y=>{t(y),y||f()},children:n.jsxs(ft,{className:"sm:max-w-[425px]",children:[n.jsx(Ct,{children:n.jsx(Et,{children:"Add JDBC Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"database-type",children:"Database Type *"}),n.jsxs(te,{value:l.databaseType,onValueChange:y=>d(x=>({...x,databaseType:y})),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select database type"})}),n.jsx(ee,{children:u.map(y=>n.jsx(A,{value:y.value,children:y.label},y.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{id:"jdbc-file",type:"file",accept:".jar",onChange:h,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(I,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:y=>d(x=>({...x,name:y.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-version",children:"Version"}),n.jsx(I,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:y=>d(x=>({...x,version:y.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:m,disabled:o||!r||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(Hl,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},fie=({open:e,onOpenChange:t,onDriverAdded:s})=>{const[r,a]=p.useState(null),[o,i]=p.useState(!1),[l,d]=p.useState({brokerType:"",name:"",version:""}),{toast:c}=nt(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],h=y=>{var w;const x=(w=y.target.files)==null?void 0:w[0];if(x){if(!x.name.endsWith(".jar")){c({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(x);const v=x.name.replace(".jar","");d(g=>({...g,name:v,version:g.version||"1.0.0"}))}},m=async()=>{var y,x;if(!r||!l.brokerType){c({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(v=>setTimeout(v,2e3));const w={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${(y=u.find(v=>v.value===l.brokerType))==null?void 0:y.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(w),a(null),d({brokerType:"",name:"",version:""}),t(!1),c({title:"Upload Successful",description:`JMS driver for ${(x=u.find(v=>v.value===l.brokerType))==null?void 0:x.label} has been uploaded.`})}catch{c({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{i(!1)}},f=()=>{a(null),d({brokerType:"",name:"",version:""})};return n.jsx(St,{open:e,onOpenChange:y=>{t(y),y||f()},children:n.jsxs(ft,{className:"sm:max-w-[425px]",children:[n.jsx(Ct,{children:n.jsx(Et,{children:"Add JMS Driver"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"broker-type",children:"Message Broker Type *"}),n.jsxs(te,{value:l.brokerType,onValueChange:y=>d(x=>({...x,brokerType:y})),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select broker type"})}),n.jsx(ee,{children:u.map(y=>n.jsx(A,{value:y.value,children:y.label},y.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jms-file",children:"JMS Driver File *"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{id:"jms-file",type:"file",accept:".jar",onChange:h,className:"cursor-pointer"}),n.jsx(W,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-name",children:"Driver Name"}),n.jsx(I,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:y=>d(x=>({...x,name:y.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"driver-version",children:"Version"}),n.jsx(I,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:y=>d(x=>({...x,version:y.target.value}))})]})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(W,{onClick:m,disabled:o||!r||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[n.jsx(Hl,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},xie=({jarFiles:e,isLoading:t=!1,onRefresh:s,onJarFileAdded:r,onJarFileDeleted:a})=>{const[o,i]=p.useState(!1),[l,d]=p.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[n.jsxs(J,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>i(!0),children:[n.jsxs(oe,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(ln,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),n.jsx(ie,{className:"text-xl",children:"JDBC Driver"}),n.jsx(ge,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),n.jsx(re,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),n.jsxs(J,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>d(!0),children:[n.jsxs(oe,{className:"text-center pb-4",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:n.jsx(En,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),n.jsx(ie,{className:"text-xl",children:"JMS Driver"}),n.jsx(ge,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),n.jsx(re,{className:"text-center pt-0",children:n.jsx(W,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]}),s&&n.jsx(W,{variant:"outline",size:"sm",onClick:s,disabled:t,children:n.jsx(qt,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})]}),t?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((c,u)=>n.jsxs(J,{children:[n.jsxs(oe,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{className:"h-5 w-5 rounded"}),n.jsx(ze,{className:"h-5 w-32"})]}),n.jsx(ze,{className:"h-4 w-48 mt-1"})]}),n.jsxs(re,{className:"pt-0",children:[n.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((h,m)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(ze,{className:"h-4 w-16"}),n.jsx(ze,{className:"h-4 w-20"})]},m))}),n.jsx(ze,{className:"h-8 w-full mt-3"})]})]},u))}):e.length===0?n.jsx(ai,{icon:n.jsx(Pd,{className:"h-12 w-12"}),title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>n.jsxs(J,{children:[n.jsxs(oe,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[c.driver_type==="JDBC"?n.jsx(ln,{className:"h-5 w-5 text-blue-600"}):n.jsx(En,{className:"h-5 w-5 text-green-600"}),n.jsx(ie,{className:"text-base",children:c.name})]}),n.jsx(ge,{className:"text-xs",children:c.file_name})]}),n.jsxs(re,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Version:"}),n.jsx("span",{children:c.version})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{children:c.driver_type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Size:"}),n.jsx("span",{children:c.size_bytes?`${Math.round(c.size_bytes/1024)} KB`:"N/A"})]})]}),n.jsx(W,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>a(c.id),children:"Remove"})]})]},c.id))})]}),n.jsx(pie,{open:o,onOpenChange:i,onDriverAdded:r}),n.jsx(fie,{open:l,onOpenChange:d,onDriverAdded:r})]})},gie=({jarFiles:e,isLoading:t,onRefresh:s,onJarFileAdded:r,onJarFileDeleted:a})=>n.jsx(xie,{jarFiles:e,isLoading:t,onRefresh:s,onJarFileAdded:r,onJarFileDeleted:a});class vie{constructor(){Je(this,"listeners",[]);Je(this,"API_BASE_URL","http://localhost:8080/api");window.addEventListener("error",t=>{var s;this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(s=t.error)==null?void 0:s.stack})}),window.addEventListener("unhandledrejection",t=>{var s;this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:(s=t.reason)==null?void 0:s.stack})})}async logError(t,s){const r={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:s,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};await this.sendLogToBackend(r),this.notifyListeners(r)}async logInfo(t,s,r="system",a,o){const i={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:s,source:r,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async logWarning(t,s,r="system",a,o){const i={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:s,source:r,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async sendLogToBackend(t){try{await fetch(`${this.API_BASE_URL}/system/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(s){console.error("Failed to send log to backend:",s)}}async getAllLogs(){try{const t=await fetch(`${this.API_BASE_URL}/system/logs`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to fetch logs from backend:",t),[]}}async getFilteredLogs(t){try{const s=new URLSearchParams;Object.entries(t).forEach(([o,i])=>{i!==void 0&&s.append(o,i.toString())});const r=`${this.API_BASE_URL}/system/logs${s.toString()?`?${s.toString()}`:""}`,a=await fetch(r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(s){return console.error("Failed to fetch filtered logs from backend:",s),[]}}onLogUpdate(t){return this.listeners.push(t),()=>{const s=this.listeners.indexOf(t);s>-1&&this.listeners.splice(s,1)}}notifyListeners(t){this.listeners.forEach(s=>s(t))}}const mv=new vie,QN=(e={})=>{const[t,s]=p.useState([]),[r,a]=p.useState({adapters:[],channels:[],flows:[]}),[o,i]=p.useState(!1),[l,d]=p.useState(),c=async()=>{var m;try{const[f,y]=await Promise.all([fO.getAdapters(),Q.get("/channels")]);a({adapters:f.success?((m=f.data)==null?void 0:m.adapters)||[]:[],channels:y.success?y.data||[]:[],flows:[]})}catch(f){console.error("Failed to fetch sources:",f)}},u=async()=>{i(!0),d(void 0);try{const m=new URLSearchParams;e.source&&m.append("source",e.source),e.sourceId&&m.append("sourceId",e.sourceId),e.level&&m.append("level",e.level),e.search&&m.append("search",e.search),e.startDate&&m.append("startDate",e.startDate),e.endDate&&m.append("endDate",e.endDate),e.domainType&&m.append("domainType",e.domainType),e.domainReferenceId&&m.append("domainReferenceId",e.domainReferenceId);const f=`/api/logs/system${m.toString()?`?${m.toString()}`:""}`,y=await Q.get(f);if(y.success&&y.data)s(y.data);else{const x=mv.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});s(x)}}catch{try{const f=mv.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});s(f)}catch(f){d(f instanceof Error?f.message:"Failed to fetch logs"),s([])}}finally{i(!1)}},h=()=>{u()};return p.useEffect(()=>{c()},[]),p.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),p.useEffect(()=>{if(e.autoRefresh){const m=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(m)}},[e.autoRefresh,e.refreshInterval]),p.useEffect(()=>mv.onLogUpdate(()=>{u()}),[]),{logs:t,sources:r,loading:o,error:l,refetch:h}},Ni=e=>{const[t,s]=p.useState([]),[r,a]=p.useState(!1),[o,i]=p.useState(),{logs:l,loading:d,error:c}=QN({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),i(void 0);try{const m=yie(e.domainType),f=new URLSearchParams;e.referenceId&&f.append("referenceId",e.referenceId);const y=`/api/logs/${m}${f.toString()?`?${f.toString()}`:""}`,x=await Q.get(y);x.success&&x.data?s(x.data):(s([]),console.log(`No domain errors found for ${e.domainType}`))}catch(m){s([]),i(`Failed to fetch domain errors for ${e.domainType}`),console.error(`Failed to fetch domain errors for ${e.domainType}:`,m)}finally{a(!1)}},h=()=>{u()};return p.useEffect(()=>{u()},[e.domainType,e.referenceId]),p.useEffect(()=>{if(e.autoRefresh){const m=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(m)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t,systemLogs:e.includeSystemLogs?l:[],loading:r||(e.includeSystemLogs?d:!1),error:o||(e.includeSystemLogs?c:void 0),refetch:h}},yie=e=>({UserManagement:"user-errors",FlowEngine:"flow-errors",AdapterManagement:"adapter-errors",DataStructures:"structure-errors",ChannelManagement:"channel-errors",MessageProcessing:"message-errors"})[e],jie=({logs:e,loading:t,error:s,selectedSource:r})=>{const[a,o]=p.useState(new Set),i=h=>{const m=new Set(a);m.has(h)?m.delete(h):m.add(h),o(m)},l=h=>{switch(h){case"error":return n.jsx(gs,{className:"h-4 w-4 text-destructive"});case"warn":return n.jsx(ts,{className:"h-4 w-4 text-warning"});case"info":return n.jsx(es,{className:"h-4 w-4 text-success"});default:return n.jsx(d1,{className:"h-4 w-4 text-muted-foreground"})}},d=h=>{switch(h){case"error":return n.jsx(le,{variant:"destructive",children:"Error"});case"warn":return n.jsx(le,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return n.jsx(le,{variant:"outline",children:"Info"});case"debug":return n.jsx(le,{variant:"secondary",children:"Debug"});default:return n.jsx(le,{variant:"outline",children:h})}},c=(h,m)=>{const f=m||h;switch(h){case"adapter":return n.jsx(le,{variant:"default",children:f});case"channel":return n.jsx(le,{variant:"secondary",children:f});case"system":return n.jsx(le,{variant:"outline",children:"System"});case"flow":return n.jsxs(le,{variant:"default",children:["Flow: ",f]});case"api":return n.jsx(le,{variant:"destructive",children:"API"});default:return n.jsx(le,{variant:"outline",children:f})}},u=h=>new Date(h).toLocaleString();return t?n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-8 text-center",children:n.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):s?n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-8 text-center",children:n.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",s]})})}):e.length===0?n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-8 text-center",children:n.jsx("div",{className:"text-muted-foreground",children:r?"No logs found for the selected filters":"No system logs available"})})}):n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[n.jsx(d1,{className:"h-5 w-5"}),"System Logs (",e.length,")"]})}),n.jsx(re,{children:n.jsx(zo,{className:"h-96",children:n.jsx("div",{className:"space-y-2",children:e.map(h=>n.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l(h.level),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(h.level),c(h.source,h.sourceName),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(vs,{className:"h-3 w-3"}),u(h.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:h.message}),h.details&&n.jsxs("div",{className:"mt-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(h.id),className:"text-xs",children:a.has(h.id)?"Hide Details":"Show Details"}),a.has(h.id)&&n.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:n.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof h.details=="string"?h.details:JSON.stringify(h.details,null,2)})})]})]})]})}),h!==e[e.length-1]&&n.jsx(Oe,{className:"mt-3"})]},h.id))})})})]})},bi=({domainType:e,domainErrors:t,systemLogs:s,loading:r,error:a,referenceId:o,referenceName:i})=>{const[l,d]=p.useState(new Set),[c,u]=p.useState(new Set),h=g=>{const j=new Set(l);j.has(g)?j.delete(g):j.add(g),d(j)},m=g=>{const j=new Set(c);j.has(g)?j.delete(g):j.add(g),u(j)},f=g=>{const N={UserManagement:gl,FlowEngine:Bf,AdapterManagement:$a,DataStructures:ln,ChannelManagement:ut,MessageProcessing:En}[g];return n.jsx(N,{className:"h-4 w-4"})},y=g=>{const j={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(j).find(E=>g.includes(E))||"default",b=j[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return n.jsx(le,{variant:"secondary",className:b,children:g})},x=g=>{switch(g){case"error":return n.jsx(Gt,{className:"h-4 w-4 text-red-500"});case"warn":return n.jsx(ts,{className:"h-4 w-4 text-yellow-500"});case"info":return n.jsx(es,{className:"h-4 w-4 text-blue-500"});case"debug":return n.jsx(ut,{className:"h-4 w-4 text-gray-500"});default:return n.jsx(es,{className:"h-4 w-4 text-gray-500"})}},w=g=>new Date(g).toLocaleString(),v=g=>{try{const j=JSON.parse(g);return JSON.stringify(j,null,2)}catch{return g}};return r?n.jsx(J,{children:n.jsx(re,{className:"p-6",children:n.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?n.jsxs(st,{variant:"destructive",children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsx(rt,{children:a})]}):n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs(ie,{className:"flex items-center gap-2",children:[f(e),e," Logs",i&&n.jsx(le,{variant:"outline",children:i})]})}),n.jsx(re,{children:n.jsxs(et,{defaultValue:"errors",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2",children:[n.jsxs(je,{value:"errors",children:["User-Friendly Errors (",t.length,")"]}),n.jsxs(je,{value:"system",children:["System Logs (",s.length,")"]})]}),n.jsx(ve,{value:"errors",children:n.jsx(zo,{className:"h-[600px] w-full",children:t.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):n.jsx("div",{className:"space-y-4",children:t.map(g=>n.jsx(J,{className:"border-l-4 border-l-red-500",children:n.jsx(re,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[y(g.action),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(vs,{className:"h-3 w-3 inline mr-1"}),w(g.createdAt)]})]}),g.description&&n.jsx("p",{className:"text-sm font-medium",children:g.description}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>h(g.id),className:"h-6 px-2",children:[l.has(g.id)?n.jsx($s,{className:"h-3 w-3"}):n.jsx(Zn,{className:"h-3 w-3"}),"Show Details"]})}),l.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:v(g.payload)})]}),g.systemLogId&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),n.jsx(le,{variant:"outline",className:"text-xs",children:g.systemLogId})]})]})]})})})},g.id))})})}),n.jsx(ve,{value:"system",children:n.jsx(zo,{className:"h-[600px] w-full",children:s.length===0?n.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):n.jsx("div",{className:"space-y-4",children:s.map(g=>n.jsx(J,{children:n.jsx(re,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[x(g.level),n.jsx(le,{variant:g.level==="error"?"destructive":"secondary",children:g.level.toUpperCase()}),g.source&&n.jsx(le,{variant:"outline",children:g.source}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.jsx(vs,{className:"h-3 w-3 inline mr-1"}),w(g.timestamp)]})]}),n.jsx("p",{className:"text-sm font-medium",children:g.message}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>m(g.id),className:"h-6 px-2",children:[c.has(g.id)?n.jsx($s,{className:"h-3 w-3"}):n.jsx(Zn,{className:"h-3 w-3"}),"Show Details"]})}),c.has(g.id)&&n.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[g.details&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),n.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof g.details=="string"?g.details:JSON.stringify(g.details,null,2)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[g.sourceName&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source Name:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceName})]}),g.sourceId&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Source ID:"}),n.jsx("p",{className:"text-muted-foreground",children:g.sourceId})]})]})]})]})})})},g.id))})})})]})})]})};var Pe=function(){return Pe=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Pe.apply(this,arguments)};function wie(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function AO(e,t,s){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Hu(e){return e.mode==="multiple"}function zu(e){return e.mode==="range"}function $x(e){return e.mode==="single"}var Nie={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function bie(e,t){return Wr(e,"LLLL y",t)}function Sie(e,t){return Wr(e,"d",t)}function Cie(e,t){return Wr(e,"LLLL",t)}function Eie(e){return"".concat(e)}function Tie(e,t){return Wr(e,"cccccc",t)}function Pie(e,t){return Wr(e,"yyyy",t)}var kie=Object.freeze({__proto__:null,formatCaption:bie,formatDay:Sie,formatMonthCaption:Cie,formatWeekNumber:Eie,formatWeekdayName:Tie,formatYearCaption:Pie}),Aie=function(e,t,s){return Wr(e,"do MMMM (EEEE)",s)},Die=function(){return"Month: "},Rie=function(){return"Go to next month"},Mie=function(){return"Go to previous month"},Fie=function(e,t){return Wr(e,"cccc",t)},_ie=function(e){return"Week n. ".concat(e)},Iie=function(){return"Year: "},Oie=Object.freeze({__proto__:null,labelDay:Aie,labelMonthDropdown:Die,labelNext:Rie,labelPrevious:Mie,labelWeekNumber:_ie,labelWeekday:Fie,labelYearDropdown:Iie});function Lie(){var e="buttons",t=Nie,s=KN,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:kie,labels:Oie,locale:s,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function $ie(e){var t=e.fromYear,s=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=_n(r):t&&(o=new Date(t,0,1)),a?i=Lx(a):s&&(i=new Date(s,11,31)),{fromDate:o?Rl(o):void 0,toDate:i?Rl(i):void 0}}var DO=p.createContext(void 0);function Vie(e){var t,s=e.initialProps,r=Lie(),a=$ie(s),o=a.fromDate,i=a.toDate,l=(t=s.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;($x(s)||Hu(s)||zu(s))&&(d=s.onSelect);var c=Pe(Pe(Pe({},r),s),{captionLayout:l,classNames:Pe(Pe({},r.classNames),s.classNames),components:Pe({},s.components),formatters:Pe(Pe({},r.formatters),s.formatters),fromDate:o,labels:Pe(Pe({},r.labels),s.labels),mode:s.mode||r.mode,modifiers:Pe(Pe({},r.modifiers),s.modifiers),modifiersClassNames:Pe(Pe({},r.modifiersClassNames),s.modifiersClassNames),onSelect:d,styles:Pe(Pe({},r.styles),s.styles),toDate:i});return n.jsx(DO.Provider,{value:c,children:e.children})}function it(){var e=p.useContext(DO);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RO(e){var t=it(),s=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:s})})}function Uie(e){return n.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MO(e){var t,s,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,c=it(),u=(s=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:Uie;return n.jsxs("div",{className:l,style:d,children:[n.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:r,children:o}),n.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Bie(e){var t,s=it(),r=s.fromDate,a=s.toDate,o=s.styles,i=s.locale,l=s.formatters.formatMonthCaption,d=s.classNames,c=s.components,u=s.labels.labelMonthDropdown;if(!r)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var h=[];if(Hoe(r,a))for(var m=_n(r),f=r.getMonth();f<=a.getMonth();f++)h.push(hv(m,f));else for(var m=_n(new Date),f=0;f<=11;f++)h.push(hv(m,f));var y=function(w){var v=Number(w.target.value),g=hv(_n(e.displayMonth),v);e.onChange(g)},x=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:MO;return n.jsx(x,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(w){return n.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function Hie(e){var t,s=e.displayMonth,r=it(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,d=r.classNames,c=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var f=a.getFullYear(),y=o.getFullYear(),x=f;x<=y;x++)m.push(O2(bO(new Date),x));var w=function(g){var j=O2(_n(s),Number(g.target.value));e.onChange(j)},v=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:MO;return n.jsx(v,{name:"years","aria-label":h(),className:d.dropdown_year,style:l.dropdown_year,onChange:w,value:s.getFullYear(),caption:u(s,{locale:i}),children:m.map(function(g){return n.jsx("option",{value:g.getFullYear(),children:u(g,{locale:i})},g.getFullYear())})})}function zie(e,t){var s=p.useState(e),r=s[0],a=s[1],o=t===void 0?r:t;return[o,a]}function qie(e){var t=e.month,s=e.defaultMonth,r=e.today,a=t||s||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Fl(o,a)<0){var c=-1*(d-1);a=Hs(o,c)}return i&&Fl(a,i)<0&&(a=i),_n(a)}function Wie(){var e=it(),t=qie(e),s=zie(t,e.month),r=s[0],a=s[1],o=function(i){var l;if(!e.disableNavigation){var d=_n(i);a(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[r,o]}function Yie(e,t){for(var s=t.reverseMonths,r=t.numberOfMonths,a=_n(e),o=_n(Hs(a,r)),i=Fl(o,a),l=[],d=0;d<i;d++){var c=Hs(a,d);l.push(c)}return s&&(l=l.reverse()),l}function Kie(e,t){if(!t.disableNavigation){var s=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=_n(e);if(!s)return Hs(l,i);var d=Fl(s,e);if(!(d<o))return Hs(l,i)}}function Gie(e,t){if(!t.disableNavigation){var s=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=_n(e);if(!s)return Hs(l,-i);var d=Fl(l,s);if(!(d<=0))return Hs(l,-i)}}var FO=p.createContext(void 0);function Xie(e){var t=it(),s=Wie(),r=s[0],a=s[1],o=Yie(r,t),i=Kie(r,t),l=Gie(r,t),d=function(h){return o.some(function(m){return GN(h,m)})},c=function(h,m){d(h)||(m&&kO(h,m)?a(Hs(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:c,previousMonth:l,nextMonth:i,isDateDisplayed:d};return n.jsx(FO.Provider,{value:u,children:e.children})}function qu(){var e=p.useContext(FO);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function L2(e){var t,s=it(),r=s.classNames,a=s.styles,o=s.components,i=qu().goToMonth,l=function(u){i(Hs(u,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:RO,c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:r.vhidden,children:c}),n.jsx(Bie,{onChange:l,displayMonth:e.displayMonth}),n.jsx(Hie,{onChange:l,displayMonth:e.displayMonth})]})}function Jie(e){return n.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Qie(e){return n.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var mf=p.forwardRef(function(e,t){var s=it(),r=s.classNames,a=s.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=Pe(Pe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Pe({},e,{ref:t,type:"button",className:i,style:l}))});function Zie(e){var t,s,r=it(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,d=r.labels,c=d.labelPrevious,u=d.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=c(e.previousMonth,{locale:o}),f=[i.nav_button,i.nav_button_previous].join(" "),y=u(e.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),w=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Qie,v=(s=h==null?void 0:h.IconLeft)!==null&&s!==void 0?s:Jie;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(mf,{name:"previous-month","aria-label":m,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(w,{className:i.nav_icon,style:l.nav_icon}):n.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(mf,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(v,{className:i.nav_icon,style:l.nav_icon}):n.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function $2(e){var t=it().numberOfMonths,s=qu(),r=s.previousMonth,a=s.nextMonth,o=s.goToMonth,i=s.displayMonths,l=i.findIndex(function(y){return GN(e.displayMonth,y)}),d=l===0,c=l===i.length-1,u=t>1&&(d||!c),h=t>1&&(c||!d),m=function(){r&&o(r)},f=function(){a&&o(a)};return n.jsx(Zie,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:m,onNextClick:f})}function ele(e){var t,s=it(),r=s.classNames,a=s.disableNavigation,o=s.styles,i=s.captionLayout,l=s.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:RO,c;return a?c=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=n.jsx(L2,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=n.jsxs(n.Fragment,{children:[n.jsx(L2,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx($2,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx($2,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:r.caption,style:o.caption,children:c})}function tle(e){var t=it(),s=t.footer,r=t.styles,a=t.classNames.tfoot;return s?n.jsx("tfoot",{className:a,style:r.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:s})})}):n.jsx(n.Fragment,{})}function nle(e,t,s){for(var r=s?Ko(new Date):gr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=xn(r,o);a.push(i)}return a}function sle(){var e=it(),t=e.classNames,s=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=nle(a,o,i);return n.jsxs("tr",{style:s.head_row,className:t.head_row,children:[r&&n.jsx("td",{style:s.head_cell,className:t.head_cell}),c.map(function(u,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":d(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function rle(){var e,t=it(),s=t.classNames,r=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:sle;return n.jsx("thead",{style:r.head,className:s.head,children:n.jsx(o,{})})}function ale(e){var t=it(),s=t.locale,r=t.formatters.formatDay;return n.jsx(n.Fragment,{children:r(e.date,{locale:s})})}var ZN=p.createContext(void 0);function ole(e){if(!Hu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(ZN.Provider,{value:t,children:e.children})}return n.jsx(ile,{initialProps:e.initialProps,children:e.children})}function ile(e){var t=e.initialProps,s=e.children,r=t.selected,a=t.min,o=t.max,i=function(c,u,h){var m,f;(m=t.onDayClick)===null||m===void 0||m.call(t,c,u,h);var y=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!y){var x=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!x){var w=r?AO([],r):[];if(u.selected){var v=w.findIndex(function(g){return Pn(c,g)});w.splice(v,1)}else w.push(c);(f=t.onSelect)===null||f===void 0||f.call(t,w,c,u,h)}}},l={disabled:[]};r&&l.disabled.push(function(c){var u=o&&r.length>o-1,h=r.some(function(m){return Pn(m,c)});return!!(u&&!h)});var d={selected:r,onDayClick:i,modifiers:l};return n.jsx(ZN.Provider,{value:d,children:s})}function eb(){var e=p.useContext(ZN);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function lle(e,t){var s=t||{},r=s.from,a=s.to;return r&&a?Pn(a,e)&&Pn(r,e)?void 0:Pn(a,e)?{from:a,to:void 0}:Pn(r,e)?void 0:Lj(r,e)?{from:e,to:a}:{from:r,to:e}:a?Lj(e,a)?{from:a,to:e}:{from:e,to:a}:r?kO(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var tb=p.createContext(void 0);function cle(e){if(!zu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(tb.Provider,{value:t,children:e.children})}return n.jsx(dle,{initialProps:e.initialProps,children:e.children})}function dle(e){var t=e.initialProps,s=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,d=t.max,c=function(f,y,x){var w,v;(w=t.onDayClick)===null||w===void 0||w.call(t,f,y,x);var g=lle(f,r);(v=t.onSelect)===null||v===void 0||v.call(t,g,f,y,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],Pn(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:uv(o,l-1),before:xn(o,l-1)}),o&&i&&u.disabled.push({after:o,before:xn(o,l-1)}),!o&&i&&u.disabled.push({after:uv(i,l-1),before:xn(i,l-1)})),d){if(o&&!i&&(u.disabled.push({before:xn(o,-d+1)}),u.disabled.push({after:xn(o,d-1)})),o&&i){var h=or(i,o)+1,m=d-h;u.disabled.push({before:uv(o,m)}),u.disabled.push({after:xn(i,m)})}!o&&i&&(u.disabled.push({before:xn(i,-d+1)}),u.disabled.push({after:xn(i,d-1)}))}return n.jsx(tb.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:s})}function nb(){var e=p.useContext(tb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function np(e){return Array.isArray(e)?AO([],e):e!==void 0?[e]:[]}function ule(e){var t={};return Object.entries(e).forEach(function(s){var r=s[0],a=s[1];t[r]=np(a)}),t}var zs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(zs||(zs={}));var hle=zs.Selected,kr=zs.Disabled,mle=zs.Hidden,ple=zs.Today,pv=zs.RangeEnd,fv=zs.RangeMiddle,xv=zs.RangeStart,fle=zs.Outside;function xle(e,t,s){var r,a=(r={},r[hle]=np(e.selected),r[kr]=np(e.disabled),r[mle]=np(e.hidden),r[ple]=[e.today],r[pv]=[],r[fv]=[],r[xv]=[],r[fle]=[],r);return e.fromDate&&a[kr].push({before:e.fromDate}),e.toDate&&a[kr].push({after:e.toDate}),Hu(e)?a[kr]=a[kr].concat(t.modifiers[kr]):zu(e)&&(a[kr]=a[kr].concat(s.modifiers[kr]),a[xv]=s.modifiers[xv],a[fv]=s.modifiers[fv],a[pv]=s.modifiers[pv]),a}var _O=p.createContext(void 0);function gle(e){var t=it(),s=eb(),r=nb(),a=xle(t,s,r),o=ule(t.modifiers),i=Pe(Pe({},a),o);return n.jsx(_O.Provider,{value:i,children:e.children})}function IO(){var e=p.useContext(_O);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function vle(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function yle(e){return!!(e&&typeof e=="object"&&"from"in e)}function jle(e){return!!(e&&typeof e=="object"&&"after"in e)}function wle(e){return!!(e&&typeof e=="object"&&"before"in e)}function Nle(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ble(e,t){var s,r=t.from,a=t.to;if(r&&a){var o=or(a,r)<0;o&&(s=[a,r],r=s[0],a=s[1]);var i=or(e,r)>=0&&or(a,e)>=0;return i}return a?Pn(a,e):r?Pn(r,e):!1}function Sle(e){return WN(e)}function Cle(e){return Array.isArray(e)&&e.every(WN)}function Ele(e,t){return t.some(function(s){if(typeof s=="boolean")return s;if(Sle(s))return Pn(e,s);if(Cle(s))return s.includes(e);if(yle(s))return ble(e,s);if(Nle(s))return s.dayOfWeek.includes(e.getDay());if(vle(s)){var r=or(s.before,e),a=or(s.after,e),o=r>0,i=a<0,l=Lj(s.before,s.after);return l?i&&o:o||i}return jle(s)?or(e,s.after)>0:wle(s)?or(s.before,e)>0:typeof s=="function"?s(e):!1})}function sb(e,t,s){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return Ele(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),s&&!GN(e,s)&&(a.outside=!0),a}function Tle(e,t){for(var s=_n(e[0]),r=Lx(e[e.length-1]),a,o,i=s;i<=r;){var l=sb(i,t),d=!l.disabled&&!l.hidden;if(!d){i=xn(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=xn(i,1)}return o||a}var Ple=365;function OO(e,t){var s=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=a.weekStartsOn,c=a.fromDate,u=a.toDate,h=a.locale,m={day:xn,week:Oj,month:Hs,year:Aae,startOfWeek:function(w){return a.ISOWeek?Ko(w):gr(w,{locale:h,weekStartsOn:d})},endOfWeek:function(w){return a.ISOWeek?SO(w):YN(w,{locale:h,weekStartsOn:d})}},f=m[s](e,r==="after"?1:-1);r==="before"&&c?f=Dae([c,f]):r==="after"&&u&&(f=Rae([u,f]));var y=!0;if(o){var x=sb(f,o);y=!x.disabled&&!x.hidden}return y?f:l.count>Ple?l.lastFocused:OO(f,{moveBy:s,direction:r,context:a,modifiers:o,retry:Pe(Pe({},l),{count:l.count+1})})}var LO=p.createContext(void 0);function kle(e){var t=qu(),s=IO(),r=p.useState(),a=r[0],o=r[1],i=p.useState(),l=i[0],d=i[1],c=Tle(t.displayMonths,s),u=a??(l&&t.isDateDisplayed(l))?l:c,h=function(){d(a),o(void 0)},m=function(w){o(w)},f=it(),y=function(w,v){if(a){var g=OO(a,{moveBy:w,direction:v,context:f,modifiers:s});Pn(a,g)||(t.goToDate(g,a),m(g))}},x={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return n.jsx(LO.Provider,{value:x,children:e.children})}function rb(){var e=p.useContext(LO);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Ale(e,t){var s=IO(),r=sb(e,s,t);return r}var ab=p.createContext(void 0);function Dle(e){if(!$x(e.initialProps)){var t={selected:void 0};return n.jsx(ab.Provider,{value:t,children:e.children})}return n.jsx(Rle,{initialProps:e.initialProps,children:e.children})}function Rle(e){var t=e.initialProps,s=e.children,r=function(o,i,l){var d,c,u;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return n.jsx(ab.Provider,{value:a,children:s})}function $O(){var e=p.useContext(ab);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Mle(e,t){var s=it(),r=$O(),a=eb(),o=nb(),i=rb(),l=i.focusDayAfter,d=i.focusDayBefore,c=i.focusWeekAfter,u=i.focusWeekBefore,h=i.blur,m=i.focus,f=i.focusMonthBefore,y=i.focusMonthAfter,x=i.focusYearBefore,w=i.focusYearAfter,v=i.focusStartOfWeek,g=i.focusEndOfWeek,j=function(O){var R,_,z,B;$x(s)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,O):Hu(s)?(_=a.onDayClick)===null||_===void 0||_.call(a,e,t,O):zu(s)?(z=o.onDayClick)===null||z===void 0||z.call(o,e,t,O):(B=s.onDayClick)===null||B===void 0||B.call(s,e,t,O)},N=function(O){var R;m(e),(R=s.onDayFocus)===null||R===void 0||R.call(s,e,t,O)},b=function(O){var R;h(),(R=s.onDayBlur)===null||R===void 0||R.call(s,e,t,O)},E=function(O){var R;(R=s.onDayMouseEnter)===null||R===void 0||R.call(s,e,t,O)},C=function(O){var R;(R=s.onDayMouseLeave)===null||R===void 0||R.call(s,e,t,O)},T=function(O){var R;(R=s.onDayPointerEnter)===null||R===void 0||R.call(s,e,t,O)},F=function(O){var R;(R=s.onDayPointerLeave)===null||R===void 0||R.call(s,e,t,O)},V=function(O){var R;(R=s.onDayTouchCancel)===null||R===void 0||R.call(s,e,t,O)},k=function(O){var R;(R=s.onDayTouchEnd)===null||R===void 0||R.call(s,e,t,O)},M=function(O){var R;(R=s.onDayTouchMove)===null||R===void 0||R.call(s,e,t,O)},$=function(O){var R;(R=s.onDayTouchStart)===null||R===void 0||R.call(s,e,t,O)},D=function(O){var R;(R=s.onDayKeyUp)===null||R===void 0||R.call(s,e,t,O)},P=function(O){var R;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),s.dir==="rtl"?l():d();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),s.dir==="rtl"?d():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),c();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),u();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?x():f();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?w():y();break;case"Home":O.preventDefault(),O.stopPropagation(),v();break;case"End":O.preventDefault(),O.stopPropagation(),g();break}(R=s.onDayKeyDown)===null||R===void 0||R.call(s,e,t,O)},L={onClick:j,onFocus:N,onBlur:b,onKeyDown:P,onKeyUp:D,onMouseEnter:E,onMouseLeave:C,onPointerEnter:T,onPointerLeave:F,onTouchCancel:V,onTouchEnd:k,onTouchMove:M,onTouchStart:$};return L}function Fle(){var e=it(),t=$O(),s=eb(),r=nb(),a=$x(e)?t.selected:Hu(e)?s.selected:zu(e)?r.selected:void 0;return a}function _le(e){return Object.values(zs).includes(e)}function Ile(e,t){var s=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)s.push(a);else if(_le(r)){var o=e.classNames["day_".concat(r)];o&&s.push(o)}}),s}function Ole(e,t){var s=Pe({},e.styles.day);return Object.keys(t).forEach(function(r){var a;s=Pe(Pe({},s),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),s}function Lle(e,t,s){var r,a,o,i=it(),l=rb(),d=Ale(e,t),c=Mle(e,d),u=Fle(),h=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var E;d.outside||l.focusedDay&&h&&Pn(l.focusedDay,e)&&((E=s.current)===null||E===void 0||E.focus())},[l.focusedDay,e,s,h,d.outside]);var m=Ile(i,d).join(" "),f=Ole(i,d),y=!!(d.outside&&!i.showOutsideDays||d.hidden),x=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:ale,w=n.jsx(x,{date:e,displayMonth:t,activeModifiers:d}),v={style:f,className:m,children:w,role:"gridcell"},g=l.focusTarget&&Pn(l.focusTarget,e)&&!d.outside,j=l.focusedDay&&Pn(l.focusedDay,e),N=Pe(Pe(Pe({},v),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=j||g?0:-1,r)),c),b={isButton:h,isHidden:y,activeModifiers:d,selectedDays:u,buttonProps:N,divProps:v};return b}function $le(e){var t=p.useRef(null),s=Lle(e.date,e.displayMonth,t);return s.isHidden?n.jsx("div",{role:"gridcell"}):s.isButton?n.jsx(mf,Pe({name:"day",ref:t},s.buttonProps)):n.jsx("div",Pe({},s.divProps))}function Vle(e){var t=e.number,s=e.dates,r=it(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var h=d(Number(t),{locale:l}),m=function(f){a(t,s,f)};return n.jsx(mf,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:m,children:u})}function Ule(e){var t,s,r=it(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:$le,c=(s=l==null?void 0:l.WeekNumber)!==null&&s!==void 0?s:Vle,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(c,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(h){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:h})},Voe(h))})]})}function V2(e,t,s){for(var r=s!=null&&s.ISOWeek?SO(t):YN(t,s),a=s!=null&&s.ISOWeek?Ko(e):gr(e,s),o=or(r,a),i=[],l=0;l<=o;l++)i.push(xn(a,l));var d=i.reduce(function(c,u){var h=s!=null&&s.ISOWeek?CO(u):TO(u,s),m=c.find(function(f){return f.weekNumber===h});return m?(m.dates.push(u),c):(c.push({weekNumber:h,dates:[u]}),c)},[]);return d}function Ble(e,t){var s=V2(_n(e),Lx(e),t);if(t!=null&&t.useFixedWeeks){var r=Boe(e,t);if(r<6){var a=s[s.length-1],o=a.dates[a.dates.length-1],i=Oj(o,6-r),l=V2(Oj(o,1),i,t);s.push.apply(s,l)}}return s}function Hle(e){var t,s,r,a=it(),o=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,c=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,f=a.ISOWeek,y=Ble(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:o,weekStartsOn:h,firstWeekContainsDate:m}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:rle,w=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:Ule,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:tle;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(x,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(g){return n.jsx(w,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),n.jsx(v,{displayMonth:e.displayMonth})]})}function zle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qle=zle()?p.useLayoutEffect:p.useEffect,gv=!1,Wle=0;function U2(){return"react-day-picker-".concat(++Wle)}function Yle(e){var t,s=e??(gv?U2():null),r=p.useState(s),a=r[0],o=r[1];return qle(function(){a===null&&o(U2())},[]),p.useEffect(function(){gv===!1&&(gv=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Kle(e){var t,s,r=it(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,d=qu().displayMonths,c=Yle(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],m=i.month,f=e.displayIndex===0,y=e.displayIndex===d.length-1,x=!f&&!y;a==="rtl"&&(t=[f,y],y=t[0],f=t[1]),f&&(h.push(o.caption_start),m=Pe(Pe({},m),i.caption_start)),y&&(h.push(o.caption_end),m=Pe(Pe({},m),i.caption_end)),x&&(h.push(o.caption_between),m=Pe(Pe({},m),i.caption_between));var w=(s=l==null?void 0:l.Caption)!==null&&s!==void 0?s:ele;return n.jsxs("div",{className:h.join(" "),style:m,children:[n.jsx(w,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Hle,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function Gle(e){var t=it(),s=t.classNames,r=t.styles;return n.jsx("div",{className:s.months,style:r.months,children:e.children})}function Xle(e){var t,s,r=e.initialProps,a=it(),o=rb(),i=qu(),l=p.useState(!1),d=l[0],c=l[1];p.useEffect(function(){a.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),c(!0)))},[a.initialFocus,d,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Pe(Pe({},a.styles.root),a.style),m=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var w;return Pe(Pe({},y),(w={},w[x]=r[x],w))},{}),f=(s=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:Gle;return n.jsx("div",Pe({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:n.jsx(f,{children:i.displayMonths.map(function(y,x){return n.jsx(Kle,{displayIndex:x,displayMonth:y},x)})})}))}function Jle(e){var t=e.children,s=wie(e,["children"]);return n.jsx(Vie,{initialProps:s,children:n.jsx(Xie,{children:n.jsx(Dle,{initialProps:s,children:n.jsx(ole,{initialProps:s,children:n.jsx(cle,{initialProps:s,children:n.jsx(gle,{children:n.jsx(kle,{children:t})})})})})})})}function Qle(e){return n.jsx(Jle,Pe({},e,{children:n.jsx(Xle,{initialProps:e})}))}function $j({className:e,classNames:t,showOutsideDays:s=!0,...r}){return n.jsx(Qle,{showOutsideDays:s,className:ce("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ce(Fd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ce(Fd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(Yk,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(Zn,{className:"h-4 w-4"})},...r})}$j.displayName="Calendar";const Zle=({onFilterChange:e})=>{const[t,s]=p.useState(),[r,a]=p.useState(),o=()=>{e({dateRange:{start:t==null?void 0:t.toISOString(),end:r==null?void 0:r.toISOString()}})},i=()=>{s(void 0),a(void 0),e({dateRange:{}})},l=d=>{const c=new Date,u=new Date;u.setDate(c.getDate()-d),s(u),a(c),e({dateRange:{start:u.toISOString(),end:c.toISOString()}})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"text-sm font-medium",children:"Date Range:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||r)&&n.jsx(W,{variant:"ghost",size:"sm",onClick:i,children:n.jsx(ht,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm",children:"Start Date"}),n.jsxs(Mj,{children:[n.jsx(Fj,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:ce("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[n.jsx(i1,{className:"mr-2 h-4 w-4"}),t?Wr(t,"PPP"):"Pick start date"]})}),n.jsx(df,{className:"w-auto p-0",align:"start",children:n.jsx($j,{mode:"single",selected:t,onSelect:d=>{s(d),d&&r&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{className:"text-sm",children:"End Date"}),n.jsxs(Mj,{children:[n.jsx(Fj,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:ce("w-[200px] justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[n.jsx(i1,{className:"mr-2 h-4 w-4"}),r?Wr(r,"PPP"):"Pick end date"]})}),n.jsx(df,{className:"w-auto p-0",align:"start",children:n.jsx($j,{mode:"single",selected:r,onSelect:d=>{a(d),t&&d&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},ece=({adapterId:e})=>{const[t,s]=p.useState(!1),[r,a]=p.useState("csv"),[o,i]=p.useState(!1),{logs:l}=QN({sourceId:e}),{toast:d}=nt(),c=async()=>{if(!e){d({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}i(!0);try{let u,h,m;if(r==="csv"){const w=["Timestamp","Level","Message","Details"],v=l.map(g=>[g.timestamp,g.level,`"${g.message.replace(/"/g,'""')}"`,g.details?`"${JSON.stringify(g.details).replace(/"/g,'""')}"`:""]);u=[w.join(","),...v.map(g=>g.join(","))].join(`
`),h=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,m="text/csv"}else u=JSON.stringify(l,null,2),h=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,m="application/json";const f=new Blob([u],{type:m}),y=URL.createObjectURL(f),x=document.createElement("a");x.href=y,x.download=h,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y),d({title:"Export Successful",description:`Logs exported as ${h}`}),s(!1)}catch{d({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{i(!1)}};return n.jsxs(St,{open:t,onOpenChange:s,children:[n.jsx($o,{asChild:!0,children:n.jsxs(W,{variant:"outline",size:"sm",className:"hover-scale",children:[n.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs(ft,{children:[n.jsx(Ct,{children:n.jsx(Et,{children:"Export Adapter Logs"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),n.jsxs(te,{value:r,onValueChange:u=>a(u),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"csv",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"h-4 w-4"}),"CSV Format"]})}),n.jsx(A,{value:"json",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vf,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),n.jsx(W,{onClick:c,disabled:o||!e,children:o?"Exporting...":"Export"})]})]})]})]})},tce=()=>{const[e,t]=p.useState(""),[s,r]=p.useState(""),[a,o]=p.useState(""),[i,l]=p.useState(""),[d,c]=p.useState({}),[u,h]=p.useState("system"),{logs:m,loading:f,error:y,refetch:x,sources:w}=QN({source:e||void 0,sourceId:s||void 0,level:a||void 0,search:i,startDate:d.start,endDate:d.end}),v=Ni({domainType:"UserManagement",includeSystemLogs:!1}),g=Ni({domainType:"FlowEngine",includeSystemLogs:!1}),j=Ni({domainType:"AdapterManagement",includeSystemLogs:!1}),N=Ni({domainType:"DataStructures",includeSystemLogs:!1}),b=Ni({domainType:"ChannelManagement",includeSystemLogs:!1}),E=Ni({domainType:"MessageProcessing",includeSystemLogs:!1}),C=()=>{x(),v.refetch(),g.refetch(),j.refetch(),N.refetch(),b.refetch(),E.refetch()},T=F=>{o(F.level),c(F.dateRange)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(Oy,{className:"h-7 w-7"}),"System Logs"]}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ece,{adapterId:s}),n.jsxs(W,{variant:"outline",size:"sm",onClick:C,className:"hover-scale",children:[n.jsx(qt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n.jsxs(J,{className:"bg-gradient-secondary border-border/50",children:[n.jsx(oe,{children:n.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[n.jsx(Uf,{className:"h-5 w-5"}),"Filters"]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),n.jsxs(te,{value:e,onValueChange:F=>t(F),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"All sources"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"system",children:"System"}),n.jsx(A,{value:"adapter",children:"Adapters"}),n.jsx(A,{value:"channel",children:"Channels"}),n.jsx(A,{value:"flow",children:"Flows"}),n.jsx(A,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),n.jsxs(te,{value:s,onValueChange:r,children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:`Select ${e}`})}),n.jsxs(ee,{children:[e==="adapter"&&w.adapters.map(F=>n.jsx(A,{value:F.id,children:F.name},F.id)),e==="channel"&&w.channels.map(F=>n.jsx(A,{value:F.id,children:F.name},F.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),n.jsxs(te,{value:a,onValueChange:F=>o(F),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"All levels"})}),n.jsxs(ee,{children:[n.jsx(A,{value:"debug",children:"Debug"}),n.jsx(A,{value:"info",children:"Info"}),n.jsx(A,{value:"warn",children:"Warning"}),n.jsx(A,{value:"error",children:"Error"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(I,{placeholder:"Search logs...",value:i,onChange:F=>l(F.target.value),className:"pl-10"})]})]})]}),n.jsx(Zle,{onFilterChange:T})]})]}),m.length>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),n.jsx("p",{className:"text-2xl font-bold",children:m.length})]}),n.jsx(le,{variant:"outline",children:"24h"})]})})}),n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),n.jsx("p",{className:"text-2xl font-bold text-destructive",children:m.filter(F=>F.level==="error").length})]}),n.jsx(le,{variant:"destructive",children:"Error"})]})})}),n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m.filter(F=>F.level==="warn").length})]}),n.jsx(le,{variant:"secondary",children:"Warning"})]})})}),n.jsx(J,{className:"bg-gradient-secondary border-border/50",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:m.filter(F=>F.level==="info").length})]}),n.jsx(le,{variant:"outline",children:"Info"})]})})})]}),n.jsxs(et,{value:u,onValueChange:h,children:[n.jsxs(Xe,{className:"grid w-full grid-cols-7",children:[n.jsxs(je,{value:"system",className:"flex items-center gap-2",children:[n.jsx(Oy,{className:"h-4 w-4"}),"System Logs"]}),n.jsxs(je,{value:"user",className:"flex items-center gap-2",children:[n.jsx(gl,{className:"h-4 w-4"}),"Users"]}),n.jsxs(je,{value:"flow",className:"flex items-center gap-2",children:[n.jsx(Bf,{className:"h-4 w-4"}),"Flows"]}),n.jsxs(je,{value:"adapter",className:"flex items-center gap-2",children:[n.jsx($a,{className:"h-4 w-4"}),"Adapters"]}),n.jsxs(je,{value:"structure",className:"flex items-center gap-2",children:[n.jsx(ln,{className:"h-4 w-4"}),"Structures"]}),n.jsxs(je,{value:"channel",className:"flex items-center gap-2",children:[n.jsx(ut,{className:"h-4 w-4"}),"Channels"]}),n.jsxs(je,{value:"message",className:"flex items-center gap-2",children:[n.jsx(En,{className:"h-4 w-4"}),"Messages"]})]}),n.jsx(ve,{value:"system",children:n.jsx(jie,{logs:m,loading:f,error:y,selectedSource:e})}),n.jsx(ve,{value:"user",children:n.jsx(bi,{domainType:"UserManagement",domainErrors:v.domainErrors,systemLogs:v.systemLogs,loading:v.loading,error:v.error})}),n.jsx(ve,{value:"flow",children:n.jsx(bi,{domainType:"FlowEngine",domainErrors:g.domainErrors,systemLogs:g.systemLogs,loading:g.loading,error:g.error})}),n.jsx(ve,{value:"adapter",children:n.jsx(bi,{domainType:"AdapterManagement",domainErrors:j.domainErrors,systemLogs:j.systemLogs,loading:j.loading,error:j.error})}),n.jsx(ve,{value:"structure",children:n.jsx(bi,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),n.jsx(ve,{value:"channel",children:n.jsx(bi,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),n.jsx(ve,{value:"message",children:n.jsx(bi,{domainType:"MessageProcessing",domainErrors:E.domainErrors,systemLogs:E.systemLogs,loading:E.loading,error:E.error})})]})]})},nce=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],B2=[{value:"network",icon:$a},{value:"shield",icon:Kn},{value:"folder",icon:Gk},{value:"message-square",icon:En},{value:"database",icon:ln},{value:"globe",icon:rr},{value:"mail",icon:pu},{value:"file-text",icon:tn},{value:"cpu",icon:hV},{value:"activity",icon:La},{value:"cloud",icon:dV},{value:"inbox",icon:Jk},{value:"download",icon:Xa},{value:"hard-drive",icon:Xk},{value:"zap",icon:_s}],sce=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[a,o]=p.useState(!1),[i,l]=p.useState(null),{toast:d}=nt(),[c,u]=p.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});p.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const g=await fetch("/api/admin/adapter-types");if(g.ok){const j=await g.json();t(j||[])}else if(g.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(g){console.log("API not available yet, starting with empty data:",g),t([])}finally{r(!1)}},m=async g=>{g.preventDefault();try{const j={...c,configurationSchema:c.configurationSchema?JSON.parse(c.configurationSchema):null},N=i?`/api/admin/adapter-types/${i.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)d({title:"Success",description:`Adapter type ${i?"updated":"created"} successfully`}),o(!1),x(),h();else throw new Error(`Failed to ${i?"update":"create"} adapter type`)}catch(j){d({title:"Error",description:`Failed to ${i?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",j)}},f=g=>{l(g),u({name:g.name,displayName:g.displayName,description:g.description,category:g.category,iconName:g.iconName,isActive:g.isActive,supportsSender:g.supportsSender,supportsReceiver:g.supportsReceiver,configurationSchema:g.configurationSchema?JSON.stringify(g.configurationSchema,null,2):""}),o(!0)},y=async g=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${g}`,{method:"DELETE"})).ok)d({title:"Success",description:"Adapter type deleted successfully"}),h();else throw new Error("Failed to delete adapter type")}catch(j){d({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",j)}},x=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},w=g=>{const j=B2.find(N=>N.value===g);return j?j.icon:$a},v=g=>{const j={FILE_TRANSFER:"bg-blue-100 text-blue-800",MESSAGING:"bg-green-100 text-green-800",DATABASE:"bg-purple-100 text-purple-800",WEB_SERVICE:"bg-orange-100 text-orange-800",MAIL:"bg-red-100 text-red-800",OTHER:"bg-gray-100 text-gray-800"};return j[g]||j.OTHER};return n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"Adapter Types Management"}),n.jsx(ge,{children:"Manage available adapter types for communication channels"})]}),n.jsxs(St,{open:a,onOpenChange:o,children:[n.jsx($o,{asChild:!0,children:n.jsxs(W,{onClick:x,children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),n.jsxs(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:i?"Edit Adapter Type":"Add New Adapter Type"}),n.jsx(fr,{children:"Configure the adapter type settings and capabilities"})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"name",children:"Name (Internal)*"}),n.jsx(I,{id:"name",value:c.name,onChange:g=>u({...c,name:g.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"displayName",children:"Display Name*"}),n.jsx(I,{id:"displayName",value:c.displayName,onChange:g=>u({...c,displayName:g.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(S,{htmlFor:"description",children:"Description"}),n.jsx(Ee,{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"category",children:"Category*"}),n.jsxs(te,{value:c.category,onValueChange:g=>u({...c,category:g}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select category"})}),n.jsx(ee,{children:nce.map(g=>n.jsx(A,{value:g.value,children:g.label},g.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"iconName",children:"Icon"}),n.jsxs(te,{value:c.iconName,onValueChange:g=>u({...c,iconName:g}),children:[n.jsx(Z,{children:n.jsx(ne,{placeholder:"Select icon"})}),n.jsx(ee,{children:B2.map(g=>{const j=g.icon;return n.jsx(A,{value:g.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j,{className:"h-4 w-4"}),g.value]})},g.value)})})]})]})]}),n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"isActive",checked:c.isActive,onCheckedChange:g=>u({...c,isActive:g===!0})}),n.jsx(S,{htmlFor:"isActive",children:"Active"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"supportsSender",checked:c.supportsSender,onCheckedChange:g=>u({...c,supportsSender:g===!0})}),n.jsx(S,{htmlFor:"supportsSender",children:"Supports Sender"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qe,{id:"supportsReceiver",checked:c.supportsReceiver,onCheckedChange:g=>u({...c,supportsReceiver:g===!0})}),n.jsx(S,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),n.jsx(Ee,{id:"configurationSchema",value:c.configurationSchema,onChange:g=>u({...c,configurationSchema:g.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),n.jsxs(nc,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsxs(W,{type:"submit",children:[i?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),n.jsx(re,{children:s?n.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?n.jsx(ai,{icon:n.jsx($a,{className:"h-12 w-12"}),title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):n.jsxs(Go,{children:[n.jsx(Xo,{children:n.jsxs(Gn,{children:[n.jsx($e,{children:"Icon"}),n.jsx($e,{children:"Name"}),n.jsx($e,{children:"Category"}),n.jsx($e,{children:"Support"}),n.jsx($e,{children:"Status"}),n.jsx($e,{children:"Actions"})]})}),n.jsx(Jo,{children:e.map(g=>{const j=w(g.iconName);return n.jsxs(Gn,{children:[n.jsx(Ve,{children:n.jsx(j,{className:"h-5 w-5"})}),n.jsx(Ve,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:g.displayName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:g.name})]})}),n.jsx(Ve,{children:n.jsx(le,{className:v(g.category),children:g.category.replace("_"," ")})}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex gap-1",children:[g.supportsSender&&n.jsx(le,{variant:"outline",className:"text-xs",children:"Sender"}),g.supportsReceiver&&n.jsx(le,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),n.jsx(Ve,{children:n.jsx(le,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"})}),n.jsx(Ve,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(g),children:n.jsx(wV,{className:"h-4 w-4"})}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>y(g.id),children:n.jsx(Ja,{className:"h-4 w-4"})})]})})]},g.id)})})]})})]})},rce=({})=>{const[e,t]=p.useState([]),[s,r]=p.useState([]),[a,o]=p.useState("all"),[i,l]=p.useState(!0),[d,c]=p.useState(!1),[u,h]=p.useState({}),m=async()=>{try{l(!0);const b=await fetch("/api/system-settings");if(b.ok){const E=await b.json();t(E)}else tt.error("Failed to load system settings")}catch(b){console.error("Error fetching system settings:",b),tt.error("Error loading system settings")}finally{l(!1)}},f=async()=>{try{const b=await fetch("/api/system-settings/categories");if(b.ok){const E=await b.json();r(["all",...E])}}catch(b){console.error("Error fetching categories:",b)}},y=async()=>{try{(await fetch("/api/system-settings/initialize",{method:"POST"})).ok?(tt.success("Default settings initialized"),m()):tt.error("Failed to initialize settings")}catch(b){console.error("Error initializing settings:",b),tt.error("Error initializing settings")}},x=async(b,E)=>{try{c(!0);const C=e.find(V=>V.settingKey===b);if(!C)return;const T={...C,settingValue:E,updatedBy:"admin"},F=await fetch(`/api/system-settings/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(F.ok){const V=await F.json();t(k=>k.map(M=>M.settingKey===b?V:M)),h(k=>{const M={...k};return delete M[b],M}),tt.success(`Setting "${b}" updated successfully`)}else tt.error("Failed to save setting")}catch(C){console.error("Error saving setting:",C),tt.error("Error saving setting")}finally{c(!1)}},w=(b,E)=>{h(C=>({...C,[b]:E}))},v=b=>u[b.settingKey]??b.settingValue,g=b=>u[b.settingKey]!==void 0&&u[b.settingKey]!==b.settingValue,j=a==="all"?e:e.filter(b=>b.category===a);p.useEffect(()=>{m(),f()},[]);const N=b=>n.jsxs(J,{className:"mb-4",children:[n.jsx(oe,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[b.settingKey,b.isReadonly&&n.jsx(le,{variant:"secondary",className:"text-xs",children:"Readonly"}),b.isEncrypted&&n.jsx(le,{variant:"outline",className:"text-xs",children:"Encrypted"}),g(b)&&n.jsx(le,{variant:"destructive",className:"text-xs",children:"Modified"})]}),n.jsx(ge,{className:"text-xs",children:b.description})]}),n.jsx(le,{variant:"outline",className:"text-xs",children:b.category})]})}),n.jsx(re,{className:"pt-0",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(S,{htmlFor:`setting-${b.id}`,className:"text-xs",children:["Value (",b.dataType,")"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{id:`setting-${b.id}`,value:v(b),onChange:E=>w(b.settingKey,E.target.value),disabled:b.isReadonly,type:b.dataType==="PASSWORD"?"password":b.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:b.settingValue}),g(b)&&n.jsx(W,{size:"sm",onClick:()=>x(b.settingKey,u[b.settingKey]),disabled:d,className:"px-3",children:d?n.jsx(qt,{className:"h-3 w-3 animate-spin"}):n.jsx(ei,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Created: ",new Date(b.createdAt).toLocaleString()]}),n.jsxs("span",{children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]}),(b.createdBy||b.updatedBy)&&n.jsxs("div",{className:"flex justify-between",children:[b.createdBy&&n.jsxs("span",{children:["Created by: ",b.createdBy]}),b.updatedBy&&n.jsxs("span",{children:["Updated by: ",b.updatedBy]})]})]})]})})]},b.id);return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(qt,{className:"h-8 w-8 animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(ut,{className:"h-6 w-6"}),"System Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:m,disabled:i,children:[n.jsx(qt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(W,{variant:"outline",size:"sm",onClick:y,children:"Initialize Defaults"})]})]}),Object.keys(u).length>0&&n.jsx(J,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:n.jsxs(oe,{className:"pb-3",children:[n.jsxs(ie,{className:"text-sm flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[n.jsx(gs,{className:"h-4 w-4"}),"Unsaved Changes"]}),n.jsxs(ge,{className:"text-yellow-700 dark:text-yellow-300",children:["You have ",Object.keys(u).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),n.jsxs(et,{value:a,onValueChange:o,children:[n.jsx(Xe,{className:"grid w-full grid-cols-auto max-w-fit",children:s.map(b=>n.jsxs(je,{value:b,className:"capitalize",children:[b==="all"?"All Settings":b,b!=="all"&&n.jsx(le,{variant:"secondary",className:"ml-2 text-xs",children:e.filter(E=>E.category===b).length})]},b))}),n.jsx(ve,{value:a,className:"space-y-4",children:j.length===0?n.jsx(J,{children:n.jsx(re,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ut,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),n.jsx(W,{variant:"outline",size:"sm",onClick:y,className:"mt-2",children:"Initialize Default Settings"})]})})}):n.jsx("div",{className:"grid gap-4",children:j.map(N)})})]})]})};class ace{async getAllRoles(t=0,s=50){return Q.get(`/roles?page=${t}&limit=${s}`)}async getRoleById(t){return Q.get(`/roles/${t}`)}async createRole(t){return Q.post("/roles",t)}async updateRole(t,s){return Q.put(`/roles/${t}`,s)}async deleteRole(t){return Q.delete(`/roles/${t}`)}async addPermission(t,s){return Q.post(`/roles/${t}/permissions`,{permission:s})}async removePermission(t,s){return Q.delete(`/roles/${t}/permissions/${s}`)}async updatePermissions(t,s){return Q.put(`/roles/${t}/permissions`,{permissions:s})}async getRolePermissions(t){return Q.get(`/roles/${t}/permissions`)}async searchRoles(t,s){const r=new URLSearchParams({q:t,...(s==null?void 0:s.hasPermission)&&{hasPermission:s.hasPermission},page:((s==null?void 0:s.page)||1).toString(),limit:((s==null?void 0:s.limit)||50).toString()});return Q.get(`/roles/search?${r}`)}async getRoleUsers(t){return Q.get(`/roles/${t}/users`)}async cloneRole(t,s){return Q.post(`/roles/${t}/clone`,{name:s})}async getAvailablePermissions(){return Q.get("/roles/available-permissions")}async validatePermissions(t){return Q.post("/roles/validate-permissions",{permissions:t})}}const oce=new ace;class ice{async getAllJarFiles(t){const s=new URLSearchParams;t!=null&&t.driverType&&s.append("driverType",t.driverType),(t==null?void 0:t.isActive)!==void 0&&s.append("isActive",t.isActive.toString());const r=s.toString();return Q.get(`/jar-files${r?`?${r}`:""}`)}async getJarFileById(t){return Q.get(`/jar-files/${t}`)}async createJarFile(t){return Q.post("/jar-files",t)}async updateJarFile(t,s){return Q.put(`/jar-files/${t}`,s)}async deleteJarFile(t){return Q.delete(`/jar-files/${t}`)}async uploadJarFile(t,s){const r=new FormData;return r.append("file",t),r.append("name",s.name),r.append("version",s.version),r.append("description",s.description),r.append("driverType",s.driverType),s.vendor&&r.append("vendor",s.vendor),Q.post("/jar-files/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadJarFile(t){const s=await fetch(`${Q.baseURL}/jar-files/${t}/download`,{method:"GET",headers:Q.getAuthHeaders()});if(!s.ok)throw new Error("Failed to download JAR file");return s.blob()}async toggleJarFileStatus(t,s){return Q.put(`/jar-files/${t}/status`,{isActive:s})}async getJarFilesByDriverType(t){return Q.get(`/jar-files/driver-type/${t}`)}async validateJarFile(t){return Q.get(`/jar-files/${t}/validate`)}async getDriverTypes(){return Q.get("/jar-files/driver-types")}}const lce=new ice,cce=()=>{const[e,t]=p.useState([]),[s,r]=p.useState(!0),[a,o]=p.useState([]),[i,l]=p.useState(!0),[d,c]=p.useState([]),[u,h]=p.useState(!0),[m,f]=p.useState([]),[y,x]=p.useState(!0),[w,v]=p.useState("users"),g=async()=>{try{r(!0);const T=await zn.getAllUsers();if(console.log("User fetch response:",T),T.success&&T.data){const F=Array.isArray(T.data)?T.data:T.data.users;t(F||[])}else console.error("Failed to fetch users:",T.error),console.log("API not available, showing empty user list"),t([]),tt.error("Failed to load users")}catch(T){console.error("Error fetching users:",T),console.log("API error, showing empty user list"),t([]),tt.error("Failed to load users")}finally{r(!1)}},j=async()=>{try{l(!0);const T=await oce.getAllRoles();if(console.log("Role fetch response:",T),T.success&&T.data){const F=T.data.roles||[];o(F)}else console.error("Failed to fetch roles:",T.error),o([]),tt.error("Failed to load roles")}catch(T){console.error("Error fetching roles:",T),o([]),tt.error("Failed to load roles")}finally{l(!1)}},N=async()=>{try{h(!0);const T=await mO.getAllCertificates();console.log("Certificate fetch response:",T),T.success&&T.data?c(T.data):(console.error("Failed to fetch certificates:",T.error),c([]),tt.error("Failed to load certificates"))}catch(T){console.error("Error fetching certificates:",T),c([]),tt.error("Failed to load certificates")}finally{h(!1)}},b=async()=>{try{x(!0);const T=await lce.getAllJarFiles();console.log("JAR files fetch response:",T),T.success&&T.data?f(T.data):(console.error("Failed to fetch JAR files:",T.error),f([]),tt.error("Failed to load JAR files"))}catch(T){console.error("Error fetching JAR files:",T),f([]),tt.error("Failed to load JAR files")}finally{x(!1)}};p.useEffect(()=>{g(),j(),N(),b()},[]);const E=T=>{f(F=>[...F,T])},C=T=>{f(F=>F.filter(V=>V.id!==T))};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(an,{className:"h-8 w-8"}),"Admin Panel"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),n.jsx(oie,{users:e,roles:a,certificates:d,jarFiles:m}),n.jsxs(et,{value:w,onValueChange:v,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[n.jsxs(Xe,{className:"grid w-full grid-cols-7",children:[n.jsxs(je,{value:"users",className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-4 w-4"}),"Users"]}),n.jsxs(je,{value:"roles",className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4"}),"Roles"]}),n.jsxs(je,{value:"certificates",className:"flex items-center gap-2",children:[n.jsx(xl,{className:"h-4 w-4"}),"Certificates"]}),n.jsxs(je,{value:"jar-files",className:"flex items-center gap-2",children:[n.jsx(Pd,{className:"h-4 w-4"}),"Connection Drivers"]}),n.jsxs(je,{value:"adapter-types",className:"flex items-center gap-2",children:[n.jsx($a,{className:"h-4 w-4"}),"Adapter Types"]}),n.jsxs(je,{value:"system-settings",className:"flex items-center gap-2",children:[n.jsx(ut,{className:"h-4 w-4"}),"System Settings"]}),n.jsxs(je,{value:"system-logs",className:"flex items-center gap-2",children:[n.jsx(Oy,{className:"h-4 w-4"}),"System Logs"]})]}),n.jsx(ve,{value:"users",className:"space-y-4",children:n.jsx(uie,{users:e,isLoading:s,onRefresh:g})}),n.jsx(ve,{value:"roles",className:"space-y-4",children:n.jsx(hie,{roles:a,isLoading:i,onRefresh:j})}),n.jsx(ve,{value:"certificates",className:"space-y-4",children:n.jsx(mie,{certificates:d,isLoading:u,onRefresh:N})}),n.jsx(ve,{value:"jar-files",className:"space-y-4",children:n.jsx(gie,{jarFiles:m,isLoading:y,onRefresh:b,onJarFileAdded:E,onJarFileDeleted:C})}),n.jsx(ve,{value:"adapter-types",className:"space-y-4",children:n.jsx(sce,{})}),n.jsx(ve,{value:"system-settings",className:"space-y-4",children:n.jsx(rce,{})}),n.jsx(ve,{value:"system-logs",className:"space-y-4",children:n.jsx(tce,{})})]})]})};var VO=["PageUp","PageDown"],UO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rc="Slider",[Vj,dce,uce]=cu(rc),[HO,Wpe]=as(rc,[uce]),[hce,Vx]=HO(rc),zO=p.forwardRef((e,t)=>{const{name:s,min:r=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[r],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:y,...x}=e,w=p.useRef(new Set),v=p.useRef(0),j=i==="horizontal"?mce:pce,[N=[],b]=Ls({prop:u,defaultProp:c,onChange:k=>{var $;($=[...w.current][v.current])==null||$.focus(),h(k)}}),E=p.useRef(N);function C(k){const M=yce(N,k);V(k,M)}function T(k){V(k,v.current)}function F(){const k=E.current[v.current];N[v.current]!==k&&m(N)}function V(k,M,{commit:$}={commit:!1}){const D=bce(o),P=Sce(Math.round((k-r)/o)*o+r,D),L=Od(P,[r,a]);b((O=[])=>{const R=gce(O,L,M);if(Nce(R,d*o)){v.current=R.indexOf(L);const _=String(R)!==String(O);return _&&$&&m(R),_?R:O}else return O})}return n.jsx(hce,{scope:e.__scopeSlider,name:s,disabled:l,min:r,max:a,valueIndexToChangeRef:v,thumbs:w.current,values:N,orientation:i,form:y,children:n.jsx(Vj.Provider,{scope:e.__scopeSlider,children:n.jsx(Vj.Slot,{scope:e.__scopeSlider,children:n.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:me(x.onPointerDown,()=>{l||(E.current=N)}),min:r,max:a,inverted:f,onSlideStart:l?void 0:C,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:F,onHomeKeyDown:()=>!l&&V(r,0,{commit:!0}),onEndKeyDown:()=>!l&&V(a,N.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:M})=>{if(!l){const P=VO.includes(k.key)||k.shiftKey&&UO.includes(k.key)?10:1,L=v.current,O=N[L],R=o*P*M;V(O+R,L,{commit:!0})}}})})})})});zO.displayName=rc;var[qO,WO]=HO(rc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mce=p.forwardRef((e,t)=>{const{min:s,max:r,dir:a,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,[h,m]=p.useState(null),f=Ae(t,j=>m(j)),y=p.useRef(),x=Xl(a),w=x==="ltr",v=w&&!o||!w&&o;function g(j){const N=y.current||h.getBoundingClientRect(),b=[0,N.width],C=ob(b,v?[s,r]:[r,s]);return y.current=N,C(j-N.left)}return n.jsx(qO,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:n.jsx(YO,{dir:x,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=g(j.clientX);i==null||i(N)},onSlideMove:j=>{const N=g(j.clientX);l==null||l(N)},onSlideEnd:()=>{y.current=void 0,d==null||d()},onStepKeyDown:j=>{const b=BO[v?"from-left":"from-right"].includes(j.key);c==null||c({event:j,direction:b?-1:1})}})})}),pce=p.forwardRef((e,t)=>{const{min:s,max:r,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:d,...c}=e,u=p.useRef(null),h=Ae(t,u),m=p.useRef(),f=!a;function y(x){const w=m.current||u.current.getBoundingClientRect(),v=[0,w.height],j=ob(v,f?[r,s]:[s,r]);return m.current=w,j(x-w.top)}return n.jsx(qO,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:n.jsx(YO,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const w=y(x.clientY);o==null||o(w)},onSlideMove:x=>{const w=y(x.clientY);i==null||i(w)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const v=BO[f?"from-bottom":"from-top"].includes(x.key);d==null||d({event:x,direction:v?-1:1})}})})}),YO=p.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:d,...c}=e,u=Vx(rc,s);return n.jsx(Ce.span,{...c,ref:t,onKeyDown:me(e.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):VO.concat(UO).includes(h.key)&&(d(h),h.preventDefault())}),onPointerDown:me(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():r(h)}),onPointerMove:me(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:me(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),o(h))})})}),KO="SliderTrack",GO=p.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,a=Vx(KO,s);return n.jsx(Ce.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});GO.displayName=KO;var Uj="SliderRange",XO=p.forwardRef((e,t)=>{const{__scopeSlider:s,...r}=e,a=Vx(Uj,s),o=WO(Uj,s),i=p.useRef(null),l=Ae(t,i),d=a.values.length,c=a.values.map(m=>QO(m,a.min,a.max)),u=d>1?Math.min(...c):0,h=100-Math.max(...c);return n.jsx(Ce.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:h+"%"}})});XO.displayName=Uj;var Bj="SliderThumb",JO=p.forwardRef((e,t)=>{const s=dce(e.__scopeSlider),[r,a]=p.useState(null),o=Ae(t,l=>a(l)),i=p.useMemo(()=>r?s().findIndex(l=>l.ref.current===r):-1,[s,r]);return n.jsx(fce,{...e,ref:o,index:i})}),fce=p.forwardRef((e,t)=>{const{__scopeSlider:s,index:r,name:a,...o}=e,i=Vx(Bj,s),l=WO(Bj,s),[d,c]=p.useState(null),u=Ae(t,g=>c(g)),h=d?i.form||!!d.closest("form"):!0,m=Wf(d),f=i.values[r],y=f===void 0?0:QO(f,i.min,i.max),x=vce(r,i.values.length),w=m==null?void 0:m[l.size],v=w?jce(w,y,l.direction):0;return p.useEffect(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[n.jsx(Vj.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Ce.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),h&&n.jsx(xce,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:f},r)]})});JO.displayName=Bj;var xce=e=>{const{value:t,...s}=e,r=p.useRef(null),a=lx(t);return p.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==t&&d){const c=new Event("input",{bubbles:!0});d.call(o,t),o.dispatchEvent(c)}},[a,t]),n.jsx("input",{style:{display:"none"},...s,ref:r,defaultValue:t})};function gce(e=[],t,s){const r=[...e];return r[s]=t,r.sort((a,o)=>a-o)}function QO(e,t,s){const o=100/(s-t)*(e-t);return Od(o,[0,100])}function vce(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function yce(e,t){if(e.length===1)return 0;const s=e.map(a=>Math.abs(a-t)),r=Math.min(...s);return s.indexOf(r)}function jce(e,t,s){const r=e/2,o=ob([0,50],[0,r]);return(r-o(t)*s)*s}function wce(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function Nce(e,t){if(t>0){const s=wce(e);return Math.min(...s)>=t}return!0}function ob(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function bce(e){return(String(e).split(".")[1]||"").length}function Sce(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var ZO=zO,Cce=GO,Ece=XO,Tce=JO;const Ci=p.forwardRef(({className:e,...t},s)=>n.jsxs(ZO,{ref:s,className:ce("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Cce,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Ece,{className:"absolute h-full bg-primary"})}),n.jsx(Tce,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ci.displayName=ZO.displayName;const H2=e=>{let t;const s=new Set,r=(c,u)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const m=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),s.forEach(f=>f(t,m))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>d,subscribe:c=>(s.add(c),()=>s.delete(c))},d=t=e(r,a,l);return l},Pce=e=>e?H2(e):H2,kce=e=>e;function Ace(e,t=kce){const s=he.useSyncExternalStore(e.subscribe,he.useCallback(()=>t(e.getState()),[e,t]),he.useCallback(()=>t(e.getInitialState()),[e,t]));return he.useDebugValue(s),s}const z2=e=>{const t=Pce(e),s=r=>Ace(t,r);return Object.assign(s,t),s},eL=e=>e?z2(e):z2,Dce=5e3,ib=eL((e,t)=>({notifications:[],addNotification:s=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a={...s,id:r,duration:s.duration??Dce,dismissible:s.dismissible??!0};e(o=>({notifications:[...o.notifications,a]})),a.duration&&a.duration>0&&setTimeout(()=>{t().removeNotification(r)},a.duration)},removeNotification:s=>{e(r=>({notifications:r.notifications.filter(a=>a.id!==s)}))},clearNotifications:()=>{e({notifications:[]})}})),Ux=()=>{const e=ib(t=>t.addNotification);return{success:(t,s,r)=>e({...r,type:"success",title:t,message:s}),error:(t,s,r)=>e({...r,type:"error",title:t,message:s,duration:0}),warning:(t,s,r)=>e({...r,type:"warning",title:t,message:s}),info:(t,s,r)=>e({...r,type:"info",title:t,message:s})}},Rce=()=>{const[e,t]=p.useState(void 0),[s,r]=p.useState(!0),[a,o]=p.useState(null),i=async()=>{try{r(!0);const l=await sr.get("/api/system/settings");t(l),o(null)}catch(l){o(l)}finally{r(!1)}};return p.useEffect(()=>{i()},[]),{data:e,isLoading:s,error:a,refetch:i}},Mce=()=>{const e=Ux(),[t,s]=p.useState(!1),[r,a]=p.useState(null);return{mutate:async i=>{try{s(!0),a(null),await sr.put("/api/system/settings",i),e.success("Settings updated","System settings have been updated successfully")}catch(l){throw a(l),e.error("Failed to update settings",l.message),l}finally{s(!1)}},isLoading:t,error:r}},Fce=()=>{const e=Ux(),[t,s]=p.useState(!1),[r,a]=p.useState(null);return{mutate:async i=>{try{s(!0),a(null),await sr.post("/api/system/settings/email/test",{email:i}),e.success("Test email sent",`A test email has been sent to ${i}`)}catch(l){throw a(l),e.error("Failed to send test email",l.message),l}finally{s(!1)}},isLoading:t,error:r}},_ce=()=>{const e=Ux(),[t,s]=p.useState(!1);return{mutate:async()=>{try{s(!0);const a=await sr.get("/api/system/settings/export",{responseType:"blob"}),o=window.URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=`integrix-settings-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(o),document.body.removeChild(i),e.success("Settings exported","System settings have been exported successfully")}catch(a){throw e.error("Failed to export settings",a.message),a}finally{s(!1)}},isLoading:t}},Ice=()=>{const e=Ux(),[t,s]=p.useState(!1);return{mutate:async a=>{try{s(!0);const o=new FormData;o.append("file",a),await sr.post("/api/system/settings/import",o,{headers:{"Content-Type":"multipart/form-data"}}),e.success("Settings imported","System settings have been imported successfully")}catch(o){throw e.error("Failed to import settings",o.message),o}finally{s(!1)}},isLoading:t}},Oce=()=>{var xe,ye,fe,we,Ne,Me,Le,Pt,cn,Ke,bn,Sr,Gs,Ln,ta,Xs,$n,dn,na,Ns,Cr,oi,so,ro,ii,sa,Vn,li,De,Ge,Ye,un,hn,Er,ci,lc,Xu,Ju,Qu,Zu,eh,th,nh,sh,rh,ah,oh,ih,lh,ch,dh,cc,dc,uc,uh,hh,mh,ph,fh,xh,hc,gh,vh,yh,jh,wh,Nh,bh,mc,Sh,Ch,Eh,Th,Ph,kh,Ah,Dh,ao,Rh,Mh,Fh,di,_h,Ih,pc,Ub,Bb,Hb,zb,qb;const{user:e}=ti(),{toast:t}=nt(),[s,r]=p.useState([]),[a,o]=p.useState(!1),[i,l]=p.useState(!1),[d,c]=p.useState(null),[u,h]=p.useState(!1),[m,f]=p.useState(!1),[y,x]=p.useState(!1),[w,v]=p.useState(!1),[g,j]=p.useState(null),[N,b]=p.useState("general"),{data:E,isLoading:C}=Rce(),T=Mce(),F=Fce(),V=_ce(),k=Ice(),{environmentInfo:M,permissions:$,updateEnvironmentType:D}=ju(),[P,L]=p.useState(null),[O,R]=p.useState(!1);p.useEffect(()=>{E&&L(E)},[E]);const[_,z]=p.useState({username:"",email:"",first_name:"",last_name:"",role:"viewer"});p.useEffect(()=>{B()},[]);const B=async()=>{try{f(!0);const q=await zn.getAllUsers();q.success&&q.data?r(q.data.users):t({title:"Error",description:q.error||"Failed to load users",variant:"destructive"})}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{f(!1)}},U=async()=>{if(!_.username||!_.email){t({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{x(!0);const q={username:_.username,email:_.email,firstName:_.first_name||_.username,lastName:_.last_name||"",role:_.role,status:"active"},He=await zn.createUser(q);He.success?(t({title:"User Created",description:`User "${_.username}" has been created successfully`}),z({username:"",email:"",first_name:"",last_name:"",role:"viewer"}),o(!1),await B()):t({title:"Error",description:He.error||"Failed to create user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while creating the user",variant:"destructive"})}finally{x(!1)}},K=async()=>{if(d)try{v(!0);const q={email:d.email,firstName:d.first_name,lastName:d.last_name,role:d.role,permissions:zn.getRolePermissions(d.role)},He=await zn.updateUser(d.id,q);He.success?(t({title:"User Updated",description:`User "${d.username}" has been updated successfully`}),l(!1),c(null),await B()):t({title:"Error",description:He.error||"Failed to update user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while updating the user",variant:"destructive"})}finally{v(!1)}},Y=async(q,He)=>{if((e==null?void 0:e.id)===q){t({title:"Cannot Delete",description:"You cannot delete your own account",variant:"destructive"});return}try{j(q);const mn=await zn.deleteUser(q);mn.success?(t({title:"User Deleted",description:`User "${He}" has been deleted`}),await B()):t({title:"Error",description:mn.error||"Failed to delete user",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred while deleting the user",variant:"destructive"})}finally{j(null)}},X=q=>{switch(q){case"administrator":return"default";case"integrator":return"secondary";case"viewer":return"outline";default:return"outline"}},G=async()=>{if(!(!P||!O))try{await T.mutateAsync(P),R(!1)}catch(q){console.error("Failed to save settings:",q)}},H=(q,He,mn)=>{P&&(L({...P,[q]:{...P[q],[He]:mn}}),R(!0))},ae=async q=>{var mn;const He=(mn=q.target.files)==null?void 0:mn[0];if(He)try{await k.mutateAsync(He)}catch(oo){console.error("Failed to import settings:",oo)}},de=async()=>{if(!(P!=null&&P.notifications))return;const q=prompt("Enter email address to send test email:");if(q)try{await F.mutateAsync({smtpHost:P.notifications.smtpHost,smtpPort:P.notifications.smtpPort,smtpUsername:P.notifications.smtpUsername,smtpPassword:P.notifications.smtpPassword,smtpTls:P.notifications.smtpTls,testEmail:q})}catch(He){console.error("Email test failed:",He)}};return n.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[n.jsx("div",{className:"animate-slide-up",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n.jsx(ut,{className:"h-8 w-8"}),"System Settings"]}),n.jsx("p",{className:"text-muted-foreground",children:"Configure your Integrix Flow Bridge platform"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>V.mutate(),disabled:V.isPending,children:[n.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsx(S,{htmlFor:"import-settings",className:"cursor-pointer",children:n.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Import"]})})}),n.jsx("input",{id:"import-settings",type:"file",accept:".json",className:"hidden",onChange:ae}),O&&n.jsxs(W,{size:"sm",onClick:G,disabled:T.isPending,children:[n.jsx(ei,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),C?n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(qt,{className:"h-8 w-8 animate-spin"})}):n.jsxs(et,{value:N,onValueChange:b,className:"space-y-6",children:[n.jsxs(Xe,{className:"grid grid-cols-4 lg:grid-cols-8 w-full",children:[n.jsxs(je,{value:"general",className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"General"})]}),n.jsxs(je,{value:"security",className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Security"})]}),n.jsxs(je,{value:"integration",className:"flex items-center gap-2",children:[n.jsx($a,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Integration"})]}),n.jsxs(je,{value:"performance",className:"flex items-center gap-2",children:[n.jsx(pV,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Performance"})]}),n.jsxs(je,{value:"notifications",className:"flex items-center gap-2",children:[n.jsx(Wk,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Notifications"})]}),n.jsxs(je,{value:"monitoring",className:"flex items-center gap-2",children:[n.jsx(La,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Monitoring"})]}),n.jsxs(je,{value:"backup",className:"flex items-center gap-2",children:[n.jsx(Ry,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Backup"})]}),n.jsxs(je,{value:"users",className:"flex items-center gap-2",children:[n.jsx(an,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Users"})]})]}),n.jsx(ve,{value:"general",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"General Configuration"}),n.jsx(ge,{children:"Basic system settings and preferences"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"systemName",children:"System Name"}),n.jsx(I,{id:"systemName",value:((xe=P==null?void 0:P.general)==null?void 0:xe.systemName)||"",onChange:q=>H("general","systemName",q.target.value),placeholder:"Integrix Flow Bridge"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"timezone",children:"Timezone"}),n.jsxs(te,{value:((ye=P==null?void 0:P.general)==null?void 0:ye.timezone)||"UTC",onValueChange:q=>H("general","timezone",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"UTC",children:"UTC"}),n.jsx(A,{value:"America/New_York",children:"Eastern Time"}),n.jsx(A,{value:"America/Chicago",children:"Central Time"}),n.jsx(A,{value:"America/Denver",children:"Mountain Time"}),n.jsx(A,{value:"America/Los_Angeles",children:"Pacific Time"}),n.jsx(A,{value:"Europe/London",children:"London"}),n.jsx(A,{value:"Europe/Paris",children:"Paris"}),n.jsx(A,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs(te,{value:((fe=P==null?void 0:P.general)==null?void 0:fe.dateFormat)||"MM/DD/YYYY",onValueChange:q=>H("general","dateFormat",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),n.jsx(A,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),n.jsx(A,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"language",children:"Language"}),n.jsxs(te,{value:((we=P==null?void 0:P.general)==null?void 0:we.language)||"en",onValueChange:q=>H("general","language",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"en",children:"English"}),n.jsx(A,{value:"es",children:"Spanish"}),n.jsx(A,{value:"fr",children:"French"}),n.jsx(A,{value:"de",children:"German"}),n.jsx(A,{value:"it",children:"Italian"}),n.jsx(A,{value:"pt",children:"Portuguese"}),n.jsx(A,{value:"zh",children:"Chinese"}),n.jsx(A,{value:"ja",children:"Japanese"})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Environment Configuration"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(st,{children:[n.jsx(es,{className:"h-4 w-4"}),n.jsx(rt,{children:"The environment type determines which features are available in the system. Production and QA environments have restricted functionality to prevent accidental changes."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"environmentType",children:"Environment Type"}),n.jsxs(te,{value:(M==null?void 0:M.type)||"DEVELOPMENT",onValueChange:async q=>{try{await D(q),t({title:"Environment Updated",description:`System environment changed to ${q.replace("_"," ").toLowerCase()}`})}catch{t({title:"Error",description:"Failed to update environment type",variant:"destructive"})}},disabled:!($!=null&&$.isAdmin),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"DEVELOPMENT",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(le,{variant:"secondary",children:"DEV"}),"Development - All features enabled"]})}),n.jsx(A,{value:"QUALITY_ASSURANCE",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(le,{variant:"default",children:"QA"}),"Quality Assurance - Limited editing"]})}),n.jsx(A,{value:"PRODUCTION",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(le,{variant:"destructive",children:"PROD"}),"Production - Minimal editing"]})})]})]}),!($!=null&&$.isAdmin)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"Only administrators can change the environment type"})]}),M&&n.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Current Environment Permissions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canCreateFlows?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Create Flows"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canCreateAdapters?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Create Adapters"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canModifyAdapterConfig?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Modify Adapter Config"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canImportFlows?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Import Flows"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canDeployFlows?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Deploy Flows"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[$!=null&&$.canCreateBusinessComponents?n.jsx(vt,{className:"h-4 w-4 text-green-500"}):n.jsx(Gt,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{children:"Create Business Components"})]})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"System Options"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable maintenance mode to prevent new flows from starting"})]}),n.jsx(ke,{id:"maintenanceMode",checked:((Ne=P==null?void 0:P.general)==null?void 0:Ne.maintenanceMode)||!1,onCheckedChange:q=>H("general","maintenanceMode",q)})]}),((Me=P==null?void 0:P.general)==null?void 0:Me.maintenanceMode)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maintenanceMessage",children:"Maintenance Message"}),n.jsx(Ee,{id:"maintenanceMessage",value:((Le=P==null?void 0:P.general)==null?void 0:Le.maintenanceMessage)||"",onChange:q=>H("general","maintenanceMessage",q.target.value),placeholder:"System is under maintenance. Please try again later.",rows:3})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"debugMode",children:"Debug Mode"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed logging for troubleshooting"})]}),n.jsx(ke,{id:"debugMode",checked:((Pt=P==null?void 0:P.general)==null?void 0:Pt.debugMode)||!1,onCheckedChange:q=>H("general","debugMode",q)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"logLevel",children:"Log Level"}),n.jsxs(te,{value:((cn=P==null?void 0:P.general)==null?void 0:cn.logLevel)||"INFO",onValueChange:q=>H("general","logLevel",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"DEBUG",children:"DEBUG"}),n.jsx(A,{value:"INFO",children:"INFO"}),n.jsx(A,{value:"WARN",children:"WARN"}),n.jsx(A,{value:"ERROR",children:"ERROR"})]})]})]})]})]})]})]})}),n.jsx(ve,{value:"security",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Security Configuration"}),n.jsx(ge,{children:"Configure authentication, authorization, and security policies"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Session Management"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),n.jsx(I,{id:"sessionTimeout",type:"number",value:((Ke=P==null?void 0:P.security)==null?void 0:Ke.sessionTimeout)||30,onChange:q=>H("security","sessionTimeout",parseInt(q.target.value)),min:5,max:1440})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),n.jsx(I,{id:"maxLoginAttempts",type:"number",value:((bn=P==null?void 0:P.security)==null?void 0:bn.maxLoginAttempts)||5,onChange:q=>H("security","maxLoginAttempts",parseInt(q.target.value)),min:3,max:10})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"lockoutDuration",children:"Lockout Duration (minutes)"}),n.jsx(I,{id:"lockoutDuration",type:"number",value:((Sr=P==null?void 0:P.security)==null?void 0:Sr.lockoutDuration)||15,onChange:q=>H("security","lockoutDuration",parseInt(q.target.value)),min:5,max:60})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"jwtExpiry",children:"JWT Expiry (minutes)"}),n.jsx(I,{id:"jwtExpiry",type:"number",value:((Gs=P==null?void 0:P.security)==null?void 0:Gs.jwtExpiryMinutes)||60,onChange:q=>H("security","jwtExpiryMinutes",parseInt(q.target.value)),min:15,max:1440})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Password Policy"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"passwordMinLength",children:"Minimum Length"}),n.jsx(I,{id:"passwordMinLength",type:"number",value:((Ln=P==null?void 0:P.security)==null?void 0:Ln.passwordMinLength)||8,onChange:q=>H("security","passwordMinLength",parseInt(q.target.value)),min:6,max:32})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"passwordExpiry",children:"Password Expiry (days)"}),n.jsx(I,{id:"passwordExpiry",type:"number",value:((ta=P==null?void 0:P.security)==null?void 0:ta.passwordExpiryDays)||90,onChange:q=>H("security","passwordExpiryDays",parseInt(q.target.value)),min:0,max:365}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Set to 0 to disable password expiry"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"requireUppercase",children:"Require Uppercase Letters"}),n.jsx(ke,{id:"requireUppercase",checked:((Xs=P==null?void 0:P.security)==null?void 0:Xs.passwordRequireUppercase)||!1,onCheckedChange:q=>H("security","passwordRequireUppercase",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"requireLowercase",children:"Require Lowercase Letters"}),n.jsx(ke,{id:"requireLowercase",checked:(($n=P==null?void 0:P.security)==null?void 0:$n.passwordRequireLowercase)||!1,onCheckedChange:q=>H("security","passwordRequireLowercase",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"requireNumbers",children:"Require Numbers"}),n.jsx(ke,{id:"requireNumbers",checked:((dn=P==null?void 0:P.security)==null?void 0:dn.passwordRequireNumbers)||!1,onCheckedChange:q=>H("security","passwordRequireNumbers",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"requireSpecial",children:"Require Special Characters"}),n.jsx(ke,{id:"requireSpecial",checked:((na=P==null?void 0:P.security)==null?void 0:na.passwordRequireSpecialChars)||!1,onCheckedChange:q=>H("security","passwordRequireSpecialChars",q)})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"API Security"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"corsEnabled",children:"Enable CORS"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow cross-origin requests from specified domains"})]}),n.jsx(ke,{id:"corsEnabled",checked:((Ns=P==null?void 0:P.security)==null?void 0:Ns.corsEnabled)||!1,onCheckedChange:q=>H("security","corsEnabled",q)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"rateLimit",children:"API Rate Limit (requests/minute)"}),n.jsx(I,{id:"rateLimit",type:"number",value:((Cr=P==null?void 0:P.security)==null?void 0:Cr.apiRateLimitPerMinute)||60,onChange:q=>H("security","apiRateLimitPerMinute",parseInt(q.target.value)),min:10,max:1e3})]})]})]})]})]})}),n.jsx(ve,{value:"integration",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Integration Configuration"}),n.jsx(ge,{children:"Configure flow execution and message processing settings"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxConcurrentFlows",children:"Max Concurrent Flows"}),n.jsx(I,{id:"maxConcurrentFlows",type:"number",value:((oi=P==null?void 0:P.integration)==null?void 0:oi.maxConcurrentFlows)||10,onChange:q=>H("integration","maxConcurrentFlows",parseInt(q.target.value)),min:1,max:100})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"defaultTimeout",children:"Default Timeout (seconds)"}),n.jsx(I,{id:"defaultTimeout",type:"number",value:((so=P==null?void 0:P.integration)==null?void 0:so.defaultTimeout)||30,onChange:q=>H("integration","defaultTimeout",parseInt(q.target.value)),min:5,max:300})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryAttempts",children:"Retry Attempts"}),n.jsx(I,{id:"retryAttempts",type:"number",value:((ro=P==null?void 0:P.integration)==null?void 0:ro.retryAttempts)||3,onChange:q=>H("integration","retryAttempts",parseInt(q.target.value)),min:0,max:10})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"retryDelay",children:"Retry Delay (ms)"}),n.jsx(I,{id:"retryDelay",type:"number",value:((ii=P==null?void 0:P.integration)==null?void 0:ii.retryDelay)||1e3,onChange:q=>H("integration","retryDelay",parseInt(q.target.value)),min:100,max:6e4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"maxMessageSize",children:"Max Message Size (MB)"}),n.jsx(I,{id:"maxMessageSize",type:"number",value:((sa=P==null?void 0:P.integration)==null?void 0:sa.maxMessageSize)||10,onChange:q=>H("integration","maxMessageSize",parseInt(q.target.value)),min:1,max:100})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"batchSize",children:"Default Batch Size"}),n.jsx(I,{id:"batchSize",type:"number",value:((Vn=P==null?void 0:P.integration)==null?void 0:Vn.defaultBatchSize)||100,onChange:q=>H("integration","defaultBatchSize",parseInt(q.target.value)),min:1,max:1e3})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Message Processing"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"messageCompression",children:"Enable Message Compression"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Compress messages to reduce bandwidth usage"})]}),n.jsx(ke,{id:"messageCompression",checked:((li=P==null?void 0:P.integration)==null?void 0:li.enableMessageCompression)||!1,onCheckedChange:q=>H("integration","enableMessageCompression",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"deadLetter",children:"Enable Dead Letter Queue"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Store failed messages for later processing"})]}),n.jsx(ke,{id:"deadLetter",checked:((De=P==null?void 0:P.integration)==null?void 0:De.deadLetterQueueEnabled)||!1,onCheckedChange:q=>H("integration","deadLetterQueueEnabled",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"transactionLog",children:"Enable Transaction Log"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all message transactions for auditing"})]}),n.jsx(ke,{id:"transactionLog",checked:((Ge=P==null?void 0:P.integration)==null?void 0:Ge.enableTransactionLog)||!1,onCheckedChange:q=>H("integration","enableTransactionLog",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"circuitBreaker",children:"Enable Circuit Breaker"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically disable failing endpoints"})]}),n.jsx(ke,{id:"circuitBreaker",checked:((Ye=P==null?void 0:P.integration)==null?void 0:Ye.enableCircuitBreaker)||!1,onCheckedChange:q=>H("integration","enableCircuitBreaker",q)})]})]})]})]})]})}),n.jsx(ve,{value:"performance",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Performance Configuration"}),n.jsx(ge,{children:"Optimize system performance and resource usage"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Connection Pool"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"poolSize",children:"Connection Pool Size"}),n.jsx(I,{id:"poolSize",type:"number",value:((un=P==null?void 0:P.performance)==null?void 0:un.connectionPoolSize)||10,onChange:q=>H("performance","connectionPoolSize",parseInt(q.target.value)),min:5,max:100})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"connectionTimeout",children:"Connection Timeout (seconds)"}),n.jsx(I,{id:"connectionTimeout",type:"number",value:((hn=P==null?void 0:P.performance)==null?void 0:hn.connectionTimeout)||30,onChange:q=>H("performance","connectionTimeout",parseInt(q.target.value)),min:5,max:120})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"queryTimeout",children:"Query Timeout (seconds)"}),n.jsx(I,{id:"queryTimeout",type:"number",value:((Er=P==null?void 0:P.performance)==null?void 0:Er.queryTimeout)||30,onChange:q=>H("performance","queryTimeout",parseInt(q.target.value)),min:5,max:300})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"threadPool",children:"Thread Pool Size"}),n.jsx(I,{id:"threadPool",type:"number",value:((ci=P==null?void 0:P.performance)==null?void 0:ci.threadPoolSize)||20,onChange:q=>H("performance","threadPoolSize",parseInt(q.target.value)),min:5,max:200})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Caching"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"cacheEnabled",children:"Enable Caching"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache frequently accessed data for better performance"})]}),n.jsx(ke,{id:"cacheEnabled",checked:((lc=P==null?void 0:P.performance)==null?void 0:lc.cacheEnabled)||!1,onCheckedChange:q=>H("performance","cacheEnabled",q)})]}),((Xu=P==null?void 0:P.performance)==null?void 0:Xu.cacheEnabled)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"cacheSize",children:"Cache Size (MB)"}),n.jsx(Ci,{id:"cacheSize",value:[((Ju=P==null?void 0:P.performance)==null?void 0:Ju.cacheSize)||100],onValueChange:([q])=>H("performance","cacheSize",q),min:50,max:1e3,step:50}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((Qu=P==null?void 0:P.performance)==null?void 0:Qu.cacheSize)||100," MB"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"cacheTTL",children:"Cache TTL (minutes)"}),n.jsx(I,{id:"cacheTTL",type:"number",value:((Zu=P==null?void 0:P.performance)==null?void 0:Zu.cacheTTL)||60,onChange:q=>H("performance","cacheTTL",parseInt(q.target.value)),min:5,max:1440})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"JVM Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"heapSize",children:"Max Heap Size (MB)"}),n.jsx(I,{id:"heapSize",type:"number",value:((eh=P==null?void 0:P.performance)==null?void 0:eh.maxHeapSize)||2048,onChange:q=>H("performance","maxHeapSize",parseInt(q.target.value)),min:512,max:16384})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"gcStrategy",children:"Garbage Collection Strategy"}),n.jsxs(te,{value:((th=P==null?void 0:P.performance)==null?void 0:th.gcStrategy)||"G1GC",onValueChange:q=>H("performance","gcStrategy",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"G1GC",children:"G1 Garbage Collector"}),n.jsx(A,{value:"ZGC",children:"Z Garbage Collector"}),n.jsx(A,{value:"ParallelGC",children:"Parallel GC"})]})]})]})]})]})]})]})}),n.jsx(ve,{value:"notifications",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Notification Configuration"}),n.jsx(ge,{children:"Configure email and notification settings"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Email Configuration"}),n.jsxs(W,{variant:"outline",size:"sm",onClick:de,disabled:!((nh=P==null?void 0:P.notifications)!=null&&nh.emailEnabled)||F.isPending,children:[n.jsx(zm,{className:"h-4 w-4 mr-2"}),"Test Email"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"emailEnabled",children:"Enable Email Notifications"}),n.jsx(ke,{id:"emailEnabled",checked:((sh=P==null?void 0:P.notifications)==null?void 0:sh.emailEnabled)||!1,onCheckedChange:q=>H("notifications","emailEnabled",q)})]}),((rh=P==null?void 0:P.notifications)==null?void 0:rh.emailEnabled)&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpHost",children:"SMTP Host"}),n.jsx(I,{id:"smtpHost",value:((ah=P==null?void 0:P.notifications)==null?void 0:ah.smtpHost)||"",onChange:q=>H("notifications","smtpHost",q.target.value),placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpPort",children:"SMTP Port"}),n.jsx(I,{id:"smtpPort",type:"number",value:((oh=P==null?void 0:P.notifications)==null?void 0:oh.smtpPort)||587,onChange:q=>H("notifications","smtpPort",parseInt(q.target.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpUsername",children:"SMTP Username"}),n.jsx(I,{id:"smtpUsername",value:((ih=P==null?void 0:P.notifications)==null?void 0:ih.smtpUsername)||"",onChange:q=>H("notifications","smtpUsername",q.target.value),placeholder:"username@gmail.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"smtpPassword",children:"SMTP Password"}),n.jsx(I,{id:"smtpPassword",type:"password",value:((lh=P==null?void 0:P.notifications)==null?void 0:lh.smtpPassword)||"",onChange:q=>H("notifications","smtpPassword",q.target.value),placeholder:""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailFrom",children:"From Address"}),n.jsx(I,{id:"emailFrom",type:"email",value:((ch=P==null?void 0:P.notifications)==null?void 0:ch.emailFrom)||"",onChange:q=>H("notifications","emailFrom",q.target.value),placeholder:"noreply@company.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"emailReplyTo",children:"Reply-To Address"}),n.jsx(I,{id:"emailReplyTo",type:"email",value:((dh=P==null?void 0:P.notifications)==null?void 0:dh.emailReplyTo)||"",onChange:q=>H("notifications","emailReplyTo",q.target.value),placeholder:"support@company.com"})]}),n.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[n.jsx(ke,{id:"smtpTls",checked:((cc=P==null?void 0:P.notifications)==null?void 0:cc.smtpTls)||!1,onCheckedChange:q=>H("notifications","smtpTls",q)}),n.jsx(S,{htmlFor:"smtpTls",children:"Use TLS/STARTTLS"})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Notification Events"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"notifyFlowFailure",children:"Flow Failures"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications when flows fail"})]}),n.jsx(ke,{id:"notifyFlowFailure",checked:((dc=P==null?void 0:P.notifications)==null?void 0:dc.notifyOnFlowFailure)||!1,onCheckedChange:q=>H("notifications","notifyOnFlowFailure",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"notifySystemError",children:"System Errors"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for critical system errors"})]}),n.jsx(ke,{id:"notifySystemError",checked:((uc=P==null?void 0:P.notifications)==null?void 0:uc.notifyOnSystemError)||!1,onCheckedChange:q=>H("notifications","notifyOnSystemError",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"notifyHighLoad",children:"High Load Warnings"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alert when system resources are under stress"})]}),n.jsx(ke,{id:"notifyHighLoad",checked:((uh=P==null?void 0:P.notifications)==null?void 0:uh.notifyOnHighLoad)||!1,onCheckedChange:q=>H("notifications","notifyOnHighLoad",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"notifyCertExpiry",children:"Certificate Expiry"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Warn before certificates expire"})]}),n.jsx(ke,{id:"notifyCertExpiry",checked:((hh=P==null?void 0:P.notifications)==null?void 0:hh.notifyOnCertificateExpiry)||!1,onCheckedChange:q=>H("notifications","notifyOnCertificateExpiry",q)})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Reports"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"dailyReport",children:"Daily Reports"}),n.jsx(ke,{id:"dailyReport",checked:((mh=P==null?void 0:P.notifications)==null?void 0:mh.dailyReportEnabled)||!1,onCheckedChange:q=>H("notifications","dailyReportEnabled",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"weeklyReport",children:"Weekly Reports"}),n.jsx(ke,{id:"weeklyReport",checked:((ph=P==null?void 0:P.notifications)==null?void 0:ph.weeklyReportEnabled)||!1,onCheckedChange:q=>H("notifications","weeklyReportEnabled",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"monthlyReport",children:"Monthly Reports"}),n.jsx(ke,{id:"monthlyReport",checked:((fh=P==null?void 0:P.notifications)==null?void 0:fh.monthlyReportEnabled)||!1,onCheckedChange:q=>H("notifications","monthlyReportEnabled",q)})]})]})]})]})]})}),n.jsx(ve,{value:"monitoring",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Monitoring Configuration"}),n.jsx(ge,{children:"Configure system monitoring and alerting"})]}),n.jsxs(re,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Metrics Collection"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"metricsEnabled",children:"Enable Metrics"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Collect system and application metrics"})]}),n.jsx(ke,{id:"metricsEnabled",checked:((xh=P==null?void 0:P.monitoring)==null?void 0:xh.metricsEnabled)||!1,onCheckedChange:q=>H("monitoring","metricsEnabled",q)})]}),((hc=P==null?void 0:P.monitoring)==null?void 0:hc.metricsEnabled)&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"metricsRetention",children:"Metrics Retention (days)"}),n.jsx(I,{id:"metricsRetention",type:"number",value:((gh=P==null?void 0:P.monitoring)==null?void 0:gh.metricsRetentionDays)||30,onChange:q=>H("monitoring","metricsRetentionDays",parseInt(q.target.value)),min:7,max:365})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"healthCheckInterval",children:"Health Check Interval (seconds)"}),n.jsx(I,{id:"healthCheckInterval",type:"number",value:((vh=P==null?void 0:P.monitoring)==null?void 0:vh.healthCheckInterval)||60,onChange:q=>H("monitoring","healthCheckInterval",parseInt(q.target.value)),min:10,max:300})]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Alerting Thresholds"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"cpuThreshold",children:"CPU Alert Threshold (%)"}),n.jsx(Ci,{id:"cpuThreshold",value:[((yh=P==null?void 0:P.monitoring)==null?void 0:yh.cpuAlertThreshold)||80],onValueChange:([q])=>H("monitoring","cpuAlertThreshold",q),min:50,max:95,step:5}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((jh=P==null?void 0:P.monitoring)==null?void 0:jh.cpuAlertThreshold)||80,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"memoryThreshold",children:"Memory Alert Threshold (%)"}),n.jsx(Ci,{id:"memoryThreshold",value:[((wh=P==null?void 0:P.monitoring)==null?void 0:wh.memoryAlertThreshold)||80],onValueChange:([q])=>H("monitoring","memoryAlertThreshold",q),min:50,max:95,step:5}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((Nh=P==null?void 0:P.monitoring)==null?void 0:Nh.memoryAlertThreshold)||80,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"diskThreshold",children:"Disk Alert Threshold (%)"}),n.jsx(Ci,{id:"diskThreshold",value:[((bh=P==null?void 0:P.monitoring)==null?void 0:bh.diskAlertThreshold)||85],onValueChange:([q])=>H("monitoring","diskAlertThreshold",q),min:50,max:95,step:5}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((mc=P==null?void 0:P.monitoring)==null?void 0:mc.diskAlertThreshold)||85,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"errorRateThreshold",children:"Error Rate Threshold (%)"}),n.jsx(Ci,{id:"errorRateThreshold",value:[((Sh=P==null?void 0:P.monitoring)==null?void 0:Sh.errorRateThreshold)||5],onValueChange:([q])=>H("monitoring","errorRateThreshold",q),min:1,max:20,step:1}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((Ch=P==null?void 0:P.monitoring)==null?void 0:Ch.errorRateThreshold)||5,"%"]})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"External Monitoring"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"prometheusEnabled",children:"Enable Prometheus Export"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Export metrics in Prometheus format"})]}),n.jsx(ke,{id:"prometheusEnabled",checked:((Eh=P==null?void 0:P.monitoring)==null?void 0:Eh.prometheusEnabled)||!1,onCheckedChange:q=>H("monitoring","prometheusEnabled",q)})]}),((Th=P==null?void 0:P.monitoring)==null?void 0:Th.prometheusEnabled)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"prometheusPort",children:"Prometheus Port"}),n.jsx(I,{id:"prometheusPort",type:"number",value:((Ph=P==null?void 0:P.monitoring)==null?void 0:Ph.prometheusPort)||9090,onChange:q=>H("monitoring","prometheusPort",parseInt(q.target.value)),min:1024,max:65535})]})]})]})]})]})}),n.jsx(ve,{value:"backup",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(oe,{children:[n.jsx(ie,{children:"Backup Configuration"}),n.jsx(ge,{children:"Configure automatic backups and data retention"})]}),n.jsx(re,{className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(S,{htmlFor:"autoBackup",children:"Enable Automatic Backups"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically backup system data at scheduled intervals"})]}),n.jsx(ke,{id:"autoBackup",checked:((kh=P==null?void 0:P.backup)==null?void 0:kh.autoBackupEnabled)||!1,onCheckedChange:q=>H("backup","autoBackupEnabled",q)})]}),((Ah=P==null?void 0:P.backup)==null?void 0:Ah.autoBackupEnabled)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"backupSchedule",children:"Backup Schedule (Cron)"}),n.jsx(I,{id:"backupSchedule",value:((Dh=P==null?void 0:P.backup)==null?void 0:Dh.backupSchedule)||"0 2 * * *",onChange:q=>H("backup","backupSchedule",q.target.value),placeholder:"0 2 * * *"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Daily at 2:00 AM"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"backupRetention",children:"Backup Retention (days)"}),n.jsx(I,{id:"backupRetention",type:"number",value:((ao=P==null?void 0:P.backup)==null?void 0:ao.backupRetentionDays)||30,onChange:q=>H("backup","backupRetentionDays",parseInt(q.target.value)),min:7,max:365})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"backupLocation",children:"Backup Location"}),n.jsxs(te,{value:((Rh=P==null?void 0:P.backup)==null?void 0:Rh.backupLocation)||"local",onValueChange:q=>H("backup","backupLocation",q),children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"local",children:"Local Storage"}),n.jsx(A,{value:"s3",children:"Amazon S3"}),n.jsx(A,{value:"azure",children:"Azure Blob Storage"}),n.jsx(A,{value:"gcs",children:"Google Cloud Storage"})]})]})]}),((Mh=P==null?void 0:P.backup)==null?void 0:Mh.backupLocation)==="local"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"backupPath",children:"Backup Path"}),n.jsx(I,{id:"backupPath",value:((Fh=P==null?void 0:P.backup)==null?void 0:Fh.backupPath)||"/var/backups/integrix",onChange:q=>H("backup","backupPath",q.target.value),placeholder:"/var/backups/integrix"})]}),((di=P==null?void 0:P.backup)==null?void 0:di.backupLocation)==="s3"&&n.jsxs(st,{children:[n.jsx(gs,{className:"h-4 w-4"}),n.jsx(rt,{children:"Configure AWS credentials in environment variables or IAM role"})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Backup Options"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"backupCompression",children:"Enable Compression"}),n.jsx(ke,{id:"backupCompression",checked:((_h=P==null?void 0:P.backup)==null?void 0:_h.backupCompression)||!1,onCheckedChange:q=>H("backup","backupCompression",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"backupEncryption",children:"Enable Encryption"}),n.jsx(ke,{id:"backupEncryption",checked:((Ih=P==null?void 0:P.backup)==null?void 0:Ih.backupEncryption)||!1,onCheckedChange:q=>H("backup","backupEncryption",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"backupNotification",children:"Send Backup Notifications"}),n.jsx(ke,{id:"backupNotification",checked:((pc=P==null?void 0:P.backup)==null?void 0:pc.backupNotification)||!1,onCheckedChange:q=>H("backup","backupNotification",q)})]})]})]}),n.jsx(Oe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Backup Content"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"includeFlows",children:"Include Flows"}),n.jsx(ke,{id:"includeFlows",checked:((Ub=P==null?void 0:P.backup)==null?void 0:Ub.includeFlows)!==!1,onCheckedChange:q=>H("backup","includeFlows",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"includeAdapters",children:"Include Adapters"}),n.jsx(ke,{id:"includeAdapters",checked:((Bb=P==null?void 0:P.backup)==null?void 0:Bb.includeAdapters)!==!1,onCheckedChange:q=>H("backup","includeAdapters",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"includeMessages",children:"Include Messages"}),n.jsx(ke,{id:"includeMessages",checked:((Hb=P==null?void 0:P.backup)==null?void 0:Hb.includeMessages)||!1,onCheckedChange:q=>H("backup","includeMessages",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"includeLogs",children:"Include Logs"}),n.jsx(ke,{id:"includeLogs",checked:((zb=P==null?void 0:P.backup)==null?void 0:zb.includeLogs)||!1,onCheckedChange:q=>H("backup","includeLogs",q)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(S,{htmlFor:"includeCertificates",children:"Include Certificates"}),n.jsx(ke,{id:"includeCertificates",checked:((qb=P==null?void 0:P.backup)==null?void 0:qb.includeCertificates)!==!1,onCheckedChange:q=>H("backup","includeCertificates",q)})]})]})]})]})]})})]})}),n.jsx(ve,{value:"users",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(oe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ie,{children:"User Management"}),n.jsx(ge,{children:"Manage user accounts and permissions"})]}),n.jsxs(St,{open:a,onOpenChange:o,children:[n.jsx($o,{asChild:!0,children:n.jsxs(W,{size:"sm",children:[n.jsx(TV,{className:"h-4 w-4 mr-2"}),"Add User"]})}),n.jsxs(ft,{children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Create New User"}),n.jsx(fr,{children:"Add a new user to the system with specified permissions"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"username",children:"Username *"}),n.jsx(I,{id:"username",value:_.username,onChange:q=>z({..._,username:q.target.value}),placeholder:"Enter username",disabled:y})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"email",children:"Email *"}),n.jsx(I,{id:"email",type:"email",value:_.email,onChange:q=>z({..._,email:q.target.value}),placeholder:"Enter email address",disabled:y})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"first_name",children:"First Name"}),n.jsx(I,{id:"first_name",value:_.first_name,onChange:q=>z({..._,first_name:q.target.value}),placeholder:"Enter first name",disabled:y})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"last_name",children:"Last Name"}),n.jsx(I,{id:"last_name",value:_.last_name,onChange:q=>z({..._,last_name:q.target.value}),placeholder:"Enter last name",disabled:y})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"role",children:"Role"}),n.jsxs(te,{value:_.role,onValueChange:q=>z({..._,role:q}),disabled:y,children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(zn.getRolePermissions(_.role)).map(([q,He])=>He.map(mn=>n.jsxs(le,{variant:"outline",className:"text-xs",children:[q,":",mn]},`${q}:${mn}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>o(!1),disabled:y,children:"Cancel"}),n.jsx(W,{onClick:U,disabled:y,children:y?"Creating...":"Create User"})]})]})]})]})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(S,{className:"text-sm font-medium",children:["System Users (",s.length,")",m&&n.jsx("span",{className:"text-muted-foreground",children:" - Loading..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:B,disabled:m,children:[n.jsx(qt,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>h(!u),children:[u?n.jsx(_y,{className:"h-4 w-4 mr-2"}):n.jsx(Td,{className:"h-4 w-4 mr-2"}),u?"Hide":"Show"," Passwords"]})]})]}),n.jsx("div",{className:"space-y-3",children:s.map(q=>n.jsx("div",{className:"border border-border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"font-medium",children:q.username}),n.jsx(le,{variant:X(q.role),className:"text-xs",children:q.role.toUpperCase()}),q.id===(e==null?void 0:e.id)&&n.jsx(le,{variant:"outline",className:"text-xs",children:"Current User"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{children:["Email: ",q.email]}),u&&n.jsxs("div",{children:["Password: ",n.jsx("code",{className:"bg-muted px-1 rounded",children:""})]}),n.jsxs("div",{children:["Created: ",q.created_at]}),q.last_login_at&&n.jsxs("div",{children:["Last Login: ",new Date(q.last_login_at).toLocaleDateString()]})]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:q.permissions&&Object.entries(q.permissions).map(([He,mn])=>mn.map(oo=>n.jsxs(le,{variant:"outline",className:"text-xs",children:[He,":",oo]},`${He}:${oo}`)))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(St,{open:i&&(d==null?void 0:d.id)===q.id,onOpenChange:He=>{l(He),He||c(null)},children:[n.jsx($o,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>c({...q}),children:n.jsx(Bl,{className:"h-4 w-4"})})}),n.jsxs(ft,{children:[n.jsxs(Ct,{children:[n.jsx(Et,{children:"Edit User"}),n.jsx(fr,{children:"Update user information and permissions"})]}),d&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Username"}),n.jsx(I,{value:d.username,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-email",children:"Email"}),n.jsx(I,{id:"edit-email",type:"email",value:d.email,onChange:He=>c({...d,email:He.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-first_name",children:"First Name"}),n.jsx(I,{id:"edit-first_name",value:d.first_name||"",onChange:He=>c({...d,first_name:He.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-last_name",children:"Last Name"}),n.jsx(I,{id:"edit-last_name",value:d.last_name||"",onChange:He=>c({...d,last_name:He.target.value}),disabled:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{htmlFor:"edit-role",children:"Role"}),n.jsxs(te,{value:d.role,onValueChange:He=>c({...d,role:He}),disabled:w,children:[n.jsx(Z,{children:n.jsx(ne,{})}),n.jsxs(ee,{children:[n.jsx(A,{value:"administrator",children:"Administrator"}),n.jsx(A,{value:"integrator",children:"Integrator"}),n.jsx(A,{value:"viewer",children:"Viewer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(S,{children:"Permissions"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(zn.getRolePermissions(d.role)).map(([He,mn])=>mn.map(oo=>n.jsxs(le,{variant:"outline",className:"text-xs",children:[He,":",oo]},`${He}:${oo}`)))})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),disabled:w,children:"Cancel"}),n.jsx(W,{onClick:K,disabled:w,children:w?"Updating...":"Update User"})]})]})]})]}),n.jsx(W,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Y(q.id,q.username),disabled:q.id===(e==null?void 0:e.id)||g===q.id,children:g===q.id?n.jsx(qt,{className:"h-4 w-4 animate-spin"}):n.jsx(Ja,{className:"h-4 w-4"})})]})]})},q.id))})]})})]})})]})]})},Lce=()=>{const e=jr();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-secondary",children:n.jsxs(J,{className:"w-full max-w-md shadow-elegant text-center",children:[n.jsxs(oe,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-primary flex items-center justify-center",children:n.jsx(ts,{className:"h-6 w-6 text-primary-foreground"})})}),n.jsx(ie,{className:"text-4xl font-bold text-foreground",children:"404"}),n.jsx(ge,{className:"text-xl",children:"Oops! Page not found"})]}),n.jsxs(re,{children:[n.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),n.jsx(W,{asChild:!0,className:"bg-gradient-primary hover:opacity-90",children:n.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})},$ce=({children:e})=>n.jsx(n.Fragment,{children:e});class Vce extends p.Component{constructor(){super(...arguments);Je(this,"state",{hasError:!1,error:null,errorInfo:null});Je(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Je(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorInfo:null}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r),this.setState({error:s,errorInfo:r}),console.error("React Error Boundary triggered:",{error:s.message,stack:s.stack,componentStack:r.componentStack}),this.props.onError&&this.props.onError(s,r),console.error("Production error:",{error:s.toString(),componentStack:r.componentStack,stack:s.stack})}render(){return this.state.hasError?this.props.fallback?n.jsx(n.Fragment,{children:this.props.fallback}):n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:n.jsxs(J,{className:"w-full max-w-lg",children:[n.jsxs(oe,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"h-6 w-6 text-destructive"}),n.jsx(ie,{children:"Something went wrong"})]}),n.jsx(ge,{children:"An unexpected error occurred. Don't worry, we've logged this issue."})]}),n.jsxs(re,{className:"space-y-4",children:[!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:this.handleReset,variant:"default",children:[n.jsx(qt,{className:"mr-2 h-4 w-4"}),"Try Again"]}),n.jsxs(W,{onClick:this.handleGoHome,variant:"outline",children:[n.jsx(Iy,{className:"mr-2 h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}const lb=p.createContext({});function cb(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const db=typeof window<"u",tL=db?p.useLayoutEffect:p.useEffect,Bx=p.createContext(null);function ub(e,t){e.indexOf(t)===-1&&e.push(t)}function hb(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Yr=(e,t,s)=>s>t?t:s<e?e:s;let pf=()=>{};const Kr={},nL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sL(e){return typeof e=="object"&&e!==null}const rL=e=>/^0[^.\s]+$/u.test(e);function mb(e){let t;return()=>(t===void 0&&(t=e()),t)}const ps=e=>e,Uce=(e,t)=>s=>t(e(s)),Wu=(...e)=>e.reduce(Uce),Jd=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class pb{constructor(){this.subscriptions=[]}add(t){return ub(this.subscriptions,t),()=>hb(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ur=e=>e*1e3,hr=e=>e/1e3;function aL(e,t){return t?e*(1e3/t):0}const oL=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Bce=1e-7,Hce=12;function zce(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=oL(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>Bce&&++l<Hce);return i}function Yu(e,t,s,r){if(e===t&&s===r)return ps;const a=o=>zce(o,0,1,e,s);return o=>o===0||o===1?o:oL(a(o),t,r)}const iL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lL=e=>t=>1-e(1-t),cL=Yu(.33,1.53,.69,.99),fb=lL(cL),dL=iL(fb),uL=e=>(e*=2)<1?.5*fb(e):.5*(2-Math.pow(2,-10*(e-1))),xb=e=>1-Math.sin(Math.acos(e)),hL=lL(xb),mL=iL(xb),qce=Yu(.42,0,1,1),Wce=Yu(0,0,.58,1),pL=Yu(.42,0,.58,1),Yce=e=>Array.isArray(e)&&typeof e[0]!="number",fL=e=>Array.isArray(e)&&typeof e[0]=="number",q2={linear:ps,easeIn:qce,easeInOut:pL,easeOut:Wce,circIn:xb,circInOut:mL,circOut:hL,backIn:fb,backInOut:dL,backOut:cL,anticipate:uL},Kce=e=>typeof e=="string",W2=e=>{if(fL(e)){pf(e.length===4);const[t,s,r,a]=e;return Yu(t,s,r,a)}else if(Kce(e))return pf(q2[e]!==void 0),q2[e];return e},Sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Y2={value:null,addProjectionMetrics:null};function Gce(e,t){let s=new Set,r=new Set,a=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function c(h){i.has(h)&&(u.schedule(h),e()),d++,h(l)}const u={schedule:(h,m=!1,f=!1)=>{const x=f&&a?s:r;return m&&i.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),i.delete(h)},process:h=>{if(l=h,a){o=!0;return}a=!0,[s,r]=[r,s],s.forEach(c),t&&Y2.value&&Y2.value.frameloop[t].push(d),d=0,s.clear(),a=!1,o&&(o=!1,u.process(h))}};return u}const Xce=40;function xL(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=Sm.reduce((j,N)=>(j[N]=Gce(o,t?N:void 0),j),{}),{setup:l,read:d,resolveKeyframes:c,preUpdate:u,update:h,preRender:m,render:f,postRender:y}=i,x=()=>{const j=Kr.useManualTiming?a.timestamp:performance.now();s=!1,Kr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,Xce),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),d.process(a),c.process(a),u.process(a),h.process(a),m.process(a),f.process(a),y.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(x))},w=()=>{s=!0,r=!0,a.isProcessing||e(x)};return{schedule:Sm.reduce((j,N)=>{const b=i[N];return j[N]=(E,C=!1,T=!1)=>(s||w(),b.schedule(E,C,T)),j},{}),cancel:j=>{for(let N=0;N<Sm.length;N++)i[Sm[N]].cancel(j)},state:a,steps:i}}const{schedule:pt,cancel:qa,state:Kt,steps:vv}=xL(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0);let sp;function Jce(){sp=void 0}const kn={now:()=>(sp===void 0&&kn.set(Kt.isProcessing||Kr.useManualTiming?Kt.timestamp:performance.now()),sp),set:e=>{sp=e,queueMicrotask(Jce)}},gL=e=>t=>typeof t=="string"&&t.startsWith(e),gb=gL("--"),Qce=gL("var(--"),vb=e=>Qce(e)?Zce.test(e.split("/*")[0].trim()):!1,Zce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ac={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qd={...ac,transform:e=>Yr(0,1,e)},Cm={...ac,default:1},ad=e=>Math.round(e*1e5)/1e5,yb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ede(e){return e==null}const tde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jb=(e,t)=>s=>!!(typeof s=="string"&&tde.test(s)&&s.startsWith(e)||t&&!ede(s)&&Object.prototype.hasOwnProperty.call(s,t)),vL=(e,t,s)=>r=>{if(typeof r!="string")return r;const[a,o,i,l]=r.match(yb);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},nde=e=>Yr(0,255,e),yv={...ac,transform:e=>Math.round(nde(e))},wo={test:jb("rgb","red"),parse:vL("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+yv.transform(e)+", "+yv.transform(t)+", "+yv.transform(s)+", "+ad(Qd.transform(r))+")"};function sde(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Hj={test:jb("#"),parse:sde,transform:wo.transform},Ku=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pa=Ku("deg"),mr=Ku("%"),Te=Ku("px"),rde=Ku("vh"),ade=Ku("vw"),K2={...mr,parse:e=>mr.parse(e)/100,transform:e=>mr.transform(e*100)},Vi={test:jb("hsl","hue"),parse:vL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+mr.transform(ad(t))+", "+mr.transform(ad(s))+", "+ad(Qd.transform(r))+")"},Ot={test:e=>wo.test(e)||Hj.test(e)||Vi.test(e),parse:e=>wo.test(e)?wo.parse(e):Vi.test(e)?Vi.parse(e):Hj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wo.transform(e):Vi.transform(e),getAnimatableNone:e=>{const t=Ot.parse(e);return t.alpha=0,Ot.transform(t)}},ode=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ide(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yb))==null?void 0:t.length)||0)+(((s=e.match(ode))==null?void 0:s.length)||0)>0}const yL="number",jL="color",lde="var",cde="var(",G2="${}",dde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zd(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(dde,d=>(Ot.test(d)?(r.color.push(o),a.push(jL),s.push(Ot.parse(d))):d.startsWith(cde)?(r.var.push(o),a.push(lde),s.push(d)):(r.number.push(o),a.push(yL),s.push(parseFloat(d))),++o,G2)).split(G2);return{values:s,split:l,indexes:r,types:a}}function wL(e){return Zd(e).values}function NL(e){const{split:t,types:s}=Zd(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const l=s[i];l===yL?o+=ad(a[i]):l===jL?o+=Ot.transform(a[i]):o+=a[i]}return o}}const ude=e=>typeof e=="number"?0:Ot.test(e)?Ot.getAnimatableNone(e):e;function hde(e){const t=wL(e);return NL(e)(t.map(ude))}const Wa={test:ide,parse:wL,createTransformer:NL,getAnimatableNone:hde};function jv(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function mde({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;a=jv(d,l,e+1/3),o=jv(d,l,e),i=jv(d,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function ff(e,t){return s=>s>0?t:e}const jt=(e,t,s)=>e+(t-e)*s,wv=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},pde=[Hj,wo,Vi],fde=e=>pde.find(t=>t.test(e));function X2(e){const t=fde(e);if(!t)return!1;let s=t.parse(e);return t===Vi&&(s=mde(s)),s}const J2=(e,t)=>{const s=X2(e),r=X2(t);if(!s||!r)return ff(e,t);const a={...s};return o=>(a.red=wv(s.red,r.red,o),a.green=wv(s.green,r.green,o),a.blue=wv(s.blue,r.blue,o),a.alpha=jt(s.alpha,r.alpha,o),wo.transform(a))},zj=new Set(["none","hidden"]);function xde(e,t){return zj.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function gde(e,t){return s=>jt(e,t,s)}function wb(e){return typeof e=="number"?gde:typeof e=="string"?vb(e)?ff:Ot.test(e)?J2:jde:Array.isArray(e)?bL:typeof e=="object"?Ot.test(e)?J2:vde:ff}function bL(e,t){const s=[...e],r=s.length,a=e.map((o,i)=>wb(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}}function vde(e,t){const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=wb(e[a])(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}}function yde(e,t){const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][r[o]],l=e.values[i]??0;s[a]=l,r[o]++}return s}const jde=(e,t)=>{const s=Wa.createTransformer(t),r=Zd(e),a=Zd(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?zj.has(e)&&!a.values.length||zj.has(t)&&!r.values.length?xde(e,t):Wu(bL(yde(r,a),a.values),s):ff(e,t)};function SL(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?jt(e,t,s):wb(e)(e,t)}const wde=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>pt.update(t,s),stop:()=>qa(t),now:()=>Kt.isProcessing?Kt.timestamp:kn.now()}},CL=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xf=2e4;function Nb(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<xf;)t+=s,r=e.next(t);return t>=xf?1/0:t}function Nde(e,t=100,s){const r=s({...e,keyframes:[0,t]}),a=Math.min(Nb(r),xf);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:hr(a)}}const bde=5;function EL(e,t,s){const r=Math.max(t-bde,0);return aL(s-e(r),t-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nv=.001;function Sde({duration:e=kt.duration,bounce:t=kt.bounce,velocity:s=kt.velocity,mass:r=kt.mass}){let a,o,i=1-t;i=Yr(kt.minDamping,kt.maxDamping,i),e=Yr(kt.minDuration,kt.maxDuration,hr(e)),i<1?(a=c=>{const u=c*i,h=u*e,m=u-s,f=qj(c,i),y=Math.exp(-h);return Nv-m/f*y},o=c=>{const h=c*i*e,m=h*s+s,f=Math.pow(i,2)*Math.pow(c,2)*e,y=Math.exp(-h),x=qj(Math.pow(c,2),i);return(-a(c)+Nv>0?-1:1)*((m-f)*y)/x}):(a=c=>{const u=Math.exp(-c*e),h=(c-s)*e+1;return-Nv+u*h},o=c=>{const u=Math.exp(-c*e),h=(s-c)*(e*e);return u*h});const l=5/e,d=Ede(a,o,l);if(e=ur(e),isNaN(d))return{stiffness:kt.stiffness,damping:kt.damping,duration:e};{const c=Math.pow(d,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const Cde=12;function Ede(e,t,s){let r=s;for(let a=1;a<Cde;a++)r=r-e(r)/t(r);return r}function qj(e,t){return e*Math.sqrt(1-t*t)}const Tde=["duration","bounce"],Pde=["stiffness","damping","mass"];function Q2(e,t){return t.some(s=>e[s]!==void 0)}function kde(e){let t={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...e};if(!Q2(e,Pde)&&Q2(e,Tde))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,o=2*Yr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:kt.mass,stiffness:a,damping:o}}else{const s=Sde(e);t={...t,...s,mass:kt.mass},t.isResolvedFromDuration=!0}return t}function gf(e=kt.visualDuration,t=kt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:d,damping:c,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=kde({...s,velocity:-hr(s.velocity||0)}),y=m||0,x=c/(2*Math.sqrt(d*u)),w=i-o,v=hr(Math.sqrt(d/u)),g=Math.abs(w)<5;r||(r=g?kt.restSpeed.granular:kt.restSpeed.default),a||(a=g?kt.restDelta.granular:kt.restDelta.default);let j;if(x<1){const b=qj(v,x);j=E=>{const C=Math.exp(-x*v*E);return i-C*((y+x*v*w)/b*Math.sin(b*E)+w*Math.cos(b*E))}}else if(x===1)j=b=>i-Math.exp(-v*b)*(w+(y+v*w)*b);else{const b=v*Math.sqrt(x*x-1);j=E=>{const C=Math.exp(-x*v*E),T=Math.min(b*E,300);return i-C*((y+x*v*w)*Math.sinh(T)+b*w*Math.cosh(T))/b}}const N={calculatedDuration:f&&h||null,next:b=>{const E=j(b);if(f)l.done=b>=h;else{let C=b===0?y:0;x<1&&(C=b===0?ur(y):EL(j,b,E));const T=Math.abs(C)<=r,F=Math.abs(i-E)<=a;l.done=T&&F}return l.value=l.done?i:E,l},toString:()=>{const b=Math.min(Nb(N),xf),E=CL(C=>N.next(b*C).value,b,30);return b+"ms "+E},toTransition:()=>{}};return N}gf.applyToOptions=e=>{const t=Nde(e,100,gf);return e.ease=t.ease,e.duration=ur(t.duration),e.type="keyframes",e};function Wj({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:d,restDelta:c=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=T=>l!==void 0&&T<l||d!==void 0&&T>d,y=T=>l===void 0?d:d===void 0||Math.abs(l-T)<Math.abs(d-T)?l:d;let x=s*t;const w=h+x,v=i===void 0?w:i(w);v!==w&&(x=v-h);const g=T=>-x*Math.exp(-T/r),j=T=>v+g(T),N=T=>{const F=g(T),V=j(T);m.done=Math.abs(F)<=c,m.value=m.done?v:V};let b,E;const C=T=>{f(m.value)&&(b=T,E=gf({keyframes:[m.value,y(m.value)],velocity:EL(j,T,m.value),damping:a,stiffness:o,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let F=!1;return!E&&b===void 0&&(F=!0,N(T),C(T)),b!==void 0&&T>=b?E.next(T-b):(!F&&N(T),m)}}}function Ade(e,t,s){const r=[],a=s||Kr.mix||SL,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const d=Array.isArray(t)?t[i]||ps:t;l=Wu(d,l)}r.push(l)}return r}function Dde(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(pf(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ade(t,r,a),d=l.length,c=u=>{if(i&&u<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Jd(e[h],e[h+1],u);return l[h](m)};return s?u=>c(Yr(e[0],e[o-1],u)):c}function Rde(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=Jd(0,t,r);e.push(jt(s,1,a))}}function Mde(e){const t=[0];return Rde(t,e.length-1),t}function Fde(e,t){return e.map(s=>s*t)}function _de(e,t){return e.map(()=>t||pL).splice(0,e.length-1)}function od({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=Yce(r)?r.map(W2):W2(r),o={done:!1,value:t[0]},i=Fde(s&&s.length===t.length?s:Mde(t),e),l=Dde(i,t,{ease:Array.isArray(a)?a:_de(t,a)});return{calculatedDuration:e,next:d=>(o.value=l(d),o.done=d>=e,o)}}const Ide=e=>e!==null;function bb(e,{repeat:t,repeatType:s="loop"},r,a=1){const o=e.filter(Ide),l=a<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const Ode={decay:Wj,inertia:Wj,tween:od,keyframes:od,spring:gf};function TL(e){typeof e.type=="string"&&(e.type=Ode[e.type])}class Sb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Lde=e=>e/100;class Cb extends Sb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:s}=this.options;s&&s.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;TL(t);const{type:s=od,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const d=s||od;d!==od&&typeof l[0]!="number"&&(this.mixKeyframes=Wu(Lde,SL(l[0],l[1])),l=[0,100]);const c=d({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=Nb(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=c}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:y,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,N=r;if(h){const T=Math.min(this.currentTime,a)/l;let F=Math.floor(T),V=T%1;!V&&T>=1&&(V=1),V===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(m==="reverse"?(V=1-V,f&&(V-=f/l)):m==="mirror"&&(N=i)),j=Yr(0,1,V)*l}const b=g?{done:!1,value:u[0]}:N.next(j);o&&(b.value=o(b.value));let{done:E}=b;!g&&d!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&y!==Wj&&(b.value=bb(u,this.options,w,this.speed)),x&&x(b.value),C&&this.finish(),b}then(t,s){return this.finished.then(t,s)}get duration(){return hr(this.calculatedDuration)}get time(){return hr(this.currentTime)}set time(t){var s;t=ur(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kn.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=hr(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:t=wde,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(o=(a=this.options).onPlay)==null||o.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function $de(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const No=e=>e*180/Math.PI,Yj=e=>{const t=No(Math.atan2(e[1],e[0]));return Kj(t)},Vde={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yj,rotateZ:Yj,skewX:e=>No(Math.atan(e[1])),skewY:e=>No(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Kj=e=>(e=e%360,e<0&&(e+=360),e),Z2=Yj,eE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ude={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eE,scaleY:tE,scale:e=>(eE(e)+tE(e))/2,rotateX:e=>Kj(No(Math.atan2(e[6],e[5]))),rotateY:e=>Kj(No(Math.atan2(-e[2],e[0]))),rotateZ:Z2,rotate:Z2,skewX:e=>No(Math.atan(e[4])),skewY:e=>No(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gj(e){return e.includes("scale")?1:0}function Xj(e,t){if(!e||e==="none")return Gj(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=Ude,a=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Vde,a=l}if(!a)return Gj(t);const o=r[t],i=a[1].split(",").map(Hde);return typeof o=="function"?o(i):i[o]}const Bde=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Xj(s,t)};function Hde(e){return parseFloat(e.trim())}const oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ic=new Set(oc),nE=e=>e===ac||e===Te,zde=new Set(["x","y","z"]),qde=oc.filter(e=>!zde.has(e));function Wde(e){const t=[];return qde.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xj(t,"x"),y:(e,{transform:t})=>Xj(t,"y")};Po.translateX=Po.x;Po.translateY=Po.y;const ko=new Set;let Jj=!1,Qj=!1,Zj=!1;function PL(){if(Qj){const e=Array.from(ko).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const a=Wde(r);a.length&&(s.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([o,i])=>{var l;(l=r.getValue(o))==null||l.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qj=!1,Jj=!1,ko.forEach(e=>e.complete(Zj)),ko.clear()}function kL(){ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qj=!0)})}function Yde(){Zj=!0,kL(),PL(),Zj=!1}class Eb{constructor(t,s,r,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),Jj||(Jj=!0,pt.read(kL),pt.resolveKeyframes(PL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:a}=this;if(t[0]===null){const o=a==null?void 0:a.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&s){const l=r.readValue(s,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&o===void 0&&a.set(t[0])}$de(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kde=e=>e.startsWith("--");function Gde(e,t,s){Kde(t)?e.style.setProperty(t,s):e.style[t]=s}const Xde=mb(()=>window.ScrollTimeline!==void 0),Jde={};function Qde(e,t){const s=mb(e);return()=>Jde[t]??s()}const AL=Qde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,sE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function DL(e,t){if(e)return typeof e=="function"?AL()?CL(e,t):"ease-out":fL(e)?qc(e):Array.isArray(e)?e.map(s=>DL(s,t)||sE.easeOut):sE[e]}function Zde(e,t,s,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:d}={},c=void 0){const u={[t]:s};d&&(u.offset=d);const h=DL(l,a);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(u,m)}function RL(e){return typeof e=="function"&&"applyToOptions"in e}function eue({type:e,...t}){return RL(e)&&AL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tue extends Sb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,pf(typeof t.type!="string");const c=eue(t);this.animation=Zde(s,r,a,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=bb(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Gde(s,r,u),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return hr(Number(t))}get time(){return hr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ur(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Xde()?(this.animation.timeline=t,ps):s(this)}}const ML={anticipate:uL,backInOut:dL,circInOut:mL};function nue(e){return e in ML}function sue(e){typeof e.ease=="string"&&nue(e.ease)&&(e.ease=ML[e.ease])}const rE=10;class rue extends tue{constructor(t){sue(t),TL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:a,element:o,...i}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new Cb({...i,autoplay:!1}),d=ur(this.finishedTime??this.time);s.setWithVelocity(l.sample(d-rE).value,l.sample(d).value,rE),l.stop()}}const aE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wa.test(e)||e==="0")&&!e.startsWith("url("));function aue(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function oue(e,t,s,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=aE(a,t),l=aE(o,t);return!i||!l?!1:aue(e)||(s==="spring"||RL(s))&&r}function e0(e){e.duration=0,e.type}const iue=new Set(["opacity","clipPath","filter","transform"]),lue=mb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cue(e){var u;const{motionValue:t,name:s,repeatDelay:r,repeatType:a,damping:o,type:i}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:c}=t.owner.getProps();return lue()&&s&&iue.has(s)&&(s!=="transform"||!c)&&!d&&!r&&a!=="mirror"&&o!==0&&i!=="inertia"}const due=40;class uue extends Sb{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:d,motionValue:c,element:u,...h}){var y;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=kn.now();const m={autoplay:t,delay:s,type:r,repeat:a,repeatDelay:o,repeatType:i,name:d,motionValue:c,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||Eb;this.keyframeResolver=new f(l,(x,w,v)=>this.onKeyframesResolved(x,w,m,!v),d,c,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,s,r,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:d,isHandoff:c,onUpdate:u}=r;this.resolvedAt=kn.now(),oue(t,o,i,l)||((Kr.instantAnimations||!d)&&(u==null||u(bb(t,r,s))),t[0]=t[t.length-1],e0(r),r.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>due?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},f=!c&&cue(m)?new rue({...m,element:m.motionValue.owner.current}):new Cb(m);f.finished.then(()=>this.notifyFinished()).catch(ps),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Yde()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const hue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mue(e){const t=hue.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${s??r}`,a]}function FL(e,t,s=1){const[r,a]=mue(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return nL(i)?parseFloat(i):i}return vb(a)?FL(a,t,s+1):a}function Tb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _L=new Set(["width","height","top","left","right","bottom",...oc]),pue={test:e=>e==="auto",parse:e=>e},IL=e=>t=>t.test(e),OL=[ac,Te,mr,pa,ade,rde,pue],oE=e=>OL.find(IL(e));function fue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rL(e):!0}const xue=new Set(["brightness","contrast","saturate","opacity"]);function gue(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(yb)||[];if(!r)return e;const a=s.replace(r,"");let o=xue.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const vue=/\b([a-z-]*)\(.*?\)/gu,t0={...Wa,getAnimatableNone:e=>{const t=e.match(vue);return t?t.map(gue).join(" "):e}},iE={...ac,transform:Math.round},yue={rotate:pa,rotateX:pa,rotateY:pa,rotateZ:pa,scale:Cm,scaleX:Cm,scaleY:Cm,scaleZ:Cm,skew:pa,skewX:pa,skewY:pa,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Qd,originX:K2,originY:K2,originZ:Te},Pb={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...yue,zIndex:iE,fillOpacity:Qd,strokeOpacity:Qd,numOctaves:iE},jue={...Pb,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:t0,WebkitFilter:t0},LL=e=>jue[e];function $L(e,t){let s=LL(e);return s!==t0&&(s=Wa),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const wue=new Set(["auto","none","0"]);function Nue(e,t,s){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!wue.has(o)&&Zd(o).values.length&&(a=e[r]),r++}if(a&&s)for(const o of t)e[o]=$L(s,a)}class bue extends Eb{constructor(t,s,r,a,o){super(t,s,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let c=t[d];if(typeof c=="string"&&(c=c.trim(),vb(c))){const u=FL(c,s.current);u!==void 0&&(t[d]=u),d===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_L.has(r)||t.length!==2)return;const[a,o]=t,i=oE(a),l=oE(o);if(i!==l)if(nE(i)&&nE(l))for(let d=0;d<t.length;d++){const c=t[d];typeof c=="string"&&(t[d]=parseFloat(c))}else Po[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||fue(t[a]))&&r.push(a);r.length&&Nue(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Po[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,c])=>{t.getValue(d).set(c)}),this.resolveNoneKeyframes()}}function Sue(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const VL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function UL(e){return sL(e)&&"offsetHeight"in e}const lE=30,Cue=e=>!isNaN(parseFloat(e));class Eue{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const a=kn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new pb);const r=this.events[t].add(s);return t==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lE)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,lE);return aL(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(e,t){return new Eue(e,t)}const{schedule:kb,cancel:Ype}=xL(queueMicrotask,!1),Cs={x:!1,y:!1};function BL(){return Cs.x||Cs.y}function Tue(e){return e==="x"||e==="y"?Cs[e]?null:(Cs[e]=!0,()=>{Cs[e]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function HL(e,t){const s=Sue(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[s,a,()=>r.abort()]}function cE(e){return!(e.pointerType==="touch"||BL())}function Pue(e,t,s={}){const[r,a,o]=HL(e,s),i=l=>{if(!cE(l))return;const{target:d}=l,c=t(d,l);if(typeof c!="function"||!d)return;const u=h=>{cE(h)&&(c(h),d.removeEventListener("pointerleave",u))};d.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const zL=(e,t)=>t?e===t?!0:zL(e,t.parentElement):!1,Ab=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aue(e){return kue.has(e.tagName)||e.tabIndex!==-1}const rp=new WeakSet;function dE(e){return t=>{t.key==="Enter"&&e(t)}}function bv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Due=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=dE(()=>{if(rp.has(s))return;bv(s,"down");const a=dE(()=>{bv(s,"up")}),o=()=>bv(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function uE(e){return Ab(e)&&!BL()}function Rue(e,t,s={}){const[r,a,o]=HL(e,s),i=l=>{const d=l.currentTarget;if(!uE(l))return;rp.add(d);const c=t(d,l),u=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),rp.has(d)&&rp.delete(d),uE(f)&&typeof c=="function"&&c(f,{success:y})},h=f=>{u(f,d===window||d===document||s.useGlobalTarget||zL(d,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),UL(l)&&(l.addEventListener("focus",c=>Due(c,a)),!Aue(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function qL(e){return sL(e)&&"ownerSVGElement"in e}function Mue(e){return qL(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),Fue=[...OL,Ot,Wa],_ue=e=>Fue.find(IL(e)),Db=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Iue extends p.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,a=UL(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oue({children:e,isPresent:t,anchorX:s,root:r}){const a=p.useId(),o=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Db);return p.useInsertionEffect(()=>{const{width:d,height:c,top:u,left:h,right:m}=i.current;if(t||!o.current||!d||!c)return;const f=s==="left"?`left: ${h}`:`right: ${m}`;o.current.dataset.motionPopId=a;const y=document.createElement("style");l&&(y.nonce=l);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),n.jsx(Iue,{isPresent:t,childRef:o,sizeRef:i,children:p.cloneElement(e,{ref:o})})}const Lue=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i,anchorX:l,root:d})=>{const c=cb($ue),u=p.useId();let h=!0,m=p.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:s,custom:a,onExitComplete:f=>{c.set(f,!0);for(const y of c.values())if(!y)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[s,c,r]);return o&&h&&(m={...m}),p.useMemo(()=>{c.forEach((f,y)=>c.set(y,!1))},[s]),p.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),i==="popLayout"&&(e=n.jsx(Oue,{isPresent:s,anchorX:l,root:d,children:e})),n.jsx(Bx.Provider,{value:m,children:e})};function $ue(){return new Map}function WL(e=!0){const t=p.useContext(Bx);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,o=p.useId();p.useEffect(()=>{if(e)return a(o)},[e]);const i=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!s&&r?[!1,i]:[!0]}const Em=e=>e.key||"";function hE(e){const t=[];return p.Children.forEach(e,s=>{p.isValidElement(s)&&t.push(s)}),t}const Vue=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:d})=>{const[c,u]=WL(i),h=p.useMemo(()=>hE(e),[e]),m=i&&!c?[]:h.map(Em),f=p.useRef(!0),y=p.useRef(h),x=cb(()=>new Map),[w,v]=p.useState(h),[g,j]=p.useState(h);tL(()=>{f.current=!1,y.current=h;for(let E=0;E<g.length;E++){const C=Em(g[E]);m.includes(C)?x.delete(C):x.get(C)!==!0&&x.set(C,!1)}},[g,m.length,m.join("-")]);const N=[];if(h!==w){let E=[...h];for(let C=0;C<g.length;C++){const T=g[C],F=Em(T);m.includes(F)||(E.splice(C,0,T),N.push(T))}return o==="wait"&&N.length&&(E=N),j(hE(E)),v(h),null}const{forceRender:b}=p.useContext(lb);return n.jsx(n.Fragment,{children:g.map(E=>{const C=Em(E),T=i&&!c?!1:h===g||m.includes(C),F=()=>{if(x.has(C))x.set(C,!0);else return;let V=!0;x.forEach(k=>{k||(V=!1)}),V&&(b==null||b(),j(y.current),i&&(u==null||u()),r&&r())};return n.jsx(Lue,{isPresent:T,initial:!f.current||s?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:T?void 0:F,anchorX:l,children:E},C)})})},YL=p.createContext({strict:!1}),mE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const e in mE)Il[e]={isEnabled:t=>mE[e].some(s=>!!t[s])};function Uue(e){for(const t in e)Il[t]={...Il[t],...e[t]}}const Bue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bue.has(e)}let KL=e=>!vf(e);function Hue(e){typeof e=="function"&&(KL=t=>t.startsWith("on")?!vf(t):e(t))}try{Hue(require("@emotion/is-prop-valid").default)}catch{}function zue(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(KL(a)||s===!0&&vf(a)||!t&&!vf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Hx=p.createContext({});function zx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function eu(e){return typeof e=="string"||Array.isArray(e)}const Rb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mb=["initial",...Rb];function qx(e){return zx(e.animate)||Mb.some(t=>eu(e[t]))}function GL(e){return!!(qx(e)||e.variants)}function que(e,t){if(qx(e)){const{initial:s,animate:r}=e;return{initial:s===!1||eu(s)?s:void 0,animate:eu(r)?r:void 0}}return e.inherit!==!1?t:{}}function Wue(e){const{initial:t,animate:s}=que(e,p.useContext(Hx));return p.useMemo(()=>({initial:t,animate:s}),[pE(t),pE(s)])}function pE(e){return Array.isArray(e)?e.join(" "):e}const tu={};function Yue(e){for(const t in e)tu[t]=e[t],gb(t)&&(tu[t].isCSSVariable=!0)}function XL(e,{layout:t,layoutId:s}){return ic.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!tu[e]||e==="opacity")}const Kue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gue=oc.length;function Xue(e,t,s){let r="",a=!0;for(let o=0;o<Gue;o++){const i=oc[o],l=e[i];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(i.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||s){const c=VL(l,Pb[i]);if(!d){a=!1;const u=Kue[i]||i;r+=`${u}(${c}) `}s&&(t[i]=c)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}function Fb(e,t,s){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const d in t){const c=t[d];if(ic.has(d)){i=!0;continue}else if(gb(d)){a[d]=c;continue}else{const u=VL(c,Pb[d]);d.startsWith("origin")?(l=!0,o[d]=u):r[d]=u}}if(t.transform||(i||s?r.transform=Xue(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${d} ${c} ${u}`}}const _b=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JL(e,t,s){for(const r in t)!rn(t[r])&&!XL(r,s)&&(e[r]=t[r])}function Jue({transformTemplate:e},t){return p.useMemo(()=>{const s=_b();return Fb(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Que(e,t){const s=e.style||{},r={};return JL(r,s,e),Object.assign(r,Jue(e,t)),r}function Zue(e,t){const s={},r=Que(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const ehe={offset:"stroke-dashoffset",array:"stroke-dasharray"},the={offset:"strokeDashoffset",array:"strokeDasharray"};function nhe(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?ehe:the;e[o.offset]=Te.transform(-r);const i=Te.transform(t),l=Te.transform(s);e[o.array]=`${i} ${l}`}function QL(e,{attrX:t,attrY:s,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...l},d,c,u){if(Fb(e,l,c),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),r!==void 0&&(h.scale=r),a!==void 0&&nhe(h,a,o,i,!1)}const ZL=()=>({..._b(),attrs:{}}),e3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function she(e,t,s,r){const a=p.useMemo(()=>{const o=ZL();return QL(o,t,e3(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};JL(o,e.style,e),a.style={...o,...a.style}}return a}const rhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ib(e){return typeof e!="string"||e.includes("-")?!1:!!(rhe.indexOf(e)>-1||/[A-Z]/u.test(e))}function ahe(e,t,s,{latestValues:r},a,o=!1){const l=(Ib(e)?she:Zue)(t,r,a,e),d=zue(t,typeof e=="string",o),c=e!==p.Fragment?{...d,...l,ref:s}:{},{children:u}=t,h=p.useMemo(()=>rn(u)?u.get():u,[u]);return p.createElement(e,{...c,children:h})}function fE(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Ob(e,t,s,r){if(typeof t=="function"){const[a,o]=fE(r);t=t(s!==void 0?s:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=fE(r);t=t(s!==void 0?s:e.custom,a,o)}return t}function ap(e){return rn(e)?e.get():e}function ohe({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,a){return{latestValues:ihe(s,r,a,e),renderState:t()}}function ihe(e,t,s,r){const a={},o=r(e,{});for(const m in o)a[m]=ap(o[m]);let{initial:i,animate:l}=e;const d=qx(e),c=GL(e);t&&c&&!d&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const h=u?l:i;if(h&&typeof h!="boolean"&&!zx(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const y=Ob(e,m[f]);if(y){const{transitionEnd:x,transition:w,...v}=y;for(const g in v){let j=v[g];if(Array.isArray(j)){const N=u?j.length-1:0;j=j[N]}j!==null&&(a[g]=j)}for(const g in x)a[g]=x[g]}}}return a}const t3=e=>(t,s)=>{const r=p.useContext(Hx),a=p.useContext(Bx),o=()=>ohe(e,t,r,a);return s?o():cb(o)};function Lb(e,t,s){var o;const{style:r}=e,a={};for(const i in r)(rn(r[i])||t.style&&rn(t.style[i])||XL(i,e)||((o=s==null?void 0:s.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(a[i]=r[i]);return a}const lhe=t3({scrapeMotionValuesFromProps:Lb,createRenderState:_b});function n3(e,t,s){const r=Lb(e,t,s);for(const a in e)if(rn(e[a])||rn(t[a])){const o=oc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const che=t3({scrapeMotionValuesFromProps:n3,createRenderState:ZL}),dhe=Symbol.for("motionComponentSymbol");function Ui(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uhe(e,t,s){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Ui(s)&&(s.current=r))},[t])}const $b=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hhe="framerAppearId",s3="data-"+$b(hhe),r3=p.createContext({});function mhe(e,t,s,r,a){var x,w;const{visualElement:o}=p.useContext(Hx),i=p.useContext(YL),l=p.useContext(Bx),d=p.useContext(Db).reducedMotion,c=p.useRef(null);r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const u=c.current,h=p.useContext(r3);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&phe(c.current,s,a,h);const m=p.useRef(!1);p.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const f=s[s3],y=p.useRef(!!f&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,f))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,f)));return tL(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,f)}),y.current=!1),u.enteringChildren=void 0)}),u}function phe(e,t,s,r){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:d,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:a3(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&Ui(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:d,layoutRoot:c})}function a3(e){if(e)return e.options.allowProjection!==!1?e.projection:a3(e.parent)}function Sv(e,{forwardMotionProps:t=!1}={},s,r){s&&Uue(s);const a=Ib(e)?che:lhe;function o(l,d){let c;const u={...p.useContext(Db),...l,layoutId:fhe(l)},{isStatic:h}=u,m=Wue(l),f=a(l,h);if(!h&&db){xhe();const y=ghe(u);c=y.MeasureLayout,m.visualElement=mhe(e,f,u,r,y.ProjectionNode)}return n.jsxs(Hx.Provider,{value:m,children:[c&&m.visualElement?n.jsx(c,{visualElement:m.visualElement,...u}):null,ahe(e,l,uhe(f,m.visualElement,d),f,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=p.forwardRef(o);return i[dhe]=e,i}function fhe({layoutId:e}){const t=p.useContext(lb).id;return t&&e!==void 0?t+"-"+e:e}function xhe(e,t){p.useContext(YL).strict}function ghe(e){const{drag:t,layout:s}=Il;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vhe(e,t){if(typeof Proxy>"u")return Sv;const s=new Map,r=(o,i)=>Sv(o,i,e,t),a=(o,i)=>r(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?r:(s.has(i)||s.set(i,Sv(i,void 0,e,t)),s.get(i))})}function o3({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function yhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function jhe(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Cv(e){return e===void 0||e===1}function n0({scale:e,scaleX:t,scaleY:s}){return!Cv(e)||!Cv(t)||!Cv(s)}function mo(e){return n0(e)||i3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function i3(e){return xE(e.x)||xE(e.y)}function xE(e){return e&&e!=="0%"}function yf(e,t,s){const r=e-s,a=t*r;return s+a}function gE(e,t,s,r,a){return a!==void 0&&(e=yf(e,a,r)),yf(e,s,r)+t}function s0(e,t=0,s=1,r,a){e.min=gE(e.min,t,s,r,a),e.max=gE(e.max,t,s,r,a)}function l3(e,{x:t,y:s}){s0(e.x,t.translate,t.scale,t.originPoint),s0(e.y,s.translate,s.scale,s.originPoint)}const vE=.999999999999,yE=1.0000000000001;function whe(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Hi(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,l3(e,i)),r&&mo(o.latestValues)&&Hi(e,o.latestValues))}t.x<yE&&t.x>vE&&(t.x=1),t.y<yE&&t.y>vE&&(t.y=1)}function Bi(e,t){e.min=e.min+t,e.max=e.max+t}function jE(e,t,s,r,a=.5){const o=jt(e.min,e.max,a);s0(e,t,s,o,r)}function Hi(e,t){jE(e.x,t.x,t.scaleX,t.scale,t.originX),jE(e.y,t.y,t.scaleY,t.scale,t.originY)}function c3(e,t){return o3(jhe(e.getBoundingClientRect(),t))}function Nhe(e,t,s){const r=c3(e,s),{scroll:a}=t;return a&&(Bi(r.x,a.offset.x),Bi(r.y,a.offset.y)),r}const wE=()=>({translate:0,scale:1,origin:0,originPoint:0}),zi=()=>({x:wE(),y:wE()}),NE=()=>({min:0,max:0}),Rt=()=>({x:NE(),y:NE()}),r0={current:null},d3={current:!1};function bhe(){if(d3.current=!0,!!db)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>r0.current=e.matches;e.addEventListener("change",t),t()}else r0.current=!1}const She=new WeakMap;function Che(e,t,s){for(const r in t){const a=t[r],o=s[r];if(rn(a))e.addValue(r,a);else if(rn(o))e.addValue(r,_l(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,_l(i!==void 0?i:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ehe{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,pt.render(this.render,!1,!0))};const{latestValues:d,renderState:c}=i;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=qx(s),this.isVariantNode=GL(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const f=h[m];d[m]!==void 0&&rn(f)&&f.set(d[m])}}mount(t){var s;this.current=t,She.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),d3.current||bhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:r0.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),qa(this.notifyUpdate),qa(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ic.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Il){const s=Il[t];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<bE.length;r++){const a=bE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Che(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=_l(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(nL(r)||rL(r))?r=parseFloat(r):!_ue(r)&&Wa.test(s)&&(r=$L(t,s)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const i=Ob(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);i&&(r=i[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new pb),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){kb.render(this.render)}}class u3 extends Ehe{constructor(){super(...arguments),this.KeyframeResolver=bue}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function h3(e,{style:t,vars:s},r,a){const o=e.style;let i;for(i in t)o[i]=t[i];a==null||a.applyProjectionStyles(o,r);for(i in s)o.setProperty(i,s[i])}function The(e){return window.getComputedStyle(e)}class Phe extends u3{constructor(){super(...arguments),this.type="html",this.renderInstance=h3}readValueFromInstance(t,s){var r;if(ic.has(s))return(r=this.projection)!=null&&r.isProjecting?Gj(s):Bde(t,s);{const a=The(t),o=(gb(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return c3(t,s)}build(t,s,r){Fb(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Lb(t,s,r)}}const m3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function khe(e,t,s,r){h3(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(m3.has(a)?a:$b(a),t.attrs[a])}class Ahe extends u3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ic.has(s)){const r=LL(s);return r&&r.default||0}return s=m3.has(s)?s:$b(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return n3(t,s,r)}build(t,s,r){QL(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,a){khe(t,s,r,a)}mount(t){this.isSVGTag=e3(t.tagName),super.mount(t)}}const Dhe=(e,t)=>Ib(e)?new Ahe(t):new Phe(t,{allowProjection:e!==p.Fragment});function ll(e,t,s){const r=e.getProps();return Ob(r,t,s!==void 0?s:r.custom,e)}const a0=e=>Array.isArray(e);function Rhe(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_l(s))}function Mhe(e){return a0(e)?e[e.length-1]||0:e}function Fhe(e,t){const s=ll(e,t);let{transitionEnd:r={},transition:a={},...o}=s||{};o={...o,...r};for(const i in o){const l=Mhe(o[i]);Rhe(e,i,l)}}function _he(e){return!!(rn(e)&&e.add)}function o0(e,t){const s=e.getValue("willChange");if(_he(s))return s.add(t);if(!s&&Kr.WillChange){const r=new Kr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function p3(e){return e.props[s3]}const Ihe=e=>e!==null;function Ohe(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(Ihe),o=t&&s!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const Lhe={type:"spring",stiffness:500,damping:25,restSpeed:10},$he=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vhe={type:"keyframes",duration:.8},Uhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bhe=(e,{keyframes:t})=>t.length>2?Vhe:ic.has(e)?e.startsWith("scale")?$he(t[1]):Lhe:Uhe;function Hhe({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}const Vb=(e,t,s,r={},a,o)=>i=>{const l=Tb(r,e)||{},d=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ur(d);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};Hhe(l)||Object.assign(u,Bhe(e,u)),u.duration&&(u.duration=ur(u.duration)),u.repeatDelay&&(u.repeatDelay=ur(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(e0(u),u.delay===0&&(h=!0)),(Kr.instantAnimations||Kr.skipAnimations)&&(h=!0,e0(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!o&&t.get()!==void 0){const m=Ohe(u.keyframes,l);if(m!==void 0){pt.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new Cb(u):new uue(u)};function zhe({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function f3(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(o=r);const d=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||c&&zhe(c,u))continue;const f={delay:s,...Tb(o||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=p3(e);if(v){const g=window.MotionHandoffAnimation(v,u,pt);g!==null&&(f.startTime=g,x=!0)}}o0(e,u),h.start(Vb(u,h,m,e.shouldReduceMotion&&_L.has(u)?{type:!1}:f,e,x));const w=h.animation;w&&d.push(w)}return i&&Promise.all(d).then(()=>{pt.update(()=>{i&&Fhe(e,i)})}),d}function x3(e,t,s,r=0,a=1){const o=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),i=e.size,l=(i-1)*r;return typeof s=="function"?s(o,i):a===1?o*r:l-o*r}function i0(e,t,s={}){var d;const r=ll(e,t,s.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const o=r?()=>Promise.all(f3(e,r,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return qhe(e,t,c,u,h,m,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(s.delay)])}function qhe(e,t,s=0,r=0,a=0,o=1,i){const l=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),l.push(i0(d,t,{...i,delay:s+(typeof r=="function"?0:r)+x3(e.variantChildren,d,r,a,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(l)}function Whe(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>i0(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=i0(e,t,s);else{const a=typeof t=="function"?ll(e,t,s.custom):t;r=Promise.all(f3(e,a,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function g3(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Yhe=Mb.length;function v3(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?v3(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Yhe;s++){const r=Mb[s],a=e.props[r];(eu(a)||a===!1)&&(t[r]=a)}return t}const Khe=[...Rb].reverse(),Ghe=Rb.length;function Xhe(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Whe(e,s,r)))}function Jhe(e){let t=Xhe(e),s=SE(),r=!0;const a=d=>(c,u)=>{var m;const h=ll(e,u,d==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function o(d){t=d(e)}function i(d){const{props:c}=e,u=v3(e.parent)||{},h=[],m=new Set;let f={},y=1/0;for(let w=0;w<Ghe;w++){const v=Khe[w],g=s[v],j=c[v]!==void 0?c[v]:u[v],N=eu(j),b=v===d?g.isActive:null;b===!1&&(y=w);let E=j===u[v]&&j!==c[v]&&N;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...f},!g.isActive&&b===null||!j&&!g.prevProp||zx(j)||typeof j=="boolean")continue;const C=Qhe(g.prevProp,j);let T=C||v===d&&g.isActive&&!E&&N||w>y&&N,F=!1;const V=Array.isArray(j)?j:[j];let k=V.reduce(a(v),{});b===!1&&(k={});const{prevResolvedValues:M={}}=g,$={...M,...k},D=O=>{T=!0,m.has(O)&&(F=!0,m.delete(O)),g.needsAnimating[O]=!0;const R=e.getValue(O);R&&(R.liveStyle=!1)};for(const O in $){const R=k[O],_=M[O];if(f.hasOwnProperty(O))continue;let z=!1;a0(R)&&a0(_)?z=!g3(R,_):z=R!==_,z?R!=null?D(O):m.add(O):R!==void 0&&m.has(O)?D(O):g.protectedKeys[O]=!0}g.prevProp=j,g.prevResolvedValues=k,g.isActive&&(f={...f,...k}),r&&e.blockInitialAnimation&&(T=!1);const P=E&&C;T&&(!P||F)&&h.push(...V.map(O=>{const R={type:v};if(typeof O=="string"&&r&&!P&&e.manuallyAnimateOnMount&&e.parent){const{parent:_}=e,z=ll(_,O);if(_.enteringChildren&&z){const{delayChildren:B}=z.transition||{};R.delay=x3(_.enteringChildren,e,B)}}return{animation:O,options:R}}))}if(m.size){const w={};if(typeof c.initial!="boolean"){const v=ll(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(w.transition=v.transition)}m.forEach(v=>{const g=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),w[v]=g??null}),h.push({animation:w})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function l(d,c){var h;if(s[d].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(d,c)}),s[d].isActive=c;const u=i(d);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=SE(),r=!0}}}function Qhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!g3(t,e):!1}function io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SE(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class no{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Zhe extends no{constructor(t){super(t),t.animationState||(t.animationState=Jhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let eme=0;class tme extends no{constructor(){super(...arguments),this.id=eme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nme={animation:{Feature:Zhe},exit:{Feature:tme}};function nu(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Gu(e){return{point:{x:e.pageX,y:e.pageY}}}const sme=e=>t=>Ab(t)&&e(t,Gu(t));function id(e,t,s,r){return nu(e,t,sme(s),r)}const y3=1e-4,rme=1-y3,ame=1+y3,j3=.01,ome=0-j3,ime=0+j3;function gn(e){return e.max-e.min}function lme(e,t,s){return Math.abs(e-t)<=s}function CE(e,t,s,r=.5){e.origin=r,e.originPoint=jt(t.min,t.max,e.origin),e.scale=gn(s)/gn(t),e.translate=jt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=rme&&e.scale<=ame||isNaN(e.scale))&&(e.scale=1),(e.translate>=ome&&e.translate<=ime||isNaN(e.translate))&&(e.translate=0)}function ld(e,t,s,r){CE(e.x,t.x,s.x,r?r.originX:void 0),CE(e.y,t.y,s.y,r?r.originY:void 0)}function EE(e,t,s){e.min=s.min+t.min,e.max=e.min+gn(t)}function cme(e,t,s){EE(e.x,t.x,s.x),EE(e.y,t.y,s.y)}function TE(e,t,s){e.min=t.min-s.min,e.max=e.min+gn(t)}function cd(e,t,s){TE(e.x,t.x,s.x),TE(e.y,t.y,s.y)}function is(e){return[e("x"),e("y")]}const w3=({current:e})=>e?e.ownerDocument.defaultView:null,PE=(e,t)=>Math.abs(e-t);function dme(e,t){const s=PE(e.x,t.x),r=PE(e.y,t.y);return Math.sqrt(s**2+r**2)}class N3{constructor(t,s,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Tv(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=dme(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!y)return;const{point:x}=m,{timestamp:w}=Kt;this.history.push({...x,timestamp:w});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ev(f,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Tv(m.type==="pointercancel"?this.lastMoveEventInfo:Ev(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,v),x&&x(m,v)},!Ab(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=a||window;const l=Gu(t),d=Ev(l,this.transformPagePoint),{point:c}=d,{timestamp:u}=Kt;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,Tv(d,this.history)),this.removeListeners=Wu(id(this.contextWindow,"pointermove",this.handlePointerMove),id(this.contextWindow,"pointerup",this.handlePointerUp),id(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qa(this.updatePoint)}}function Ev(e,t){return t?{point:t(e.point)}:e}function kE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tv({point:e},t){return{point:e,delta:kE(e,b3(t)),offset:kE(e,ume(t)),velocity:hme(t,.1)}}function ume(e){return e[0]}function b3(e){return e[e.length-1]}function hme(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=b3(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>ur(t)));)s--;if(!r)return{x:0,y:0};const o=hr(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function mme(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?jt(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?jt(s,e,r.max):Math.min(e,s)),e}function AE(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function pme(e,{top:t,left:s,bottom:r,right:a}){return{x:AE(e.x,s,a),y:AE(e.y,t,r)}}function DE(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function fme(e,t){return{x:DE(e.x,t.x),y:DE(e.y,t.y)}}function xme(e,t){let s=.5;const r=gn(e),a=gn(t);return a>r?s=Jd(t.min,t.max-r,e.min):r>a&&(s=Jd(e.min,e.max-a,t.min)),Yr(0,1,s)}function gme(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const l0=.35;function vme(e=l0){return e===!1?e=0:e===!0&&(e=l0),{x:RE(e,"left","right"),y:RE(e,"top","bottom")}}function RE(e,t,s){return{min:ME(e,t),max:ME(e,s)}}function ME(e,t){return typeof e=="number"?e:e[t]||0}const yme=new WeakMap;class jme{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Gu(h).point)},i=(h,m)=>{const{drag:f,dragPropagation:y,onDragStart:x}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tue(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(v=>{let g=this.getAxisMotionValue(v).get()||0;if(mr.test(g)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[v];N&&(g=gn(N)*(parseFloat(g)/100))}}this.originPoint[v]=g}),x&&pt.postRender(()=>x(h,m)),o0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:x,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=m;if(y&&this.currentDirection===null){this.currentDirection=wme(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),w&&w(h,m)},d=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>is(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new N3(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:d,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:w3(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,a=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&pt.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!Tm(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=mme(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;t&&Ui(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pme(r.layoutBox,t):this.constraints=!1,this.elastic=vme(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&is(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=gme(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ui(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Nhe(r,a.root,this.visualElement.getTransformPagePoint());let i=fme(a.layout.layoutBox,o);if(s){const l=s(yhe(i));this.hasMutatedConstraints=!!l,l&&(i=o3(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=is(u=>{if(!Tm(u,s,this.currentDirection))return;let h=d&&d[u]||{};i&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return o0(this.visualElement,t),r.start(Vb(t,r,0,s,this.visualElement,!1))}stopAnimation(){is(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){is(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){is(s=>{const{drag:r}=this.getProps();if(!Tm(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-jt(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Ui(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};is(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const d=l.get();a[i]=xme({min:d,max:d},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(i=>{if(!Tm(i,t,null))return;const l=this.getAxisMotionValue(i),{min:d,max:c}=this.constraints[i];l.set(jt(d,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;yme.set(this.visualElement,this);const t=this.visualElement.current,s=id(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ui(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pt.read(r);const i=nu(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(is(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=d[u].translate,h.set(h.get()+d[u].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=l0,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Tm(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function wme(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Nme extends no{constructor(t){super(t),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new jme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const FE=e=>(t,s)=>{e&&pt.postRender(()=>e(t,s))};class bme extends no{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(t){this.session=new N3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:w3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:FE(t),onStart:FE(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&pt.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=id(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _E(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Te.test(e))e=parseFloat(e);else return e;const s=_E(e,t.target.x),r=_E(e,t.target.y);return`${s}% ${r}%`}},Sme={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=Wa.parse(e);if(a.length>5)return r;const o=Wa.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=d;const c=jt(l,d,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),o(a)}};let Pv=!1;class Cme extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;Yue(Eme),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),Pv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),op.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,Pv=!0,a||t.layoutDependency!==s||s===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||pt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;Pv=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function S3(e){const[t,s]=WL(),r=p.useContext(lb);return n.jsx(Cme,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(r3),isPresent:t,safeToRemove:s})}const Eme={borderRadius:{...Mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mc,borderTopRightRadius:Mc,borderBottomLeftRadius:Mc,borderBottomRightRadius:Mc,boxShadow:Sme};function Tme(e,t,s){const r=rn(e)?e:_l(e);return r.start(Vb("",r,t,s)),r.animation}const Pme=(e,t)=>e.depth-t.depth;class kme{constructor(){this.children=[],this.isDirty=!1}add(t){ub(this.children,t),this.isDirty=!0}remove(t){hb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pme),this.isDirty=!1,this.children.forEach(t)}}function Ame(e,t){const s=kn.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(qa(r),e(o-t))};return pt.setup(r,!0),()=>qa(r)}const C3=["TopLeft","TopRight","BottomLeft","BottomRight"],Dme=C3.length,IE=e=>typeof e=="string"?parseFloat(e):e,OE=e=>typeof e=="number"||Te.test(e);function Rme(e,t,s,r,a,o){a?(e.opacity=jt(0,s.opacity??1,Mme(r)),e.opacityExit=jt(t.opacity??1,0,Fme(r))):o&&(e.opacity=jt(t.opacity??1,s.opacity??1,r));for(let i=0;i<Dme;i++){const l=`border${C3[i]}Radius`;let d=LE(t,l),c=LE(s,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||OE(d)===OE(c)?(e[l]=Math.max(jt(IE(d),IE(c),r),0),(mr.test(c)||mr.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=jt(t.rotate||0,s.rotate||0,r))}function LE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mme=E3(0,.5,hL),Fme=E3(.5,.95,ps);function E3(e,t,s){return r=>r<e?0:r>t?1:s(Jd(e,t,r))}function $E(e,t){e.min=t.min,e.max=t.max}function os(e,t){$E(e.x,t.x),$E(e.y,t.y)}function VE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function UE(e,t,s,r,a){return e-=t,e=yf(e,1/s,r),a!==void 0&&(e=yf(e,1/a,r)),e}function _me(e,t=0,s=1,r=.5,a,o=e,i=e){if(mr.test(t)&&(t=parseFloat(t),t=jt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=jt(o.min,o.max,r);e===o&&(l-=t),e.min=UE(e.min,t,s,l,a),e.max=UE(e.max,t,s,l,a)}function BE(e,t,[s,r,a],o,i){_me(e,t[s],t[r],t[a],t.scale,o,i)}const Ime=["x","scaleX","originX"],Ome=["y","scaleY","originY"];function HE(e,t,s,r){BE(e.x,t,Ime,s?s.x:void 0,r?r.x:void 0),BE(e.y,t,Ome,s?s.y:void 0,r?r.y:void 0)}function zE(e){return e.translate===0&&e.scale===1}function T3(e){return zE(e.x)&&zE(e.y)}function qE(e,t){return e.min===t.min&&e.max===t.max}function Lme(e,t){return qE(e.x,t.x)&&qE(e.y,t.y)}function WE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function P3(e,t){return WE(e.x,t.x)&&WE(e.y,t.y)}function YE(e){return gn(e.x)/gn(e.y)}function KE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $me{constructor(){this.members=[]}add(t){ub(this.members,t),t.scheduleRender()}remove(t){if(hb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vme(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:y}=s;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const kv=["","X","Y","Z"],Ume=1e3;let Bme=0;function Av(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function k3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=p3(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",pt,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&k3(r)}function A3({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=Bme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qme),this.nodes.forEach(Gme),this.nodes.forEach(Xme),this.nodes.forEach(Wme)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new kme)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new pb),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const d=this.eventHandlers.get(i);d&&d.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=qL(i)&&!Mue(i),this.instance=i;const{layoutId:l,layout:d,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{h=window.innerWidth}),e(i,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=Ame(m,250),op.hasAnimatedSinceResize&&(op.hasAnimatedSinceResize=!1,this.nodes.forEach(JE)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||tpe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),v=!this.targetLayout||!P3(this.targetLayout,f),g=!h&&m;if(this.options.layoutRoot||this.resumeFrom||g||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Tb(y,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,g)}else h||JE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jme),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&k3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kme),this.nodes.forEach(Hme),this.nodes.forEach(zme)):this.nodes.forEach(XE),this.clearAllSnapshots();const l=kn.now();Kt.delta=Yr(0,1e3/60,l-Kt.timestamp),Kt.timestamp=l,Kt.isProcessing=!0,vv.update.process(Kt),vv.preRender.process(Kt),vv.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yme),this.sharedNodes.forEach(Qme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!T3(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&this.instance&&(l||mo(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return i&&(d=this.removeTransform(d)),npe(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return Rt();const l=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(spe))){const{scroll:u}=this.root;u&&(Bi(l.x,u.offset.x),Bi(l.y,u.offset.y))}return l}removeElementScroll(i){var d;const l=Rt();if(os(l,i),(d=this.scroll)!=null&&d.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&os(l,i),Bi(l.x,h.offset.x),Bi(l.y,h.offset.y))}return l}applyTransform(i,l=!1){const d=Rt();os(d,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hi(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mo(u.latestValues)&&Hi(d,u.latestValues)}return mo(this.latestValues)&&Hi(d,this.latestValues),d}removeTransform(i){const l=Rt();os(l,i);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!mo(c.latestValues))continue;n0(c.latestValues)&&c.updateSnapshot();const u=Rt(),h=c.measurePageBox();os(u,h),HE(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return mo(this.latestValues)&&HE(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),cd(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),l3(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),cd(this.relativeTargetOrigin,this.target,f.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||n0(this.parent.latestValues)||i3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let d=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(d=!1),d)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;os(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;whe(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Rt());const{target:f}=i;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VE(this.prevProjectionDelta.x,this.projectionDelta.x),VE(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!KE(this.projectionDelta.x,this.prevProjectionDelta.x)||!KE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zi(),this.projectionDelta=zi(),this.projectionDeltaWithTransform=zi()}setAnimationOrigin(i,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},h=zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Rt(),f=d?d.source:void 0,y=this.layout?this.layout.source:void 0,x=f!==y,w=this.getStack(),v=!w||w.members.length<=1,g=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(epe));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const b=N/1e3;QE(h.x,i.x,b),QE(h.y,i.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zme(this.relativeTarget,this.relativeTargetOrigin,m,b),j&&Lme(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Rt()),os(j,this.relativeTarget)),x&&(this.animationValues=u,Rme(u,c,this.latestValues,b,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,d,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||c.stop(),this.pendingAnimation&&(qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{op.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=Tme(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ume),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=i;if(!(!l||!d||!c)){if(this!==i&&this.layout&&c&&D3(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Rt();const h=gn(this.layout.layoutBox.x);d.x.min=i.target.x.min,d.x.max=d.x.min+h;const m=gn(this.layout.layoutBox.y);d.y.min=i.target.y.min,d.y.max=d.y.min+m}os(l,d),Hi(l,u),ld(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new $me),this.sharedNodes.get(i).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:d}=i;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const c={};d.z&&Av("z",i,c,this.animationValues);for(let u=0;u<kv.length;u++)Av(`rotate${kv[u]}`,i,c,this.animationValues),Av(`skew${kv[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ap(l==null?void 0:l.pointerEvents)||"",i.transform=d?d(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ap(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(i.transform=d?d({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Vme(this.projectionDeltaWithTransform,this.treeScale,u);d&&(h=d(u,h)),i.transform=h;const{x:m,y:f}=this.projectionDelta;i.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,c.animationValues?i.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in tu){if(u[y]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:v}=tu[y],g=h==="none"?u[y]:x(u[y],c);if(w){const j=w.length;for(let N=0;N<j;N++)i[w[N]]=g}else v?this.options.visualElement.renderState.vars[y]=g:i[y]=g}this.options.layoutId&&(i.pointerEvents=c===this?ap(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(GE),this.root.sharedNodes.clear()}}}function Hme(e){e.updateLayout()}function zme(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?is(h=>{const m=i?t.measuredBox[h]:t.layoutBox[h],f=gn(m);m.min=r[h].min,m.max=m.min+f}):D3(o,t.layoutBox,r)&&is(h=>{const m=i?t.measuredBox[h]:t.layoutBox[h],f=gn(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=zi();ld(l,r,t.layoutBox);const d=zi();i?ld(d,e.applyTransform(a,!0),t.measuredBox):ld(d,r,t.layoutBox);const c=!T3(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const y=Rt();cd(y,t.layoutBox,m.layoutBox);const x=Rt();cd(x,r,f.layoutBox),P3(y,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function qme(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wme(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yme(e){e.clearSnapshot()}function GE(e){e.clearMeasurements()}function XE(e){e.isLayoutDirty=!1}function Kme(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gme(e){e.resolveTargetDelta()}function Xme(e){e.calcProjection()}function Jme(e){e.resetSkewAndRotation()}function Qme(e){e.removeLeadSnapshot()}function QE(e,t,s){e.translate=jt(t.translate,0,s),e.scale=jt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ZE(e,t,s,r){e.min=jt(t.min,s.min,r),e.max=jt(t.max,s.max,r)}function Zme(e,t,s,r){ZE(e.x,t.x,s.x,r),ZE(e.y,t.y,s.y,r)}function epe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tpe={duration:.45,ease:[.4,0,.1,1]},eT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tT=eT("applewebkit/")&&!eT("chrome/")?Math.round:ps;function nT(e){e.min=tT(e.min),e.max=tT(e.max)}function npe(e){nT(e.x),nT(e.y)}function D3(e,t,s){return e==="position"||e==="preserve-aspect"&&!lme(YE(t),YE(s),.2)}function spe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rpe=A3({attachResizeListener:(e,t)=>nu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dv={current:void 0},R3=A3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dv.current){const e=new rpe({});e.mount(window),e.setOptions({layoutScroll:!0}),Dv.current=e}return Dv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ape={pan:{Feature:bme},drag:{Feature:Nme,ProjectionNode:R3,MeasureLayout:S3}};function sT(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,o=r[a];o&&pt.postRender(()=>o(t,Gu(t)))}class ope extends no{mount(){const{current:t}=this.node;t&&(this.unmount=Pue(t,(s,r)=>(sT(this.node,r,"Start"),a=>sT(this.node,a,"End"))))}unmount(){}}class ipe extends no{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(nu(this.node.current,"focus",()=>this.onFocus()),nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rT(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),o=r[a];o&&pt.postRender(()=>o(t,Gu(t)))}class lpe extends no{mount(){const{current:t}=this.node;t&&(this.unmount=Rue(t,(s,r)=>(rT(this.node,r,"Start"),(a,{success:o})=>rT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c0=new WeakMap,Rv=new WeakMap,cpe=e=>{const t=c0.get(e.target);t&&t(e)},dpe=e=>{e.forEach(cpe)};function upe({root:e,...t}){const s=e||document;Rv.has(s)||Rv.set(s,{});const r=Rv.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(dpe,{root:e,...t})),r[a]}function hpe(e,t,s){const r=upe(t);return c0.set(e,s),r.observe(e),()=>{c0.delete(e),r.unobserve(e)}}const mpe={some:0,all:1};class ppe extends no{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:mpe[a]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=c?u:h;m&&m(d)};return hpe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(fpe(t,s))&&this.startObserver()}unmount(){}}function fpe({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const xpe={inView:{Feature:ppe},tap:{Feature:lpe},focus:{Feature:ipe},hover:{Feature:ope}},gpe={layout:{ProjectionNode:R3,MeasureLayout:S3}},vpe={...nme,...xpe,...ape,...gpe},ype=vhe(vpe,Dhe);function jpe(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var o;const i=d=>d===null?null:JSON.parse(d,void 0),l=(o=s.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>s.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>s.removeItem(a)}}const d0=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return d0(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return d0(r)(s)}}}},wpe=(e,t)=>(s,r,a)=>{let o={storage:jpe(()=>localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},i=!1;const l=new Set,d=new Set;let c=o.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),s(...x)},r,a);const u=()=>{const x=o.partialize({...r()});return c.setItem(o.name,{state:x,version:o.version})},h=a.setState;a.setState=(x,w)=>{h(x,w),u()};const m=e((...x)=>{s(...x),u()},r,a);a.getInitialState=()=>m;let f;const y=()=>{var x,w;if(!c)return;i=!1,l.forEach(g=>{var j;return g((j=r())!=null?j:m)});const v=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(x=r())!=null?x:m))||void 0;return d0(c.getItem.bind(c))(o.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate){const j=o.migrate(g.state,g.version);return j instanceof Promise?j.then(N=>[!0,N]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var j;const[N,b]=g;if(f=o.merge(b,(j=r())!=null?j:m),s(f,!0),N)return u()}).then(()=>{v==null||v(f,void 0),f=r(),i=!0,d.forEach(g=>g(f))}).catch(g=>{v==null||v(void 0,g)})};return a.persist={setOptions:x=>{o={...o,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},o.skipHydration||y(),f||m},Npe=wpe,aT={theme:"system",sidebarState:"expanded",compactMode:!1,showLineNumbers:!0,autoSave:!0,animationsEnabled:!0},M3=eL()(Npe(e=>({...aT,activeModal:null,modalData:null,globalLoading:!1,loadingMessage:null,breadcrumbs:[],setTheme:t=>{e({theme:t}),t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setSidebarState:t=>e({sidebarState:t}),toggleSidebar:()=>e(t=>({sidebarState:t.sidebarState==="expanded"?"collapsed":"expanded"})),setCompactMode:t=>e({compactMode:t}),setShowLineNumbers:t=>e({showLineNumbers:t}),setAutoSave:t=>e({autoSave:t}),setAnimationsEnabled:t=>e({animationsEnabled:t}),openModal:(t,s=null)=>e({activeModal:t,modalData:s}),closeModal:()=>e({activeModal:null,modalData:null}),setGlobalLoading:(t,s=null)=>e({globalLoading:t,loadingMessage:s}),setBreadcrumbs:t=>e({breadcrumbs:t}),addBreadcrumb:t=>e(s=>({breadcrumbs:[...s.breadcrumbs,t]})),resetPreferences:()=>e(aT)}),{name:"ui-preferences",partialize:e=>({theme:e.theme,sidebarState:e.sidebarState,compactMode:e.compactMode,showLineNumbers:e.showLineNumbers,autoSave:e.autoSave,animationsEnabled:e.animationsEnabled})})),F3=()=>{const e=M3(t=>t.animationsEnabled);return{enabled:e,duration:e?"duration-200":"duration-0",transition:e?"transition-all":""}},bpe=({notification:e})=>{const t=ib(i=>i.removeNotification),s=F3(),r={success:n.jsx(vt,{className:"h-5 w-5"}),error:n.jsx(Gt,{className:"h-5 w-5"}),warning:n.jsx(ts,{className:"h-5 w-5"}),info:n.jsx(es,{className:"h-5 w-5"})},a={success:"bg-green-50 text-green-900 border-green-200 dark:bg-green-900/20 dark:text-green-100 dark:border-green-800",error:"bg-red-50 text-red-900 border-red-200 dark:bg-red-900/20 dark:text-red-100 dark:border-red-800",warning:"bg-yellow-50 text-yellow-900 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-100 dark:border-yellow-800",info:"bg-blue-50 text-blue-900 border-blue-200 dark:bg-blue-900/20 dark:text-blue-100 dark:border-blue-800"},o={success:"text-green-600 dark:text-green-400",error:"text-red-600 dark:text-red-400",warning:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400"};return n.jsxs(ype.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.2}},transition:{duration:s.enabled?.3:0},className:ce("flex items-start gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm",a[e.type],"min-w-[320px] max-w-[420px]"),children:[n.jsx("div",{className:ce("flex-shrink-0",o[e.type]),children:r[e.type]}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("h4",{className:"text-sm font-semibold",children:e.title}),e.message&&n.jsx("p",{className:"text-sm opacity-90",children:e.message}),e.action&&n.jsx(W,{variant:"link",size:"sm",onClick:e.action.onClick,className:"p-0 h-auto font-medium",children:e.action.label})]}),e.dismissible&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"flex-shrink-0 h-auto p-1 hover:bg-black/10 dark:hover:bg-white/10",children:n.jsx(ht,{className:"h-4 w-4"})})]})},Spe=()=>{const e=ib(t=>t.notifications);return F3(),n.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2","aria-live":"polite","aria-atomic":"false",children:n.jsx(Vue,{mode:"sync",children:e.map(t=>n.jsx(bpe,{notification:t},t.id))})})};let Mv=!1,u0=[];const oT=(e,t=null)=>{u0.forEach(s=>{e?s.reject(e):s.resolve(t)}),u0=[]};let Fv=!1;const Cpe=()=>{at.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",at.interceptors.request.use(e=>{const t=ls.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Requested-With"]="XMLHttpRequest",e},e=>Promise.reject(e)),at.interceptors.response.use(e=>e,async e=>{var r,a;const t=e.config;if(!e.response||!t)return Promise.reject(e);const s=(r=t.url)==null?void 0:r.includes("/auth/");return Fv?Promise.reject(e):((a=e.response)==null?void 0:a.status)===401&&!t._retry&&!s?Mv?new Promise((o,i)=>{u0.push({resolve:o,reject:i})}).then(o=>(t.headers.Authorization=`Bearer ${o}`,at(t))).catch(o=>Promise.reject(o)):(t._retry=!0,Mv=!0,new Promise((o,i)=>{ls.refreshToken().then(l=>{if(l.success&&l.data)ls.setToken(l.data.token),at.defaults.headers.common.Authorization=`Bearer ${l.data.token}`,t.headers.Authorization=`Bearer ${l.data.token}`,oT(null,l.data.token),o(at(t));else throw new Error("Token refresh failed")}).catch(l=>{oT(l,null),Fv=!0,localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.pathname!=="/login"?window.location.replace("/login"):Fv=!1,i(l)}).finally(()=>{Mv=!1})})):Promise.reject(e)})},Epe=()=>{const e=M3(t=>t.theme);return p.useEffect(()=>{e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),null},Tpe=()=>null,Ppe=()=>(p.useEffect(()=>{const e=setTimeout(()=>{Cpe()},100);return console.log("Application initialized",{version:"1.0.0",environment:"production"}),()=>clearTimeout(e)},[]),n.jsx(Vce,{children:n.jsx($ce,{children:n.jsxs(sB,{children:[n.jsx(Epe,{}),n.jsx(uU,{}),n.jsx(VU,{}),n.jsx(Spe,{}),n.jsxs(nH,{children:[n.jsx(Tpe,{}),n.jsx(fH,{children:n.jsxs(KB,{children:[n.jsx(It,{path:"/login",element:n.jsx(m7,{})}),n.jsx(It,{element:n.jsx(xH,{}),children:n.jsxs(It,{path:"/",element:n.jsx(c7,{}),children:[n.jsx(It,{index:!0,element:n.jsx(Pw,{to:"/dashboard",replace:!0})}),n.jsx(It,{path:"dashboard",element:n.jsx(AW,{})}),n.jsx(It,{path:"test",element:n.jsx(DW,{})}),n.jsx(It,{path:"create-flow",element:n.jsx(RW,{})}),n.jsx(It,{path:"create-direct-mapping-flow",element:n.jsx(Yee,{})}),n.jsx(It,{path:"create-orchestration-flow",element:n.jsx(hte,{})}),n.jsx(It,{path:"create-communication-adapter",element:n.jsx($re,{})}),n.jsx(It,{path:"data-structures",element:n.jsx(lae,{})}),n.jsx(It,{path:"business-components",element:n.jsx(dae,{})}),n.jsx(It,{path:"interfaces",element:n.jsx(rie,{})}),n.jsx(It,{path:"interfaces/:flowId/details",element:n.jsx(aie,{})}),n.jsx(It,{path:"messages",element:n.jsx(Eae,{})}),n.jsx(It,{path:"channels",element:n.jsx(Koe,{})}),n.jsx(It,{path:"admin",element:n.jsx(cce,{})}),n.jsx(It,{path:"settings",element:n.jsx(Oce,{})}),n.jsx(It,{path:"*",element:n.jsx(Lce,{})})]})})]})})]})]})})}));yk(document.getElementById("root")).render(n.jsx(Ppe,{}));
