function P5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function hw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qP={exports:{}},Jp={},WP={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),A5=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),R5=Symbol.for("react.provider"),F5=Symbol.for("react.context"),O5=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),L5=Symbol.for("react.memo"),_5=Symbol.for("react.lazy"),cS=Symbol.iterator;function $5(e){return e===null||typeof e!="object"?null:(e=cS&&e[cS]||e["@@iterator"],typeof e=="function"?e:null)}var YP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XP=Object.assign,KP={};function Kl(e,t,n){this.props=e,this.context=t,this.refs=KP,this.updater=n||YP}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GP(){}GP.prototype=Kl.prototype;function mw(e,t,n){this.props=e,this.context=t,this.refs=KP,this.updater=n||YP}var pw=mw.prototype=new GP;pw.constructor=mw;XP(pw,Kl.prototype);pw.isPureReactComponent=!0;var dS=Array.isArray,JP=Object.prototype.hasOwnProperty,fw={current:null},QP={key:!0,ref:!0,__self:!0,__source:!0};function ZP(e,t,n){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)JP.call(t,r)&&!QP.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:cu,type:e,key:o,ref:i,props:a,_owner:fw.current}}function V5(e,t){return{$$typeof:cu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xw(e){return typeof e=="object"&&e!==null&&e.$$typeof===cu}function U5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uS=/\/+/g;function Rx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U5(""+e.key):t.toString(36)}function em(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case cu:case A5:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Rx(i,0):r,dS(a)?(n="",e!=null&&(n=e.replace(uS,"$&/")+"/"),em(a,t,n,"",function(d){return d})):a!=null&&(xw(a)&&(a=V5(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(uS,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",dS(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Rx(o,l);i+=em(o,t,n,c,a)}else if(c=$5(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Rx(o,l++),i+=em(o,t,n,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function oh(e,t,n){if(e==null)return e;var r=[],a=0;return em(e,r,"","",function(o){return t.call(n,o,a++)}),r}function B5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Os={current:null},tm={transition:null},H5={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:tm,ReactCurrentOwner:fw};function e2(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:oh,forEach:function(e,t,n){oh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oh(e,function(){t++}),t},toArray:function(e){return oh(e,function(t){return t})||[]},only:function(e){if(!xw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=Kl;Xe.Fragment=k5;Xe.Profiler=M5;Xe.PureComponent=mw;Xe.StrictMode=D5;Xe.Suspense=I5;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;Xe.act=e2;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XP({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=fw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)JP.call(t,c)&&!QP.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:cu,type:e.type,key:a,ref:o,props:r,_owner:i}};Xe.createContext=function(e){return e={$$typeof:F5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R5,_context:e},e.Consumer=e};Xe.createElement=ZP;Xe.createFactory=function(e){var t=ZP.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:O5,render:e}};Xe.isValidElement=xw;Xe.lazy=function(e){return{$$typeof:_5,_payload:{_status:-1,_result:e},_init:B5}};Xe.memo=function(e,t){return{$$typeof:L5,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=tm.transition;tm.transition={};try{e()}finally{tm.transition=t}};Xe.unstable_act=e2;Xe.useCallback=function(e,t){return Os.current.useCallback(e,t)};Xe.useContext=function(e){return Os.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return Os.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return Os.current.useEffect(e,t)};Xe.useId=function(){return Os.current.useId()};Xe.useImperativeHandle=function(e,t,n){return Os.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return Os.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Os.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Os.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return Os.current.useReducer(e,t,n)};Xe.useRef=function(e){return Os.current.useRef(e)};Xe.useState=function(e){return Os.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return Os.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return Os.current.useTransition()};Xe.version="18.3.1";WP.exports=Xe;var h=WP.exports;const Tt=hw(h),du=P5({__proto__:null,default:Tt},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=h,q5=Symbol.for("react.element"),W5=Symbol.for("react.fragment"),Y5=Object.prototype.hasOwnProperty,X5=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K5={key:!0,ref:!0,__self:!0,__source:!0};function t2(e,t,n){var r,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Y5.call(t,r)&&!K5.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:q5,type:e,key:o,ref:i,props:a,_owner:X5.current}}Jp.Fragment=W5;Jp.jsx=t2;Jp.jsxs=t2;qP.exports=Jp;var s=qP.exports,s2={exports:{}},fn={},n2={exports:{}},r2={};(function(e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function t(R,$){var H=R.length;R.push($);e:for(;0<H;){var _=H-1>>>1,B=R[_];if(0<a(B,$))R[_]=$,R[H]=B,H=_;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],H=R.pop();if(H!==$){R[0]=H;e:for(var _=0,B=R.length,W=B>>>1;_<W;){var te=2*(_+1)-1,le=R[te],ue=te+1,Q=R[ue];if(0>a(le,H))ue<B&&0>a(Q,le)?(R[_]=Q,R[ue]=H,_=ue):(R[_]=le,R[te]=H,_=te);else if(ue<B&&0>a(Q,H))R[_]=Q,R[ue]=H,_=ue;else break e}}return $}function a(R,$){var H=R.sortIndex-$.sortIndex;return H!==0?H:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,f=3,x=!1,g=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=R)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(d)}}function N(R){if(p=!1,j(R),!g)if(n(c)!==null)g=!0,C(b);else{var $=n(d);$!==null&&P(N,$.startTime-R)}}function b(R,$){g=!1,p&&(p=!1,v(A),A=-1),x=!0;var H=f;try{for(j($),m=n(c);m!==null&&(!(m.expirationTime>$)||R&&!F());){var _=m.callback;if(typeof _=="function"){m.callback=null,f=m.priorityLevel;var B=_(m.expirationTime<=$);$=e.unstable_now(),typeof B=="function"?m.callback=B:m===n(c)&&r(c),j($)}else r(c);m=n(c)}if(m!==null)var W=!0;else{var te=n(d);te!==null&&P(N,te.startTime-$),W=!1}return W}finally{m=null,f=H,x=!1}}var T=!1,S=null,A=-1,M=5,L=-1;function F(){return!(e.unstable_now()-L<M)}function I(){if(S!==null){var R=e.unstable_now();L=R;var $=!0;try{$=S(!0,R)}finally{$?U():(T=!1,S=null)}}else T=!1}var U;if(typeof y=="function")U=function(){y(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,k=O.port2;O.port1.onmessage=I,U=function(){k.postMessage(null)}}else U=function(){w(I,0)};function C(R){S=R,T||(T=!0,U())}function P(R,$){A=w(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,C(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var H=f;f=$;try{return R()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=f;f=R;try{return $()}finally{f=H}},e.unstable_scheduleCallback=function(R,$,H){var _=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?_+H:_):H=_,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,R={id:u++,callback:$,priorityLevel:R,startTime:H,expirationTime:B,sortIndex:-1},H>_?(R.sortIndex=H,t(d,R),n(c)===null&&R===n(d)&&(p?(v(A),A=-1):p=!0,P(N,H-_))):(R.sortIndex=B,t(c,R),g||x||(g=!0,C(b))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var $=f;return function(){var H=f;f=$;try{return R.apply(this,arguments)}finally{f=H}}}})(r2);n2.exports=r2;var G5=n2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=h,hn=G5;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a2=new Set,fd={};function hi(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(fd[e]=t,e=0;e<t.length;e++)a2.add(t[e])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tv=Object.prototype.hasOwnProperty,Q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},mS={};function Z5(e){return Tv.call(mS,e)?!0:Tv.call(hS,e)?!1:Q5.test(e)?mS[e]=!0:(hS[e]=!0,!1)}function eV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tV(e,t,n,r){if(t===null||typeof t>"u"||eV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Is(e,t,n,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fs[e]=new Is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fs[t]=new Is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fs[e]=new Is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fs[e]=new Is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fs[e]=new Is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fs[e]=new Is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fs[e]=new Is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fs[e]=new Is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fs[e]=new Is(e,5,!1,e.toLowerCase(),null,!1,!1)});var gw=/[\-:]([a-z])/g;function vw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gw,vw);fs[t]=new Is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gw,vw);fs[t]=new Is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gw,vw);fs[t]=new Is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fs[e]=new Is(e,1,!1,e.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fs[e]=new Is(e,1,!1,e.toLowerCase(),null,!0,!0)});function yw(e,t,n,r){var a=fs.hasOwnProperty(t)?fs[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tV(t,n,a,r)&&(n=null),r||a===null?Z5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ma=J5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),_i=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),o2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),l2=Symbol.for("react.offscreen"),pS=Symbol.iterator;function wc(e){return e===null||typeof e!="object"?null:(e=pS&&e[pS]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,Fx;function Vc(e){if(Fx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fx=t&&t[1]||""}return`
`+Fx+e}var Ox=!1;function Ix(e,t){if(!e||Ox)return"";Ox=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ox=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vc(e):""}function sV(e){switch(e.tag){case 5:return Vc(e.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return e=Ix(e.type,!1),e;case 11:return e=Ix(e.type.render,!1),e;case 1:return e=Ix(e.type,!0),e;default:return""}}function Dv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case _i:return"Portal";case Pv:return"Profiler";case jw:return"StrictMode";case Av:return"Suspense";case kv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i2:return(e.displayName||"Context")+".Consumer";case o2:return(e._context.displayName||"Context")+".Provider";case ww:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nw:return t=e.displayName||null,t!==null?t:Dv(e.type)||"Memo";case Aa:t=e._payload,e=e._init;try{return Dv(e(t))}catch{}}return null}function nV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dv(t);case 8:return t===jw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rV(e){var t=c2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lh(e){e._valueTracker||(e._valueTracker=rV(e))}function d2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=c2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mv(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ja(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u2(e,t){t=t.checked,t!=null&&yw(e,"checked",t,!1)}function Rv(e,t){u2(e,t);var n=Ja(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fv(e,t.type,Ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fv(e,t,n){(t!=="number"||Mm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Uc=Array.isArray;function ol(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ja(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ov(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(Uc(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ja(n)}}function h2(e,t){var n=Ja(t.value),r=Ja(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function m2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?m2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ch,p2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ch=ch||document.createElement("div"),ch.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ch.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aV=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(e){aV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jc[t]=Jc[e]})});function f2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jc.hasOwnProperty(e)&&Jc[e]?(""+t).trim():t+"px"}function x2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=f2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var oV=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lv(e,t){if(t){if(oV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function _v(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function bw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vv=null,il=null,ll=null;function yS(e){if(e=mu(e)){if(typeof Vv!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=sf(t),Vv(e.stateNode,e.type,t))}}function g2(e){il?ll?ll.push(e):ll=[e]:il=e}function v2(){if(il){var e=il,t=ll;if(ll=il=null,yS(e),t)for(e=0;e<t.length;e++)yS(t[e])}}function y2(e,t){return e(t)}function j2(){}var Lx=!1;function w2(e,t,n){if(Lx)return e(t,n);Lx=!0;try{return y2(e,t,n)}finally{Lx=!1,(il!==null||ll!==null)&&(j2(),v2())}}function gd(e,t){var n=e.stateNode;if(n===null)return null;var r=sf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var Uv=!1;if(Gr)try{var Nc={};Object.defineProperty(Nc,"passive",{get:function(){Uv=!0}}),window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Uv=!1}function iV(e,t,n,r,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Qc=!1,Rm=null,Fm=!1,Bv=null,lV={onError:function(e){Qc=!0,Rm=e}};function cV(e,t,n,r,a,o,i,l,c){Qc=!1,Rm=null,iV.apply(lV,arguments)}function dV(e,t,n,r,a,o,i,l,c){if(cV.apply(this,arguments),Qc){if(Qc){var d=Rm;Qc=!1,Rm=null}else throw Error(ve(198));Fm||(Fm=!0,Bv=d)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jS(e){if(mi(e)!==e)throw Error(ve(188))}function uV(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return jS(a),e;if(o===r)return jS(a),t;o=o.sibling}throw Error(ve(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function b2(e){return e=uV(e),e!==null?S2(e):null}function S2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S2(e);if(t!==null)return t;e=e.sibling}return null}var C2=hn.unstable_scheduleCallback,wS=hn.unstable_cancelCallback,hV=hn.unstable_shouldYield,mV=hn.unstable_requestPaint,Yt=hn.unstable_now,pV=hn.unstable_getCurrentPriorityLevel,Sw=hn.unstable_ImmediatePriority,E2=hn.unstable_UserBlockingPriority,Om=hn.unstable_NormalPriority,fV=hn.unstable_LowPriority,T2=hn.unstable_IdlePriority,Qp=null,jr=null;function xV(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Qp,e,void 0,(e.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:yV,gV=Math.log,vV=Math.LN2;function yV(e){return e>>>=0,e===0?32:31-(gV(e)/vV|0)|0}var dh=64,uh=4194304;function Bc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Im(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~a;l!==0?r=Bc(l):(o&=i,o!==0&&(r=Bc(o)))}else i=n&~a,i!==0?r=Bc(i):o!==0&&(r=Bc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jn(t),a=1<<n,r|=e[n],t&=~a;return r}function jV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wV(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Jn(o),l=1<<i,c=a[i];c===-1?(!(l&n)||l&r)&&(a[i]=jV(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Hv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P2(){var e=dh;return dh<<=1,!(dh&4194240)&&(dh=64),e}function _x(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jn(t),e[t]=n}function NV(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Jn(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function Cw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var dt=0;function A2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k2,Ew,D2,M2,R2,zv=!1,hh=[],_a=null,$a=null,Va=null,vd=new Map,yd=new Map,Da=[],bV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NS(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":vd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(t.pointerId)}}function bc(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=mu(t),t!==null&&Ew(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SV(e,t,n,r,a){switch(t){case"focusin":return _a=bc(_a,e,t,n,r,a),!0;case"dragenter":return $a=bc($a,e,t,n,r,a),!0;case"mouseover":return Va=bc(Va,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return vd.set(o,bc(vd.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,yd.set(o,bc(yd.get(o)||null,e,t,n,r,a)),!0}return!1}function F2(e){var t=Ao(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=N2(n),t!==null){e.blockedOn=t,R2(e.priority,function(){D2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$v=r,n.target.dispatchEvent(r),$v=null}else return t=mu(n),t!==null&&Ew(t),e.blockedOn=n,!1;t.shift()}return!0}function bS(e,t,n){sm(e)&&n.delete(t)}function CV(){zv=!1,_a!==null&&sm(_a)&&(_a=null),$a!==null&&sm($a)&&($a=null),Va!==null&&sm(Va)&&(Va=null),vd.forEach(bS),yd.forEach(bS)}function Sc(e,t){e.blockedOn===t&&(e.blockedOn=null,zv||(zv=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,CV)))}function jd(e){function t(a){return Sc(a,e)}if(0<hh.length){Sc(hh[0],e);for(var n=1;n<hh.length;n++){var r=hh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_a!==null&&Sc(_a,e),$a!==null&&Sc($a,e),Va!==null&&Sc(Va,e),vd.forEach(t),yd.forEach(t),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)F2(n),n.blockedOn===null&&Da.shift()}var cl=ma.ReactCurrentBatchConfig,Lm=!0;function EV(e,t,n,r){var a=dt,o=cl.transition;cl.transition=null;try{dt=1,Tw(e,t,n,r)}finally{dt=a,cl.transition=o}}function TV(e,t,n,r){var a=dt,o=cl.transition;cl.transition=null;try{dt=4,Tw(e,t,n,r)}finally{dt=a,cl.transition=o}}function Tw(e,t,n,r){if(Lm){var a=qv(e,t,n,r);if(a===null)Xx(e,t,r,_m,n),NS(e,r);else if(SV(a,e,t,n,r))r.stopPropagation();else if(NS(e,r),t&4&&-1<bV.indexOf(e)){for(;a!==null;){var o=mu(a);if(o!==null&&k2(o),o=qv(e,t,n,r),o===null&&Xx(e,t,r,_m,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else Xx(e,t,r,null,n)}}var _m=null;function qv(e,t,n,r){if(_m=null,e=bw(r),e=Ao(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=N2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _m=e,null}function O2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pV()){case Sw:return 1;case E2:return 4;case Om:case fV:return 16;case T2:return 536870912;default:return 16}default:return 16}}var Oa=null,Pw=null,nm=null;function I2(){if(nm)return nm;var e,t=Pw,n=t.length,r,a="value"in Oa?Oa.value:Oa.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[o-r];r++);return nm=a.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mh(){return!0}function SS(){return!1}function xn(e){function t(n,r,a,o,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mh:SS,this.isPropagationStopped=SS,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),t}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aw=xn(Gl),hu=It({},Gl,{view:0,detail:0}),PV=xn(hu),$x,Vx,Cc,Zp=It({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cc&&(Cc&&e.type==="mousemove"?($x=e.screenX-Cc.screenX,Vx=e.screenY-Cc.screenY):Vx=$x=0,Cc=e),$x)},movementY:function(e){return"movementY"in e?e.movementY:Vx}}),CS=xn(Zp),AV=It({},Zp,{dataTransfer:0}),kV=xn(AV),DV=It({},hu,{relatedTarget:0}),Ux=xn(DV),MV=It({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),RV=xn(MV),FV=It({},Gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OV=xn(FV),IV=It({},Gl,{data:0}),ES=xn(IV),LV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_V={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$V={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$V[e])?!!t[e]:!1}function kw(){return VV}var UV=It({},hu,{key:function(e){if(e.key){var t=LV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_V[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kw,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BV=xn(UV),HV=It({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=xn(HV),zV=It({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kw}),qV=xn(zV),WV=It({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YV=xn(WV),XV=It({},Zp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KV=xn(XV),GV=[9,13,27,32],Dw=Gr&&"CompositionEvent"in window,Zc=null;Gr&&"documentMode"in document&&(Zc=document.documentMode);var JV=Gr&&"TextEvent"in window&&!Zc,L2=Gr&&(!Dw||Zc&&8<Zc&&11>=Zc),PS=" ",AS=!1;function _2(e,t){switch(e){case"keyup":return GV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function QV(e,t){switch(e){case"compositionend":return $2(t);case"keypress":return t.which!==32?null:(AS=!0,PS);case"textInput":return e=t.data,e===PS&&AS?null:e;default:return null}}function ZV(e,t){if(Vi)return e==="compositionend"||!Dw&&_2(e,t)?(e=I2(),nm=Pw=Oa=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return L2&&t.locale!=="ko"?null:t.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e6[e.type]:t==="textarea"}function V2(e,t,n,r){g2(r),t=$m(t,"onChange"),0<t.length&&(n=new Aw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ed=null,wd=null;function t6(e){J2(e,0)}function ef(e){var t=Hi(e);if(d2(t))return e}function s6(e,t){if(e==="change")return t}var U2=!1;if(Gr){var Bx;if(Gr){var Hx="oninput"in document;if(!Hx){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),Hx=typeof DS.oninput=="function"}Bx=Hx}else Bx=!1;U2=Bx&&(!document.documentMode||9<document.documentMode)}function MS(){ed&&(ed.detachEvent("onpropertychange",B2),wd=ed=null)}function B2(e){if(e.propertyName==="value"&&ef(wd)){var t=[];V2(t,wd,e,bw(e)),w2(t6,t)}}function n6(e,t,n){e==="focusin"?(MS(),ed=t,wd=n,ed.attachEvent("onpropertychange",B2)):e==="focusout"&&MS()}function r6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ef(wd)}function a6(e,t){if(e==="click")return ef(t)}function o6(e,t){if(e==="input"||e==="change")return ef(t)}function i6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:i6;function Nd(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Tv.call(t,a)||!Zn(e[a],t[a]))return!1}return!0}function RS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FS(e,t){var n=RS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RS(n)}}function H2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function z2(){for(var e=window,t=Mm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mm(e.document)}return t}function Mw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function l6(e){var t=z2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&H2(n.ownerDocument.documentElement,n)){if(r!==null&&Mw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=FS(n,o);var i=FS(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c6=Gr&&"documentMode"in document&&11>=document.documentMode,Ui=null,Wv=null,td=null,Yv=!1;function OS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yv||Ui==null||Ui!==Mm(r)||(r=Ui,"selectionStart"in r&&Mw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),td&&Nd(td,r)||(td=r,r=$m(Wv,"onSelect"),0<r.length&&(t=new Aw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ui)))}function ph(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bi={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},zx={},q2={};Gr&&(q2=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function tf(e){if(zx[e])return zx[e];if(!Bi[e])return e;var t=Bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in q2)return zx[e]=t[n];return e}var W2=tf("animationend"),Y2=tf("animationiteration"),X2=tf("animationstart"),K2=tf("transitionend"),G2=new Map,IS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(e,t){G2.set(e,t),hi(t,[e])}for(var qx=0;qx<IS.length;qx++){var Wx=IS[qx],d6=Wx.toLowerCase(),u6=Wx[0].toUpperCase()+Wx.slice(1);lo(d6,"on"+u6)}lo(W2,"onAnimationEnd");lo(Y2,"onAnimationIteration");lo(X2,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(K2,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function LS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dV(r,t,void 0,e),e.currentTarget=null}function J2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;LS(a,l,d),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;LS(a,l,d),o=c}}}if(Fm)throw e=Bv,Fm=!1,Bv=null,e}function Ct(e,t){var n=t[Qv];n===void 0&&(n=t[Qv]=new Set);var r=e+"__bubble";n.has(r)||(Q2(t,e,2,!1),n.add(r))}function Yx(e,t,n){var r=0;t&&(r|=4),Q2(n,e,r,t)}var fh="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[fh]){e[fh]=!0,a2.forEach(function(n){n!=="selectionchange"&&(h6.has(n)||Yx(n,!1,e),Yx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fh]||(t[fh]=!0,Yx("selectionchange",!1,t))}}function Q2(e,t,n,r){switch(O2(t)){case 1:var a=EV;break;case 4:a=TV;break;default:a=Tw}n=a.bind(null,t,n,e),a=void 0,!Uv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Xx(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ao(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}w2(function(){var d=o,u=bw(n),m=[];e:{var f=G2.get(e);if(f!==void 0){var x=Aw,g=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":x=BV;break;case"focusin":g="focus",x=Ux;break;case"focusout":g="blur",x=Ux;break;case"beforeblur":case"afterblur":x=Ux;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=CS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=kV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=qV;break;case W2:case Y2:case X2:x=RV;break;case K2:x=YV;break;case"scroll":x=PV;break;case"wheel":x=KV;break;case"copy":case"cut":case"paste":x=OV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=TS}var p=(t&4)!==0,w=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=d,j;y!==null;){j=y;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=gd(y,v),N!=null&&p.push(Sd(y,N,j)))),w)break;y=y.return}0<p.length&&(f=new x(f,g,null,n,u),m.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==$v&&(g=n.relatedTarget||n.fromElement)&&(Ao(g)||g[Jr]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=d,g=g?Ao(g):null,g!==null&&(w=mi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(p=CS,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=TS,N="onPointerLeave",v="onPointerEnter",y="pointer"),w=x==null?f:Hi(x),j=g==null?f:Hi(g),f=new p(N,y+"leave",x,n,u),f.target=w,f.relatedTarget=j,N=null,Ao(u)===d&&(p=new p(v,y+"enter",g,n,u),p.target=j,p.relatedTarget=w,N=p),w=N,x&&g)t:{for(p=x,v=g,y=0,j=p;j;j=Si(j))y++;for(j=0,N=v;N;N=Si(N))j++;for(;0<y-j;)p=Si(p),y--;for(;0<j-y;)v=Si(v),j--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=Si(p),v=Si(v)}p=null}else p=null;x!==null&&_S(m,f,x,p,!1),g!==null&&w!==null&&_S(m,w,g,p,!0)}}e:{if(f=d?Hi(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var b=s6;else if(kS(f))if(U2)b=o6;else{b=r6;var T=n6}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=a6);if(b&&(b=b(e,d))){V2(m,b,n,u);break e}T&&T(e,f,d),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Fv(f,"number",f.value)}switch(T=d?Hi(d):window,e){case"focusin":(kS(T)||T.contentEditable==="true")&&(Ui=T,Wv=d,td=null);break;case"focusout":td=Wv=Ui=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,OS(m,n,u);break;case"selectionchange":if(c6)break;case"keydown":case"keyup":OS(m,n,u)}var S;if(Dw)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vi?_2(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(L2&&n.locale!=="ko"&&(Vi||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vi&&(S=I2()):(Oa=u,Pw="value"in Oa?Oa.value:Oa.textContent,Vi=!0)),T=$m(d,A),0<T.length&&(A=new ES(A,e,null,n,u),m.push({event:A,listeners:T}),S?A.data=S:(S=$2(n),S!==null&&(A.data=S)))),(S=JV?QV(e,n):ZV(e,n))&&(d=$m(d,"onBeforeInput"),0<d.length&&(u=new ES("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=S))}J2(m,t)})}function Sd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $m(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=gd(e,n),o!=null&&r.unshift(Sd(e,o,a)),o=gd(e,t),o!=null&&r.push(Sd(e,o,a))),e=e.return}return r}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _S(e,t,n,r,a){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=gd(n,o),c!=null&&i.unshift(Sd(n,c,l))):a||(c=gd(n,o),c!=null&&i.push(Sd(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var m6=/\r\n?/g,p6=/\u0000|\uFFFD/g;function $S(e){return(typeof e=="string"?e:""+e).replace(m6,`
`).replace(p6,"")}function xh(e,t,n){if(t=$S(t),$S(e)!==t&&n)throw Error(ve(425))}function Vm(){}var Xv=null,Kv=null;function Gv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jv=typeof setTimeout=="function"?setTimeout:void 0,f6=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,x6=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(e){return VS.resolve(null).then(e).catch(g6)}:Jv;function g6(e){setTimeout(function(){throw e})}function Kx(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),jd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);jd(t)}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function US(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),pr="__reactFiber$"+Jl,Cd="__reactProps$"+Jl,Jr="__reactContainer$"+Jl,Qv="__reactEvents$"+Jl,v6="__reactListeners$"+Jl,y6="__reactHandles$"+Jl;function Ao(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[pr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=US(e);e!==null;){if(n=e[pr])return n;e=US(e)}return t}e=n,n=e.parentNode}return null}function mu(e){return e=e[pr]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function sf(e){return e[Cd]||null}var Zv=[],zi=-1;function co(e){return{current:e}}function Et(e){0>zi||(e.current=Zv[zi],Zv[zi]=null,zi--)}function jt(e,t){zi++,Zv[zi]=e.current,e.current=t}var Qa={},bs=co(Qa),qs=co(!1),qo=Qa;function Sl(e,t){var n=e.type.contextTypes;if(!n)return Qa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ws(e){return e=e.childContextTypes,e!=null}function Um(){Et(qs),Et(bs)}function BS(e,t,n){if(bs.current!==Qa)throw Error(ve(168));jt(bs,t),jt(qs,n)}function Z2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ve(108,nV(e)||"Unknown",a));return It({},n,r)}function Bm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qa,qo=bs.current,jt(bs,e),jt(qs,qs.current),!0}function HS(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=Z2(e,t,qo),r.__reactInternalMemoizedMergedChildContext=e,Et(qs),Et(bs),jt(bs,e)):Et(qs),jt(qs,n)}var Br=null,nf=!1,Gx=!1;function eA(e){Br===null?Br=[e]:Br.push(e)}function j6(e){nf=!0,eA(e)}function uo(){if(!Gx&&Br!==null){Gx=!0;var e=0,t=dt;try{var n=Br;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Br=null,nf=!1}catch(a){throw Br!==null&&(Br=Br.slice(e+1)),C2(Sw,uo),a}finally{dt=t,Gx=!1}}return null}var qi=[],Wi=0,Hm=null,zm=0,wn=[],Nn=0,Wo=null,Hr=1,zr="";function No(e,t){qi[Wi++]=zm,qi[Wi++]=Hm,Hm=e,zm=t}function tA(e,t,n){wn[Nn++]=Hr,wn[Nn++]=zr,wn[Nn++]=Wo,Wo=e;var r=Hr;e=zr;var a=32-Jn(r)-1;r&=~(1<<a),n+=1;var o=32-Jn(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Hr=1<<32-Jn(t)+a|n<<a|r,zr=o+e}else Hr=1<<o|n<<a|r,zr=e}function Rw(e){e.return!==null&&(No(e,1),tA(e,1,0))}function Fw(e){for(;e===Hm;)Hm=qi[--Wi],qi[Wi]=null,zm=qi[--Wi],qi[Wi]=null;for(;e===Wo;)Wo=wn[--Nn],wn[Nn]=null,zr=wn[--Nn],wn[Nn]=null,Hr=wn[--Nn],wn[Nn]=null}var dn=null,cn=null,Pt=!1,Yn=null;function sA(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,cn=Ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wo!==null?{id:Hr,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,cn=null,!0):!1;default:return!1}}function ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ty(e){if(Pt){var t=cn;if(t){var n=t;if(!zS(e,t)){if(ey(e))throw Error(ve(418));t=Ua(n.nextSibling);var r=dn;t&&zS(e,t)?sA(r,n):(e.flags=e.flags&-4097|2,Pt=!1,dn=e)}}else{if(ey(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Pt=!1,dn=e}}}function qS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function gh(e){if(e!==dn)return!1;if(!Pt)return qS(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gv(e.type,e.memoizedProps)),t&&(t=cn)){if(ey(e))throw nA(),Error(ve(418));for(;t;)sA(e,t),t=Ua(t.nextSibling)}if(qS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cn=Ua(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cn=null}}else cn=dn?Ua(e.stateNode.nextSibling):null;return!0}function nA(){for(var e=cn;e;)e=Ua(e.nextSibling)}function Cl(){cn=dn=null,Pt=!1}function Ow(e){Yn===null?Yn=[e]:Yn.push(e)}var w6=ma.ReactCurrentBatchConfig;function Ec(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function vh(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function WS(e){var t=e._init;return t(e._payload)}function rA(e){function t(v,y){if(e){var j=v.deletions;j===null?(v.deletions=[y],v.flags|=16):j.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=qa(v,y),v.index=0,v.sibling=null,v}function o(v,y,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<y?(v.flags|=2,y):j):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,j,N){return y===null||y.tag!==6?(y=ng(j,v.mode,N),y.return=v,y):(y=a(y,j),y.return=v,y)}function c(v,y,j,N){var b=j.type;return b===$i?u(v,y,j.props.children,N,j.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Aa&&WS(b)===y.type)?(N=a(y,j.props),N.ref=Ec(v,y,j),N.return=v,N):(N=um(j.type,j.key,j.props,null,v.mode,N),N.ref=Ec(v,y,j),N.return=v,N)}function d(v,y,j,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=rg(j,v.mode,N),y.return=v,y):(y=a(y,j.children||[]),y.return=v,y)}function u(v,y,j,N,b){return y===null||y.tag!==7?(y=_o(j,v.mode,N,b),y.return=v,y):(y=a(y,j),y.return=v,y)}function m(v,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ng(""+y,v.mode,j),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ih:return j=um(y.type,y.key,y.props,null,v.mode,j),j.ref=Ec(v,null,y),j.return=v,j;case _i:return y=rg(y,v.mode,j),y.return=v,y;case Aa:var N=y._init;return m(v,N(y._payload),j)}if(Uc(y)||wc(y))return y=_o(y,v.mode,j,null),y.return=v,y;vh(v,y)}return null}function f(v,y,j,N){var b=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return b!==null?null:l(v,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ih:return j.key===b?c(v,y,j,N):null;case _i:return j.key===b?d(v,y,j,N):null;case Aa:return b=j._init,f(v,y,b(j._payload),N)}if(Uc(j)||wc(j))return b!==null?null:u(v,y,j,N,null);vh(v,j)}return null}function x(v,y,j,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,l(y,v,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ih:return v=v.get(N.key===null?j:N.key)||null,c(y,v,N,b);case _i:return v=v.get(N.key===null?j:N.key)||null,d(y,v,N,b);case Aa:var T=N._init;return x(v,y,j,T(N._payload),b)}if(Uc(N)||wc(N))return v=v.get(j)||null,u(y,v,N,b,null);vh(y,N)}return null}function g(v,y,j,N){for(var b=null,T=null,S=y,A=y=0,M=null;S!==null&&A<j.length;A++){S.index>A?(M=S,S=null):M=S.sibling;var L=f(v,S,j[A],N);if(L===null){S===null&&(S=M);break}e&&S&&L.alternate===null&&t(v,S),y=o(L,y,A),T===null?b=L:T.sibling=L,T=L,S=M}if(A===j.length)return n(v,S),Pt&&No(v,A),b;if(S===null){for(;A<j.length;A++)S=m(v,j[A],N),S!==null&&(y=o(S,y,A),T===null?b=S:T.sibling=S,T=S);return Pt&&No(v,A),b}for(S=r(v,S);A<j.length;A++)M=x(S,v,A,j[A],N),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?A:M.key),y=o(M,y,A),T===null?b=M:T.sibling=M,T=M);return e&&S.forEach(function(F){return t(v,F)}),Pt&&No(v,A),b}function p(v,y,j,N){var b=wc(j);if(typeof b!="function")throw Error(ve(150));if(j=b.call(j),j==null)throw Error(ve(151));for(var T=b=null,S=y,A=y=0,M=null,L=j.next();S!==null&&!L.done;A++,L=j.next()){S.index>A?(M=S,S=null):M=S.sibling;var F=f(v,S,L.value,N);if(F===null){S===null&&(S=M);break}e&&S&&F.alternate===null&&t(v,S),y=o(F,y,A),T===null?b=F:T.sibling=F,T=F,S=M}if(L.done)return n(v,S),Pt&&No(v,A),b;if(S===null){for(;!L.done;A++,L=j.next())L=m(v,L.value,N),L!==null&&(y=o(L,y,A),T===null?b=L:T.sibling=L,T=L);return Pt&&No(v,A),b}for(S=r(v,S);!L.done;A++,L=j.next())L=x(S,v,A,L.value,N),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?A:L.key),y=o(L,y,A),T===null?b=L:T.sibling=L,T=L);return e&&S.forEach(function(I){return t(v,I)}),Pt&&No(v,A),b}function w(v,y,j,N){if(typeof j=="object"&&j!==null&&j.type===$i&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ih:e:{for(var b=j.key,T=y;T!==null;){if(T.key===b){if(b=j.type,b===$i){if(T.tag===7){n(v,T.sibling),y=a(T,j.props.children),y.return=v,v=y;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Aa&&WS(b)===T.type){n(v,T.sibling),y=a(T,j.props),y.ref=Ec(v,T,j),y.return=v,v=y;break e}n(v,T);break}else t(v,T);T=T.sibling}j.type===$i?(y=_o(j.props.children,v.mode,N,j.key),y.return=v,v=y):(N=um(j.type,j.key,j.props,null,v.mode,N),N.ref=Ec(v,y,j),N.return=v,v=N)}return i(v);case _i:e:{for(T=j.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(v,y.sibling),y=a(y,j.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=rg(j,v.mode,N),y.return=v,v=y}return i(v);case Aa:return T=j._init,w(v,y,T(j._payload),N)}if(Uc(j))return g(v,y,j,N);if(wc(j))return p(v,y,j,N);vh(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,j),y.return=v,v=y):(n(v,y),y=ng(j,v.mode,N),y.return=v,v=y),i(v)):n(v,y)}return w}var El=rA(!0),aA=rA(!1),qm=co(null),Wm=null,Yi=null,Iw=null;function Lw(){Iw=Yi=Wm=null}function _w(e){var t=qm.current;Et(qm),e._currentValue=t}function sy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dl(e,t){Wm=e,Iw=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vs=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(Iw!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(Wm===null)throw Error(ve(308));Yi=e,Wm.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var ko=null;function $w(e){ko===null?ko=[e]:ko.push(e)}function oA(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,$w(t)):(n.next=a.next,a.next=n),t.interleaved=n,Qr(e,r)}function Qr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ka=!1;function Vw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Qr(e,n)}return a=r.interleaved,a===null?(t.next=t,$w(r)):(t.next=a.next,a.next=t),r.interleaved=t,Qr(e,n)}function am(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cw(e,n)}}function YS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ym(e,t,n,r){var a=e.updateQueue;ka=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,u=d=c=null,l=o;do{var f=l.lane,x=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,x=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){m=g.call(x,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(x,m,f):g,f==null)break e;m=It({},m,f);break e;case 2:ka=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Xo|=i,e.lanes=i,e.memoizedState=m}}function XS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ve(191,a));a.call(r)}}}var pu={},wr=co(pu),Ed=co(pu),Td=co(pu);function Do(e){if(e===pu)throw Error(ve(174));return e}function Uw(e,t){switch(jt(Td,t),jt(Ed,e),jt(wr,pu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iv(t,e)}Et(wr),jt(wr,t)}function Tl(){Et(wr),Et(Ed),Et(Td)}function lA(e){Do(Td.current);var t=Do(wr.current),n=Iv(t,e.type);t!==n&&(jt(Ed,e),jt(wr,n))}function Bw(e){Ed.current===e&&(Et(wr),Et(Ed))}var Dt=co(0);function Xm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jx=[];function Hw(){for(var e=0;e<Jx.length;e++)Jx[e]._workInProgressVersionPrimary=null;Jx.length=0}var om=ma.ReactCurrentDispatcher,Qx=ma.ReactCurrentBatchConfig,Yo=0,Ft=null,Zt=null,as=null,Km=!1,sd=!1,Pd=0,N6=0;function gs(){throw Error(ve(321))}function zw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function qw(e,t,n,r,a,o){if(Yo=o,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,om.current=e===null||e.memoizedState===null?E6:T6,e=n(r,a),sd){o=0;do{if(sd=!1,Pd=0,25<=o)throw Error(ve(301));o+=1,as=Zt=null,t.updateQueue=null,om.current=P6,e=n(r,a)}while(sd)}if(om.current=Gm,t=Zt!==null&&Zt.next!==null,Yo=0,as=Zt=Ft=null,Km=!1,t)throw Error(ve(300));return e}function Ww(){var e=Pd!==0;return Pd=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return as===null?Ft.memoizedState=as=e:as=as.next=e,as}function Rn(){if(Zt===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=as===null?Ft.memoizedState:as.next;if(t!==null)as=t,Zt=e;else{if(e===null)throw Error(ve(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},as===null?Ft.memoizedState=as=e:as=as.next=e}return as}function Ad(e,t){return typeof t=="function"?t(e):t}function Zx(e){var t=Rn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=Zt,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((Yo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,i=r):c=c.next=m,Ft.lanes|=u,Xo|=u}d=d.next}while(d!==null&&d!==o);c===null?i=r:c.next=l,Zn(r,t.memoizedState)||(Vs=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,Ft.lanes|=o,Xo|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eg(e){var t=Rn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Zn(o,t.memoizedState)||(Vs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function cA(){}function dA(e,t){var n=Ft,r=Rn(),a=t(),o=!Zn(r.memoizedState,a);if(o&&(r.memoizedState=a,Vs=!0),r=r.queue,Yw(mA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||as!==null&&as.memoizedState.tag&1){if(n.flags|=2048,kd(9,hA.bind(null,n,r,a,t),void 0,null),os===null)throw Error(ve(349));Yo&30||uA(n,t,a)}return a}function uA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hA(e,t,n,r){t.value=n,t.getSnapshot=r,pA(t)&&fA(e)}function mA(e,t,n){return n(function(){pA(t)&&fA(e)})}function pA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch{return!0}}function fA(e){var t=Qr(e,1);t!==null&&Qn(t,e,1,-1)}function KS(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:e},t.queue=e,e=e.dispatch=C6.bind(null,Ft,e),[t.memoizedState,e]}function kd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xA(){return Rn().memoizedState}function im(e,t,n,r){var a=hr();Ft.flags|=e,a.memoizedState=kd(1|t,n,void 0,r===void 0?null:r)}function rf(e,t,n,r){var a=Rn();r=r===void 0?null:r;var o=void 0;if(Zt!==null){var i=Zt.memoizedState;if(o=i.destroy,r!==null&&zw(r,i.deps)){a.memoizedState=kd(t,n,o,r);return}}Ft.flags|=e,a.memoizedState=kd(1|t,n,o,r)}function GS(e,t){return im(8390656,8,e,t)}function Yw(e,t){return rf(2048,8,e,t)}function gA(e,t){return rf(4,2,e,t)}function vA(e,t){return rf(4,4,e,t)}function yA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jA(e,t,n){return n=n!=null?n.concat([e]):null,rf(4,4,yA.bind(null,t,e),n)}function Xw(){}function wA(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function NA(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bA(e,t,n){return Yo&21?(Zn(n,t)||(n=P2(),Ft.lanes|=n,Xo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vs=!0),e.memoizedState=n)}function b6(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Qx.transition;Qx.transition={};try{e(!1),t()}finally{dt=n,Qx.transition=r}}function SA(){return Rn().memoizedState}function S6(e,t,n){var r=za(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CA(e))EA(t,n);else if(n=oA(e,t,n,r),n!==null){var a=ks();Qn(n,e,r,a),TA(n,t,r)}}function C6(e,t,n){var r=za(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CA(e))EA(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,Zn(l,i)){var c=t.interleaved;c===null?(a.next=a,$w(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=oA(e,t,a,r),n!==null&&(a=ks(),Qn(n,e,r,a),TA(n,t,r))}}function CA(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function EA(e,t){sd=Km=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cw(e,n)}}var Gm={readContext:Mn,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},E6={readContext:Mn,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:GS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,im(4194308,4,yA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return im(4194308,4,e,t)},useInsertionEffect:function(e,t){return im(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=S6.bind(null,Ft,e),[r.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:KS,useDebugValue:Xw,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=KS(!1),t=e[0];return e=b6.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ft,a=hr();if(Pt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),os===null)throw Error(ve(349));Yo&30||uA(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,GS(mA.bind(null,r,o,e),[e]),r.flags|=2048,kd(9,hA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=hr(),t=os.identifierPrefix;if(Pt){var n=zr,r=Hr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T6={readContext:Mn,useCallback:wA,useContext:Mn,useEffect:Yw,useImperativeHandle:jA,useInsertionEffect:gA,useLayoutEffect:vA,useMemo:NA,useReducer:Zx,useRef:xA,useState:function(){return Zx(Ad)},useDebugValue:Xw,useDeferredValue:function(e){var t=Rn();return bA(t,Zt.memoizedState,e)},useTransition:function(){var e=Zx(Ad)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:cA,useSyncExternalStore:dA,useId:SA,unstable_isNewReconciler:!1},P6={readContext:Mn,useCallback:wA,useContext:Mn,useEffect:Yw,useImperativeHandle:jA,useInsertionEffect:gA,useLayoutEffect:vA,useMemo:NA,useReducer:eg,useRef:xA,useState:function(){return eg(Ad)},useDebugValue:Xw,useDeferredValue:function(e){var t=Rn();return Zt===null?t.memoizedState=e:bA(t,Zt.memoizedState,e)},useTransition:function(){var e=eg(Ad)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:cA,useSyncExternalStore:dA,useId:SA,unstable_isNewReconciler:!1};function zn(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ny(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var af={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ks(),a=za(e),o=Xr(r,a);o.payload=t,n!=null&&(o.callback=n),t=Ba(e,o,a),t!==null&&(Qn(t,e,a,r),am(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ks(),a=za(e),o=Xr(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ba(e,o,a),t!==null&&(Qn(t,e,a,r),am(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ks(),r=za(e),a=Xr(n,r);a.tag=2,t!=null&&(a.callback=t),t=Ba(e,a,r),t!==null&&(Qn(t,e,r,n),am(t,e,r))}};function JS(e,t,n,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Nd(n,r)||!Nd(a,o):!0}function PA(e,t,n){var r=!1,a=Qa,o=t.contextType;return typeof o=="object"&&o!==null?o=Mn(o):(a=Ws(t)?qo:bs.current,r=t.contextTypes,o=(r=r!=null)?Sl(e,a):Qa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=af,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function QS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&af.enqueueReplaceState(t,t.state,null)}function ry(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Vw(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Mn(o):(o=Ws(t)?qo:bs.current,a.context=Sl(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ny(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&af.enqueueReplaceState(a,a.state,null),Ym(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pl(e,t){try{var n="",r=t;do n+=sV(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function tg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ay(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A6=typeof WeakMap=="function"?WeakMap:Map;function AA(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qm||(Qm=!0,fy=r),ay(e,t)},n}function kA(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ay(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ay(e,t),typeof r!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ZS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A6;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=H6.bind(null,e,t,n),t.then(e,e))}function eC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tC(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,Ba(n,t,1))),n.lanes|=1),e)}var k6=ma.ReactCurrentOwner,Vs=!1;function Cs(e,t,n,r){t.child=e===null?aA(t,null,n,r):El(t,e.child,n,r)}function sC(e,t,n,r,a){n=n.render;var o=t.ref;return dl(t,a),r=qw(e,t,n,r,o,a),n=Ww(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zr(e,t,a)):(Pt&&n&&Rw(t),t.flags|=1,Cs(e,t,r,a),t.child)}function nC(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!s0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,DA(e,t,o,r,a)):(e=um(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nd,n(i,r)&&e.ref===t.ref)return Zr(e,t,a)}return t.flags|=1,e=qa(o,r),e.ref=t.ref,e.return=t,t.child=e}function DA(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Nd(o,r)&&e.ref===t.ref)if(Vs=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(Vs=!0);else return t.lanes=e.lanes,Zr(e,t,a)}return oy(e,t,n,r,a)}function MA(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Ki,nn),nn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jt(Ki,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,jt(Ki,nn),nn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,jt(Ki,nn),nn|=r;return Cs(e,t,a,n),t.child}function RA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oy(e,t,n,r,a){var o=Ws(n)?qo:bs.current;return o=Sl(t,o),dl(t,a),n=qw(e,t,n,r,o,a),r=Ww(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zr(e,t,a)):(Pt&&r&&Rw(t),t.flags|=1,Cs(e,t,n,a),t.child)}function rC(e,t,n,r,a){if(Ws(n)){var o=!0;Bm(t)}else o=!1;if(dl(t,a),t.stateNode===null)lm(e,t),PA(t,n,r),ry(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=Ws(n)?qo:bs.current,d=Sl(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&QS(t,i,r,d),ka=!1;var f=t.memoizedState;i.state=f,Ym(t,r,i,a),c=t.memoizedState,l!==r||f!==c||qs.current||ka?(typeof u=="function"&&(ny(t,n,u,r),c=t.memoizedState),(l=ka||JS(t,n,l,r,f,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,iA(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:zn(t.type,l),i.props=d,m=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=Ws(n)?qo:bs.current,c=Sl(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||f!==c)&&QS(t,i,r,c),ka=!1,f=t.memoizedState,i.state=f,Ym(t,r,i,a);var g=t.memoizedState;l!==m||f!==g||qs.current||ka?(typeof x=="function"&&(ny(t,n,x,r),g=t.memoizedState),(d=ka||JS(t,n,d,r,f,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return iy(e,t,n,r,o,a)}function iy(e,t,n,r,a,o){RA(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&HS(t,n,!1),Zr(e,t,o);r=t.stateNode,k6.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=El(t,e.child,null,o),t.child=El(t,null,l,o)):Cs(e,t,l,o),t.memoizedState=r.state,a&&HS(t,n,!0),t.child}function FA(e){var t=e.stateNode;t.pendingContext?BS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&BS(e,t.context,!1),Uw(e,t.containerInfo)}function aC(e,t,n,r,a){return Cl(),Ow(a),t.flags|=256,Cs(e,t,n,r),t.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function cy(e){return{baseLanes:e,cachePool:null,transitions:null}}function OA(e,t,n){var r=t.pendingProps,a=Dt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),jt(Dt,a&1),e===null)return ty(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=cf(i,r,0,null),e=_o(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cy(n),t.memoizedState=ly,e):Kw(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return D6(e,t,i,r,l,a,n);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qa(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=qa(l,o):(o=_o(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?cy(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ly,r}return o=e.child,e=o.sibling,r=qa(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kw(e,t){return t=cf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yh(e,t,n,r){return r!==null&&Ow(r),El(t,e.child,null,n),e=Kw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D6(e,t,n,r,a,o,i){if(n)return t.flags&256?(t.flags&=-257,r=tg(Error(ve(422))),yh(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=cf({mode:"visible",children:r.children},a,0,null),o=_o(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&El(t,e.child,null,i),t.child.memoizedState=cy(i),t.memoizedState=ly,o);if(!(t.mode&1))return yh(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ve(419)),r=tg(o,r,void 0),yh(e,t,i,r)}if(l=(i&e.childLanes)!==0,Vs||l){if(r=os,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Qr(e,a),Qn(r,e,a,-1))}return t0(),r=tg(Error(ve(421))),yh(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=z6.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,cn=Ua(a.nextSibling),dn=t,Pt=!0,Yn=null,e!==null&&(wn[Nn++]=Hr,wn[Nn++]=zr,wn[Nn++]=Wo,Hr=e.id,zr=e.overflow,Wo=t),t=Kw(t,r.children),t.flags|=4096,t)}function oC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sy(e.return,t,n)}function sg(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function IA(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Cs(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oC(e,n,t);else if(e.tag===19)oC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jt(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Xm(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),sg(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xm(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}sg(t,!0,n,null,o);break;case"together":sg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=qa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function M6(e,t,n){switch(t.tag){case 3:FA(t),Cl();break;case 5:lA(t);break;case 1:Ws(t.type)&&Bm(t);break;case 4:Uw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;jt(qm,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(jt(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?OA(e,t,n):(jt(Dt,Dt.current&1),e=Zr(e,t,n),e!==null?e.sibling:null);jt(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IA(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jt(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,MA(e,t,n)}return Zr(e,t,n)}var LA,dy,_A,$A;LA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dy=function(){};_A=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Do(wr.current);var o=null;switch(n){case"input":a=Mv(e,a),r=Mv(e,r),o=[];break;case"select":a=It({},a,{value:void 0}),r=It({},r,{value:void 0}),o=[];break;case"textarea":a=Ov(e,a),r=Ov(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vm)}Lv(n,r);var i;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fd.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=a?.[d],r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ct("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};$A=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tc(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function R6(e,t,n){var r=t.pendingProps;switch(Fw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(t),null;case 1:return Ws(t.type)&&Um(),vs(t),null;case 3:return r=t.stateNode,Tl(),Et(qs),Et(bs),Hw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(vy(Yn),Yn=null))),dy(e,t),vs(t),null;case 5:Bw(t);var a=Do(Td.current);if(n=t.type,e!==null&&t.stateNode!=null)_A(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return vs(t),null}if(e=Do(wr.current),gh(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pr]=t,r[Cd]=o,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(a=0;a<Hc.length;a++)Ct(Hc[a],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":fS(r,o),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",r);break;case"textarea":gS(r,o),Ct("invalid",r)}Lv(n,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&xh(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&xh(r.textContent,l,e),a=["children",""+l]):fd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ct("scroll",r)}switch(n){case"input":lh(r),xS(r,o,!0);break;case"textarea":lh(r),vS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vm)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=m2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[pr]=t,e[Cd]=r,LA(e,t,!1,!1),t.stateNode=e;e:{switch(i=_v(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),a=r;break;case"iframe":case"object":case"embed":Ct("load",e),a=r;break;case"video":case"audio":for(a=0;a<Hc.length;a++)Ct(Hc[a],e);a=r;break;case"source":Ct("error",e),a=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),a=r;break;case"details":Ct("toggle",e),a=r;break;case"input":fS(e,r),a=Mv(e,r),Ct("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=It({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":gS(e,r),a=Ov(e,r),Ct("invalid",e);break;default:a=r}Lv(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?x2(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&p2(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xd(e,c):typeof c=="number"&&xd(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fd.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ct("scroll",e):c!=null&&yw(e,o,c,i))}switch(n){case"input":lh(e),xS(e,r,!1);break;case"textarea":lh(e),vS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ja(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ol(e,!!r.multiple,o,!1):r.defaultValue!=null&&ol(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vs(t),null;case 6:if(e&&t.stateNode!=null)$A(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=Do(Td.current),Do(wr.current),gh(t)){if(r=t.stateNode,n=t.memoizedProps,r[pr]=t,(o=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:xh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xh(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=t,t.stateNode=r}return vs(t),null;case 13:if(Et(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&cn!==null&&t.mode&1&&!(t.flags&128))nA(),Cl(),t.flags|=98560,o=!1;else if(o=gh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ve(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));o[pr]=t}else Cl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vs(t),o=!1}else Yn!==null&&(vy(Yn),Yn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?ts===0&&(ts=3):t0())),t.updateQueue!==null&&(t.flags|=4),vs(t),null);case 4:return Tl(),dy(e,t),e===null&&bd(t.stateNode.containerInfo),vs(t),null;case 10:return _w(t.type._context),vs(t),null;case 17:return Ws(t.type)&&Um(),vs(t),null;case 19:if(Et(Dt),o=t.memoizedState,o===null)return vs(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Tc(o,!1);else{if(ts!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xm(e),i!==null){for(t.flags|=128,Tc(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return jt(Dt,Dt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yt()>Al&&(t.flags|=128,r=!0,Tc(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xm(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Pt)return vs(t),null}else 2*Yt()-o.renderingStartTime>Al&&n!==1073741824&&(t.flags|=128,r=!0,Tc(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,n=Dt.current,jt(Dt,r?n&1|2:n&1),t):(vs(t),null);case 22:case 23:return e0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nn&1073741824&&(vs(t),t.subtreeFlags&6&&(t.flags|=8192)):vs(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function F6(e,t){switch(Fw(t),t.tag){case 1:return Ws(t.type)&&Um(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tl(),Et(qs),Et(bs),Hw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bw(t),null;case 13:if(Et(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Et(Dt),null;case 4:return Tl(),null;case 10:return _w(t.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var jh=!1,ys=!1,O6=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Xi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bt(e,t,r)}else n.current=null}function uy(e,t,n){try{n()}catch(r){Bt(e,t,r)}}var iC=!1;function I6(e,t){if(Xv=Lm,e=z2(),Mw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var x;m!==n||a!==0&&m.nodeType!==3||(l=i+a),m!==o||r!==0&&m.nodeType!==3||(c=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)f=m,m=x;for(;;){if(m===e)break t;if(f===n&&++d===a&&(l=i),f===o&&++u===r&&(c=i),(x=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kv={focusedElem:e,selectionRange:n},Lm=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:zn(t.type,p),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){Bt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=iC,iC=!1,g}function nd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&uy(t,n,o)}a=a.next}while(a!==r)}}function of(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function VA(e){var t=e.alternate;t!==null&&(e.alternate=null,VA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pr],delete t[Cd],delete t[Qv],delete t[v6],delete t[y6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UA(e){return e.tag===5||e.tag===3||e.tag===4}function lC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function my(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vm));else if(r!==4&&(e=e.child,e!==null))for(my(e,t,n),e=e.sibling;e!==null;)my(e,t,n),e=e.sibling}function py(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(py(e,t,n),e=e.sibling;e!==null;)py(e,t,n),e=e.sibling}var ds=null,qn=!1;function va(e,t,n){for(n=n.child;n!==null;)BA(e,t,n),n=n.sibling}function BA(e,t,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Qp,n)}catch{}switch(n.tag){case 5:ys||Xi(n,t);case 6:var r=ds,a=qn;ds=null,va(e,t,n),ds=r,qn=a,ds!==null&&(qn?(e=ds,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:ds!==null&&(qn?(e=ds,n=n.stateNode,e.nodeType===8?Kx(e.parentNode,n):e.nodeType===1&&Kx(e,n),jd(e)):Kx(ds,n.stateNode));break;case 4:r=ds,a=qn,ds=n.stateNode.containerInfo,qn=!0,va(e,t,n),ds=r,qn=a;break;case 0:case 11:case 14:case 15:if(!ys&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&uy(n,t,i),a=a.next}while(a!==r)}va(e,t,n);break;case 1:if(!ys&&(Xi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Bt(n,t,l)}va(e,t,n);break;case 21:va(e,t,n);break;case 22:n.mode&1?(ys=(r=ys)||n.memoizedState!==null,va(e,t,n),ys=r):va(e,t,n);break;default:va(e,t,n)}}function cC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O6),t.forEach(function(r){var a=q6.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ds=l.stateNode,qn=!1;break e;case 3:ds=l.stateNode.containerInfo,qn=!0;break e;case 4:ds=l.stateNode.containerInfo,qn=!0;break e}l=l.return}if(ds===null)throw Error(ve(160));BA(o,i,a),ds=null,qn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Bt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HA(t,e),t=t.sibling}function HA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Un(t,e),dr(e),r&4){try{nd(3,e,e.return),of(3,e)}catch(p){Bt(e,e.return,p)}try{nd(5,e,e.return)}catch(p){Bt(e,e.return,p)}}break;case 1:Un(t,e),dr(e),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(Un(t,e),dr(e),r&512&&n!==null&&Xi(n,n.return),e.flags&32){var a=e.stateNode;try{xd(a,"")}catch(p){Bt(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&u2(a,o),_v(l,i);var d=_v(l,o);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?x2(a,m):u==="dangerouslySetInnerHTML"?p2(a,m):u==="children"?xd(a,m):yw(a,u,m,d)}switch(l){case"input":Rv(a,o);break;case"textarea":h2(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?ol(a,!!o.multiple,x,!1):f!==!!o.multiple&&(o.defaultValue!=null?ol(a,!!o.multiple,o.defaultValue,!0):ol(a,!!o.multiple,o.multiple?[]:"",!1))}a[Cd]=o}catch(p){Bt(e,e.return,p)}}break;case 6:if(Un(t,e),dr(e),r&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(p){Bt(e,e.return,p)}}break;case 3:if(Un(t,e),dr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jd(t.containerInfo)}catch(p){Bt(e,e.return,p)}break;case 4:Un(t,e),dr(e);break;case 13:Un(t,e),dr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Qw=Yt())),r&4&&cC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ys=(d=ys)||u,Un(t,e),ys=d):Un(t,e),dr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ee=e,u=e.child;u!==null;){for(m=Ee=u;Ee!==null;){switch(f=Ee,x=f.child,f.tag){case 0:case 11:case 14:case 15:nd(4,f,f.return);break;case 1:Xi(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Bt(r,n,p)}}break;case 5:Xi(f,f.return);break;case 22:if(f.memoizedState!==null){uC(m);continue}}x!==null?(x.return=f,Ee=x):uC(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=f2("display",i))}catch(p){Bt(e,e.return,p)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){Bt(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Un(t,e),dr(e),r&4&&cC(e);break;case 21:break;default:Un(t,e),dr(e)}}function dr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(UA(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(xd(a,""),r.flags&=-33);var o=lC(e);py(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=lC(e);my(e,l,i);break;default:throw Error(ve(161))}}catch(c){Bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L6(e,t,n){Ee=e,zA(e)}function zA(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var a=Ee,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||jh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ys;l=jh;var d=ys;if(jh=i,(ys=c)&&!d)for(Ee=a;Ee!==null;)i=Ee,c=i.child,i.tag===22&&i.memoizedState!==null?hC(a):c!==null?(c.return=i,Ee=c):hC(a);for(;o!==null;)Ee=o,zA(o),o=o.sibling;Ee=a,jh=l,ys=d}dC(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ee=o):dC(e)}}function dC(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ys||of(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ys)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:zn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&XS(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}XS(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&jd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}ys||t.flags&512&&hy(t)}catch(f){Bt(t,t.return,f)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function uC(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function hC(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{of(4,t)}catch(c){Bt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Bt(t,a,c)}}var o=t.return;try{hy(t)}catch(c){Bt(t,o,c)}break;case 5:var i=t.return;try{hy(t)}catch(c){Bt(t,i,c)}}}catch(c){Bt(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var _6=Math.ceil,Jm=ma.ReactCurrentDispatcher,Gw=ma.ReactCurrentOwner,Cn=ma.ReactCurrentBatchConfig,at=0,os=null,Jt=null,ps=0,nn=0,Ki=co(0),ts=0,Dd=null,Xo=0,lf=0,Jw=0,rd=null,$s=null,Qw=0,Al=1/0,Ur=null,Qm=!1,fy=null,Ha=null,wh=!1,Ia=null,Zm=0,ad=0,xy=null,cm=-1,dm=0;function ks(){return at&6?Yt():cm!==-1?cm:cm=Yt()}function za(e){return e.mode&1?at&2&&ps!==0?ps&-ps:w6.transition!==null?(dm===0&&(dm=P2()),dm):(e=dt,e!==0||(e=window.event,e=e===void 0?16:O2(e.type)),e):1}function Qn(e,t,n,r){if(50<ad)throw ad=0,xy=null,Error(ve(185));uu(e,n,r),(!(at&2)||e!==os)&&(e===os&&(!(at&2)&&(lf|=n),ts===4&&Ma(e,ps)),Ys(e,r),n===1&&at===0&&!(t.mode&1)&&(Al=Yt()+500,nf&&uo()))}function Ys(e,t){var n=e.callbackNode;wV(e,t);var r=Im(e,e===os?ps:0);if(r===0)n!==null&&wS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wS(n),t===1)e.tag===0?j6(mC.bind(null,e)):eA(mC.bind(null,e)),x6(function(){!(at&6)&&uo()}),n=null;else{switch(A2(r)){case 1:n=Sw;break;case 4:n=E2;break;case 16:n=Om;break;case 536870912:n=T2;break;default:n=Om}n=QA(n,qA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qA(e,t){if(cm=-1,dm=0,at&6)throw Error(ve(327));var n=e.callbackNode;if(ul()&&e.callbackNode!==n)return null;var r=Im(e,e===os?ps:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ep(e,r);else{t=r;var a=at;at|=2;var o=YA();(os!==e||ps!==t)&&(Ur=null,Al=Yt()+500,Lo(e,t));do try{U6();break}catch(l){WA(e,l)}while(!0);Lw(),Jm.current=o,at=a,Jt!==null?t=0:(os=null,ps=0,t=ts)}if(t!==0){if(t===2&&(a=Hv(e),a!==0&&(r=a,t=gy(e,a))),t===1)throw n=Dd,Lo(e,0),Ma(e,r),Ys(e,Yt()),n;if(t===6)Ma(e,r);else{if(a=e.current.alternate,!(r&30)&&!$6(a)&&(t=ep(e,r),t===2&&(o=Hv(e),o!==0&&(r=o,t=gy(e,o))),t===1))throw n=Dd,Lo(e,0),Ma(e,r),Ys(e,Yt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:bo(e,$s,Ur);break;case 3:if(Ma(e,r),(r&130023424)===r&&(t=Qw+500-Yt(),10<t)){if(Im(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ks(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Jv(bo.bind(null,e,$s,Ur),t);break}bo(e,$s,Ur);break;case 4:if(Ma(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Jn(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_6(r/1960))-r,10<r){e.timeoutHandle=Jv(bo.bind(null,e,$s,Ur),r);break}bo(e,$s,Ur);break;case 5:bo(e,$s,Ur);break;default:throw Error(ve(329))}}}return Ys(e,Yt()),e.callbackNode===n?qA.bind(null,e):null}function gy(e,t){var n=rd;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=ep(e,t),e!==2&&(t=$s,$s=n,t!==null&&vy(t)),e}function vy(e){$s===null?$s=e:$s.push.apply($s,e)}function $6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Zn(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t){for(t&=~Jw,t&=~lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jn(t),r=1<<n;e[n]=-1,t&=~r}}function mC(e){if(at&6)throw Error(ve(327));ul();var t=Im(e,0);if(!(t&1))return Ys(e,Yt()),null;var n=ep(e,t);if(e.tag!==0&&n===2){var r=Hv(e);r!==0&&(t=r,n=gy(e,r))}if(n===1)throw n=Dd,Lo(e,0),Ma(e,t),Ys(e,Yt()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bo(e,$s,Ur),Ys(e,Yt()),null}function Zw(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Al=Yt()+500,nf&&uo())}}function Ko(e){Ia!==null&&Ia.tag===0&&!(at&6)&&ul();var t=at;at|=1;var n=Cn.transition,r=dt;try{if(Cn.transition=null,dt=1,e)return e()}finally{dt=r,Cn.transition=n,at=t,!(at&6)&&uo()}}function e0(){nn=Ki.current,Et(Ki)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,f6(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(Fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Um();break;case 3:Tl(),Et(qs),Et(bs),Hw();break;case 5:Bw(r);break;case 4:Tl();break;case 13:Et(Dt);break;case 19:Et(Dt);break;case 10:_w(r.type._context);break;case 22:case 23:e0()}n=n.return}if(os=e,Jt=e=qa(e.current,null),ps=nn=t,ts=0,Dd=null,Jw=lf=Xo=0,$s=rd=null,ko!==null){for(t=0;t<ko.length;t++)if(n=ko[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}n.pending=r}ko=null}return e}function WA(e,t){do{var n=Jt;try{if(Lw(),om.current=Gm,Km){for(var r=Ft.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Km=!1}if(Yo=0,as=Zt=Ft=null,sd=!1,Pd=0,Gw.current=null,n===null||n.return===null){ts=1,Dd=t,Jt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=ps,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=eC(i);if(x!==null){x.flags&=-257,tC(x,i,l,o,t),x.mode&1&&ZS(o,d,t),t=x,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){ZS(o,d,t),t0();break e}c=Error(ve(426))}}else if(Pt&&l.mode&1){var w=eC(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tC(w,i,l,o,t),Ow(Pl(c,l));break e}}o=c=Pl(c,l),ts!==4&&(ts=2),rd===null?rd=[o]:rd.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=AA(o,c,t);YS(o,v);break e;case 1:l=c;var y=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ha===null||!Ha.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=kA(o,l,t);YS(o,N);break e}}o=o.return}while(o!==null)}KA(n)}catch(b){t=b,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function YA(){var e=Jm.current;return Jm.current=Gm,e===null?Gm:e}function t0(){(ts===0||ts===3||ts===2)&&(ts=4),os===null||!(Xo&268435455)&&!(lf&268435455)||Ma(os,ps)}function ep(e,t){var n=at;at|=2;var r=YA();(os!==e||ps!==t)&&(Ur=null,Lo(e,t));do try{V6();break}catch(a){WA(e,a)}while(!0);if(Lw(),at=n,Jm.current=r,Jt!==null)throw Error(ve(261));return os=null,ps=0,ts}function V6(){for(;Jt!==null;)XA(Jt)}function U6(){for(;Jt!==null&&!hV();)XA(Jt)}function XA(e){var t=JA(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?KA(e):Jt=t,Gw.current=null}function KA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=F6(n,t),n!==null){n.flags&=32767,Jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ts=6,Jt=null;return}}else if(n=R6(n,t,nn),n!==null){Jt=n;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);ts===0&&(ts=5)}function bo(e,t,n){var r=dt,a=Cn.transition;try{Cn.transition=null,dt=1,B6(e,t,n,r)}finally{Cn.transition=a,dt=r}return null}function B6(e,t,n,r){do ul();while(Ia!==null);if(at&6)throw Error(ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(NV(e,o),e===os&&(Jt=os=null,ps=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wh||(wh=!0,QA(Om,function(){return ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Cn.transition,Cn.transition=null;var i=dt;dt=1;var l=at;at|=4,Gw.current=null,I6(e,n),HA(n,e),l6(Kv),Lm=!!Xv,Kv=Xv=null,e.current=n,L6(n),mV(),at=l,dt=i,Cn.transition=o}else e.current=n;if(wh&&(wh=!1,Ia=e,Zm=a),o=e.pendingLanes,o===0&&(Ha=null),xV(n.stateNode),Ys(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Qm)throw Qm=!1,e=fy,fy=null,e;return Zm&1&&e.tag!==0&&ul(),o=e.pendingLanes,o&1?e===xy?ad++:(ad=0,xy=e):ad=0,uo(),null}function ul(){if(Ia!==null){var e=A2(Zm),t=Cn.transition,n=dt;try{if(Cn.transition=null,dt=16>e?16:e,Ia===null)var r=!1;else{if(e=Ia,Ia=null,Zm=0,at&6)throw Error(ve(331));var a=at;for(at|=4,Ee=e.current;Ee!==null;){var o=Ee,i=o.child;if(Ee.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ee=d;Ee!==null;){var u=Ee;switch(u.tag){case 0:case 11:case 15:nd(8,u,o)}var m=u.child;if(m!==null)m.return=u,Ee=m;else for(;Ee!==null;){u=Ee;var f=u.sibling,x=u.return;if(VA(u),u===d){Ee=null;break}if(f!==null){f.return=x,Ee=f;break}Ee=x}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ee=i;else e:for(;Ee!==null;){if(o=Ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nd(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ee=v;break e}Ee=o.return}}var y=e.current;for(Ee=y;Ee!==null;){i=Ee;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,Ee=j;else e:for(i=y;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:of(9,l)}}catch(b){Bt(l,l.return,b)}if(l===i){Ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ee=N;break e}Ee=l.return}}if(at=a,uo(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Qp,e)}catch{}r=!0}return r}finally{dt=n,Cn.transition=t}}return!1}function pC(e,t,n){t=Pl(n,t),t=AA(e,t,1),e=Ba(e,t,1),t=ks(),e!==null&&(uu(e,1,t),Ys(e,t))}function Bt(e,t,n){if(e.tag===3)pC(e,e,n);else for(;t!==null;){if(t.tag===3){pC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){e=Pl(n,e),e=kA(t,e,1),t=Ba(t,e,1),e=ks(),t!==null&&(uu(t,1,e),Ys(t,e));break}}t=t.return}}function H6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ks(),e.pingedLanes|=e.suspendedLanes&n,os===e&&(ps&n)===n&&(ts===4||ts===3&&(ps&130023424)===ps&&500>Yt()-Qw?Lo(e,0):Jw|=n),Ys(e,t)}function GA(e,t){t===0&&(e.mode&1?(t=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):t=1);var n=ks();e=Qr(e,t),e!==null&&(uu(e,t,n),Ys(e,n))}function z6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GA(e,n)}function q6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),GA(e,n)}var JA;JA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qs.current)Vs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vs=!1,M6(e,t,n);Vs=!!(e.flags&131072)}else Vs=!1,Pt&&t.flags&1048576&&tA(t,zm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lm(e,t),e=t.pendingProps;var a=Sl(t,bs.current);dl(t,n),a=qw(null,t,r,e,a,n);var o=Ww();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ws(r)?(o=!0,Bm(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Vw(t),a.updater=af,t.stateNode=a,a._reactInternals=t,ry(t,r,e,n),t=iy(null,t,r,!0,o,n)):(t.tag=0,Pt&&o&&Rw(t),Cs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Y6(r),e=zn(r,e),a){case 0:t=oy(null,t,r,e,n);break e;case 1:t=rC(null,t,r,e,n);break e;case 11:t=sC(null,t,r,e,n);break e;case 14:t=nC(null,t,r,zn(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zn(r,a),oy(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zn(r,a),rC(e,t,r,a,n);case 3:e:{if(FA(t),e===null)throw Error(ve(387));r=t.pendingProps,o=t.memoizedState,a=o.element,iA(e,t),Ym(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Pl(Error(ve(423)),t),t=aC(e,t,r,n,a);break e}else if(r!==a){a=Pl(Error(ve(424)),t),t=aC(e,t,r,n,a);break e}else for(cn=Ua(t.stateNode.containerInfo.firstChild),dn=t,Pt=!0,Yn=null,n=aA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),r===a){t=Zr(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return lA(t),e===null&&ty(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Gv(r,a)?i=null:o!==null&&Gv(r,o)&&(t.flags|=32),RA(e,t),Cs(e,t,i,n),t.child;case 6:return e===null&&ty(t),null;case 13:return OA(e,t,n);case 4:return Uw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=El(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zn(r,a),sC(e,t,r,a,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:return Cs(e,t,t.pendingProps.children,n),t.child;case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,jt(qm,r._currentValue),r._currentValue=i,o!==null)if(Zn(o.value,i)){if(o.children===a.children&&!qs.current){t=Zr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Xr(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sy(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ve(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sy(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Cs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,dl(t,n),a=Mn(a),r=r(a),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return r=t.type,a=zn(r,t.pendingProps),a=zn(r.type,a),nC(e,t,r,a,n);case 15:return DA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zn(r,a),lm(e,t),t.tag=1,Ws(r)?(e=!0,Bm(t)):e=!1,dl(t,n),PA(t,r,a),ry(t,r,a,n),iy(null,t,r,!0,e,n);case 19:return IA(e,t,n);case 22:return MA(e,t,n)}throw Error(ve(156,t.tag))};function QA(e,t){return C2(e,t)}function W6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new W6(e,t,n,r)}function s0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y6(e){if(typeof e=="function")return s0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ww)return 11;if(e===Nw)return 14}return 2}function qa(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function um(e,t,n,r,a,o){var i=2;if(r=e,typeof e=="function")s0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $i:return _o(n.children,a,o,t);case jw:i=8,a|=8;break;case Pv:return e=bn(12,n,t,a|2),e.elementType=Pv,e.lanes=o,e;case Av:return e=bn(13,n,t,a),e.elementType=Av,e.lanes=o,e;case kv:return e=bn(19,n,t,a),e.elementType=kv,e.lanes=o,e;case l2:return cf(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o2:i=10;break e;case i2:i=9;break e;case ww:i=11;break e;case Nw:i=14;break e;case Aa:i=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=bn(i,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function _o(e,t,n,r){return e=bn(7,e,r,t),e.lanes=n,e}function cf(e,t,n,r){return e=bn(22,e,r,t),e.elementType=l2,e.lanes=n,e.stateNode={isHidden:!1},e}function ng(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function rg(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X6(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_x(0),this.expirationTimes=_x(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_x(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function n0(e,t,n,r,a,o,i,l,c){return e=new X6(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=bn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vw(o),e}function K6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ZA(e){if(!e)return Qa;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ws(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(Ws(n))return Z2(e,n,t)}return t}function ek(e,t,n,r,a,o,i,l,c){return e=n0(n,r,!0,e,a,o,i,l,c),e.context=ZA(null),n=e.current,r=ks(),a=za(n),o=Xr(r,a),o.callback=t??null,Ba(n,o,a),e.current.lanes=a,uu(e,a,r),Ys(e,r),e}function df(e,t,n,r){var a=t.current,o=ks(),i=za(a);return n=ZA(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ba(a,t,i),e!==null&&(Qn(e,a,i,o),am(e,a,i)),i}function tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function r0(e,t){fC(e,t),(e=e.alternate)&&fC(e,t)}function G6(){return null}var tk=typeof reportError=="function"?reportError:function(e){console.error(e)};function a0(e){this._internalRoot=e}uf.prototype.render=a0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));df(e,t,null,null)};uf.prototype.unmount=a0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ko(function(){df(null,e,null,null)}),t[Jr]=null}};function uf(e){this._internalRoot=e}uf.prototype.unstable_scheduleHydration=function(e){if(e){var t=M2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&F2(e)}};function o0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xC(){}function J6(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var d=tp(i);o.call(d)}}var i=ek(t,r,e,0,null,!1,!1,"",xC);return e._reactRootContainer=i,e[Jr]=i.current,bd(e.nodeType===8?e.parentNode:e),Ko(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=tp(c);l.call(d)}}var c=n0(e,0,!1,null,null,!1,!1,"",xC);return e._reactRootContainer=c,e[Jr]=c.current,bd(e.nodeType===8?e.parentNode:e),Ko(function(){df(t,c,n,r)}),c}function mf(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=tp(i);l.call(c)}}df(t,i,e,a)}else i=J6(n,t,e,a,r);return tp(i)}k2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bc(t.pendingLanes);n!==0&&(Cw(t,n|1),Ys(t,Yt()),!(at&6)&&(Al=Yt()+500,uo()))}break;case 13:Ko(function(){var r=Qr(e,1);if(r!==null){var a=ks();Qn(r,e,1,a)}}),r0(e,1)}};Ew=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var n=ks();Qn(t,e,134217728,n)}r0(e,134217728)}};D2=function(e){if(e.tag===13){var t=za(e),n=Qr(e,t);if(n!==null){var r=ks();Qn(n,e,t,r)}r0(e,t)}};M2=function(){return dt};R2=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};Vv=function(e,t,n){switch(t){case"input":if(Rv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=sf(r);if(!a)throw Error(ve(90));d2(r),Rv(r,a)}}}break;case"textarea":h2(e,n);break;case"select":t=n.value,t!=null&&ol(e,!!n.multiple,t,!1)}};y2=Zw;j2=Ko;var Q6={usingClientEntryPoint:!1,Events:[mu,Hi,sf,g2,v2,Zw]},Pc={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z6={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b2(e),e===null?null:e.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||G6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Qp=Nh.inject(Z6),jr=Nh}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q6;fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o0(t))throw Error(ve(200));return K6(e,t,null,n)};fn.createRoot=function(e,t){if(!o0(e))throw Error(ve(299));var n=!1,r="",a=tk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=n0(e,1,!1,null,null,n,!1,r,a),e[Jr]=t.current,bd(e.nodeType===8?e.parentNode:e),new a0(t)};fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=b2(t),e=e===null?null:e.stateNode,e};fn.flushSync=function(e){return Ko(e)};fn.hydrate=function(e,t,n){if(!hf(t))throw Error(ve(200));return mf(null,e,t,!0,n)};fn.hydrateRoot=function(e,t,n){if(!o0(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",i=tk;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ek(t,null,e,1,n??null,a,!1,o,i),e[Jr]=t.current,bd(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new uf(t)};fn.render=function(e,t,n){if(!hf(t))throw Error(ve(200));return mf(null,e,t,!1,n)};fn.unmountComponentAtNode=function(e){if(!hf(e))throw Error(ve(40));return e._reactRootContainer?(Ko(function(){mf(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};fn.unstable_batchedUpdates=Zw;fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hf(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return mf(e,t,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sk)}catch(e){console.error(e)}}sk(),s2.exports=fn;var ar=s2.exports;const i0=hw(ar);var nk,gC=ar;nk=gC.createRoot,gC.hydrateRoot;const eU=1,tU=1e6;let ag=0;function sU(){return ag=(ag+1)%Number.MAX_SAFE_INTEGER,ag.toString()}const og=new Map,vC=e=>{if(og.has(e))return;const t=setTimeout(()=>{og.delete(e),od({type:"REMOVE_TOAST",toastId:e})},tU);og.set(e,t)},nU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?vC(n):e.toasts.forEach(r=>{vC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},hm=[];let mm={toasts:[]};function od(e){mm=nU(mm,e),hm.forEach(t=>{t(mm)})}function fr({...e}){const t=sU(),n=a=>od({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>od({type:"DISMISS_TOAST",toastId:t});return od({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Be(){const[e,t]=h.useState(mm);return h.useEffect(()=>(hm.push(t),()=>{const n=hm.indexOf(t);n>-1&&hm.splice(n,1)}),[e]),{...e,toast:fr,dismiss:n=>od({type:"DISMISS_TOAST",toastId:n})}}function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function rU(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function pf(...e){return t=>e.forEach(n=>rU(n,t))}function $e(...e){return h.useCallback(pf(...e),e)}function aU(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:f,children:x,...g}=m,p=f?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function u(m,f){const x=f?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,oU(a,...t)]}function oU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var mn=h.forwardRef((e,t)=>{const{children:n,...r}=e,a=h.Children.toArray(n),o=a.find(iU);if(o){const i=o.props.children,l=a.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return s.jsx(yy,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return s.jsx(yy,{...r,ref:t,children:n})});mn.displayName="Slot";var yy=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const a=cU(n);return h.cloneElement(n,{...lU(r,n.props),ref:t?pf(t,a):a})}return h.Children.count(n)>1?h.Children.only(null):null});yy.displayName="SlotClone";var l0=({children:e})=>s.jsx(s.Fragment,{children:e});function iU(e){return h.isValidElement(e)&&e.type===l0}function lU(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{o(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function cU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ff(e){const t=e+"CollectionProvider",[n,r]=aU(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:g,children:p}=x,w=Tt.useRef(null),v=Tt.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:v,collectionRef:w,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Tt.forwardRef((x,g)=>{const{scope:p,children:w}=x,v=o(l,p),y=$e(g,v.collectionRef);return s.jsx(mn,{ref:y,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",m=Tt.forwardRef((x,g)=>{const{scope:p,children:w,...v}=x,y=Tt.useRef(null),j=$e(g,y),N=o(d,p);return Tt.useEffect(()=>(N.itemMap.set(y,{ref:y,...v}),()=>void N.itemMap.delete(y))),s.jsx(mn,{[u]:"",ref:j,children:w})});m.displayName=d;function f(x){const g=o(e+"CollectionConsumer",x);return Tt.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,b)=>v.indexOf(N.ref.current)-v.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},f,r]}function dU(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function Qs(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=m=>{const{scope:f,children:x,...g}=m,p=f?.[e]?.[c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})};d.displayName=o+"Provider";function u(m,f){const x=f?.[e]?.[c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,uU(a,...t)]}function uU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var hU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=hU.reduce((e,t)=>{const n=h.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?mn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function c0(e,t){e&&ar.flushSync(()=>e.dispatchEvent(t))}function Mt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function mU(e,t=globalThis?.document){const n=Mt(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var pU="DismissableLayer",jy="dismissableLayer.update",fU="dismissableLayer.pointerDownOutside",xU="dismissableLayer.focusOutside",yC,rk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ql=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(rk),[u,m]=h.useState(null),f=u?.ownerDocument??globalThis?.document,[,x]=h.useState({}),g=$e(t,S=>m(S)),p=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(w),y=u?p.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,b=vU(S=>{const A=S.target,M=[...d.branches].some(L=>L.contains(A));!N||M||(a?.(S),i?.(S),S.defaultPrevented||l?.())},f),T=yU(S=>{const A=S.target;[...d.branches].some(L=>L.contains(A))||(o?.(S),i?.(S),S.defaultPrevented||l?.())},f);return mU(S=>{y===d.layers.size-1&&(r?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),jC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yC)}},[u,f,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),jC())},[u,d]),h.useEffect(()=>{const S=()=>x({});return document.addEventListener(jy,S),()=>document.removeEventListener(jy,S)},[]),s.jsx(Ae.div,{...c,ref:g,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,b.onPointerDownCapture)})});Ql.displayName=pU;var gU="DismissableLayerBranch",ak=h.forwardRef((e,t)=>{const n=h.useContext(rk),r=h.useRef(null),a=$e(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Ae.div,{...e,ref:a})});ak.displayName=gU;function vU(e,t=globalThis?.document){const n=Mt(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){ok(fU,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function yU(e,t=globalThis?.document){const n=Mt(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&ok(xU,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jC(){const e=new CustomEvent(jy);document.dispatchEvent(e)}function ok(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?c0(a,o):a.dispatchEvent(o)}var jU=Ql,wU=ak,is=globalThis?.document?h.useLayoutEffect:()=>{},NU="Portal",fu=h.forwardRef((e,t)=>{const{container:n,...r}=e,[a,o]=h.useState(!1);is(()=>o(!0),[]);const i=n||a&&globalThis?.document?.body;return i?i0.createPortal(s.jsx(Ae.div,{...r,ref:t}),i):null});fu.displayName=NU;function bU(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var ls=e=>{const{present:t,children:n}=e,r=SU(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=$e(r.ref,CU(a));return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};ls.displayName="Presence";function SU(e){const[t,n]=h.useState(),r=h.useRef({}),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=bU(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=bh(r.current);o.current=l==="mounted"?d:"none"},[l]),is(()=>{const d=r.current,u=a.current;if(u!==e){const f=o.current,x=bh(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),is(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=x=>{const p=bh(r.current).includes(x.animationName);if(x.target===t&&p&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=x=>{x.target===t&&(o.current=bh(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function bh(e){return e?.animationName||"none"}function CU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=EU({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=Mt(n),c=h.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[o,e,a,l]);return[i,c]}function EU({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,a=h.useRef(r),o=Mt(t);return h.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var TU="VisuallyHidden",xu=h.forwardRef((e,t)=>s.jsx(Ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xu.displayName=TU;var PU=xu,d0="ToastProvider",[u0,AU,kU]=ff("Toast"),[ik,lve]=Qs("Toast",[kU]),[DU,xf]=ik(d0),lk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),f=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${d0}\`. Expected non-empty \`string\`.`),s.jsx(u0.Provider,{scope:t,children:s.jsx(DU,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(x=>x+1),[]),onToastRemove:h.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:i})})};lk.displayName=d0;var ck="ToastViewport",MU=["F8"],wy="toast.viewportPause",Ny="toast.viewportResume",dk=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=MU,label:a="Notifications ({hotkey})",...o}=e,i=xf(ck,n),l=AU(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),f=$e(t,m,i.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;h.useEffect(()=>{const w=v=>{r.length!==0&&r.every(j=>v[j]||v.code===j)&&m.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=c.current,v=m.current;if(g&&w&&v){const y=()=>{if(!i.isClosePausedRef.current){const T=new CustomEvent(wy);v.dispatchEvent(T),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const T=new CustomEvent(Ny);v.dispatchEvent(T),i.isClosePausedRef.current=!1}},N=T=>{!w.contains(T.relatedTarget)&&j()},b=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",y),w.addEventListener("focusout",N),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",b),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[g,i.isClosePausedRef]);const p=h.useCallback(({tabbingDirection:w})=>{const y=l().map(j=>{const N=j.ref.current,b=[N,...qU(N)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const w=m.current;if(w){const v=y=>{const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const b=document.activeElement,T=y.shiftKey;if(y.target===w&&T){d.current?.focus();return}const M=p({tabbingDirection:T?"backwards":"forwards"}),L=M.findIndex(F=>F===b);ig(M.slice(L+1))?y.preventDefault():T?d.current?.focus():u.current?.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,p]),s.jsxs(wU,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(by,{ref:d,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});ig(w)}}),s.jsx(u0.Slot,{scope:n,children:s.jsx(Ae.ol,{tabIndex:-1,...o,ref:f})}),g&&s.jsx(by,{ref:u,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});ig(w)}})]})});dk.displayName=ck;var uk="ToastFocusProxy",by=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=xf(uk,n);return s.jsx(xu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{const l=i.relatedTarget;!o.viewport?.contains(l)&&r()}})});by.displayName=uk;var gf="Toast",RU="toast.swipeStart",FU="toast.swipeMove",OU="toast.swipeCancel",IU="toast.swipeEnd",hk=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Fn({prop:r,defaultProp:a,onChange:o});return s.jsx(ls,{present:n||l,children:s.jsx($U,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Mt(e.onPause),onResume:Mt(e.onResume),onSwipeStart:ye(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ye(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});hk.displayName=gf;var[LU,_U]=ik(gf,{onClose(){}}),$U=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:x,...g}=e,p=xf(gf,n),[w,v]=h.useState(null),y=$e(t,O=>v(O)),j=h.useRef(null),N=h.useRef(null),b=a||p.duration,T=h.useRef(0),S=h.useRef(b),A=h.useRef(0),{onToastAdd:M,onToastRemove:L}=p,F=Mt(()=>{w?.contains(document.activeElement)&&p.viewport?.focus(),i()}),I=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),T.current=new Date().getTime(),A.current=window.setTimeout(F,O))},[F]);h.useEffect(()=>{const O=p.viewport;if(O){const k=()=>{I(S.current),d?.()},C=()=>{const P=new Date().getTime()-T.current;S.current=S.current-P,window.clearTimeout(A.current),c?.()};return O.addEventListener(wy,C),O.addEventListener(Ny,k),()=>{O.removeEventListener(wy,C),O.removeEventListener(Ny,k)}}},[p.viewport,b,c,d,I]),h.useEffect(()=>{o&&!p.isClosePausedRef.current&&I(b)},[o,b,p.isClosePausedRef,I]),h.useEffect(()=>(M(),()=>L()),[M,L]);const U=h.useMemo(()=>w?yk(w):null,[w]);return p.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(VU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(LU,{scope:n,onClose:F,children:ar.createPortal(s.jsx(u0.ItemSlot,{scope:n,children:s.jsx(jU,{asChild:!0,onEscapeKeyDown:ye(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ye(e.onKeyDown,O=>{O.key==="Escape"&&(l?.(O.nativeEvent),O.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ye(e.onPointerDown,O=>{O.button===0&&(j.current={x:O.clientX,y:O.clientY})}),onPointerMove:ye(e.onPointerMove,O=>{if(!j.current)return;const k=O.clientX-j.current.x,C=O.clientY-j.current.y,P=!!N.current,R=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=R?$(0,k):0,_=R?0:$(0,C),B=O.pointerType==="touch"?10:2,W={x:H,y:_},te={originalEvent:O,delta:W};P?(N.current=W,Sh(FU,m,te,{discrete:!1})):wC(W,p.swipeDirection,B)?(N.current=W,Sh(RU,u,te,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(k)>B||Math.abs(C)>B)&&(j.current=null)}),onPointerUp:ye(e.onPointerUp,O=>{const k=N.current,C=O.target;if(C.hasPointerCapture(O.pointerId)&&C.releasePointerCapture(O.pointerId),N.current=null,j.current=null,k){const P=O.currentTarget,R={originalEvent:O,delta:k};wC(k,p.swipeDirection,p.swipeThreshold)?Sh(IU,x,R,{discrete:!0}):Sh(OU,f,R,{discrete:!0}),P.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),VU=e=>{const{__scopeToast:t,children:n,...r}=e,a=xf(gf,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return HU(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(fu,{asChild:!0,children:s.jsx(xu,{...r,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},UU="ToastTitle",mk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ae.div,{...r,ref:t})});mk.displayName=UU;var BU="ToastDescription",pk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ae.div,{...r,ref:t})});pk.displayName=BU;var fk="ToastAction",xk=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(vk,{altText:n,asChild:!0,children:s.jsx(h0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${fk}\`. Expected non-empty \`string\`.`),null)});xk.displayName=fk;var gk="ToastClose",h0=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=_U(gk,n);return s.jsx(vk,{asChild:!0,children:s.jsx(Ae.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,a.onClose)})})});h0.displayName=gk;var vk=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function yk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),zU(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...yk(r))}}),t}function Sh(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?c0(a,o):a.dispatchEvent(o)}var wC=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function HU(e=()=>{}){const t=Mt(e);is(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function zU(e){return e.nodeType===e.ELEMENT_NODE}function qU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ig(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var WU=lk,jk=dk,wk=hk,Nk=mk,bk=pk,Sk=xk,Ck=h0;function Ek(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ek(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tk(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ek(e))&&(r&&(r+=" "),r+=t);return r}const NC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bC=Tk,pi=(e,t)=>n=>{var r;if(t?.variants==null)return bC(e,n?.class,n?.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=n?.[d],m=o?.[d];if(u===null)return null;const f=NC(u)||NC(m);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,f]=u;return f===void 0||(d[m]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:f,...x}=u;return Object.entries(x).every(g=>{let[p,w]=g;return Array.isArray(w)?w.includes({...o,...l}[p]):{...o,...l}[p]===w})?[...d,m,f]:d},[]);return bC(e,i,c,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...XU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Pk("lucide",a),...l},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=h.forwardRef(({className:r,...a},o)=>h.createElement(KU,{ref:o,iconNode:t,className:Pk(`lucide-${YU(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=pe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=pe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=pe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=pe("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=pe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=pe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=pe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=pe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=pe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=pe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=pe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=pe("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=pe("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=pe("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=pe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=pe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=pe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=pe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=pe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=pe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=pe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=pe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=pe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=pe("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=pe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=pe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=pe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=pe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=pe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=pe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=pe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=pe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=pe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=pe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=pe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),g0="-",C8=e=>{const t=T8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(g0);return l[0]===""&&l.length!==1&&l.shift(),Uk(l,t)||E8(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Uk=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?Uk(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(g0);return t.validators.find(({validator:i})=>i(o))?.classGroupId},DC=/^\[(.+)\]$/,E8=e=>{if(DC.test(e)){const t=DC.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},T8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return A8(Object.entries(e.classGroups),n).forEach(([o,i])=>{Py(i,r,o,t)}),r},Py=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:MC(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(P8(a)){Py(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,i])=>{Py(i,MC(t,o),n,r)})})},MC=(e,t)=>{let n=e;return t.split(g0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},P8=e=>e.isThemeGetter,A8=(e,t)=>t?e.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,a]}):e,k8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){n.has(o)?n.set(o,i):a(o,i)}}},Bk="!",D8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,m;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===a&&(r||l.slice(w,w+o)===t)){c.push(l.slice(u,w)),u=w+o;continue}if(v==="/"){m=w;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),x=f.startsWith(Bk),g=x?f.substring(1):f,p=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:i}):i},M8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},R8=e=>({cache:k8(e.cacheSize),parseClassName:D8(e),...C8(e)}),F8=/\s+/,O8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(F8);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:x}=n(d);let g=!!x,p=r(g?f.substring(0,x):f);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=M8(u).join(":"),v=m?w+Bk:w,y=v+p;if(o.includes(y))continue;o.push(y);const j=a(p,g);for(let N=0;N<j.length;++N){const b=j[N];o.push(v+b)}l=d+(l.length>0?" "+l:l)}return l};function I8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Hk(t))&&(r&&(r+=" "),r+=n);return r}const Hk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hk(e[r]))&&(n&&(n+=" "),n+=t);return n};function L8(e,...t){let n,r,a,o=i;function i(c){const d=t.reduce((u,m)=>m(u),e());return n=R8(d),r=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=O8(c,n);return a(c,u),u}return function(){return o(I8.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},zk=/^\[(?:([a-z-]+):)?(.+)\]$/i,_8=/^\d+\/\d+$/,$8=new Set(["px","full","screen"]),V8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,H8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=e=>ml(e)||$8.has(e)||_8.test(e),ya=e=>tc(e,"length",Q8),ml=e=>!!e&&!Number.isNaN(Number(e)),dg=e=>tc(e,"number",ml),Ac=e=>!!e&&Number.isInteger(Number(e)),q8=e=>e.endsWith("%")&&ml(e.slice(0,-1)),He=e=>zk.test(e),ja=e=>V8.test(e),W8=new Set(["length","size","percentage"]),Y8=e=>tc(e,W8,qk),X8=e=>tc(e,"position",qk),K8=new Set(["image","url"]),G8=e=>tc(e,K8,eB),J8=e=>tc(e,"",Z8),kc=()=>!0,tc=(e,t,n)=>{const r=zk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Q8=e=>U8.test(e)&&!B8.test(e),qk=()=>!1,Z8=e=>H8.test(e),eB=e=>z8.test(e),tB=()=>{const e=St("colors"),t=St("spacing"),n=St("blur"),r=St("brightness"),a=St("borderColor"),o=St("borderRadius"),i=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),d=St("grayscale"),u=St("hueRotate"),m=St("invert"),f=St("gap"),x=St("gradientColorStops"),g=St("gradientColorStopPositions"),p=St("inset"),w=St("margin"),v=St("opacity"),y=St("padding"),j=St("saturate"),N=St("scale"),b=St("sepia"),T=St("skew"),S=St("space"),A=St("translate"),M=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",He,t],I=()=>[He,t],U=()=>["",Lr,ya],O=()=>["auto",ml,He],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",He],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[ml,He];return{cacheSize:500,separator:":",theme:{colors:[kc],spacing:[Lr,ya],blur:["none","",ja,He],brightness:_(),borderColor:[e],borderRadius:["none","","full",ja,He],borderSpacing:I(),borderWidth:U(),contrast:_(),grayscale:$(),hueRotate:_(),invert:$(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[q8,ya],inset:F(),margin:F(),opacity:_(),padding:I(),saturate:_(),scale:_(),sepia:$(),skew:_(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),He]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ac,He]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ac,He]}],"grid-cols":[{"grid-cols":[kc]}],"col-start-end":[{col:["auto",{span:["full",Ac,He]},He]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[kc]}],"row-start-end":[{row:["auto",{span:[Ac,He]},He]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,t]}],"min-w":[{"min-w":[He,t,"min","max","fit"]}],"max-w":[{"max-w":[He,t,"none","full","min","max","fit","prose",{screen:[ja]},ja]}],h:[{h:[He,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ja,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dg]}],"font-family":[{font:[kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",ml,dg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,ya]}],"underline-offset":[{"underline-offset":["auto",Lr,He]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),X8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:C()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[Lr,He]}],"outline-w":[{outline:[Lr,ya]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lr,ya]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ja,J8]}],"shadow-color":[{shadow:[kc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ja,He]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ac,He]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lr,ya,dg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sB=L8(tB);function re(...e){return sB(Tk(e))}const nB=WU,Wk=h.forwardRef(({className:e,...t},n)=>s.jsx(jk,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Wk.displayName=jk.displayName;const rB=pi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yk=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(wk,{ref:r,className:re(rB({variant:t}),e),...n}));Yk.displayName=wk.displayName;const aB=h.forwardRef(({className:e,...t},n)=>s.jsx(Sk,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));aB.displayName=Sk.displayName;const Xk=h.forwardRef(({className:e,...t},n)=>s.jsx(Ck,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(vt,{className:"h-4 w-4"})}));Xk.displayName=Ck.displayName;const Kk=h.forwardRef(({className:e,...t},n)=>s.jsx(Nk,{ref:n,className:re("text-sm font-semibold",e),...t}));Kk.displayName=Nk.displayName;const Gk=h.forwardRef(({className:e,...t},n)=>s.jsx(bk,{ref:n,className:re("text-sm opacity-90",e),...t}));Gk.displayName=bk.displayName;function oB(){const{toasts:e}=Be();return s.jsxs(nB,{children:[e.map(function({id:t,title:n,description:r,action:a,...o}){return s.jsxs(Yk,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Kk,{children:n}),r&&s.jsx(Gk,{children:r})]}),a,s.jsx(Xk,{})]},t)}),s.jsx(Wk,{})]})}var iB=du.useId||(()=>{}),lB=0;function An(e){const[t,n]=h.useState(iB());return is(()=>{n(r=>r??String(lB++))},[e]),t?`radix-${t}`:""}const cB=["top","right","bottom","left"],to=Math.min,an=Math.max,rp=Math.round,Ch=Math.floor,so=e=>({x:e,y:e}),dB={left:"right",right:"left",bottom:"top",top:"bottom"},uB={start:"end",end:"start"};function Ay(e,t,n){return an(e,to(t,n))}function na(e,t){return typeof e=="function"?e(t):e}function ra(e){return e.split("-")[0]}function sc(e){return e.split("-")[1]}function v0(e){return e==="x"?"y":"x"}function y0(e){return e==="y"?"height":"width"}function no(e){return["top","bottom"].includes(ra(e))?"y":"x"}function j0(e){return v0(no(e))}function hB(e,t,n){n===void 0&&(n=!1);const r=sc(e),a=j0(e),o=y0(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ap(i)),[i,ap(i)]}function mB(e){const t=ap(e);return[ky(e),t,ky(t)]}function ky(e){return e.replace(/start|end/g,t=>uB[t])}function pB(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}function fB(e,t,n,r){const a=sc(e);let o=pB(ra(e),n==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(ky)))),o}function ap(e){return e.replace(/left|right|bottom|top/g,t=>dB[t])}function xB(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jk(e){return typeof e!="number"?xB(e):{top:e,right:e,bottom:e,left:e}}function op(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function RC(e,t,n){let{reference:r,floating:a}=e;const o=no(t),i=j0(t),l=y0(i),c=ra(t),d=o==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-a.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-a.width,y:m};break;default:x={x:r.x,y:r.y}}switch(sc(t)){case"start":x[i]-=f*(n&&d?-1:1);break;case"end":x[i]+=f*(n&&d?-1:1);break}return x}const gB=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=RC(d,r,c),f=r,x={},g=0;for(let p=0;p<l.length;p++){const{name:w,fn:v}=l[p],{x:y,y:j,data:N,reset:b}=await v({x:u,y:m,initialPlacement:r,placement:f,strategy:a,middlewareData:x,rects:d,platform:i,elements:{reference:e,floating:t}});u=y??u,m=j??m,x={...x,[w]:{...x[w],...N}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(d=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:m}=RC(d,f,c)),p=-1)}return{x:u,y:m,placement:f,strategy:a,middlewareData:x}};async function Od(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:f=!1,padding:x=0}=na(t,e),g=Jk(x),w=l[f?m==="floating"?"reference":"floating":m],v=op(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},b=op(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(v.top-b.top+g.top)/N.y,bottom:(b.bottom-v.bottom+g.bottom)/N.y,left:(v.left-b.left+g.left)/N.x,right:(b.right-v.right+g.right)/N.x}}const vB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=na(e,t)||{};if(d==null)return{};const m=Jk(u),f={x:n,y:r},x=j0(a),g=y0(x),p=await i.getDimensions(d),w=x==="y",v=w?"top":"left",y=w?"bottom":"right",j=w?"clientHeight":"clientWidth",N=o.reference[g]+o.reference[x]-f[x]-o.floating[g],b=f[x]-o.reference[x],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let S=T?T[j]:0;(!S||!await(i.isElement==null?void 0:i.isElement(T)))&&(S=l.floating[j]||o.floating[g]);const A=N/2-b/2,M=S/2-p[g]/2-1,L=to(m[v],M),F=to(m[y],M),I=L,U=S-p[g]-F,O=S/2-p[g]/2+A,k=Ay(I,O,U),C=!c.arrow&&sc(a)!=null&&O!==k&&o.reference[g]/2-(O<I?L:F)-p[g]/2<0,P=C?O<I?O-I:O-U:0;return{[x]:f[x]+P,data:{[x]:k,centerOffset:O-k-P,...C&&{alignmentOffset:P}},reset:C}}}),yB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...w}=na(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=ra(a),y=no(l),j=ra(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=f||(j||!p?[ap(l)]:mB(l)),T=g!=="none";!f&&T&&b.push(...fB(l,p,g,N));const S=[l,...b],A=await Od(t,w),M=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&M.push(A[v]),m){const O=hB(a,i,N);M.push(A[O[0]],A[O[1]])}if(L=[...L,{placement:a,overflows:M}],!M.every(O=>O<=0)){var F,I;const O=(((F=o.flip)==null?void 0:F.index)||0)+1,k=S[O];if(k)return{data:{index:O,overflows:L},reset:{placement:k}};let C=(I=L.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!C)switch(x){case"bestFit":{var U;const P=(U=L.filter(R=>{if(T){const $=no(R.placement);return $===y||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:U[0];P&&(C=P);break}case"initialPlacement":C=l;break}if(a!==C)return{reset:{placement:C}}}return{}}}};function FC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function OC(e){return cB.some(t=>e[t]>=0)}const jB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=na(e,t);switch(r){case"referenceHidden":{const o=await Od(t,{...a,elementContext:"reference"}),i=FC(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:OC(i)}}}case"escaped":{const o=await Od(t,{...a,altBoundary:!0}),i=FC(o,n.floating);return{data:{escapedOffsets:i,escaped:OC(i)}}}default:return{}}}}};async function wB(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=ra(n),l=sc(n),c=no(n)==="y",d=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,m=na(t,e);let{mainAxis:f,crossAxis:x,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*u,y:f*d}:{x:f*d,y:x*u}}const NB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await wB(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},bB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...c}=na(e,t),d={x:n,y:r},u=await Od(t,c),m=no(ra(a)),f=v0(m);let x=d[f],g=d[m];if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=x+u[w],j=x-u[v];x=Ay(y,x,j)}if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=g+u[w],j=g-u[v];g=Ay(y,g,j)}const p=l.fn({...t,[f]:x,[m]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:o,[m]:i}}}}}},SB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=na(e,t),u={x:n,y:r},m=no(a),f=v0(m);let x=u[f],g=u[m];const p=na(l,t),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",N=o.reference[f]-o.floating[j]+w.mainAxis,b=o.reference[f]+o.reference[j]-w.mainAxis;x<N?x=N:x>b&&(x=b)}if(d){var v,y;const j=f==="y"?"width":"height",N=["top","left"].includes(ra(a)),b=o.reference[m]-o.floating[j]+(N&&((v=i.offset)==null?void 0:v[m])||0)+(N?0:w.crossAxis),T=o.reference[m]+o.reference[j]+(N?0:((y=i.offset)==null?void 0:y[m])||0)-(N?w.crossAxis:0);g<b?g=b:g>T&&(g=T)}return{[f]:x,[m]:g}}}},CB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=na(e,t),u=await Od(t,d),m=ra(a),f=sc(a),x=no(a)==="y",{width:g,height:p}=o.floating;let w,v;m==="top"||m==="bottom"?(w=m,v=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,w=f==="end"?"top":"bottom");const y=p-u.top-u.bottom,j=g-u.left-u.right,N=to(p-u[w],y),b=to(g-u[v],j),T=!t.middlewareData.shift;let S=N,A=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),T&&!f){const L=an(u.left,0),F=an(u.right,0),I=an(u.top,0),U=an(u.bottom,0);x?A=g-2*(L!==0||F!==0?L+F:an(u.left,u.right)):S=p-2*(I!==0||U!==0?I+U:an(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:S});const M=await i.getDimensions(l.floating);return g!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function jf(){return typeof window<"u"}function nc(e){return Qk(e)?(e.nodeName||"").toLowerCase():"#document"}function un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kr(e){var t;return(t=(Qk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qk(e){return jf()?e instanceof Node||e instanceof un(e).Node:!1}function er(e){return jf()?e instanceof Element||e instanceof un(e).Element:!1}function Tr(e){return jf()?e instanceof HTMLElement||e instanceof un(e).HTMLElement:!1}function IC(e){return!jf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof un(e).ShadowRoot}function ju(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function EB(e){return["table","td","th"].includes(nc(e))}function wf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function w0(e){const t=N0(),n=er(e)?tr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TB(e){let t=ro(e);for(;Tr(t)&&!kl(t);){if(w0(t))return t;if(wf(t))return null;t=ro(t)}return null}function N0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kl(e){return["html","body","#document"].includes(nc(e))}function tr(e){return un(e).getComputedStyle(e)}function Nf(e){return er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ro(e){if(nc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IC(e)&&e.host||kr(e);return IC(t)?t.host:t}function Zk(e){const t=ro(e);return kl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tr(t)&&ju(t)?t:Zk(t)}function Id(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Zk(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=un(a);if(o){const l=Dy(i);return t.concat(i,i.visualViewport||[],ju(a)?a:[],l&&n?Id(l):[])}return t.concat(a,Id(a,[],n))}function Dy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eD(e){const t=tr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Tr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,l=rp(n)!==o||rp(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function b0(e){return er(e)?e:e.contextElement}function pl(e){const t=b0(e);if(!Tr(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=eD(t);let i=(o?rp(n.width):n.width)/r,l=(o?rp(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const PB=so(0);function tD(e){const t=un(e);return!N0()||!t.visualViewport?PB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==un(e)?!1:t}function Qo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=b0(e);let i=so(1);t&&(r?er(r)&&(i=pl(r)):i=pl(e));const l=AB(o,n,r)?tD(o):so(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const f=un(o),x=r&&er(r)?un(r):r;let g=f,p=Dy(g);for(;p&&r&&x!==g;){const w=pl(p),v=p.getBoundingClientRect(),y=tr(p),j=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*w.x,N=v.top+(p.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,m*=w.y,c+=j,d+=N,g=un(p),p=Dy(g)}}return op({width:u,height:m,x:c,y:d})}function kB(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=kr(r),l=t?wf(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=so(1);const u=so(0),m=Tr(r);if((m||!m&&!o)&&((nc(r)!=="body"||ju(i))&&(c=Nf(r)),Tr(r))){const f=Qo(r);d=pl(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function DB(e){return Array.from(e.getClientRects())}function My(e,t){const n=Nf(e).scrollLeft;return t?t.left+n:Qo(kr(e)).left+n}function MB(e){const t=kr(e),n=Nf(e),r=e.ownerDocument.body,a=an(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=an(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+My(e);const l=-n.scrollTop;return tr(r).direction==="rtl"&&(i+=an(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function RB(e,t){const n=un(e),r=kr(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const d=N0();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function FB(e,t){const n=Qo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Tr(e)?pl(e):so(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function LC(e,t,n){let r;if(t==="viewport")r=RB(e,n);else if(t==="document")r=MB(kr(e));else if(er(t))r=FB(t,n);else{const a=tD(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return op(r)}function sD(e,t){const n=ro(e);return n===t||!er(n)||kl(n)?!1:tr(n).position==="fixed"||sD(n,t)}function OB(e,t){const n=t.get(e);if(n)return n;let r=Id(e,[],!1).filter(l=>er(l)&&nc(l)!=="body"),a=null;const o=tr(e).position==="fixed";let i=o?ro(e):e;for(;er(i)&&!kl(i);){const l=tr(i),c=w0(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ju(i)&&!c&&sD(e,i))?r=r.filter(u=>u!==i):a=l,i=ro(i)}return t.set(e,r),r}function IB(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[...n==="clippingAncestors"?wf(t)?[]:OB(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((d,u)=>{const m=LC(t,u,a);return d.top=an(m.top,d.top),d.right=to(m.right,d.right),d.bottom=to(m.bottom,d.bottom),d.left=an(m.left,d.left),d},LC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LB(e){const{width:t,height:n}=eD(e);return{width:t,height:n}}function _B(e,t,n){const r=Tr(t),a=kr(t),o=n==="fixed",i=Qo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=so(0);if(r||!r&&!o)if((nc(t)!=="body"||ju(a))&&(l=Nf(t)),r){const x=Qo(t,!0,o,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=My(a));let d=0,u=0;if(a&&!r&&!o){const x=a.getBoundingClientRect();u=x.top+l.scrollTop,d=x.left+l.scrollLeft-My(a,x)}const m=i.left+l.scrollLeft-c.x-d,f=i.top+l.scrollTop-c.y-u;return{x:m,y:f,width:i.width,height:i.height}}function ug(e){return tr(e).position==="static"}function _C(e,t){if(!Tr(e)||tr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kr(e)===n&&(n=n.ownerDocument.body),n}function nD(e,t){const n=un(e);if(wf(e))return n;if(!Tr(e)){let a=ro(e);for(;a&&!kl(a);){if(er(a)&&!ug(a))return a;a=ro(a)}return n}let r=_C(e,t);for(;r&&EB(r)&&ug(r);)r=_C(r,t);return r&&kl(r)&&ug(r)&&!w0(r)?n:r||TB(e)||n}const $B=async function(e){const t=this.getOffsetParent||nD,n=this.getDimensions,r=await n(e.floating);return{reference:_B(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VB(e){return tr(e).direction==="rtl"}const UB={convertOffsetParentRelativeRectToViewportRelativeRect:kB,getDocumentElement:kr,getClippingRect:IB,getOffsetParent:nD,getElementRects:$B,getClientRects:DB,getDimensions:LB,getScale:pl,isElement:er,isRTL:VB};function BB(e,t){let n=null,r;const a=kr(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:u,width:m,height:f}=e.getBoundingClientRect();if(l||t(),!m||!f)return;const x=Ch(u),g=Ch(a.clientWidth-(d+m)),p=Ch(a.clientHeight-(u+f)),w=Ch(d),y={rootMargin:-x+"px "+-g+"px "+-p+"px "+-w+"px",threshold:an(0,to(1,c))||1};let j=!0;function N(b){const T=b[0].intersectionRatio;if(T!==c){if(!j)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j=!1}try{n=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,y)}n.observe(e)}return i(!0),o}function rD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=b0(e),u=a||o?[...d?Id(d):[],...Id(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const m=d&&l?BB(d,n):null;let f=-1,x=null;i&&(x=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=x)==null||j.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let g,p=c?Qo(e):null;c&&w();function w(){const v=Qo(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,g=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(y=>{a&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),m?.(),(v=x)==null||v.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const HB=NB,zB=bB,qB=yB,WB=CB,YB=jB,$C=vB,XB=SB,KB=(e,t,n)=>{const r=new Map,a={platform:UB,...n},o={...a.platform,_c:r};return gB(e,t,{...a,platform:o})};var xm=typeof document<"u"?h.useLayoutEffect:h.useEffect;function ip(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ip(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!ip(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function aD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function VC(e,t){const n=aD(e);return Math.round(t*n)/n}function hg(e){const t=h.useRef(e);return xm(()=>{t.current=e}),t}function oD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,x]=h.useState(r);ip(f,r)||x(r);const[g,p]=h.useState(null),[w,v]=h.useState(null),y=h.useCallback(R=>{R!==T.current&&(T.current=R,p(R))},[]),j=h.useCallback(R=>{R!==S.current&&(S.current=R,v(R))},[]),N=o||g,b=i||w,T=h.useRef(null),S=h.useRef(null),A=h.useRef(u),M=c!=null,L=hg(c),F=hg(a),I=hg(d),U=h.useCallback(()=>{if(!T.current||!S.current)return;const R={placement:t,strategy:n,middleware:f};F.current&&(R.platform=F.current),KB(T.current,S.current,R).then($=>{const H={...$,isPositioned:I.current!==!1};O.current&&!ip(A.current,H)&&(A.current=H,ar.flushSync(()=>{m(H)}))})},[f,t,n,F,I]);xm(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[d]);const O=h.useRef(!1);xm(()=>(O.current=!0,()=>{O.current=!1}),[]),xm(()=>{if(N&&(T.current=N),b&&(S.current=b),N&&b){if(L.current)return L.current(N,b,U);U()}},[N,b,U,L,M]);const k=h.useMemo(()=>({reference:T,floating:S,setReference:y,setFloating:j}),[y,j]),C=h.useMemo(()=>({reference:N,floating:b}),[N,b]),P=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!C.floating)return R;const $=VC(C.floating,u.x),H=VC(C.floating,u.y);return l?{...R,transform:"translate("+$+"px, "+H+"px)",...aD(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:H}},[n,l,C.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:U,refs:k,elements:C,floatingStyles:P}),[u,U,k,C,P])}const GB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$C({element:r.current,padding:a}).fn(n):{}:r?$C({element:r,padding:a}).fn(n):{}}}},iD=(e,t)=>({...HB(e),options:[e,t]}),lD=(e,t)=>({...zB(e),options:[e,t]}),cD=(e,t)=>({...XB(e),options:[e,t]}),dD=(e,t)=>({...qB(e),options:[e,t]}),uD=(e,t)=>({...WB(e),options:[e,t]}),hD=(e,t)=>({...YB(e),options:[e,t]}),mD=(e,t)=>({...GB(e),options:[e,t]});var JB="Arrow",pD=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(Ae.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});pD.displayName=JB;var QB=pD;function ZB(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:f,children:x,...g}=m,p=f?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function u(m,f){const x=f?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,eH(a,...t)]}function eH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function bf(e){const[t,n]=h.useState(void 0);return is(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var S0="Popper",[fD,rc]=ZB(S0),[tH,xD]=fD(S0),gD=e=>{const{__scopePopper:t,children:n}=e,[r,a]=h.useState(null);return s.jsx(tH,{scope:t,anchor:r,onAnchorChange:a,children:n})};gD.displayName=S0;var vD="PopperAnchor",yD=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=xD(vD,n),i=h.useRef(null),l=$e(t,i);return h.useEffect(()=>{o.onAnchorChange(r?.current||i.current)}),r?null:s.jsx(Ae.div,{...a,ref:l})});yD.displayName=vD;var C0="PopperContent",[sH,nH]=fD(C0),jD=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,w=xD(C0,n),[v,y]=h.useState(null),j=$e(t,Q=>y(Q)),[N,b]=h.useState(null),T=bf(N),S=T?.width??0,A=T?.height??0,M=r+(o!=="center"?"-"+o:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],I=F.length>0,U={padding:L,boundary:F.filter(aH),altBoundary:I},{refs:O,floatingStyles:k,placement:C,isPositioned:P,middlewareData:R}=oD({strategy:"fixed",placement:M,whileElementsMounted:(...Q)=>rD(...Q,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[iD({mainAxis:a+A,alignmentAxis:i}),c&&lD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?cD():void 0,...U}),c&&dD({...U}),uD({...U,apply:({elements:Q,rects:ie,availableWidth:ge,availableHeight:Se})=>{const{width:Te,height:Ne}=ie.reference,de=Q.floating.style;de.setProperty("--radix-popper-available-width",`${ge}px`),de.setProperty("--radix-popper-available-height",`${Se}px`),de.setProperty("--radix-popper-anchor-width",`${Te}px`),de.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),N&&mD({element:N,padding:l}),oH({arrowWidth:S,arrowHeight:A}),f&&hD({strategy:"referenceHidden",...U})]}),[$,H]=bD(C),_=Mt(g);is(()=>{P&&_?.()},[P,_]);const B=R.arrow?.x,W=R.arrow?.y,te=R.arrow?.centerOffset!==0,[le,ue]=h.useState();return is(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:P?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(sH,{scope:n,placedSide:$,onArrowChange:b,arrowX:B,arrowY:W,shouldHideArrow:te,children:s.jsx(Ae.div,{"data-side":$,"data-align":H,...p,ref:j,style:{...p.style,animation:P?void 0:"none"}})})})});jD.displayName=C0;var wD="PopperArrow",rH={top:"bottom",right:"left",bottom:"top",left:"right"},ND=h.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=nH(wD,r),i=rH[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(QB,{...a,ref:n,style:{...a.style,display:"block"}})})});ND.displayName=wD;function aH(e){return e!==null}var oH=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=bD(n),m={start:"0%",center:"50%",end:"100%"}[u],f=(a.arrow?.x??0)+l/2,x=(a.arrow?.y??0)+c/2;let g="",p="";return d==="bottom"?(g=i?m:`${f}px`,p=`${-c}px`):d==="top"?(g=i?m:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=i?m:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,p=i?m:`${x}px`),{data:{x:g,y:p}}}});function bD(e){const[t,n="center"]=e.split("-");return[t,n]}var E0=gD,T0=yD,P0=jD,A0=ND,[Sf,cve]=Qs("Tooltip",[rc]),Cf=rc(),SD="TooltipProvider",iH=700,Ry="tooltip.open",[lH,k0]=Sf(SD),CD=e=>{const{__scopeTooltip:t,delayDuration:n=iH,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=h.useState(!0),c=h.useRef(!1),d=h.useRef(0);return h.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(lH,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:o})};CD.displayName=SD;var Ef="Tooltip",[cH,Tf]=Sf(Ef),ED=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=k0(Ef,e.__scopeTooltip),d=Cf(t),[u,m]=h.useState(null),f=An(),x=h.useRef(0),g=i??c.disableHoverableContent,p=l??c.delayDuration,w=h.useRef(!1),[v=!1,y]=Fn({prop:r,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ry))):c.onClose(),o?.(S)}}),j=h.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),N=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,y(!0)},[y]),b=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y(!1)},[y]),T=h.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,y(!0),x.current=0},p)},[p,y]);return h.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(E0,{...d,children:s.jsx(cH,{scope:t,contentId:f,open:v,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayed?T():N()},[c.isOpenDelayed,T,N]),onTriggerLeave:h.useCallback(()=>{g?b():(window.clearTimeout(x.current),x.current=0)},[b,g]),onOpen:N,onClose:b,disableHoverableContent:g,children:n})})};ED.displayName=Ef;var Fy="TooltipTrigger",TD=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Tf(Fy,n),o=k0(Fy,n),i=Cf(n),l=h.useRef(null),c=$e(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(T0,{asChild:!0,...i,children:s.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ye(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ye(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ye(e.onBlur,a.onClose),onClick:ye(e.onClick,a.onClose)})})});TD.displayName=Fy;var dH="TooltipPortal",[dve,uH]=Sf(dH,{forceMount:void 0}),Dl="TooltipContent",PD=h.forwardRef((e,t)=>{const n=uH(Dl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,i=Tf(Dl,e.__scopeTooltip);return s.jsx(ls,{present:r||i.open,children:i.disableHoverableContent?s.jsx(AD,{side:a,...o,ref:t}):s.jsx(hH,{side:a,...o,ref:t})})}),hH=h.forwardRef((e,t)=>{const n=Tf(Dl,e.__scopeTooltip),r=k0(Dl,e.__scopeTooltip),a=h.useRef(null),o=$e(t,a),[i,l]=h.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=r,f=h.useCallback(()=>{l(null),m(!1)},[m]),x=h.useCallback((g,p)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},y=xH(v,w.getBoundingClientRect()),j=gH(v,y),N=vH(p.getBoundingClientRect()),b=jH([...j,...N]);l(b),m(!0)},[m]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(c&&u){const g=w=>x(w,u),p=w=>x(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,x,f]),h.useEffect(()=>{if(i){const g=p=>{const w=p.target,v={x:p.clientX,y:p.clientY},y=c?.contains(w)||u?.contains(w),j=!yH(v,i);y?f():j&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,i,d,f]),s.jsx(AD,{...e,ref:o})}),[mH,pH]=Sf(Ef,{isInside:!1}),AD=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Tf(Dl,n),d=Cf(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Ry,u),()=>document.removeEventListener(Ry,u)),[u]),h.useEffect(()=>{if(c.trigger){const m=f=>{f.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(P0,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(l0,{children:r}),s.jsx(mH,{scope:n,isInside:!0,children:s.jsx(PU,{id:c.contentId,role:"tooltip",children:a||r})})]})})});PD.displayName=Dl;var kD="TooltipArrow",fH=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Cf(n);return pH(kD,n).isInside?null:s.jsx(A0,{...a,...r,ref:t})});fH.displayName=kD;function xH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function vH(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function yH(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function jH(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wH(t)}function wH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var NH=CD,bH=ED,SH=TD,DD=PD;const MD=NH,CH=bH,EH=SH,RD=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(DD,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));RD.displayName=DD.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ld.apply(this,arguments)}var La;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(La||(La={}));const UC="popstate";function TH(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Oy("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:lp(a)}return AH(t,n,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PH(){return Math.random().toString(36).substr(2,8)}function BC(e,t){return{usr:e.state,key:e.key,idx:t}}function Oy(e,t,n,r){return n===void 0&&(n=null),Ld({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ac(t):t,{state:n,key:t&&t.key||r||PH()})}function lp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ac(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AH(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=La.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Ld({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=La.Pop;let w=u(),v=w==null?null:w-d;d=w,c&&c({action:l,location:p.location,delta:v})}function f(w,v){l=La.Push;let y=Oy(p.location,w,v);d=u()+1;let j=BC(y,d),N=p.createHref(y);try{i.pushState(j,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}o&&c&&c({action:l,location:p.location,delta:1})}function x(w,v){l=La.Replace;let y=Oy(p.location,w,v);d=u();let j=BC(y,d),N=p.createHref(y);i.replaceState(j,"",N),o&&c&&c({action:l,location:p.location,delta:0})}function g(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof w=="string"?w:lp(w);return y=y.replace(/ $/,"%20"),Ot(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(UC,m),c=w,()=>{a.removeEventListener(UC,m),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:x,go(w){return i.go(w)}};return p}var HC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HC||(HC={}));function kH(e,t,n){return n===void 0&&(n="/"),DH(e,t,n,!1)}function DH(e,t,n,r){let a=typeof t=="string"?ac(t):t,o=Ml(a.pathname||"/",n);if(o==null)return null;let i=OD(e);MH(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=HH(o);l=UH(i[c],d,r)}return l}function OD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Wa([r,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(Ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),OD(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:$H(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of ID(o.path))a(o,i,c)}),t}function ID(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=ID(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function MH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RH=/^:[\w-]+$/,FH=3,OH=2,IH=1,LH=10,_H=-2,zC=e=>e==="*";function $H(e,t){let n=e.split("/"),r=n.length;return n.some(zC)&&(r+=_H),t&&(r+=OH),n.filter(a=>!zC(a)).reduce((a,o)=>a+(RH.test(o)?FH:o===""?IH:LH),r)}function VH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function UH(e,t,n){let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=cp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=cp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Wa([o,m.pathname]),pathnameBase:YH(Wa([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=Wa([o,m.pathnameBase]))}return i}function cp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=BH(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let p=l[m]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[m];return x&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function BH(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),FD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function HH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return FD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ml(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function zH(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ac(e):e;return{pathname:n?n.startsWith("/")?n:qH(n,t):t,search:XH(r),hash:KH(a)}}function qH(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function D0(e,t){let n=WH(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function M0(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ac(e):(a=Ld({},e),Ot(!a.pathname||!a.pathname.includes("?"),mg("?","pathname","search",a)),Ot(!a.pathname||!a.pathname.includes("#"),mg("#","pathname","hash",a)),Ot(!a.search||!a.search.includes("#"),mg("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=n;else{let m=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=zH(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Wa=e=>e.join("/").replace(/\/\/+/g,"/"),YH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LD=["post","put","patch","delete"];new Set(LD);const JH=["get",...LD];new Set(JH);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_d.apply(this,arguments)}const Pf=h.createContext(null),_D=h.createContext(null),pa=h.createContext(null),Af=h.createContext(null),Dr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),$D=h.createContext(null);function QH(e,t){let{relative:n}=t===void 0?{}:t;oc()||Ot(!1);let{basename:r,navigator:a}=h.useContext(pa),{hash:o,pathname:i,search:l}=kf(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Wa([r,i])),a.createHref({pathname:c,search:l,hash:o})}function oc(){return h.useContext(Af)!=null}function Zs(){return oc()||Ot(!1),h.useContext(Af).location}function VD(e){h.useContext(pa).static||h.useLayoutEffect(e)}function Ls(){let{isDataRoute:e}=h.useContext(Dr);return e?mz():ZH()}function ZH(){oc()||Ot(!1);let e=h.useContext(Pf),{basename:t,future:n,navigator:r}=h.useContext(pa),{matches:a}=h.useContext(Dr),{pathname:o}=Zs(),i=JSON.stringify(D0(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return VD(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=M0(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Wa([t,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[t,r,i,o,e])}const ez=h.createContext(null);function tz(e){let t=h.useContext(Dr).outlet;return t&&h.createElement(ez.Provider,{value:e},t)}function R0(){let{matches:e}=h.useContext(Dr),t=e[e.length-1];return t?t.params:{}}function kf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(pa),{matches:a}=h.useContext(Dr),{pathname:o}=Zs(),i=JSON.stringify(D0(a,r.v7_relativeSplatPath));return h.useMemo(()=>M0(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function sz(e,t){return nz(e,t)}function nz(e,t,n,r){oc()||Ot(!1);let{navigator:a}=h.useContext(pa),{matches:o}=h.useContext(Dr),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Zs(),u;if(t){var m;let w=typeof t=="string"?ac(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Ot(!1),u=w}else u=d;let f=u.pathname||"/",x=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=kH(e,{pathname:x}),p=lz(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Wa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Wa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&p?h.createElement(Af.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:La.Pop}},p):p}function rz(){let e=hz(),t=GH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,null)}const az=h.createElement(rz,null);class oz extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Dr.Provider,{value:this.props.routeContext},h.createElement($D.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iz(e){let{routeContext:t,match:n,children:r}=e,a=h.useContext(Pf);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Dr.Provider,{value:t},r)}function lz(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);u>=0||Ot(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:x}=n,g=m.route.loader&&f[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,f)=>{let x,g=!1,p=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,p=m.route.errorElement||az,c&&(d<0&&f===0?(g=!0,w=null):d===f&&(g=!0,w=m.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),y=()=>{let j;return x?j=p:g?j=w:m.route.Component?j=h.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,h.createElement(iz,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?h.createElement(oz,{location:n.location,revalidation:n.revalidation,component:p,error:x,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var UD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UD||{}),dp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dp||{});function cz(e){let t=h.useContext(Pf);return t||Ot(!1),t}function dz(e){let t=h.useContext(_D);return t||Ot(!1),t}function uz(e){let t=h.useContext(Dr);return t||Ot(!1),t}function BD(e){let t=uz(),n=t.matches[t.matches.length-1];return n.route.id||Ot(!1),n.route.id}function hz(){var e;let t=h.useContext($D),n=dz(dp.UseRouteError),r=BD(dp.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mz(){let{router:e}=cz(UD.UseNavigateStable),t=BD(dp.UseNavigateStable),n=h.useRef(!1);return VD(()=>{n.current=!0}),h.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_d({fromRouteId:t},o)))},[e,t])}function up(e){let{to:t,replace:n,state:r,relative:a}=e;oc()||Ot(!1);let{future:o,static:i}=h.useContext(pa),{matches:l}=h.useContext(Dr),{pathname:c}=Zs(),d=Ls(),u=M0(t,D0(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function HD(e){return tz(e.context)}function gt(e){Ot(!1)}function pz(e){let{basename:t="/",children:n=null,location:r,navigationType:a=La.Pop,navigator:o,static:i=!1,future:l}=e;oc()&&Ot(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:o,static:i,future:_d({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=ac(r));let{pathname:u="/",search:m="",hash:f="",state:x=null,key:g="default"}=r,p=h.useMemo(()=>{let w=Ml(u,c);return w==null?null:{location:{pathname:w,search:m,hash:f,state:x,key:g},navigationType:a}},[c,u,m,f,x,g,a]);return p==null?null:h.createElement(pa.Provider,{value:d},h.createElement(Af.Provider,{children:n,value:p}))}function fz(e){let{children:t,location:n}=e;return sz(Iy(t),n)}new Promise(()=>{});function Iy(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,a)=>{if(!h.isValidElement(r))return;let o=[...t,a];if(r.type===h.Fragment){n.push.apply(n,Iy(r.props.children,o));return}r.type!==gt&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Iy(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp.apply(this,arguments)}function zD(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function xz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gz(e,t){return e.button===0&&(!t||t==="_self")&&!xz(e)}const vz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jz="6";try{window.__reactRouterVersion=jz}catch{}const wz=h.createContext({isTransitioning:!1}),Nz="startTransition",qC=du[Nz];function bz(e){let{basename:t,children:n,future:r,window:a}=e,o=h.useRef();o.current==null&&(o.current=TH({window:a,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=h.useCallback(m=>{d&&qC?qC(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.createElement(pz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const Sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=h.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=zD(t,vz),{basename:x}=h.useContext(pa),g,p=!1;if(typeof d=="string"&&Cz.test(d)&&(g=d,Sz))try{let j=new URL(window.location.href),N=d.startsWith("//")?new URL(j.protocol+d):new URL(d),b=Ml(N.pathname,x);N.origin===j.origin&&b!=null?d=b+N.search+N.hash:p=!0}catch{}let w=QH(d,{relative:a}),v=Pz(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function y(j){r&&r(j),j.defaultPrevented||v(j)}return h.createElement("a",hp({},f,{href:g||w,onClick:p||o?r:y,ref:n,target:c}))}),Ez=h.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=t,m=zD(t,yz),f=kf(c,{relative:m.relative}),x=Zs(),g=h.useContext(_D),{navigator:p,basename:w}=h.useContext(pa),v=g!=null&&Az(f)&&d===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,j=x.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(j=j.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&w&&(N=Ml(N,w)||N);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let T=j===y||!i&&j.startsWith(y)&&j.charAt(b)==="/",S=N!=null&&(N===y||!i&&N.startsWith(y)&&N.charAt(y.length)==="/"),A={isActive:T,isPending:S,isTransitioning:v},M=T?r:void 0,L;typeof o=="function"?L=o(A):L=[o,T?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(A):l;return h.createElement(qD,hp({},m,{"aria-current":M,className:L,ref:n,style:F,to:c,viewTransition:d}),typeof u=="function"?u(A):u)});var Ly;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ly||(Ly={}));var WC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WC||(WC={}));function Tz(e){let t=h.useContext(Pf);return t||Ot(!1),t}function Pz(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ls(),d=Zs(),u=kf(e,{relative:i});return h.useCallback(m=>{if(gz(m,n)){m.preventDefault();let f=r!==void 0?r:lp(d)===lp(u);c(e,{replace:f,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,r,a,n,e,o,i,l])}function Az(e,t){t===void 0&&(t={});let n=h.useContext(wz);n==null&&Ot(!1);let{basename:r}=Tz(Ly.useViewTransitionState),a=kf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ml(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Ml(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cp(a.pathname,i)!=null||cp(a.pathname,o)!=null}function WD(e,t){return function(){return e.apply(t,arguments)}}const{toString:kz}=Object.prototype,{getPrototypeOf:F0}=Object,{iterator:Df,toStringTag:YD}=Symbol,Mf=(e=>t=>{const n=kz.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ir=e=>(e=e.toLowerCase(),t=>Mf(t)===e),Rf=e=>t=>typeof t===e,{isArray:ic}=Array,$d=Rf("undefined");function wu(e){return e!==null&&!$d(e)&&e.constructor!==null&&!$d(e.constructor)&&Xs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const XD=ir("ArrayBuffer");function Dz(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&XD(e.buffer),t}const Mz=Rf("string"),Xs=Rf("function"),KD=Rf("number"),Nu=e=>e!==null&&typeof e=="object",Rz=e=>e===!0||e===!1,gm=e=>{if(Mf(e)!=="object")return!1;const t=F0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(YD in e)&&!(Df in e)},Fz=e=>{if(!Nu(e)||wu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Oz=ir("Date"),Iz=ir("File"),Lz=ir("Blob"),_z=ir("FileList"),$z=e=>Nu(e)&&Xs(e.pipe),Vz=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xs(e.append)&&((t=Mf(e))==="formdata"||t==="object"&&Xs(e.toString)&&e.toString()==="[object FormData]"))},Uz=ir("URLSearchParams"),[Bz,Hz,zz,qz]=["ReadableStream","Request","Response","Headers"].map(ir),Wz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),ic(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(wu(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function GD(e,t){if(wu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,JD=e=>!$d(e)&&e!==Mo;function _y(){const{caseless:e}=JD(this)&&this||{},t={},n=(r,a)=>{const o=e&&GD(t,a)||a;gm(t[o])&&gm(r)?t[o]=_y(t[o],r):gm(r)?t[o]=_y({},r):ic(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&bu(arguments[r],n);return t}const Yz=(e,t,n,{allOwnKeys:r}={})=>(bu(t,(a,o)=>{n&&Xs(a)?e[o]=WD(a,n):e[o]=a},{allOwnKeys:r}),e),Xz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kz=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Gz=(e,t,n,r)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&F0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Jz=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Qz=e=>{if(!e)return null;if(ic(e))return e;let t=e.length;if(!KD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Zz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&F0(Uint8Array)),eq=(e,t)=>{const r=(e&&e[Df]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},tq=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},sq=ir("HTMLFormElement"),nq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),YC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),rq=ir("RegExp"),QD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};bu(n,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(r[o]=i||a)}),Object.defineProperties(e,r)},aq=e=>{QD(e,(t,n)=>{if(Xs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Xs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oq=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return ic(e)?r(e):r(String(e).split(t)),n},iq=()=>{},lq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cq(e){return!!(e&&Xs(e.append)&&e[YD]==="FormData"&&e[Df])}const dq=e=>{const t=new Array(10),n=(r,a)=>{if(Nu(r)){if(t.indexOf(r)>=0)return;if(wu(r))return r;if(!("toJSON"in r)){t[a]=r;const o=ic(r)?[]:{};return bu(r,(i,l)=>{const c=n(i,a+1);!$d(c)&&(o[l]=c)}),t[a]=void 0,o}}return r};return n(e,0)},uq=ir("AsyncFunction"),hq=e=>e&&(Nu(e)||Xs(e))&&Xs(e.then)&&Xs(e.catch),ZD=((e,t)=>e?setImmediate:t?((n,r)=>(Mo.addEventListener("message",({source:a,data:o})=>{a===Mo&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xs(Mo.postMessage)),mq=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||ZD,pq=e=>e!=null&&Xs(e[Df]),ae={isArray:ic,isArrayBuffer:XD,isBuffer:wu,isFormData:Vz,isArrayBufferView:Dz,isString:Mz,isNumber:KD,isBoolean:Rz,isObject:Nu,isPlainObject:gm,isEmptyObject:Fz,isReadableStream:Bz,isRequest:Hz,isResponse:zz,isHeaders:qz,isUndefined:$d,isDate:Oz,isFile:Iz,isBlob:Lz,isRegExp:rq,isFunction:Xs,isStream:$z,isURLSearchParams:Uz,isTypedArray:Zz,isFileList:_z,forEach:bu,merge:_y,extend:Yz,trim:Wz,stripBOM:Xz,inherits:Kz,toFlatObject:Gz,kindOf:Mf,kindOfTest:ir,endsWith:Jz,toArray:Qz,forEachEntry:eq,matchAll:tq,isHTMLForm:sq,hasOwnProperty:YC,hasOwnProp:YC,reduceDescriptors:QD,freezeMethods:aq,toObjectSet:oq,toCamelCase:nq,noop:iq,toFiniteNumber:lq,findKey:GD,global:Mo,isContextDefined:JD,isSpecCompliantForm:cq,toJSONObject:dq,isAsyncFn:uq,isThenable:hq,setImmediate:ZD,asap:mq,isIterable:pq};function Ue(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ae.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const eM=Ue.prototype,tM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tM[e]={value:e}});Object.defineProperties(Ue,tM);Object.defineProperty(eM,"isAxiosError",{value:!0});Ue.from=(e,t,n,r,a,o)=>{const i=Object.create(eM);return ae.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ue.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const fq=null;function $y(e){return ae.isPlainObject(e)||ae.isArray(e)}function sM(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function XC(e,t,n){return e?e.concat(t).map(function(a,o){return a=sM(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function xq(e){return ae.isArray(e)&&!e.some($y)}const gq=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function Ff(e,t,n){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!ae.isUndefined(w[p])});const r=n.metaTokens,a=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(ae.isDate(g))return g.toISOString();if(ae.isBoolean(g))return g.toString();if(!c&&ae.isBlob(g))throw new Ue("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(g)||ae.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,w){let v=g;if(g&&!w&&typeof g=="object"){if(ae.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(ae.isArray(g)&&xq(g)||(ae.isFileList(g)||ae.endsWith(p,"[]"))&&(v=ae.toArray(g)))return p=sM(p),v.forEach(function(j,N){!(ae.isUndefined(j)||j===null)&&t.append(i===!0?XC([p],N,o):i===null?p:p+"[]",d(j))}),!1}return $y(g)?!0:(t.append(XC(w,p,o),d(g)),!1)}const m=[],f=Object.assign(gq,{defaultVisitor:u,convertValue:d,isVisitable:$y});function x(g,p){if(!ae.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));m.push(g),ae.forEach(g,function(v,y){(!(ae.isUndefined(v)||v===null)&&a.call(t,v,ae.isString(y)?y.trim():y,p,f))===!0&&x(v,p?p.concat(y):[y])}),m.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return x(e),t}function KC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function O0(e,t){this._pairs=[],e&&Ff(e,this,t)}const nM=O0.prototype;nM.append=function(t,n){this._pairs.push([t,n])};nM.toString=function(t){const n=t?function(r){return t.call(this,r,KC)}:KC;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function vq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rM(e,t,n){if(!t)return e;const r=n&&n.encode||vq;ae.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=ae.isURLSearchParams(t)?t.toString():new O0(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class GC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(r){r!==null&&t(r)})}}const aM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yq=typeof URLSearchParams<"u"?URLSearchParams:O0,jq=typeof FormData<"u"?FormData:null,wq=typeof Blob<"u"?Blob:null,Nq={isBrowser:!0,classes:{URLSearchParams:yq,FormData:jq,Blob:wq},protocols:["http","https","file","blob","url","data"]},I0=typeof window<"u"&&typeof document<"u",Vy=typeof navigator=="object"&&navigator||void 0,bq=I0&&(!Vy||["ReactNative","NativeScript","NS"].indexOf(Vy.product)<0),Sq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cq=I0&&window.location.href||"http://localhost",Eq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I0,hasStandardBrowserEnv:bq,hasStandardBrowserWebWorkerEnv:Sq,navigator:Vy,origin:Cq},Symbol.toStringTag,{value:"Module"})),js={...Eq,...Nq};function Tq(e,t){return Ff(e,new js.classes.URLSearchParams,{visitor:function(n,r,a,o){return js.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Pq(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Aq(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function oM(e){function t(n,r,a,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&ae.isArray(a)?a.length:i,c?(ae.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!l):((!a[i]||!ae.isObject(a[i]))&&(a[i]=[]),t(n,r,a[i],o)&&ae.isArray(a[i])&&(a[i]=Aq(a[i])),!l)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const n={};return ae.forEachEntry(e,(r,a)=>{t(Pq(r),a,n,0)}),n}return null}function kq(e,t,n){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Su={transitional:aM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=ae.isObject(t);if(o&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return a?JSON.stringify(oM(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Tq(t,this.formSerializer).toString();if((l=ae.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ff(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),kq(t)):t}],transformResponse:[function(t){const n=this.transitional||Su.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Ue.from(l,Ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Su.headers[e]={}});const Dq=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mq=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||t[n]&&Dq[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},JC=Symbol("internals");function Dc(e){return e&&String(e).trim().toLowerCase()}function vm(e){return e===!1||e==null?e:ae.isArray(e)?e.map(vm):String(e)}function Rq(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Fq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pg(e,t,n,r,a){if(ae.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!ae.isString(t)){if(ae.isString(r))return t.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(t)}}function Oq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Iq(e,t){const n=ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,i){return this[r].call(this,t,a,o,i)},configurable:!0})})}class Ks{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(l,c,d){const u=Dc(c);if(!u)throw new Error("header name must be a non-empty string");const m=ae.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=vm(l))}const i=(l,c)=>ae.forEach(l,(d,u)=>o(d,u,c));if(ae.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(ae.isString(t)&&(t=t.trim())&&!Fq(t))i(Mq(t),n);else if(ae.isObject(t)&&ae.isIterable(t)){let l={},c,d;for(const u of t){if(!ae.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ae.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Dc(t),t){const r=ae.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Rq(a);if(ae.isFunction(n))return n.call(this,a,r);if(ae.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Dc(t),t){const r=ae.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||pg(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(i){if(i=Dc(i),i){const l=ae.findKey(r,i);l&&(!n||pg(r,r[l],l,n))&&(delete r[l],a=!0)}}return ae.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||pg(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return ae.forEach(this,(a,o)=>{const i=ae.findKey(r,o);if(i){n[i]=vm(a),delete n[o];return}const l=t?Oq(o):String(o).trim();l!==o&&delete n[o],n[l]=vm(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ae.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[JC]=this[JC]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=Dc(i);r[l]||(Iq(a,i),r[l]=!0)}return ae.isArray(t)?t.forEach(o):o(t),this}}Ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(Ks.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ae.freezeMethods(Ks);function fg(e,t){const n=this||Su,r=t||n,a=Ks.from(r.headers);let o=r.data;return ae.forEach(e,function(l){o=l.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function iM(e){return!!(e&&e.__CANCEL__)}function lc(e,t,n){Ue.call(this,e??"canceled",Ue.ERR_CANCELED,t,n),this.name="CanceledError"}ae.inherits(lc,Ue,{__CANCEL__:!0});function lM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Lq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function _q(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[o];i||(i=d),n[a]=c,r[a]=d;let m=o,f=0;for(;m!==a;)f+=n[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),d-i<t)return;const x=u&&d-u;return x?Math.round(f*1e3/x):void 0}}function $q(e,t){let n=0,r=1e3/t,a,o;const i=(d,u=Date.now())=>{n=u,a=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=r?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},r-m)))},()=>a&&i(a)]}const mp=(e,t,n=3)=>{let r=0;const a=_q(50,250);return $q(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,d=a(c),u=i<=l;r=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},QC=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ZC=e=>(...t)=>ae.asap(()=>e(...t)),Vq=js.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,js.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(js.origin),js.navigator&&/(msie|trident)/i.test(js.navigator.userAgent)):()=>!0,Uq=js.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];ae.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&i.push("path="+r),ae.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Hq(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cM(e,t,n){let r=!Bq(t);return e&&(r||n==!1)?Hq(e,t):t}const e1=e=>e instanceof Ks?{...e}:e;function Zo(e,t){t=t||{};const n={};function r(d,u,m,f){return ae.isPlainObject(d)&&ae.isPlainObject(u)?ae.merge.call({caseless:f},d,u):ae.isPlainObject(u)?ae.merge({},u):ae.isArray(u)?u.slice():u}function a(d,u,m,f){if(ae.isUndefined(u)){if(!ae.isUndefined(d))return r(void 0,d,m,f)}else return r(d,u,m,f)}function o(d,u){if(!ae.isUndefined(u))return r(void 0,u)}function i(d,u){if(ae.isUndefined(u)){if(!ae.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,m){if(m in t)return r(d,u);if(m in e)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,m)=>a(e1(d),e1(u),m,!0)};return ae.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,f=m(e[u],t[u],u);ae.isUndefined(f)&&m!==l||(n[u]=f)}),n}const dM=e=>{const t=Zo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=Ks.from(i),t.url=rM(cM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ae.isFormData(n)){if(js.hasStandardBrowserEnv||js.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(js.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(t)),r||r!==!1&&Vq(t.url))){const d=a&&o&&Uq.read(o);d&&i.set(a,d)}return t},zq=typeof XMLHttpRequest<"u",qq=zq&&function(e){return new Promise(function(n,r){const a=dM(e);let o=a.data;const i=Ks.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,f,x,g;function p(){x&&x(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function v(){if(!w)return;const j=Ks.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:j,config:e,request:w};lM(function(S){n(S),p()},function(S){r(S),p()},b),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new Ue("Request aborted",Ue.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new Ue("Network Error",Ue.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const b=a.transitional||aM;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),r(new Ue(N,b.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&ae.forEach(i.toJSON(),function(N,b){w.setRequestHeader(b,N)}),ae.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([f,g]=mp(d,!0),w.addEventListener("progress",f)),c&&w.upload&&([m,x]=mp(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=j=>{w&&(r(!j||j.type?new lc(null,e,w):j),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=Lq(a.url);if(y&&js.protocols.indexOf(y)===-1){r(new Ue("Unsupported protocol "+y+":",Ue.ERR_BAD_REQUEST,e));return}w.send(o||null)})},Wq=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof Ue?u:new lc(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new Ue(`timeout ${t} of ms exceeded`,Ue.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>ae.asap(l),c}},Yq=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Xq=async function*(e,t){for await(const n of Kq(e))yield*Yq(n,t)},Kq=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},t1=(e,t,n,r)=>{const a=Xq(e,t);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(n){let f=o+=m;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Of=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uM=Of&&typeof ReadableStream=="function",Gq=Of&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),hM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Jq=uM&&hM(()=>{let e=!1;const t=new Request(js.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),s1=64*1024,Uy=uM&&hM(()=>ae.isReadableStream(new Response("").body)),pp={stream:Uy&&(e=>e.body)};Of&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!pp[t]&&(pp[t]=ae.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ue(`Response type '${t}' is not supported`,Ue.ERR_NOT_SUPPORT,r)})})})(new Response);const Qq=async e=>{if(e==null)return 0;if(ae.isBlob(e))return e.size;if(ae.isSpecCompliantForm(e))return(await new Request(js.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(e)||ae.isArrayBuffer(e))return e.byteLength;if(ae.isURLSearchParams(e)&&(e=e+""),ae.isString(e))return(await Gq(e)).byteLength},Zq=async(e,t)=>{const n=ae.toFiniteNumber(e.getContentLength());return n??Qq(t)},e9=Of&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:f}=dM(e);d=d?(d+"").toLowerCase():"text";let x=Wq([a,o&&o.toAbortSignal()],i),g;const p=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let w;try{if(c&&Jq&&n!=="get"&&n!=="head"&&(w=await Zq(u,r))!==0){let b=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(ae.isFormData(r)&&(T=b.headers.get("content-type"))&&u.setContentType(T),b.body){const[S,A]=QC(w,mp(ZC(c)));r=t1(b.body,s1,S,A)}}ae.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;g=new Request(t,{...f,signal:x,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?m:void 0});let y=await fetch(g,f);const j=Uy&&(d==="stream"||d==="response");if(Uy&&(l||j&&p)){const b={};["status","statusText","headers"].forEach(M=>{b[M]=y[M]});const T=ae.toFiniteNumber(y.headers.get("content-length")),[S,A]=l&&QC(T,mp(ZC(l),!0))||[];y=new Response(t1(y.body,s1,S,()=>{A&&A(),p&&p()}),b)}d=d||"text";let N=await pp[ae.findKey(pp,d)||"text"](y,e);return!j&&p&&p(),await new Promise((b,T)=>{lM(b,T,{data:N,headers:Ks.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:g})})}catch(v){throw p&&p(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,e,g),{cause:v.cause||v}):Ue.from(v,v&&v.code,e,g)}}),By={http:fq,xhr:qq,fetch:e9};ae.forEach(By,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const n1=e=>`- ${e}`,t9=e=>ae.isFunction(e)||e===null||e===!1,mM={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!t9(n)&&(r=By[(i=String(n)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+o]=r}if(!r){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(n1).join(`
`):" "+n1(o[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:By};function xg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lc(null,e)}function r1(e){return xg(e),e.headers=Ks.from(e.headers),e.data=fg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mM.getAdapter(e.adapter||Su.adapter)(e).then(function(r){return xg(e),r.data=fg.call(e,e.transformResponse,r),r.headers=Ks.from(r.headers),r},function(r){return iM(r)||(xg(e),r&&r.response&&(r.response.data=fg.call(e,e.transformResponse,r.response),r.response.headers=Ks.from(r.response.headers))),Promise.reject(r)})}const pM="1.11.0",If={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{If[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const a1={};If.transitional=function(t,n,r){function a(o,i){return"[Axios v"+pM+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new Ue(a(i," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!a1[i]&&(a1[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};If.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function s9(e,t,n){if(typeof e!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new Ue("option "+o+" must be "+c,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const ym={assertOptions:s9,validators:If},ur=ym.validators;class Vo{constructor(t){this.defaults=t||{},this.interceptors={request:new GC,response:new GC}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&ym.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),a!=null&&(ae.isFunction(a)?n.paramsSerializer={serialize:a}:ym.assertOptions(a,{encode:ur.function,serialize:ur.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ym.assertOptions(n,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&ae.merge(o.common,o[n.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Ks.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,m=0,f;if(!c){const g=[r1.bind(this),void 0];for(g.unshift(...l),g.push(...d),f=g.length,u=Promise.resolve(n);m<f;)u=u.then(g[m++],g[m++]);return u}f=l.length;let x=n;for(m=0;m<f;){const g=l[m++],p=l[m++];try{x=g(x)}catch(w){p.call(this,w);break}}try{u=r1.call(this,x)}catch(g){return Promise.reject(g)}for(m=0,f=d.length;m<f;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=Zo(this.defaults,t);const n=cM(t.baseURL,t.url,t.allowAbsoluteUrls);return rM(n,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){Vo.prototype[t]=function(n,r){return this.request(Zo(r||{},{method:t,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,l){return this.request(Zo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Vo.prototype[t]=n(),Vo.prototype[t+"Form"]=n(!0)});class L0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new lc(o,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new L0(function(a){t=a}),cancel:t}}}function n9(e){return function(n){return e.apply(null,n)}}function r9(e){return ae.isObject(e)&&e.isAxiosError===!0}const Hy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hy).forEach(([e,t])=>{Hy[t]=e});function fM(e){const t=new Vo(e),n=WD(Vo.prototype.request,t);return ae.extend(n,Vo.prototype,t,{allOwnKeys:!0}),ae.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return fM(Zo(e,a))},n}const yt=fM(Su);yt.Axios=Vo;yt.CanceledError=lc;yt.CancelToken=L0;yt.isCancel=iM;yt.VERSION=pM;yt.toFormData=Ff;yt.AxiosError=Ue;yt.Cancel=yt.CanceledError;yt.all=function(t){return Promise.all(t)};yt.spread=n9;yt.isAxiosError=r9;yt.mergeConfig=Zo;yt.AxiosHeaders=Ks;yt.formToJSON=e=>oM(ae.isHTMLForm(e)?new FormData(e):e);yt.getAdapter=mM.getAdapter;yt.HttpStatusCode=Hy;yt.default=yt;class a9{client;baseURL;constructor(){this.baseURL="http://localhost:8080/api",this.client=yt.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const n=localStorage.getItem("integration_platform_token");console.log("API Request - Token present:",!!n),n&&!t.skipAuth?(t.headers.Authorization=`Bearer ${n}`,console.log("API Request - Adding Authorization header")):console.log("API Request - No token or skipAuth=true");const r=this.generateCorrelationId();return t.headers["X-Correlation-ID"]=r,window.__currentCorrelationId=r,console.log(`API Call: ${t.method?.toUpperCase()||"GET"} ${t.url||""}`),console.log("Request headers:",t.headers),t},t=>Promise.reject(this.handleError(t))),this.client.interceptors.response.use(t=>(console.log(`API Response: ${t.config.method?.toUpperCase()} ${t.config.url} - ${t.status}`),t),async t=>{const n=t.config;if(t.response?.status===401&&!n.skipAuth){const r=localStorage.getItem("integration_platform_refresh_token");if(r&&!n.url?.includes("/refresh"))try{const o=(await this.client.post("/auth/refresh",{refreshToken:r},{skipAuth:!0})).data.token;return localStorage.setItem("integration_platform_token",o),n.headers&&(n.headers.Authorization=`Bearer ${o}`),this.client(n)}catch(a){console.error("Token refresh failed:",a),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}else localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}return Promise.reject(this.handleError(t))})}generateCorrelationId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleError(t){return console.error(`API Error: ${t.config?.method?.toUpperCase()||"UNKNOWN"} ${t.config?.url||"unknown"}`,t),t.response?.data?{message:t.response.data.message||"An error occurred",code:t.response.data.code||t.response.status?.toString(),details:t.response.data.details,timestamp:t.response.data.timestamp||new Date().toISOString()}:t.request?{message:"No response from server. Please check your connection.",code:"NETWORK_ERROR",timestamp:new Date().toISOString()}:{message:t.message||"An unexpected error occurred",code:"UNKNOWN_ERROR",timestamp:new Date().toISOString()}}async get(t,n){return(await this.client.get(t,n)).data}async post(t,n,r){return(await this.client.post(t,n,r)).data}async put(t,n,r){return(await this.client.put(t,n,r)).data}async patch(t,n,r){return(await this.client.patch(t,n,r)).data}async delete(t,n){return(await this.client.delete(t,n)).data}async upload(t,n,r){return(await this.client.post(t,n,{...r,headers:{...r?.headers,"Content-Type":"multipart/form-data"}})).data}async download(t,n,r){const a=await this.client.get(t,{...r,responseType:"blob"}),o=new Blob([a.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=n,i.click(),window.URL.revokeObjectURL(i.href)}}const rt=new a9;class o9{listeners=[];pendingLogs=[];isProcessing=!1;retryCount=0;maxRetries=3;baseDelay=1e3;batchTimer=null;batchSize=10;batchDelay=500;constructor(){window.addEventListener("error",t=>{this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:t.error?.stack})}),window.addEventListener("unhandledrejection",t=>{this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:t.reason?.stack})}),this.processPendingLogs()}async logError(t,n){const r={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:n,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};this.queueLog(r),this.notifyListeners(r)}async logInfo(t,n,r="system",a,o){const i={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:n,source:r,sourceId:a||"general",sourceName:o||"System"};this.queueLog(i),this.notifyListeners(i)}async logWarning(t,n,r="system",a,o){const i={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:n,source:r,sourceId:a||"general",sourceName:o||"System"};this.queueLog(i),this.notifyListeners(i)}queueLog(t){this.pendingLogs.push(t),this.batchTimer&&clearTimeout(this.batchTimer),this.batchTimer=setTimeout(()=>{this.processPendingLogs()},this.batchDelay)}async processPendingLogs(){if(!(this.isProcessing||this.pendingLogs.length===0)){this.isProcessing=!0;try{const t=this.pendingLogs.splice(0,this.batchSize);t.length>0&&(await this.sendBatchToBackend(t),this.retryCount=0)}catch(t){if(console.error("Failed to process logs:",t),this.retryCount<this.maxRetries){this.retryCount++;const n=this.baseDelay*Math.pow(2,this.retryCount-1);setTimeout(()=>this.processPendingLogs(),n)}else console.error("Max retries reached, discarding log batch"),this.retryCount=0}finally{this.isProcessing=!1,this.pendingLogs.length>0&&setTimeout(()=>this.processPendingLogs(),this.batchDelay)}}}async sendBatchToBackend(t){try{const r={logs:t.map(a=>({level:a.level.toUpperCase(),category:a.source==="system"?"SYSTEM":"APPLICATION",message:a.message,details:a.details||{},error:a.details?.error||null,stackTrace:a.details?.stack||null,userAgent:navigator.userAgent,url:window.location.href,timestamp:a.timestamp,userId:localStorage.getItem("userId")||null,sessionId:localStorage.getItem("sessionId")||null,correlationId:a.id}))};await rt.post("/system/logs/batch",r)}catch(n){throw n}}async getAllLogs(){return console.warn("getAllLogs called directly on systemErrorLogger - use useSystemLogs hook instead"),[]}async getFilteredLogs(t){return console.warn("getFilteredLogs called directly on systemErrorLogger - use useSystemLogs hook instead"),[]}onLogUpdate(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyListeners(t){this.listeners.forEach(n=>n(t))}}const xM=new o9,gM="http://localhost:8080/api";class gg extends Error{constructor(t,n,r){super(t),this.status=n,this.response=r,this.name="ApiError"}}function o1(){return localStorage.getItem("integration_platform_token")}function i9(){return localStorage.getItem("integration_platform_refresh_token")}function l9(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function c9(){const e=i9();if(!e)return!1;try{const t=await fetch(`${gM}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const n=await t.json();return localStorage.setItem("integration_platform_token",n.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return l9(),!1}async function Mc(e,t={}){const n=`${gM}${e}`,r=o1(),a={"Content-Type":"application/json"};r&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${r}`);const o={headers:{...a,...t.headers},...t};try{console.log("[API] Making request:",{method:o.method||"GET",url:n,body:o.body?JSON.parse(o.body):void 0});let i=await fetch(n,o);if(i.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await c9()){const u=o1();u&&(o.headers={...o.headers,Authorization:`Bearer ${u}`},i=await fetch(n,o))}else throw window.location.href="/login",new gg("Authentication failed",401);let l;const c=i.headers.get("content-type");if(c&&c.includes("application/json")?l=await i.json():l=await i.text(),!i.ok){const d={status:i.status,endpoint:e,data:l};console.log("[API] Error response from backend:",d),e.includes("/logs/system")||e.includes("/system-logs")||e.includes("/system/logs")||xM.logError(`API Error: ${e} - ${i.status}`,{...d,method:t.method||"GET",url:n,timestamp:new Date().toISOString()});let m=`HTTP ${i.status}: ${i.statusText}`;throw l&&(typeof l=="string"&&l.trim()?m=l:l.message?m=l.message:l.error?m=l.error:l.detail?m=l.detail:l.title&&(m=l.title)),i.status===400&&!l?m="Bad Request - The server rejected the request. Please check your input data.":i.status===409&&(m=l?.message||"Conflict - The requested operation conflicts with existing data."),new gg(m,i.status,l)}return typeof l=="string"&&l.includes("<!DOCTYPE html>")?(console.warn(`API endpoint ${e} returned HTML instead of JSON`),{success:!1,error:"API endpoint returned HTML instead of JSON",data:null}):{success:!0,data:l.data||l,message:l.message}}catch(i){if(i instanceof gg)throw i;return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}const J={get:(e,t)=>Mc(e,{method:"GET",...t}),post:(e,t,n)=>Mc(e,{method:"POST",body:JSON.stringify(t),...n}),put:(e,t,n)=>Mc(e,{method:"PUT",body:JSON.stringify(t),...n}),patch:(e,t,n)=>Mc(e,{method:"PATCH",body:JSON.stringify(t),...n}),delete:(e,t)=>Mc(e,{method:"DELETE",...t})};class d9{TOKEN_KEY="integration_platform_token";REFRESH_TOKEN_KEY="integration_platform_refresh_token";USER_KEY="integration_platform_user";async login(t){const n=await J.post("/auth/login",t);return n.success&&n.data&&this.setAuthData(n.data),n}async register(t){return J.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await J.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const n=await J.post("/auth/refresh",{refreshToken:t});return n.success&&n.data&&localStorage.setItem(this.TOKEN_KEY,n.data.token),n}async getProfile(){return J.get("/auth/profile")}async updateProfile(t){return J.put("/auth/profile",t)}async changePassword(t,n){return J.post("/auth/change-password",{currentPassword:t,newPassword:n})}async requestPasswordReset(t){return J.post("/auth/forgot-password",{email:t})}async resetPassword(t,n){return J.post("/auth/reset-password",{token:t,newPassword:n})}async verifyEmail(t){return J.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const n=this.getCurrentUser();if(!n?.permissions)return!1;let r=[];if(typeof n.permissions=="string")try{const a=JSON.parse(n.permissions);r=Array.isArray(a)?a:Object.keys(a)}catch{r=[]}else Array.isArray(n.permissions)&&(r=n.permissions);return r.includes(t)}hasRole(t){return this.getCurrentUser()?.role===t}isAdmin(){return this.hasRole("administrator")}}const sn=new d9,vM=h.createContext(void 0),Mr=()=>{const e=h.useContext(vM);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},u9=({children:e})=>{const[t,n]=h.useState(null),[r,a]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(null),d=Ls(),{toast:u}=Be();h.useEffect(()=>{(async()=>{try{if(window.location.pathname==="/login"){console.log("AuthContext: On login page, skipping auth check"),a(!1);return}const b=sn.getToken();if(!b){console.log("AuthContext: No token found, skipping initialization"),a(!1);return}try{const S=JSON.parse(atob(b.split(".")[1])).exp*1e3;if(S<Date.now()){console.log("AuthContext: Token expired, clearing auth data"),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),a(!1);return}c(S)}catch(T){console.warn("Failed to parse token:",T),a(!1);return}try{const T=await sn.getProfile();T.success&&T.data?n(T.data):console.warn("AuthContext: Profile fetch failed")}catch(T){console.warn("AuthContext: Profile fetch error:",T)}}catch(b){console.error("Auth initialization error:",b)}finally{a(!1)}})()},[]),h.useEffect(()=>{if(!l)return;const N=l-Date.now();if(N<=0){f();return}const b=setTimeout(()=>{f()},N);return()=>clearTimeout(b)},[l]);const m=async(N,b,T)=>{try{a(!0);const S=await sn.login({username:N,password:b});if(S.success&&S.data){n(S.data.user);const A=Date.now()+S.data.expiresIn*1e3;return c(A),u({title:"Success",description:"Login successful"}),setTimeout(()=>{d(T||"/dashboard")},100),!0}else return u({title:"Error",description:S.error||"Login failed",variant:"destructive"}),!1}catch(S){return console.error("Login error:",S),u({title:"Error",description:"Login failed. Please try again.",variant:"destructive"}),!1}finally{a(!1)}},f=async()=>{try{n(null),c(null),sn.logout().catch(N=>{console.warn("Logout API call failed:",N)}),d("/login"),u({title:"Success",description:"Logged out successfully"})}catch(N){console.error("Logout error:",N),d("/login")}},x=()=>!(!sn.isAuthenticated()||l&&Date.now()>=l||!t),g=async()=>{try{if(!x())return await f(),!1;const N=await sn.getProfile();if(N.success&&N.data){n(N.data);const b=sn.getToken();if(b)try{const T=JSON.parse(atob(b.split(".")[1]));c(T.exp*1e3)}catch(T){console.warn("Failed to parse token expiry:",T)}return!0}else return await f(),!1}catch(N){return console.error("Session check error:",N),await f(),!1}},p=()=>o,w=async N=>{try{const b=await sn.register({...N,password:"temp123"});b.success&&b.data?(i(T=>[...T,b.data]),u({title:"Success",description:"User created successfully"})):u({title:"Error",description:b.error||"Failed to create user",variant:"destructive"})}catch(b){console.error("Create user error:",b),u({title:"Error",description:"Failed to create user",variant:"destructive"})}},v=async(N,b)=>{try{i(T=>T.map(S=>S.id===N?{...S,...b}:S)),u({title:"Success",description:"User updated successfully"})}catch(T){console.error("Update user error:",T),u({title:"Error",description:"Failed to update user",variant:"destructive"})}},y=async N=>{try{i(b=>b.filter(T=>T.id!==N)),u({title:"Success",description:"User deleted successfully"})}catch(b){console.error("Delete user error:",b),u({title:"Error",description:"Failed to delete user",variant:"destructive"})}},j={user:t,login:m,logout:f,isAuthenticated:!!t&&sn.isAuthenticated(),isLoading:r,tokenExpiry:l,checkSession:g,isSessionValid:x,getAllUsers:p,createUser:w,updateUser:v,deleteUser:y};return s.jsx(vM.Provider,{value:j,children:e})},yM=h.createContext(void 0);function h9({children:e}){const{toast:t}=Be(),{isAuthenticated:n}=Mr(),[r,a]=h.useState(null),[o,i]=h.useState([]),[l,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(!0),x=async()=>{try{const L=await rt.get("/tenants/current");a(L),localStorage.setItem("currentTenantId",L.id)}catch(L){console.error("Failed to load current tenant:",L)}},g=async()=>{try{const L=await rt.get("/tenants/my-tenants");i(L)}catch(L){console.error("Failed to load user tenants:",L)}},p=async()=>{if(r)try{const L=await rt.get(`/tenants/${r.id}/subscription`);c(L)}catch(L){console.error("Failed to load subscription:",L)}},w=async()=>{if(r)try{const L=await rt.get(`/tenants/${r.id}/usage`);u(L)}catch(L){console.error("Failed to load usage:",L)}},v=async L=>{try{await rt.post(`/tenants/switch/${L}`),await x(),await p(),await w(),t({title:"Success",description:"Switched tenant successfully"}),window.location.reload()}catch(F){throw t({title:"Error",description:"Failed to switch tenant",variant:"destructive"}),F}},y=async()=>{await g()},j=async()=>{await p()},N=async()=>{await w()},b=L=>l?.features?.includes(L)??!1,T=L=>{if(!d||!d.quotas)return!1;const F=d.quotas[L];return!F||F===-1?!1:A(L)>F},S=L=>{if(!d||!d.quotas)return 0;const F=d.quotas[L];if(!F||F===-1)return 0;const I=A(L);return Math.min(I/F*100,100)},A=L=>{if(!d)return 0;switch(L){case"executions_per_month":return d.executions;case"messages_per_month":return d.messages;case"api_calls_per_month":return d.apiCalls;case"storage_gb":return d.storageGb;case"users":return d.users;case"flows":return d.flows;default:return 0}};h.useEffect(()=>{n&&(async()=>(f(!0),localStorage.getItem("currentTenantId"),await Promise.all([x(),g()]),f(!1)))()},[n]),h.useEffect(()=>{r&&(p(),w())},[r]);const M={currentTenant:r,userTenants:o,subscription:l,usage:d,loading:m,switchTenant:v,refreshTenants:y,refreshSubscription:j,refreshUsage:N,hasFeature:b,isOverQuota:T,getQuotaPercentage:S};return s.jsx(yM.Provider,{value:M,children:e})}function m9(){const e=h.useContext(yM);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}const p9=()=>{const e=Zs(),t=Mr?.(),n=t?.isLoading??!1,r=t?.isAuthenticated??!!t?.user??sn.isAuthenticated();return n?s.jsx("div",{className:"p-6",children:"Checking session..."}):r?s.jsx(HD,{}):s.jsx(up,{to:"/login",replace:!0,state:{from:e}})},Vd=pi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-blue-600 text-blue-600 bg-transparent hover:bg-blue-600 hover:text-white transition-colors",secondary:"bg-blue-100 text-blue-900 hover:bg-blue-200 transition-colors",ghost:"text-blue-600 hover:bg-blue-100 hover:text-blue-700 transition-colors",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const i=r?mn:"button";return s.jsx(i,{className:re(Vd({variant:t,size:n,className:e})),ref:o,...a})});z.displayName="Button";const f9=pi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-100/80 dark:bg-green-900/30 dark:text-green-400",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80 dark:bg-yellow-900/30 dark:text-yellow-400",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-100/80 dark:bg-blue-900/30 dark:text-blue-400"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:t,...n}){return s.jsx("div",{className:re(f9({variant:t}),e),...n})}var x9=h.createContext(void 0);function cc(e){const t=h.useContext(x9);return e||t||"ltr"}var vg=0;function _0(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i1()),document.body.insertAdjacentElement("beforeend",e[1]??i1()),vg++,()=>{vg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vg--}},[])}function i1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},g9="FocusScope",Lf=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=Mt(a),u=Mt(o),m=h.useRef(null),f=$e(t,p=>c(p)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(j){if(x.paused||!l)return;const N=j.target;l.contains(N)?m.current=N:Ca(m.current,{select:!0})},w=function(j){if(x.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Ca(m.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const b of j)b.removedNodes.length>0&&Ca(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){d1.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(yg,l1);l.addEventListener(yg,d),l.dispatchEvent(v),v.defaultPrevented||(v9(b9(jM(l)),{select:!0}),document.activeElement===p&&Ca(l))}return()=>{l.removeEventListener(yg,d),setTimeout(()=>{const v=new CustomEvent(jg,l1);l.addEventListener(jg,u),l.dispatchEvent(v),v.defaultPrevented||Ca(p??document.body,{select:!0}),l.removeEventListener(jg,u),d1.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(p=>{if(!n&&!r||x.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(w&&v){const y=p.currentTarget,[j,N]=y9(y);j&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Ca(j,{select:!0})):p.shiftKey&&v===j&&(p.preventDefault(),n&&Ca(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return s.jsx(Ae.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});Lf.displayName=g9;function v9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ca(r,{select:t}),document.activeElement!==n)return}function y9(e){const t=jM(e),n=c1(t,e),r=c1(t.reverse(),e);return[n,r]}function jM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function c1(e,t){for(const n of e)if(!j9(n,{upTo:t}))return n}function j9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w9(e){return e instanceof HTMLInputElement&&"select"in e}function Ca(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w9(e)&&t&&e.select()}}var d1=N9();function N9(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=u1(e,t),e.unshift(t)},remove(t){e=u1(e,t),e[0]?.resume()}}}function u1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function b9(e){return e.filter(t=>t.tagName!=="A")}function S9(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:f,children:x,...g}=m,p=f?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function u(m,f){const x=f?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,C9(a,...t)]}function C9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var wg="rovingFocusGroup.onEntryFocus",E9={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[zy,wM,T9]=ff(_f),[P9,dc]=S9(_f,[T9]),[A9,k9]=P9(_f),NM=h.forwardRef((e,t)=>s.jsx(zy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(D9,{...e,ref:t})})}));NM.displayName=_f;var D9=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,f=h.useRef(null),x=$e(t,f),g=cc(o),[p=null,w]=Fn({prop:i,defaultProp:l,onChange:c}),[v,y]=h.useState(!1),j=Mt(d),N=wM(n),b=h.useRef(!1),[T,S]=h.useState(0);return h.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(wg,j),()=>A.removeEventListener(wg,j)},[j]),s.jsx(A9,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:h.useCallback(A=>w(A),[w]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>S(A=>A-1),[]),children:s.jsx(Ae.div,{tabIndex:v||T===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{b.current=!0}),onFocus:ye(e.onFocus,A=>{const M=!b.current;if(A.target===A.currentTarget&&M&&!v){const L=new CustomEvent(wg,E9);if(A.currentTarget.dispatchEvent(L),!L.defaultPrevented){const F=N().filter(C=>C.focusable),I=F.find(C=>C.active),U=F.find(C=>C.id===p),k=[I,U,...F].filter(Boolean).map(C=>C.ref.current);CM(k,u)}}b.current=!1}),onBlur:ye(e.onBlur,()=>y(!1))})})}),bM="RovingFocusGroupItem",SM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,l=An(),c=o||l,d=k9(bM,n),u=d.currentTabStopId===c,m=wM(n),{onFocusableItemAdd:f,onFocusableItemRemove:x}=d;return h.useEffect(()=>{if(r)return f(),()=>x()},[r,f,x]),s.jsx(zy.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Ae.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ye(e.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:ye(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=F9(g,d.orientation,d.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=m().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=d.loop?O9(v,y+1):v.slice(y+1)}setTimeout(()=>CM(v))}})})})});SM.displayName=bM;var M9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function F9(e,t,n){const r=R9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return M9[r]}function CM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $0=NM,V0=SM,I9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ei=new WeakMap,Eh=new WeakMap,Th={},Ng=0,EM=function(e){return e&&(e.host||EM(e.parentNode))},L9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=EM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_9=function(e,t,n,r){var a=L9(t,Array.isArray(e)?e:[e]);Th[n]||(Th[n]=new WeakMap);var o=Th[n],i=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))u(f);else try{var x=f.getAttribute(r),g=x!==null&&x!=="false",p=(Ei.get(f)||0)+1,w=(o.get(f)||0)+1;Ei.set(f,p),o.set(f,w),i.push(f),p===1&&g&&Eh.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),Ng++,function(){i.forEach(function(m){var f=Ei.get(m)-1,x=o.get(m)-1;Ei.set(m,f),o.set(m,x),f||(Eh.has(m)||m.removeAttribute(r),Eh.delete(m)),x||m.removeAttribute(n)}),Ng--,Ng||(Ei=new WeakMap,Ei=new WeakMap,Eh=new WeakMap,Th={})}},Cu=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=I9(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),_9(r,a,n,"aria-hidden")):function(){return null}},Ht=function(){return Ht=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ht.apply(this,arguments)};function $f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function U0(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var fl="right-scroll-bar-position",xl="width-before-scroll-bar",$9="with-scroll-bars-hidden",V9="--removed-body-scroll-bar-size";function bg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function U9(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var B9=typeof window<"u"?h.useLayoutEffect:h.useEffect,h1=new WeakMap;function B0(e,t){var n=U9(null,function(r){return e.forEach(function(a){return bg(a,r)})});return B9(function(){var r=h1.get(n);if(r){var a=new Set(r),o=new Set(e),i=n.current;a.forEach(function(l){o.has(l)||bg(l,null)}),o.forEach(function(l){a.has(l)||bg(l,i)})}h1.set(n,e)},[e]),n}function H9(e){return e}function z9(e,t){t===void 0&&(t=H9);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),n}}}};return a}function H0(e){e===void 0&&(e={});var t=z9(null);return t.options=Ht({async:!0,ssr:!1},e),t}var TM=function(e){var t=e.sideCar,n=$f(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Ht({},n))};TM.isSideCarExport=!0;function z0(e,t){return e.useMedium(t),TM}var PM=H0(),Sg=function(){},Vf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Sg,onWheelCapture:Sg,onTouchMoveCapture:Sg}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,f=e.sideCar,x=e.noIsolation,g=e.inert,p=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=e.gapMode,j=$f(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,b=B0([n,t]),T=Ht(Ht({},j),a);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:PM,removeScrollBar:d,shards:m,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!p,lockRef:n,gapMode:y}),i?h.cloneElement(h.Children.only(l),Ht(Ht({},T),{ref:b})):h.createElement(v,Ht({},T,{className:c,ref:b}),l))});Vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vf.classNames={fullWidth:xl,zeroRight:fl};var q9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q9();return t&&e.setAttribute("nonce",t),e}function Y9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function X9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var K9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W9())&&(Y9(t,n),X9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},G9=function(){var e=K9();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Uf=function(){var e=G9(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},J9={left:0,top:0,right:0,gap:0},Cg=function(e){return parseInt(e||"",10)||0},Q9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Cg(n),Cg(r),Cg(a)]},Z9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J9;var t=Q9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},e7=Uf(),gl="data-scroll-locked",t7=function(e,t,n,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fl," .").concat(fl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(V9,": ").concat(l,`px;
  }
`)},m1=function(){var e=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(e)?e:0},s7=function(){h.useEffect(function(){return document.body.setAttribute(gl,(m1()+1).toString()),function(){var e=m1()-1;e<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,e.toString())}},[])},q0=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;s7();var o=h.useMemo(function(){return Z9(a)},[a]);return h.createElement(e7,{styles:t7(o,!t,a,n?"":"!important")})},qy=!1;if(typeof window<"u")try{var Ph=Object.defineProperty({},"passive",{get:function(){return qy=!0,!0}});window.addEventListener("test",Ph,Ph),window.removeEventListener("test",Ph,Ph)}catch{qy=!1}var Ti=qy?{passive:!1}:!1,n7=function(e){return e.tagName==="TEXTAREA"},AM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n7(e)&&n[t]==="visible")},r7=function(e){return AM(e,"overflowY")},a7=function(e){return AM(e,"overflowX")},p1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=kM(e,r);if(a){var o=DM(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},i7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kM=function(e,t){return e==="v"?r7(t):a7(t)},DM=function(e,t){return e==="v"?o7(t):i7(t)},l7=function(e,t){return e==="h"&&t==="rtl"?-1:1},c7=function(e,t,n,r,a){var o=l7(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,f=0;do{var x=DM(e,l),g=x[0],p=x[1],w=x[2],v=p-w-o*g;(g||v)&&kM(e,l)&&(m+=v,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},Ah=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},f1=function(e){return[e.deltaX,e.deltaY]},x1=function(e){return e&&"current"in e?e.current:e},d7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h7=0,Pi=[];function m7(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(h7++)[0],o=h.useState(Uf)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=U0([e.lockRef.current],(e.shards||[]).map(x1),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=Ah(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,T=p.target,S=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&T.type==="range")return!1;var A=p1(S,T);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=p1(S,T)),!A)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=b),!b)return!0;var M=r.current||b;return c7(M,w,p,M==="h"?j:N,!0)},[]),c=h.useCallback(function(p){var w=p;if(!(!Pi.length||Pi[Pi.length-1]!==o)){var v="deltaY"in w?f1(w):Ah(w),y=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&d7(b.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var j=(i.current.shards||[]).map(x1).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(p,w,v,y){var j={name:p,delta:w,target:v,should:y,shadowParent:p7(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=h.useCallback(function(p){n.current=Ah(p),r.current=void 0},[]),m=h.useCallback(function(p){d(p.type,f1(p),p.target,l(p,e.lockRef.current))},[]),f=h.useCallback(function(p){d(p.type,Ah(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Pi.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ti),document.addEventListener("touchmove",c,Ti),document.addEventListener("touchstart",u,Ti),function(){Pi=Pi.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Ti),document.removeEventListener("touchmove",c,Ti),document.removeEventListener("touchstart",u,Ti)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:u7(a)}):null,x?h.createElement(q0,{gapMode:e.gapMode}):null)}function p7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const f7=z0(PM,m7);var Bf=h.forwardRef(function(e,t){return h.createElement(Vf,Ht({},e,{ref:t,sideCar:f7}))});Bf.classNames=Vf.classNames;var Wy=["Enter"," "],x7=["ArrowDown","PageUp","Home"],MM=["ArrowUp","PageDown","End"],g7=[...x7,...MM],v7={ltr:[...Wy,"ArrowRight"],rtl:[...Wy,"ArrowLeft"]},y7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eu="Menu",[Ud,j7,w7]=ff(Eu),[xi,RM]=Qs(Eu,[w7,rc,dc]),Hf=rc(),FM=dc(),[N7,gi]=xi(Eu),[b7,Tu]=xi(Eu),OM=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=Hf(t),[c,d]=h.useState(null),u=h.useRef(!1),m=Mt(o),f=cc(a);return h.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(E0,{...l,children:s.jsx(N7,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(b7,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:f,modal:i,children:r})})})};OM.displayName=Eu;var S7="MenuAnchor",W0=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Hf(n);return s.jsx(T0,{...a,...r,ref:t})});W0.displayName=S7;var Y0="MenuPortal",[C7,IM]=xi(Y0,{forceMount:void 0}),LM=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=gi(Y0,t);return s.jsx(C7,{scope:t,forceMount:n,children:s.jsx(ls,{present:n||o.open,children:s.jsx(fu,{asChild:!0,container:a,children:r})})})};LM.displayName=Y0;var kn="MenuContent",[E7,X0]=xi(kn),_M=h.forwardRef((e,t)=>{const n=IM(kn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=gi(kn,e.__scopeMenu),i=Tu(kn,e.__scopeMenu);return s.jsx(Ud.Provider,{scope:e.__scopeMenu,children:s.jsx(ls,{present:r||o.open,children:s.jsx(Ud.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(T7,{...a,ref:t}):s.jsx(P7,{...a,ref:t})})})})}),T7=h.forwardRef((e,t)=>{const n=gi(kn,e.__scopeMenu),r=h.useRef(null),a=$e(t,r);return h.useEffect(()=>{const o=r.current;if(o)return Cu(o)},[]),s.jsx(K0,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),P7=h.forwardRef((e,t)=>{const n=gi(kn,e.__scopeMenu);return s.jsx(K0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),K0=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:x,disableOutsideScroll:g,...p}=e,w=gi(kn,n),v=Tu(kn,n),y=Hf(n),j=FM(n),N=j7(n),[b,T]=h.useState(null),S=h.useRef(null),A=$e(t,S,w.onContentChange),M=h.useRef(0),L=h.useRef(""),F=h.useRef(0),I=h.useRef(null),U=h.useRef("right"),O=h.useRef(0),k=g?Bf:h.Fragment,C=g?{as:mn,allowPinchZoom:!0}:void 0,P=$=>{const H=L.current+$,_=N().filter(Q=>!Q.disabled),B=document.activeElement,W=_.find(Q=>Q.ref.current===B)?.textValue,te=_.map(Q=>Q.textValue),le=V7(te,H,W),ue=_.find(Q=>Q.textValue===le)?.ref.current;(function Q(ie){L.current=ie,window.clearTimeout(M.current),ie!==""&&(M.current=window.setTimeout(()=>Q(""),1e3))})(H),ue&&setTimeout(()=>ue.focus())};h.useEffect(()=>()=>window.clearTimeout(M.current),[]),_0();const R=h.useCallback($=>U.current===I.current?.side&&B7($,I.current?.area),[]);return s.jsx(E7,{scope:n,searchRef:L,onItemEnter:h.useCallback($=>{R($)&&$.preventDefault()},[R]),onItemLeave:h.useCallback($=>{R($)||(S.current?.focus(),T(null))},[R]),onTriggerLeave:h.useCallback($=>{R($)&&$.preventDefault()},[R]),pointerGraceTimerRef:F,onPointerGraceIntentChange:h.useCallback($=>{I.current=$},[]),children:s.jsx(k,{...C,children:s.jsx(Lf,{asChild:!0,trapped:a,onMountAutoFocus:ye(o,$=>{$.preventDefault(),S.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:x,children:s.jsx($0,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:T,onEntryFocus:ye(c,$=>{v.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(P0,{role:"menu","aria-orientation":"vertical","data-state":eR(w.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:ye(p.onKeyDown,$=>{const _=$.target.closest("[data-radix-menu-content]")===$.currentTarget,B=$.ctrlKey||$.altKey||$.metaKey,W=$.key.length===1;_&&($.key==="Tab"&&$.preventDefault(),!B&&W&&P($.key));const te=S.current;if($.target!==te||!g7.includes($.key))return;$.preventDefault();const ue=N().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);MM.includes($.key)&&ue.reverse(),_7(ue)}),onBlur:ye(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(M.current),L.current="")}),onPointerMove:ye(e.onPointerMove,Bd($=>{const H=$.target,_=O.current!==$.clientX;if($.currentTarget.contains(H)&&_){const B=$.clientX>O.current?"right":"left";U.current=B,O.current=$.clientX}}))})})})})})})});_M.displayName=kn;var A7="MenuGroup",G0=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ae.div,{role:"group",...r,ref:t})});G0.displayName=A7;var k7="MenuLabel",$M=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ae.div,{...r,ref:t})});$M.displayName=k7;var fp="MenuItem",g1="menu.itemSelect",zf=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=h.useRef(null),i=Tu(fp,e.__scopeMenu),l=X0(fp,e.__scopeMenu),c=$e(t,o),d=h.useRef(!1),u=()=>{const m=o.current;if(!n&&m){const f=new CustomEvent(g1,{bubbles:!0,cancelable:!0});m.addEventListener(g1,x=>r?.(x),{once:!0}),c0(m,f),f.defaultPrevented?d.current=!1:i.onClose()}};return s.jsx(VM,{...a,ref:c,disabled:n,onClick:ye(e.onClick,u),onPointerDown:m=>{e.onPointerDown?.(m),d.current=!0},onPointerUp:ye(e.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:ye(e.onKeyDown,m=>{const f=l.searchRef.current!=="";n||f&&m.key===" "||Wy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});zf.displayName=fp;var VM=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,i=X0(fp,n),l=FM(n),c=h.useRef(null),d=$e(t,c),[u,m]=h.useState(!1),[f,x]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[o.children]),s.jsx(Ud.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(V0,{asChild:!0,...l,focusable:!r,children:s.jsx(Ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:ye(e.onPointerMove,Bd(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,Bd(g=>i.onItemLeave(g))),onFocus:ye(e.onFocus,()=>m(!0)),onBlur:ye(e.onBlur,()=>m(!1))})})})}),D7="MenuCheckboxItem",UM=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(WM,{scope:e.__scopeMenu,checked:n,children:s.jsx(zf,{role:"menuitemcheckbox","aria-checked":xp(n)?"mixed":n,...a,ref:t,"data-state":Q0(n),onSelect:ye(a.onSelect,()=>r?.(xp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UM.displayName=D7;var BM="MenuRadioGroup",[M7,R7]=xi(BM,{value:void 0,onValueChange:()=>{}}),HM=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Mt(r);return s.jsx(M7,{scope:e.__scopeMenu,value:n,onValueChange:o,children:s.jsx(G0,{...a,ref:t})})});HM.displayName=BM;var zM="MenuRadioItem",qM=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=R7(zM,e.__scopeMenu),o=n===a.value;return s.jsx(WM,{scope:e.__scopeMenu,checked:o,children:s.jsx(zf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Q0(o),onSelect:ye(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});qM.displayName=zM;var J0="MenuItemIndicator",[WM,F7]=xi(J0,{checked:!1}),YM=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=F7(J0,n);return s.jsx(ls,{present:r||xp(o.checked)||o.checked===!0,children:s.jsx(Ae.span,{...a,ref:t,"data-state":Q0(o.checked)})})});YM.displayName=J0;var O7="MenuSeparator",XM=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});XM.displayName=O7;var I7="MenuArrow",KM=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Hf(n);return s.jsx(A0,{...a,...r,ref:t})});KM.displayName=I7;var L7="MenuSub",[uve,GM]=xi(L7),zc="MenuSubTrigger",JM=h.forwardRef((e,t)=>{const n=gi(zc,e.__scopeMenu),r=Tu(zc,e.__scopeMenu),a=GM(zc,e.__scopeMenu),o=X0(zc,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(W0,{asChild:!0,...d,children:s.jsx(VM,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":eR(n.open),...e,ref:pf(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,Bd(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ye(e.onPointerLeave,Bd(m=>{u();const f=n.content?.getBoundingClientRect();if(f){const x=n.content?.dataset.side,g=x==="right",p=g?-5:5,w=f[g?"left":"right"],v=f[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+p,y:m.clientY},{x:w,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:w,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,m=>{const f=o.searchRef.current!=="";e.disabled||f&&m.key===" "||v7[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});JM.displayName=zc;var QM="MenuSubContent",ZM=h.forwardRef((e,t)=>{const n=IM(kn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=gi(kn,e.__scopeMenu),i=Tu(kn,e.__scopeMenu),l=GM(QM,e.__scopeMenu),c=h.useRef(null),d=$e(t,c);return s.jsx(Ud.Provider,{scope:e.__scopeMenu,children:s.jsx(ls,{present:r||o.open,children:s.jsx(Ud.Slot,{scope:e.__scopeMenu,children:s.jsx(K0,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ye(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ye(e.onKeyDown,u=>{const m=u.currentTarget.contains(u.target),f=y7[i.dir].includes(u.key);m&&f&&(o.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});ZM.displayName=QM;function eR(e){return e?"open":"closed"}function xp(e){return e==="indeterminate"}function Q0(e){return xp(e)?"indeterminate":e?"checked":"unchecked"}function _7(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function V7(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=$7(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function U7(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function B7(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return U7(n,t)}function Bd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var H7=OM,z7=W0,q7=LM,W7=_M,Y7=G0,X7=$M,K7=zf,G7=UM,J7=HM,Q7=qM,Z7=YM,eW=XM,tW=KM,sW=JM,nW=ZM,Z0="DropdownMenu",[rW,hve]=Qs(Z0,[RM]),_s=RM(),[aW,tR]=rW(Z0),sR=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=_s(t),d=h.useRef(null),[u=!1,m]=Fn({prop:a,defaultProp:o,onChange:i});return s.jsx(aW,{scope:t,triggerId:An(),triggerRef:d,contentId:An(),open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(f=>!f),[m]),modal:l,children:s.jsx(H7,{...c,open:u,onOpenChange:m,dir:r,modal:l,children:n})})};sR.displayName=Z0;var nR="DropdownMenuTrigger",rR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=tR(nR,n),i=_s(n);return s.jsx(z7,{asChild:!0,...i,children:s.jsx(Ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:pf(t,o.triggerRef),onPointerDown:ye(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ye(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});rR.displayName=nR;var oW="DropdownMenuPortal",aR=e=>{const{__scopeDropdownMenu:t,...n}=e,r=_s(t);return s.jsx(q7,{...r,...n})};aR.displayName=oW;var oR="DropdownMenuContent",iR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=tR(oR,n),o=_s(n),i=h.useRef(!1);return s.jsx(W7,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{i.current||a.triggerRef.current?.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iR.displayName=oR;var iW="DropdownMenuGroup",lW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(Y7,{...a,...r,ref:t})});lW.displayName=iW;var cW="DropdownMenuLabel",lR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(X7,{...a,...r,ref:t})});lR.displayName=cW;var dW="DropdownMenuItem",cR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(K7,{...a,...r,ref:t})});cR.displayName=dW;var uW="DropdownMenuCheckboxItem",dR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(G7,{...a,...r,ref:t})});dR.displayName=uW;var hW="DropdownMenuRadioGroup",mW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(J7,{...a,...r,ref:t})});mW.displayName=hW;var pW="DropdownMenuRadioItem",uR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(Q7,{...a,...r,ref:t})});uR.displayName=pW;var fW="DropdownMenuItemIndicator",hR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(Z7,{...a,...r,ref:t})});hR.displayName=fW;var xW="DropdownMenuSeparator",mR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(eW,{...a,...r,ref:t})});mR.displayName=xW;var gW="DropdownMenuArrow",vW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(tW,{...a,...r,ref:t})});vW.displayName=gW;var yW="DropdownMenuSubTrigger",pR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(sW,{...a,...r,ref:t})});pR.displayName=yW;var jW="DropdownMenuSubContent",fR=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_s(n);return s.jsx(nW,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fR.displayName=jW;var wW=sR,NW=rR,bW=aR,xR=iR,gR=lR,vR=cR,yR=dR,jR=uR,wR=hR,NR=mR,bR=pR,SR=fR;const qf=wW,Wf=NW,SW=h.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(bR,{ref:a,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(On,{className:"ml-auto h-4 w-4"})]}));SW.displayName=bR.displayName;const CW=h.forwardRef(({className:e,...t},n)=>s.jsx(SR,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));CW.displayName=SR.displayName;const Pu=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(bW,{children:s.jsx(xR,{ref:r,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Pu.displayName=xR.displayName;const Gt=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(vR,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Gt.displayName=vR.displayName;const EW=h.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(yR,{ref:a,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(wR,{children:s.jsx(ec,{className:"h-4 w-4"})})}),t]}));EW.displayName=yR.displayName;const TW=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(jR,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(wR,{children:s.jsx(Gi,{className:"h-2 w-2 fill-current"})})}),t]}));TW.displayName=jR.displayName;const eN=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(gR,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));eN.displayName=gR.displayName;const qr=h.forwardRef(({className:e,...t},n)=>s.jsx(NR,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));qr.displayName=NR.displayName;function Yy(e,[t,n]){return Math.min(n,Math.max(t,e))}function Yf(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var PW=[" ","Enter","ArrowUp","ArrowDown"],AW=[" ","Enter"],Au="Select",[Xf,Kf,kW]=ff(Au),[uc,mve]=Qs(Au,[kW,rc]),Gf=rc(),[DW,mo]=uc(Au),[MW,RW]=uc(Au),CR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:f,required:x,form:g}=e,p=Gf(t),[w,v]=h.useState(null),[y,j]=h.useState(null),[N,b]=h.useState(!1),T=cc(d),[S=!1,A]=Fn({prop:r,defaultProp:a,onChange:o}),[M,L]=Fn({prop:i,defaultProp:l,onChange:c}),F=h.useRef(null),I=w?g||!!w.closest("form"):!0,[U,O]=h.useState(new Set),k=Array.from(U).map(C=>C.props.value).join(";");return s.jsx(E0,{...p,children:s.jsxs(DW,{required:x,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:An(),value:M,onValueChange:L,open:S,onOpenChange:A,dir:T,triggerPointerDownPosRef:F,disabled:f,children:[s.jsx(Xf.Provider,{scope:t,children:s.jsx(MW,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(C=>{O(P=>new Set(P).add(C))},[]),onNativeOptionRemove:h.useCallback(C=>{O(P=>{const R=new Set(P);return R.delete(C),R})},[]),children:n})}),I?s.jsxs(GR,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:m,value:M,onChange:C=>L(C.target.value),disabled:f,form:g,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},k):null]})})};CR.displayName=Au;var ER="SelectTrigger",TR=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,o=Gf(n),i=mo(ER,n),l=i.disabled||r,c=$e(t,i.onTriggerChange),d=Kf(n),u=h.useRef("touch"),[m,f,x]=JR(p=>{const w=d().filter(j=>!j.disabled),v=w.find(j=>j.value===i.value),y=QR(w,p,v);y!==void 0&&i.onValueChange(y.value)}),g=p=>{l||(i.onOpenChange(!0),x()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(T0,{asChild:!0,...o,children:s.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":KR(i.value)?"":void 0,...a,ref:c,onClick:ye(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:ye(a.onPointerDown,p=>{u.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ye(a.onKeyDown,p=>{const w=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(w&&p.key===" ")&&PW.includes(p.key)&&(g(),p.preventDefault())})})})});TR.displayName=ER;var PR="SelectValue",AR=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:i="",...l}=e,c=mo(PR,n),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=$e(t,c.onValueNodeChange);return is(()=>{d(u)},[d,u]),s.jsx(Ae.span,{...l,ref:m,style:{pointerEvents:"none"},children:KR(c.value)?s.jsx(s.Fragment,{children:i}):o})});AR.displayName=PR;var FW="SelectIcon",kR=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});kR.displayName=FW;var OW="SelectPortal",DR=e=>s.jsx(fu,{asChild:!0,...e});DR.displayName=OW;var ei="SelectContent",MR=h.forwardRef((e,t)=>{const n=mo(ei,e.__scopeSelect),[r,a]=h.useState();if(is(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?ar.createPortal(s.jsx(RR,{scope:e.__scopeSelect,children:s.jsx(Xf.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(FR,{...e,ref:t})});MR.displayName=ei;var Bn=10,[RR,po]=uc(ei),IW="SelectContentImpl",FR=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:w,...v}=e,y=mo(ei,n),[j,N]=h.useState(null),[b,T]=h.useState(null),S=$e(t,Q=>N(Q)),[A,M]=h.useState(null),[L,F]=h.useState(null),I=Kf(n),[U,O]=h.useState(!1),k=h.useRef(!1);h.useEffect(()=>{if(j)return Cu(j)},[j]),_0();const C=h.useCallback(Q=>{const[ie,...ge]=I().map(Ne=>Ne.ref.current),[Se]=ge.slice(-1),Te=document.activeElement;for(const Ne of Q)if(Ne===Te||(Ne?.scrollIntoView({block:"nearest"}),Ne===ie&&b&&(b.scrollTop=0),Ne===Se&&b&&(b.scrollTop=b.scrollHeight),Ne?.focus(),document.activeElement!==Te))return},[I,b]),P=h.useCallback(()=>C([A,j]),[C,A,j]);h.useEffect(()=>{U&&P()},[U,P]);const{onOpenChange:R,triggerPointerDownPosRef:$}=y;h.useEffect(()=>{if(j){let Q={x:0,y:0};const ie=Se=>{Q={x:Math.abs(Math.round(Se.pageX)-($.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-($.current?.y??0))}},ge=Se=>{Q.x<=10&&Q.y<=10?Se.preventDefault():j.contains(Se.target)||R(!1),document.removeEventListener("pointermove",ie),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ge,{capture:!0})}}},[j,R,$]),h.useEffect(()=>{const Q=()=>R(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[R]);const[H,_]=JR(Q=>{const ie=I().filter(Te=>!Te.disabled),ge=ie.find(Te=>Te.ref.current===document.activeElement),Se=QR(ie,Q,ge);Se&&setTimeout(()=>Se.ref.current.focus())}),B=h.useCallback((Q,ie,ge)=>{const Se=!k.current&&!ge;(y.value!==void 0&&y.value===ie||Se)&&(M(Q),Se&&(k.current=!0))},[y.value]),W=h.useCallback(()=>j?.focus(),[j]),te=h.useCallback((Q,ie,ge)=>{const Se=!k.current&&!ge;(y.value!==void 0&&y.value===ie||Se)&&F(Q)},[y.value]),le=r==="popper"?Xy:OR,ue=le===Xy?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:w}:{};return s.jsx(RR,{scope:n,content:j,viewport:b,onViewportChange:T,itemRefCallback:B,selectedItem:A,onItemLeave:W,itemTextRefCallback:te,focusSelectedItem:P,selectedItemText:L,position:r,isPositioned:U,searchRef:H,children:s.jsx(Bf,{as:mn,allowPinchZoom:!0,children:s.jsx(Lf,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ye(a,Q=>{y.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...v,...ue,onPlaced:()=>O(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ye(v.onKeyDown,Q=>{const ie=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ie&&Q.key.length===1&&_(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Se=I().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Te=Q.target,Ne=Se.indexOf(Te);Se=Se.slice(Ne+1)}setTimeout(()=>C(Se)),Q.preventDefault()}})})})})})})});FR.displayName=IW;var LW="SelectItemAlignedPosition",OR=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,o=mo(ei,n),i=po(ei,n),[l,c]=h.useState(null),[d,u]=h.useState(null),m=$e(t,S=>u(S)),f=Kf(n),x=h.useRef(!1),g=h.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=i,j=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&p&&w&&v){const S=o.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),L=v.getBoundingClientRect();if(o.dir!=="rtl"){const Te=L.left-A.left,Ne=M.left-Te,de=S.left-Ne,oe=S.width+de,we=Math.max(oe,A.width),ot=window.innerWidth-Bn,zt=Yy(Ne,[Bn,Math.max(Bn,ot-we)]);l.style.minWidth=oe+"px",l.style.left=zt+"px"}else{const Te=A.right-L.right,Ne=window.innerWidth-M.right-Te,de=window.innerWidth-S.right-Ne,oe=S.width+de,we=Math.max(oe,A.width),ot=window.innerWidth-Bn,zt=Yy(Ne,[Bn,Math.max(Bn,ot-we)]);l.style.minWidth=oe+"px",l.style.right=zt+"px"}const F=f(),I=window.innerHeight-Bn*2,U=p.scrollHeight,O=window.getComputedStyle(d),k=parseInt(O.borderTopWidth,10),C=parseInt(O.paddingTop,10),P=parseInt(O.borderBottomWidth,10),R=parseInt(O.paddingBottom,10),$=k+C+U+R+P,H=Math.min(w.offsetHeight*5,$),_=window.getComputedStyle(p),B=parseInt(_.paddingTop,10),W=parseInt(_.paddingBottom,10),te=S.top+S.height/2-Bn,le=I-te,ue=w.offsetHeight/2,Q=w.offsetTop+ue,ie=k+C+Q,ge=$-ie;if(ie<=te){const Te=F.length>0&&w===F[F.length-1].ref.current;l.style.bottom="0px";const Ne=d.clientHeight-p.offsetTop-p.offsetHeight,de=Math.max(le,ue+(Te?W:0)+Ne+P),oe=ie+de;l.style.height=oe+"px"}else{const Te=F.length>0&&w===F[0].ref.current;l.style.top="0px";const de=Math.max(te,k+p.offsetTop+(Te?B:0)+ue)+ge;l.style.height=de+"px",p.scrollTop=ie-te+p.offsetTop}l.style.margin=`${Bn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[f,o.trigger,o.valueNode,l,d,p,w,v,o.dir,r]);is(()=>j(),[j]);const[N,b]=h.useState();is(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const T=h.useCallback(S=>{S&&g.current===!0&&(j(),y?.(),g.current=!1)},[j,y]);return s.jsx($W,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:T,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Ae.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});OR.displayName=LW;var _W="SelectPopperPosition",Xy=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Bn,...o}=e,i=Gf(n);return s.jsx(P0,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xy.displayName=_W;var[$W,tN]=uc(ei,{}),Ky="SelectViewport",IR=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,o=po(Ky,n),i=tN(Ky,n),l=$e(t,o.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Xf.Slot,{scope:n,children:s.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ye(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=i;if(f?.current&&m){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-Bn*2,p=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),v=Math.max(p,w);if(v<g){const y=v+x,j=Math.min(g,y),N=y-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});IR.displayName=Ky;var LR="SelectGroup",[VW,UW]=uc(LR),BW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=An();return s.jsx(VW,{scope:n,id:a,children:s.jsx(Ae.div,{role:"group","aria-labelledby":a,...r,ref:t})})});BW.displayName=LR;var _R="SelectLabel",$R=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=UW(_R,n);return s.jsx(Ae.div,{id:a.id,...r,ref:t})});$R.displayName=_R;var gp="SelectItem",[HW,VR]=uc(gp),UR=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...i}=e,l=mo(gp,n),c=po(gp,n),d=l.value===r,[u,m]=h.useState(o??""),[f,x]=h.useState(!1),g=$e(t,y=>c.itemRefCallback?.(y,r,a)),p=An(),w=h.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(HW,{scope:n,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:h.useCallback(y=>{m(j=>j||(y?.textContent??"").trim())},[]),children:s.jsx(Xf.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Ae.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:ye(i.onFocus,()=>x(!0)),onBlur:ye(i.onBlur,()=>x(!1)),onClick:ye(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:ye(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:ye(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:ye(i.onPointerMove,y=>{w.current=y.pointerType,a?c.onItemLeave?.():w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(i.onPointerLeave,y=>{y.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ye(i.onKeyDown,y=>{c.searchRef?.current!==""&&y.key===" "||(AW.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});UR.displayName=gp;var qc="SelectItemText",BR=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...o}=e,i=mo(qc,n),l=po(qc,n),c=VR(qc,n),d=RW(qc,n),[u,m]=h.useState(null),f=$e(t,v=>m(v),c.onItemTextChange,v=>l.itemTextRefCallback?.(v,c.value,c.disabled)),x=u?.textContent,g=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=d;return is(()=>(p(g),()=>w(g)),[p,w,g]),s.jsxs(s.Fragment,{children:[s.jsx(Ae.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ar.createPortal(o.children,i.valueNode):null]})});BR.displayName=qc;var HR="SelectItemIndicator",zR=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return VR(HR,n).isSelected?s.jsx(Ae.span,{"aria-hidden":!0,...r,ref:t}):null});zR.displayName=HR;var Gy="SelectScrollUpButton",qR=h.forwardRef((e,t)=>{const n=po(Gy,e.__scopeSelect),r=tN(Gy,e.__scopeSelect),[a,o]=h.useState(!1),i=$e(t,r.onScrollButtonChange);return is(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(YR,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qR.displayName=Gy;var Jy="SelectScrollDownButton",WR=h.forwardRef((e,t)=>{const n=po(Jy,e.__scopeSelect),r=tN(Jy,e.__scopeSelect),[a,o]=h.useState(!1),i=$e(t,r.onScrollButtonChange);return is(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(YR,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WR.displayName=Jy;var YR=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,o=po("SelectScrollButton",n),i=h.useRef(null),l=Kf(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),is(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ye(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ye(a.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ye(a.onPointerLeave,()=>{c()})})}),zW="SelectSeparator",XR=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ae.div,{"aria-hidden":!0,...r,ref:t})});XR.displayName=zW;var Qy="SelectArrow",qW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Gf(n),o=mo(Qy,n),i=po(Qy,n);return o.open&&i.position==="popper"?s.jsx(A0,{...a,...r,ref:t}):null});qW.displayName=Qy;function KR(e){return e===""||e===void 0}var GR=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=h.useRef(null),o=$e(t,a),i=Yf(n);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&u){const m=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(m)}},[i,n]),s.jsx(xu,{asChild:!0,children:s.jsx("select",{...r,ref:o,defaultValue:n})})});GR.displayName="BubbleSelect";function JR(e){const t=Mt(e),n=h.useRef(""),r=h.useRef(0),a=h.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function QR(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=WW(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function WW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YW=CR,ZR=TR,XW=AR,KW=kR,GW=DR,eF=MR,JW=IR,tF=$R,sF=UR,QW=BR,ZW=zR,nF=qR,rF=WR,aF=XR;const K=YW,G=XW,Y=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(ZR,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(KW,{asChild:!0,children:s.jsx(Er,{className:"h-4 w-4 opacity-50"})})]}));Y.displayName=ZR.displayName;const oF=h.forwardRef(({className:e,...t},n)=>s.jsx(nF,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(QU,{className:"h-4 w-4"})}));oF.displayName=nF.displayName;const iF=h.forwardRef(({className:e,...t},n)=>s.jsx(rF,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Er,{className:"h-4 w-4"})}));iF.displayName=rF.displayName;const X=h.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(GW,{children:s.jsxs(eF,{ref:a,className:re("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(oF,{}),s.jsx(JW,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(iF,{})]})}));X.displayName=eF.displayName;const eY=h.forwardRef(({className:e,...t},n)=>s.jsx(tF,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eY.displayName=tF.displayName;const D=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(sF,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZW,{children:s.jsx(ec,{className:"h-4 w-4"})})}),s.jsx(QW,{children:t})]}));D.displayName=sF.displayName;const tY=h.forwardRef(({className:e,...t},n)=>s.jsx(aF,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));tY.displayName=aF.displayName;function Ye({className:e,...t}){return s.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}function sY(){const{currentTenant:e,userTenants:t,loading:n,switchTenant:r}=m9();if(n)return s.jsx(Ye,{className:"h-10 w-48"});if(!e||t.length===0)return null;const a=i=>{switch(i){case"TENANT_OWNER":return s.jsx(p0,{className:"h-3 w-3"});case"TENANT_ADMIN":return s.jsx(eo,{className:"h-3 w-3"});case"VIEWER":return s.jsx(ta,{className:"h-3 w-3"});default:return null}},o=i=>{switch(i){case"TENANT_OWNER":case"TENANT_ADMIN":return"default";case"VIEWER":return"secondary";default:return"outline"}};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(np,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(K,{value:e.id,onValueChange:r,children:[s.jsx(Y,{className:"w-48",children:s.jsx(G,{placeholder:"Select tenant"})}),s.jsx(X,{children:t.map(i=>s.jsx(D,{value:i.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:i.displayName||i.name}),i.primary&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Primary"})]}),i.userRole&&s.jsxs(ce,{variant:o(i.userRole),className:"ml-2 text-xs",children:[a(i.userRole),s.jsx("span",{className:"ml-1",children:i.userRole.replace("TENANT_","")})]})]})},i.id))})]})]})}const Eg=768;function nY(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Eg-1}px)`),r=()=>{t(window.innerWidth<Eg)};return n.addEventListener("change",r),t(window.innerWidth<Eg),()=>n.removeEventListener("change",r)},[]),!!e}const V=h.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));V.displayName="Input";var rY="Separator",v1="horizontal",aY=["horizontal","vertical"],lF=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=v1,...a}=e,o=oY(r)?r:v1,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Ae.div,{"data-orientation":o,...l,...a,ref:t})});lF.displayName=rY;function oY(e){return aY.includes(e)}var cF=lF;const it=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(cF,{ref:a,decorative:n,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));it.displayName=cF.displayName;var sN="Dialog",[dF,uF]=Qs(sN),[iY,lr]=dF(sN),hF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=Fn({prop:r,defaultProp:a,onChange:o});return s.jsx(iY,{scope:t,triggerRef:l,contentRef:c,contentId:An(),titleId:An(),descriptionId:An(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i,children:n})};hF.displayName=sN;var mF="DialogTrigger",pF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lr(mF,n),o=$e(t,a.triggerRef);return s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aN(a.open),...r,ref:o,onClick:ye(e.onClick,a.onOpenToggle)})});pF.displayName=mF;var nN="DialogPortal",[lY,fF]=dF(nN,{forceMount:void 0}),xF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=lr(nN,t);return s.jsx(lY,{scope:t,forceMount:n,children:h.Children.map(r,i=>s.jsx(ls,{present:n||o.open,children:s.jsx(fu,{asChild:!0,container:a,children:i})}))})};xF.displayName=nN;var vp="DialogOverlay",gF=h.forwardRef((e,t)=>{const n=fF(vp,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=lr(vp,e.__scopeDialog);return o.modal?s.jsx(ls,{present:r||o.open,children:s.jsx(cY,{...a,ref:t})}):null});gF.displayName=vp;var cY=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lr(vp,n);return s.jsx(Bf,{as:mn,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ae.div,{"data-state":aN(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ti="DialogContent",vF=h.forwardRef((e,t)=>{const n=fF(ti,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=lr(ti,e.__scopeDialog);return s.jsx(ls,{present:r||o.open,children:o.modal?s.jsx(dY,{...a,ref:t}):s.jsx(uY,{...a,ref:t})})});vF.displayName=ti;var dY=h.forwardRef((e,t)=>{const n=lr(ti,e.__scopeDialog),r=h.useRef(null),a=$e(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return Cu(o)},[]),s.jsx(yF,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault())})}),uY=h.forwardRef((e,t)=>{const n=lr(ti,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return s.jsx(yF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),yF=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=lr(ti,n),c=h.useRef(null),d=$e(t,c);return _0(),s.jsxs(s.Fragment,{children:[s.jsx(Lf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Ql,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":aN(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(mY,{titleId:l.titleId}),s.jsx(fY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rN="DialogTitle",jF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lr(rN,n);return s.jsx(Ae.h2,{id:a.titleId,...r,ref:t})});jF.displayName=rN;var wF="DialogDescription",NF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lr(wF,n);return s.jsx(Ae.p,{id:a.descriptionId,...r,ref:t})});NF.displayName=wF;var bF="DialogClose",SF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=lr(bF,n);return s.jsx(Ae.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,()=>a.onOpenChange(!1))})});SF.displayName=bF;function aN(e){return e?"open":"closed"}var CF="DialogTitleWarning",[hY,EF]=dU(CF,{contentName:ti,titleName:rN,docsSlug:"dialog"}),mY=({titleId:e})=>{const t=EF(CF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},pY="DialogDescriptionWarning",fY=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EF(pY).contentName}}.`;return h.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},oN=hF,TF=pF,iN=xF,ku=gF,Du=vF,Mu=jF,Ru=NF,Jf=SF;const xY=oN,gY=iN,PF=h.forwardRef(({className:e,...t},n)=>s.jsx(ku,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));PF.displayName=ku.displayName;const vY=pi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AF=h.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(gY,{children:[s.jsx(PF,{}),s.jsxs(Du,{ref:a,className:re(vY({side:e}),t),...r,children:[n,s.jsxs(Jf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AF.displayName=Du.displayName;const yY=h.forwardRef(({className:e,...t},n)=>s.jsx(Mu,{ref:n,className:re("text-lg font-semibold text-foreground",e),...t}));yY.displayName=Mu.displayName;const jY=h.forwardRef(({className:e,...t},n)=>s.jsx(Ru,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));jY.displayName=Ru.displayName;const wY="sidebar:state",NY=60*60*24*7,bY="16rem",SY="18rem",CY="3rem",EY="b",kF=h.createContext(null);function Fu(){const e=h.useContext(kF);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const DF=h.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:o,...i},l)=>{const c=nY(),[d,u]=h.useState(!1),[m,f]=h.useState(e),x=t??m,g=h.useCallback(y=>{const j=typeof y=="function"?y(x):y;n?n(j):f(j),document.cookie=`${wY}=${j}; path=/; max-age=${NY}`},[n,x]),p=h.useCallback(()=>c?u(y=>!y):g(y=>!y),[c,g,u]);h.useEffect(()=>{const y=j=>{j.key===EY&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const w=x?"expanded":"collapsed",v=h.useMemo(()=>({state:w,open:x,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:p}),[w,x,g,c,d,u,p]);return s.jsx(kF.Provider,{value:v,children:s.jsx(MD,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":bY,"--sidebar-width-icon":CY,...a},className:re("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});DF.displayName="SidebarProvider";const TY=h.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...o},i)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Fu();return n==="none"?s.jsx("div",{className:re("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:a}):l?s.jsx(xY,{open:d,onOpenChange:u,...o,children:s.jsx(AF,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":SY},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:re("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:re("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});TY.displayName="Sidebar";const PY=h.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=Fu();return s.jsxs(z,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:re("h-7 w-7",e),onClick:o=>{t?.(o),a()},...n,children:[s.jsx(m8,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});PY.displayName="SidebarTrigger";const AY=h.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Fu();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:re("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});AY.displayName="SidebarRail";const kY=h.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:re("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));kY.displayName="SidebarInset";const DY=h.forwardRef(({className:e,...t},n)=>s.jsx(V,{ref:n,"data-sidebar":"input",className:re("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));DY.displayName="SidebarInput";const MY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:re("flex flex-col gap-2 p-2",e),...t}));MY.displayName="SidebarHeader";const RY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:re("flex flex-col gap-2 p-2",e),...t}));RY.displayName="SidebarFooter";const FY=h.forwardRef(({className:e,...t},n)=>s.jsx(it,{ref:n,"data-sidebar":"separator",className:re("mx-2 w-auto bg-sidebar-border",e),...t}));FY.displayName="SidebarSeparator";const OY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));OY.displayName="SidebarContent";const IY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:re("relative flex w-full min-w-0 flex-col p-2",e),...t}));IY.displayName="SidebarGroup";const LY=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?mn:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:re("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});LY.displayName="SidebarGroupLabel";const _Y=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?mn:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:re("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});_Y.displayName="SidebarGroupAction";const $Y=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:re("w-full text-sm",e),...t}));$Y.displayName="SidebarGroupContent";const VY=h.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:re("flex w-full min-w-0 flex-col gap-1",e),...t}));VY.displayName="SidebarMenu";const UY=h.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:re("group/menu-item relative",e),...t}));UY.displayName="SidebarMenuItem";const BY=pi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),HY=h.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:o,...i},l)=>{const c=e?mn:"button",{isMobile:d,state:u}=Fu(),m=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:re(BY({variant:n,size:r}),o),...i});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(CH,{children:[s.jsx(EH,{asChild:!0,children:m}),s.jsx(RD,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});HY.displayName="SidebarMenuButton";const zY=h.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const o=t?mn:"button";return s.jsx(o,{ref:a,"data-sidebar":"menu-action",className:re("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});zY.displayName="SidebarMenuAction";const qY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:re("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));qY.displayName="SidebarMenuBadge";const WY=h.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:re("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Ye,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ye,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});WY.displayName="SidebarMenuSkeleton";const YY=h.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:re("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));YY.displayName="SidebarMenuSub";const XY=h.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));XY.displayName="SidebarMenuSubItem";const KY=h.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},o)=>{const i=e?mn:"a";return s.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:re("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});KY.displayName="SidebarMenuSubButton";const GY=()=>{const{user:e,logout:t}=Mr(),{toggleSidebar:n}=Fu();return s.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:s.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:n,className:"md:hidden","aria-label":"Toggle sidebar",children:s.jsx(u8,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IFB"})}),s.jsx("h1",{className:"text-xl font-semibold app-name-gradient",children:"Integrix Flow Bridge"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(sY,{}),s.jsx("div",{className:"h-6 w-px bg-border"}),s.jsxs(z,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[s.jsx(kk,{className:"h-4 w-4"}),s.jsx(ce,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),s.jsxs(qf,{children:[s.jsx(Wf,{asChild:!0,children:s.jsxs(z,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(eo,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:e?.username})]})}),s.jsxs(Pu,{align:"end",className:"w-56",children:[s.jsxs(Gt,{children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Profile"]}),s.jsxs(Gt,{children:[s.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Settings"]}),s.jsx(qr,{}),s.jsxs(Gt,{onClick:t,className:"text-destructive",children:[s.jsx(d8,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},Rc={getEnvironmentConfig:async()=>{try{const e=await J.get("/system/config/environment");return e.data&&typeof e.data=="object"&&"type"in e.data?e.data:(console.warn("Invalid environment config response, using defaults"),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}})}catch(e){return console.error("Error fetching environment config:",e),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}}},getPermissions:async()=>{try{const e=await J.get("/system/config/permissions");return e.data&&typeof e.data=="object"?e.data:(console.warn("Invalid permissions response, using defaults"),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1})}catch(e){return console.error("Error fetching permissions:",e),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}},updateEnvironmentType:async e=>(await J.put("/system/config/environment",{environmentType:e})).data,checkPermission:async e=>(await J.get("/system/config/check-permission",{params:{action:e}})).data.allowed,checkUIVisibility:async e=>(await J.get("/system/config/ui-visibility",{params:{element:e}})).data.visible,getSystemTimezone:async()=>{try{return(await J.get("/system/config/timezone")).data}catch(e){return console.error("Error fetching system timezone:",e),{timezone:"Africa/Johannesburg",dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:ss",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"}}},updateSystemTimezone:async e=>{await J.put("/system/config/timezone",{timezone:e})},getAvailableTimezones:async()=>{try{return(await J.get("/system/config/timezones")).data||[]}catch(e){return console.error("Error fetching available timezones:",e),[]}}},hc=()=>{const[e,t]=h.useState(void 0),[n,r]=h.useState(void 0),[a,o]=h.useState(!0),i=async()=>{try{const[u,m]=await Promise.all([Rc.getEnvironmentConfig(),Rc.getPermissions()]);t(u),r(m)}catch(u){console.error("Error fetching environment data:",u),t({type:"DEVELOPMENT",name:"Development"}),r({isAdmin:!1,canWrite:!0,canRead:!0})}finally{o(!1)}};return h.useEffect(()=>{i()},[]),{environmentInfo:e,permissions:n,isLoading:a,checkPermission:async u=>{try{return await Rc.checkPermission(u)}catch{return!1}},checkUIVisibility:async u=>{try{return await Rc.checkUIVisibility(u)}catch{return!0}},updateEnvironmentType:async u=>{const m=await Rc.updateEnvironmentType(u);return await i(),m},isDevelopment:e?.type==="DEVELOPMENT",isQA:e?.type==="QUALITY_ASSURANCE",isProduction:e?.type==="PRODUCTION"}},Tg=[{name:"Dashboard",href:"/dashboard",icon:Lk,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Data Structures",href:"/data-structures",icon:$o,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Communication Adapters",href:"/communication-adapters",icon:x0,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Business Components",href:"/business-components",icon:np,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Interface Management",href:"/all-interfaces",icon:Fd,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Message Monitor",href:"/messages",icon:Us,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Adapter Monitoring",href:"/adapter-monitoring",icon:Zl,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Development Functions",href:"/development-functions",icon:on,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Admin Panel",href:"/admin",icon:Ms,roles:["administrator"],requiresDevEnv:!1},{name:"Settings",href:"/settings",icon:Lt,roles:["administrator"],requiresDevEnv:!1}],JY=()=>{const[e,t]=h.useState(!1),{user:n}=Mr(),{isDevelopment:r,permissions:a}=hc(),o=h.useMemo(()=>{if(!Array.isArray(Tg))return console.error("Navigation is not an array:",Tg),[];try{return Tg.filter(i=>{const l=n?.role==="administrator"?"administrator":n?.role;return!n||!l||!i.roles.includes(l)||i.requiresDevEnv&&!r?!1:i.name==="Admin Panel"||i.name==="Settings"?a?.isAdmin||l==="administrator":!0})}catch(i){return console.error("Error filtering navigation:",i),[]}},[n,r,a]);return s.jsx("div",{className:re("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?s.jsx(On,{className:"h-4 w-4 transition-transform duration-300"}):s.jsx(Dk,{className:"h-4 w-4 transition-transform duration-300"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(i=>s.jsxs(Ez,{to:i.href,className:({isActive:l})=>re("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",l?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[s.jsx(i.icon,{className:re("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&s.jsx("span",{className:"transition-all duration-300",children:i.name})]},i.name))}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsx("div",{className:re("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Version 1.0.0"}),s.jsx("div",{children:" 2024 Integrix Flow Bridge"})]})})})]})})},wa=[],QY=10,mc=()=>{const e=Ls(),t=Zs(),n=h.useRef(null);return h.useEffect(()=>{t.pathname!==n.current&&(wa.push({pathname:t.pathname,state:t.state,timestamp:Date.now()}),wa.length>QY&&wa.shift(),n.current=t.pathname)},[t]),{navigateBack:(i="/dashboard")=>{const l=wa.filter(c=>c.pathname!==t.pathname);if(l.length>0){const c=l[l.length-1];e(c.pathname,{state:c.state})}else e(i)},isDirectNavigation:()=>{if(wa.length<2)return!0;const i=t.pathname,l=wa[wa.length-2]?.pathname;if(!l)return!0;const c=i.split("/")[1],d=l?.split("/")[1];return c!==d},getBreadcrumbs:()=>{const i=t.pathname.split("/").filter(Boolean),l=[{label:"Home",path:"/"}];let c="";return i.forEach(d=>{c+=`/${d}`,l.push({label:ZY(d),path:c})}),l},currentPath:t.pathname,hasHistory:wa.length>1}};function ZY(e){return e==="settings"?"User Settings":e==="development-functions"?"Development Functions":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const eX=()=>{const{getBreadcrumbs:e,currentPath:t}=mc(),n=e();return t==="/login"||t==="/"?null:s.jsx("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground px-6 py-2 border-b",children:n.map((r,a)=>{const o=a===n.length-1,i=a===0;return s.jsxs("div",{className:"flex items-center",children:[!i&&s.jsx(On,{className:"h-4 w-4 mx-1"}),o?s.jsxs("span",{className:"font-medium text-foreground flex items-center",children:[i&&s.jsx(Ey,{className:"h-4 w-4 mr-1"}),r.label]}):s.jsxs(qD,{to:r.path,className:re("hover:text-foreground transition-colors flex items-center","hover:underline"),children:[i&&s.jsx(Ey,{className:"h-4 w-4 mr-1"}),r.label]})]},r.path)})})};var MF="AlertDialog",[tX,pve]=Qs(MF,[uF]),fa=uF(),RF=e=>{const{__scopeAlertDialog:t,...n}=e,r=fa(t);return s.jsx(oN,{...r,...n,modal:!0})};RF.displayName=MF;var sX="AlertDialogTrigger",FF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=fa(n);return s.jsx(TF,{...a,...r,ref:t})});FF.displayName=sX;var nX="AlertDialogPortal",OF=e=>{const{__scopeAlertDialog:t,...n}=e,r=fa(t);return s.jsx(iN,{...r,...n})};OF.displayName=nX;var rX="AlertDialogOverlay",IF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=fa(n);return s.jsx(ku,{...a,...r,ref:t})});IF.displayName=rX;var vl="AlertDialogContent",[aX,oX]=tX(vl),LF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,o=fa(n),i=h.useRef(null),l=$e(t,i),c=h.useRef(null);return s.jsx(hY,{contentName:vl,titleName:_F,docsSlug:"alert-dialog",children:s.jsx(aX,{scope:n,cancelRef:c,children:s.jsxs(Du,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ye(a.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(l0,{children:r}),s.jsx(lX,{contentRef:i})]})})})});LF.displayName=vl;var _F="AlertDialogTitle",$F=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=fa(n);return s.jsx(Mu,{...a,...r,ref:t})});$F.displayName=_F;var VF="AlertDialogDescription",UF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=fa(n);return s.jsx(Ru,{...a,...r,ref:t})});UF.displayName=VF;var iX="AlertDialogAction",BF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=fa(n);return s.jsx(Jf,{...a,...r,ref:t})});BF.displayName=iX;var HF="AlertDialogCancel",zF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=oX(HF,n),o=fa(n),i=$e(t,a);return s.jsx(Jf,{...o,...r,ref:i})});zF.displayName=HF;var lX=({contentRef:e})=>{const t=`\`${vl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vl}\` by passing a \`${VF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},cX=RF,dX=FF,uX=OF,qF=IF,WF=LF,YF=BF,XF=zF,KF=$F,GF=UF;const Qf=cX,hX=dX,mX=uX,JF=h.forwardRef(({className:e,...t},n)=>s.jsx(qF,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));JF.displayName=qF.displayName;const Ou=h.forwardRef(({className:e,...t},n)=>s.jsxs(mX,{children:[s.jsx(JF,{}),s.jsx(WF,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ou.displayName=WF.displayName;const Iu=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Iu.displayName="AlertDialogHeader";const Lu=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lu.displayName="AlertDialogFooter";const _u=h.forwardRef(({className:e,...t},n)=>s.jsx(KF,{ref:n,className:re("text-lg font-semibold",e),...t}));_u.displayName=KF.displayName;const $u=h.forwardRef(({className:e,...t},n)=>s.jsx(GF,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));$u.displayName=GF.displayName;const Vu=h.forwardRef(({className:e,...t},n)=>s.jsx(YF,{ref:n,className:re(Vd(),e),...t}));Vu.displayName=YF.displayName;const Zf=h.forwardRef(({className:e,...t},n)=>s.jsx(XF,{ref:n,className:re(Vd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Zf.displayName=XF.displayName;const pX=()=>{const{tokenExpiry:e}=Mr(),{toast:t}=Be(),[n,r]=h.useState(!1),[a,o]=h.useState(0);h.useEffect(()=>{if(!e)return;const c=()=>{const u=e-Date.now();o(u),u<=10*60*1e3&&u>0?r(!0):r(!1),u<=5*60*1e3&&u>4*60*1e3&&t({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),u<=1*60*1e3&&u>30*1e3&&t({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[e,t]);const i=()=>{r(!1),t({title:"Session Extended",description:"Your session has been extended."})},l=c=>{const d=Math.floor(c/6e4),u=Math.floor(c%(1e3*60)/1e3);return`${d}:${u.toString().padStart(2,"0")}`};return s.jsx(Qf,{open:n&&a>0,children:s.jsxs(Ou,{children:[s.jsxs(Iu,{children:[s.jsxs(_u,{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs($u,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:l(a)}),s.jsx("p",{className:"text-sm",children:"Please save your work or extend your session to continue."})]})]}),s.jsx(Lu,{children:s.jsx(Vu,{onClick:i,children:"Extend Session"})})]})})},fX=()=>{const{tokenExpiry:e,checkSession:t,logout:n}=Mr(),[r,a]=h.useState(!1),[o,i]=h.useState(0);h.useEffect(()=>{if(!e)return;const d=()=>{const m=Date.now(),f=e-m,x=5*60*1e3;f<=0?n():f<=x&&!r&&(a(!0),i(Math.floor(f/1e3)))};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[e,n,r]),h.useEffect(()=>{if(!r||o<=0)return;const d=setInterval(()=>{i(u=>u<=1?(n(),0):u-1)},1e3);return()=>clearInterval(d)},[r,n]);const l=async()=>{try{await t()&&(a(!1),i(0))}catch(d){console.error("Failed to extend session:",d),n()}},c=d=>{const u=Math.floor(d/60),m=d%60;return`${u}:${m.toString().padStart(2,"0")}`};return s.jsx(Qf,{open:r,onOpenChange:a,children:s.jsxs(Ou,{children:[s.jsxs(Iu,{children:[s.jsxs(_u,{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs($u,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:c(o)}),s.jsx("p",{className:"text-sm",children:"Would you like to extend your session or logout?"})]})]}),s.jsxs(Lu,{children:[s.jsx(Zf,{onClick:n,children:"Logout"}),s.jsx(Vu,{onClick:l,children:"Extend Session"})]})]})})},xX=()=>s.jsx(DF,{children:s.jsxs("div",{className:"min-h-screen w-full bg-background flex flex-col",children:[s.jsx(GY,{}),s.jsxs("div",{className:"flex flex-1 w-full",children:[s.jsx(JY,{}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 w-full max-w-none",children:[s.jsx(eX,{}),s.jsx("main",{className:"flex-1 overflow-auto p-6 w-full",children:s.jsx(HD,{})})]})]}),s.jsx(pX,{}),s.jsx(fX,{})]})});var gX="Label",QF=h.forwardRef((e,t)=>s.jsx(Ae.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QF.displayName=gX;var ZF=QF;const vX=pi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=h.forwardRef(({className:e,...t},n)=>s.jsx(ZF,{ref:n,className:re(vX(),e),...t}));E.displayName=ZF.displayName;const q=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const se=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));se.displayName="CardHeader";const ne=h.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const xe=h.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const Z=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Z.displayName="CardContent";const yX=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));yX.displayName="CardFooter";const jX=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,o]=h.useState(!1),{login:i,isAuthenticated:l}=Mr(),{toast:c}=Be(),u=Zs().state?.from?.pathname||"/dashboard";if(l)return s.jsx(up,{to:u,replace:!0});const m=async f=>{f.preventDefault(),o(!0),await i(e,n,u)||c({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),o(!1)};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-secondary relative overflow-hidden p-4",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),s.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),s.jsx("div",{className:"w-full max-w-md relative z-10",children:s.jsxs(q,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[s.jsxs(se,{className:"text-center space-y-6 animate-fade-in",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-2xl bg-primary flex items-center justify-center animate-glow",children:s.jsx(Sn,{className:"h-8 w-8 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{className:"text-3xl font-bold bg-primary bg-clip-text text-transparent",children:"Integrix Flow Bridge"}),s.jsx(xe,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),s.jsx(Z,{className:"space-y-6 animate-slide-up",children:s.jsxs("form",{onSubmit:m,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(eo,{className:"h-4 w-4"}),"Username"]}),s.jsx(V,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:f=>t(f.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(o8,{className:"h-4 w-4"}),"Password"]}),s.jsx(V,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsx(z,{type:"submit",className:"w-full bg-primary hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(sp,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function wX(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:f,children:x,...g}=m,p=f?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})}function u(m,f){const x=f?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,NX(a,...t)]}function NX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var lN="Progress",cN=100,[bX,fve]=wX(lN),[SX,CX]=bX(lN),eO=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:o=EX,...i}=e;(a||a===0)&&!y1(a)&&console.error(TX(`${a}`,"Progress"));const l=y1(a)?a:cN;r!==null&&!j1(r,l)&&console.error(PX(`${r}`,"Progress"));const c=j1(r,l)?r:null,d=yp(c)?o(c,l):void 0;return s.jsx(SX,{scope:n,value:c,max:l,children:s.jsx(Ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":yp(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":nO(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});eO.displayName=lN;var tO="ProgressIndicator",sO=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=CX(tO,n);return s.jsx(Ae.div,{"data-state":nO(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});sO.displayName=tO;function EX(e,t){return`${Math.round(e/t*100)}%`}function nO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function yp(e){return typeof e=="number"}function y1(e){return yp(e)&&!isNaN(e)&&e>0}function j1(e,t){return yp(e)&&!isNaN(e)&&e<=t&&e>=0}function TX(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${cN}\`.`}function PX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${cN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rO=eO,AX=sO;const Uu=h.forwardRef(({className:e,value:t,...n},r)=>s.jsx(rO,{ref:r,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(AX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Uu.displayName=rO.displayName;function ex({children:e,className:t}){return s.jsx("div",{className:re("w-full px-6 md:px-8 py-6 space-y-6 animate-fade-in",t),children:e})}const tx=({title:e,description:t,icon:n,actions:r,className:a})=>s.jsxs("div",{className:re("flex items-center justify-between mb-6 animate-slide-up",a),children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n&&s.jsx("span",{className:"text-primary [&>svg]:h-5 [&>svg]:w-5",children:n}),e]}),t&&s.jsx("p",{className:"text-muted-foreground mt-1",children:t})]}),r&&s.jsx("div",{className:"flex items-center gap-3",children:r})]});class kX{async getDashboardStats(t){try{const n=t?`/dashboard/stats?businessComponentId=${t}`:"/dashboard/stats";return await J.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard stats"}}}async getDashboardMetrics(t){try{const n=t?`/dashboard/metrics?businessComponentId=${t}`:"/dashboard/metrics",r=await J.get(n);if(r.success&&r.data){const a=r.data;return{success:!0,data:[{title:"Active Integrations",value:a.activeIntegrations?.toString()||"0",change:"+0%",icon:"Activity",color:"text-success"},{title:"Messages Today",value:a.messagesToday?.toLocaleString()||"0",change:"+0%",icon:"MessageSquare",color:"text-info"},{title:"Success Rate",value:a.successRate?`${a.successRate.toFixed(1)}%`:"0.0%",change:"+0%",icon:"CheckCircle",color:"text-success"},{title:"Avg Response Time",value:a.avgResponseTime?`${a.avgResponseTime}ms`:"0ms",change:"0ms",icon:"Zap",color:"text-warning"}]}}return{success:!1,data:[],error:"Invalid response format"}}catch(n){return console.error("Dashboard metrics error:",n),{success:!1,data:[],error:n instanceof Error?n.message:"Failed to fetch dashboard metrics"}}}async getRecentMessages(t,n=10){try{const r=t?`/messages/recent?businessComponentId=${t}&limit=${n}`:`/messages/recent?limit=${n}`;return await J.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch recent messages"}}}async getAdapterStatuses(t){try{const n=t?`/adapter-monitoring/status?businessComponentId=${t}`:"/adapter-monitoring/status";return await J.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter statuses"}}}async getDashboardData(t){try{const[n,r,a]=await Promise.all([this.getDashboardStats(t),this.getRecentMessages(t),this.getAdapterStatuses(t)]);if(!n.success||!r.success||!a.success)return{success:!1,error:"Failed to fetch some dashboard data"};const o=await this.getDashboardMetrics(t);return{success:!0,data:{stats:n.data,metrics:o.data||[],recentMessages:r.data||[],adapterStatuses:a.data||[]}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard data"}}}}const Pg=new kX;class DX{async getAllBusinessComponents(){try{return{success:!0,data:await rt.get("/business-components")}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{return{success:!0,data:await rt.get(`/business-components/${t}`)}}catch(n){return console.error("Failed to fetch business component:",n),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const n=await rt.post("/business-components",t);return console.log("Frontend: Created business component:",n),{success:!0,data:n}}catch(n){return console.error("Frontend: Failed to create business component:",n),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{return{success:!0,data:await rt.put(`/business-components/${t.id}`,t)}}catch(n){return console.error("Failed to update business component:",n),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{return await rt.delete(`/business-components/${t}`),{success:!0}}catch(n){return console.error("Failed to delete business component:",n),{success:!1,error:"Failed to delete business component"}}}}const Wr=new DX;function sx(e){h.useEffect(()=>{const t=document.title;return document.title=`${e} | Integrix Flow Bridge`,()=>{document.title=t}},[e])}const nx=e=>{h.useEffect(()=>{const t=document.querySelector('meta[name="description"]'),n=document.querySelector('meta[property="og:description"]');if(t){const r=t.getAttribute("content")||"";return t.setAttribute("content",e),n&&n.setAttribute("content",e),()=>{t.setAttribute("content",r),n&&r&&n.setAttribute("content",r)}}},[e])},MX=pi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),et=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:re(MX({variant:t}),e),...n}));et.displayName="Alert";const vi=h.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));vi.displayName="AlertTitle";const tt=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));tt.displayName="AlertDescription";function RX({title:e="Error",error:t,className:n,variant:r="destructive"}){const a=t instanceof Error?t.message:typeof t=="string"?t:"An unexpected error occurred",o=r==="destructive"?En:Nt;return s.jsxs(et,{variant:r,className:re("mb-4",n),children:[s.jsx(o,{className:"h-4 w-4"}),s.jsx(vi,{children:e}),s.jsx(tt,{children:a})]})}const FX={Activity:Zl,MessageSquare:Us,CheckCircle:Ns,XCircle:En,Clock:Rs,TrendingUp:N8,Server:vf,Zap:Pn,Users:Ms},OX=()=>{sx("Dashboard"),nx("Monitor your integration flows, adapter status, and system performance in real-time with the Integrix Flow Bridge dashboard."),console.log("Dashboard component loading...");const[e,t]=h.useState(null),[n,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!0),[f,x]=h.useState(!0),[g,p]=h.useState(null),[w,v]=h.useState([]),[y,j]=h.useState(!0);return h.useEffect(()=>{(async()=>{try{console.log("Dashboard - loading business components...");const b=await Wr.getAllBusinessComponents();b.success&&b.data&&v(b.data)}catch(b){console.error("Error loading business components:",b)}finally{j(!1)}})()},[]),console.log("Dashboard - business components:",w,"loading:",y),h.useEffect(()=>{const N=async()=>{try{p(null);const T=e?.id;d(!0);const S=await Pg.getDashboardMetrics(T);console.log("Metrics response:",S),S.success&&S.data&&Array.isArray(S.data)?r(S.data):(console.error("Failed to fetch metrics:",S.error),r([])),d(!1),m(!0);const A=await Pg.getRecentMessages(T);A.success&&A.data?o(A.data):(console.error("Failed to fetch messages:",A.error),o([])),m(!1),x(!0);const M=await Pg.getAdapterStatuses(T);M.success&&M.data?l(M.data):(console.error("Failed to fetch adapters:",M.error),l([])),x(!1)}catch(T){console.error("Dashboard data fetch error:",T),p("Failed to load dashboard data"),r([]),o([]),l([]),d(!1),m(!1),x(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e]),console.log("Dashboard render - about to return JSX"),s.jsxs(ex,{className:"max-w-none px-0 md:px-0",children:[s.jsx(tx,{title:"Integration Dashboard",description:"Monitor your integration flows and system health",icon:s.jsx(Lk,{})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(K,{value:e?.id||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=w.find(T=>T.id===N);t(b||null)}},children:[s.jsx(Y,{id:"business-component",className:"w-[280px]",children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Components"}),w.map(N=>s.jsx(D,{value:N.id,children:N.name},N.id))]})]})]}),g&&s.jsx(RX,{error:g}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c?s.jsx("div",{className:"col-span-full flex justify-center p-8",children:s.jsx(ht,{className:"h-8 w-8 animate-spin"})}):n&&Array.isArray(n)?n.map((N,b)=>{const T=FX[N.icon]||Zl,S=N.change.startsWith("+")||N.change.startsWith("-")&&N.change.includes("ms");return s.jsxs(q,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:N.title}),s.jsx(T,{className:`h-4 w-4 ${N.color}`})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.value}),s.jsxs("p",{className:`text-xs ${S?"text-success":"text-destructive"}`,children:[N.change," from last period"]})]})]},b)}):s.jsx("div",{className:"col-span-full",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No metrics available"})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Recent Messages"}),s.jsx(xe,{children:"Latest integration messages"})]}),s.jsx(Z,{children:u?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(ht,{className:"h-6 w-6 animate-spin"})}):!a||!Array.isArray(a)||a.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent messages"}):s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ce,{variant:N.status==="success"?"success":N.status==="failed"?"destructive":"secondary",children:N.status}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[N.source,"  ",N.target]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]}),N.status==="success"&&s.jsx(Ns,{className:"h-4 w-4 text-success"}),N.status==="failed"&&s.jsx(En,{className:"h-4 w-4 text-destructive"}),N.status==="processing"&&s.jsx(Rs,{className:"h-4 w-4 text-warning animate-pulse"})]},N.id))})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Adapter Monitoring"}),s.jsx(xe,{children:"Active communication adapters"})]}),s.jsx(Z,{children:f?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(ht,{className:"h-6 w-6 animate-spin"})}):!i||!Array.isArray(i)||i.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No active adapters"}):s.jsx("div",{className:"space-y-4",children:i.map((N,b)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:N.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",children:N.type}),s.jsx(ce,{variant:"secondary",children:N.mode}),s.jsx(ce,{variant:N.status==="running"?"success":N.status==="stopped"?"secondary":"destructive",children:N.status})]})]}),s.jsx(Uu,{value:N.load,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{children:["Load: ",N.load,"%"]}),N.messagesProcessed!==void 0&&s.jsxs("span",{children:["Messages: ",N.messagesProcessed.toLocaleString()]})]})]},b))})})]})]})]})},IX=()=>(console.log("TestPage - rendering without React Query"),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),s.jsx("p",{children:"This is a simple test page without React Query to verify navigation works."})]})),aO=({children:e,requireDevelopment:t=!0,customMessage:n})=>{const{isDevelopment:r,environmentInfo:a}=hc(),o=Ls();return t&&!r?s.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:s.jsx(q,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:s.jsx(Za,{className:"h-12 w-12 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Page Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:n||`This page is only available in development environment. 
                     The system is currently configured as ${a?.displayName||"non-development"}.`})]}),s.jsxs(et,{className:"mt-4",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx(vi,{children:"Why is this restricted?"}),s.jsxs(tt,{children:["In ",a?.displayName||"this"," environment, creation and modification of flows, adapters, and data structures is disabled to prevent accidental changes. You can still import flows, modify adapter configurations, and manage deployments."]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(z,{onClick:()=>o(-1),variant:"outline",children:"Go Back"}),s.jsx(z,{onClick:()=>o("/interfaces"),children:"Interface Management"})]})]})})})}):s.jsx(s.Fragment,{children:e})};function LX(){const e=Ls();return mc(),s.jsx(aO,{children:s.jsxs("div",{className:"w-full p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(q,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(se,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx(Ra,{className:"h-8 w-8 text-primary"})}),s.jsx(ne,{className:"text-xl",children:"Create Orchestration Flow"}),s.jsx(xe,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),s.jsxs(Z,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual workflow designer"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Message routing & transformation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Multi-system orchestration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Error handling & compensation"})]})]}),s.jsx(z,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),s.jsxs(q,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(se,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx(hl,{className:"h-8 w-8 text-primary"})}),s.jsx(ne,{className:"text-xl",children:"Create Direct Mapping Flow"}),s.jsx(xe,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),s.jsxs(Z,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Point-to-point integration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual field mapping"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Transformation functions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Quick setup & deployment"})]})]}),s.jsx(z,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]})]})})}const oO=e=>{const t=Zs(),{isDirectNavigation:n}=mc(),r=h.useRef(!1),a=h.useRef(t.pathname);return h.useEffect(()=>{a.current!==t.pathname&&(a.current=t.pathname,n()?(e(),r.current=!0):r.current=!1)},[t.pathname,n,e]),{isDirectNavigation:n(),hasReset:r.current}},ke=h.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ke.displayName="Textarea";var dN="Switch",[_X,xve]=Qs(dN),[$X,VX]=_X(dN),iO=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[f,x]=h.useState(null),g=$e(t,j=>x(j)),p=h.useRef(!1),w=f?u||!!f.closest("form"):!0,[v=!1,y]=Fn({prop:a,defaultProp:o,onChange:d});return s.jsxs($X,{scope:n,checked:v,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":dO(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:ye(e.onClick,j=>{y(N=>!N),w&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),w&&s.jsx(UX,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});iO.displayName=dN;var lO="SwitchThumb",cO=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=VX(lO,n);return s.jsx(Ae.span,{"data-state":dO(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});cO.displayName=lO;var UX=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=h.useRef(null),i=Yf(n),l=bf(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const f=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(f)}},[i,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dO(e){return e?"checked":"unchecked"}var uO=iO,BX=cO;const ct=h.forwardRef(({className:e,...t},n)=>s.jsx(uO,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(BX,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ct.displayName=uO.displayName;const HX=({onSaveFlow:e,isLoading:t=!1,disabled:n=!1})=>s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Actions"}),s.jsx(xe,{children:"Save your integration flow"})]}),s.jsxs(Z,{className:"space-y-3",children:[s.jsx(z,{onClick:e,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",disabled:n||t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Flow"]})}),s.jsx(it,{}),s.jsxs(z,{variant:"outline",className:"w-full",children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),zX=({sourceAdapter:e,targetAdapter:t,sourceStructure:n,targetStructure:r,selectedTransformations:a,adapters:o,sampleStructures:i})=>{const l=d=>o.find(u=>u.id===d),c=d=>i.find(u=>u.id===d);return s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(se,{children:s.jsx(ne,{children:"Flow Summary"})}),s.jsx(Z,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(ce,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source:"}),s.jsx("span",{children:e?l(e)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),s.jsx("span",{children:n?c(n)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target:"}),s.jsx("span",{children:t?l(t)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),s.jsx("span",{children:r?c(r)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),s.jsx("span",{children:a.length})]})]})})]})},qX=()=>s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(se,{children:s.jsx(ne,{children:"Quick Tips"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Add transformations to modify data between systems"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]}),Zy=e=>{try{const t=JSON.parse(e);return ej(t)}catch{return null}},ej=e=>{if(Array.isArray(e))return e.length>0?["array",ej(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[n,r]of Object.entries(e))t[n]=ej(r);return t}else return typeof e},tj=(e,t)=>{try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return null;const o={},i=new Map,l=r.querySelector("schema, xs\\:schema, xsd\\:schema");if(!l)return null;const c=x=>{if(x.includes(":")&&t){const[y,j]=x.split(":"),N={},b=l?.attributes;if(b)for(let S=0;S<b.length;S++){const A=b[S];if(A.name.startsWith("xmlns:")){const M=A.name.substring(6);N[M]=A.value}}console.log("[XSD Parser] Namespace map:",N),console.log("[XSD Parser] Looking for namespace:",y,"with URI:",N[y]);const T=l?.querySelectorAll("import, xs\\:import, xsd\\:import");if(T)for(const S of T){const A=S.getAttribute("namespace"),M=S.getAttribute("schemaLocation");if(console.log("[XSD Parser] Checking import - namespace:",A,"location:",M),A===N[y]&&M){const L=[M,M.split("/").pop()||M,M.startsWith("structure://")?M:null].filter(Boolean);for(const F of L)if(F&&t[F]){const I=t[F];if(console.log("[XSD Parser] Found linked structure for location:",F),console.log("[XSD Parser] Looking for type:",j),console.log("[XSD Parser] Available types in linked structure:",Object.keys(I)),I[j])return console.log("[XSD Parser] Found type directly:",j),I[j];const U=j.replace(/-/g,"_");if(I[U])return console.log("[XSD Parser] Found type with underscore:",U),I[U];for(const[O,k]of Object.entries(I))if(typeof k=="object"&&k[j])return console.log("[XSD Parser] Found type nested under:",O),k[j]}}}}const g=x.split(":").pop()||"";if(i.has(g))return i.get(g);const p={string:"string",boolean:"boolean",decimal:"decimal",float:"float",double:"double",int:"integer",integer:"integer",long:"long",short:"short",byte:"byte",date:"date",dateTime:"datetime",time:"time",base64Binary:"base64",hexBinary:"hex",anyURI:"uri",QName:"qname",normalizedString:"string",token:"string",language:"string",ID:"string",IDREF:"string",ENTITY:"string",NMTOKEN:"string",NCName:"string"};if(p[g])return p[g];const w=l.querySelector(`complexType[name="${g}"], xs\\:complexType[name="${g}"], xsd\\:complexType[name="${g}"]`);if(w){const y={};return d(w,y),i.set(g,y),y}const v=l.querySelector(`simpleType[name="${g}"], xs\\:simpleType[name="${g}"], xsd\\:simpleType[name="${g}"]`);if(v){const y=v.querySelector("restriction, xs\\:restriction, xsd\\:restriction");if(y){const j=y.getAttribute("base")||"string";return c(j)}}return"string"},d=(x,g)=>{const p=x.querySelectorAll(":scope > sequence, :scope > xs\\:sequence, :scope > xsd\\:sequence, :scope > choice, :scope > xs\\:choice, :scope > xsd\\:choice, :scope > all, :scope > xs\\:all, :scope > xsd\\:all");p.length>0?p.forEach(v=>{u(v,g)}):u(x,g),x.querySelectorAll(":scope > attribute, :scope > xs\\:attribute, :scope > xsd\\:attribute").forEach(v=>{const y=v.getAttribute("name"),j=v.getAttribute("type"),N=v.getAttribute("use");if(y){const b=`@${y}${N==="required"?"*":""}`;g[b]=j?c(j):"string"}})},u=(x,g)=>{x.querySelectorAll(":scope > element, :scope > xs\\:element, :scope > xsd\\:element").forEach(w=>{const v=w.getAttribute("name"),y=w.getAttribute("type"),j=w.getAttribute("ref"),N=w.getAttribute("minOccurs"),b=w.getAttribute("maxOccurs"),T=N==="0",S=b==="unbounded"||b&&parseInt(b)>1;if(v||j){let M=v||j?.split(":").pop()||"";S&&(M+="[]"),!T&&!S&&(M+="*");const L=w.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(L){const F={};d(L,F),g[M]=F}else if(y)g[M]=c(y);else if(j){const F=j.split(":").pop()||"",I=l.querySelector(`element[name="${F}"], xs\\:element[name="${F}"], xsd\\:element[name="${F}"]`);if(I){const U=I.getAttribute("type");if(U)g[M]=c(U);else{const O=I.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(O){const k={};d(O,k),g[M]=k}else g[M]="string"}}else g[M]="string"}else g[M]="string"}})};return l.querySelectorAll(":scope > complexType, :scope > xs\\:complexType, :scope > xsd\\:complexType").forEach(x=>{const g=x.getAttribute("name");if(g&&!i.has(g)){const p={};d(x,p),i.set(g,p)}}),l.querySelectorAll(":scope > element, :scope > xs\\:element, :scope > xsd\\:element").forEach(x=>{const g=x.getAttribute("name"),p=x.getAttribute("type");if(g){const w=x.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(w){const v={};d(w,v),o[g]=v}else p?o[g]=c(p):o[g]="string"}}),Object.keys(o).length===0&&i.size>0&&i.forEach((x,g)=>{o[g]=x}),Object.keys(o).length>0?o:null}catch(n){return console.error("Error parsing XSD:",n),null}},jp=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=[],o=new Map,i=(g,p)=>{const w=g.split(":").pop()||"";if(o.has(w))return o.get(w);for(const v of p){const y=v.querySelector(`complexType[name="${w}"], xs\\:complexType[name="${w}"], xsd\\:complexType[name="${w}"]`);if(y){const N={};return c(y,N,0,p),o.set(w,N),N}const j=v.querySelector(`simpleType[name="${w}"], xs\\:simpleType[name="${w}"], xsd\\:simpleType[name="${w}"]`);if(j){const N=j.querySelector("restriction, xs\\:restriction, xsd\\:restriction");if(N)return(N.getAttribute("base")||"string").replace(/^(xs:|xsd:|tns:)/,"")}}return w.replace(/^(xs:|xsd:|tns:)/,"")},l=g=>{const p={};for(const[w,v]of g)p[w]=v;return p},c=(g,p,w=0,v)=>{const y=g.querySelectorAll(":scope > sequence > element, :scope > sequence > xs\\:element, :scope > sequence > xsd\\:element, :scope > element, :scope > xs\\:element, :scope > xsd\\:element"),j=[];y.forEach(N=>{const b=N.getAttribute("name"),T=N.getAttribute("type"),S=N.getAttribute("ref"),A=N.getAttribute("maxOccurs"),M=A==="unbounded"||A&&parseInt(A)>1;if(b||S){const L=b||S?.split(":").pop()||"",F=M?`${L}[]`:L;let I;const U=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(U){const O={};c(U,O,w+1,v),I=O}else if(T)I=i(T,v);else if(S){const O=S.split(":").pop()||"";for(const k of v){const C=k.querySelector(`element[name="${O}"], xs\\:element[name="${O}"], xsd\\:element[name="${O}"]`);if(C){const P=C.getAttribute("type");P&&(I=i(P,v));break}}I||(I="string")}else I="string";j.push([F,I])}});for(const[N,b]of j)p[N]=b},d=n.querySelectorAll("schema, xs\\:schema, xsd\\:schema");n.querySelectorAll("message, wsdl\\:message").forEach(g=>{g.querySelectorAll("part, wsdl\\:part").forEach(w=>{const v=w.getAttribute("element");if(v){const y=v.split(":").pop();for(const j of d){const N=j.querySelector(`element[name="${y}"], xs\\:element[name="${y}"], xsd\\:element[name="${y}"]`);if(N){const b=N.getAttribute("type");if(b){const T=i(b,d);typeof T=="object"?a.push([y,T]):a.push([y,{value:T}])}else{const T=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(T){const S={};c(T,S,0,d),a.push([y,S])}}break}}}})}),a.length===0&&d.forEach(g=>{g.querySelectorAll(":scope > element, :scope > xs\\:element, :scope > xsd\\:element").forEach(w=>{const v=w.getAttribute("name");if(v){const y=w.getAttribute("type");if(y){const j=i(y,d);typeof j=="object"?a.push([v,j]):a.push([v,{value:j}])}else{const j=w.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(j){const N={};c(j,N,0,d),a.push([v,N])}}}})});const m=l(a),f=n.querySelectorAll("operation, wsdl\\:operation");let x=null;if(f.length>0){const g=f[0],p=!!g.querySelector("input, wsdl\\:input"),w=!!g.querySelector("output, wsdl\\:output"),v=!!g.querySelector("fault, wsdl\\:fault");x={hasInput:p,hasOutput:w,hasFault:v,isSynchronous:p&&w,messageTypes:[]},p&&x.messageTypes.push("input"),w&&x.messageTypes.push("output"),v&&x.messageTypes.push("fault")}return Object.keys(m).length>0?{structure:m,operationInfo:x}:null}catch(t){return console.error("Error parsing WSDL:",t),null}},hO=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return console.error("WSDL parsing error:",r),{names:[],hasMultiple:!1};const a=n.documentElement;console.log("WSDL root element:",a.tagName,"namespace:",a.namespaceURI);const o=[],i=n.getElementsByTagName("*");for(let d=0;d<i.length;d++){const u=i[d];(u.localName==="portType"||u.tagName==="portType"||u.tagName==="wsdl:portType")&&o.push(u)}console.log("Found portTypes:",o.length);const l=[];o.forEach(d=>{const u=d.getElementsByTagName("*");for(let m=0;m<u.length;m++){const f=u[m];(f.localName==="operation"||f.tagName==="operation"||f.tagName==="wsdl:operation")&&f.parentElement===d&&l.push(f)}});const c=[];if(console.log("Found operations in portType:",l.length),l.forEach(d=>{const u=d.getAttribute("name");console.log("Operation element:",d.tagName,"name attribute:",u),u&&!c.includes(u)&&(c.push(u),console.log("Added operation:",u))}),c.length===0){console.log("No operations in portType, checking binding elements...");const d=[];for(let u=0;u<i.length;u++){const m=i[u];(m.localName==="binding"||m.tagName==="binding"||m.tagName==="wsdl:binding")&&d.push(m)}console.log("Found bindings:",d.length),d.forEach(u=>{const m=u.getElementsByTagName("*");for(let f=0;f<m.length;f++){const x=m[f];if((x.localName==="operation"||x.tagName==="operation"||x.tagName==="wsdl:operation")&&x.parentElement===u){const g=x.getAttribute("name");g&&!c.includes(g)&&(c.push(g),console.log("Found operation in binding:",g))}}})}return{names:c,hasMultiple:c.length>1}}catch(t){return console.error("Error extracting WSDL operations:",t),{names:[],hasMultiple:!1}}},sj=e=>{try{const{names:t,hasMultiple:n}=hO(e);return console.log("WSDL operation extraction result:",{names:t,hasMultiple:n}),t.length===1?t[0]:(t.length>1,null)}catch(t){return console.error("Error extracting WSDL part name:",t),null}},nj=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=n.documentElement,o=a.getAttribute("targetNamespace")||"",i=n.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";i.length>0&&(l=i[0].getAttribute("location")||"");let c="";for(let d=0;d<a.attributes.length;d++){const u=a.attributes[d];if(u.name.startsWith("xmlns:")&&u.value===o){c=u.name.replace("xmlns:","");break}}return{uri:o,prefix:c,targetNamespace:o,schemaLocation:l}}catch{return null}},mO=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return console.error("WSDL parsing error:",r),[];const a=[],o=n.getElementsByTagName("*"),i=[];for(let c=0;c<o.length;c++){const d=o[c];(d.localName==="binding"||d.tagName==="binding"||d.tagName==="wsdl:binding")&&i.push(d)}return i.forEach(c=>{const d=c.getElementsByTagName("*");for(let u=0;u<d.length;u++){const m=d[u];if((m.localName==="operation"||m.tagName==="operation"||m.tagName==="wsdl:operation")&&m.parentElement===c){const f=m.getAttribute("name");if(f){const x=m.getElementsByTagName("*");for(let g=0;g<x.length;g++){const p=x[g];if(p.localName==="operation"&&(p.namespaceURI==="http://schemas.xmlsoap.org/wsdl/soap/"||p.namespaceURI==="http://schemas.xmlsoap.org/wsdl/soap12/")){const w=p.getAttribute("soapAction");w!==null&&a.push({operationName:f,soapAction:w})}}}}}}),a.filter((c,d,u)=>d===u.findIndex(m=>m.operationName===c.operationName))}catch(t){return console.error("Error extracting SOAP actions:",t),[]}},wp=e=>{const t={};return e.forEach(n=>{n.children&&n.children.length>0?t[n.name]=wp(n.children):t[n.name]=n.type}),t},Np=e=>{const t={imports:[],includes:[],hasUnresolvedDependencies:!1};try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return t;r.querySelectorAll("import, xs\\:import, xsd\\:import").forEach(l=>{const c=l.getAttribute("namespace"),d=l.getAttribute("schemaLocation");(c||d)&&(t.imports.push({namespace:c||void 0,schemaLocation:d||void 0,type:"import"}),d&&(t.hasUnresolvedDependencies=!0))}),r.querySelectorAll("include, xs\\:include, xsd\\:include").forEach(l=>{const c=l.getAttribute("schemaLocation");c&&(t.includes.push({schemaLocation:c,type:"include"}),t.hasUnresolvedDependencies=!0)})}catch(n){console.error("Error extracting XSD dependencies:",n)}return t},rj=e=>{const t={uri:"",prefix:"",targetNamespace:"",schemaLocation:""};try{const a=new DOMParser().parseFromString(e,"text/xml").querySelector("schema, xs\\:schema, xsd\\:schema");if(!a)return t;const o=a.getAttribute("targetNamespace");o&&(t.targetNamespace=o,t.uri=o);const i=a.attributes;for(let d=0;d<i.length;d++){const u=i[d];if(u.name.startsWith("xmlns:")){const m=u.name.substring(6);u.value===o&&(t.prefix=m)}}const l=a.getAttribute("elementFormDefault");l&&(t.elementFormDefault=l);const c=a.getAttribute("attributeFormDefault");c&&(t.attributeFormDefault=c)}catch(n){console.error("Error extracting XSD namespace info:",n)}return t},bp=e=>{const t={imports:[],includes:[],hasUnresolvedDependencies:!1};try{const r=new DOMParser().parseFromString(e,"text/xml");if(r.querySelector("parsererror"))return t;r.querySelectorAll("schema, xs\\:schema, xsd\\:schema").forEach(l=>{l.querySelectorAll("import, xs\\:import, xsd\\:import").forEach(u=>{const m=u.getAttribute("namespace"),f=u.getAttribute("schemaLocation");(m||f)&&(t.imports.push({namespace:m||void 0,schemaLocation:f||void 0,type:"import"}),f&&(f.includes("../")||f.includes("./")||f.startsWith("http"))&&(t.hasUnresolvedDependencies=!0))}),l.querySelectorAll("include, xs\\:include, xsd\\:include").forEach(u=>{const m=u.getAttribute("schemaLocation");m&&(t.includes.push({schemaLocation:m,type:"include"}),(m.includes("../")||m.includes("./")||m.startsWith("http"))&&(t.hasUnresolvedDependencies=!0))})}),r.querySelectorAll("definitions > import, wsdl\\:definitions > wsdl\\:import").forEach(l=>{const c=l.getAttribute("namespace"),d=l.getAttribute("location");(c||d)&&(t.imports.push({namespace:c||void 0,schemaLocation:d||void 0,type:"import"}),d&&(d.includes("../")||d.includes("./")||d.startsWith("http"))&&(t.hasUnresolvedDependencies=!0))})}catch(n){console.error("Error extracting WSDL dependencies:",n)}return t};class WX{async createStructure(t){return J.post("/structures",t)}async getStructures(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(i=>n.append(a,i.toString())):n.append(a,o.toString()))});const r=`/structures${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async getStructure(t){return J.get(`/structures/${t}`)}async updateStructure(t,n){return J.put(`/structures/${t}`,n)}async deleteStructure(t){return J.delete(`/structures/${t}`)}async validateStructure(t,n){return J.post("/structures/validate",{structure:t,type:n})}async parseStructure(t,n){return J.post("/structures/parse",{content:t,type:n})}async generateSampleData(t,n){const r=`/structures/${t}/sample${n?`?format=${n}`:""}`;return J.get(r)}async getStructureUsage(t){return J.get(`/structures/${t}/usage`)}async cloneStructure(t,n){return J.post(`/structures/${t}/clone`,{name:n})}async compareStructures(t,n){return J.post("/structures/compare",{sourceId:t,targetId:n})}async getStructureMappings(t,n){return J.get(`/structures/mappings?source=${t}&target=${n}`)}async exportStructure(t,n){return J.get(`/structures/${t}/export?format=${n}`)}async searchStructures(t,n){const r=new URLSearchParams({q:t});return n&&Object.entries(n).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())}),J.get(`/structures/search?${r.toString()}`)}async getStructureVersions(t){return J.get(`/structures/${t}/versions`)}}const yn=new WX,YX=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],pc=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(null),[a,o]=h.useState(!1),{toast:i}=Be();h.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0),console.log("Loading data structures from backend...");const f=await yn.getStructures();if(f.success&&f.data){console.log("API structures loaded:",f.data.structures||f.data);const x=f.data.structures||f.data||[];if(typeof x=="string"&&x.includes("<!DOCTYPE html>")){console.log("API endpoint not implemented yet, showing sample data"),t(YX),i({title:"Info",description:"Data structures API not available yet. Showing sample data."});return}console.log(`API returned ${x.length} structures`),t(x)}else console.log("API failed, showing empty list"),t([])}catch(f){console.error("Error loading structures, showing empty list:",f),t([])}finally{o(!1)}};return{structures:e,selectedStructure:n,setSelectedStructure:r,saveStructure:async(f,x,g,p,w,v,y,j,N,b,T,S)=>{if(!f)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let A={},M={};if(p)A=Zy(p);else if(y){const C=jp(y);C&&typeof C=="object"&&"structure"in C?(A=C.structure,C.operationInfo&&(M.operationInfo=C.operationInfo)):A=C;const P=bp(y);(P.imports.length>0||P.includes.length>0)&&(M.dependencies=P,P.hasUnresolvedDependencies&&(!S||S.length===0)&&i({title:"Warning: External Dependencies Detected",description:"This WSDL has external schema dependencies. You may need to upload the dependent XSD files separately.",variant:"default"}))}else if(w){let C=w,P;if(b?.schemaLocationId)try{const _=new DOMParser().parseFromString(w,"text/xml"),B=_.querySelectorAll("import, xs\\:import, xsd\\:import");let W=!1;B.forEach(te=>{te.getAttribute("schemaLocation")&&(te.setAttribute("schemaLocation",`structure://${b.schemaLocationId}`),W=!0)}),W&&(C=new XMLSerializer().serializeToString(_),P=C)}catch(H){console.error("Error updating schema locations:",H)}let R={};if(b?.schemaLocationId)try{const H=await yn.getStructure(b.schemaLocationId);H.success&&H.data&&(R[`structure://${b.schemaLocationId}`]=H.data.structure,R[b.schemaLocationId]=H.data.structure)}catch(H){console.error("Error fetching linked dependency:",H)}A=tj(C,R)||{error:"Failed to parse XSD structure"},P&&(w=P);const $=Np(w);($.imports.length>0||$.includes.length>0)&&(M.dependencies=$,$.hasUnresolvedDependencies&&(!S||S.length===0)&&i({title:"Warning: External Dependencies Detected",description:"This XSD has external schema dependencies. You may need to upload the dependent XSD files separately.",variant:"default"}))}else if(v)A={message:"EDMX parsing not fully implemented yet"};else if(j.length>0)A=wp(j);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let L,F;p?(L=p,F="json"):y?(L=y,F="xml"):w?(L=w,F="xml"):v&&(L=v,F="xml"),S&&S.length>0&&(M.resolvedFiles=S.map(C=>({name:C.name,type:C.type,content:C.content}))),b?.schemaLocationId&&(M.linkedDependencies={schemaLocationId:b.schemaLocationId,schemaLocation:b.schemaLocation});const I=w&&M.dependencies?.hasUnresolvedDependencies||y&&M.dependencies?.hasUnresolvedDependencies,U=b?.schemaLocationId,O=I&&(!S||S.length===0)&&!U;console.log("Draft check:",{hasDependencies:I,isDraft:O,hasLinkedDependency:U,xsdDependencies:w?M.dependencies:null,wsdlDependencies:y?M.dependencies:null,resolvedDependencies:S}),O&&(M.isDraft=!0,M.draftReason="unresolved_dependencies");const k={name:f,type:p?"json":y?"wsdl":w?"xsd":"custom",description:x,usage:g,structure:A,originalContent:L,originalFormat:F,businessComponentId:T,namespace:(N==="xsd"||N==="wsdl"||N==="edmx")&&b.uri?b:void 0,metadata:Object.keys(M).length>0?M:void 0};try{console.log("Saving structure to backend:",k);const C=await yn.createStructure(k);return C.success&&C.data?(console.log("Structure saved successfully:",C.data),await l(),i({title:"Structure Saved",description:`Data structure "${f}" has been created successfully`}),!0):(console.error("Failed to save structure:",C.error),i({title:"Save Failed",description:"Failed to save data structure to the backend",variant:"destructive"}),!1)}catch(C){console.error("Error saving structure:",C);let P="An error occurred while saving the data structure";return C.response?(console.error("Error response data:",C.response),C.response.detail?P=C.response.detail:C.response.message?P=C.response.message:C.response.error?P=C.response.error:typeof C.response=="string"&&(P=C.response)):C.message&&(P=C.message),i({title:"Save Error",description:P,variant:"destructive"}),!1}},updateStructure:async(f,x,g,p,w,v,y,j,N,b,T,S)=>{if(!x)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let A={},M={},L;if(w)A=Zy(w);else if(j){const P=jp(j);P&&typeof P=="object"&&"structure"in P?(A=P.structure,P.operationInfo&&(M.operationInfo=P.operationInfo)):A=P}else if(v){L=v;let P=v,R;if(T?.schemaLocationId)try{const _=new DOMParser().parseFromString(v,"text/xml"),B=_.querySelectorAll("import, xs\\:import, xsd\\:import");let W=!1;B.forEach(te=>{te.getAttribute("schemaLocation")&&(te.setAttribute("schemaLocation",`structure://${T.schemaLocationId}`),W=!0)}),W&&(P=new XMLSerializer().serializeToString(_),R=P)}catch(H){console.error("Error updating schema locations:",H)}let $={};if(T?.schemaLocationId)try{const H=await yn.getStructure(T.schemaLocationId);H.success&&H.data&&($[`structure://${T.schemaLocationId}`]=H.data.structure,$[T.schemaLocationId]=H.data.structure)}catch(H){console.error("Error fetching linked dependency:",H)}A=tj(P,$)||{error:"Failed to parse XSD structure"},R&&(v=R)}else if(y)A={message:"EDMX parsing not fully implemented yet"};else if(N.length>0)A=wp(N);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let F,I;w?(F=w,I="json"):j?(F=j,I="xml"):v?(F=L||v,I="xml"):y&&(F=y,I="xml"),T?.schemaLocationId&&(M.linkedDependencies={schemaLocationId:T.schemaLocationId,schemaLocation:T.schemaLocation});const U=v&&M.dependencies?.hasUnresolvedDependencies||j&&M.dependencies?.hasUnresolvedDependencies,O=T?.schemaLocationId,k=U&&!O;k?(M.isDraft=!0,M.draftReason="unresolved_dependencies"):M.isDraft&&(delete M.isDraft,delete M.draftReason);const C={name:x,type:w?"json":j?"wsdl":v?"xsd":"custom",description:g,usage:p,structure:A,originalContent:F,originalFormat:I,businessComponentId:S,namespace:(b==="xsd"||b==="wsdl"||b==="edmx")&&T.uri?T:void 0,metadata:Object.keys(M).length>0?M:void 0};try{console.log("Updating structure:",f,C),console.log("Update draft check:",{hasDependencies:U,hasLinkedDependency:O,isDraft:k,schemaLocationId:T?.schemaLocationId,metadata:M});const P=await yn.updateStructure(f,C);return P.success&&P.data?(console.log("Structure updated successfully:",P.data),await l(),i({title:"Structure Updated",description:`Data structure "${x}" has been updated successfully`}),!0):(console.error("Failed to update structure:",P.error),i({title:"Update Failed",description:"Failed to update data structure",variant:"destructive"}),!1)}catch(P){console.error("Error updating structure:",P);let R="An error occurred while updating the data structure";return P.response?(console.error("Error response data:",P.response),P.response.detail?R=P.response.detail:P.response.message?R=P.response.message:P.response.error?R=P.response.error:typeof P.response=="string"&&(R=P.response)):P.message&&(R=P.message),i({title:"Update Error",description:R,variant:"destructive"}),!1}},deleteStructure:async f=>{try{console.log("Deleting structure:",f);const x=await yn.deleteStructure(f);x.success?(console.log("Structure deleted successfully"),await l(),n?.id===f&&r(null),i({title:"Structure Deleted",description:"Data structure has been removed"})):(console.error("Failed to delete structure:",x.error),i({title:"Delete Failed",description:"Failed to delete data structure",variant:"destructive"}))}catch(x){console.error("Error deleting structure:",x),i({title:"Delete Error",description:"An error occurred while deleting the data structure",variant:"destructive"})}},duplicateStructure:async f=>{try{console.log("Duplicating structure:",f.name);const x=await yn.cloneStructure(f.id,`${f.name} (Copy)`);x.success&&x.data?(console.log("Structure duplicated successfully:",x.data),await l(),i({title:"Structure Duplicated",description:`Created copy of "${f.name}"`})):(console.error("Failed to duplicate structure:",x.error),i({title:"Duplicate Failed",description:"Failed to duplicate data structure",variant:"destructive"}))}catch(x){console.error("Error duplicating structure:",x),i({title:"Duplicate Error",description:"An error occurred while duplicating the data structure",variant:"destructive"})}},loading:a,refreshStructures:l}};function pO({fields:e,mappings:t,side:n,selectedField:r,onToggleExpanded:a,onDragStart:o,onDragEnd:i,onDragOver:l,onDrop:c,onSelectField:d}){const u=h.useCallback((m,f)=>{const x=!m.children||m.children.length===0,g=m.type==="array"||m.name.endsWith("[]"),p=!x&&(g||m.type==="object"),w=n==="source"&&(x||p),v=n==="target"&&(x||p),y=t.some(N=>{if(n==="source"){const b=N.sourcePaths&&N.sourcePaths.includes(m.path),T=N.sourceFields&&N.sourceFields.includes(m.name);return b||T}else return N.targetPath===m.path||N.targetField===m.name}),j=r?.id===m.id;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${j?"bg-primary/20 border-primary ring-1 ring-primary":y?"bg-primary/10 border-primary border-dotted border-2":"bg-background hover:bg-muted/50"} ${w?"cursor-grab active:cursor-grabbing":""} ${v&&!y?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${f*16}px`},draggable:w,onClick:()=>{d&&d(m)},onDragStart:N=>{w&&o&&(N.dataTransfer.effectAllowed="copy",N.dataTransfer.setData("application/json",JSON.stringify(m)),o(m))},onDragEnd:N=>{w&&i&&i()},onDragOver:v?l:void 0,onDrop:N=>{v&&(N.preventDefault(),N.stopPropagation(),c?.(m))},children:[!x&&s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(m.id,n==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:m.expanded?s.jsx(Er,{className:"h-3 w-3"}):s.jsx(On,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:m.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:m.type}),y&&s.jsx(i8,{className:"h-3 w-3 text-primary"}),p&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Node"})]}),n==="source"&&w&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag "}),n==="target"&&v&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!x&&m.expanded&&m.children&&s.jsx("div",{className:"ml-4",children:m.children.map(N=>u(N,f+1))})]},m.id)},[t,n,r,a,o,i,l,c,d]);return s.jsx("div",{className:"space-y-2",children:e.map(m=>u(m,0))})}const mt=oN,Bu=TF,XX=iN,fO=h.forwardRef(({className:e,...t},n)=>s.jsx(ku,{ref:n,className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fO.displayName=ku.displayName;const ut=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(XX,{children:[s.jsx(fO,{}),s.jsxs(Du,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Jf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ut.displayName=Du.displayName;const pt=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pt.displayName="DialogHeader";const aa=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});aa.displayName="DialogFooter";const ft=h.forwardRef(({className:e,...t},n)=>s.jsx(Mu,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));ft.displayName=Mu.displayName;const Ln=h.forwardRef(({className:e,...t},n)=>s.jsx(Ru,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Ln.displayName=Ru.displayName;function xO({isOpen:e,onOpenChange:t,selectedService:n,onSelectService:r,title:a,usage:o,businessComponentId:i}){const{structures:l}=pc(),c=l.filter(d=>{const u=d.usage===o,m=!i||d.businessComponentId===i;return u&&m});return s.jsxs(mt,{open:e,onOpenChange:t,children:[s.jsx(Bu,{asChild:!0,children:s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Select"]})}),s.jsxs(ut,{className:"max-w-2xl",children:[s.jsx(pt,{children:s.jsx(ft,{children:a})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),s.jsxs(K,{onValueChange:r,value:n,children:[s.jsx(Y,{className:"w-full",children:s.jsx(G,{placeholder:"Choose a data structure..."})}),s.jsx(X,{className:"bg-background border shadow-lg z-50",children:c.map(d=>s.jsx(D,{value:d.name,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:d.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.type.toUpperCase(),"  ",d.description||"No description"]})]})},d.id))})]})]}),c.length===0&&s.jsx("div",{className:"border rounded-md p-3 space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",o," usage. Please create data structures on the Data Structures page first."]})}),n&&s.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[s.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:c.find(d=>d.name===n)?.description||n})]})]})]})]})}function KX({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragStart:u,onDragEnd:m,onSelectField:f,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(E,{className:"font-semibold",children:"Source Message"}),!g&&s.jsx(xO,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Source Message",usage:"source"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No source selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(V,{placeholder:"Search source fields...",value:r,onChange:p=>i(p.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(ht,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(et,{children:s.jsx(tt,{children:"Select a source data structure to view fields"})}):s.jsx(pO,{fields:e,mappings:t,side:"source",selectedField:o,onToggleExpanded:d,onDragStart:u,onDragEnd:m,onSelectField:f})})]})}function GX({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragOver:u,onDrop:m,onSelectField:f,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(E,{className:"font-semibold",children:"Target Message"}),!g&&s.jsx(xO,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Target Message",usage:"target"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No target selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(V,{placeholder:"Search target fields...",value:r,onChange:p=>i(p.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(ht,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(et,{children:s.jsx(tt,{children:"Select a target data structure to view fields"})}):s.jsx(pO,{fields:e,mappings:t,side:"target",selectedField:o,onToggleExpanded:d,onDragOver:u,onDrop:m,onSelectField:f})})]})}const JX=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,n=2)=>Number(e.toFixed(n)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,n)=>t+n,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,n)=>t+n,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],QX=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,n)=>n?e+n+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,n)=>e.substring(t,n),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],ZX=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,n)=>e?t:n,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],eK=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],tK=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,n,r,a,o)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const n=new Date(e),r=new Date(t);return n<r?-1:n>r?1:0},javaTemplate:"compareDates({0}, {1})"}],sK=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,n)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((n,r)=>n[t]-r[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],nK=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],uN={math:JX,text:QX,boolean:ZX,conversion:eK,date:tK,node:sK,constants:nK},rK=({open:e,onClose:t,selectedFunction:n,sourceFields:r,targetField:a,onApplyMapping:o})=>{const i=h.useRef(null),l=h.useRef(null),[c,d]=h.useState({id:"function_modal",functionName:n,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,m]=h.useState([]),[f,x]=h.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[g,p]=h.useState(new Set),[w,v]=h.useState(!1),j=Object.values(uN).flat().find(F=>F.name===n),N=h.useCallback((F,I)=>{I.preventDefault(),I.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log(" DRAG START - Field:",F.name,"Position:",{x:I.clientX,y:I.clientY}),console.log(" DRAG START - Event target:",I.target),console.log(" DRAG START - Event currentTarget:",I.currentTarget),x({isDragging:!0,draggedItem:F,startPosition:{x:I.clientX,y:I.clientY},currentPosition:{x:I.clientX,y:I.clientY}});const U=new Set;j?.parameters.forEach(O=>{!O.name.toLowerCase().includes("delimiter")&&!O.name.toLowerCase().includes("separator")&&(U.add(`param-${c.id}-${O.name}`),console.log(" DRAG START - Added drop target:",`param-${c.id}-${O.name}`))}),p(U),console.log(" DRAG START - Total drop targets:",U.size)},[j,c.id]),b=h.useCallback(F=>{f.isDragging&&(console.log(" DRAG MOVE - Position:",{x:F.clientX,y:F.clientY}),console.log(" DRAG MOVE - Element under mouse:",document.elementFromPoint(F.clientX,F.clientY)),x(I=>({...I,currentPosition:{x:F.clientX,y:F.clientY}})))},[f.isDragging]),T=h.useCallback(F=>{if(console.log(" DRAG END - Starting mouse up handler"),console.log(" DRAG END - isDragging:",f.isDragging),console.log(" DRAG END - draggedItem:",f.draggedItem),!f.isDragging||!f.draggedItem){console.log(" DRAG END - Early return - no drag in progress");return}console.log(" DRAG END - Position:",{x:F.clientX,y:F.clientY});const I=document.elementFromPoint(F.clientX,F.clientY);console.log(" DRAG END - Element under mouse:",I),console.log(" DRAG END - Element tag:",I?.tagName),console.log(" DRAG END - Element classes:",I?.className),console.log(" DRAG END - Element data-param:",I?.getAttribute("data-param"));const U=I?.closest("[data-param]");if(console.log(" DRAG END - Drop zone found:",U),console.log(" DRAG END - Drop zone data-param:",U?.getAttribute("data-param")),U){const O=U.getAttribute("data-param");if(O){console.log(" DRAG END -  SUCCESS! Dropped on parameter:",O);const k=f.draggedItem;console.log(" DRAG END - Source field:",k),d(C=>{const P={...C,sourceConnections:{...C.sourceConnections,[O]:[k.path]}};return console.log(" DRAG END - Updated function node:",P),P}),setTimeout(()=>{console.log(" DRAG END - Creating visual connection");const C=document.querySelector(`[data-field-id="${k.id}"]`),P=U;if(console.log(" DRAG END - Source element found:",C),console.log(" DRAG END - Target element found:",P),console.log(" DRAG END - Canvas ref:",i.current),C&&P&&i.current){const R=i.current.getBoundingClientRect(),$=C.getBoundingClientRect(),H=P.getBoundingClientRect();console.log(" DRAG END - Canvas rect:",R),console.log(" DRAG END - Source rect:",$),console.log(" DRAG END - Target rect:",H);const _={id:`connection_${Date.now()}`,sourceId:k.id,targetId:`${c.id}-${O}`,sourceX:$.right-R.left,sourceY:$.top+$.height/2-R.top,targetX:H.left-R.left,targetY:H.top+H.height/2-R.top};console.log(" DRAG END - Connection created:",_),m(B=>{const W=[...B,_];return console.log(" DRAG END - All connections:",W),W})}else console.log(" DRAG END -  Failed to create connection - missing elements")},100)}else console.log(" DRAG END -  No param name found on drop zone")}else console.log(" DRAG END -  No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log(" DRAG END - Resetting drag state"),x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),p(new Set),console.log(" DRAG END - Complete!")},[f,c.id]);Tt.useEffect(()=>(console.log(" DRAG STATE CHANGE - isDragging:",f.isDragging),console.log(" DRAG STATE CHANGE - draggedItem:",f.draggedItem?.name),f.isDragging?(console.log(" DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",T),()=>{console.log(" DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",T)}):()=>{}),[f.isDragging,b,T]);const S=h.useCallback(F=>{if(!a)return;F.dataTransfer.setData("text/plain","function-output"),F.dataTransfer.effectAllowed="move";const I=new Set;I.add(`target-${a.id}`),p(I)},[a]),A=h.useCallback(()=>{x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),p(new Set)},[]);h.useCallback((F,I)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",F),console.log("Event type:",I.type),I.preventDefault(),I.stopPropagation();let U=I.dataTransfer.getData("application/json");const O=I.dataTransfer.getData("text/plain"),k=I.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",U),console.log("Drag data - Name:",O),console.log("Drag data - ID:",k),!U&&O){const P=r.find(R=>R.name===O);P&&(U=JSON.stringify(P))}if(!U){console.log("ERROR: No field data found in drag transfer");return}const C=JSON.parse(U);console.log("Parsed source field:",C),d(P=>({...P,sourceConnections:{...P.sourceConnections,[F]:[C.path]}})),setTimeout(()=>{const P=document.querySelector(`[data-field-id="${C.id}"]`),R=document.querySelector(`[data-param="${F}"]`);if(P&&R&&i.current){const $=i.current.getBoundingClientRect(),H=P.getBoundingClientRect(),_=R.getBoundingClientRect(),B={id:`connection_${Date.now()}`,sourceId:C.id,targetId:`${c.id}-${F}`,sourceX:H.right-$.left,sourceY:H.top+H.height/2-$.top,targetX:_.left-$.left,targetY:_.top+_.height/2-$.top};m(W=>[...W,B]),console.log("Connection created:",B)}},100),A(),console.log("=== DROP COMPLETE ===")},[c.id,A,r]);const M=h.useCallback(F=>{if(F.preventDefault(),F.dataTransfer.getData("text/plain")!=="function-output"||!a)return;v(!0);const U=document.querySelector('[data-function-output="true"]'),O=document.querySelector(`[data-target-field="${a.id}"]`);if(U&&O&&i.current){const k=i.current.getBoundingClientRect(),C=U.getBoundingClientRect(),P=O.getBoundingClientRect(),R={id:`connection_output_${Date.now()}`,sourceId:`${c.id}-output`,targetId:a.id,sourceX:C.right-k.left,sourceY:C.top+C.height/2-k.top,targetX:P.left-k.left,targetY:P.top+P.height/2-k.top};m($=>[...$,R])}},[c.id,a]),L=h.useCallback(()=>{if(!j||!w||!a)return;const F=[],I=[];Object.values(c.sourceConnections).forEach(O=>{O.forEach(k=>{I.push(k),F.push(k.split(".").pop()||k)})});const U={id:`mapping_${Date.now()}`,name:`${n}_to_${a.name}`,sourceFields:F,targetField:a.name,sourcePaths:I,targetPath:a.path,functionNode:{...c,id:`function_${Date.now()}`},requiresTransformation:!0};o(U),t()},[j,w,c,n,a,o,t]);return j?s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-6xl h-[80vh] p-0",children:[s.jsx(pt,{className:"p-6 pb-0",children:s.jsxs(ft,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Function Mapping: ",j.name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{onClick:L,disabled:!w||Object.keys(c.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[s.jsx(ec,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),s.jsxs(z,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsxs("div",{ref:i,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[s.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[s.jsx("defs",{children:s.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:s.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(F=>s.jsx("path",{d:`M ${F.sourceX} ${F.sourceY} C ${F.sourceX+100} ${F.sourceY}, ${F.targetX-100} ${F.targetY}, ${F.targetX} ${F.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},F.id))]}),s.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[s.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),s.jsx("div",{className:"space-y-2",children:r.map(F=>s.jsxs("div",{"data-field-id":F.id,className:re("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",f.isDragging&&f.draggedItem?.id===F.id&&"opacity-70 scale-95"),style:{cursor:f.isDragging&&f.draggedItem?.id===F.id?"grabbing":"grab"},onMouseDown:I=>{I.preventDefault(),N(F,I)},children:[s.jsx("div",{className:"font-medium text-sm pointer-events-none",children:F.name}),s.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:F.type})]},F.id))})]})}),s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[s.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[s.jsx("div",{className:"font-medium text-sm",children:j.name}),s.jsx("div",{className:"text-xs opacity-80",children:j.description})]}),s.jsx("div",{className:"p-2 space-y-2",children:j.parameters.map(F=>s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-xs",children:F.name}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:F.type}),F.name.toLowerCase().includes("delimiter")||F.name.toLowerCase().includes("separator")?s.jsx(V,{placeholder:`Enter ${F.name}`,value:c.parameters[F.name]||"",onChange:I=>d(U=>({...U,parameters:{...U.parameters,[F.name]:I.target.value}})),className:"h-8 text-xs"}):s.jsxs("div",{"data-param":F.name,className:re("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",g.has(`param-${c.id}-${F.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[c.sourceConnections[F.name]?.map((I,U)=>s.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:I.split(".").pop()},U)),!c.sourceConnections[F.name]?.length&&s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},F.name))}),s.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:S,onDragEnd:A,children:[s.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),s.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&s.jsx("div",{className:"w-72",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),s.jsxs("div",{"data-target-field":a.id,className:re("bg-background border rounded p-3 transition-all",g.has(`target-${a.id}`)&&"border-primary bg-primary/10",w&&"border-success bg-success/10"),onDragOver:F=>F.preventDefault(),onDrop:M,children:[s.jsx("div",{className:"font-medium text-sm",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),w&&s.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:" Function output connected"})]})]})})]})]}),s.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-muted-foreground",children:"Connect source  function  target"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:re("px-1.5 py-0.5 rounded",Object.keys(c.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(c.sourceConnections).length,"/",j.parameters.length]}),s.jsxs("span",{className:re("px-1.5 py-0.5 rounded",w?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",w?"Connected":"Not connected"]})]})]})})]})}):null};function Qt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Qt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var aK={value:()=>{}};function rx(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jm(n)}function jm(e){this._=e}function oK(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jm.prototype=rx.prototype={constructor:jm,on:function(e,t){var n=this._,r=oK(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=iK(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=w1(n[a],e.name,t);else if(t==null)for(a in n)n[a]=w1(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new jm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function iK(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function w1(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=aK,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var aj="http://www.w3.org/1999/xhtml";const N1={svg:"http://www.w3.org/2000/svg",xhtml:aj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ax(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),N1.hasOwnProperty(t)?{space:N1[t],local:e}:e}function lK(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===aj&&t.documentElement.namespaceURI===aj?t.createElement(e):t.createElementNS(n,e)}}function cK(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gO(e){var t=ax(e);return(t.local?cK:lK)(t)}function dK(){}function hN(e){return e==null?dK:function(){return this.querySelector(e)}}function uK(e){typeof e!="function"&&(e=hN(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=new Array(i),c,d,u=0;u<i;++u)(c=o[u])&&(d=e.call(c,c.__data__,u,o))&&("__data__"in c&&(d.__data__=c.__data__),l[u]=d);return new pn(r,this._parents)}function hK(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mK(){return[]}function vO(e){return e==null?mK:function(){return this.querySelectorAll(e)}}function pK(e){return function(){return hK(e.apply(this,arguments))}}function fK(e){typeof e=="function"?e=pK(e):e=vO(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],l=i.length,c,d=0;d<l;++d)(c=i[d])&&(r.push(e.call(c,c.__data__,d,i)),a.push(c));return new pn(r,a)}function yO(e){return function(){return this.matches(e)}}function jO(e){return function(t){return t.matches(e)}}var xK=Array.prototype.find;function gK(e){return function(){return xK.call(this.children,e)}}function vK(){return this.firstElementChild}function yK(e){return this.select(e==null?vK:gK(typeof e=="function"?e:jO(e)))}var jK=Array.prototype.filter;function wK(){return Array.from(this.children)}function NK(e){return function(){return jK.call(this.children,e)}}function bK(e){return this.selectAll(e==null?wK:NK(typeof e=="function"?e:jO(e)))}function SK(e){typeof e!="function"&&(e=yO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=[],c,d=0;d<i;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new pn(r,this._parents)}function wO(e){return new Array(e.length)}function CK(){return new pn(this._enter||this._groups.map(wO),this._parents)}function Sp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sp.prototype={constructor:Sp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EK(e){return function(){return e}}function TK(e,t,n,r,a,o){for(var i=0,l,c=t.length,d=o.length;i<d;++i)(l=t[i])?(l.__data__=o[i],r[i]=l):n[i]=new Sp(e,o[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function PK(e,t,n,r,a,o,i){var l,c,d=new Map,u=t.length,m=o.length,f=new Array(u),x;for(l=0;l<u;++l)(c=t[l])&&(f[l]=x=i.call(c,c.__data__,l,t)+"",d.has(x)?a[l]=c:d.set(x,c));for(l=0;l<m;++l)x=i.call(e,o[l],l,o)+"",(c=d.get(x))?(r[l]=c,c.__data__=o[l],d.delete(x)):n[l]=new Sp(e,o[l]);for(l=0;l<u;++l)(c=t[l])&&d.get(f[l])===c&&(a[l]=c)}function AK(e){return e.__data__}function kK(e,t){if(!arguments.length)return Array.from(this,AK);var n=t?PK:TK,r=this._parents,a=this._groups;typeof e!="function"&&(e=EK(e));for(var o=a.length,i=new Array(o),l=new Array(o),c=new Array(o),d=0;d<o;++d){var u=r[d],m=a[d],f=m.length,x=DK(e.call(u,u&&u.__data__,d,r)),g=x.length,p=l[d]=new Array(g),w=i[d]=new Array(g),v=c[d]=new Array(f);n(u,m,p,w,v,x,t);for(var y=0,j=0,N,b;y<g;++y)if(N=p[y]){for(y>=j&&(j=y+1);!(b=w[j])&&++j<g;);N._next=b||null}}return i=new pn(i,r),i._enter=l,i._exit=c,i}function DK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MK(){return new pn(this._exit||this._groups.map(wO),this._parents)}function RK(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function FK(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),l=new Array(a),c=0;c<i;++c)for(var d=n[c],u=r[c],m=d.length,f=l[c]=new Array(m),x,g=0;g<m;++g)(x=d[g]||u[g])&&(f[g]=x);for(;c<a;++c)l[c]=n[c];return new pn(l,this._parents)}function OK(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function IK(e){e||(e=LK);function t(m,f){return m&&f?e(m.__data__,f.__data__):!m-!f}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],l=i.length,c=a[o]=new Array(l),d,u=0;u<l;++u)(d=i[u])&&(c[u]=d);c.sort(t)}return new pn(a,this._parents).order()}function LK(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _K(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $K(){return Array.from(this)}function VK(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function UK(){let e=0;for(const t of this)++e;return e}function BK(){return!this.node()}function HK(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,l;o<i;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function zK(e){return function(){this.removeAttribute(e)}}function qK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WK(e,t){return function(){this.setAttribute(e,t)}}function YK(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function XK(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function KK(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GK(e,t){var n=ax(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qK:zK:typeof t=="function"?n.local?KK:XK:n.local?YK:WK)(n,t))}function NO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JK(e){return function(){this.style.removeProperty(e)}}function QK(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ZK(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function eG(e,t,n){return arguments.length>1?this.each((t==null?JK:typeof t=="function"?ZK:QK)(e,t,n??"")):Rl(this.node(),e)}function Rl(e,t){return e.style.getPropertyValue(t)||NO(e).getComputedStyle(e,null).getPropertyValue(t)}function tG(e){return function(){delete this[e]}}function sG(e,t){return function(){this[e]=t}}function nG(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function rG(e,t){return arguments.length>1?this.each((t==null?tG:typeof t=="function"?nG:sG)(e,t)):this.node()[e]}function bO(e){return e.trim().split(/^|\s+/)}function mN(e){return e.classList||new SO(e)}function SO(e){this._node=e,this._names=bO(e.getAttribute("class")||"")}SO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function CO(e,t){for(var n=mN(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function EO(e,t){for(var n=mN(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function aG(e){return function(){CO(this,e)}}function oG(e){return function(){EO(this,e)}}function iG(e,t){return function(){(t.apply(this,arguments)?CO:EO)(this,e)}}function lG(e,t){var n=bO(e+"");if(arguments.length<2){for(var r=mN(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?iG:t?aG:oG)(n,t))}function cG(){this.textContent=""}function dG(e){return function(){this.textContent=e}}function uG(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hG(e){return arguments.length?this.each(e==null?cG:(typeof e=="function"?uG:dG)(e)):this.node().textContent}function mG(){this.innerHTML=""}function pG(e){return function(){this.innerHTML=e}}function fG(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xG(e){return arguments.length?this.each(e==null?mG:(typeof e=="function"?fG:pG)(e)):this.node().innerHTML}function gG(){this.nextSibling&&this.parentNode.appendChild(this)}function vG(){return this.each(gG)}function yG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jG(){return this.each(yG)}function wG(e){var t=typeof e=="function"?e:gO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NG(){return null}function bG(e,t){var n=typeof e=="function"?e:gO(e),r=t==null?NG:typeof t=="function"?t:hN(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function SG(){var e=this.parentNode;e&&e.removeChild(this)}function CG(){return this.each(SG)}function EG(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TG(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PG(e){return this.select(e?TG:EG)}function AG(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kG(e){return function(t){e.call(this,t,this.__data__)}}function DG(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function MG(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function RG(e,t,n){return function(){var r=this.__on,a,o=kG(t);if(r){for(var i=0,l=r.length;i<l;++i)if((a=r[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function FG(e,t,n){var r=DG(e+""),a,o=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,u;c<d;++c)for(a=0,u=l[c];a<o;++a)if((i=r[a]).type===u.type&&i.name===u.name)return u.value}return}for(l=t?RG:MG,a=0;a<o;++a)this.each(l(r[a],t,n));return this}function TO(e,t,n){var r=NO(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function OG(e,t){return function(){return TO(this,e,t)}}function IG(e,t){return function(){return TO(this,e,t.apply(this,arguments))}}function LG(e,t){return this.each((typeof t=="function"?IG:OG)(e,t))}function*_G(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,i;a<o;++a)(i=r[a])&&(yield i)}var PO=[null];function pn(e,t){this._groups=e,this._parents=t}function Hu(){return new pn([[document.documentElement]],PO)}function $G(){return this}pn.prototype=Hu.prototype={constructor:pn,select:uK,selectAll:fK,selectChild:yK,selectChildren:bK,filter:SK,data:kK,enter:CK,exit:MK,join:RK,merge:FK,selection:$G,order:OK,sort:IK,call:_K,nodes:$K,node:VK,size:UK,empty:BK,each:HK,attr:GK,style:eG,property:rG,classed:lG,text:hG,html:xG,raise:vG,lower:jG,append:wG,insert:bG,remove:CG,clone:PG,datum:AG,on:FG,dispatch:LG,[Symbol.iterator]:_G};function ln(e){return typeof e=="string"?new pn([[document.querySelector(e)]],[document.documentElement]):new pn([[e]],PO)}function VG(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wn(e,t){if(e=VG(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const UG={passive:!1},Hd={capture:!0,passive:!1};function Ag(e){e.stopImmediatePropagation()}function yl(e){e.preventDefault(),e.stopImmediatePropagation()}function AO(e){var t=e.document.documentElement,n=ln(e).on("dragstart.drag",yl,Hd);"onselectstart"in t?n.on("selectstart.drag",yl,Hd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function kO(e,t){var n=e.document.documentElement,r=ln(e).on("dragstart.drag",null);t&&(r.on("click.drag",yl,Hd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const kh=e=>()=>e;function oj(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:i,y:l,dx:c,dy:d,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}oj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function BG(e){return!e.ctrlKey&&!e.button}function HG(){return this.parentNode}function zG(e,t){return t??{x:e.x,y:e.y}}function qG(){return navigator.maxTouchPoints||"ontouchstart"in this}function DO(){var e=BG,t=HG,n=zG,r=qG,a={},o=rx("start","drag","end"),i=0,l,c,d,u,m=0;function f(N){N.on("mousedown.drag",x).filter(r).on("touchstart.drag",w).on("touchmove.drag",v,UG).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(N,b){if(!(u||!e.call(this,N,b))){var T=j(this,t.call(this,N,b),N,b,"mouse");T&&(ln(N.view).on("mousemove.drag",g,Hd).on("mouseup.drag",p,Hd),AO(N.view),Ag(N),d=!1,l=N.clientX,c=N.clientY,T("start",N))}}function g(N){if(yl(N),!d){var b=N.clientX-l,T=N.clientY-c;d=b*b+T*T>m}a.mouse("drag",N)}function p(N){ln(N.view).on("mousemove.drag mouseup.drag",null),kO(N.view,d),yl(N),a.mouse("end",N)}function w(N,b){if(e.call(this,N,b)){var T=N.changedTouches,S=t.call(this,N,b),A=T.length,M,L;for(M=0;M<A;++M)(L=j(this,S,N,b,T[M].identifier,T[M]))&&(Ag(N),L("start",N,T[M]))}}function v(N){var b=N.changedTouches,T=b.length,S,A;for(S=0;S<T;++S)(A=a[b[S].identifier])&&(yl(N),A("drag",N,b[S]))}function y(N){var b=N.changedTouches,T=b.length,S,A;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<T;++S)(A=a[b[S].identifier])&&(Ag(N),A("end",N,b[S]))}function j(N,b,T,S,A,M){var L=o.copy(),F=Wn(M||T,b),I,U,O;if((O=n.call(N,new oj("beforestart",{sourceEvent:T,target:f,identifier:A,active:i,x:F[0],y:F[1],dx:0,dy:0,dispatch:L}),S))!=null)return I=O.x-F[0]||0,U=O.y-F[1]||0,function k(C,P,R){var $=F,H;switch(C){case"start":a[A]=k,H=i++;break;case"end":delete a[A],--i;case"drag":F=Wn(R||P,b),H=i;break}L.call(C,N,new oj(C,{sourceEvent:P,subject:O,target:f,identifier:A,active:H,x:F[0]+I,y:F[1]+U,dx:F[0]-$[0],dy:F[1]-$[1],dispatch:L}),S)}}return f.filter=function(N){return arguments.length?(e=typeof N=="function"?N:kh(!!N),f):e},f.container=function(N){return arguments.length?(t=typeof N=="function"?N:kh(N),f):t},f.subject=function(N){return arguments.length?(n=typeof N=="function"?N:kh(N),f):n},f.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:kh(!!N),f):r},f.on=function(){var N=o.on.apply(o,arguments);return N===o?f:N},f.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,f):Math.sqrt(m)},f}function pN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zu(){}var zd=.7,Cp=1/zd,jl="\\s*([+-]?\\d+)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WG=/^#([0-9a-f]{3,8})$/,YG=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),XG=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),KG=new RegExp(`^rgba\\(${jl},${jl},${jl},${qd}\\)$`),GG=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${qd}\\)$`),JG=new RegExp(`^hsl\\(${qd},${Nr},${Nr}\\)$`),QG=new RegExp(`^hsla\\(${qd},${Nr},${Nr},${qd}\\)$`),b1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pN(zu,si,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S1,formatHex:S1,formatHex8:ZG,formatHsl:eJ,formatRgb:C1,toString:C1});function S1(){return this.rgb().formatHex()}function ZG(){return this.rgb().formatHex8()}function eJ(){return RO(this).formatHsl()}function C1(){return this.rgb().formatRgb()}function si(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?E1(t):n===3?new Bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YG.exec(e))?new Bs(t[1],t[2],t[3],1):(t=XG.exec(e))?new Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KG.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=GG.exec(e))?Dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JG.exec(e))?A1(t[1],t[2]/100,t[3]/100,1):(t=QG.exec(e))?A1(t[1],t[2]/100,t[3]/100,t[4]):b1.hasOwnProperty(e)?E1(b1[e]):e==="transparent"?new Bs(NaN,NaN,NaN,0):null}function E1(e){return new Bs(e>>16&255,e>>8&255,e&255,1)}function Dh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bs(e,t,n,r)}function tJ(e){return e instanceof zu||(e=si(e)),e?(e=e.rgb(),new Bs(e.r,e.g,e.b,e.opacity)):new Bs}function ij(e,t,n,r){return arguments.length===1?tJ(e):new Bs(e,t,n,r??1)}function Bs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pN(Bs,ij,MO(zu,{brighter(e){return e=e==null?Cp:Math.pow(Cp,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zd:Math.pow(zd,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bs(Uo(this.r),Uo(this.g),Uo(this.b),Ep(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:sJ,formatRgb:P1,toString:P1}));function T1(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}`}function sJ(){return`#${Ro(this.r)}${Ro(this.g)}${Ro(this.b)}${Ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function P1(){const e=Ep(this.opacity);return`${e===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${e===1?")":`, ${e})`}`}function Ep(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ro(e){return e=Uo(e),(e<16?"0":"")+e.toString(16)}function A1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xn(e,t,n,r)}function RO(e){if(e instanceof Xn)return new Xn(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=si(e)),!e)return new Xn;if(e instanceof Xn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,l=o-a,c=(o+a)/2;return l?(t===o?i=(n-r)/l+(n<r)*6:n===o?i=(r-t)/l+2:i=(t-n)/l+4,l/=c<.5?o+a:2-o-a,i*=60):l=c>0&&c<1?0:i,new Xn(i,l,c,e.opacity)}function nJ(e,t,n,r){return arguments.length===1?RO(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pN(Xn,nJ,MO(zu,{brighter(e){return e=e==null?Cp:Math.pow(Cp,e),new Xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zd:Math.pow(zd,e),new Xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Bs(kg(e>=240?e-240:e+120,a,r),kg(e,a,r),kg(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Xn(k1(this.h),Mh(this.s),Mh(this.l),Ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ep(this.opacity);return`${e===1?"hsl(":"hsla("}${k1(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function k1(e){return e=(e||0)%360,e<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function kg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fN=e=>()=>e;function rJ(e,t){return function(n){return e+n*t}}function aJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oJ(e){return(e=+e)==1?FO:function(t,n){return n-t?aJ(t,n,e):fN(isNaN(t)?n:t)}}function FO(e,t){var n=t-e;return n?rJ(e,n):fN(isNaN(e)?t:e)}const Tp=function e(t){var n=oJ(t);function r(a,o){var i=n((a=ij(a)).r,(o=ij(o)).r),l=n(a.g,o.g),c=n(a.b,o.b),d=FO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=e,r}(1);function iJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function lJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=id(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(l){for(i=0;i<r;++i)o[i]=a[i](l);return o}}function dJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uJ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=id(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var lj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dg=new RegExp(lj.source,"g");function hJ(e){return function(){return e}}function mJ(e){return function(t){return e(t)+""}}function OO(e,t){var n=lj.lastIndex=Dg.lastIndex=0,r,a,o,i=-1,l=[],c=[];for(e=e+"",t=t+"";(r=lj.exec(e))&&(a=Dg.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),l[i]?l[i]+=o:l[++i]=o),(r=r[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:mr(r,a)})),n=Dg.lastIndex;return n<t.length&&(o=t.slice(n),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?mJ(c[0].x):hJ(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function id(e,t){var n=typeof t,r;return t==null||n==="boolean"?fN(t):(n==="number"?mr:n==="string"?(r=si(t))?(t=r,Tp):OO:t instanceof si?Tp:t instanceof Date?dJ:lJ(t)?iJ:Array.isArray(t)?cJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uJ:mr)(e,t)}var D1=180/Math.PI,cj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IO(e,t,n,r,a,o){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*D1,skewX:Math.atan(c)*D1,scaleX:i,scaleY:l}}var Rh;function pJ(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cj:IO(t.a,t.b,t.c,t.d,t.e,t.f)}function fJ(e){return e==null||(Rh||(Rh=document.createElementNS("http://www.w3.org/2000/svg","g")),Rh.setAttribute("transform",e),!(e=Rh.transform.baseVal.consolidate()))?cj:(e=e.matrix,IO(e.a,e.b,e.c,e.d,e.e,e.f))}function LO(e,t,n,r){function a(d){return d.length?d.pop()+" ":""}function o(d,u,m,f,x,g){if(d!==m||u!==f){var p=x.push("translate(",null,t,null,n);g.push({i:p-4,x:mr(d,m)},{i:p-2,x:mr(u,f)})}else(m||f)&&x.push("translate("+m+t+f+n)}function i(d,u,m,f){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),f.push({i:m.push(a(m)+"rotate(",null,r)-2,x:mr(d,u)})):u&&m.push(a(m)+"rotate("+u+r)}function l(d,u,m,f){d!==u?f.push({i:m.push(a(m)+"skewX(",null,r)-2,x:mr(d,u)}):u&&m.push(a(m)+"skewX("+u+r)}function c(d,u,m,f,x,g){if(d!==m||u!==f){var p=x.push(a(x)+"scale(",null,",",null,")");g.push({i:p-4,x:mr(d,m)},{i:p-2,x:mr(u,f)})}else(m!==1||f!==1)&&x.push(a(x)+"scale("+m+","+f+")")}return function(d,u){var m=[],f=[];return d=e(d),u=e(u),o(d.translateX,d.translateY,u.translateX,u.translateY,m,f),i(d.rotate,u.rotate,m,f),l(d.skewX,u.skewX,m,f),c(d.scaleX,d.scaleY,u.scaleX,u.scaleY,m,f),d=u=null,function(x){for(var g=-1,p=f.length,w;++g<p;)m[(w=f[g]).i]=w.x(x);return m.join("")}}}var xJ=LO(pJ,"px, ","px)","deg)"),gJ=LO(fJ,", ",")",")"),vJ=1e-12;function M1(e){return((e=Math.exp(e))+1/e)/2}function yJ(e){return((e=Math.exp(e))-1/e)/2}function jJ(e){return((e=Math.exp(2*e))-1)/(e+1)}const wm=function e(t,n,r){function a(o,i){var l=o[0],c=o[1],d=o[2],u=i[0],m=i[1],f=i[2],x=u-l,g=m-c,p=x*x+g*g,w,v;if(p<vJ)v=Math.log(f/d)/t,w=function(S){return[l+S*x,c+S*g,d*Math.exp(t*S*v)]};else{var y=Math.sqrt(p),j=(f*f-d*d+r*p)/(2*d*n*y),N=(f*f-d*d-r*p)/(2*f*n*y),b=Math.log(Math.sqrt(j*j+1)-j),T=Math.log(Math.sqrt(N*N+1)-N);v=(T-b)/t,w=function(S){var A=S*v,M=M1(b),L=d/(n*y)*(M*jJ(t*A+b)-yJ(b));return[l+L*x,c+L*g,d*M/M1(t*A+b)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);var Fl=0,Wc=0,Fc=0,_O=1e3,Pp,Yc,Ap=0,ni=0,ox=0,Wd=typeof performance=="object"&&performance.now?performance:Date,$O=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xN(){return ni||($O(wJ),ni=Wd.now()+ox)}function wJ(){ni=0}function kp(){this._call=this._time=this._next=null}kp.prototype=VO.prototype={constructor:kp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?xN():+n)+(t==null?0:+t),!this._next&&Yc!==this&&(Yc?Yc._next=this:Pp=this,Yc=this),this._call=e,this._time=n,dj()},stop:function(){this._call&&(this._call=null,this._time=1/0,dj())}};function VO(e,t,n){var r=new kp;return r.restart(e,t,n),r}function NJ(){xN(),++Fl;for(var e=Pp,t;e;)(t=ni-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fl}function R1(){ni=(Ap=Wd.now())+ox,Fl=Wc=0;try{NJ()}finally{Fl=0,SJ(),ni=0}}function bJ(){var e=Wd.now(),t=e-Ap;t>_O&&(ox-=t,Ap=e)}function SJ(){for(var e,t=Pp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pp=n);Yc=e,dj(r)}function dj(e){if(!Fl){Wc&&(Wc=clearTimeout(Wc));var t=e-ni;t>24?(e<1/0&&(Wc=setTimeout(R1,e-Wd.now()-ox)),Fc&&(Fc=clearInterval(Fc))):(Fc||(Ap=Wd.now(),Fc=setInterval(bJ,_O)),Fl=1,$O(R1))}}function F1(e,t,n){var r=new kp;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var CJ=rx("start","end","cancel","interrupt"),EJ=[],UO=0,O1=1,uj=2,Nm=3,I1=4,hj=5,bm=6;function ix(e,t,n,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;TJ(e,n,{name:t,index:r,group:a,on:CJ,tween:EJ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:UO})}function gN(e,t){var n=cr(e,t);if(n.state>UO)throw new Error("too late; already scheduled");return n}function Rr(e,t){var n=cr(e,t);if(n.state>Nm)throw new Error("too late; already running");return n}function cr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function TJ(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=VO(o,0,n.time);function o(d){n.state=O1,n.timer.restart(i,n.delay,n.time),n.delay<=d&&i(d-n.delay)}function i(d){var u,m,f,x;if(n.state!==O1)return c();for(u in r)if(x=r[u],x.name===n.name){if(x.state===Nm)return F1(i);x.state===I1?(x.state=bm,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[u]):+u<t&&(x.state=bm,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[u])}if(F1(function(){n.state===Nm&&(n.state=I1,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=uj,n.on.call("start",e,e.__data__,n.index,n.group),n.state===uj){for(n.state=Nm,a=new Array(f=n.tween.length),u=0,m=-1;u<f;++u)(x=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++m]=x);a.length=m+1}}function l(d){for(var u=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=hj,1),m=-1,f=a.length;++m<f;)a[m].call(e,u);n.state===hj&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=bm,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Sm(e,t){var n=e.__transition,r,a,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}a=r.state>uj&&r.state<hj,r.state=bm,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function PJ(e){return this.each(function(){Sm(this,e)})}function AJ(e,t){var n,r;return function(){var a=Rr(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function kJ(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Rr(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var l={name:t,value:n},c=0,d=a.length;c<d;++c)if(a[c].name===t){a[c]=l;break}c===d&&a.push(l)}o.tween=a}}function DJ(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=cr(this.node(),n).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?AJ:kJ)(n,e,t))}function vN(e,t,n){var r=e._id;return e.each(function(){var a=Rr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return cr(a,r).value[t]}}function BO(e,t){var n;return(typeof t=="number"?mr:t instanceof si?Tp:(n=si(t))?(t=n,Tp):OO)(e,t)}function MJ(e){return function(){this.removeAttribute(e)}}function RJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FJ(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function OJ(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function IJ(e,t,n){var r,a,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l)))}}function LJ(e,t,n){var r,a,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l)))}}function _J(e,t){var n=ax(e),r=n==="transform"?gJ:BO;return this.attrTween(e,typeof t=="function"?(n.local?LJ:IJ)(n,r,vN(this,"attr."+e,t)):t==null?(n.local?RJ:MJ)(n):(n.local?OJ:FJ)(n,r,t))}function $J(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function VJ(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function UJ(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&VJ(e,o)),n}return a._value=t,a}function BJ(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&$J(e,o)),n}return a._value=t,a}function HJ(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ax(e);return this.tween(n,(r.local?UJ:BJ)(r,t))}function zJ(e,t){return function(){gN(this,e).delay=+t.apply(this,arguments)}}function qJ(e,t){return t=+t,function(){gN(this,e).delay=t}}function WJ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zJ:qJ)(t,e)):cr(this.node(),t).delay}function YJ(e,t){return function(){Rr(this,e).duration=+t.apply(this,arguments)}}function XJ(e,t){return t=+t,function(){Rr(this,e).duration=t}}function KJ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?YJ:XJ)(t,e)):cr(this.node(),t).duration}function GJ(e,t){if(typeof t!="function")throw new Error;return function(){Rr(this,e).ease=t}}function JJ(e){var t=this._id;return arguments.length?this.each(GJ(t,e)):cr(this.node(),t).ease}function QJ(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rr(this,e).ease=n}}function ZJ(e){if(typeof e!="function")throw new Error;return this.each(QJ(this._id,e))}function eQ(e){typeof e!="function"&&(e=yO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=[],c,d=0;d<i;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new oa(r,this._parents,this._name,this._id)}function tQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),l=0;l<o;++l)for(var c=t[l],d=n[l],u=c.length,m=i[l]=new Array(u),f,x=0;x<u;++x)(f=c[x]||d[x])&&(m[x]=f);for(;l<r;++l)i[l]=t[l];return new oa(i,this._parents,this._name,this._id)}function sQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function nQ(e,t,n){var r,a,o=sQ(t)?gN:Rr;return function(){var i=o(this,e),l=i.on;l!==r&&(a=(r=l).copy()).on(t,n),i.on=a}}function rQ(e,t){var n=this._id;return arguments.length<2?cr(this.node(),n).on.on(e):this.each(nQ(n,e,t))}function aQ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function oQ(){return this.on("end.remove",aQ(this._id))}function iQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hN(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var l=r[i],c=l.length,d=o[i]=new Array(c),u,m,f=0;f<c;++f)(u=l[f])&&(m=e.call(u,u.__data__,f,l))&&("__data__"in u&&(m.__data__=u.__data__),d[f]=m,ix(d[f],t,n,f,d,cr(u,n)));return new oa(o,this._parents,t,n)}function lQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vO(e));for(var r=this._groups,a=r.length,o=[],i=[],l=0;l<a;++l)for(var c=r[l],d=c.length,u,m=0;m<d;++m)if(u=c[m]){for(var f=e.call(u,u.__data__,m,c),x,g=cr(u,n),p=0,w=f.length;p<w;++p)(x=f[p])&&ix(x,t,n,p,f,g);o.push(f),i.push(u)}return new oa(o,i,t,n)}var cQ=Hu.prototype.constructor;function dQ(){return new cQ(this._groups,this._parents)}function uQ(e,t){var n,r,a;return function(){var o=Rl(this,e),i=(this.style.removeProperty(e),Rl(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}function HO(e){return function(){this.style.removeProperty(e)}}function hQ(e,t,n){var r,a=n+"",o;return function(){var i=Rl(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}function mQ(e,t,n){var r,a,o;return function(){var i=Rl(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Rl(this,e))),i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l))}}function pQ(e,t){var n,r,a,o="style."+t,i="end."+o,l;return function(){var c=Rr(this,e),d=c.on,u=c.value[o]==null?l||(l=HO(t)):void 0;(d!==n||a!==u)&&(r=(n=d).copy()).on(i,a=u),c.on=r}}function fQ(e,t,n){var r=(e+="")=="transform"?xJ:BO;return t==null?this.styleTween(e,uQ(e,r)).on("end.style."+e,HO(e)):typeof t=="function"?this.styleTween(e,mQ(e,r,vN(this,"style."+e,t))).each(pQ(this._id,e)):this.styleTween(e,hQ(e,r,t),n).on("end.style."+e,null)}function xQ(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function gQ(e,t,n){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&xQ(e,i,n)),r}return o._value=t,o}function vQ(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,gQ(e,t,n??""))}function yQ(e){return function(){this.textContent=e}}function jQ(e){return function(){var t=e(this);this.textContent=t??""}}function wQ(e){return this.tween("text",typeof e=="function"?jQ(vN(this,"text",e)):yQ(e==null?"":e+""))}function NQ(e){return function(t){this.textContent=e.call(this,t)}}function bQ(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&NQ(a)),t}return r._value=e,r}function SQ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bQ(e))}function CQ(){for(var e=this._name,t=this._id,n=zO(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,c,d=0;d<l;++d)if(c=i[d]){var u=cr(c,t);ix(c,e,n,d,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new oa(r,this._parents,e,n)}function EQ(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var l={value:i},c={value:function(){--a===0&&o()}};n.each(function(){var d=Rr(this,r),u=d.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),d.on=t}),a===0&&o()})}var TQ=0;function oa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zO(){return++TQ}var _r=Hu.prototype;oa.prototype={constructor:oa,select:iQ,selectAll:lQ,selectChild:_r.selectChild,selectChildren:_r.selectChildren,filter:eQ,merge:tQ,selection:dQ,transition:CQ,call:_r.call,nodes:_r.nodes,node:_r.node,size:_r.size,empty:_r.empty,each:_r.each,on:rQ,attr:_J,attrTween:HJ,style:fQ,styleTween:vQ,text:wQ,textTween:SQ,remove:oQ,tween:DJ,delay:WJ,duration:KJ,ease:JJ,easeVarying:ZJ,end:EQ,[Symbol.iterator]:_r[Symbol.iterator]};function PQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var AQ={time:null,delay:0,duration:250,ease:PQ};function kQ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function DQ(e){var t,n;e instanceof oa?(t=e._id,e=e._name):(t=zO(),(n=AQ).time=xN(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,c,d=0;d<l;++d)(c=i[d])&&ix(c,e,t,d,i,n||kQ(c,t));return new oa(r,this._parents,e,t)}Hu.prototype.interrupt=PJ;Hu.prototype.transition=DQ;const Fh=e=>()=>e;function MQ(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Yr(e,t,n){this.k=e,this.x=t,this.y=n}Yr.prototype={constructor:Yr,scale:function(e){return e===1?this:new Yr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lx=new Yr(1,0,0);qO.prototype=Yr.prototype;function qO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lx;return e.__zoom}function Mg(e){e.stopImmediatePropagation()}function Oc(e){e.preventDefault(),e.stopImmediatePropagation()}function RQ(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function FQ(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function L1(){return this.__zoom||lx}function OQ(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function IQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function LQ(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function WO(){var e=RQ,t=FQ,n=LQ,r=OQ,a=IQ,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wm,d=rx("start","zoom","end"),u,m,f,x=500,g=150,p=0,w=10;function v(O){O.property("__zoom",L1).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",L).filter(a).on("touchstart.zoom",F).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(O,k,C,P){var R=O.selection?O.selection():O;R.property("__zoom",L1),O!==R?b(O,k,C,P):R.interrupt().each(function(){T(this,arguments).event(P).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},v.scaleBy=function(O,k,C,P){v.scaleTo(O,function(){var R=this.__zoom.k,$=typeof k=="function"?k.apply(this,arguments):k;return R*$},C,P)},v.scaleTo=function(O,k,C,P){v.transform(O,function(){var R=t.apply(this,arguments),$=this.__zoom,H=C==null?N(R):typeof C=="function"?C.apply(this,arguments):C,_=$.invert(H),B=typeof k=="function"?k.apply(this,arguments):k;return n(j(y($,B),H,_),R,i)},C,P)},v.translateBy=function(O,k,C,P){v.transform(O,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),i)},null,P)},v.translateTo=function(O,k,C,P,R){v.transform(O,function(){var $=t.apply(this,arguments),H=this.__zoom,_=P==null?N($):typeof P=="function"?P.apply(this,arguments):P;return n(lx.translate(_[0],_[1]).scale(H.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof C=="function"?-C.apply(this,arguments):-C),$,i)},P,R)};function y(O,k){return k=Math.max(o[0],Math.min(o[1],k)),k===O.k?O:new Yr(k,O.x,O.y)}function j(O,k,C){var P=k[0]-C[0]*O.k,R=k[1]-C[1]*O.k;return P===O.x&&R===O.y?O:new Yr(O.k,P,R)}function N(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function b(O,k,C,P){O.on("start.zoom",function(){T(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(P).end()}).tween("zoom",function(){var R=this,$=arguments,H=T(R,$).event(P),_=t.apply(R,$),B=C==null?N(_):typeof C=="function"?C.apply(R,$):C,W=Math.max(_[1][0]-_[0][0],_[1][1]-_[0][1]),te=R.__zoom,le=typeof k=="function"?k.apply(R,$):k,ue=c(te.invert(B).concat(W/te.k),le.invert(B).concat(W/le.k));return function(Q){if(Q===1)Q=le;else{var ie=ue(Q),ge=W/ie[2];Q=new Yr(ge,B[0]-ie[0]*ge,B[1]-ie[1]*ge)}H.zoom(null,Q)}})}function T(O,k,C){return!C&&O.__zooming||new S(O,k)}function S(O,k){this.that=O,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,k),this.taps=0}S.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,k){return this.mouse&&O!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var k=ln(this.that).datum();d.call(O,this.that,new MQ(O,{sourceEvent:this.sourceEvent,target:v,type:O,transform:this.that.__zoom,dispatch:d}),k)}};function A(O,...k){if(!e.apply(this,arguments))return;var C=T(this,k).event(O),P=this.__zoom,R=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),$=Wn(O);if(C.wheel)(C.mouse[0][0]!==$[0]||C.mouse[0][1]!==$[1])&&(C.mouse[1]=P.invert(C.mouse[0]=$)),clearTimeout(C.wheel);else{if(P.k===R)return;C.mouse=[$,P.invert($)],Sm(this),C.start()}Oc(O),C.wheel=setTimeout(H,g),C.zoom("mouse",n(j(y(P,R),C.mouse[0],C.mouse[1]),C.extent,i));function H(){C.wheel=null,C.end()}}function M(O,...k){if(f||!e.apply(this,arguments))return;var C=O.currentTarget,P=T(this,k,!0).event(O),R=ln(O.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",W,!0),$=Wn(O,C),H=O.clientX,_=O.clientY;AO(O.view),Mg(O),P.mouse=[$,this.__zoom.invert($)],Sm(this),P.start();function B(te){if(Oc(te),!P.moved){var le=te.clientX-H,ue=te.clientY-_;P.moved=le*le+ue*ue>p}P.event(te).zoom("mouse",n(j(P.that.__zoom,P.mouse[0]=Wn(te,C),P.mouse[1]),P.extent,i))}function W(te){R.on("mousemove.zoom mouseup.zoom",null),kO(te.view,P.moved),Oc(te),P.event(te).end()}}function L(O,...k){if(e.apply(this,arguments)){var C=this.__zoom,P=Wn(O.changedTouches?O.changedTouches[0]:O,this),R=C.invert(P),$=C.k*(O.shiftKey?.5:2),H=n(j(y(C,$),P,R),t.apply(this,k),i);Oc(O),l>0?ln(this).transition().duration(l).call(b,H,P,O):ln(this).call(v.transform,H,P,O)}}function F(O,...k){if(e.apply(this,arguments)){var C=O.touches,P=C.length,R=T(this,k,O.changedTouches.length===P).event(O),$,H,_,B;for(Mg(O),H=0;H<P;++H)_=C[H],B=Wn(_,this),B=[B,this.__zoom.invert(B),_.identifier],R.touch0?!R.touch1&&R.touch0[2]!==B[2]&&(R.touch1=B,R.taps=0):(R.touch0=B,$=!0,R.taps=1+!!u);u&&(u=clearTimeout(u)),$&&(R.taps<2&&(m=B[0],u=setTimeout(function(){u=null},x)),Sm(this),R.start())}}function I(O,...k){if(this.__zooming){var C=T(this,k).event(O),P=O.changedTouches,R=P.length,$,H,_,B;for(Oc(O),$=0;$<R;++$)H=P[$],_=Wn(H,this),C.touch0&&C.touch0[2]===H.identifier?C.touch0[0]=_:C.touch1&&C.touch1[2]===H.identifier&&(C.touch1[0]=_);if(H=C.that.__zoom,C.touch1){var W=C.touch0[0],te=C.touch0[1],le=C.touch1[0],ue=C.touch1[1],Q=(Q=le[0]-W[0])*Q+(Q=le[1]-W[1])*Q,ie=(ie=ue[0]-te[0])*ie+(ie=ue[1]-te[1])*ie;H=y(H,Math.sqrt(Q/ie)),_=[(W[0]+le[0])/2,(W[1]+le[1])/2],B=[(te[0]+ue[0])/2,(te[1]+ue[1])/2]}else if(C.touch0)_=C.touch0[0],B=C.touch0[1];else return;C.zoom("touch",n(j(H,_,B),C.extent,i))}}function U(O,...k){if(this.__zooming){var C=T(this,k).event(O),P=O.changedTouches,R=P.length,$,H;for(Mg(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},x),$=0;$<R;++$)H=P[$],C.touch0&&C.touch0[2]===H.identifier?delete C.touch0:C.touch1&&C.touch1[2]===H.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(H=Wn(H,this),Math.hypot(m[0]-H[0],m[1]-H[1])<w)){var _=ln(this).on("dblclick.zoom");_&&_.apply(this,arguments)}}}return v.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:Fh(+O),v):r},v.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Fh(!!O),v):e},v.touchable=function(O){return arguments.length?(a=typeof O=="function"?O:Fh(!!O),v):a},v.extent=function(O){return arguments.length?(t=typeof O=="function"?O:Fh([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),v):t},v.scaleExtent=function(O){return arguments.length?(o[0]=+O[0],o[1]=+O[1],v):[o[0],o[1]]},v.translateExtent=function(O){return arguments.length?(i[0][0]=+O[0][0],i[1][0]=+O[1][0],i[0][1]=+O[0][1],i[1][1]=+O[1][1],v):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},v.constrain=function(O){return arguments.length?(n=O,v):n},v.duration=function(O){return arguments.length?(l=+O,v):l},v.interpolate=function(O){return arguments.length?(c=O,v):c},v.on=function(){var O=d.on.apply(d,arguments);return O===d?v:O},v.clickDistance=function(O){return arguments.length?(p=(O=+O)*O,v):Math.sqrt(p)},v.tapDistance=function(O){return arguments.length?(w=+O,v):w},v}const Pr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Yd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],YO=["Enter"," ","Escape"],XO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ri;(function(e){e.Strict="strict",e.Loose="loose"})(ri||(ri={}));var Bo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bo||(Bo={}));var Xd;(function(e){e.Partial="partial",e.Full="full"})(Xd||(Xd={}));const KO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Fa;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fa||(Fa={}));var Kn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Kn||(Kn={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const _1={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function GO(e){return e===null?null:e?"valid":"invalid"}const JO=e=>"id"in e&&"source"in e&&"target"in e,_Q=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),yN=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),qu=(e,t=[0,0])=>{const{width:n,height:r}=xa(e),a=e.origin??t,o=n*a[0],i=r*a[1];return{x:e.position.x-o,y:e.position.y-i}},$Q=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const o=typeof a=="string";let i=!t.nodeLookup&&!o?a:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(a):yN(a)?a:t.nodeLookup.get(a.id));const l=i?Dp(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return cx(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return dx(n)},Wu=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const a=Dp(r);n=cx(n,a)}}),dx(n)},jN=(e,t,[n,r,a]=[0,0,1],o=!1,i=!1)=>{const l={...Yu(t,[n,r,a]),width:t.width/a,height:t.height/a},c=[];for(const d of e.values()){const{measured:u,selectable:m=!0,hidden:f=!1}=d;if(i&&!m||f)continue;const x=u.width??d.width??d.initialWidth??null,g=u.height??d.height??d.initialHeight??null,p=Kd(l,Il(d)),w=(x??0)*(g??0),v=o&&p>0;(!d.internals.handleBounds||v||p>=w||d.dragging)&&c.push(d)}return c},VQ=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function UQ(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&(t?.includeHiddenNodes||!a.hidden)&&(!r||r.has(a.id))&&n.set(a.id,a)}),n}async function BQ({nodes:e,width:t,height:n,panZoom:r,minZoom:a,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=UQ(e,i),c=Wu(l),d=wN(c,t,n,i?.minZoom??a,i?.maxZoom??o,i?.padding??.1);return await r.setViewport(d,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)}function QO({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:a,onError:o}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let m=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)o?.("005",Pr.error005());else{const x=l.measured.width,g=l.measured.height;x&&g&&(m=[[c,d],[c+x,d+g]])}else l&&Ll(i.extent)&&(m=[[i.extent[0][0]+c,i.extent[0][1]+d],[i.extent[1][0]+c,i.extent[1][1]+d]]);const f=Ll(m)?ai(t,m,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&o?.("015",Pr.error015()),{position:{x:f.x-c+(i.measured.width??0)*u[0],y:f.y-d+(i.measured.height??0)*u[1]},positionAbsolute:f}}async function HQ({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:a}){const o=new Set(e.map(f=>f.id)),i=[];for(const f of n){if(f.deletable===!1)continue;const x=o.has(f.id),g=!x&&f.parentId&&i.find(p=>p.id===f.parentId);(x||g)&&i.push(f)}const l=new Set(t.map(f=>f.id)),c=r.filter(f=>f.deletable!==!1),u=VQ(i,c);for(const f of c)l.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!a)return{edges:u,nodes:i};const m=await a({nodes:i,edges:u});return typeof m=="boolean"?m?{edges:u,nodes:i}:{edges:[],nodes:[]}:m}const Ol=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ai=(e={x:0,y:0},t,n)=>({x:Ol(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Ol(e.y,t[0][1],t[1][1]-(n?.height??0))});function ZO(e,t,n){const{width:r,height:a}=xa(n),{x:o,y:i}=n.internals.positionAbsolute;return ai(e,[[o,i],[o+r,i+a]],t)}const $1=(e,t,n)=>e<t?Ol(Math.abs(e-t),1,t)/t:e>n?-Ol(Math.abs(e-n),1,t)/t:0,e4=(e,t,n=15,r=40)=>{const a=$1(e.x,r,t.width-r)*n,o=$1(e.y,r,t.height-r)*n;return[a,o]},cx=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),mj=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),dx=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Il=(e,t=[0,0])=>{const{x:n,y:r}=yN(e)?e.internals.positionAbsolute:qu(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Dp=(e,t=[0,0])=>{const{x:n,y:r}=yN(e)?e.internals.positionAbsolute:qu(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},t4=(e,t)=>dx(cx(mj(e),mj(t))),Kd=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},V1=e=>Gn(e.width)&&Gn(e.height)&&Gn(e.x)&&Gn(e.y),Gn=e=>!isNaN(e)&&isFinite(e),zQ=(e,t)=>{},ux=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Yu=({x:e,y:t},[n,r,a],o=!1,i=[1,1])=>{const l={x:(e-n)/a,y:(t-r)/a};return o?ux(l,i):l},Mp=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r});function Ai(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function qQ(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ai(e,n),a=Ai(e,t);return{top:r,right:a,bottom:r,left:a,x:a*2,y:r*2}}if(typeof e=="object"){const r=Ai(e.top??e.y??0,n),a=Ai(e.bottom??e.y??0,n),o=Ai(e.left??e.x??0,t),i=Ai(e.right??e.x??0,t);return{top:r,right:i,bottom:a,left:o,x:o+i,y:r+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function WQ(e,t,n,r,a,o){const{x:i,y:l}=Mp(e,[t,n,r]),{x:c,y:d}=Mp({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=a-c,m=o-d;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(m)}}const wN=(e,t,n,r,a,o)=>{const i=qQ(o,t,n),l=(t-i.x)/e.width,c=(n-i.y)/e.height,d=Math.min(l,c),u=Ol(d,r,a),m=e.x+e.width/2,f=e.y+e.height/2,x=t/2-m*u,g=n/2-f*u,p=WQ(e,x,g,u,t,n),w={left:Math.min(p.left-i.left,0),top:Math.min(p.top-i.top,0),right:Math.min(p.right-i.right,0),bottom:Math.min(p.bottom-i.bottom,0)};return{x:x-w.left+w.right,y:g-w.top+w.bottom,zoom:u}},Rp=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Ll(e){return e!==void 0&&e!=="parent"}function xa(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function s4(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function n4(e,t={width:0,height:0},n,r,a){const o={...e},i=r.get(n);if(i){const l=i.origin||a;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function U1(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function YQ(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function XQ(e){return{...XO,...e||{}}}function ld(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:a}){const{x:o,y:i}=vr(e),l=Yu({x:o-(a?.left??0),y:i-(a?.top??0)},r),{x:c,y:d}=n?ux(l,t):l;return{xSnapped:c,ySnapped:d,...l}}const NN=e=>({width:e.offsetWidth,height:e.offsetHeight}),r4=e=>e?.getRootNode?.()||window?.document,KQ=["INPUT","SELECT","TEXTAREA"];function a4(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:KQ.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const o4=e=>"clientX"in e,vr=(e,t)=>{const n=o4(e),r=n?e.clientX:e.touches?.[0].clientX,a=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:a-(t?.top??0)}},B1=(e,t,n,r,a)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...NN(i)}})};function i4({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+n*.125,d=t*.125+o*.375+l*.375+r*.125,u=Math.abs(c-e),m=Math.abs(d-t);return[c,d,u,m]}function Oh(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function H1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case Ce.Left:return[t-Oh(t-r,o),n];case Ce.Right:return[t+Oh(r-t,o),n];case Ce.Top:return[t,n-Oh(n-a,o)];case Ce.Bottom:return[t,n+Oh(a-n,o)]}}function bN({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:a,targetPosition:o=Ce.Top,curvature:i=.25}){const[l,c]=H1({pos:n,x1:e,y1:t,x2:r,y2:a,c:i}),[d,u]=H1({pos:o,x1:r,y1:a,x2:e,y2:t,c:i}),[m,f,x,g]=i4({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return[`M${e},${t} C${l},${c} ${d},${u} ${r},${a}`,m,f,x,g]}function l4({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[o,l,a,i]}function GQ({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:a=!1}){if(r!==void 0)return r;const o=a&&n?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function JQ({sourceNode:e,targetNode:t,width:n,height:r,transform:a}){const o=cx(Dp(e),Dp(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:r/a[2]};return Kd(i,dx(o))>0}const QQ=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,ZQ=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Fp=(e,t)=>{if(!e.source||!e.target)return t;let n;return JO(e)?n={...e}:n={...e,id:QQ(e)},ZQ(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function c4({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,i,l]=l4({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,i,l]}const z1={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},eZ=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},q1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function tZ({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:a,offset:o,stepPosition:i}){const l=z1[t],c=z1[r],d={x:e.x+l.x*o,y:e.y+l.y*o},u={x:n.x+c.x*o,y:n.y+c.y*o},m=eZ({source:d,sourcePosition:t,target:u}),f=m.x!==0?"x":"y",x=m[f];let g=[],p,w;const v={x:0,y:0},y={x:0,y:0},[,,j,N]=l4({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*c[f]===-1){f==="x"?(p=a.x??d.x+(u.x-d.x)*i,w=a.y??(d.y+u.y)/2):(p=a.x??(d.x+u.x)/2,w=a.y??d.y+(u.y-d.y)*i);const T=[{x:p,y:d.y},{x:p,y:u.y}],S=[{x:d.x,y:w},{x:u.x,y:w}];l[f]===x?g=f==="x"?T:S:g=f==="x"?S:T}else{const T=[{x:d.x,y:u.y}],S=[{x:u.x,y:d.y}];if(f==="x"?g=l.x===x?S:T:g=l.y===x?T:S,t===r){const I=Math.abs(e[f]-n[f]);if(I<=o){const U=Math.min(o-1,o-I);l[f]===x?v[f]=(d[f]>e[f]?-1:1)*U:y[f]=(u[f]>n[f]?-1:1)*U}}if(t!==r){const I=f==="x"?"y":"x",U=l[f]===c[I],O=d[I]>u[I],k=d[I]<u[I];(l[f]===1&&(!U&&O||U&&k)||l[f]!==1&&(!U&&k||U&&O))&&(g=f==="x"?T:S)}const A={x:d.x+v.x,y:d.y+v.y},M={x:u.x+y.x,y:u.y+y.y},L=Math.max(Math.abs(A.x-g[0].x),Math.abs(M.x-g[0].x)),F=Math.max(Math.abs(A.y-g[0].y),Math.abs(M.y-g[0].y));L>=F?(p=(A.x+M.x)/2,w=g[0].y):(p=g[0].x,w=(A.y+M.y)/2)}return[[e,{x:d.x+v.x,y:d.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},n],p,w,j,N]}function sZ(e,t,n,r){const a=Math.min(q1(e,t)/2,q1(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const d=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+a*d},${i}Q ${o},${i} ${o},${i+a*u}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${i+a*c}Q ${o},${i} ${o+a*l},${i}`}function pj({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:a,targetPosition:o=Ce.Top,borderRadius:i=5,centerX:l,centerY:c,offset:d=20,stepPosition:u=.5}){const[m,f,x,g,p]=tZ({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:l,y:c},offset:d,stepPosition:u});return[m.reduce((v,y,j)=>{let N="";return j>0&&j<m.length-1?N=sZ(m[j-1],y,m[j+1],i):N=`${j===0?"M":"L"}${y.x} ${y.y}`,v+=N,v},""),f,x,g,p]}function W1(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function nZ(e){const{sourceNode:t,targetNode:n}=e;if(!W1(t)||!W1(n))return null;const r=t.internals.handleBounds||Y1(t.handles),a=n.internals.handleBounds||Y1(n.handles),o=X1(r?.source??[],e.sourceHandle),i=X1(e.connectionMode===ri.Strict?a?.target??[]:(a?.target??[]).concat(a?.source??[]),e.targetHandle);if(!o||!i)return e.onError?.("008",Pr.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=o?.position||Ce.Bottom,c=i?.position||Ce.Top,d=Gd(t,o,l),u=Gd(n,i,c);return{sourceX:d.x,sourceY:d.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:c}}function Y1(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Gd(e,t,n=Ce.Left,r=!1){const a=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??xa(e);if(r)return{x:a+i/2,y:o+l/2};switch(t?.position??n){case Ce.Top:return{x:a+i/2,y:o};case Ce.Right:return{x:a+i,y:o+l/2};case Ce.Bottom:return{x:a+i/2,y:o+l};case Ce.Left:return{x:a,y:o+l/2}}}function X1(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function fj(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function rZ(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:a}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const d=fj(c,t);o.has(d)||(i.push({id:d,color:c.color||n,...c}),o.add(d))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const SN={nodeOrigin:[0,0],nodeExtent:Yd,elevateNodesOnSelect:!0,defaults:{}},aZ={...SN,checkEquality:!0};function CN(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function oZ(e,t,n){const r=CN(SN,n);for(const a of e.values())if(a.parentId)EN(a,e,t,r);else{const o=qu(a,r.nodeOrigin),i=Ll(a.extent)?a.extent:r.nodeExtent,l=ai(o,i,xa(a));a.internals.positionAbsolute=l}}function xj(e,t,n,r){const a=CN(aZ,r);let o=e.length>0;const i=new Map(t),l=a?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let d=i.get(c.id);if(a.checkEquality&&c===d?.internals.userNode)t.set(c.id,d);else{const u=qu(c,a.nodeOrigin),m=Ll(c.extent)?c.extent:a.nodeExtent,f=ai(u,m,xa(c));d={...a.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:f,handleBounds:c.measured?d?.internals.handleBounds:void 0,z:d4(c,l),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&EN(d,t,n,r)}return o}function iZ(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function EN(e,t,n,r){const{elevateNodesOnSelect:a,nodeOrigin:o,nodeExtent:i}=CN(SN,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}iZ(e,n);const d=a?1e3:0,{x:u,y:m,z:f}=lZ(e,c,o,i,d),{positionAbsolute:x}=e.internals,g=u!==x.x||m!==x.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:m}:x,z:f}})}function d4(e,t){return(Gn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function lZ(e,t,n,r,a){const{x:o,y:i}=t.internals.positionAbsolute,l=xa(e),c=qu(e,n),d=Ll(e.extent)?ai(c,e.extent,l):c;let u=ai({x:o+d.x,y:i+d.y},r,l);e.extent==="parent"&&(u=ZO(u,l,t));const m=d4(e,a),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>=m?f+1:m}}function TN(e,t,n,r=[0,0]){const a=[],o=new Map;for(const i of e){const l=t.get(i.parentId);if(!l)continue;const c=o.get(i.parentId)?.expandedRect??Il(l),d=t4(c,i.rect);o.set(i.parentId,{expandedRect:d,parent:l})}return o.size>0&&o.forEach(({expandedRect:i,parent:l},c)=>{const d=l.internals.positionAbsolute,u=xa(l),m=l.origin??r,f=i.x<d.x?Math.round(Math.abs(d.x-i.x)):0,x=i.y<d.y?Math.round(Math.abs(d.y-i.y)):0,g=Math.max(u.width,Math.round(i.width)),p=Math.max(u.height,Math.round(i.height)),w=(g-u.width)*m[0],v=(p-u.height)*m[1];(f>0||x>0||w||v)&&(a.push({id:c,type:"position",position:{x:l.position.x-f+w,y:l.position.y-x+v}}),n.get(c)?.forEach(y=>{e.some(j=>j.id===y.id)||a.push({id:y.id,type:"position",position:{x:y.position.x+f,y:y.position.y+x}})})),(u.width<i.width||u.height<i.height||f||x)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(f?m[0]*f-w:0),height:p+(x?m[1]*x-v:0)}})}),a}function cZ(e,t,n,r,a,o){const i=r?.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const f of e.values()){const x=t.get(f.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const g=NN(f.nodeElement),p=x.measured.width!==g.width||x.measured.height!==g.height;if(!!(g.width&&g.height&&(p||!x.internals.handleBounds||f.force))){const v=f.nodeElement.getBoundingClientRect(),y=Ll(x.extent)?x.extent:o;let{positionAbsolute:j}=x.internals;x.parentId&&x.extent==="parent"?j=ZO(j,g,t.get(x.parentId)):y&&(j=ai(j,y,g));const N={...x,measured:g,internals:{...x.internals,positionAbsolute:j,handleBounds:{source:B1("source",f.nodeElement,v,u,x.id),target:B1("target",f.nodeElement,v,u,x.id)}}};t.set(x.id,N),x.parentId&&EN(N,t,n,{nodeOrigin:a}),l=!0,p&&(c.push({id:x.id,type:"dimensions",dimensions:g}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:Il(N,a)}))}}if(m.length>0){const f=TN(m,t,n,a);c.push(...f)}return{changes:c,updatedInternals:l}}async function dZ({delta:e,panZoom:t,transform:n,translateExtent:r,width:a,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,o]],r),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function K1(e,t,n,r,a,o){let i=a;const l=r.get(i)||new Map;r.set(i,l.set(n,t)),i=`${a}-${e}`;const c=r.get(i)||new Map;if(r.set(i,c.set(n,t)),o){i=`${a}-${e}-${o}`;const d=r.get(i)||new Map;r.set(i,d.set(n,t))}}function u4(e,t,n){e.clear(),t.clear();for(const r of n){const{source:a,target:o,sourceHandle:i=null,targetHandle:l=null}=r,c={edgeId:r.id,source:a,target:o,sourceHandle:i,targetHandle:l},d=`${a}-${i}--${o}-${l}`,u=`${o}-${l}--${a}-${i}`;K1("source",c,u,e,a,i),K1("target",c,d,e,o,l),t.set(r.id,r)}}function h4(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:h4(n,t):!1}function G1(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function uZ(e,t,n,r){const a=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!h4(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&a.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Rg({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const a=[];for(const[i,l]of t){const c=n.get(i)?.internals.userNode;c&&a.push({...c,position:l.position,dragging:r})}if(!e)return[a[0],a];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:a[0],a]}function hZ({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:a}){let o={x:null,y:null},i=0,l=new Map,c=!1,d={x:0,y:0},u=null,m=!1,f=null,x=!1,g=!1;function p({noDragClassName:v,handleSelector:y,domNode:j,isSelectable:N,nodeId:b,nodeClickDistance:T=0}){f=ln(j);function S({x:F,y:I},U){const{nodeLookup:O,nodeExtent:k,snapGrid:C,snapToGrid:P,nodeOrigin:R,onNodeDrag:$,onSelectionDrag:H,onError:_,updateNodePositions:B}=t();o={x:F,y:I};let W=!1,te={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const le=Wu(l);te=mj(le)}for(const[le,ue]of l){if(!O.has(le))continue;let Q={x:F-ue.distance.x,y:I-ue.distance.y};P&&(Q=ux(Q,C));let ie=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!ue.extent){const{positionAbsolute:Te}=ue.internals,Ne=Te.x-te.x+k[0][0],de=Te.x+ue.measured.width-te.x2+k[1][0],oe=Te.y-te.y+k[0][1],we=Te.y+ue.measured.height-te.y2+k[1][1];ie=[[Ne,oe],[de,we]]}const{position:ge,positionAbsolute:Se}=QO({nodeId:le,nextPosition:Q,nodeLookup:O,nodeExtent:ie,nodeOrigin:R,onError:_});W=W||ue.position.x!==ge.x||ue.position.y!==ge.y,ue.position=ge,ue.internals.positionAbsolute=Se}if(g=g||W,!!W&&(B(l,!0),U&&(r||$||!b&&H))){const[le,ue]=Rg({nodeId:b,dragItems:l,nodeLookup:O});r?.(U,l,le,ue),$?.(U,le,ue),b||H?.(U,ue)}}async function A(){if(!u)return;const{transform:F,panBy:I,autoPanSpeed:U,autoPanOnNodeDrag:O}=t();if(!O){c=!1,cancelAnimationFrame(i);return}const[k,C]=e4(d,u,U);(k!==0||C!==0)&&(o.x=(o.x??0)-k/F[2],o.y=(o.y??0)-C/F[2],await I({x:k,y:C})&&S(o,null)),i=requestAnimationFrame(A)}function M(F){const{nodeLookup:I,multiSelectionActive:U,nodesDraggable:O,transform:k,snapGrid:C,snapToGrid:P,selectNodesOnDrag:R,onNodeDragStart:$,onSelectionDragStart:H,unselectNodesAndEdges:_}=t();m=!0,(!R||!N)&&!U&&b&&(I.get(b)?.selected||_()),N&&R&&b&&e?.(b);const B=ld(F.sourceEvent,{transform:k,snapGrid:C,snapToGrid:P,containerBounds:u});if(o=B,l=uZ(I,O,B,b),l.size>0&&(n||$||!b&&H)){const[W,te]=Rg({nodeId:b,dragItems:l,nodeLookup:I});n?.(F.sourceEvent,l,W,te),$?.(F.sourceEvent,W,te),b||H?.(F.sourceEvent,te)}}const L=DO().clickDistance(T).on("start",F=>{const{domNode:I,nodeDragThreshold:U,transform:O,snapGrid:k,snapToGrid:C}=t();u=I?.getBoundingClientRect()||null,x=!1,g=!1,U===0&&M(F),o=ld(F.sourceEvent,{transform:O,snapGrid:k,snapToGrid:C,containerBounds:u}),d=vr(F.sourceEvent,u)}).on("drag",F=>{const{autoPanOnNodeDrag:I,transform:U,snapGrid:O,snapToGrid:k,nodeDragThreshold:C,nodeLookup:P}=t(),R=ld(F.sourceEvent,{transform:U,snapGrid:O,snapToGrid:k,containerBounds:u});if((F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||b&&!P.has(b))&&(x=!0),!x){if(!c&&I&&m&&(c=!0,A()),!m){const $=R.xSnapped-(o.x??0),H=R.ySnapped-(o.y??0);Math.sqrt($*$+H*H)>C&&M(F)}(o.x!==R.xSnapped||o.y!==R.ySnapped)&&l&&m&&(d=vr(F.sourceEvent,u),S(R,F.sourceEvent))}}).on("end",F=>{if(!(!m||x)&&(c=!1,m=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:I,updateNodePositions:U,onNodeDragStop:O,onSelectionDragStop:k}=t();if(g&&(U(l,!1),g=!1),a||O||!b&&k){const[C,P]=Rg({nodeId:b,dragItems:l,nodeLookup:I,dragging:!1});a?.(F.sourceEvent,l,C,P),O?.(F.sourceEvent,C,P),b||k?.(F.sourceEvent,P)}}}).filter(F=>{const I=F.target;return!F.button&&(!v||!G1(I,`.${v}`,j))&&(!y||G1(I,y,j))});f.call(L)}function w(){f?.on(".drag",null)}return{update:p,destroy:w}}function mZ(e,t,n){const r=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Kd(a,Il(o))>0&&r.push(o);return r}const pZ=250;function fZ(e,t,n,r){let a=[],o=1/0;const i=mZ(e,n,t+pZ);for(const l of i){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:u,y:m}=Gd(l,d,d.position,!0),f=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(m-e.y,2));f>t||(f<o?(a=[{...d,x:u,y:m}],o=f):f===o&&a.push({...d,x:u,y:m}))}}if(!a.length)return null;if(a.length>1){const l=r.type==="source"?"target":"source";return a.find(c=>c.type===l)??a[0]}return a[0]}function m4(e,t,n,r,a,o=!1){const i=r.get(e);if(!i)return null;const l=a==="strict"?i.internals.handleBounds?.[t]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&o?{...c,...Gd(i,c,c.position,!0)}:c}function p4(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function xZ(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const f4=()=>!0;function gZ(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:a,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:u,flowId:m,panBy:f,cancelConnection:x,onConnectStart:g,onConnect:p,onConnectEnd:w,isValidConnection:v=f4,onReconnectEnd:y,updateConnection:j,getTransform:N,getFromHandle:b,autoPanSpeed:T,dragThreshold:S=1}){const A=r4(e.target);let M=0,L;const{x:F,y:I}=vr(e),U=A?.elementFromPoint(F,I),O=p4(o,U),k=l?.getBoundingClientRect();let C=!1;if(!k||!O)return;const P=m4(a,O,r,c,t);if(!P)return;let R=vr(e,k),$=!1,H=null,_=!1,B=null;function W(){if(!u||!k)return;const[Te,Ne]=e4(R,k,T);f({x:Te,y:Ne}),M=requestAnimationFrame(W)}const te={...P,nodeId:a,type:O,position:P.position},le=c.get(a);let Q={inProgress:!0,isValid:null,from:Gd(le,te,Ce.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:le,to:R,toHandle:null,toPosition:_1[te.position],toNode:null};function ie(){C=!0,j(Q),g?.(e,{nodeId:a,handleId:r,handleType:O})}S===0&&ie();function ge(Te){if(!C){const{x:we,y:ot}=vr(Te),zt=we-F,qt=ot-I;if(!(zt*zt+qt*qt>S*S))return;ie()}if(!b()||!te){Se(Te);return}const Ne=N();R=vr(Te,k),L=fZ(Yu(R,Ne,!1,[1,1]),n,c,te),$||(W(),$=!0);const de=x4(Te,{handle:L,connectionMode:t,fromNodeId:a,fromHandleId:r,fromType:i?"target":"source",isValidConnection:v,doc:A,lib:d,flowId:m,nodeLookup:c});B=de.handleDomNode,H=de.connection,_=xZ(!!L,de.isValid);const oe={...Q,isValid:_,to:de.toHandle&&_?Mp({x:de.toHandle.x,y:de.toHandle.y},Ne):R,toHandle:de.toHandle,toPosition:_&&de.toHandle?de.toHandle.position:_1[te.position],toNode:de.toHandle?c.get(de.toHandle.nodeId):null};_&&L&&Q.toHandle&&oe.toHandle&&Q.toHandle.type===oe.toHandle.type&&Q.toHandle.nodeId===oe.toHandle.nodeId&&Q.toHandle.id===oe.toHandle.id&&Q.to.x===oe.to.x&&Q.to.y===oe.to.y||(j(oe),Q=oe)}function Se(Te){if(C){(L||B)&&H&&_&&p?.(H);const{inProgress:Ne,...de}=Q,oe={...de,toPosition:Q.toHandle?Q.toPosition:null};w?.(Te,oe),o&&y?.(Te,oe)}x(),cancelAnimationFrame(M),$=!1,_=!1,H=null,B=null,A.removeEventListener("mousemove",ge),A.removeEventListener("mouseup",Se),A.removeEventListener("touchmove",ge),A.removeEventListener("touchend",Se)}A.addEventListener("mousemove",ge),A.addEventListener("mouseup",Se),A.addEventListener("touchmove",ge),A.addEventListener("touchend",Se)}function x4(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:a,fromType:o,doc:i,lib:l,flowId:c,isValidConnection:d=f4,nodeLookup:u}){const m=o==="target",f=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x,y:g}=vr(e),p=i.elementFromPoint(x,g),w=p?.classList.contains(`${l}-flow__handle`)?p:f,v={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const y=p4(void 0,w),j=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),T=w.classList.contains("connectableend");if(!j||!y)return v;const S={source:m?j:r,sourceHandle:m?N:a,target:m?r:j,targetHandle:m?a:N};v.connection=S;const M=b&&T&&(n===ri.Strict?m&&y==="source"||!m&&y==="target":j!==r||N!==a);v.isValid=M&&d(S),v.toHandle=m4(j,y,N,u,n,!0)}return v}const gj={onPointerDown:gZ,isValid:x4};function vZ({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const a=ln(e);function o({translateExtent:l,width:c,height:d,zoomStep:u=10,pannable:m=!0,zoomable:f=!0,inversePan:x=!1}){const g=j=>{const N=n();if(j.sourceEvent.type!=="wheel"||!t)return;const b=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*u,T=N[2]*Math.pow(2,b);t.scaleTo(T)};let p=[0,0];const w=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(p=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},v=j=>{const N=n();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!t)return;const b=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],T=[b[0]-p[0],b[1]-p[1]];p=b;const S=r()*Math.max(N[2],Math.log(N[2]))*(x?-1:1),A={x:N[0]-T[0]*S,y:N[1]-T[1]*S},M=[[0,0],[c,d]];t.setViewportConstrained({x:A.x,y:A.y,zoom:N[2]},M,l)},y=WO().on("start",w).on("zoom",m?v:null).on("zoom.wheel",f?g:null);a.call(y,{})}function i(){a.on("zoom",null)}return{update:o,destroy:i,pointer:Wn}}const yZ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,hx=e=>({x:e.x,y:e.y,zoom:e.k}),Fg=({x:e,y:t,zoom:n})=>lx.translate(e,t).scale(n),Ji=(e,t)=>e.target.closest(`.${t}`),g4=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),jZ=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Og=(e,t=0,n=jZ,r=()=>{})=>{const a=typeof t=="number"&&t>0;return a||r(),a?e.transition().duration(t).ease(n).on("end",r):e},v4=e=>{const t=e.ctrlKey&&Rp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function wZ({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:a,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return u=>{if(Ji(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(u.ctrlKey&&i){const w=Wn(u),v=v4(u),y=m*Math.pow(2,v);r.scaleTo(n,y,w,u);return}const f=u.deltaMode===1?20:1;let x=a===Bo.Vertical?0:u.deltaX*f,g=a===Bo.Horizontal?0:u.deltaY*f;!Rp()&&u.shiftKey&&a!==Bo.Vertical&&(x=u.deltaY*f,g=0),r.translateBy(n,-(x/m)*o,-(g/m)*o,{internal:!0});const p=hx(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l?.(u,p)),e.isPanScrolling&&(c?.(u,p),e.panScrollTimeout=setTimeout(()=>{d?.(u,p),e.isPanScrolling=!1},150))}}function NZ({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,a){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,l=Ji(r,e);if(r.ctrlKey&&o&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),n.call(this,r,a)}}function bZ({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const a=hx(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=a,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,a)}}function SZ({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:a}){return o=>{e.usedRightMouseButton=!!(n&&g4(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),a&&!o.sourceEvent?.internal&&a?.(o.sourceEvent,hx(o.transform))}}function CZ({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:a,onPaneContextMenu:o}){return i=>{if(!i.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&g4(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),a&&yZ(e.prevViewport,i.transform))){const l=hx(i.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a?.(i.sourceEvent,l)},n?150:0)}}}function EZ({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:a,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:d}){return u=>{const m=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Ji(u,`${d}-flow__node`)||Ji(u,`${d}-flow__edge`)))return!0;if(!r&&!m&&!a&&!o&&!n||i||Ji(u,l)&&u.type==="wheel"||Ji(u,c)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!m&&!a&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&x}}function TZ({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:a,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),f=WO().clickDistance(!Gn(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(a),x=ln(e).call(f);j({x:o.x,y:o.y,zoom:Ol(o.zoom,t,n)},[[0,0],[m.width,m.height]],a);const g=x.on("wheel.zoom"),p=x.on("dblclick.zoom");f.wheelDelta(v4);function w(I,U){return x?new Promise(O=>{f?.interpolate(U?.interpolate==="linear"?id:wm).transform(Og(x,U?.duration,U?.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function v({noWheelClassName:I,noPanClassName:U,onPaneContextMenu:O,userSelectionActive:k,panOnScroll:C,panOnDrag:P,panOnScrollMode:R,panOnScrollSpeed:$,preventScrolling:H,zoomOnPinch:_,zoomOnScroll:B,zoomOnDoubleClick:W,zoomActivationKeyPressed:te,lib:le,onTransformChange:ue}){k&&!u.isZoomingOrPanning&&y();const ie=C&&!te&&!k?wZ({zoomPanValues:u,noWheelClassName:I,d3Selection:x,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:$,zoomOnPinch:_,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):NZ({noWheelClassName:I,preventScrolling:H,d3ZoomHandler:g});if(x.on("wheel.zoom",ie,{passive:!1}),!k){const Se=bZ({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:l});f.on("start",Se);const Te=SZ({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!O,onPanZoom:i,onTransformChange:ue});f.on("zoom",Te);const Ne=CZ({zoomPanValues:u,panOnDrag:P,panOnScroll:C,onPaneContextMenu:O,onPanZoomEnd:c,onDraggingChange:d});f.on("end",Ne)}const ge=EZ({zoomActivationKeyPressed:te,panOnDrag:P,zoomOnScroll:B,panOnScroll:C,zoomOnDoubleClick:W,zoomOnPinch:_,userSelectionActive:k,noPanClassName:U,noWheelClassName:I,lib:le});f.filter(ge),W?x.on("dblclick.zoom",p):x.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function j(I,U,O){const k=Fg(I),C=f?.constrain()(k,U,O);return C&&await w(C),new Promise(P=>P(C))}async function N(I,U){const O=Fg(I);return await w(O,U),new Promise(k=>k(O))}function b(I){if(x){const U=Fg(I),O=x.property("__zoom");(O.k!==I.zoom||O.x!==I.x||O.y!==I.y)&&f?.transform(x,U,null,{sync:!0})}}function T(){const I=x?qO(x.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function S(I,U){return x?new Promise(O=>{f?.interpolate(U?.interpolate==="linear"?id:wm).scaleTo(Og(x,U?.duration,U?.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function A(I,U){return x?new Promise(O=>{f?.interpolate(U?.interpolate==="linear"?id:wm).scaleBy(Og(x,U?.duration,U?.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function M(I){f?.scaleExtent(I)}function L(I){f?.translateExtent(I)}function F(I){const U=!Gn(I)||I<0?0:I;f?.clickDistance(U)}return{update:v,destroy:y,setViewport:N,setViewportConstrained:j,getViewport:T,scaleTo:S,scaleBy:A,setScaleExtent:M,setTranslateExtent:L,syncViewport:b,setClickDistance:F}}var _l;(function(e){e.Line="line",e.Handle="handle"})(_l||(_l={}));function PZ({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:a,affectsY:o}){const i=e-t,l=n-r,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&o&&(c[1]=c[1]*-1),c}function AZ(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:a}}function Na(e,t){return Math.max(0,t-e)}function ba(e,t){return Math.max(0,e-t)}function Ih(e,t,n){return Math.max(0,t-e,e-n)}function J1(e,t){return e?!t:t}function kZ(e,t,n,r,a,o,i,l){let{affectsX:c,affectsY:d}=t;const{isHorizontal:u,isVertical:m}=t,f=u&&m,{xSnapped:x,ySnapped:g}=n,{minWidth:p,maxWidth:w,minHeight:v,maxHeight:y}=r,{x:j,y:N,width:b,height:T,aspectRatio:S}=e;let A=Math.floor(u?x-e.pointerX:0),M=Math.floor(m?g-e.pointerY:0);const L=b+(c?-A:A),F=T+(d?-M:M),I=-o[0]*b,U=-o[1]*T;let O=Ih(L,p,w),k=Ih(F,v,y);if(i){let R=0,$=0;c&&A<0?R=Na(j+A+I,i[0][0]):!c&&A>0&&(R=ba(j+L+I,i[1][0])),d&&M<0?$=Na(N+M+U,i[0][1]):!d&&M>0&&($=ba(N+F+U,i[1][1])),O=Math.max(O,R),k=Math.max(k,$)}if(l){let R=0,$=0;c&&A>0?R=ba(j+A,l[0][0]):!c&&A<0&&(R=Na(j+L,l[1][0])),d&&M>0?$=ba(N+M,l[0][1]):!d&&M<0&&($=Na(N+F,l[1][1])),O=Math.max(O,R),k=Math.max(k,$)}if(a){if(u){const R=Ih(L/S,v,y)*S;if(O=Math.max(O,R),i){let $=0;!c&&!d||c&&!d&&f?$=ba(N+U+L/S,i[1][1])*S:$=Na(N+U+(c?A:-A)/S,i[0][1])*S,O=Math.max(O,$)}if(l){let $=0;!c&&!d||c&&!d&&f?$=Na(N+L/S,l[1][1])*S:$=ba(N+(c?A:-A)/S,l[0][1])*S,O=Math.max(O,$)}}if(m){const R=Ih(F*S,p,w)/S;if(k=Math.max(k,R),i){let $=0;!c&&!d||d&&!c&&f?$=ba(j+F*S+I,i[1][0])/S:$=Na(j+(d?M:-M)*S+I,i[0][0])/S,k=Math.max(k,$)}if(l){let $=0;!c&&!d||d&&!c&&f?$=Na(j+F*S,l[1][0])/S:$=ba(j+(d?M:-M)*S,l[0][0])/S,k=Math.max(k,$)}}}M=M+(M<0?k:-k),A=A+(A<0?O:-O),a&&(f?L>F*S?M=(J1(c,d)?-A:A)/S:A=(J1(c,d)?-M:M)*S:u?(M=A/S,d=c):(A=M*S,c=d));const C=c?j+A:j,P=d?N+M:N;return{width:b+(c?-A:A),height:T+(d?-M:M),x:o[0]*A*(c?-1:1)+C,y:o[1]*M*(d?-1:1)+P}}const y4={width:0,height:0,x:0,y:0},DZ={...y4,pointerX:0,pointerY:0,aspectRatio:1};function MZ(e){return[[0,0],[e.measured.width,e.measured.height]]}function RZ(e,t,n){const r=t.position.x+e.position.x,a=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=n[0]*o,c=n[1]*i;return[[r-l,a-c],[r+o-l,a+i-c]]}function FZ({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:a}){const o=ln(e);function i({controlPosition:c,boundaries:d,keepAspectRatio:u,resizeDirection:m,onResizeStart:f,onResize:x,onResizeEnd:g,shouldResize:p}){let w={...y4},v={...DZ};const y=AZ(c);let j,N=null,b=[],T,S,A;const M=DO().on("start",L=>{const{nodeLookup:F,transform:I,snapGrid:U,snapToGrid:O,nodeOrigin:k,paneDomNode:C}=n();if(j=F.get(t),!j)return;N=C?.getBoundingClientRect()??null;const{xSnapped:P,ySnapped:R}=ld(L.sourceEvent,{transform:I,snapGrid:U,snapToGrid:O,containerBounds:N});w={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},v={...w,pointerX:P,pointerY:R,aspectRatio:w.width/w.height},T=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(T=F.get(j.parentId),S=T&&j.extent==="parent"?MZ(T):void 0),b=[],A=void 0;for(const[$,H]of F)if(H.parentId===t&&(b.push({id:$,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const _=RZ(H,j,H.origin??k);A?A=[[Math.min(_[0][0],A[0][0]),Math.min(_[0][1],A[0][1])],[Math.max(_[1][0],A[1][0]),Math.max(_[1][1],A[1][1])]]:A=_}f?.(L,{...w})}).on("drag",L=>{const{transform:F,snapGrid:I,snapToGrid:U,nodeOrigin:O}=n(),k=ld(L.sourceEvent,{transform:F,snapGrid:I,snapToGrid:U,containerBounds:N}),C=[];if(!j)return;const{x:P,y:R,width:$,height:H}=w,_={},B=j.origin??O,{width:W,height:te,x:le,y:ue}=kZ(v,y,k,d,u,B,S,A),Q=W!==$,ie=te!==H,ge=le!==P&&Q,Se=ue!==R&&ie;if(!ge&&!Se&&!Q&&!ie)return;if((ge||Se||B[0]===1||B[1]===1)&&(_.x=ge?le:w.x,_.y=Se?ue:w.y,w.x=_.x,w.y=_.y,b.length>0)){const oe=le-P,we=ue-R;for(const ot of b)ot.position={x:ot.position.x-oe+B[0]*(W-$),y:ot.position.y-we+B[1]*(te-H)},C.push(ot)}if((Q||ie)&&(_.width=Q&&(!m||m==="horizontal")?W:w.width,_.height=ie&&(!m||m==="vertical")?te:w.height,w.width=_.width,w.height=_.height),T&&j.expandParent){const oe=B[0]*(_.width??0);_.x&&_.x<oe&&(w.x=oe,v.x=v.x-(_.x-oe));const we=B[1]*(_.height??0);_.y&&_.y<we&&(w.y=we,v.y=v.y-(_.y-we))}const Te=PZ({width:w.width,prevWidth:$,height:w.height,prevHeight:H,affectsX:y.affectsX,affectsY:y.affectsY}),Ne={...w,direction:Te};p?.(L,Ne)!==!1&&(x?.(L,Ne),r(_,C))}).on("end",L=>{g?.(L,{...w}),a?.({...w})});o.call(M)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var j4={exports:{}},w4={},N4={exports:{}},b4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=h;function OZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IZ=typeof Object.is=="function"?Object.is:OZ,LZ=$l.useState,_Z=$l.useEffect,$Z=$l.useLayoutEffect,VZ=$l.useDebugValue;function UZ(e,t){var n=t(),r=LZ({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return $Z(function(){a.value=n,a.getSnapshot=t,Ig(a)&&o({inst:a})},[e,n,t]),_Z(function(){return Ig(a)&&o({inst:a}),e(function(){Ig(a)&&o({inst:a})})},[e]),VZ(n),n}function Ig(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IZ(e,n)}catch{return!0}}function BZ(e,t){return t()}var HZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BZ:UZ;b4.useSyncExternalStore=$l.useSyncExternalStore!==void 0?$l.useSyncExternalStore:HZ;N4.exports=b4;var zZ=N4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx=h,qZ=zZ;function WZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YZ=typeof Object.is=="function"?Object.is:WZ,XZ=qZ.useSyncExternalStore,KZ=mx.useRef,GZ=mx.useEffect,JZ=mx.useMemo,QZ=mx.useDebugValue;w4.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=KZ(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=JZ(function(){function c(x){if(!d){if(d=!0,u=x,x=r(x),a!==void 0&&i.hasValue){var g=i.value;if(a(g,x))return m=g}return m=x}if(g=m,YZ(u,x))return g;var p=r(x);return a!==void 0&&a(g,p)?(u=x,g):(u=x,m=p)}var d=!1,u,m,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=XZ(e,o[0],o[1]);return GZ(function(){i.hasValue=!0,i.value=l},[l]),QZ(l),l};j4.exports=w4;var ZZ=j4.exports;const eee=hw(ZZ),tee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Q1=e=>{let t;const n=new Set,r=(u,m)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const x=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,x))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(tee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,a,c);return c},see=e=>e?Q1(e):Q1,{useDebugValue:nee}=Tt,{useSyncExternalStoreWithSelector:ree}=eee,aee=e=>e;function S4(e,t=aee,n){const r=ree(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nee(r),r}const Z1=(e,t)=>{const n=see(e),r=(a,o=t)=>S4(n,a,o);return Object.assign(r,n),r},oee=(e,t)=>e?Z1(e,t):Z1;function _t(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const px=h.createContext(null),iee=px.Provider,C4=Pr.error001();function st(e,t){const n=h.useContext(px);if(n===null)throw new Error(C4);return S4(n,e,t)}function kt(){const e=h.useContext(px);if(e===null)throw new Error(C4);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const eE={display:"none"},lee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},E4="react-flow__node-desc",T4="react-flow__edge-desc",cee="react-flow__aria-live",dee=e=>e.ariaLiveMessage,uee=e=>e.ariaLabelConfig;function hee({rfId:e}){const t=st(dee);return s.jsx("div",{id:`${cee}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:lee,children:t})}function mee({rfId:e,disableKeyboardA11y:t}){const n=st(uee);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${E4}-${e}`,style:eE,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${T4}-${e}`,style:eE,children:n["edge.a11yDescription.default"]}),!t&&s.jsx(hee,{rfId:e})]})}const Vl=h.forwardRef(({position:e="top-left",children:t,className:n,style:r,...a},o)=>{const i=`${e}`.split("-");return s.jsx("div",{className:Qt(["react-flow__panel",n,...i]),style:r,ref:o,...a,children:t})});Vl.displayName="Panel";function pee({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:s.jsx(Vl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const fee=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Lh=e=>e.id;function xee(e,t){return _t(e.selectedNodes.map(Lh),t.selectedNodes.map(Lh))&&_t(e.selectedEdges.map(Lh),t.selectedEdges.map(Lh))}function gee({onSelectionChange:e}){const t=kt(),{selectedNodes:n,selectedEdges:r}=st(fee,xee);return h.useEffect(()=>{const a={nodes:n,edges:r};e?.(a),t.getState().onSelectionChangeHandlers.forEach(o=>o(a))},[n,r,e]),null}const vee=e=>!!e.onSelectionChangeHandlers;function yee({onSelectionChange:e}){const t=st(vee);return e||t?s.jsx(gee,{onSelectionChange:e}):null}const P4=[0,0],jee={x:0,y:0,zoom:1},wee=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],tE=[...wee,"rfId"],Nee=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),sE={translateExtent:Yd,nodeOrigin:P4,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function bee(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:a,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=st(Nee,_t),u=kt();h.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{m.current=sE,l()}),[]);const m=h.useRef(sE);return h.useEffect(()=>{for(const f of tE){const x=e[f],g=m.current[f];x!==g&&(typeof e[f]>"u"||(f==="nodes"?t(x):f==="edges"?n(x):f==="minZoom"?r(x):f==="maxZoom"?a(x):f==="translateExtent"?o(x):f==="nodeExtent"?i(x):f==="paneClickDistance"?d(x):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:XQ(x)}):f==="fitView"?u.setState({fitViewQueued:x}):f==="fitViewOptions"?u.setState({fitViewOptions:x}):u.setState({[f]:x})))}m.current=e},tE.map(f=>e[f])),null}function nE(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function See(e){const[t,n]=h.useState(e==="system"?null:e);return h.useEffect(()=>{if(e!=="system"){n(e);return}const r=nE(),a=()=>n(r?.matches?"dark":"light");return a(),r?.addEventListener("change",a),()=>{r?.removeEventListener("change",a)}},[e]),t!==null?t:nE()?.matches?"dark":"light"}const rE=typeof document<"u"?document:null;function Jd(e=null,t={target:rE,actInsideInputWithModifier:!0}){const[n,r]=h.useState(!1),a=h.useRef(!1),o=h.useRef(new Set([])),[i,l]=h.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=d.reduce((m,f)=>m.concat(...f),[]);return[d,u]}return[[],[]]},[e]);return h.useEffect(()=>{const c=t?.target??rE,d=t?.actInsideInputWithModifier??!0;if(e!==null){const u=x=>{if(a.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!a.current||a.current&&!d)&&a4(x))return!1;const p=oE(x.code,l);if(o.current.add(x[p]),aE(i,o.current,!1)){const w=x.composedPath?.()?.[0]||x.target,v=w?.nodeName==="BUTTON"||w?.nodeName==="A";t.preventDefault!==!1&&(a.current||!v)&&x.preventDefault(),r(!0)}},m=x=>{const g=oE(x.code,l);aE(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(x[g]),x.key==="Meta"&&o.current.clear(),a.current=!1},f=()=>{o.current.clear(),r(!1)};return c?.addEventListener("keydown",u),c?.addEventListener("keyup",m),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{c?.removeEventListener("keydown",u),c?.removeEventListener("keyup",m),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function aE(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function oE(e,t){return t.includes(e)?"code":"key"}const Cee=()=>{const e=kt();return h.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,a,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??a,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:a,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),c=wN(t,r,a,o,i,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:a,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),d={x:t.x-l,y:t.y-c},u=n.snapGrid??a,m=n.snapToGrid??o;return Yu(d,r,m,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:o}=r.getBoundingClientRect(),i=Mp(t,n);return{x:i.x+a,y:i.y+o}}}),[])};function A4(e,t){const n=[],r=new Map,a=[];for(const o of e)if(o.type==="add"){a.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...o};for(const c of i)Eee(c,l);n.push(l)}return a.length&&a.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Eee(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function k4(e,t){return A4(e,t)}function D4(e,t){return A4(e,t)}function So(e,t){return{id:e,type:"select",selected:t}}function Qi(e,t=new Set,n=!1){const r=[];for(const[a,o]of e){const i=t.has(a);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(So(o.id,i)))}return r}function iE({items:e=[],lookup:t}){const n=[],r=new Map(e.map(a=>[a.id,a]));for(const[a,o]of e.entries()){const i=t.get(o.id),l=i?.internals?.userNode??i;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:a})}for(const[a]of t)r.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function lE(e){return{id:e.id,type:"remove"}}const cE=e=>_Q(e),Tee=e=>JO(e);function M4(e){return h.forwardRef(e)}const Pee=typeof window<"u"?h.useLayoutEffect:h.useEffect;function dE(e){const[t,n]=h.useState(BigInt(0)),[r]=h.useState(()=>Aee(()=>n(a=>a+BigInt(1))));return Pee(()=>{const a=r.get();a.length&&(e(a),r.reset())},[t]),r}function Aee(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const R4=h.createContext(null);function kee({children:e}){const t=kt(),n=h.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:u,onNodesChange:m,nodeLookup:f,fitViewQueued:x}=t.getState();let g=c;for(const w of l)g=typeof w=="function"?w(g):w;const p=iE({items:g,lookup:f});u&&d(g),p.length>0?m?.(p):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:v,setNodes:y}=t.getState();w&&y(v)})},[]),r=dE(n),a=h.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:u,onEdgesChange:m,edgeLookup:f}=t.getState();let x=c;for(const g of l)x=typeof g=="function"?g(x):g;u?d(x):m&&m(iE({items:x,lookup:f}))},[]),o=dE(a),i=h.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return s.jsx(R4.Provider,{value:i,children:e})}function Dee(){const e=h.useContext(R4);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Mee=e=>!!e.panZoom;function Fr(){const e=Cee(),t=kt(),n=Dee(),r=st(Mee),a=h.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),i=m=>{n.nodeQueue.push(m)},l=m=>{n.edgeQueue.push(m)},c=m=>{const{nodeLookup:f,nodeOrigin:x}=t.getState(),g=cE(m)?m:f.get(m.id),p=g.parentId?n4(g.position,g.measured,g.parentId,f,x):g.position,w={...g,position:p,width:g.measured?.width??g.width,height:g.measured?.height??g.height};return Il(w)},d=(m,f,x={replace:!1})=>{i(g=>g.map(p=>{if(p.id===m){const w=typeof f=="function"?f(p):f;return x.replace&&cE(w)?w:{...p,...w}}return p}))},u=(m,f,x={replace:!1})=>{l(g=>g.map(p=>{if(p.id===m){const w=typeof f=="function"?f(p):f;return x.replace&&Tee(w)?w:{...p,...w}}return p}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>o(m)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(f=>({...f}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:i,setEdges:l,addNodes:m=>{const f=Array.isArray(m)?m:[m];n.nodeQueue.push(x=>[...x,...f])},addEdges:m=>{const f=Array.isArray(m)?m:[m];n.edgeQueue.push(x=>[...x,...f])},toObject:()=>{const{nodes:m=[],edges:f=[],transform:x}=t.getState(),[g,p,w]=x;return{nodes:m.map(v=>({...v})),edges:f.map(v=>({...v})),viewport:{x:g,y:p,zoom:w}}},deleteElements:async({nodes:m=[],edges:f=[]})=>{const{nodes:x,edges:g,onNodesDelete:p,onEdgesDelete:w,triggerNodeChanges:v,triggerEdgeChanges:y,onDelete:j,onBeforeDelete:N}=t.getState(),{nodes:b,edges:T}=await HQ({nodesToRemove:m,edgesToRemove:f,nodes:x,edges:g,onBeforeDelete:N}),S=T.length>0,A=b.length>0;if(S){const M=T.map(lE);w?.(T),y(M)}if(A){const M=b.map(lE);p?.(b),v(M)}return(A||S)&&j?.({nodes:b,edges:T}),{deletedNodes:b,deletedEdges:T}},getIntersectingNodes:(m,f=!0,x)=>{const g=V1(m),p=g?m:c(m),w=x!==void 0;return p?(x||t.getState().nodes).filter(v=>{const y=t.getState().nodeLookup.get(v.id);if(y&&!g&&(v.id===m.id||!y.internals.positionAbsolute))return!1;const j=Il(w?v:y),N=Kd(j,p);return f&&N>0||N>=j.width*j.height||N>=p.width*p.height}):[]},isNodeIntersecting:(m,f,x=!0)=>{const p=V1(m)?m:c(m);if(!p)return!1;const w=Kd(p,f);return x&&w>0||w>=p.width*p.height},updateNode:d,updateNodeData:(m,f,x={replace:!1})=>{d(m,g=>{const p=typeof f=="function"?f(g):f;return x.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},x)},updateEdge:u,updateEdgeData:(m,f,x={replace:!1})=>{u(m,g=>{const p=typeof f=="function"?f(g):f;return x.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},x)},getNodesBounds:m=>{const{nodeLookup:f,nodeOrigin:x}=t.getState();return $Q(m,{nodeLookup:f,nodeOrigin:x})},getHandleConnections:({type:m,id:f,nodeId:x})=>Array.from(t.getState().connectionLookup.get(`${x}-${m}${f?`-${f}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:f,nodeId:x})=>Array.from(t.getState().connectionLookup.get(`${x}${m?f?`-${m}-${f}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const f=t.getState().fitViewResolver??YQ();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:f}),n.nodeQueue.push(x=>[...x]),f.promise}}},[]);return h.useMemo(()=>({...a,...e,viewportInitialized:r}),[r])}const uE=e=>e.selected,Ree=typeof window<"u"?window:void 0;function Fee({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=kt(),{deleteElements:r}=Fr(),a=Jd(e,{actInsideInputWithModifier:!1}),o=Jd(t,{target:Ree});h.useEffect(()=>{if(a){const{edges:i,nodes:l}=n.getState();r({nodes:l.filter(uE),edges:i.filter(uE)}),n.setState({nodesSelectionActive:!1})}},[a]),h.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Oee(e){const t=kt();h.useEffect(()=>{const n=()=>{if(!e.current)return!1;const r=NN(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Pr.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const fx={position:"absolute",width:"100%",height:"100%",top:0,left:0},Iee=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Lee({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:a=.5,panOnScrollMode:o=Bo.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:u,maxZoom:m,zoomActivationKeyCode:f,preventScrolling:x=!0,children:g,noWheelClassName:p,noPanClassName:w,onViewportChange:v,isControlledViewport:y,paneClickDistance:j}){const N=kt(),b=h.useRef(null),{userSelectionActive:T,lib:S}=st(Iee,_t),A=Jd(f),M=h.useRef();Oee(b);const L=h.useCallback(F=>{v?.({x:F[0],y:F[1],zoom:F[2]}),y||N.setState({transform:F})},[v,y]);return h.useEffect(()=>{if(b.current){M.current=TZ({domNode:b.current,minZoom:u,maxZoom:m,translateExtent:d,viewport:c,paneClickDistance:j,onDraggingChange:O=>N.setState({paneDragging:O}),onPanZoomStart:(O,k)=>{const{onViewportChangeStart:C,onMoveStart:P}=N.getState();P?.(O,k),C?.(k)},onPanZoom:(O,k)=>{const{onViewportChange:C,onMove:P}=N.getState();P?.(O,k),C?.(k)},onPanZoomEnd:(O,k)=>{const{onViewportChangeEnd:C,onMoveEnd:P}=N.getState();P?.(O,k),C?.(k)}});const{x:F,y:I,zoom:U}=M.current.getViewport();return N.setState({panZoom:M.current,transform:[F,I,U],domNode:b.current.closest(".react-flow")}),()=>{M.current?.destroy()}}},[]),h.useEffect(()=>{M.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:a,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:A,preventScrolling:x,noPanClassName:w,userSelectionActive:T,noWheelClassName:p,lib:S,onTransformChange:L})},[e,t,n,r,a,o,i,l,A,x,w,T,p,S,L]),s.jsx("div",{className:"react-flow__renderer",ref:b,style:fx,children:g})}const _ee=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $ee(){const{userSelectionActive:e,userSelectionRect:t}=st(_ee,_t);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Lg=(e,t)=>n=>{n.target===t.current&&e?.(n)},Vee=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Uee({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Xd.Full,panOnDrag:r,selectionOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:f,children:x}){const g=kt(),{userSelectionActive:p,elementsSelectable:w,dragging:v,connectionInProgress:y}=st(Vee,_t),j=w&&(e||p),N=h.useRef(null),b=h.useRef(),T=h.useRef(new Set),S=h.useRef(new Set),A=h.useRef(!1),M=h.useRef(!1),L=P=>{if(A.current||y){A.current=!1;return}l?.(P),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},F=P=>{if(Array.isArray(r)&&r?.includes(2)){P.preventDefault();return}c?.(P)},I=d?P=>d(P):void 0,U=P=>{const{resetSelectedElements:R,domNode:$}=g.getState();if(b.current=$?.getBoundingClientRect(),!w||!e||P.button!==0||P.target!==N.current||!b.current)return;P.target?.setPointerCapture?.(P.pointerId),M.current=!0,A.current=!1;const{x:H,y:_}=vr(P.nativeEvent,b.current);R(),g.setState({userSelectionRect:{width:0,height:0,startX:H,startY:_,x:H,y:_}}),o?.(P)},O=P=>{const{userSelectionRect:R,transform:$,nodeLookup:H,edgeLookup:_,connectionLookup:B,triggerNodeChanges:W,triggerEdgeChanges:te,defaultEdgeOptions:le}=g.getState();if(!b.current||!R)return;A.current=!0;const{x:ue,y:Q}=vr(P.nativeEvent,b.current),{startX:ie,startY:ge}=R,Se={startX:ie,startY:ge,x:ue<ie?ue:ie,y:Q<ge?Q:ge,width:Math.abs(ue-ie),height:Math.abs(Q-ge)},Te=T.current,Ne=S.current;T.current=new Set(jN(H,Se,$,n===Xd.Partial,!0).map(oe=>oe.id)),S.current=new Set;const de=le?.selectable??!0;for(const oe of T.current){const we=B.get(oe);if(we)for(const{edgeId:ot}of we.values()){const zt=_.get(ot);zt&&(zt.selectable??de)&&S.current.add(ot)}}if(!U1(Te,T.current)){const oe=Qi(H,T.current,!0);W(oe)}if(!U1(Ne,S.current)){const oe=Qi(_,S.current);te(oe)}g.setState({userSelectionRect:Se,userSelectionActive:!0,nodesSelectionActive:!1})},k=P=>{if(P.button!==0||!M.current)return;P.target?.releasePointerCapture?.(P.pointerId);const{userSelectionRect:R}=g.getState();!p&&R&&P.target===N.current&&L?.(P),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:T.current.size>0}),i?.(P),(t||a)&&(A.current=!1),M.current=!1},C=r===!0||Array.isArray(r)&&r.includes(0);return s.jsxs("div",{className:Qt(["react-flow__pane",{draggable:C,dragging:v,selection:e}]),onClick:j?void 0:Lg(L,N),onContextMenu:Lg(F,N),onWheel:Lg(I,N),onPointerEnter:j?void 0:u,onPointerDown:j?U:m,onPointerMove:j?O:m,onPointerUp:j?k:void 0,onPointerLeave:f,ref:N,style:fx,children:[x,s.jsx($ee,{})]})}function vj({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),d=l.get(e);if(!d){c?.("012",Pr.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&i)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):a([e])}function F4({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,nodeClickDistance:i}){const l=kt(),[c,d]=h.useState(!1),u=h.useRef();return h.useEffect(()=>{u.current=hZ({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{vj({id:m,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),h.useEffect(()=>{if(t)u.current?.destroy();else if(e.current)return u.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:a,nodeClickDistance:i}),()=>{u.current?.destroy()}},[n,r,t,o,e,a]),c}const Bee=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function O4(){const e=kt();return h.useCallback(n=>{const{nodeExtent:r,snapToGrid:a,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:u}=e.getState(),m=new Map,f=Bee(i),x=a?o[0]:5,g=a?o[1]:5,p=n.direction.x*x*n.factor,w=n.direction.y*g*n.factor;for(const[,v]of d){if(!f(v))continue;let y={x:v.internals.positionAbsolute.x+p,y:v.internals.positionAbsolute.y+w};a&&(y=ux(y,o));const{position:j,positionAbsolute:N}=QO({nodeId:v.id,nextPosition:y,nodeLookup:d,nodeExtent:r,nodeOrigin:u,onError:l});v.position=j,v.internals.positionAbsolute=N,m.set(v.id,v)}c(m)},[])}const PN=h.createContext(null),Hee=PN.Provider;PN.Consumer;const I4=()=>h.useContext(PN),zee=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),qee=(e,t,n)=>r=>{const{connectionClickStartHandle:a,connectionMode:o,connection:i}=r,{fromHandle:l,toHandle:c,isValid:d}=i,u=c?.nodeId===e&&c?.id===t&&c?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:u,clickConnecting:a?.nodeId===e&&a?.id===t&&a?.type===n,isPossibleEndHandle:o===ri.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&d}};function Wee({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:c,className:d,onMouseDown:u,onTouchStart:m,...f},x){const g=i||null,p=e==="target",w=kt(),v=I4(),{connectOnClick:y,noPanClassName:j,rfId:N}=st(zee,_t),{connectingFrom:b,connectingTo:T,clickConnecting:S,isPossibleEndHandle:A,connectionInProcess:M,clickConnectionInProcess:L,valid:F}=st(qee(v,g,e),_t);v||w.getState().onError?.("010",Pr.error010());const I=k=>{const{defaultEdgeOptions:C,onConnect:P,hasDefaultEdges:R}=w.getState(),$={...C,...k};if(R){const{edges:H,setEdges:_}=w.getState();_(Fp($,H))}P?.($),l?.($)},U=k=>{if(!v)return;const C=o4(k.nativeEvent);if(a&&(C&&k.button===0||!C)){const P=w.getState();gj.onPointerDown(k.nativeEvent,{autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:p,handleId:g,nodeId:v,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:I,isValidConnection:n||P.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}C?u?.(k):m?.(k)},O=k=>{const{onClickConnectStart:C,onClickConnectEnd:P,connectionClickStartHandle:R,connectionMode:$,isValidConnection:H,lib:_,rfId:B,nodeLookup:W,connection:te}=w.getState();if(!v||!R&&!a)return;if(!R){C?.(k.nativeEvent,{nodeId:v,handleId:g,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,id:g}});return}const le=r4(k.target),ue=n||H,{connection:Q,isValid:ie}=gj.isValid(k.nativeEvent,{handle:{nodeId:v,id:g,type:e},connectionMode:$,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:ue,flowId:B,doc:le,lib:_,nodeLookup:W});ie&&Q&&I(Q);const ge=structuredClone(te);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,P?.(k,ge),w.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":g,"data-nodeid":v,"data-handlepos":t,"data-id":`${N}-${v}-${g}-${e}`,className:Qt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,d,{source:!p,target:p,connectable:r,connectablestart:a,connectableend:o,clickconnecting:S,connectingfrom:b,connectingto:T,valid:F,connectionindicator:r&&(!M||A)&&(M||L?o:a)}]),onMouseDown:U,onTouchStart:U,onClick:y?O:void 0,ref:x,...f,children:c})}const Xt=h.memo(M4(Wee));function Yee({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom}){return s.jsxs(s.Fragment,{children:[e?.label,s.jsx(Xt,{type:"source",position:n,isConnectable:t})]})}function Xee({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(Xt,{type:"target",position:n,isConnectable:t}),e?.label,s.jsx(Xt,{type:"source",position:r,isConnectable:t})]})}function Kee(){return null}function Gee({data:e,isConnectable:t,targetPosition:n=Ce.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(Xt,{type:"target",position:n,isConnectable:t}),e?.label]})}const Op={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},hE={input:Yee,default:Xee,output:Gee,group:Kee};function Jee(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const Qee=e=>{const{width:t,height:n,x:r,y:a}=Wu(e.nodeLookup,{filter:o=>!!o.selected});return{width:Gn(t)?t:null,height:Gn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${a}px)`}};function Zee({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=kt(),{width:a,height:o,transformString:i,userSelectionActive:l}=st(Qee,_t),c=O4(),d=h.useRef(null);if(h.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),F4({nodeRef:d}),l||!a||!o)return null;const u=e?f=>{const x=r.getState().nodes.filter(g=>g.selected);e(f,x)}:void 0,m=f=>{Object.prototype.hasOwnProperty.call(Op,f.key)&&(f.preventDefault(),c({direction:Op[f.key],factor:f.shiftKey?4:1}))};return s.jsx("div",{className:Qt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:s.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o}})})}const mE=typeof window<"u"?window:void 0,ete=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function L4({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:u,selectionMode:m,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:g,panActivationKeyCode:p,zoomActivationKeyCode:w,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:T,zoomOnDoubleClick:S,panOnDrag:A,defaultViewport:M,translateExtent:L,minZoom:F,maxZoom:I,preventScrolling:U,onSelectionContextMenu:O,noWheelClassName:k,noPanClassName:C,disableKeyboardA11y:P,onViewportChange:R,isControlledViewport:$}){const{nodesSelectionActive:H,userSelectionActive:_}=st(ete),B=Jd(d,{target:mE}),W=Jd(p,{target:mE}),te=W||A,le=W||N,ue=u&&te!==!0,Q=B||_||ue;return Fee({deleteKeyCode:c,multiSelectionKeyCode:g}),s.jsx(Lee,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:j,panOnScroll:le,panOnScrollSpeed:b,panOnScrollMode:T,zoomOnDoubleClick:S,panOnDrag:!B&&te,defaultViewport:M,translateExtent:L,minZoom:F,maxZoom:I,zoomActivationKeyCode:w,preventScrolling:U,noWheelClassName:k,noPanClassName:C,onViewportChange:R,isControlledViewport:$,paneClickDistance:l,children:s.jsxs(Uee,{onSelectionStart:f,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:te,isSelecting:!!Q,selectionMode:m,selectionKeyPressed:B,selectionOnDrag:ue,children:[e,H&&s.jsx(Zee,{onSelectionContextMenu:O,noPanClassName:C,disableKeyboardA11y:P})]})})}L4.displayName="FlowRenderer";const tte=h.memo(L4),ste=e=>t=>e?jN(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function nte(e){return st(h.useCallback(ste(e),[e]),_t)}const rte=e=>e.updateNodeInternals;function ate(){const e=st(rte),[t]=h.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(a=>{const o=a.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:a.target,force:!0})}),e(r)}));return h.useEffect(()=>()=>{t?.disconnect()},[t]),t}function ote({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const a=kt(),o=h.useRef(null),i=h.useRef(null),l=h.useRef(e.sourcePosition),c=h.useRef(e.targetPosition),d=h.useRef(t),u=n&&!!e.internals.handleBounds;return h.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&r?.unobserve(i.current),r?.observe(o.current),i.current=o.current)},[u,e.hidden]),h.useEffect(()=>()=>{i.current&&(r?.unobserve(i.current),i.current=null)},[]),h.useEffect(()=>{if(o.current){const m=d.current!==t,f=l.current!==e.sourcePosition,x=c.current!==e.targetPosition;(m||f||x)&&(d.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function ite({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:a,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:u,resizeObserver:m,noDragClassName:f,noPanClassName:x,disableKeyboardA11y:g,rfId:p,nodeTypes:w,nodeClickDistance:v,onError:y}){const{node:j,internals:N,isParent:b}=st(ie=>{const ge=ie.nodeLookup.get(e),Se=ie.parentLookup.has(e);return{node:ge,internals:ge.internals,isParent:Se}},_t);let T=j.type||"default",S=w?.[T]||hE[T];S===void 0&&(y?.("003",Pr.error003(T)),T="default",S=w?.default||hE.default);const A=!!(j.draggable||l&&typeof j.draggable>"u"),M=!!(j.selectable||c&&typeof j.selectable>"u"),L=!!(j.connectable||d&&typeof j.connectable>"u"),F=!!(j.focusable||u&&typeof j.focusable>"u"),I=kt(),U=s4(j),O=ote({node:j,nodeType:T,hasDimensions:U,resizeObserver:m}),k=F4({nodeRef:O,disabled:j.hidden||!A,noDragClassName:f,handleSelector:j.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:v}),C=O4();if(j.hidden)return null;const P=xa(j),R=Jee(j),$=M||A||t||n||r||a,H=n?ie=>n(ie,{...N.userNode}):void 0,_=r?ie=>r(ie,{...N.userNode}):void 0,B=a?ie=>a(ie,{...N.userNode}):void 0,W=o?ie=>o(ie,{...N.userNode}):void 0,te=i?ie=>i(ie,{...N.userNode}):void 0,le=ie=>{const{selectNodesOnDrag:ge,nodeDragThreshold:Se}=I.getState();M&&(!ge||!A||Se>0)&&vj({id:e,store:I,nodeRef:O}),t&&t(ie,{...N.userNode})},ue=ie=>{if(!(a4(ie.nativeEvent)||g)){if(YO.includes(ie.key)&&M){const ge=ie.key==="Escape";vj({id:e,store:I,unselect:ge,nodeRef:O})}else if(A&&j.selected&&Object.prototype.hasOwnProperty.call(Op,ie.key)){ie.preventDefault();const{ariaLabelConfig:ge}=I.getState();I.setState({ariaLiveMessage:ge["node.a11yDescription.ariaLiveMessage"]({direction:ie.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),C({direction:Op[ie.key],factor:ie.shiftKey?4:1})}}},Q=()=>{if(g||!O.current?.matches(":focus-visible"))return;const{transform:ie,width:ge,height:Se,autoPanOnNodeFocus:Te,setCenter:Ne}=I.getState();if(!Te)return;jN(new Map([[e,j]]),{x:0,y:0,width:ge,height:Se},ie,!0).length>0||Ne(j.position.x+P.width/2,j.position.y+P.height/2,{zoom:ie[2]})};return s.jsx("div",{className:Qt(["react-flow__node",`react-flow__node-${T}`,{[x]:A},j.className,{selected:j.selected,selectable:M,parent:b,draggable:A,dragging:k}]),ref:O,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:U?"visible":"hidden",...j.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:_,onMouseLeave:B,onContextMenu:W,onClick:le,onDoubleClick:te,onKeyDown:F?ue:void 0,tabIndex:F?0:void 0,onFocus:F?Q:void 0,role:j.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${E4}-${p}`,"aria-label":j.ariaLabel,...j.domAttributes,children:s.jsx(Hee,{value:e,children:s.jsx(S,{id:e,data:j.data,type:T,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:j.selected??!1,selectable:M,draggable:A,deletable:j.deletable??!0,isConnectable:L,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:k,dragHandle:j.dragHandle,zIndex:N.z,parentId:j.parentId,...P})})})}const lte=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function _4(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,onError:o}=st(lte,_t),i=nte(e.onlyRenderVisibleElements),l=ate();return s.jsx("div",{className:"react-flow__nodes",style:fx,children:i.map(c=>s.jsx(ite,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:o},c))})}_4.displayName="NodeRenderer";const cte=h.memo(_4);function dte(e){return st(h.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const r=[];if(n.width&&n.height)for(const a of n.edges){const o=n.nodeLookup.get(a.source),i=n.nodeLookup.get(a.target);o&&i&&JQ({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(a.id)}return r},[e]),_t)}const ute=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hte=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),pE={[Kn.Arrow]:ute,[Kn.ArrowClosed]:hte};function mte(e){const t=kt();return h.useMemo(()=>Object.prototype.hasOwnProperty.call(pE,e)?pE[e]:(t.getState().onError?.("009",Pr.error009(e)),null),[e])}const pte=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=mte(t);return c?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:s.jsx(c,{color:n,strokeWidth:i})}):null},$4=({defaultColor:e,rfId:t})=>{const n=st(o=>o.edges),r=st(o=>o.defaultEdgeOptions),a=h.useMemo(()=>rZ(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return a.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:a.map(o=>s.jsx(pte,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};$4.displayName="MarkerDefinitions";var fte=h.memo($4);function V4({x:e,y:t,label:n,labelStyle:r,labelShowBg:a=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...u}){const[m,f]=h.useState({x:1,y:0,width:0,height:0}),x=Qt(["react-flow__edge-textwrapper",d]),g=h.useRef(null);return h.useEffect(()=>{if(g.current){const p=g.current.getBBox();f({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?s.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...u,children:[a&&s.jsx("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:r,children:n}),c]}):null}V4.displayName="EdgeText";const xte=h.memo(V4);function Xu({path:e,labelX:t,labelY:n,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...u}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...u,d:e,fill:"none",className:Qt(["react-flow__edge-path",u.className])}),d&&s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Gn(t)&&Gn(n)?s.jsx(xte,{x:t,y:n,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function fE({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function U4({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:a,targetPosition:o=Ce.Top}){const[i,l]=fE({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,d]=fE({pos:o,x1:r,y1:a,x2:e,y2:t}),[u,m,f,x]=i4({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${i},${l} ${c},${d} ${r},${a}`,u,m,f,x]}function B4(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:i,targetPosition:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:w,interactionWidth:v})=>{const[y,j,N]=U4({sourceX:n,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l}),b=e.isInternal?void 0:t;return s.jsx(Xu,{id:b,path:y,labelX:j,labelY:N,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:w,interactionWidth:v})})}const gte=B4({isInternal:!1}),H4=B4({isInternal:!0});gte.displayName="SimpleBezierEdge";H4.displayName="SimpleBezierEdgeInternal";function z4(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:f,sourcePosition:x=Ce.Bottom,targetPosition:g=Ce.Top,markerEnd:p,markerStart:w,pathOptions:v,interactionWidth:y})=>{const[j,N,b]=pj({sourceX:n,sourceY:r,sourcePosition:x,targetX:a,targetY:o,targetPosition:g,borderRadius:v?.borderRadius,offset:v?.offset,stepPosition:v?.stepPosition}),T=e.isInternal?void 0:t;return s.jsx(Xu,{id:T,path:j,labelX:N,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:f,markerEnd:p,markerStart:w,interactionWidth:y})})}const q4=z4({isInternal:!1}),W4=z4({isInternal:!0});q4.displayName="SmoothStepEdge";W4.displayName="SmoothStepEdgeInternal";function Y4(e){return h.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return s.jsx(q4,{...n,id:r,pathOptions:h.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const vte=Y4({isInternal:!1}),X4=Y4({isInternal:!0});vte.displayName="StepEdge";X4.displayName="StepEdgeInternal";function K4(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:f,markerEnd:x,markerStart:g,interactionWidth:p})=>{const[w,v,y]=c4({sourceX:n,sourceY:r,targetX:a,targetY:o}),j=e.isInternal?void 0:t;return s.jsx(Xu,{id:j,path:w,labelX:v,labelY:y,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:f,markerEnd:x,markerStart:g,interactionWidth:p})})}const yte=K4({isInternal:!1}),G4=K4({isInternal:!0});yte.displayName="StraightEdge";G4.displayName="StraightEdgeInternal";function J4(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:i=Ce.Bottom,targetPosition:l=Ce.Top,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:w,pathOptions:v,interactionWidth:y})=>{const[j,N,b]=bN({sourceX:n,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l,curvature:v?.curvature}),T=e.isInternal?void 0:t;return s.jsx(Xu,{id:T,path:j,labelX:N,labelY:b,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:w,interactionWidth:y})})}const jte=J4({isInternal:!1}),Q4=J4({isInternal:!0});jte.displayName="BezierEdge";Q4.displayName="BezierEdgeInternal";const xE={default:Q4,straight:G4,step:X4,smoothstep:W4,simplebezier:H4},gE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},wte=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,Nte=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,vE="react-flow__edgeupdater";function yE({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:l}){return s.jsx("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:Qt([vE,`${vE}-${l}`]),cx:wte(t,r,e),cy:Nte(n,r,e),r,stroke:"transparent",fill:"transparent"})}function bte({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:a,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:u,onReconnectEnd:m,setReconnecting:f,setUpdateHover:x}){const g=kt(),p=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:T,domNode:S,isValidConnection:A,connectionMode:M,connectionRadius:L,lib:F,onConnectStart:I,onConnectEnd:U,cancelConnection:O,nodeLookup:k,rfId:C,panBy:P,updateConnection:R}=g.getState(),$=b.type==="target",H=(W,te)=>{f(!1),m?.(W,n,b.type,te)},_=W=>d?.(n,W),B=(W,te)=>{f(!0),u?.(N,n,b.type),I?.(W,te)};gj.onPointerDown(N.nativeEvent,{autoPanOnConnect:T,connectionMode:M,connectionRadius:L,domNode:S,handleId:b.id,nodeId:b.nodeId,nodeLookup:k,isTarget:$,edgeUpdaterType:b.type,lib:F,flowId:C,cancelConnection:O,panBy:P,isValidConnection:A,onConnect:_,onConnectStart:B,onConnectEnd:U,onReconnectEnd:H,updateConnection:R,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold})},w=N=>p(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=N=>p(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>x(!0),j=()=>x(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(yE,{position:l,centerX:r,centerY:a,radius:t,onMouseDown:w,onMouseEnter:y,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&s.jsx(yE,{position:c,centerX:o,centerY:i,radius:t,onMouseDown:v,onMouseEnter:y,onMouseOut:j,type:"target"})]})}function Ste({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:a,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:u,onReconnect:m,onReconnectStart:f,onReconnectEnd:x,rfId:g,edgeTypes:p,noPanClassName:w,onError:v,disableKeyboardA11y:y}){let j=st(Ne=>Ne.edgeLookup.get(e));const N=st(Ne=>Ne.defaultEdgeOptions);j=N?{...N,...j}:j;let b=j.type||"default",T=p?.[b]||xE[b];T===void 0&&(v?.("011",Pr.error011(b)),b="default",T=p?.default||xE.default);const S=!!(j.focusable||t&&typeof j.focusable>"u"),A=typeof m<"u"&&(j.reconnectable||n&&typeof j.reconnectable>"u"),M=!!(j.selectable||r&&typeof j.selectable>"u"),L=h.useRef(null),[F,I]=h.useState(!1),[U,O]=h.useState(!1),k=kt(),{zIndex:C,sourceX:P,sourceY:R,targetX:$,targetY:H,sourcePosition:_,targetPosition:B}=st(h.useCallback(Ne=>{const de=Ne.nodeLookup.get(j.source),oe=Ne.nodeLookup.get(j.target);if(!de||!oe)return{zIndex:j.zIndex,...gE};const we=nZ({id:e,sourceNode:de,targetNode:oe,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:Ne.connectionMode,onError:v});return{zIndex:GQ({selected:j.selected,zIndex:j.zIndex,sourceNode:de,targetNode:oe,elevateOnSelect:Ne.elevateEdgesOnSelect}),...we||gE}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),_t),W=h.useMemo(()=>j.markerStart?`url('#${fj(j.markerStart,g)}')`:void 0,[j.markerStart,g]),te=h.useMemo(()=>j.markerEnd?`url('#${fj(j.markerEnd,g)}')`:void 0,[j.markerEnd,g]);if(j.hidden||P===null||R===null||$===null||H===null)return null;const le=Ne=>{const{addSelectedEdges:de,unselectNodesAndEdges:oe,multiSelectionActive:we}=k.getState();M&&(k.setState({nodesSelectionActive:!1}),j.selected&&we?(oe({nodes:[],edges:[j]}),L.current?.blur()):de([e])),a&&a(Ne,j)},ue=o?Ne=>{o(Ne,{...j})}:void 0,Q=i?Ne=>{i(Ne,{...j})}:void 0,ie=l?Ne=>{l(Ne,{...j})}:void 0,ge=c?Ne=>{c(Ne,{...j})}:void 0,Se=d?Ne=>{d(Ne,{...j})}:void 0,Te=Ne=>{if(!y&&YO.includes(Ne.key)&&M){const{unselectNodesAndEdges:de,addSelectedEdges:oe}=k.getState();Ne.key==="Escape"?(L.current?.blur(),de({edges:[j]})):oe([e])}};return s.jsx("svg",{style:{zIndex:C},children:s.jsxs("g",{className:Qt(["react-flow__edge",`react-flow__edge-${b}`,j.className,w,{selected:j.selected,animated:j.animated,inactive:!M&&!a,updating:F,selectable:M}]),onClick:le,onDoubleClick:ue,onContextMenu:Q,onMouseEnter:ie,onMouseMove:ge,onMouseLeave:Se,onKeyDown:S?Te:void 0,tabIndex:S?0:void 0,role:j.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":S?`${T4}-${g}`:void 0,ref:L,...j.domAttributes,children:[!U&&s.jsx(T,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:M,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:P,sourceY:R,targetX:$,targetY:H,sourcePosition:_,targetPosition:B,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:W,markerEnd:te,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),A&&s.jsx(bte,{edge:j,isReconnectable:A,reconnectRadius:u,onReconnect:m,onReconnectStart:f,onReconnectEnd:x,sourceX:P,sourceY:R,targetX:$,targetY:H,sourcePosition:_,targetPosition:B,setUpdateHover:I,setReconnecting:O})]})})}const Cte=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Z4({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:a,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:u,reconnectRadius:m,onEdgeDoubleClick:f,onReconnectStart:x,onReconnectEnd:g,disableKeyboardA11y:p}){const{edgesFocusable:w,edgesReconnectable:v,elementsSelectable:y,onError:j}=st(Cte,_t),N=dte(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(fte,{defaultColor:e,rfId:n}),N.map(b=>s.jsx(Ste,{id:b,edgesFocusable:w,edgesReconnectable:v,elementsSelectable:y,noPanClassName:a,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:u,reconnectRadius:m,onDoubleClick:f,onReconnectStart:x,onReconnectEnd:g,rfId:n,onError:j,edgeTypes:r,disableKeyboardA11y:p},b))]})}Z4.displayName="EdgeRenderer";const Ete=h.memo(Z4),Tte=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Pte({children:e}){const t=st(Tte);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Ate(e){const t=Fr(),n=h.useRef(!1);h.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const kte=e=>e.panZoom?.syncViewport;function Dte(e){const t=st(kte),n=kt();return h.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Mte(e){return e.connection.inProgress?{...e.connection,to:Yu(e.connection.to,e.transform)}:{...e.connection}}function Rte(e){return Mte}function Fte(e){const t=Rte();return st(t,_t)}const Ote=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Ite({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:a,width:o,height:i,isValid:l,inProgress:c}=st(Ote,_t);return!(o&&a&&c)?null:s.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:Qt(["react-flow__connection",GO(l)]),children:s.jsx(eI,{style:t,type:n,CustomComponent:r,isValid:l})})})}const eI=({style:e,type:t=Fa.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:a,from:o,fromNode:i,fromHandle:l,fromPosition:c,to:d,toNode:u,toHandle:m,toPosition:f}=Fte();if(!a)return;if(n)return s.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:f,connectionStatus:GO(r),toNode:u,toHandle:m});let x="";const g={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:f};switch(t){case Fa.Bezier:[x]=bN(g);break;case Fa.SimpleBezier:[x]=U4(g);break;case Fa.Step:[x]=pj({...g,borderRadius:0});break;case Fa.SmoothStep:[x]=pj(g);break;default:[x]=c4(g)}return s.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};eI.displayName="ConnectionLine";const Lte={};function jE(e=Lte){h.useRef(e),kt(),h.useEffect(()=>{},[e])}function _te(){kt(),h.useRef(!1),h.useEffect(()=>{},[])}function tI({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:a,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,onSelectionContextMenu:m,onSelectionStart:f,onSelectionEnd:x,connectionLineType:g,connectionLineStyle:p,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:y,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:T,zoomActivationKeyCode:S,deleteKeyCode:A,onlyRenderVisibleElements:M,elementsSelectable:L,defaultViewport:F,translateExtent:I,minZoom:U,maxZoom:O,preventScrolling:k,defaultMarkerColor:C,zoomOnScroll:P,zoomOnPinch:R,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:_,zoomOnDoubleClick:B,panOnDrag:W,onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ue,onPaneMouseLeave:Q,onPaneScroll:ie,onPaneContextMenu:ge,paneClickDistance:Se,nodeClickDistance:Te,onEdgeContextMenu:Ne,onEdgeMouseEnter:de,onEdgeMouseMove:oe,onEdgeMouseLeave:we,reconnectRadius:ot,onReconnect:zt,onReconnectStart:qt,onReconnectEnd:$t,noDragClassName:Vn,noWheelClassName:yo,noPanClassName:Ir,disableKeyboardA11y:Pe,nodeExtent:Ve,rfId:Je,viewport:Qe,onViewportChange:nt}){return jE(e),jE(t),_te(),Ate(n),Dte(Qe),s.jsx(tte,{onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ue,onPaneMouseLeave:Q,onPaneContextMenu:ge,onPaneScroll:ie,paneClickDistance:Se,deleteKeyCode:A,selectionKeyCode:y,selectionOnDrag:j,selectionMode:N,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:T,zoomActivationKeyCode:S,elementsSelectable:L,zoomOnScroll:P,zoomOnPinch:R,zoomOnDoubleClick:B,panOnScroll:$,panOnScrollSpeed:H,panOnScrollMode:_,panOnDrag:W,defaultViewport:F,translateExtent:I,minZoom:U,maxZoom:O,onSelectionContextMenu:m,preventScrolling:k,noDragClassName:Vn,noWheelClassName:yo,noPanClassName:Ir,disableKeyboardA11y:Pe,onViewportChange:nt,isControlledViewport:!!Qe,children:s.jsxs(Pte,{children:[s.jsx(Ete,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:zt,onReconnectStart:qt,onReconnectEnd:$t,onlyRenderVisibleElements:M,onEdgeContextMenu:Ne,onEdgeMouseEnter:de,onEdgeMouseMove:oe,onEdgeMouseLeave:we,reconnectRadius:ot,defaultMarkerColor:C,noPanClassName:Ir,disableKeyboardA11y:Pe,rfId:Je}),s.jsx(Ite,{style:p,type:g,component:w,containerStyle:v}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(cte,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,nodeClickDistance:Te,onlyRenderVisibleElements:M,noPanClassName:Ir,noDragClassName:Vn,disableKeyboardA11y:Pe,nodeExtent:Ve,rfId:Je}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}tI.displayName="GraphView";const $te=h.memo(tI),wE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:d=2,nodeOrigin:u,nodeExtent:m}={})=>{const f=new Map,x=new Map,g=new Map,p=new Map,w=r??t??[],v=n??e??[],y=u??[0,0],j=m??Yd;u4(g,p,w);const N=xj(v,f,x,{nodeOrigin:y,nodeExtent:j,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&a&&o){const T=Wu(f,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:S,y:A,zoom:M}=wN(T,a,o,c,d,l?.padding??.1);b=[S,A,M]}return{rfId:"1",width:0,height:0,transform:b,nodes:v,nodesInitialized:N,nodeLookup:f,parentLookup:x,edges:w,edgeLookup:p,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:d,translateExtent:Yd,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ri.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...KO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:zQ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:XO}},Vte=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:m})=>oee((f,x)=>{async function g(){const{nodeLookup:p,panZoom:w,fitViewOptions:v,fitViewResolver:y,width:j,height:N,minZoom:b,maxZoom:T}=x();w&&(await BQ({nodes:p,width:j,height:N,panZoom:w,minZoom:b,maxZoom:T},v),y?.resolve(!0),f({fitViewResolver:null}))}return{...wE({nodes:e,edges:t,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:m,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:w,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:j,fitViewQueued:N}=x(),b=xj(p,w,v,{nodeOrigin:y,nodeExtent:m,elevateNodesOnSelect:j,checkEquality:!0});N&&b?(g(),f({nodes:p,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:p,nodesInitialized:b})},setEdges:p=>{const{connectionLookup:w,edgeLookup:v}=x();u4(w,v,p),f({edges:p})},setDefaultNodesAndEdges:(p,w)=>{if(p){const{setNodes:v}=x();v(p),f({hasDefaultNodes:!0})}if(w){const{setEdges:v}=x();v(w),f({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:w,nodeLookup:v,parentLookup:y,domNode:j,nodeOrigin:N,nodeExtent:b,debug:T,fitViewQueued:S}=x(),{changes:A,updatedInternals:M}=cZ(p,v,y,j,N,b);M&&(oZ(v,y,{nodeOrigin:N,nodeExtent:b}),S?(g(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),A?.length>0&&(T&&console.log("React Flow: trigger node changes",A),w?.(A)))},updateNodePositions:(p,w=!1)=>{const v=[],y=[],{nodeLookup:j,triggerNodeChanges:N}=x();for(const[b,T]of p){const S=j.get(b),A=!!(S?.expandParent&&S?.parentId&&T?.position),M={id:b,type:"position",position:A?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:w};A&&S.parentId&&v.push({id:b,parentId:S.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),y.push(M)}if(v.length>0){const{parentLookup:b,nodeOrigin:T}=x(),S=TN(v,j,b,T);y.push(...S)}N(y)},triggerNodeChanges:p=>{const{onNodesChange:w,setNodes:v,nodes:y,hasDefaultNodes:j,debug:N}=x();if(p?.length){if(j){const b=k4(p,y);v(b)}N&&console.log("React Flow: trigger node changes",p),w?.(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:w,setEdges:v,edges:y,hasDefaultEdges:j,debug:N}=x();if(p?.length){if(j){const b=D4(p,y);v(b)}N&&console.log("React Flow: trigger edge changes",p),w?.(p)}},addSelectedNodes:p=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:y,triggerNodeChanges:j,triggerEdgeChanges:N}=x();if(w){const b=p.map(T=>So(T,!0));j(b);return}j(Qi(y,new Set([...p]),!0)),N(Qi(v))},addSelectedEdges:p=>{const{multiSelectionActive:w,edgeLookup:v,nodeLookup:y,triggerNodeChanges:j,triggerEdgeChanges:N}=x();if(w){const b=p.map(T=>So(T,!0));N(b);return}N(Qi(v,new Set([...p]))),j(Qi(y,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:w}={})=>{const{edges:v,nodes:y,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:b}=x(),T=p||y,S=w||v,A=T.map(L=>{const F=j.get(L.id);return F&&(F.selected=!1),So(L.id,!1)}),M=S.map(L=>So(L.id,!1));N(A),b(M)},setMinZoom:p=>{const{panZoom:w,maxZoom:v}=x();w?.setScaleExtent([p,v]),f({minZoom:p})},setMaxZoom:p=>{const{panZoom:w,minZoom:v}=x();w?.setScaleExtent([v,p]),f({maxZoom:p})},setTranslateExtent:p=>{x().panZoom?.setTranslateExtent(p),f({translateExtent:p})},setPaneClickDistance:p=>{x().panZoom?.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:w,triggerNodeChanges:v,triggerEdgeChanges:y,elementsSelectable:j}=x();if(!j)return;const N=w.reduce((T,S)=>S.selected?[...T,So(S.id,!1)]:T,[]),b=p.reduce((T,S)=>S.selected?[...T,So(S.id,!1)]:T,[]);v(N),y(b)},setNodeExtent:p=>{const{nodes:w,nodeLookup:v,parentLookup:y,nodeOrigin:j,elevateNodesOnSelect:N,nodeExtent:b}=x();p[0][0]===b[0][0]&&p[0][1]===b[0][1]&&p[1][0]===b[1][0]&&p[1][1]===b[1][1]||(xj(w,v,y,{nodeOrigin:j,nodeExtent:p,elevateNodesOnSelect:N,checkEquality:!1}),f({nodeExtent:p}))},panBy:p=>{const{transform:w,width:v,height:y,panZoom:j,translateExtent:N}=x();return dZ({delta:p,panZoom:j,transform:w,translateExtent:N,width:v,height:y})},setCenter:async(p,w,v)=>{const{width:y,height:j,maxZoom:N,panZoom:b}=x();if(!b)return Promise.resolve(!1);const T=typeof v?.zoom<"u"?v.zoom:N;return await b.setViewport({x:y/2-p*T,y:j/2-w*T,zoom:T},{duration:v?.duration,ease:v?.ease,interpolate:v?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...KO}})},updateConnection:p=>{f({connection:p})},reset:()=>f({...wE()})}},Object.is);function Ute({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:a,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:d,nodeOrigin:u,nodeExtent:m,children:f}){const[x]=h.useState(()=>Vte({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:d,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:u,nodeExtent:m}));return s.jsx(iee,{value:x,children:s.jsx(kee,{children:f})})}function Bte({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:a,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:m,nodeExtent:f}){return h.useContext(px)?s.jsx(s.Fragment,{children:e}):s.jsx(Ute,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:d,initialMaxZoom:u,nodeOrigin:m,nodeExtent:f,children:e})}const Hte={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zte({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:u,onMoveStart:m,onMoveEnd:f,onConnect:x,onConnectStart:g,onConnectEnd:p,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:y,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:T,onNodeDragStart:S,onNodeDrag:A,onNodeDragStop:M,onNodesDelete:L,onEdgesDelete:F,onDelete:I,onSelectionChange:U,onSelectionDragStart:O,onSelectionDrag:k,onSelectionDragStop:C,onSelectionContextMenu:P,onSelectionStart:R,onSelectionEnd:$,onBeforeDelete:H,connectionMode:_,connectionLineType:B=Fa.Bezier,connectionLineStyle:W,connectionLineComponent:te,connectionLineContainerStyle:le,deleteKeyCode:ue="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:ie=!1,selectionMode:ge=Xd.Full,panActivationKeyCode:Se="Space",multiSelectionKeyCode:Te=Rp()?"Meta":"Control",zoomActivationKeyCode:Ne=Rp()?"Meta":"Control",snapToGrid:de,snapGrid:oe,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:ot,nodesDraggable:zt,autoPanOnNodeFocus:qt,nodesConnectable:$t,nodesFocusable:Vn,nodeOrigin:yo=P4,edgesFocusable:Ir,edgesReconnectable:Pe,elementsSelectable:Ve=!0,defaultViewport:Je=jee,minZoom:Qe=.5,maxZoom:nt=2,translateExtent:qe=Yd,preventScrolling:xt=!0,nodeExtent:ee,defaultMarkerColor:fe="#b1b1b7",zoomOnScroll:De=!0,zoomOnPinch:je=!0,panOnScroll:Me=!1,panOnScrollSpeed:be=.5,panOnScrollMode:Re=Bo.Free,zoomOnDoubleClick:We=!0,panOnDrag:cs=!0,onPaneClick:Vt,onPaneMouseEnter:bi,onPaneMouseMove:rs,onPaneMouseLeave:jo,onPaneScroll:jc,onPaneContextMenu:V3,paneClickDistance:tS=0,nodeClickDistance:U3=0,children:B3,onReconnect:H3,onReconnectStart:z3,onReconnectEnd:q3,onEdgeContextMenu:W3,onEdgeDoubleClick:Y3,onEdgeMouseEnter:X3,onEdgeMouseMove:K3,onEdgeMouseLeave:G3,reconnectRadius:J3=10,onNodesChange:Q3,onEdgesChange:Z3,noDragClassName:e5="nodrag",noWheelClassName:t5="nowheel",noPanClassName:sS="nopan",fitView:nS,fitViewOptions:rS,connectOnClick:s5,attributionPosition:n5,proOptions:r5,defaultEdgeOptions:a5,elevateNodesOnSelect:o5,elevateEdgesOnSelect:i5,disableKeyboardA11y:aS=!1,autoPanOnConnect:l5,autoPanOnNodeDrag:c5,autoPanSpeed:d5,connectionRadius:u5,isValidConnection:h5,onError:m5,style:p5,id:oS,nodeDragThreshold:f5,connectionDragThreshold:x5,viewport:g5,onViewportChange:v5,width:y5,height:j5,colorMode:w5="light",debug:N5,onScroll:iS,ariaLabelConfig:b5,...S5},C5){const Mx=oS||"1",E5=See(w5),T5=h.useCallback(lS=>{lS.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),iS?.(lS)},[iS]);return s.jsx("div",{"data-testid":"rf__wrapper",...S5,onScroll:T5,style:{...p5,...Hte},ref:C5,className:Qt(["react-flow",a,E5]),id:oS,role:"application",children:s.jsxs(Bte,{nodes:e,edges:t,width:y5,height:j5,fitView:nS,fitViewOptions:rS,minZoom:Qe,maxZoom:nt,nodeOrigin:yo,nodeExtent:ee,children:[s.jsx($te,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:i,connectionLineType:B,connectionLineStyle:W,connectionLineComponent:te,connectionLineContainerStyle:le,selectionKeyCode:Q,selectionOnDrag:ie,selectionMode:ge,deleteKeyCode:ue,multiSelectionKeyCode:Te,panActivationKeyCode:Se,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:we,defaultViewport:Je,translateExtent:qe,minZoom:Qe,maxZoom:nt,preventScrolling:xt,zoomOnScroll:De,zoomOnPinch:je,zoomOnDoubleClick:We,panOnScroll:Me,panOnScrollSpeed:be,panOnScrollMode:Re,panOnDrag:cs,onPaneClick:Vt,onPaneMouseEnter:bi,onPaneMouseMove:rs,onPaneMouseLeave:jo,onPaneScroll:jc,onPaneContextMenu:V3,paneClickDistance:tS,nodeClickDistance:U3,onSelectionContextMenu:P,onSelectionStart:R,onSelectionEnd:$,onReconnect:H3,onReconnectStart:z3,onReconnectEnd:q3,onEdgeContextMenu:W3,onEdgeDoubleClick:Y3,onEdgeMouseEnter:X3,onEdgeMouseMove:K3,onEdgeMouseLeave:G3,reconnectRadius:J3,defaultMarkerColor:fe,noDragClassName:e5,noWheelClassName:t5,noPanClassName:sS,rfId:Mx,disableKeyboardA11y:aS,nodeExtent:ee,viewport:g5,onViewportChange:v5}),s.jsx(bee,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:g,onConnectEnd:p,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:zt,autoPanOnNodeFocus:qt,nodesConnectable:$t,nodesFocusable:Vn,edgesFocusable:Ir,edgesReconnectable:Pe,elementsSelectable:Ve,elevateNodesOnSelect:o5,elevateEdgesOnSelect:i5,minZoom:Qe,maxZoom:nt,nodeExtent:ee,onNodesChange:Q3,onEdgesChange:Z3,snapToGrid:de,snapGrid:oe,connectionMode:_,translateExtent:qe,connectOnClick:s5,defaultEdgeOptions:a5,fitView:nS,fitViewOptions:rS,onNodesDelete:L,onEdgesDelete:F,onDelete:I,onNodeDragStart:S,onNodeDrag:A,onNodeDragStop:M,onSelectionDrag:k,onSelectionDragStart:O,onSelectionDragStop:C,onMove:u,onMoveStart:m,onMoveEnd:f,noPanClassName:sS,nodeOrigin:yo,rfId:Mx,autoPanOnConnect:l5,autoPanOnNodeDrag:c5,autoPanSpeed:d5,onError:m5,connectionRadius:u5,isValidConnection:h5,selectNodesOnDrag:ot,nodeDragThreshold:f5,connectionDragThreshold:x5,onBeforeDelete:H,paneClickDistance:tS,debug:N5,ariaLabelConfig:b5}),s.jsx(yee,{onSelectionChange:U}),B3,s.jsx(pee,{proOptions:r5,position:n5}),s.jsx(mee,{rfId:Mx,disableKeyboardA11y:aS})]})})}var sI=M4(zte);const qte=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function Wte({children:e}){const t=st(qte);return t?ar.createPortal(e,t):null}function nI(e){const[t,n]=h.useState(e),r=h.useCallback(a=>n(o=>k4(a,o)),[]);return[t,n,r]}function rI(e){const[t,n]=h.useState(e),r=h.useCallback(a=>n(o=>D4(a,o)),[]);return[t,n,r]}function Yte({dimensions:e,lineWidth:t,variant:n,className:r}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Qt(["react-flow__background-pattern",n,r])})}function Xte({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:Qt(["react-flow__background-pattern","dots",t])})}var Kr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Kr||(Kr={}));const Kte={[Kr.Dots]:1,[Kr.Lines]:1,[Kr.Cross]:6},Gte=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function aI({id:e,variant:t=Kr.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=0,color:i,bgColor:l,style:c,className:d,patternClassName:u}){const m=h.useRef(null),{transform:f,patternId:x}=st(Gte,_t),g=r||Kte[t],p=t===Kr.Dots,w=t===Kr.Cross,v=Array.isArray(n)?n:[n,n],y=[v[0]*f[2]||1,v[1]*f[2]||1],j=g*f[2],N=Array.isArray(o)?o:[o,o],b=w?[j,j]:y,T=[N[0]*f[2]||1+b[0]/2,N[1]*f[2]||1+b[1]/2],S=`${x}${e||""}`;return s.jsxs("svg",{className:Qt(["react-flow__background",d]),style:{...c,...fx,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:m,"data-testid":"rf__background",children:[s.jsx("pattern",{id:S,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:p?s.jsx(Xte,{radius:j/2,className:u}):s.jsx(Yte,{dimensions:b,lineWidth:a,variant:t,className:u})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}aI.displayName="Background";const oI=h.memo(aI);function Jte(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Qte(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Zte(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ese(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function _h({children:e,className:t,...n}){return s.jsx("button",{type:"button",className:Qt(["react-flow__controls-button",t]),...n,children:e})}const sse=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function iI({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:d,children:u,position:m="bottom-left",orientation:f="vertical","aria-label":x}){const g=kt(),{isInteractive:p,minZoomReached:w,maxZoomReached:v,ariaLabelConfig:y}=st(sse,_t),{zoomIn:j,zoomOut:N,fitView:b}=Fr(),T=()=>{j(),o?.()},S=()=>{N(),i?.()},A=()=>{b(a),l?.()},M=()=>{g.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c?.(!p)},L=f==="horizontal"?"horizontal":"vertical";return s.jsxs(Vl,{className:Qt(["react-flow__controls",L,d]),position:m,style:e,"data-testid":"rf__controls","aria-label":x??y["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(_h,{onClick:T,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:v,children:s.jsx(Jte,{})}),s.jsx(_h,{onClick:S,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:w,children:s.jsx(Qte,{})})]}),n&&s.jsx(_h,{className:"react-flow__controls-fitview",onClick:A,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:s.jsx(Zte,{})}),r&&s.jsx(_h,{className:"react-flow__controls-interactive",onClick:M,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:p?s.jsx(tse,{}):s.jsx(ese,{})}),u]})}iI.displayName="Controls";const lI=h.memo(iI);function nse({id:e,x:t,y:n,width:r,height:a,style:o,color:i,strokeColor:l,strokeWidth:c,className:d,borderRadius:u,shapeRendering:m,selected:f,onClick:x}){const{background:g,backgroundColor:p}=o||{},w=i||g||p;return s.jsx("rect",{className:Qt(["react-flow__minimap-node",{selected:f},d]),x:t,y:n,rx:u,ry:u,width:r,height:a,style:{fill:w,stroke:l,strokeWidth:c},shapeRendering:m,onClick:x?v=>x(v,e):void 0})}const rse=h.memo(nse),ase=e=>e.nodes.map(t=>t.id),_g=e=>e instanceof Function?e:()=>e;function ose({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:a,nodeComponent:o=rse,onClick:i}){const l=st(ase,_t),c=_g(t),d=_g(e),u=_g(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(f=>s.jsx(lse,{id:f,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:a,NodeComponent:o,onClick:i,shapeRendering:m},f))})}function ise({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:a,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:d,x:u,y:m,width:f,height:x}=st(g=>{const{internals:p}=g.nodeLookup.get(e),w=p.userNode,{x:v,y}=p.positionAbsolute,{width:j,height:N}=xa(w);return{node:w,x:v,y,width:j,height:N}},_t);return!d||d.hidden||!s4(d)?null:s.jsx(l,{x:u,y:m,width:f,height:x,style:d.style,selected:!!d.selected,className:r(d),color:t(d),borderRadius:a,strokeColor:n(d),strokeWidth:o,shapeRendering:i,onClick:c,id:d.id})}const lse=h.memo(ise);var cse=h.memo(ose);const dse=200,use=150,hse=e=>!e.hidden,mse=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?t4(Wu(e.nodeLookup,{filter:hse}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},pse="react-flow__minimap-desc";function cI({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:u,maskStrokeWidth:m,position:f="bottom-right",onClick:x,onNodeClick:g,pannable:p=!1,zoomable:w=!1,ariaLabel:v,inversePan:y,zoomStep:j=10,offsetScale:N=5}){const b=kt(),T=h.useRef(null),{boundingRect:S,viewBB:A,rfId:M,panZoom:L,translateExtent:F,flowWidth:I,flowHeight:U,ariaLabelConfig:O}=st(mse,_t),k=e?.width??dse,C=e?.height??use,P=S.width/k,R=S.height/C,$=Math.max(P,R),H=$*k,_=$*C,B=N*$,W=S.x-(H-S.width)/2-B,te=S.y-(_-S.height)/2-B,le=H+B*2,ue=_+B*2,Q=`${pse}-${M}`,ie=h.useRef(0),ge=h.useRef();ie.current=$,h.useEffect(()=>{if(T.current&&L)return ge.current=vZ({domNode:T.current,panZoom:L,getTransform:()=>b.getState().transform,getViewScale:()=>ie.current}),()=>{ge.current?.destroy()}},[L]),h.useEffect(()=>{ge.current?.update({translateExtent:F,width:I,height:U,inversePan:y,pannable:p,zoomStep:j,zoomable:w})},[p,w,y,j,F,I,U]);const Se=x?de=>{const[oe,we]=ge.current?.pointer(de)||[0,0];x(de,{x:oe,y:we})}:void 0,Te=g?h.useCallback((de,oe)=>{const we=b.getState().nodeLookup.get(oe).internals.userNode;g(de,we)},[]):void 0,Ne=v??O["minimap.ariaLabel"];return s.jsx(Vl,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*$:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Qt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:k,height:C,viewBox:`${W} ${te} ${le} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:T,onClick:Se,children:[Ne&&s.jsx("title",{id:Q,children:Ne}),s.jsx(cse,{onClick:Te,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-B},${te-B}h${le+B*2}v${ue+B*2}h${-le-B*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cI.displayName="MiniMap";const dI=h.memo(cI),fse=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,xse={[_l.Line]:"right",[_l.Handle]:"bottom-right"};function gse({nodeId:e,position:t,variant:n=_l.Handle,className:r,style:a=void 0,children:o,color:i,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:f,autoScale:x=!0,shouldResize:g,onResizeStart:p,onResize:w,onResizeEnd:v}){const y=I4(),j=typeof e=="string"?e:y,N=kt(),b=h.useRef(null),T=n===_l.Handle,S=st(h.useCallback(fse(T&&x),[T,x]),_t),A=h.useRef(null),M=t??xse[n];h.useEffect(()=>{if(!(!b.current||!j))return A.current||(A.current=FZ({domNode:b.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:F,transform:I,snapGrid:U,snapToGrid:O,nodeOrigin:k,domNode:C}=N.getState();return{nodeLookup:F,transform:I,snapGrid:U,snapToGrid:O,nodeOrigin:k,paneDomNode:C}},onChange:(F,I)=>{const{triggerNodeChanges:U,nodeLookup:O,parentLookup:k,nodeOrigin:C}=N.getState(),P=[],R={x:F.x,y:F.y},$=O.get(j);if($&&$.expandParent&&$.parentId){const H=$.origin??C,_=F.width??$.measured.width??0,B=F.height??$.measured.height??0,W={id:$.id,parentId:$.parentId,rect:{width:_,height:B,...n4({x:F.x??$.position.x,y:F.y??$.position.y},{width:_,height:B},$.parentId,O,H)}},te=TN([W],O,k,C);P.push(...te),R.x=F.x?Math.max(H[0]*_,F.x):void 0,R.y=F.y?Math.max(H[1]*B,F.y):void 0}if(R.x!==void 0&&R.y!==void 0){const H={id:j,type:"position",position:{...R}};P.push(H)}if(F.width!==void 0&&F.height!==void 0){const _={id:j,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};P.push(_)}for(const H of I){const _={...H,type:"position"};P.push(_)}U(P)},onEnd:({width:F,height:I})=>{const U={id:j,type:"dimensions",resizing:!1,dimensions:{width:F,height:I}};N.getState().triggerNodeChanges([U])}})),A.current.update({controlPosition:M,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:u},keepAspectRatio:m,resizeDirection:f,onResizeStart:p,onResize:w,onResizeEnd:v,shouldResize:g}),()=>{A.current?.destroy()}},[M,l,c,d,u,m,p,w,v,g]);const L=M.split("-");return s.jsx("div",{className:Qt(["react-flow__resize-control","nodrag",...L,n,r]),ref:b,style:{...a,scale:S,...i&&{[T?"backgroundColor":"borderColor"]:i}},children:o})}h.memo(gse);const vse=({id:e,data:t})=>{const{field:n}=t,{setNodes:r,setEdges:a}=Fr(),o=()=>{r(i=>i.filter(l=>l.id!==e)),a(i=>i.filter(l=>l.source!==e&&l.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:o,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(xs,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:n.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:n.path,children:n.path})]}),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})};class yse{functionsCache=null;cacheExpiry=0;cacheDuration=5*60*1e3;async getAllFunctions(){if(this.functionsCache&&Date.now()<this.cacheExpiry)return this.functionsCache;try{const n=(await rt.get("/development/functions")).builtInFunctions.map(r=>{let a=[];if(r.parameters)a=r.parameters;else{const o=r.signature.match(/\((.*)\)/);o&&o[1]&&(a=o[1].split(",").map(l=>l.trim()).map(l=>({name:l,type:"any",required:!0})))}return{name:r.name,category:r.category,description:r.description,parameters:a,isBuiltIn:!0,execute:this.getExecuteFunction(r.name),javaTemplate:this.getJavaTemplate(r.name,a)}});return this.functionsCache=n,this.cacheExpiry=Date.now()+this.cacheDuration,n}catch(t){return console.error("Failed to fetch functions from API:",t),[]}}async getBuiltInFunctionByName(t){try{const n=await rt.get(`/development/functions/built-in/${t}`);if(n.parameters&&typeof n.parameters=="string")try{n.parameters=JSON.parse(n.parameters)}catch(r){console.error("Failed to parse parameters:",r),n.parameters=[]}return n}catch(n){return console.error("Failed to fetch function by name:",n),null}}clearCache(){this.functionsCache=null,this.cacheExpiry=0}getExecuteFunction(t){return{add:(r,a)=>r+a,subtract:(r,a)=>r-a,multiply:(r,a)=>r*a,divide:(r,a)=>r/a,equals:(r,a)=>r===a,absolute:r=>Math.abs(r),sqrt:r=>Math.sqrt(r),square:r=>r*r,sign:r=>Math.sign(r),neg:r=>-r,inv:r=>1/r,power:(r,a)=>Math.pow(r,a),lesser:(r,a)=>r<a,greater:(r,a)=>r>a,max:(r,a)=>Math.max(r,a),min:(r,a)=>Math.min(r,a),ceil:r=>Math.ceil(r),floor:r=>Math.floor(r),round:r=>Math.round(r),counter:(r=0,a=1)=>r+a,formatNumber:(r,a,o)=>r.toFixed(o||0).padStart(a,"0"),sum:r=>r.reduce((a,o)=>a+o,0),average:r=>r.reduce((a,o)=>a+o,0)/r.length,count:r=>r.length,index:r=>r,concat:(r,a,o)=>o?`${r}${o}${a}`:`${r}${a}`,substring:(r,a,o)=>r.substring(a,o),indexOf:(r,a)=>r.indexOf(a),lastIndexOf:(r,a)=>r.lastIndexOf(a),compare:(r,a)=>r.localeCompare(a),replaceString:(r,a,o)=>r.replace(new RegExp(a,"g"),o),length:r=>r.length,endsWith:(r,a)=>r.endsWith(a),startsWith:(r,a)=>r.startsWith(a),toUpperCase:r=>r.toUpperCase(),toLowerCase:r=>r.toLowerCase(),trim:r=>r.trim(),and:(r,a)=>r&&a,or:(r,a)=>r||a,not:r=>!r,notEquals:(r,a)=>r!==a,if:(r,a,o)=>r?a:o,ifWithoutElse:(r,a)=>r?a:void 0,isNil:r=>r==null,constant:r=>r,fixValues:(r,a)=>r}[t]}getJavaTemplate(t,n){const r=n.map((a,o)=>`{${o}}`).join(", ");return`${t}(${r})`}}const uI=new yse,jse=({id:e,data:t})=>{const[n,r]=h.useState(t.function),[a,o]=h.useState(t.parameters),[i,l]=h.useState(!1),[c,d]=h.useState([]),[u,m]=h.useState(!1),{setNodes:f,setEdges:x}=Fr();h.useEffect(()=>{(async()=>{m(!0);try{const N=await uI.getAllFunctions();if(d(N),"isBuiltIn"in t.function&&t.function.isBuiltIn){const b=N.find(T=>T.name===t.function.name);b&&r(b)}}catch(N){console.error("Failed to load functions:",N)}finally{m(!1)}})()},[t.function]);const g=j=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(T=>j.name.toLowerCase().includes(T))||n.parameters.indexOf(j)===0&&j.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(T=>j.name.toLowerCase().includes(T))?!1:j.required,p=h.useMemo(()=>{const j=Object.values(uN).flat(),N=new Map;return j.forEach(b=>{N.set(b.name,b)}),c.forEach(b=>{N.set(b.name,b)}),Array.from(N.values())},[c]),w=j=>{const N=p.find(b=>b.name===j);N&&(r(N),o({}))},v=(j,N)=>{const b={...a,[j]:N};o(b),f(T=>T.map(S=>S.id===e?{...S,data:{...S.data,parameters:b}}:S))},y=()=>{f(j=>j.filter(N=>N.id!==e)),x(j=>j.filter(N=>N.source!==e&&N.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Pn,{className:"h-4 w-4 text-orange-500"})}),s.jsx(z,{size:"sm",variant:"ghost",onClick:j=>{j.preventDefault(),j.stopPropagation(),l(!i)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:s.jsx(Lt,{className:`h-3 w-3 ${i?"text-primary":""}`})})]}),t.showSelector?s.jsxs(K,{value:n.name,onValueChange:w,disabled:u,children:[s.jsx(Y,{className:"w-full text-xs",children:s.jsx(G,{})}),s.jsx(X,{children:(()=>{const j=p.reduce((N,b)=>{const T=b.category||"general";return N[T]||(N[T]=[]),N[T].push(b),N},{});return Object.entries(j).map(([N,b])=>s.jsxs("div",{children:[s.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:N}),b.map(T=>s.jsx(D,{value:T.name,className:"text-xs",children:T.name},T.name))]},N))})()})]}):s.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&s.jsx(on,{className:"h-3 w-3"}),n.name]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:n.description}),i&&s.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs font-medium",children:"Custom Java Code"}),s.jsx(ke,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:j=>v("customCode",j.target.value)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):s.jsxs(s.Fragment,{children:[s.jsx(E,{className:"text-xs font-medium",children:"Parameters"}),n.parameters.filter(j=>!g(j)).length===0?s.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):n.parameters.filter(j=>!g(j)).map(j=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs(E,{className:"text-xs",children:[j.name,j.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(V,{placeholder:`${j.type} value`,value:a[j.name]||"",onChange:N=>v(j.name,N.target.value),className:"h-6 text-xs"}),j.description&&s.jsx("div",{className:"text-xs text-muted-foreground",children:j.description})]},j.name))]})}),n.parameters.map((j,N)=>g(j)?s.jsx(Xt,{type:"target",position:Ce.Left,id:j.name,style:{top:`${60+N*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${j.name}`):null),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},wse=({data:e})=>{const[t,n]=h.useState(e.value),[r,a]=h.useState(e.type);return s.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(a8,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(K,{value:r,onValueChange:o=>a(o),children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"string",children:"String"}),s.jsx(D,{value:"number",children:"Number"}),s.jsx(D,{value:"boolean",children:"Boolean"})]})]}),r==="boolean"?s.jsxs(K,{value:t,onValueChange:n,children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"true",children:"true"}),s.jsx(D,{value:"false",children:"false"})]})]}):s.jsx(V,{placeholder:`Enter ${r} value`,value:t,onChange:o=>n(o.target.value),type:r==="number"?"number":"text",className:"h-7 text-xs"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},Nse=({data:e})=>{const{field:t}=e;return s.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Ty,{className:"h-4 w-4 text-purple-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),s.jsx(Xt,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},bse=({data:e})=>{const[t,n]=h.useState(e.condition),[r,a]=h.useState(e.compareValue);return s.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ra,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Condition"}),s.jsxs(K,{value:t,onValueChange:o=>n(o),children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"equals",children:"Equals"}),s.jsx(D,{value:"notEquals",children:"Not Equals"}),s.jsx(D,{value:"contains",children:"Contains"}),s.jsx(D,{value:"startsWith",children:"Starts With"}),s.jsx(D,{value:"endsWith",children:"Ends With"}),s.jsx(D,{value:"isEmpty",children:"Is Empty"}),s.jsx(D,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Compare Value"}),s.jsx(V,{placeholder:"Value to compare",value:r,onChange:o=>a(o.target.value),className:"h-7 text-xs"})]})]}),s.jsx(Xt,{type:"target",position:Ce.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),s.jsx(Xt,{type:"source",position:Ce.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),s.jsx(Xt,{type:"source",position:Ce.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),s.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),s.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function Sse(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var AN="ScrollArea",[hI,gve]=Qs(AN),[Cse,_n]=hI(AN),mI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(null),[x,g]=h.useState(null),[p,w]=h.useState(null),[v,y]=h.useState(0),[j,N]=h.useState(0),[b,T]=h.useState(!1),[S,A]=h.useState(!1),M=$e(t,F=>c(F)),L=cc(a);return s.jsx(Cse,{scope:n,type:r,dir:L,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:f,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:b,onScrollbarXEnabledChange:T,scrollbarY:p,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(Ae.div,{dir:L,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});mI.displayName=AN;var pI="ScrollAreaViewport",fI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:o,...i}=e,l=_n(pI,n),c=h.useRef(null),d=$e(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),s.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Ose({asChild:a,children:r},u=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});fI.displayName=pI;var Or="ScrollAreaScrollbar",kN=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=_n(Or,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(Ese,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(Tse,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(xI,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(DN,{...r,ref:t}):null});kN.displayName=Or;var Ese=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=_n(Or,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ls,{present:n||o,children:s.jsx(xI,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Tse=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=_n(Or,e.__scopeScrollArea),o=e.orientation==="horizontal",i=gx(()=>c("SCROLL_END"),100),[l,c]=Sse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const f=()=>{const x=d[u];m!==x&&(c("SCROLL"),i()),m=x};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,o,c,i]),s.jsx(ls,{present:n||l!=="hidden",children:s.jsx(DN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),xI=h.forwardRef((e,t)=>{const n=_n(Or,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=gx(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?d:u)}},10);return Ul(n.viewport,c),Ul(n.content,c),s.jsx(ls,{present:r||o,children:s.jsx(DN,{"data-state":o?"visible":"hidden",...a,ref:t})})}),DN=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=_n(Or,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=wI(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function m(f,x){return Rse(f,i.current,l,x)}return n==="horizontal"?s.jsx(Pse,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,x=NE(f,l,a.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=m(f,a.dir))}}):n==="vertical"?s.jsx(Ase,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,x=NE(f,l);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=m(f))}}):null}),Pse=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=_n(Or,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=$e(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(vI,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xx(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),bI(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Lp(i.paddingLeft),paddingEnd:Lp(i.paddingRight)}})}})}),Ase=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=_n(Or,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=$e(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(vI,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xx(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),bI(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Lp(i.paddingTop),paddingEnd:Lp(i.paddingBottom)}})}})}),[kse,gI]=hI(Or),vI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...f}=e,x=_n(Or,n),[g,p]=h.useState(null),w=$e(t,M=>p(M)),v=h.useRef(null),y=h.useRef(""),j=x.viewport,N=r.content-r.viewport,b=Mt(u),T=Mt(c),S=gx(m,10);function A(M){if(v.current){const L=M.clientX-v.current.left,F=M.clientY-v.current.top;d({x:L,y:F})}}return h.useEffect(()=>{const M=L=>{const F=L.target;g?.contains(F)&&b(L,N)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[j,g,N,b]),h.useEffect(T,[r,T]),Ul(g,S),Ul(x.content,S),s.jsx(kse,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:Mt(o),onThumbPointerUp:Mt(i),onThumbPositionChange:T,onThumbPointerDown:Mt(l),children:s.jsx(Ae.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:ye(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(M))}),onPointerMove:ye(e.onPointerMove,A),onPointerUp:ye(e.onPointerUp,M=>{const L=M.target;L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),v.current=null})})})}),Ip="ScrollAreaThumb",yI=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=gI(Ip,e.__scopeScrollArea);return s.jsx(ls,{present:n||a.hasThumb,children:s.jsx(Dse,{ref:t,...r})})}),Dse=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=_n(Ip,n),i=gI(Ip,n),{onThumbPositionChange:l}=i,c=$e(t,m=>i.onThumbChange(m)),d=h.useRef(),u=gx(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=o.viewport;if(m){const f=()=>{if(u(),!d.current){const x=Fse(m,l);d.current=x,l()}};return l(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,u,l]),s.jsx(Ae.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),g=m.clientX-x.left,p=m.clientY-x.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:ye(e.onPointerUp,i.onThumbPointerUp)})});yI.displayName=Ip;var MN="ScrollAreaCorner",jI=h.forwardRef((e,t)=>{const n=_n(MN,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(Mse,{...e,ref:t}):null});jI.displayName=MN;var Mse=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=_n(MN,n),[o,i]=h.useState(0),[l,c]=h.useState(0),d=!!(o&&l);return Ul(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),c(u)}),Ul(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),i(u)}),d?s.jsx(Ae.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Lp(e){return e?parseInt(e,10):0}function wI(e,t){const n=e/t;return isNaN(n)?0:n}function xx(e){const t=wI(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Rse(e,t,n,r="ltr"){const a=xx(n),o=a/2,i=t||o,l=a-i,c=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return NI([c,d],m)(e)}function NE(e,t,n="ltr"){const r=xx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],d=Yy(e,c);return NI([0,i],[0,l])(d)}function NI(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bI(e,t){return e>0&&e<t}var Fse=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function gx(e,t){const n=Mt(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ul(e,t){const n=Mt(t);is(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function Ose(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=h.Children.only(r);return h.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var SI=mI,Ise=fI,Lse=jI;const sr=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(SI,{ref:r,className:re("relative overflow-hidden",e),...n,children:[s.jsx(Ise,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(CI,{}),s.jsx(Lse,{})]}));sr.displayName=SI.displayName;const CI=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(kN,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(yI,{className:"relative flex-1 rounded-full bg-border"})}));CI.displayName=kN.displayName;const _se=({open:e,onClose:t,sourceFields:n,onSelectField:r,excludeFields:a=[]})=>{const[o,i]=h.useState(""),[l,c]=h.useState(new Set),d=w=>{c(v=>{const y=new Set(v);return y.has(w)?y.delete(w):y.add(w),y})},u=w=>{r(w),t(),i(""),c(new Set)},m=(w,v=0)=>{const y=!w.children||w.children.length===0,j=l.has(w.id),N=a.includes(w.id),b=!o||w.name.toLowerCase().includes(o.toLowerCase())||w.path.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase()),T=w.children?.some(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.path.toLowerCase().includes(o.toLowerCase())||S.type.toLowerCase().includes(o.toLowerCase()));return!b&&!T?null:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":y?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${v*16}px`},onClick:()=>{y&&!N?u(w):y||d(w.id)},children:[!y&&s.jsx(z,{variant:"ghost",size:"sm",onClick:S=>{S.stopPropagation(),d(w.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:j?s.jsx(Er,{className:"h-3 w-3"}):s.jsx(On,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx(xs,{className:"h-3 w-3 text-info flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:w.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:w.type}),N&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Already added"})]}),y&&!N&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!y&&j&&w.children&&s.jsx("div",{className:"ml-2",children:w.children.map(S=>m(S,v+1))})]},w.id)},f=w=>{const v=[],y=j=>{!j.children||j.children.length===0?v.push(j):j.children.forEach(y)};return w.forEach(y),v},x=n.filter(w=>!a.includes(w.id)),g=f(n).length,p=f(x).length;return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-2xl h-[80vh] flex flex-col",children:[s.jsx(pt,{className:"flex-shrink-0",children:s.jsxs(ft,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{children:"Select Source Field"}),s.jsxs(ce,{variant:"outline",className:"text-xs",children:[p," of ",g," available"]})]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(vt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search fields by name, path, or type...",value:o,onChange:w=>i(w.target.value),className:"pl-10"})]})}),s.jsx(sr,{className:"flex-1",children:s.jsx("div",{className:"space-y-2 pr-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(xs,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No available source fields to add"})]}):x.map(w=>m(w))})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var RN="Tabs",[$se,vve]=Qs(RN,[dc]),EI=dc(),[Vse,FN]=$se(RN),TI=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=cc(l),[m,f]=Fn({prop:r,onChange:a,defaultProp:o});return s.jsx(Vse,{scope:n,baseId:An(),value:m,onValueChange:f,orientation:i,dir:u,activationMode:c,children:s.jsx(Ae.div,{dir:u,"data-orientation":i,...d,ref:t})})});TI.displayName=RN;var PI="TabsList",AI=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=FN(PI,n),i=EI(n);return s.jsx($0,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(Ae.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});AI.displayName=PI;var kI="TabsTrigger",DI=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,i=FN(kI,n),l=EI(n),c=FI(i.baseId,r),d=OI(i.baseId,r),u=r===i.value;return s.jsx(V0,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ye(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:ye(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:ye(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(r)})})})});DI.displayName=kI;var MI="TabsContent",RI=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...i}=e,l=FN(MI,n),c=FI(l.baseId,r),d=OI(l.baseId,r),u=r===l.value,m=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(ls,{present:a||u,children:({present:f})=>s.jsx(Ae.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});RI.displayName=MI;function FI(e,t){return`${e}-trigger-${t}`}function OI(e,t){return`${e}-content-${t}`}var Use=TI,II=AI,LI=DI,_I=RI;const Ge=Use,Ke=h.forwardRef(({className:e,...t},n)=>s.jsx(II,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ke.displayName=II.displayName;const me=h.forwardRef(({className:e,...t},n)=>s.jsx(LI,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));me.displayName=LI.displayName;const he=h.forwardRef(({className:e,...t},n)=>s.jsx(_I,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));he.displayName=_I.displayName;const Bse=({open:e,onClose:t,onSelectFunction:n})=>{const[r,a]=h.useState(""),[o,i]=h.useState([]),[l,c]=h.useState(!1);h.useEffect(()=>{e&&(async()=>{c(!0);try{const p=await uI.getAllFunctions();i(p)}catch(p){console.error("Failed to load functions:",p)}finally{c(!1)}})()},[e]);const d=Tt.useMemo(()=>{const g={};return Object.entries(uN).forEach(([p,w])=>{g[p]=[...w]}),o.forEach(p=>{const w=p.category||"general";g[w]||(g[w]=[]),g[w]=g[w].filter(v=>v.name!==p.name),g[w].push(p)}),g},[o]),u=Object.entries(d).reduce((g,[p,w])=>{const v=w.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.description.toLowerCase().includes(r.toLowerCase()));return v.length>0&&(g[p]=v),g},{}),m=g=>{n(g),t(),a("")},f=Object.values(d).flat().length,x=Object.values(u).flat().length;return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(pt,{className:"flex-shrink-0",children:s.jsxs(ft,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lg,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Select Function"}),s.jsxs(ce,{variant:"outline",className:"text-xs",children:[x," of ",f," functions"]})]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(vt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search functions by name or description...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ht,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading functions..."})]}):Object.keys(u).length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(lg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No functions found matching your search"})]}):s.jsxs(Ge,{defaultValue:Object.keys(u)[0],className:"h-full flex flex-col",children:[s.jsx(Ke,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(u).length}, 1fr)`},children:Object.keys(u).map(g=>s.jsxs(me,{value:g,className:"capitalize text-xs",children:[g," (",u[g].length,")"]},g))}),Object.entries(u).map(([g,p])=>s.jsx(he,{value:g,className:"flex-1 mt-4",children:s.jsx(sr,{className:"h-full",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:p.map(w=>s.jsxs(q,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>m(w),children:[s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(lg,{className:"h-3 w-3 text-primary"}),w.name]}),s.jsx(xe,{className:"text-xs mt-1",children:w.description})]}),s.jsx(ce,{variant:"secondary",className:"text-xs ml-2",children:w.category})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.parameters.length," parameter",w.parameters.length!==1?"s":""]}),s.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},w.name))})})},g))]})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},Hse=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o,targetPosition:i,style:l={},markerEnd:c,selected:d=!1})=>{const{setEdges:u}=Fr(),[m,f,x]=bN({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i}),g=p=>{p.stopPropagation(),u(w=>w.filter(v=>v.id!==e))};return s.jsxs(s.Fragment,{children:[s.jsx(Xu,{path:m,markerEnd:c,style:l}),d&&s.jsx(Wte,{children:s.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${f}px,${x}px)`},children:s.jsx(z,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:s.jsx(vt,{className:"h-3 w-3"})})})})]})},zse={sourceField:vse,function:jse,constant:wse,targetField:Nse,conditional:bse},qse={deletable:Hse},Wse=({open:e,onClose:t,sourceFields:n,targetField:r,onApplyMapping:a,initialMapping:o})=>{const[i,l,c]=nI([]),[d,u,m]=rI([]),[f,x]=h.useState(1),[g,p]=h.useState(!1),[w,v]=h.useState(!1);Tt.useEffect(()=>{if(e&&r){let L=[],F=[],I=1;if(o?.visualFlowData)L=o.visualFlowData.nodes,F=o.visualFlowData.edges,I=o.visualFlowData.nodeIdCounter;else{L.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:r}});const U=(k,C,P)=>{for(const R of k){if(R.name===C||R.path===C||P&&R.path===P)return R;if(R.children&&R.children.length>0){const $=U(R.children,C,P);if($)return $}}};o&&o.sourcePaths&&o.sourcePaths.length>0?o.sourcePaths.forEach((k,C)=>{let P=n.find(R=>R.path===k||R.name===k);if(P||(P=U(n,k,k)),!P&&o.sourceFields&&o.sourceFields[C]){const R=o.sourceFields[C];P={id:`source_${R}_${Date.now()}_${C}`,name:R,type:"string",path:k,expanded:!1}}if(P){const R=`source-${P.id}`;L.push({id:R,type:"sourceField",position:{x:50,y:50+C*100},data:{field:P}}),F.push({id:`edge-${R}-target`,source:R,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}})}}):o&&o.sourceFields&&o.sourceFields.length>0&&o.sourceFields.forEach((k,C)=>{let P=n.find(R=>R.name===k||R.path===k);if(P||(P=U(n,k,k)),P||(P={id:`source_${k}_${Date.now()}_${C}`,name:k,type:"string",path:k,expanded:!1}),P){const R=`source-${P.id}`;L.push({id:R,type:"sourceField",position:{x:50,y:50+C*100},data:{field:P}}),F.push({id:`edge-${R}-target`,source:R,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}})}}),I=2+(o?.sourcePaths?.length||o?.sourceFields?.length||0)}l(L),u(F),x(I)}},[e,r,n,o,l,u]);const y=h.useCallback(L=>{if(L.target==="target")u(F=>{const I=F.filter(O=>O.target!=="target"),U={...L,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}};return Fp(U,I)});else{const F={...L,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}};u(I=>Fp(F,I))}},[u]),j=h.useCallback(()=>{p(!0)},[]),N=h.useCallback(L=>{const F=i.filter(U=>U.type==="sourceField"),I={id:`source-${L.id}`,type:"sourceField",position:{x:50,y:50+F.length*100},data:{field:L}};l(U=>[...U,I])},[i,l]),b=h.useCallback(()=>{v(!0)},[]),T=h.useCallback(L=>{const F=i.filter(U=>U.type==="function"),I={id:`function-${f}`,type:"function",position:{x:350,y:50+F.length*120},data:{function:L,parameters:{},showSelector:!1}};l(U=>[...U,I]),x(U=>U+1)},[f,i,l]),S=h.useCallback(()=>{const L=i.filter(I=>I.type==="function"&&I.data.function.name==="custom"),F={id:`custom-function-${f}`,type:"function",position:{x:350,y:50+L.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(I=>[...I,F]),x(I=>I+1)},[f,i,l]),A=h.useCallback(()=>{if(!r||(console.log(" VisualFlowEditor handleSave - saving with nodes:",i.length,"edges:",d.length),!i.find(O=>O.type==="targetField")))return;const F=[],I=[];i.forEach(O=>{O.type==="sourceField"&&d.some(C=>C.source===O.id)&&(F.push(O.data.field.path),I.push(O.data.field.name))}),console.log(" VisualFlowEditor handleSave - connectedSourcePaths:",F),console.log(" VisualFlowEditor handleSave - connectedSourceFields:",I);const U={id:o?.id||`mapping_${Date.now()}`,name:o?.name||`visual_flow_to_${r.name}`,sourceFields:I,targetField:r.name,sourcePaths:F,targetPath:r.path||r.name,requiresTransformation:!0,visualFlowData:{nodes:i,edges:d,nodeIdCounter:f},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log(" VisualFlowEditor handleSave - final mapping:",U),a(U),t()},[i,d,f,r,o,a,t]),M=h.useMemo(()=>{const L=i.find(I=>I.type==="targetField");return L?d.some(I=>I.target===L.id):!1},[i,d]);return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[s.jsx(pt,{className:"p-4 pb-2 border-b bg-muted/30",children:s.jsxs(ft,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",s.jsx("span",{className:"font-medium text-primary",children:r?.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{onClick:A,disabled:!M,className:"bg-primary text-primary-foreground",children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),s.jsxs(z,{variant:"outline",onClick:t,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:s.jsxs(sI,{nodes:i,edges:d,onNodesChange:c,onEdgesChange:m,onConnect:y,nodeTypes:zse,edgeTypes:qse,connectionMode:ri.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[s.jsx(oI,{gap:20,size:1}),s.jsx(lI,{}),s.jsx(dI,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),s.jsx(Vl,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),s.jsxs(z,{onClick:j,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Source Field"]}),s.jsxs(z,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Function"]}),s.jsxs(z,{onClick:S,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),s.jsx(Vl,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${M?"bg-green-500":"bg-red-500"}`}),s.jsx("div",{className:"text-sm font-medium",children:M?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),s.jsx(_se,{open:g,onClose:()=>p(!1),sourceFields:n,onSelectField:N,excludeFields:i.filter(L=>L.type==="sourceField").map(L=>L.data.field.id)}),s.jsx(Bse,{open:w,onClose:()=>v(!1),onSelectFunction:T})]})})};function Yse({mappings:e,sourceFields:t=[],targetFields:n=[],onRemoveMapping:r,onUpdateMapping:a,onCreateMapping:o}){const[i,l]=h.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[c,d]=h.useState({open:!1,targetField:null});h.useEffect(()=>{console.log(" Modal state changed:",i)},[i]),h.useEffect(()=>{console.log(" Visual flow editor state changed:",c)},[c]);const u=x=>{console.log(" handleOpenVisualFlowEditor called with mappingId:",x),console.log(" Available mappings:",e),console.log(" Available targetFields:",n),console.log(" Target fields names:",n.map(w=>w?.name));const g=e.find(w=>w.id===x);if(console.log(" Found existing mapping:",g),!g){console.log(" No existing mapping found for ID:",x);return}let p=n.find(w=>w?.name===g.targetField);if(!p&&g.targetPath&&(p=n.find(w=>w?.path===g.targetPath)),!p){const w=(v,y,j)=>{for(const N of v){if(N.name===y||j&&N.path===j)return N;if(N.children&&N.children.length>0){const b=w(N.children,y,j);if(b)return b}}};p=w(n,g.targetField,g.targetPath)}if(console.log(" Looking for target field with name:",g.targetField),console.log(" Looking for target field with path:",g.targetPath),console.log(" Found target field:",p),!p){console.log(" Target field not found, attempting to create a proper target field from mapping data");let w=g.targetField,v=g.targetPath||g.targetField;if(g.targetPath&&g.targetPath.includes(".")){const j=g.targetPath.split(".");w=j[j.length-1]}const y={id:`target_${w}_${Date.now()}`,name:w,type:"string",path:v,children:[],expanded:!1};console.log(" Created proper target field:",y),d({open:!0,targetField:y,existingMapping:g});return}console.log(" Opening visual flow editor with:",{targetField:p.name,existingMapping:g.id}),d({open:!0,targetField:p,existingMapping:g})},m=x=>{console.log(" handleApplyVisualFlow called with:",x),c.existingMapping?a&&a(c.existingMapping.id,{functionNode:x.functionNode,visualFlowData:x.visualFlowData,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths,name:x.name}):o&&o(x),d({open:!1,targetField:null})},f=x=>{i.existingMappingId?a&&a(i.existingMappingId,{functionNode:x.functionNode,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths}):o&&o(x),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log(" MappingArea render - mappings count:",e.length),console.log(" MappingArea render - mappings:",e),s.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(sp,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),s.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?s.jsx(et,{className:"mt-8",children:s.jsx(tt,{children:"Drag fields from source to target to create mappings"})}):s.jsx("div",{className:"space-y-3",children:e.map(x=>s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",className:"text-xs",children:x.sourceFields&&x.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),x.requiresTransformation===!1&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Pass-through"}),x.functionNode&&s.jsx(ce,{variant:x.functionNode.functionName==="nodeMapping"?"secondary":"default",className:"text-xs",children:x.functionNode.functionName==="nodeMapping"?`Node: ${x.functionNode.parameters?.sourceType||"object"}  ${x.functionNode.parameters?.targetType||"object"}`:`Function: ${x.functionNode.functionName}`})]}),s.jsxs("div",{className:"flex gap-1",children:[x.requiresTransformation!==!1&&s.jsx(s.Fragment,{children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{console.log(" Lightning bolt clicked for mapping:",x.id),u(x.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:s.jsx(Pn,{className:"h-3 w-3"})})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(x.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:s.jsx(vt,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-medium text-primary",children:x.name})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Source:"}),s.jsx("span",{className:"text-muted-foreground",children:x.sourceFields?x.sourceFields.join(", "):""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sp,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium",children:"Target:"}),s.jsx("span",{className:"text-muted-foreground",children:x.targetField})]}),x.requiresTransformation!==!1&&s.jsxs(s.Fragment,{children:[x.functionNode&&s.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Pn,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),s.jsx("div",{className:"text-muted-foreground",children:x.functionNode.functionName==="visual_flow"?x.visualFlowData?`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s): ${x.sourceFields?x.sourceFields.join(", "):""}`:`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s) connected`:`${x.functionNode.functionName} with ${Object.keys(x.functionNode.sourceConnections).length} parameter(s) connected`})]}),!x.functionNode&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),x.requiresTransformation===!1&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},x.id))})}),i.open&&i.targetField&&s.jsx(rK,{open:i.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:i.selectedFunction,sourceFields:i.filteredSourceFields||t,targetField:i.targetField,onApplyMapping:f}),c.open&&c.targetField&&s.jsx(Wse,{open:c.open,onClose:()=>d({open:!1,targetField:null}),sourceFields:t,targetField:c.targetField,onApplyMapping:m,initialMapping:c.existingMapping})]})}function Xse({open:e,onOpenChange:t,mappings:n,mappingName:r,mappingType:a,sourceXml:o="",targetXml:i=""}){const{toast:l}=Be(),[c,d]=h.useState(""),[u,m]=h.useState(""),[f,x]=h.useState("idle"),[g,p]=h.useState(""),[w,v]=h.useState(!1),y=S=>{const A=S.target.files?.[0];if(A){const M=new FileReader;M.onload=L=>{const F=L.target?.result;d(F)},M.readAsText(A)}},j=async()=>{if(!c.trim()){l({title:"Input Required",description:"Please provide input XML to test the mapping",variant:"destructive"});return}v(!0),x("testing"),p(""),m("");try{const S=await J.post("/test/field-mappings",{inputXml:c,mappings:n.map(A=>({sourceFields:A.sourceFields,targetField:A.targetField,sourcePaths:A.sourcePaths,targetPath:A.targetPath,javaFunction:A.functionNode?.functionName==="visual_flow"?"visual_flow":A.javaFunction,functionNode:A.functionNode,visualFlowData:A.visualFlowData,requiresTransformation:A.requiresTransformation!==!1})),mappingType:a,sourceStructureXml:o,targetStructureXml:i});if(S.data.success)m(S.data.outputXml),x("success"),l({title:"Test Successful",description:"Field mappings were applied successfully"});else throw new Error(S.data.error||"Test failed")}catch(S){x("error");const A=S.response?.data?.message||S.message||"Failed to test mappings";p(A),l({title:"Test Failed",description:A,variant:"destructive"})}finally{v(!1)}},N=()=>{navigator.clipboard.writeText(u),l({title:"Copied",description:"Output XML copied to clipboard"})},b=()=>{const S=new Blob([u],{type:"text/xml"}),A=URL.createObjectURL(S),M=document.createElement("a");M.href=A,M.download=`${r}_${a}_output.xml`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(A)},T=()=>{d(`<?xml version="1.0" encoding="UTF-8"?>
<${a==="request"?"Request":a==="response"?"Response":"Fault"}>
    <!-- Add your test data here -->
    <Token>sample-token-123</Token>
    <amount>100.00</amount>
    <subClass>A</subClass>
    <tariffIndex>1</tariffIndex>
    <meterBaseDate>2024-01-01</meterBaseDate>
    <keyExpiryNumber>12345</keyExpiryNumber>
    <supplyGroupCode>SG001</supplyGroupCode>
    <keyRevisionNumber>1</keyRevisionNumber>
    <meterSerialNumber>MSN123456</meterSerialNumber>
    <encryptionAlgorithm>AES256</encryptionAlgorithm>
</${a==="request"?"Request":a==="response"?"Response":"Fault"}>`)};return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(pt,{children:[s.jsxs(ft,{children:["Test Field Mappings - ",r]}),s.jsxs(Ln,{children:["Test your ",a," field mappings with sample XML data. Upload or paste your input XML to see the transformation results."]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(Ge,{defaultValue:"test",className:"h-full flex flex-col",children:[s.jsxs(Ke,{children:[s.jsx(me,{value:"test",children:"Test Mappings"}),s.jsxs(me,{value:"mappings",children:["View Mappings (",n.length,")"]})]}),s.jsxs(he,{value:"test",className:"flex-1 overflow-auto mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Input XML"}),s.jsx(xe,{children:"Provide the source XML to test the mappings"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:T,children:"Load Sample"}),s.jsx(E,{htmlFor:"file-upload",className:"cursor-pointer",children:s.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("span",{children:[s.jsx(yf,{className:"h-4 w-4 mr-2"}),"Upload XML"]})})}),s.jsx("input",{id:"file-upload",type:"file",accept:".xml",onChange:y,className:"hidden"})]}),s.jsx(ke,{value:c,onChange:S=>d(S.target.value),placeholder:"Paste your input XML here...",className:"font-mono text-sm h-[400px]"})]})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Output XML"}),s.jsx(xe,{children:"Transformed XML after applying field mappings"})]}),s.jsxs(Z,{className:"space-y-4",children:[f==="success"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",size:"sm",onClick:N,children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Copy"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Download"]})]}),f==="idle"&&s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(tt,{children:'Click "Test Mapping" to see the transformation results'})]}),f==="testing"&&s.jsx("div",{className:"flex items-center justify-center h-[400px]",children:s.jsx(ht,{className:"h-8 w-8 animate-spin text-primary"})}),f==="error"&&s.jsxs(et,{variant:"destructive",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(tt,{children:g})]}),f==="success"&&s.jsx(ke,{value:u,readOnly:!0,className:"font-mono text-sm h-[400px]"})]})]})]}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(z,{onClick:j,disabled:w||!c.trim(),size:"lg",children:w?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"Test Mapping"]})})})]}),s.jsx(he,{value:"mappings",className:"flex-1 overflow-auto mt-4",children:s.jsx("div",{className:"space-y-4",children:n.map((S,A)=>s.jsxs(q,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:S.name}),s.jsxs(ce,{variant:"outline",children:["Mapping ",A+1]})]})}),s.jsxs(Z,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Source Fields"}),s.jsx("p",{className:"font-mono",children:S.sourceFields.join(", ")})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Target Field"}),s.jsx("p",{className:"font-mono",children:S.targetField})]})]}),S.functionNode&&s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Transformation"}),s.jsx("p",{className:"font-mono text-sm",children:S.functionNode.functionName})]})]})]},S.id))})})]})})]})})}async function yj(e,t){try{const n=await J.post(`/structures/${e}/convert-to-xml`,t||{});return console.log("Received XML conversion result:",{structureId:n.data.structureId,structureName:n.data.structureName,xmlContent:n.data.xmlContent}),n.data}catch(n){throw console.error("XML conversion error for structure:",e,n.response?.data),n}}function $g(e){const n=new DOMParser().parseFromString(e,"text/xml");console.log("Parsing XML content:",e);const r=n.querySelector("parsererror");if(r){const i=e.split(`
`);if(console.error("XML parsing error details:",{errorText:r.textContent,lineCount:i.length,problematicLines:i.map((l,c)=>({lineNumber:c+1,content:l,length:l.length})).filter(l=>l.lineNumber>=15&&l.lineNumber<=25)}),console.error("Full line 17:",i[16]),console.error("Full line 18:",i[17]),i[17]){console.error("Line 18 character analysis around column 14:");for(let l=10;l<20&&l<i[17].length;l++)console.error(`  Position ${l}: '${i[17][l]}' (char code: ${i[17].charCodeAt(l)})`)}throw new Error("Invalid XML: "+r.textContent)}const a=n.documentElement;return[{id:`${a.tagName}_root`,name:a.tagName,type:"object",path:a.tagName,expanded:!0,children:jj(a,a.tagName)}]}function jj(e,t=""){const n=[];if(e.attributes.length>0)for(let o=0;o<e.attributes.length;o++){const i=e.attributes[o];if(!i.name.startsWith("xmlns")){const l=t?`${t}.@${i.name}`:`@${i.name}`;n.push({id:`${l}_attr_${o}`,name:`@${i.name}`,type:"attribute",path:l,expanded:!1})}}const r=new Set,a=new Map;for(let o=0;o<e.children.length;o++){const i=e.children[o],l=i.tagName;a.has(l)||a.set(l,[]),a.get(l).push(i)}console.log("Processing children in order for node:",e.tagName);for(let o=0;o<e.children.length;o++){const l=e.children[o].tagName;if(console.log(`  Child ${o}: ${l}`),r.has(l))continue;r.add(l);const c=a.get(l);if(c.length===1){const d=c[0],u=t?`${t}.${l}`:l,m=d.children.length>0||d.attributes.length>0;d.textContent&&d.children.length;const f={id:`${u}_${Date.now()}_${Math.random()}`,name:l,type:m?"object":"string",path:u,expanded:!1,children:m?jj(d,u):void 0};n.push(f)}else{const d=t?`${t}.${l}[]`:`${l}[]`,u={id:`${d}_array_${Date.now()}`,name:`${l}[]`,type:"array",path:d,expanded:!1,children:c[0].children.length>0||c[0].attributes.length>0?jj(c[0],`${d}[0]`):void 0};n.push(u)}}if(e.textContent&&e.children.length===0&&n.length===0){const o=t?`${t}._text`:"_text";n.push({id:`${o}_text`,name:"_text",type:"string",path:o,expanded:!1})}return n}function ON({onClose:e,onSave:t,initialMappingName:n="",initialMappings:r=[],sampleStructures:a=[],sourceAdapterType:o="",targetAdapterType:i="",sourceXml:l="",targetXml:c="",preConverted:d=!1,mappingType:u="request"}){const[m,f]=h.useState([]),[x,g]=h.useState([]),[p,w]=h.useState(r),[v,y]=h.useState(null),[j,N]=h.useState(""),[b,T]=h.useState(""),[S,A]=h.useState(""),[M,L]=h.useState(""),[F,I]=h.useState(!1),[U,O]=h.useState(!1),[k,C]=h.useState(n),[P,R]=h.useState(!1),[$,H]=h.useState(!1),[_,B]=h.useState(null),[W,te]=h.useState(null),[le,ue]=h.useState(!1),{structures:Q}=pc(),{toast:ie}=Be(),ge=(Pe,Ve)=>{try{const nt=new DOMParser().parseFromString(Pe,"text/xml").documentElement,qe=document.implementation.createDocument(null,nt.tagName,null),xt=qe.documentElement;for(let je=0;je<nt.attributes.length;je++){const Me=nt.attributes[je];xt.setAttribute(Me.name,Me.value)}const fe={request:["_Req_","Request","Input","input"],response:["_Resp_","Response","Output","output"],fault:["Fault","fault","Error","error","Exception"]}[Ve];for(let je=0;je<nt.children.length;je++){const Me=nt.children[je],be=Me.tagName;if(fe.some(We=>be.includes(We)||be.toLowerCase().includes(We.toLowerCase()))){const We=qe.importNode(Me,!0);xt.appendChild(We)}}if(xt.children.length===0)return console.warn(`No matching elements found for ${Ve} mapping, returning original XML`),Pe;if(xt.children.length===1){const je=nt.tagName.toLowerCase();if(je==="sourcemessage"||je==="targetmessage"||je==="message"||je==="root"){const Me=xt.children[0],be=document.implementation.createDocument(null,Me.tagName,null),Re=be.importNode(Me,!0);return be.replaceChild(Re,be.documentElement),new XMLSerializer().serializeToString(be)}}return new XMLSerializer().serializeToString(qe)}catch(Je){return console.error("Error filtering XML by message type:",Je),Pe}};h.useEffect(()=>{if(d&&l&&c)try{const Pe=ge(l,u),Ve=ge(c,u),Je=$g(Pe),Qe=$g(Ve);f(Je),g(Qe),A(`Pre-converted XML (${u})`),L(`Pre-converted XML (${u})`),console.log(`Filtering XML for ${u} mapping:`,{originalSource:l,filteredSource:Pe,originalTarget:c,filteredTarget:Ve})}catch(Pe){console.error("Error parsing pre-converted XML:",Pe),ie({title:"XML Parse Error",description:Pe.message||"Failed to parse XML structures",variant:"destructive"})}else d||(async()=>{if(o&&i&&Q.length>0&&!S&&!M){const Ve=Q.filter(Qe=>Qe.usage==="source"||!Qe.usage),Je=Q.filter(Qe=>Qe.usage==="target"||!Qe.usage);Ve.length>0&&await Vn(Ve[0].name,!0),Je.length>0&&await Vn(Je[0].name,!1)}})()},[d,l,c,o,i,Q,u]);const Se=h.useCallback((Pe,Ve)=>{const Je=Qe=>Qe.map(nt=>nt.id===Pe?{...nt,expanded:!nt.expanded}:nt.children?{...nt,children:Je(nt.children)}:nt);Ve?f(Je):g(Je)},[]),Te=Pe=>{y(Pe)},Ne=()=>{y(null)},de=Pe=>{Pe.preventDefault()},oe=Pe=>{if(!v)return;const Ve=v.type==="array"||v.type==="object",Je=Pe.type==="array"||Pe.type==="object",Qe=Ve&&Je,nt=p.findIndex(qe=>qe.targetPath===Pe.path);if(nt>=0){const qe=p[nt],xt={...qe,sourceFields:[...qe.sourceFields,v.name],sourcePaths:[...qe.sourcePaths,v.path]},ee=[...p];ee[nt]=xt,w(ee)}else{const qe={id:`mapping_${Date.now()}`,name:`${v.name}_to_${Pe.name}`,sourceFields:[v.name],targetField:Pe.name,sourcePaths:[v.path],targetPath:Pe.path,...Qe&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}`,functionName:"nodeMapping",parameters:{sourceType:v.type,targetType:Pe.type,isArrayMapping:v.type==="array"||Pe.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};w(xt=>[...xt,qe]),Qe&&ie({title:"Node Mapping Created",description:`Created ${v.type} to ${Pe.type} mapping. This will map all child fields.`})}y(null)},we=Pe=>{w(Ve=>Ve.filter(Je=>Je.id!==Pe))},ot=()=>{w([])},zt=Pe=>Pe.name.replace(/\[\]$/,"").split(".").pop()||Pe.name,qt=(Pe,Ve=[])=>(Pe.forEach(Je=>{Ve.push(Je),Je.children&&qt(Je.children,Ve)}),Ve),$t=()=>{if(!m.length||!x.length){ie({title:"Cannot auto-map",description:"Please select both source and target structures first",variant:"destructive"});return}const Pe=[],Ve=new Set(p.map(qe=>qe.targetPath));if(_&&W){const qe=(_.type==="array"||_.type==="object")&&_.children&&_.children.length>0,xt=(W.type==="array"||W.type==="object")&&W.children&&W.children.length>0;if(qe&&xt){let ee=0;if(!Ve.has(W.path)){const Me={id:`mapping_${Date.now()}_${Math.random()}`,name:`${_.name}_to_${W.name}`,sourceFields:[_.name],targetField:W.name,sourcePaths:[_.path],targetPath:W.path,javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:_.type,targetType:W.type,isArrayMapping:_.type==="array"||W.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}};Pe.push(Me),Ve.add(W.path),ee++}const fe=qt(_.children||[]),De=qt(W.children||[]),je=new Map;De.forEach(Me=>{const be=zt(Me);je.has(be)||je.set(be,[]),je.get(be).push(Me)}),fe.forEach(Me=>{const be=zt(Me),Re=je.get(be)||[],We=Re.find(cs=>!Ve.has(cs.path)&&cs.type===Me.type)||Re.find(cs=>!Ve.has(cs.path));if(We){const cs=(Me.type==="array"||Me.type==="object")&&(We.type==="array"||We.type==="object"),Vt={id:`mapping_${Date.now()}_${Math.random()}`,name:`${Me.name}_to_${We.name}`,sourceFields:[Me.name],targetField:We.name,sourcePaths:[Me.path],targetPath:We.path,...cs&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:Me.type,targetType:We.type,isArrayMapping:Me.type==="array"||We.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};Pe.push(Vt),Ve.add(We.path),ee++}}),ee>0?(w(Me=>[...Me,...Pe]),ie({title:"Node mapping complete",description:`Created ${ee} mappings for matching fields within selected nodes`})):ie({title:"No matching fields found",description:"Could not find any matching field names within the selected nodes",variant:"destructive"}),B(null),te(null)}else if(Ve.has(W.path))ie({title:"Target already mapped",description:"The selected target field is already mapped",variant:"destructive"});else{const ee={id:`mapping_${Date.now()}_${Math.random()}`,name:`${_.name}_to_${W.name}`,sourceFields:[_.name],targetField:W.name,sourcePaths:[_.path],targetPath:W.path};w(fe=>[...fe,ee]),ie({title:"Mapping created",description:`Mapped ${_.name} to ${W.name}`}),B(null),te(null)}return}const Je=qt(m),Qe=qt(x),nt=new Map;Qe.forEach(qe=>{const xt=zt(qe);nt.has(xt)||nt.set(xt,[]),nt.get(xt).push(qe)}),Je.forEach(qe=>{const xt=zt(qe),ee=nt.get(xt)||[],fe=ee.find(De=>!Ve.has(De.path)&&De.type===qe.type)||ee.find(De=>!Ve.has(De.path));if(fe){const De=(qe.type==="array"||qe.type==="object")&&(fe.type==="array"||fe.type==="object"),je={id:`mapping_${Date.now()}_${Math.random()}`,name:`${qe.name}_to_${fe.name}`,sourceFields:[qe.name],targetField:fe.name,sourcePaths:[qe.path],targetPath:fe.path,...De&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:qe.type,targetType:fe.type,isArrayMapping:qe.type==="array"||fe.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};Pe.push(je),Ve.add(fe.path)}}),Pe.length>0?(w(qe=>[...qe,...Pe]),ie({title:"Auto-mapping complete",description:`Created ${Pe.length} automatic mappings`})):ie({title:"No matching fields found",description:"Could not find any matching field names between source and target",variant:"destructive"})},Vn=async(Pe,Ve)=>{const Je=Q.find(Qe=>Qe.name===Pe);if(!(!Je||!Je.id))try{Ve?R(!0):H(!0);const nt=(await yj(Je.id,{rootElementName:Je.name.replace(/\s+/g,""),includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0,preserveNullValues:!1})).xmlContent;let qe;try{qe=$g(nt)}catch(xt){throw console.error("Error parsing XML:",xt),console.error("XML content that failed to parse:",nt),xt}Ve?(A(Pe),f(qe),I(!1)):(L(Pe),g(qe),O(!1)),ie({title:"Structure converted to XML",description:`${Pe} has been converted to XML format for mapping`})}catch(Qe){console.error("Error converting structure to XML:",Qe),ie({title:"Conversion failed",description:Qe.message||"Failed to convert structure to XML",variant:"destructive"})}finally{Ve?R(!1):H(!1)}},yo=(Pe,Ve)=>{w(Je=>Je.map(Qe=>Qe.id===Pe?{...Qe,...Ve}:Qe))},Ir=Pe=>{w(Ve=>[...Ve,Pe])};return s.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[s.jsx("div",{className:"border-b",children:s.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),s.jsx(V,{id:"mappingName",placeholder:"Enter mapping name",value:k,onChange:Pe=>C(Pe.target.value),className:"w-64"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{variant:"outline",onClick:$t,className:"hover-scale",disabled:!m.length||!x.length,children:[s.jsx(Pn,{className:"h-4 w-4 mr-2"}),_&&W?"Map Selected":"Map All"]}),s.jsxs(z,{variant:"outline",onClick:ot,className:"text-destructive hover:text-destructive hover-scale",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),p.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",onClick:()=>ue(!0),className:"hover-scale",children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"Test Mapping"]}),s.jsxs(z,{onClick:()=>t?.(p,k),className:"hover-scale",disabled:!k.trim(),children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Save Mappings"]})]}),s.jsxs(z,{variant:"outline",onClick:e,className:"hover-scale",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),s.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[s.jsx(KX,{fields:m,mappings:p,selectedService:S,searchValue:j,showSelector:!d&&F,selectedField:_,onSearchChange:N,onShowSelectorChange:I,onSelectService:Pe=>Vn(Pe,!0),onToggleExpanded:Se,onDragStart:Te,onDragEnd:Ne,onSelectField:B,isLoading:P,hideSelector:d}),s.jsx(Yse,{mappings:p,sourceFields:m,targetFields:x,onRemoveMapping:we,onUpdateMapping:yo,onCreateMapping:Ir}),s.jsx(GX,{fields:x,mappings:p,selectedService:M,searchValue:b,showSelector:!d&&U,selectedField:W,onSearchChange:T,onShowSelectorChange:O,onSelectService:Pe=>Vn(Pe,!1),onToggleExpanded:Se,onDragOver:de,onDrop:oe,onSelectField:te,isLoading:$,hideSelector:d})]}),s.jsx(Xse,{open:le,onOpenChange:ue,mappings:p,mappingName:k,mappingType:u,sourceXml:l,targetXml:c})]})}const Vg=e=>{const t=e.toUpperCase();return t.includes("JDBC")?xs:t.includes("HTTP")||t.includes("REST")?gr:t.includes("SOAP")?on:t.includes("MAIL")?vu:t.includes("FILE")||t.includes("FTP")?Ps:vf};function bE(){Ls();const e=Zs(),{flowId:t}=R0(),{navigateBack:n,isDirectNavigation:r}=mc(),{toast:a}=Be(),{user:o}=Mr(),[i,l]=h.useState(!1),c=e.state?.flow||null,[d,u]=h.useState(""),[m,f]=h.useState(""),[x,g]=h.useState(""),[p,w]=h.useState(""),[v,y]=h.useState(""),[j,N]=h.useState(""),[b,T]=h.useState(""),[S,A]=h.useState(""),[M,L]=h.useState(!0),[F,I]=h.useState(!1);console.log("=== INITIAL TOGGLE STATES ==="),console.log("Initial mappingRequired:",!0),console.log("Initial skipXmlConversion:",!1);const[U,O]=h.useState([]),[k,C]=h.useState(!0),[P,R]=h.useState([]),[$,H]=h.useState(null),[_,B]=h.useState(""),[W,te]=h.useState([]),[le,ue]=h.useState([]),[Q,ie]=h.useState([]),[ge,Se]=h.useState(!0),[Te,Ne]=h.useState(!1),[de,oe]=h.useState(!1),[we,ot]=h.useState(""),[zt,qt]=h.useState(""),[$t,Vn]=h.useState("request");oO(()=>{u(""),f(""),g(""),w(""),y(""),N(""),T(""),A(""),L(!0),O([]),C(!0),R([]),l(!1),ot(""),qt("")}),h.useEffect(()=>{console.log("Business components state updated:",W)},[W]),h.useEffect(()=>{Ir()},[]),h.useEffect(()=>{(c||t)&&Pe()},[c,t]),h.useEffect(()=>{const ee=async fe=>{if(fe&&!e.pathname.includes("/edit"))try{const De=Q.find(Me=>Me.id===fe);if(!De||De.type!=="wsdl")return;const je=await J.get(`/structures/${fe}`);if(console.log("Structure response:",je.data),je.data){let Me=null;if(typeof je.data.structure=="string"&&je.data.structure.includes("wsdl:"))Me=je.data.structure;else if(je.data.namespace)je.data.namespace.schemaLocation&&je.data.namespace.schemaLocation.includes("wsdl:")?Me=je.data.namespace.schemaLocation:typeof je.data.namespace=="string"&&je.data.namespace.includes("wsdl:")&&(Me=je.data.namespace);else if(je.data.tags&&Array.isArray(je.data.tags)){const be=je.data.tags.find(Re=>Re.includes("wsdl:"));be&&(Me=be)}if(je.data.metadata?.operationInfo){const be=je.data.metadata.operationInfo;if(H(be),be.isSynchronous){C(!1),a({title:"Synchronous Service Detected",description:`This WSDL structure defines a synchronous service with ${be.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Re=[];be.hasOutput&&Re.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),be.hasFault&&Re.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Re.length>0&&P.length===0&&(R(Re),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Re.map(We=>We.name).join(" and ")}. Please configure each mapping.`}));return}}else if(!Me&&je.data.structure&&typeof je.data.structure=="object"){const be=Object.keys(je.data.structure),Re=be.some(Vt=>Vt.toLowerCase().includes("req")||Vt.toLowerCase().includes("request")||Vt.toLowerCase().includes("_mt")),We=be.some(Vt=>Vt.toLowerCase().includes("resp")||Vt.toLowerCase().includes("response")),cs=be.some(Vt=>Vt.toLowerCase().includes("fault")||Vt.toLowerCase().includes("error"));if(Re&&We){H({hasInput:Re,hasOutput:We,hasFault:cs,isSynchronous:!0,messageTypes:["input","output",...cs?["fault"]:[]]}),C(!1),a({title:"Synchronous Service Detected",description:"This structure appears to define a synchronous service with request and response messages. The flow has been switched to synchronous mode."});const Vt=[];We&&Vt.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),cs&&Vt.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Vt.length>0&&P.length===0&&(R(Vt),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Vt.map(bi=>bi.name).join(" and ")}. Please configure each mapping.`}));return}}if(Me){const be=jp(Me);if(be&&be.operationInfo&&(H(be.operationInfo),be.operationInfo.isSynchronous)){C(!1),a({title:"Synchronous Service Detected",description:`This WSDL defines a synchronous service with ${be.operationInfo.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Re=[];be.operationInfo.hasOutput&&Re.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),be.operationInfo.hasFault&&Re.push({id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Re.length>0&&P.length===0&&(R(Re),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Re.map(We=>We.name).join(" and ")}. Please configure each mapping.`}))}}}}catch(De){console.error("Error analyzing WSDL structure:",De)}};b&&ee(b),S&&ee(S)},[b,S,Q,a]),h.useEffect(()=>{console.log("State updated - additionalMappings:",P),P.forEach((ee,fe)=>{console.log(`  Mapping ${fe}: messageType=${ee.messageType}, fieldMappings.length=${ee.fieldMappings?.length||0}`)}),console.log("State updated - isAsynchronous:",k),console.log("State updated - mappingRequired:",M)},[P,k,M]);const Ir=async()=>{try{Se(!0);const ee=await Wr.getAllBusinessComponents();console.log("Business components result:",ee),ee.success&&ee.data?(te(ee.data),console.log("Set business components:",ee.data)):(console.error("Failed to load business components:",ee.error),console.error("Business result full object:",ee));try{const fe=await J.get("/adapters");fe.data&&ue(fe.data)}catch(fe){console.warn("Could not load adapters:",fe),ue([])}try{const fe=await J.get("/structures");if(fe.data){const De=Array.isArray(fe.data)?fe.data:fe.data.structures||[];ie(De)}}catch(fe){console.warn("Could not load data structures:",fe),ie([])}}catch(ee){console.error("Error loading component data:",ee),a({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{Se(!1)}},Pe=async()=>{try{let ee=c;if(!ee&&t){const fe=await J.get(`/flows/${t}`);fe.data&&(ee=fe.data)}if(ee){u(ee.name||""),f(ee.description||""),ee.businessComponentId&&(g(ee.businessComponentId),w(ee.businessComponentId));try{if(ee.configuration){const fe=JSON.parse(ee.configuration);console.log("Flow configuration:",fe),fe.sourceBusinessComponentId&&(console.log("Setting source business component from config:",fe.sourceBusinessComponentId),g(fe.sourceBusinessComponentId)),fe.targetBusinessComponentId&&(console.log("Setting target business component from config:",fe.targetBusinessComponentId),w(fe.targetBusinessComponentId))}}catch(fe){console.error("Error parsing flow configuration:",fe)}ee.sourceAdapterId&&y(ee.sourceAdapterId),ee.targetAdapterId&&N(ee.targetAdapterId),ee.sourceStructureId&&T(ee.sourceStructureId),ee.targetStructureId&&A(ee.targetStructureId),ee.mappingMode==="PASS_THROUGH"?(C(!0),L(!1),I(!0),console.log("Loading PASS_THROUGH flow: mappingRequired=false, skipXmlConversion=true")):ee.mappingMode==="WITH_MAPPING"?(C(!1),L(!0),I(!1),console.log("Loading WITH_MAPPING flow: mappingRequired=true, skipXmlConversion=false")):(C(!1),L(!0),I(!1));try{const fe=await J.get(`/flows/${ee.id}/transformations`);if(fe.data&&Array.isArray(fe.data)){const De=fe.data.sort((Me,be)=>Me.executionOrder-be.executionOrder),je=[];for(let Me=0;Me<De.length;Me++){const be=De[Me];if(be.type==="FIELD_MAPPING"){const Re=await J.get(`/transformations/${be.id}/mappings`);if(Re.data&&Array.isArray(Re.data)){let We,cs={};try{cs=JSON.parse(be.configuration||"{}"),console.log("Transformation config:",cs),cs.mappingType?We=cs.mappingType:Me===0?We="request":ee.mappingMode==="PASS_THROUGH"?We="fault":We=Me===1?"response":"fault"}catch(rs){console.error("Error parsing transformation config:",rs),We=Me===0?"request":Me===1?"response":"fault"}let Vt=be.name||"";console.log(`Transformation ${Me}: name="${be.name}", executionOrder=${be.executionOrder}, messageType: ${We}`);const bi=Re.data.map(rs=>{try{const jo={...rs,sourceFields:typeof rs.sourceFields=="string"?JSON.parse(rs.sourceFields):rs.sourceFields||[]};if(rs.visualFlowData)try{jo.visualFlowData=typeof rs.visualFlowData=="string"?JSON.parse(rs.visualFlowData):rs.visualFlowData}catch(jc){console.error("Error parsing visualFlowData:",jc)}if(rs.functionNode)try{jo.functionNode=typeof rs.functionNode=="string"?JSON.parse(rs.functionNode):rs.functionNode}catch(jc){console.error("Error parsing functionNode:",jc)}return jo}catch(jo){return console.error("Error parsing sourceFields for mapping:",rs,jo),{...rs,sourceFields:[]}}});We==="request"?(O(bi),B(Vt||"Request Mapping")):je.push({id:be.id,name:Vt||(We==="response"?"Response Mapping":"Fault Mapping"),fieldMappings:bi,messageType:We})}}}je.length>0&&R(je)}}catch(fe){console.error("Error loading transformations and mappings:",fe)}}}catch(ee){console.error("Error loading flow data:",ee),a({title:"Error",description:"Failed to load flow data for editing.",variant:"destructive"})}},Ve=ee=>{y(ee);const fe=le.find(je=>je.id===ee);if(!fe)return;const De=fe.configuration;if(De&&typeof De=="object"){const je=De.transformationConfig;je?.mode==="passthrough"?(L(!1),T(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):je?.dataStructureId&&(T(je.dataStructureId),L(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}Qe(fe,j)},Je=ee=>{N(ee);const fe=le.find(je=>je.id===ee);if(!fe)return;const De=fe.configuration;if(De&&typeof De=="object"){const je=De.transformationConfig;je?.mode==="passthrough"?(L(!1),A(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):je?.dataStructureId&&(A(je.dataStructureId),L(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}Qe(v,fe)},Qe=(ee,fe)=>{const De=typeof ee=="string"?le.find(Re=>Re.id===ee):ee,je=typeof fe=="string"?le.find(Re=>Re.id===fe):fe;if(!De||!je)return;const Me=De.type?.toUpperCase(),be=je.type?.toUpperCase();if(["HTTP","HTTPS","REST"].includes(Me)||["HTTP","HTTPS","REST"].includes(be)){const Re=De.configuration,We=je.configuration;(Re?.expectsResponse||We?.expectsResponse)&&(C(!1),a({title:"Synchronous Mode Detected",description:"Flow mode set to synchronous based on adapter configuration."}))}},nt=()=>{n("/dashboard")},qe=async(ee,fe)=>{if(!d.trim()){a({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!v||!j){a({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}if(M&&U.length>0&&!_.trim()){a({title:"Validation Error",description:"Please provide a name for the request mapping.",variant:"destructive"});return}if(!k&&P.length>0&&P.filter(je=>!je.name?.trim()).length>0){a({title:"Validation Error",description:"Please provide names for all mappings.",variant:"destructive"});return}try{Ne(!0);const De=M&&(ee||U)?(ee||U).map((be,Re)=>({sourceFields:JSON.stringify(be.sourceFields||[]),targetField:be.targetField||be.targetPath||"",javaFunction:be.javaFunction||be.functionNode?.javaFunction||null,mappingRule:be.mappingRule||null,functionName:be.functionNode?.functionName||null,isActive:!0,isArrayMapping:be.functionNode?.functionName==="nodeMapping"||!1,arrayContextPath:be.functionNode?.parameters?.arrayContextPath||null,sourceXPath:be.functionNode?.parameters?.sourceXPath||null,targetXPath:be.functionNode?.parameters?.targetXPath||null,visualFlowData:be.visualFlowData?JSON.stringify(be.visualFlowData):null,functionNode:be.functionNode?JSON.stringify(be.functionNode):null,mappingOrder:Re})):[],je={flowName:d.trim(),description:m.trim(),sourceBusinessComponentId:x||null,targetBusinessComponentId:p||null,sourceAdapterId:v,targetAdapterId:j,sourceStructureId:b||null,targetStructureId:S||null,createdBy:o?.id||o?.username||"unknown",skipXmlConversion:F,mappingMode:M?"WITH_MAPPING":"PASS_THROUGH",requestMappingName:_||(d?`${d} Request`:"Request Mapping"),fieldMappings:De,additionalMappings:!k&&P.length>0?P.map(be=>({name:be.name,fieldMappings:be.fieldMappings.map((Re,We)=>({sourceFields:JSON.stringify(Re.sourceFields||[]),targetField:Re.targetField||Re.targetPath||"",javaFunction:Re.javaFunction||Re.functionNode?.javaFunction||null,mappingRule:Re.mappingRule||null,functionName:Re.functionNode?.functionName||null,isActive:!0,isArrayMapping:Re.functionNode?.functionName==="nodeMapping"||!1,arrayContextPath:Re.functionNode?.parameters?.arrayContextPath||null,sourceXPath:Re.functionNode?.parameters?.sourceXPath||null,targetXPath:Re.functionNode?.parameters?.targetXPath||null,visualFlowData:Re.visualFlowData?JSON.stringify(Re.visualFlowData):null,functionNode:Re.functionNode?JSON.stringify(Re.functionNode):null,mappingOrder:We}))})):[]};console.log("=== FLOW SAVE DEBUG ==="),console.log("mappingRequired state:",M),console.log("skipXmlConversion state:",F),console.log("Calculated mappingMode:",M?"WITH_MAPPING":"PASS_THROUGH"),console.log("Full flow request:",JSON.stringify(je,null,2)),(await J.post("/flow-composition/direct-mapping",je)).data&&(a({title:"Success",description:`Integration flow "${d}" has been created successfully.`}),n("/dashboard"))}catch(De){console.error("Error saving flow:",De),console.error("Error response:",De.response),De.response&&(console.error("Response status:",De.response.status),console.error("Response data:",De.response.data),console.error("Response headers:",De.response.headers));let je="Failed to save the integration flow. Please try again.";De.message?je=De.message:De.response?.data?.message?je=De.response.data.message:De.response?.data&&typeof De.response.data=="string"&&(je=De.response.data),je.includes("already exists")&&(je=`${je} Please choose a different name.`),a({title:"Save Failed",description:je,variant:"destructive"})}finally{Ne(!1)}},xt=async(ee="request")=>{if(!b||!S){a({title:"Validation Error",description:"Please select both source and target data structures.",variant:"destructive"});return}try{oe(!0),Vn(ee);const[fe,De]=await Promise.all([yj(b,{rootElementName:"SourceMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0}),yj(S,{rootElementName:"TargetMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0})]);ot(fe.xmlContent),qt(De.xmlContent),l(!0)}catch(fe){console.error("Error converting structures:",fe);const De=fe.response?.data?.details||fe.response?.data?.error||fe.message||"Failed to convert structures to XML";console.error("Error details:",fe.response?.data),a({title:"Conversion Failed",description:De,variant:"destructive"})}finally{oe(!1)}};return i?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"w-full px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"gap-2",children:[s.jsx(Sy,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",d]}),s.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",v," and ",j]})]})]})})}),s.jsx(ON,{onClose:()=>l(!1),onSave:(ee,fe)=>{if($t==="request")O(ee),fe&&B(fe);else{const De=$t==="response"?"response":$t;R(je=>{const Me=je.findIndex(be=>be.messageType===De);if(Me>=0){const be=[...je];return be[Me]={...be[Me],fieldMappings:ee,name:fe||be[Me].name},be}return je})}l(!1),a({title:"Mappings Saved",description:`${ee.length} ${$t} mappings have been configured.`})},initialMappingName:$t==="request"?_||(d?`${d} Request`:""):P.find(fe=>fe.messageType===($t==="response"?"response":"fault"))?.name||(d?`${d} ${$t.charAt(0).toUpperCase()+$t.slice(1)}`:""),initialMappings:(()=>{if($t==="request")return U;const ee=$t==="response"?"response":$t;return P.find(De=>De.messageType===ee)?.fieldMappings||[]})(),sourceAdapterType:v,targetAdapterType:j,sourceXml:we,targetXml:zt,preConverted:!0,mappingType:$t})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(z,{variant:"ghost",size:"sm",onClick:nt,className:"gap-2",children:[s.jsx(Sy,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t?"Edit Integration Flow":"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:t?"Modify the configuration of your integration flow":"Design and configure a new message integration flow"})]})]})})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(q,{className:"animate-scale-in",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Flow Details"}),s.jsx(xe,{children:"Configure the basic information for your integration flow"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"flowName",children:"Flow Name *"}),s.jsx(V,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:d,onChange:ee=>{const fe=ee.target.value;u(fe),(!_||_===`${d} Request`||_==="Request Mapping")&&B(fe?`${fe} Request`:"")},className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",placeholder:"Describe what this integration flow does...",value:m,onChange:ee=>f(ee.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"async-mode",className:"text-base",children:"Processing Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k?"Asynchronous - Process messages in the background":"Synchronous - Wait for processing to complete before responding"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm ${k?"text-muted-foreground":"font-medium"}`,children:"Sync"}),s.jsx(ct,{id:"async-mode",checked:k,onCheckedChange:C}),s.jsx("span",{className:`text-sm ${k?"font-medium":"text-muted-foreground"}`,children:"Async"})]})]}),!k&&s.jsx("div",{className:"mt-3 p-3 bg-muted rounded-md",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Synchronous mode allows multiple field mappings to be configured for complex transformations."]})})]})]})]}),s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Source & Target Configuration"}),s.jsx(xe,{children:"Select the source and target systems for your integration"})]}),s.jsx(Z,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Business Component *"}),s.jsxs(K,{value:x,onValueChange:g,disabled:ge,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select source business component"})}),s.jsx(X,{children:W.map(ee=>s.jsx(D,{value:ee.id,children:ee.name},ee.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Adapter *"}),s.jsxs(K,{value:v,onValueChange:Ve,disabled:ge,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select source system"})}),s.jsx(X,{children:le.filter(ee=>ee.mode==="SENDER").map(ee=>{const fe=Vg(ee.type||ee.name);return s.jsx(D,{value:ee.id||ee.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"h-4 w-4"}),ee.name]})},ee.id||ee.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Data Structure *"}),s.jsxs(K,{value:b,onValueChange:T,disabled:ge||!x,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select source structure"})}),s.jsx(X,{children:(Array.isArray(Q)?Q:[]).filter(ee=>ee.usage==="source"||!ee.usage).map(ee=>s.jsx(D,{value:ee.id,children:ee.name},ee.id))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Business Component *"}),s.jsxs(K,{value:p,onValueChange:w,disabled:ge,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select target business component"})}),s.jsx(X,{children:W.map(ee=>s.jsx(D,{value:ee.id,children:ee.name},ee.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Adapter *"}),s.jsxs(K,{value:j,onValueChange:Je,disabled:ge,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select target system"})}),s.jsx(X,{children:le.filter(ee=>ee.mode==="RECEIVER").map(ee=>{const fe=Vg(ee.type||ee.name);return s.jsx(D,{value:ee.id||ee.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"h-4 w-4"}),ee.name]})},ee.id||ee.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Data Structure *"}),s.jsxs(K,{value:S,onValueChange:A,disabled:ge||!p,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:ge?"Loading...":"Select target structure"})}),s.jsx(X,{children:(Array.isArray(Q)?Q:[]).filter(ee=>ee.usage==="target"||!ee.usage).map(ee=>s.jsx(D,{value:ee.id,children:ee.name},ee.id))})]})]})]})]})]})})]}),s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Transformations"}),s.jsx(xe,{children:"Configure field mapping between source and target"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"mapping-required",className:"text-base",children:"Mapping Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if field mapping is needed between source and target"})]}),s.jsx(ct,{id:"mapping-required",checked:M,onCheckedChange:ee=>{console.log("Mapping Required toggle changed to:",ee),L(ee),I(!ee),console.log("Skip XML Conversion automatically set to:",!ee)}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"skip-xml-conversion",className:"text-base",children:"Direct File Passthrough"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip XML conversion for direct file transfers (improved performance)"})]}),s.jsx(ct,{id:"skip-xml-conversion",checked:F,onCheckedChange:ee=>{console.log("Direct File Passthrough toggle changed to:",ee),I(ee),L(!ee),console.log("Mapping Required automatically set to:",!ee)}})]}),M&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t pt-6",children:s.jsx("div",{className:"space-y-4",children:k?s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Field Mapping"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.length>0?`${U.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:xt,disabled:!M||!x||!p||!v||!j||!b||!S||de,children:"Configure"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Request Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Request"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.length>0?`${U.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>xt("request"),disabled:!M||!x||!p||!v||!j||!b||!S||de,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Response Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Response"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const ee=P.find(fe=>fe.messageType==="response");return ee?.fieldMappings?.length>0?`${ee.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>{if(!P.find(fe=>fe.messageType==="response")){const fe={id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"};R([...P,fe])}xt("response")},disabled:!M||!x||!p||!v||!j||!b||!S||de,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Fault Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-destructive/10 text-destructive rounded-md mr-2",children:"Fault"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const ee=P.find(fe=>fe.messageType==="fault");return ee?.fieldMappings?.length>0?`${ee.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>{if(!P.find(fe=>fe.messageType==="fault")){const fe={id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"};R([...P,fe])}xt("fault")},disabled:!M||!x||!p||!v||!j||!b||!S||de,children:"Configure"})]})})]})})}),M?(!b||!S)&&s.jsx("p",{className:"text-sm text-orange-600 text-center",children:"Please select both source and target data structures to enable mapping"}):s.jsx("p",{className:"text-sm text-blue-600 text-center",children:"Mapping is disabled in passthrough mode. Data will be transferred without transformation."})]}),!M&&s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"Pass-through mode enabled - data will flow without transformation"})})]})]})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(HX,{onSaveFlow:()=>qe(),isLoading:Te,disabled:ge||!d.trim()||!v||!j}),s.jsx(zX,{sourceAdapter:v,targetAdapter:j,sourceStructure:b,targetStructure:S,selectedTransformations:[],adapters:le.map(ee=>({id:ee.id||ee.name,name:ee.name,icon:Vg(ee.type||ee.name),category:ee.type||"General"})),sampleStructures:Q}),s.jsx(qX,{}),ge&&s.jsx(q,{children:s.jsx(Z,{className:"flex items-center justify-center py-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ht,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}var IN="Checkbox",[Kse,yve]=Qs(IN),[Gse,Jse]=Kse(IN),$I=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[f,x]=h.useState(null),g=$e(t,N=>x(N)),p=h.useRef(!1),w=f?u||!!f.closest("form"):!0,[v=!1,y]=Fn({prop:a,defaultProp:o,onChange:d}),j=h.useRef(v);return h.useEffect(()=>{const N=f?.form;if(N){const b=()=>y(j.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[f,y]),s.jsxs(Gse,{scope:n,state:v,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Ya(v)?"mixed":v,"aria-required":i,"data-state":BI(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onKeyDown:ye(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ye(e.onClick,N=>{y(b=>Ya(b)?!0:!b),w&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),w&&s.jsx(Qse,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Ya(o)?!1:o})]})});$I.displayName=IN;var VI="CheckboxIndicator",UI=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,o=Jse(VI,n);return s.jsx(ls,{present:r||Ya(o.state)||o.state===!0,children:s.jsx(Ae.span,{"data-state":BI(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});UI.displayName=VI;var Qse=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...o}=e,i=h.useRef(null),l=Yf(n),c=bf(t);h.useEffect(()=>{const u=i.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&x){const g=new Event("click",{bubbles:r});u.indeterminate=Ya(n),x.call(u,Ya(n)?!1:n),u.dispatchEvent(g)}},[l,n,r]);const d=h.useRef(Ya(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ya(e){return e==="indeterminate"}function BI(e){return Ya(e)?"indeterminate":e?"checked":"unchecked"}var HI=$I,Zse=UI;const Ze=h.forwardRef(({className:e,...t},n)=>s.jsx(HI,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Zse,{className:re("flex items-center justify-center text-current"),children:s.jsx(ec,{className:"h-4 w-4"})})}));Ze.displayName=HI.displayName;class ene{async getAdapters(t){try{const n=t?`/adapter-monitoring/status?businessComponentId=${t}`:"/adapter-monitoring/status",r=await J.get(n);return r.success&&r.data?{success:!0,data:r.data.map(o=>({id:o.id,name:o.name,type:o.type,mode:o.mode,status:o.status,load:o.load||0,businessComponentId:o.businessComponentId,businessComponentName:o.businessComponentName,messagesProcessed:o.messagesProcessed||0,errorsCount:o.errorsCount||0,lastActivityTime:o.lastActivity,uptime:o.uptime}))}:r}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapters"}}}async getAdapterById(t){try{return await J.get(`/adapters/${t}`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter"}}}async createAdapter(t){try{return await J.post("/adapters",t)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to create adapter"}}}async updateAdapter(t,n){try{return await J.put(`/adapters/${t}`,n)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to update adapter"}}}async activateAdapter(t){try{const n=await J.post(`/adapters/${t}/activate`);if(n.success){const r=await J.get(`/adapter-monitoring/status/${t}`);if(r.success&&r.data){const a=r.data;return{success:!0,data:{id:a.id,name:a.name,type:a.type,mode:a.mode,status:a.status,load:a.load||0,businessComponentId:a.businessComponentId,businessComponentName:a.businessComponentName,messagesProcessed:a.messagesProcessed||0,errorsCount:a.errorsCount||0,lastActivityTime:a.lastActivity,uptime:a.uptime}}}}return n}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to activate adapter"}}}async deactivateAdapter(t){try{const n=await J.post(`/adapters/${t}/deactivate`);if(n.success){const r=await J.get(`/adapter-monitoring/status/${t}`);if(r.success&&r.data){const a=r.data;return{success:!0,data:{id:a.id,name:a.name,type:a.type,mode:a.mode,status:a.status,load:a.load||0,businessComponentId:a.businessComponentId,businessComponentName:a.businessComponentName,messagesProcessed:a.messagesProcessed||0,errorsCount:a.errorsCount||0,lastActivityTime:a.lastActivity,uptime:a.uptime}}}}return n}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to deactivate adapter"}}}async deleteAdapter(t){try{return await J.delete(`/adapters/${t}`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to delete adapter"}}}async getAdapterLogs(t,n){try{const r=new URLSearchParams;r.append("page","0"),r.append("size",n?.limit?.toString()||"50"),n?.level?.length&&r.append("level",n.level.join(",")),n?.dateFrom&&r.append("dateFrom",n.dateFrom),n?.dateTo&&r.append("dateTo",n.dateTo),n?.search&&r.append("search",n.search);const a=r.toString()?`?${r.toString()}`:"",o=await J.get(`/adapters/${t}/logs${a}`);return o.success&&o.data?{success:!0,data:(o.data.content||[]).map(c=>({id:c.id,timestamp:c.timestamp,level:(c.level||"INFO").toLowerCase(),message:c.message,adapterId:t,details:c.details?typeof c.details=="string"?JSON.parse(c.details):c.details:void 0,adapterName:c.sourceName,correlationId:c.correlationId,duration:void 0}))}:o}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch adapter logs"}}}async getAvailableAdapterTypes(){try{return await J.get("/admin/adapter-types")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapter types"}}}async testAdapterConnection(t){try{return await J.post(`/adapters/${t}/test`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to test adapter connection"}}}}const To=new ene,fo=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0);h.useEffect(()=>{a()},[]);const a=async()=>{try{console.log("Loading businessComponent data...");const l=await Wr.getAllBusinessComponents();if(l.success&&l.data){console.log("API businessComponents loaded:",l.data);const c=Array.isArray(l.data)?l.data:[];console.log(`API returned ${c.length} business components`),t(c)}else console.log("API failed, showing empty business components list"),t([])}catch(l){console.error("Error loading business components:",l),t([])}finally{r(!1)}};return{businessComponents:e,loading:n,getAdaptersForBusinessComponent:async l=>{try{const c=await To.getAdapters(l);if(c.success&&c.data&&Array.isArray(c.data)){const d=c.data.map(u=>u?.id).filter(u=>u!=null);return[...new Set(d)]}}catch(c){console.error("Error getting adapters for business component:",c)}return[]},getStructuresForBusinessComponent:async l=>{try{const c=await yn.getStructures();if(c.success&&c.data){const d=c.data.structures||c.data;return Array.isArray(d)?d.filter(u=>!u||typeof u!="object"?(console.warn("Invalid structure object:",u),!1):u.businessComponentId===l).map(u=>u.id).filter(u=>u!=null):(console.warn("Structures is not an array:",d),[])}}catch(c){console.error("Error getting structures for business component:",c)}return[]},refreshData:a}},tne=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:c,onSourceAdapterChange:d,onTargetAdapterChange:u,onSourceAdapterActiveChange:m,onTargetAdapterActiveChange:f})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i});const{businessComponents:x,loading:g,getAdaptersForBusinessComponent:p}=fo();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:x.length,loading:g});const w=S=>e.find(A=>A.id===S),[v,y]=h.useState([]);h.useEffect(()=>{t&&j(t)},[t]);const j=async S=>{const A=await p(S);y(A)},N=S=>S?e.filter(A=>v.includes(A.id)):e,b=async S=>{console.log("[AdapterConfigurationCard] Source business component changing:",S);try{l(S);const A=await p(S);console.log("[AdapterConfigurationCard] Available adapters for business component:",A),r&&!A.includes(r)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),d(""))}catch(A){console.error("[AdapterConfigurationCard] Error handling source business component change:",A)}},T=async S=>{c(S);const A=await p(S);a&&!A.includes(a)&&u("")};return s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Source & Target Configuration"}),s.jsx(xe,{children:"Select the source and target systems for your integration"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Source Business Component *"}),s.jsxs(K,{value:t,onValueChange:b,disabled:g,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:"Select source business component"})}),s.jsx(X,{children:x.map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(ce,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Source Adapter *"}),s.jsxs(K,{value:r,onValueChange:d,disabled:!t,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:"Select source system"})}),s.jsx(X,{children:N(t).map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),r&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:w(r)&&s.jsx(s.Fragment,{children:(()=>{const S=w(r),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),r&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"sourceAdapterActive",checked:o,onCheckedChange:S=>m(S===!0)}),s.jsxs(E,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",s.jsx(ce,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Target Business Component *"}),s.jsxs(K,{value:n,onValueChange:T,disabled:g,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:"Select target business component"})}),s.jsx(X,{children:x.map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(ce,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Target Adapter *"}),s.jsxs(K,{value:a,onValueChange:u,disabled:!n,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:"Select target system"})}),s.jsx(X,{children:N(n).map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),a&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:w(a)&&s.jsx(s.Fragment,{children:(()=>{const S=w(a),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"targetAdapterActive",checked:i,onCheckedChange:S=>f(S===!0)}),s.jsxs(E,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",s.jsx(ce,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]})]}),r&&a&&s.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(r)&&s.jsx(s.Fragment,{children:(()=>{const S=w(r),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})}),s.jsx(sp,{className:"h-6 w-6 text-primary animate-pulse"}),s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(a)&&s.jsx(s.Fragment,{children:(()=>{const S=w(a),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})]})})]})]})},sne=e=>{switch(e){case"start-process":return ho;case"http-sender":case"http-receiver":return gr;case"soap-sender":case"soap-receiver":return yu;case"rest-sender":case"rest-receiver":return wt;default:return Ik}},nne=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Ss=({id:e,data:t,selected:n})=>{console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=Fr(),[l,c]=h.useState(t.adapterConfig?.sourceBusinessComponent||""),[d,u]=h.useState(t.adapterConfig?.targetBusinessComponent||""),[m,f]=h.useState(t.adapterType),[x,g]=h.useState(t.adapterConfig?.targetAdapter||""),[p,w]=h.useState(t.adapterConfig?.sourceAdapterActive||!0),[v,y]=h.useState(t.adapterConfig?.targetAdapterActive||!1),j=sne(t.adapterType),N=nne(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:r});const T=()=>{o(S=>S.filter(A=>A.id!==e)),i(S=>S.filter(A=>A.source!==e&&A.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(q,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(z,{variant:"ghost",size:"sm",onClick:T,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"h-5 w-5 text-white"}),s.jsx(ne,{className:"text-sm font-medium text-white",children:N})]}),s.jsx(ce,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs(z,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:S=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),S.stopPropagation(),S.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch(A){console.error("[AdapterNode] Error opening dialog:",A)}},onMouseDown:S=>{console.log("[AdapterNode] Configure button mousedown"),S.stopPropagation()},children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(mt,{open:r,onOpenChange:S=>{console.log("[AdapterNode] Dialog state changing:",{open:S,id:e}),a(S)},children:s.jsxs(ut,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(pt,{children:s.jsxs(ft,{children:["Configure ",N]})}),s.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),s.jsx(tne,{adapters:[{id:t.adapterType,name:N,icon:j,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:d,sourceAdapter:m,targetAdapter:x,sourceAdapterActive:p,targetAdapterActive:v,onSourceBusinessComponentChange:S=>{console.log("[AdapterNode] Source business component changed:",S),c(S)},onTargetBusinessComponentChange:S=>{console.log("[AdapterNode] Target business component changed:",S),u(S)},onSourceAdapterChange:S=>{console.log("[AdapterNode] Source adapter changed:",S),f(S)},onTargetAdapterChange:S=>{console.log("[AdapterNode] Target adapter changed:",S),g(S)},onSourceAdapterActiveChange:S=>{console.log("[AdapterNode] Source adapter active changed:",S),w(S)},onTargetAdapterActiveChange:S=>{console.log("[AdapterNode] Target adapter active changed:",S),y(S)}}))})]})})]})},rne=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=Fr(),[l,c]=h.useState(t.senderComponent||""),[d,u]=h.useState(t.sourceAdapter||""),[m,f]=h.useState(t.isAsync??!0),[x,g]=h.useState([]),{businessComponents:p,adapters:w,getAdaptersForBusinessComponent:v}=fo(),y=t.senderComponent&&t.sourceAdapter;h.useEffect(()=>{(async()=>{if(l){const A=await v(l);g(A)}else g([])})()},[l,v]);const j=()=>{o(S=>S.filter(A=>A.id!==e)),i(S=>S.filter(A=>A.source!==e&&A.target!==e))},N=async S=>{c(S);const A=await v(S),M=A.includes(d)?d:"";A.includes(d)||u(""),t.onConfigChange({senderComponent:S,sourceAdapter:M,isAsync:m,payload:t.payload})},b=S=>{u(S),t.onConfigChange({senderComponent:l,sourceAdapter:S,isAsync:m,payload:t.payload})},T=S=>{f(S),t.onConfigChange({senderComponent:l,sourceAdapter:d,isAsync:S,payload:t.payload})};return s.jsxs(s.Fragment,{children:[s.jsxs(q,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(z,{variant:"ghost",size:"sm",onClick:j,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ho,{className:"h-5 w-5 text-white"}),s.jsx(ne,{className:"text-sm font-medium text-white",children:"Start Process"})]}),s.jsx(ce,{variant:y?"default":"secondary",className:"text-xs bg-white text-black",children:y?"Configured":"Setup Required"})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs(z,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:S=>{S.stopPropagation(),S.preventDefault(),a(!0)},onMouseDown:S=>S.stopPropagation(),children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(mt,{open:r,onOpenChange:a,children:s.jsxs(ut,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(pt,{children:s.jsx(ft,{children:"Configure Start Process"})}),s.jsxs("div",{className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sender-component",children:"Sender Component"}),s.jsxs(K,{value:l,onValueChange:N,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a business component..."})}),s.jsx(X,{children:p.map(S=>s.jsx(D,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"source-adapter",children:"Source Adapter"}),s.jsxs(K,{value:d,onValueChange:b,disabled:!l,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select an adapter..."})}),s.jsx(X,{children:x.map(S=>{const A=w.find(M=>M.id===S);return A?s.jsx(D,{value:A.id,children:A.name},A.id):null})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"execution-mode",children:"Execution Mode"}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-sm",children:m?"Asynchronous":"Synchronous"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:m?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),s.jsx(ct,{checked:m,onCheckedChange:T,"aria-label":"Toggle execution mode"})]})]}),y&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",w.find(S=>S.id===d)?.name," adapter."]})]})]})]})})]})},ane=e=>{switch(e){case"field-mapping":return hl;case"custom-function":return on;case"filter":return fi;case"enrichment":return ns;default:return hl}},one=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},ze=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=Fr(),l=ane(t.transformationType),c=one(t.transformationType),d=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{o(m=>m.filter(f=>f.id!==e)),i(m=>m.filter(f=>f.source!==e&&f.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(q,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(z,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:"h-5 w-5 text-white"}),s.jsx(ne,{className:"text-sm font-medium text-white",children:c})]}),s.jsx(ce,{variant:d?"default":"secondary",className:"text-xs bg-white text-black",children:d?"Configured":"Setup Required"})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs(z,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:m=>{m.stopPropagation(),m.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:m=>m.stopPropagation(),children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?s.jsx(mt,{open:r,onOpenChange:a,children:s.jsx(ut,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:s.jsx(ON,{onClose:()=>a(!1),onSave:m=>{t.onConfigChange({fieldMappings:m}),a(!1)},initialMappingName:`${c} - ${e}`,sampleStructures:[]})})}):s.jsx(mt,{open:r,onOpenChange:a,children:s.jsxs(ut,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(pt,{children:s.jsxs(ft,{children:["Configure ",c]})}),s.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," configuration panel coming soon..."]})})]})})]})},tn=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(t.routingType||"conditional"),[l,c]=h.useState(t.conditions||[]),{setNodes:d,setEdges:u}=Fr(),m=()=>{d(v=>v.filter(y=>y.id!==e)),u(v=>v.filter(y=>y.source!==e&&y.target!==e))},f=()=>{c([...l,{field:"",operator:"equals",value:"",route:""}])},x=(v,y,j)=>{const N=[...l];N[v]={...N[v],[y]:j},c(N)},g=v=>{c(l.filter((y,j)=>j!==v))},p=()=>{t.onConfigChange?.(e,{routingType:o,conditions:l}),a(!1)},w=t.conditions&&t.conditions.length>0;return s.jsxs(s.Fragment,{children:[s.jsxs(q,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(z,{variant:"ghost",size:"sm",onClick:m,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:s.jsx(vt,{className:"h-3 w-3"})}),s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pm,{className:"h-5 w-5 text-white"}),s.jsx(ne,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),s.jsx(ce,{variant:w?"default":"secondary",className:"text-xs bg-white text-black",children:w?"Configured":"Setup Required"})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs(z,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:v=>{v.stopPropagation(),v.preventDefault(),a(!0)},onMouseDown:v=>v.stopPropagation(),children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Ce.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),s.jsx(Xt,{type:"source",position:Ce.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),s.jsx(Xt,{type:"source",position:Ce.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),s.jsx(mt,{open:r,onOpenChange:a,children:s.jsxs(ut,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(pt,{children:s.jsx(ft,{children:"Configure Routing Logic"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"routingType",children:"Routing Type"}),s.jsxs(K,{value:o,onValueChange:i,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select routing type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"conditional",children:"Conditional Routing"}),s.jsx(D,{value:"content-based",children:"Content-Based Routing"}),s.jsx(D,{value:"load-balance",children:"Load Balancing"}),s.jsx(D,{value:"round-robin",children:"Round Robin"})]})]})]}),o==="conditional"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"Routing Conditions"}),s.jsx(z,{onClick:f,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((v,y)=>s.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Field"}),s.jsx(V,{placeholder:"Field name",value:v.field,onChange:j=>x(y,"field",j.target.value)})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Operator"}),s.jsxs(K,{value:v.operator,onValueChange:j=>x(y,"operator",j),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"equals",children:"Equals"}),s.jsx(D,{value:"contains",children:"Contains"}),s.jsx(D,{value:"starts-with",children:"Starts With"}),s.jsx(D,{value:"greater-than",children:"Greater Than"}),s.jsx(D,{value:"less-than",children:"Less Than"})]})]})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Value"}),s.jsx(V,{placeholder:"Condition value",value:v.value,onChange:j=>x(y,"value",j.target.value)})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Route"}),s.jsxs(K,{value:v.route,onValueChange:j=>x(y,"route",j),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"default",children:"Default"}),s.jsx(D,{value:"route1",children:"Route 1"}),s.jsx(D,{value:"route2",children:"Route 2"})]})]})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(y),children:s.jsx(vt,{className:"h-3 w-3"})})]},y))]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(z,{onClick:p,children:"Save Configuration"})]})]})]})})]})},ine=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:Gi,nodes:[{type:"start-process",label:"Start Process",icon:ho},{type:"end-process",label:"End Process",icon:j8},{type:"start-event",label:"Start Event",icon:Gi},{type:"end-event",label:"End Event",icon:Gi},{type:"intermediate-event",label:"Intermediate Event",icon:Gi},{type:"timer-event",label:"Timer Event",icon:w8},{type:"message-event",label:"Message Event",icon:Us},{type:"error-event",label:"Error Event",icon:In}]},{category:"BPMN Activities",icon:Lt,nodes:[{type:"task",label:"Task",icon:Lt},{type:"service-task",label:"Service Task",icon:Pn},{type:"user-task",label:"User Task",icon:Ms},{type:"script-task",label:"Script Task",icon:on},{type:"manual-task",label:"Manual Task",icon:Ty},{type:"business-rule-task",label:"Business Rule Task",icon:cg},{type:"receive-task",label:"Receive Task",icon:Us},{type:"send-task",label:"Send Task",icon:Us}]},{category:"BPMN Gateways",icon:Ci,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:Ci},{type:"parallel-gateway",label:"Parallel Gateway",icon:Ci},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:Ci},{type:"event-gateway",label:"Event Gateway",icon:Ci},{type:"complex-gateway",label:"Complex Gateway",icon:Ci}]},{category:"Mapping & Transformation",icon:hl,nodes:[{type:"field-mapping",label:"Field Mapping",icon:hl},{type:"data-transformation",label:"Data Transformation",icon:wt},{type:"format-conversion",label:"Format Conversion",icon:hl},{type:"value-mapping",label:"Value Mapping",icon:Ds},{type:"structure-mapping",label:"Structure Mapping",icon:yu},{type:"conditional-mapping",label:"Conditional Mapping",icon:Ra},{type:"aggregation",label:"Aggregation",icon:SC},{type:"split-mapping",label:"Split Mapping",icon:Ra}]},{category:"File Transformations",icon:Ps,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:Ps},{type:"json-to-xml",label:"JSON to XML",icon:Ps},{type:"xml-to-json",label:"XML to JSON",icon:Ps},{type:"excel-to-csv",label:"Excel to CSV",icon:Ps},{type:"pdf-extractor",label:"PDF Extractor",icon:Ps},{type:"file-splitter",label:"File Splitter",icon:Ra},{type:"file-merger",label:"File Merger",icon:SC},{type:"file-validator",label:"File Validator",icon:Sn}]},{category:"Scripts & Functions",icon:on,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:on},{type:"groovy-script",label:"Groovy Script",icon:on},{type:"xslt-transformation",label:"XSLT Transformation",icon:on},{type:"custom-function",label:"Custom Function",icon:Pn},{type:"lookup-function",label:"Lookup Function",icon:Ds},{type:"calculation-function",label:"Calculation Function",icon:Ty},{type:"validation-function",label:"Validation Function",icon:Sn},{type:"enrichment-function",label:"Enrichment Function",icon:Pn}]},{category:"Flow Routing",icon:pm,nodes:[{type:"content-router",label:"Content Router",icon:pm},{type:"recipient-list",label:"Recipient List",icon:Ms},{type:"message-filter",label:"Message Filter",icon:fi},{type:"dynamic-router",label:"Dynamic Router",icon:pm},{type:"load-balancer",label:"Load Balancer",icon:Ra},{type:"failover-router",label:"Failover Router",icon:wt},{type:"multicast",label:"Multicast",icon:Ra},{type:"wire-tap",label:"Wire Tap",icon:Ds}]},{category:"Security",icon:Sn,nodes:[{type:"encryption",label:"Encryption",icon:Za},{type:"decryption",label:"Decryption",icon:Go},{type:"digital-signature",label:"Digital Signature",icon:cg},{type:"authentication",label:"Authentication",icon:Ms},{type:"authorization",label:"Authorization",icon:Sn},{type:"certificate-validation",label:"Certificate Validation",icon:cg},{type:"secure-transport",label:"Secure Transport",icon:Za},{type:"access-control",label:"Access Control",icon:Go}]},{category:"Adapters & Connectors",icon:gr,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:gr},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:Fk},{type:"database-adapter",label:"Database Adapter",icon:xs},{type:"mail-adapter",label:"Mail Adapter",icon:vu},{type:"file-adapter",label:"File Adapter",icon:Ps},{type:"jms-adapter",label:"JMS Adapter",icon:Us},{type:"soap-adapter",label:"SOAP Adapter",icon:gr},{type:"rest-adapter",label:"REST Adapter",icon:gr}]}];return s.jsxs(q,{className:"w-64 h-full",children:[s.jsx(se,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:"Process Steps"})}),s.jsx(Z,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(n=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[s.jsx(n.icon,{className:"h-3 w-3"}),n.category]}),s.jsx("div",{className:"grid gap-1",children:n.nodes.map(r=>s.jsxs(z,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(r.type,n.category),children:[s.jsx(r.icon,{className:"h-3 w-3 mr-2"}),r.label]},r.type))}),s.jsx(it,{})]},n.category))})]})},lne=({selectedNode:e,flowStats:t})=>{const n=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,r=a=>{switch(a){case"Low":return"bg-green-100 text-success";case"Medium":return"bg-yellow-100 text-warning";case"High":return"bg-red-100 text-destructive";default:return"bg-gray-100 text-muted-foreground"}};return s.jsxs("div",{className:"w-64 space-y-4",children:[s.jsxs(q,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs(ne,{className:"text-sm flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Properties"]})}),s.jsx(Z,{className:"space-y-3",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:n(e.type||"unknown")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Position"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?s.jsx(ce,{variant:"default",className:"text-xs",children:"Configured"}):s.jsx(ce,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):s.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),s.jsxs(q,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs(ne,{className:"text-sm flex items-center gap-2",children:[s.jsx(ss,{className:"h-4 w-4"}),"Flow Status"]})}),s.jsxs(Z,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),s.jsx(it,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),s.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),s.jsx(ce,{className:`text-xs ${r(t.complexity)}`,children:t.complexity})]})]})]})]})},cne={"start-process":rne,"end-process":Ss,"start-event":Ss,"end-event":Ss,"intermediate-event":Ss,"timer-event":Ss,"message-event":Ss,"error-event":Ss,task:ze,"service-task":ze,"user-task":ze,"script-task":ze,"manual-task":ze,"business-rule-task":ze,"receive-task":ze,"send-task":ze,"exclusive-gateway":tn,"parallel-gateway":tn,"inclusive-gateway":tn,"event-gateway":tn,"complex-gateway":tn,"field-mapping":ze,"data-transformation":ze,"format-conversion":ze,"value-mapping":ze,"structure-mapping":ze,"conditional-mapping":ze,aggregation:ze,"split-mapping":ze,"csv-to-xml":ze,"json-to-xml":ze,"xml-to-json":ze,"excel-to-csv":ze,"pdf-extractor":ze,"file-splitter":ze,"file-merger":ze,"file-validator":ze,"javascript-script":ze,"groovy-script":ze,"xslt-transformation":ze,"custom-function":ze,"lookup-function":ze,"calculation-function":ze,"validation-function":ze,"enrichment-function":ze,"content-router":tn,"recipient-list":tn,"message-filter":tn,"dynamic-router":tn,"load-balancer":tn,"failover-router":tn,multicast:tn,"wire-tap":tn,encryption:ze,decryption:ze,"digital-signature":ze,authentication:ze,authorization:ze,"certificate-validation":ze,"secure-transport":ze,"access-control":ze,"http-adapter":Ss,"ftp-adapter":Ss,"database-adapter":Ss,"mail-adapter":Ss,"file-adapter":Ss,"jms-adapter":Ss,"soap-adapter":Ss,"rest-adapter":Ss},dne=()=>[{id:"start-process-1",type:"start-process",position:{x:100,y:200},data:{senderComponent:"",sourceAdapter:"",isAsync:!0,configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}},{id:"end-process-1",type:"end-process",position:{x:500,y:200},data:{adapterType:"end-process",configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}}],une=()=>[{id:"start-to-end",source:"start-process-1",target:"end-process-1",type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}}];function hne({flowId:e,onFlowChange:t}){const[n,r,a]=nI(dne()),[o,i,l]=rI(une()),[c,d]=h.useState(null),[u,m]=h.useState(null),f=h.useMemo(()=>n.filter(v=>v.selected).map(v=>v.id),[n]);h.useEffect(()=>{if(t){const v=n.map(y=>({id:y.id,type:y.type,position:y.position,data:y.data}));t({steps:v})}},[n,o,t]);const x=h.useCallback(v=>{const y={...v,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:Kn.ArrowClosed,color:"hsl(var(--primary))"}};i(j=>Fp(y,j))},[i]),g=h.useCallback((v,y)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:y.id,nodeType:y.type}),d(y),m(y.id),setTimeout(()=>m(null),3e3)},[]),p=h.useCallback((v,y)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:v,category:y});const j=`${v}-${Date.now()}`,N={id:j,type:v,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:v,transformationType:v,routingType:v,configured:!1,showDeleteButton:!1,onConfigChange:b=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:j,config:b}),r(T=>T.map(S=>S.id===j?{...S,data:{...S.data,...b,configured:!0}}:S))}}};console.log("[VisualOrchestrationEditor] Created new node:",N),r(b=>{const T=b.concat(N);return console.log("[VisualOrchestrationEditor] Updated nodes list:",T),T})},[r]);h.useCallback(()=>{r(v=>v.filter(y=>!y.selected)),i(v=>v.filter(y=>!f.includes(y.source)&&!f.includes(y.target)))},[f,r,i]);const w=h.useMemo(()=>{const v=n.length,y=o.length;let j="Low";v>10||y>15?j="High":(v>5||y>8)&&(j="Medium");const N=v*100+y*50,b=N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`;return{totalNodes:v,totalConnections:y,estimatedExecutionTime:b,complexity:j}},[n,o]);return s.jsxs("div",{className:"h-full w-full flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ine,{onAddNode:p})}),s.jsx("div",{className:"flex-1 relative",children:s.jsxs(sI,{nodes:n.map(v=>({...v,data:{...v.data,showDeleteButton:u===v.id}})),edges:o,onNodesChange:a,onEdgesChange:l,onConnect:x,onNodeClick:g,nodeTypes:cne,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[s.jsx(lI,{showInteractive:!1}),s.jsx(dI,{}),s.jsx(oI,{variant:Kr.Dots,gap:12,size:1})]})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(lne,{selectedNode:c,flowStats:w})})]})}function mne(){Ls();const{navigateBack:e}=mc(),{toast:t}=Be(),{user:n}=Mr(),[r,a]=h.useState(!0),[o,i]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(""),[m,f]=h.useState(""),[x,g]=h.useState(""),[p,w]=h.useState(""),[v,y]=h.useState(""),[j,N]=h.useState([]),[b,T]=h.useState([]),[S,A]=h.useState([]),[M,L]=h.useState(!0),[F,I]=h.useState(!1);h.useState(!1),oO(()=>{i(""),c(""),u(""),f(""),g(""),w(""),y(""),a(!0)}),h.useEffect(()=>{O()},[]);const O=async()=>{try{L(!0);const C=await Wr.getAllBusinessComponents();C.success&&C.data&&T(C.data);try{const P=await J.get("/adapters");P.data&&A(P.data)}catch(P){console.warn("Could not load adapters:",P),A([])}}catch(C){console.error("Error loading component data:",C),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{L(!1)}},k=async()=>{if(!l.trim()){t({title:"Validation Error",description:"Unique Flow ID is required.",variant:"destructive"});return}try{I(!0);const C={flowId:l.trim(),flowName:l.trim(),description:d.trim()||`Orchestration flow with ID: ${l.trim()}`,sourceBusinessComponentId:m||null,targetBusinessComponentId:x||null,sourceAdapterId:p||null,targetAdapterId:v||null,orchestrationSteps:j,createdBy:n?.id||n?.username||"unknown"};(await J.post("/flow-composition/orchestration",C)).data&&(t({title:"Success",description:`Orchestration flow "${l}" has been created successfully.`}),e("/dashboard"))}catch(C){console.error("Error saving orchestration flow:",C),t({title:"Save Failed",description:C.response?.data?.message||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{I(!1)}};return r?s.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[s.jsxs("div",{className:"h-24 border-b border-border px-6 flex flex-col justify-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[s.jsx(Sy,{className:"h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Visual Orchestration Editor"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{onClick:k,disabled:F||!l.trim(),className:"flex items-center gap-2",children:[F?s.jsx(ht,{className:"h-4 w-4 animate-spin"}):s.jsx(Tn,{className:"h-4 w-4"}),"Save Flow"]}),s.jsxs(z,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4"}),"Cancel"]})]}),s.jsxs(et,{className:"max-w-md",children:[s.jsx(e8,{className:"h-4 w-4"}),s.jsx(tt,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 max-w-md",children:[s.jsx(E,{htmlFor:"uniqueFlowId",className:"text-sm font-medium whitespace-nowrap",children:"Unique Flow ID:"}),s.jsx(V,{id:"uniqueFlowId",placeholder:"Enter unique orchestration flow ID",value:l,onChange:C=>c(C.target.value),className:"flex-1"})]})]}),s.jsx("div",{className:"h-[calc(100vh-96px)]",children:s.jsx(hne,{flowId:l,onFlowChange:C=>{N(C.steps||[])}})})]}):null}var SE=1,pne=.9,fne=.8,xne=.17,Ug=.1,Bg=.999,gne=.9999,vne=.99,yne=/[\\\/_+.#"@\[\(\{&]/,jne=/[\\\/_+.#"@\[\(\{&]/g,wne=/[\s-]/,zI=/[\s-]/g;function wj(e,t,n,r,a,o,i){if(o===t.length)return a===e.length?SE:vne;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(o),d=n.indexOf(c,a),u=0,m,f,x,g;d>=0;)m=wj(e,t,n,r,d+1,o+1,i),m>u&&(d===a?m*=SE:yne.test(e.charAt(d-1))?(m*=fne,x=e.slice(a,d-1).match(jne),x&&a>0&&(m*=Math.pow(Bg,x.length))):wne.test(e.charAt(d-1))?(m*=pne,g=e.slice(a,d-1).match(zI),g&&a>0&&(m*=Math.pow(Bg,g.length))):(m*=xne,a>0&&(m*=Math.pow(Bg,d-a))),e.charAt(d)!==t.charAt(o)&&(m*=gne)),(m<Ug&&n.charAt(d-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(d-1)!==r.charAt(o))&&(f=wj(e,t,n,r,d+1,o+2,i),f*Ug>m&&(m=f*Ug)),m>u&&(u=m),d=n.indexOf(c,d+1);return i[l]=u,u}function CE(e){return e.toLowerCase().replace(zI," ")}function Nne(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,wj(e,t,CE(e),CE(t),0,0,{})}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(null,arguments)}function wl(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function bne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function qI(...e){return t=>e.forEach(n=>bne(n,t))}function Ku(...e){return h.useCallback(qI(...e),e)}function Sne(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:f,children:x,...g}=m,p=f?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return h.createElement(p.Provider,{value:w},x)}function u(m,f){const x=f?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Cne(a,...t)]}function Cne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const Nj=globalThis?.document?h.useLayoutEffect:()=>{},Ene=du.useId||(()=>{});let Tne=0;function Hg(e){const[t,n]=h.useState(Ene());return Nj(()=>{e||n(r=>r??String(Tne++))},[e]),e||(t?`radix-${t}`:"")}function oi(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Pne({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Ane({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=oi(n),c=h.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[o,e,a,l]);return[i,c]}function Ane({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,a=h.useRef(r),o=oi(t);return h.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}const LN=h.forwardRef((e,t)=>{const{children:n,...r}=e,a=h.Children.toArray(n),o=a.find(Dne);if(o){const i=o.props.children,l=a.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return h.createElement(bj,Fs({},r,{ref:t}),h.isValidElement(i)?h.cloneElement(i,void 0,l):null)}return h.createElement(bj,Fs({},r,{ref:t}),n)});LN.displayName="Slot";const bj=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...Mne(r,n.props),ref:t?qI(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});bj.displayName="SlotClone";const kne=({children:e})=>h.createElement(h.Fragment,null,e);function Dne(e){return h.isValidElement(e)&&e.type===kne}function Mne(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{o(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}const Rne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$n=Rne.reduce((e,t)=>{const n=h.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?LN:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,Fs({},i,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Fne(e,t){e&&ar.flushSync(()=>e.dispatchEvent(t))}function One(e,t=globalThis?.document){const n=oi(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Sj="dismissableLayer.update",Ine="dismissableLayer.pointerDownOutside",Lne="dismissableLayer.focusOutside";let EE;const _ne=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$ne=h.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,u=h.useContext(_ne),[m,f]=h.useState(null),x=(n=m?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,g]=h.useState({}),p=Ku(t,A=>f(A)),w=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(v),j=m?w.indexOf(m):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=j>=y,T=Vne(A=>{const M=A.target,L=[...u.branches].some(F=>F.contains(M));!b||L||(o?.(A),l?.(A),A.defaultPrevented||c?.())},x),S=Une(A=>{const M=A.target;[...u.branches].some(F=>F.contains(M))||(i?.(A),l?.(A),A.defaultPrevented||c?.())},x);return One(A=>{j===u.layers.size-1&&(a?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},x),h.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(EE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),TE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=EE)}},[m,x,r,u]),h.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),TE())},[m,u]),h.useEffect(()=>{const A=()=>g({});return document.addEventListener(Sj,A),()=>document.removeEventListener(Sj,A)},[]),h.createElement($n.div,Fs({},d,{ref:p,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:wl(e.onFocusCapture,S.onFocusCapture),onBlurCapture:wl(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:wl(e.onPointerDownCapture,T.onPointerDownCapture)}))});function Vne(e,t=globalThis?.document){const n=oi(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){WI(Ine,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Une(e,t=globalThis?.document){const n=oi(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&WI(Lne,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TE(){const e=new CustomEvent(Sj);document.dispatchEvent(e)}function WI(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Fne(a,o):a.dispatchEvent(o)}const zg="focusScope.autoFocusOnMount",qg="focusScope.autoFocusOnUnmount",PE={bubbles:!1,cancelable:!0},Bne=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=oi(a),u=oi(o),m=h.useRef(null),f=Ku(t,p=>c(p)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(T){if(x.paused||!l)return;const S=T.target;l.contains(S)?m.current=S:Ea(m.current,{select:!0})},j=function(T){if(x.paused||!l)return;const S=T.relatedTarget;S!==null&&(l.contains(S)||Ea(m.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&Ea(l)};var p=y,w=j,v=N;document.addEventListener("focusin",y),document.addEventListener("focusout",j);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),b.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){kE.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(zg,PE);l.addEventListener(zg,d),l.dispatchEvent(v),v.defaultPrevented||(Hne(Xne(YI(l)),{select:!0}),document.activeElement===p&&Ea(l))}return()=>{l.removeEventListener(zg,d),setTimeout(()=>{const v=new CustomEvent(qg,PE);l.addEventListener(qg,u),l.dispatchEvent(v),v.defaultPrevented||Ea(p??document.body,{select:!0}),l.removeEventListener(qg,u),kE.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(p=>{if(!n&&!r||x.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(w&&v){const y=p.currentTarget,[j,N]=zne(y);j&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Ea(j,{select:!0})):p.shiftKey&&v===j&&(p.preventDefault(),n&&Ea(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return h.createElement($n.div,Fs({tabIndex:-1},i,{ref:f,onKeyDown:g}))});function Hne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ea(r,{select:t}),document.activeElement!==n)return}function zne(e){const t=YI(e),n=AE(t,e),r=AE(t.reverse(),e);return[n,r]}function YI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function AE(e,t){for(const n of e)if(!qne(n,{upTo:t}))return n}function qne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wne(e){return e instanceof HTMLInputElement&&"select"in e}function Ea(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Wne(e)&&t&&e.select()}}const kE=Yne();function Yne(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=DE(e,t),e.unshift(t)},remove(t){var n;e=DE(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function DE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Xne(e){return e.filter(t=>t.tagName!=="A")}const Kne=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?i0.createPortal(h.createElement($n.div,Fs({},a,{ref:t})),r):null});function Gne(e,t){return h.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const vx=e=>{const{present:t,children:n}=e,r=Jne(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Ku(r.ref,a.ref);return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};vx.displayName="Presence";function Jne(e){const[t,n]=h.useState(),r=h.useRef({}),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Gne(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=$h(r.current);o.current=l==="mounted"?d:"none"},[l]),Nj(()=>{const d=r.current,u=a.current;if(u!==e){const f=o.current,x=$h(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nj(()=>{if(t){const d=m=>{const x=$h(r.current).includes(m.animationName);m.target===t&&x&&ar.flushSync(()=>c("ANIMATION_END"))},u=m=>{m.target===t&&(o.current=$h(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function $h(e){return e?.animationName||"none"}let Wg=0;function Qne(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:ME()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:ME()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Wg--}},[])}function ME(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var XI=H0(),Yg=function(){},yx=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,f=e.sideCar,x=e.noIsolation,g=e.inert,p=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=$f(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=f,N=B0([n,t]),b=Ht(Ht({},y),a);return h.createElement(h.Fragment,null,u&&h.createElement(j,{sideCar:XI,removeScrollBar:d,shards:m,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!p,lockRef:n}),i?h.cloneElement(h.Children.only(l),Ht(Ht({},b),{ref:N})):h.createElement(v,Ht({},b,{className:c,ref:N}),l))});yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yx.classNames={fullWidth:xl,zeroRight:fl};var Cj=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return Cj=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{Cj=!1}var ki=Cj?{passive:!1}:!1,Zne=function(e){return e.tagName==="TEXTAREA"},KI=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zne(e)&&n[t]==="visible")},ere=function(e){return KI(e,"overflowY")},tre=function(e){return KI(e,"overflowX")},RE=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=GI(e,n);if(r){var a=JI(e,n),o=a[1],i=a[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},sre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nre=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},GI=function(e,t){return e==="v"?ere(t):tre(t)},JI=function(e,t){return e==="v"?sre(t):nre(t)},rre=function(e,t){return e==="h"&&t==="rtl"?-1:1},are=function(e,t,n,r,a){var o=rre(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,f=0;do{var x=JI(e,l),g=x[0],p=x[1],w=x[2],v=p-w-o*g;(g||v)&&GI(e,l)&&(m+=v,f+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(m===0||!a)||!u&&(f===0||!a))&&(d=!0),d},Uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FE=function(e){return[e.deltaX,e.deltaY]},OE=function(e){return e&&"current"in e?e.current:e},ore=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ire=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lre=0,Di=[];function cre(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(lre++)[0],o=h.useState(function(){return Uf()})[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=U0([e.lockRef.current],(e.shards||[]).map(OE),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,w){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var v=Uh(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,T=p.target,S=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&T.type==="range")return!1;var A=RE(S,T);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=RE(S,T)),!A)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=b),!b)return!0;var M=r.current||b;return are(M,w,p,M==="h"?j:N,!0)},[]),c=h.useCallback(function(p){var w=p;if(!(!Di.length||Di[Di.length-1]!==o)){var v="deltaY"in w?FE(w):Uh(w),y=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&ore(b.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var j=(i.current.shards||[]).map(OE).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(p,w,v,y){var j={name:p,delta:w,target:v,should:y};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=h.useCallback(function(p){n.current=Uh(p),r.current=void 0},[]),m=h.useCallback(function(p){d(p.type,FE(p),p.target,l(p,e.lockRef.current))},[]),f=h.useCallback(function(p){d(p.type,Uh(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Di.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ki),document.addEventListener("touchmove",c,ki),document.addEventListener("touchstart",u,ki),function(){Di=Di.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,ki),document.removeEventListener("touchmove",c,ki),document.removeEventListener("touchstart",u,ki)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:ire(a)}):null,x?h.createElement(q0,{gapMode:"margin"}):null)}const dre=z0(XI,cre);var QI=h.forwardRef(function(e,t){return h.createElement(yx,Ht({},e,{ref:t,sideCar:dre}))});QI.classNames=yx.classNames;const ZI="Dialog",[eL,jve]=Sne(ZI),[ure,yi]=eL(ZI),hre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=Pne({prop:r,defaultProp:a,onChange:o});return h.createElement(ure,{scope:t,triggerRef:l,contentRef:c,contentId:Hg(),titleId:Hg(),descriptionId:Hg(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i},n)},tL="DialogPortal",[mre,sL]=eL(tL,{forceMount:void 0}),pre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=yi(tL,t);return h.createElement(mre,{scope:t,forceMount:n},h.Children.map(r,i=>h.createElement(vx,{present:n||o.open},h.createElement(Kne,{asChild:!0,container:a},i))))},Ej="DialogOverlay",fre=h.forwardRef((e,t)=>{const n=sL(Ej,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=yi(Ej,e.__scopeDialog);return o.modal?h.createElement(vx,{present:r||o.open},h.createElement(xre,Fs({},a,{ref:t}))):null}),xre=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=yi(Ej,n);return h.createElement(QI,{as:LN,allowPinchZoom:!0,shards:[a.contentRef]},h.createElement($n.div,Fs({"data-state":rL(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Qd="DialogContent",gre=h.forwardRef((e,t)=>{const n=sL(Qd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=yi(Qd,e.__scopeDialog);return h.createElement(vx,{present:r||o.open},o.modal?h.createElement(vre,Fs({},a,{ref:t})):h.createElement(yre,Fs({},a,{ref:t})))}),vre=h.forwardRef((e,t)=>{const n=yi(Qd,e.__scopeDialog),r=h.useRef(null),a=Ku(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return Cu(o)},[]),h.createElement(nL,Fs({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wl(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:wl(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:wl(e.onFocusOutside,o=>o.preventDefault())}))}),yre=h.forwardRef((e,t)=>{const n=yi(Qd,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return h.createElement(nL,Fs({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),nL=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=yi(Qd,n),c=h.useRef(null),d=Ku(t,c);return Qne(),h.createElement(h.Fragment,null,h.createElement(Bne,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o},h.createElement($ne,Fs({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rL(l.open)},i,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function rL(e){return e?"open":"closed"}const jre=hre,wre=pre,Nre=fre,bre=gre;var Ic='[cmdk-group=""]',Xg='[cmdk-group-items=""]',Sre='[cmdk-group-heading=""]',_N='[cmdk-item=""]',IE=`${_N}:not([aria-disabled="true"])`,Tj="cmdk-item-select",Po="data-value",Cre=(e,t,n)=>Nne(e,t,n),aL=h.createContext(void 0),Gu=()=>h.useContext(aL),oL=h.createContext(void 0),$N=()=>h.useContext(oL),iL=h.createContext(void 0),lL=h.forwardRef((e,t)=>{let n=Li(()=>{var B,W;return{search:"",value:(W=(B=e.value)!=null?B:e.defaultValue)!=null?W:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Li(()=>new Set),a=Li(()=>new Map),o=Li(()=>new Map),i=Li(()=>new Set),l=cL(e),{label:c,children:d,value:u,onValueChange:m,filter:f,shouldFilter:x,loop:g,disablePointerSelection:p=!1,vimBindings:w=!0,...v}=e,y=h.useId(),j=h.useId(),N=h.useId(),b=h.useRef(null),T=Ire();ii(()=>{if(u!==void 0){let B=u.trim();n.current.value=B,S.emit()}},[u]),ii(()=>{T(6,U)},[]);let S=h.useMemo(()=>({subscribe:B=>(i.current.add(B),()=>i.current.delete(B)),snapshot:()=>n.current,setState:(B,W,te)=>{var le,ue,Q;if(!Object.is(n.current[B],W)){if(n.current[B]=W,B==="search")I(),L(),T(1,F);else if(B==="value"&&(te||T(5,U),((le=l.current)==null?void 0:le.value)!==void 0)){let ie=W??"";(Q=(ue=l.current).onValueChange)==null||Q.call(ue,ie);return}S.emit()}},emit:()=>{i.current.forEach(B=>B())}}),[]),A=h.useMemo(()=>({value:(B,W,te)=>{var le;W!==((le=o.current.get(B))==null?void 0:le.value)&&(o.current.set(B,{value:W,keywords:te}),n.current.filtered.items.set(B,M(W,te)),T(2,()=>{L(),S.emit()}))},item:(B,W)=>(r.current.add(B),W&&(a.current.has(W)?a.current.get(W).add(B):a.current.set(W,new Set([B]))),T(3,()=>{I(),L(),n.current.value||F(),S.emit()}),()=>{o.current.delete(B),r.current.delete(B),n.current.filtered.items.delete(B);let te=O();T(4,()=>{I(),te?.getAttribute("id")===B&&F(),S.emit()})}),group:B=>(a.current.has(B)||a.current.set(B,new Set),()=>{o.current.delete(B),a.current.delete(B)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:N,labelId:j,listInnerRef:b}),[]);function M(B,W){var te,le;let ue=(le=(te=l.current)==null?void 0:te.filter)!=null?le:Cre;return B?ue(B,n.current.search,W):0}function L(){if(!n.current.search||l.current.shouldFilter===!1)return;let B=n.current.filtered.items,W=[];n.current.filtered.groups.forEach(le=>{let ue=a.current.get(le),Q=0;ue.forEach(ie=>{let ge=B.get(ie);Q=Math.max(ge,Q)}),W.push([le,Q])});let te=b.current;k().sort((le,ue)=>{var Q,ie;let ge=le.getAttribute("id"),Se=ue.getAttribute("id");return((Q=B.get(Se))!=null?Q:0)-((ie=B.get(ge))!=null?ie:0)}).forEach(le=>{let ue=le.closest(Xg);ue?ue.appendChild(le.parentElement===ue?le:le.closest(`${Xg} > *`)):te.appendChild(le.parentElement===te?le:le.closest(`${Xg} > *`))}),W.sort((le,ue)=>ue[1]-le[1]).forEach(le=>{let ue=b.current.querySelector(`${Ic}[${Po}="${encodeURIComponent(le[0])}"]`);ue?.parentElement.appendChild(ue)})}function F(){let B=k().find(te=>te.getAttribute("aria-disabled")!=="true"),W=B?.getAttribute(Po);S.setState("value",W||void 0)}function I(){var B,W,te,le;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ue=0;for(let Q of r.current){let ie=(W=(B=o.current.get(Q))==null?void 0:B.value)!=null?W:"",ge=(le=(te=o.current.get(Q))==null?void 0:te.keywords)!=null?le:[],Se=M(ie,ge);n.current.filtered.items.set(Q,Se),Se>0&&ue++}for(let[Q,ie]of a.current)for(let ge of ie)if(n.current.filtered.items.get(ge)>0){n.current.filtered.groups.add(Q);break}n.current.filtered.count=ue}function U(){var B,W,te;let le=O();le&&(((B=le.parentElement)==null?void 0:B.firstChild)===le&&((te=(W=le.closest(Ic))==null?void 0:W.querySelector(Sre))==null||te.scrollIntoView({block:"nearest"})),le.scrollIntoView({block:"nearest"}))}function O(){var B;return(B=b.current)==null?void 0:B.querySelector(`${_N}[aria-selected="true"]`)}function k(){var B;return Array.from((B=b.current)==null?void 0:B.querySelectorAll(IE))}function C(B){let W=k()[B];W&&S.setState("value",W.getAttribute(Po))}function P(B){var W;let te=O(),le=k(),ue=le.findIndex(ie=>ie===te),Q=le[ue+B];(W=l.current)!=null&&W.loop&&(Q=ue+B<0?le[le.length-1]:ue+B===le.length?le[0]:le[ue+B]),Q&&S.setState("value",Q.getAttribute(Po))}function R(B){let W=O(),te=W?.closest(Ic),le;for(;te&&!le;)te=B>0?Fre(te,Ic):Ore(te,Ic),le=te?.querySelector(IE);le?S.setState("value",le.getAttribute(Po)):P(B)}let $=()=>C(k().length-1),H=B=>{B.preventDefault(),B.metaKey?$():B.altKey?R(1):P(1)},_=B=>{B.preventDefault(),B.metaKey?C(0):B.altKey?R(-1):P(-1)};return h.createElement($n.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:B=>{var W;if((W=v.onKeyDown)==null||W.call(v,B),!B.defaultPrevented)switch(B.key){case"n":case"j":{w&&B.ctrlKey&&H(B);break}case"ArrowDown":{H(B);break}case"p":case"k":{w&&B.ctrlKey&&_(B);break}case"ArrowUp":{_(B);break}case"Home":{B.preventDefault(),C(0);break}case"End":{B.preventDefault(),$();break}case"Enter":if(!B.nativeEvent.isComposing&&B.keyCode!==229){B.preventDefault();let te=O();if(te){let le=new Event(Tj);te.dispatchEvent(le)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:_re},c),jx(e,B=>h.createElement(oL.Provider,{value:S},h.createElement(aL.Provider,{value:A},B))))}),Ere=h.forwardRef((e,t)=>{var n,r;let a=h.useId(),o=h.useRef(null),i=h.useContext(iL),l=Gu(),c=cL(e),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:i?.forceMount;ii(()=>{if(!d)return l.item(a,i?.id)},[d]);let u=dL(a,o,[e.value,e.children,o],e.keywords),m=$N(),f=li(T=>T.value&&T.value===u.current),x=li(T=>d||l.filter()===!1?!0:T.search?T.filtered.items.get(a)>0:!0);h.useEffect(()=>{let T=o.current;if(!(!T||e.disabled))return T.addEventListener(Tj,g),()=>T.removeEventListener(Tj,g)},[x,e.onSelect,e.disabled]);function g(){var T,S;p(),(S=(T=c.current).onSelect)==null||S.call(T,u.current)}function p(){m.setState("value",u.current,!0)}if(!x)return null;let{disabled:w,value:v,onSelect:y,forceMount:j,keywords:N,...b}=e;return h.createElement($n.div,{ref:Zd([o,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!f,"data-disabled":!!w,"data-selected":!!f,onPointerMove:w||l.disablePointerSelection?void 0:p,onClick:w?void 0:g},e.children)}),Tre=h.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...o}=e,i=h.useId(),l=h.useRef(null),c=h.useRef(null),d=h.useId(),u=Gu(),m=li(x=>a||u.filter()===!1?!0:x.search?x.filtered.groups.has(i):!0);ii(()=>u.group(i),[]),dL(i,l,[e.value,e.heading,c]);let f=h.useMemo(()=>({id:i,forceMount:a}),[a]);return h.createElement($n.div,{ref:Zd([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),jx(e,x=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},h.createElement(iL.Provider,{value:f},x))))}),Pre=h.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=h.useRef(null),o=li(i=>!i.search);return!n&&!o?null:h.createElement($n.div,{ref:Zd([a,t]),...r,"cmdk-separator":"",role:"separator"})}),Are=h.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,o=$N(),i=li(u=>u.search),l=li(u=>u.value),c=Gu(),d=h.useMemo(()=>{var u;let m=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${_N}[${Po}="${encodeURIComponent(l)}"]`);return m?.getAttribute("id")},[]);return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement($n.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),n?.(u.target.value)}})}),kre=h.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,o=h.useRef(null),i=h.useRef(null),l=Gu();return h.useEffect(()=>{if(i.current&&o.current){let c=i.current,d=o.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let f=c.offsetHeight;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(u),m.unobserve(c)}}},[]),h.createElement($n.div,{ref:Zd([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},jx(e,c=>h.createElement("div",{ref:Zd([i,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Dre=h.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:o,container:i,...l}=e;return h.createElement(jre,{open:n,onOpenChange:r},h.createElement(wre,{container:i},h.createElement(Nre,{"cmdk-overlay":"",className:a}),h.createElement(bre,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement(lL,{ref:t,...l}))))}),Mre=h.forwardRef((e,t)=>li(n=>n.filtered.count===0)?h.createElement($n.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Rre=h.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...o}=e;return h.createElement($n.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},jx(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),en=Object.assign(lL,{List:kre,Item:Ere,Input:Are,Group:Tre,Separator:Pre,Dialog:Dre,Empty:Mre,Loading:Rre});function Fre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Ore(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function cL(e){let t=h.useRef(e);return ii(()=>{t.current=e}),t}var ii=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Li(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Zd(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function li(e){let t=$N(),n=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,n,n)}function dL(e,t,n,r=[]){let a=h.useRef(),o=Gu();return ii(()=>{var i;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(Po,l),a.current=l}),a}var Ire=()=>{let[e,t]=h.useState(),n=Li(()=>new Map);return ii(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function Lre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jx({asChild:e,children:t},n){return e&&h.isValidElement(t)?h.cloneElement(Lre(t),{ref:t.ref},n(t.props.children)):n(t)}var _re={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const VN=h.forwardRef(({className:e,...t},n)=>s.jsx(en,{ref:n,className:re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));VN.displayName=en.displayName;const uL=h.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(en.Input,{ref:n,className:re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));uL.displayName=en.Input.displayName;const UN=h.forwardRef(({className:e,...t},n)=>s.jsx(en.List,{ref:n,className:re("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));UN.displayName=en.List.displayName;const hL=h.forwardRef((e,t)=>s.jsx(en.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));hL.displayName=en.Empty.displayName;const BN=h.forwardRef(({className:e,...t},n)=>s.jsx(en.Group,{ref:n,className:re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));BN.displayName=en.Group.displayName;const $re=h.forwardRef(({className:e,...t},n)=>s.jsx(en.Separator,{ref:n,className:re("-mx-1 h-px bg-border",e),...t}));$re.displayName=en.Separator.displayName;const HN=h.forwardRef(({className:e,...t},n)=>s.jsx(en.Item,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));HN.displayName=en.Item.displayName;function Xa(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function LE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mL(...e){return t=>{let n=!1;const r=e.map(a=>{const o=LE(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():LE(e[a],null)}}}}function xo(...e){return h.useCallback(mL(...e),e)}function pL(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=m=>{const{scope:f,children:x,...g}=m,p=f?.[e]?.[c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:w,children:x})};d.displayName=o+"Provider";function u(m,f){const x=f?.[e]?.[c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Vre(a,...t)]}function Vre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function fL(e){const t=Ure(e),n=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(Hre);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...i,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}function Ure(e){const t=h.forwardRef((n,r)=>{const{children:a,...o}=n;if(h.isValidElement(a)){const i=qre(a),l=zre(o,a.props);return a.type!==h.Fragment&&(l.ref=r?mL(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bre=Symbol("radix.slottable");function Hre(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bre}function zre(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function qre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ga=Wre.reduce((e,t)=>{const n=fL(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yre(e,t){e&&ar.flushSync(()=>e.dispatchEvent(t))}function Bl(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function Xre(e,t=globalThis?.document){const n=Bl(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Kre="DismissableLayer",Pj="dismissableLayer.update",Gre="dismissableLayer.pointerDownOutside",Jre="dismissableLayer.focusOutside",_E,xL=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gL=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(xL),[u,m]=h.useState(null),f=u?.ownerDocument??globalThis?.document,[,x]=h.useState({}),g=xo(t,S=>m(S)),p=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(w),y=u?p.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,b=eae(S=>{const A=S.target,M=[...d.branches].some(L=>L.contains(A));!N||M||(a?.(S),i?.(S),S.defaultPrevented||l?.())},f),T=tae(S=>{const A=S.target;[...d.branches].some(L=>L.contains(A))||(o?.(S),i?.(S),S.defaultPrevented||l?.())},f);return Xre(S=>{y===d.layers.size-1&&(r?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_E=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),$E(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_E)}},[u,f,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),$E())},[u,d]),h.useEffect(()=>{const S=()=>x({});return document.addEventListener(Pj,S),()=>document.removeEventListener(Pj,S)},[]),s.jsx(ga.div,{...c,ref:g,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:Xa(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Xa(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Xa(e.onPointerDownCapture,b.onPointerDownCapture)})});gL.displayName=Kre;var Qre="DismissableLayerBranch",Zre=h.forwardRef((e,t)=>{const n=h.useContext(xL),r=h.useRef(null),a=xo(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(ga.div,{...e,ref:a})});Zre.displayName=Qre;function eae(e,t=globalThis?.document){const n=Bl(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){vL(Gre,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function tae(e,t=globalThis?.document){const n=Bl(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&vL(Jre,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $E(){const e=new CustomEvent(Pj);document.dispatchEvent(e)}function vL(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Yre(a,o):a.dispatchEvent(o)}var Kg=0;function sae(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VE()),document.body.insertAdjacentElement("beforeend",e[1]??VE()),Kg++,()=>{Kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kg--}},[])}function VE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",UE={bubbles:!1,cancelable:!0},nae="FocusScope",yL=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=Bl(a),u=Bl(o),m=h.useRef(null),f=xo(t,p=>c(p)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(j){if(x.paused||!l)return;const N=j.target;l.contains(N)?m.current=N:Ta(m.current,{select:!0})},w=function(j){if(x.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Ta(m.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const b of j)b.removedNodes.length>0&&Ta(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){HE.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Gg,UE);l.addEventListener(Gg,d),l.dispatchEvent(v),v.defaultPrevented||(rae(cae(jL(l)),{select:!0}),document.activeElement===p&&Ta(l))}return()=>{l.removeEventListener(Gg,d),setTimeout(()=>{const v=new CustomEvent(Jg,UE);l.addEventListener(Jg,u),l.dispatchEvent(v),v.defaultPrevented||Ta(p??document.body,{select:!0}),l.removeEventListener(Jg,u),HE.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(p=>{if(!n&&!r||x.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(w&&v){const y=p.currentTarget,[j,N]=aae(y);j&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Ta(j,{select:!0})):p.shiftKey&&v===j&&(p.preventDefault(),n&&Ta(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return s.jsx(ga.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});yL.displayName=nae;function rae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ta(r,{select:t}),document.activeElement!==n)return}function aae(e){const t=jL(e),n=BE(t,e),r=BE(t.reverse(),e);return[n,r]}function jL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function BE(e,t){for(const n of e)if(!oae(n,{upTo:t}))return n}function oae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iae(e){return e instanceof HTMLInputElement&&"select"in e}function Ta(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iae(e)&&t&&e.select()}}var HE=lae();function lae(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=zE(e,t),e.unshift(t)},remove(t){e=zE(e,t),e[0]?.resume()}}}function zE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cae(e){return e.filter(t=>t.tagName!=="A")}var ao=globalThis?.document?h.useLayoutEffect:()=>{},dae=du[" useId ".trim().toString()]||(()=>{}),uae=0;function hae(e){const[t,n]=h.useState(dae());return ao(()=>{e||n(r=>r??String(uae++))},[e]),e||(t?`radix-${t}`:"")}var mae="Arrow",wL=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(ga.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});wL.displayName=mae;var pae=wL;function fae(e){const[t,n]=h.useState(void 0);return ao(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var zN="Popper",[NL,bL]=pL(zN),[xae,SL]=NL(zN),CL=e=>{const{__scopePopper:t,children:n}=e,[r,a]=h.useState(null);return s.jsx(xae,{scope:t,anchor:r,onAnchorChange:a,children:n})};CL.displayName=zN;var EL="PopperAnchor",TL=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=SL(EL,n),i=h.useRef(null),l=xo(t,i);return h.useEffect(()=>{o.onAnchorChange(r?.current||i.current)}),r?null:s.jsx(ga.div,{...a,ref:l})});TL.displayName=EL;var qN="PopperContent",[gae,vae]=NL(qN),PL=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,w=SL(qN,n),[v,y]=h.useState(null),j=xo(t,Q=>y(Q)),[N,b]=h.useState(null),T=fae(N),S=T?.width??0,A=T?.height??0,M=r+(o!=="center"?"-"+o:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],I=F.length>0,U={padding:L,boundary:F.filter(jae),altBoundary:I},{refs:O,floatingStyles:k,placement:C,isPositioned:P,middlewareData:R}=oD({strategy:"fixed",placement:M,whileElementsMounted:(...Q)=>rD(...Q,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[iD({mainAxis:a+A,alignmentAxis:i}),c&&lD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?cD():void 0,...U}),c&&dD({...U}),uD({...U,apply:({elements:Q,rects:ie,availableWidth:ge,availableHeight:Se})=>{const{width:Te,height:Ne}=ie.reference,de=Q.floating.style;de.setProperty("--radix-popper-available-width",`${ge}px`),de.setProperty("--radix-popper-available-height",`${Se}px`),de.setProperty("--radix-popper-anchor-width",`${Te}px`),de.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),N&&mD({element:N,padding:l}),wae({arrowWidth:S,arrowHeight:A}),f&&hD({strategy:"referenceHidden",...U})]}),[$,H]=DL(C),_=Bl(g);ao(()=>{P&&_?.()},[P,_]);const B=R.arrow?.x,W=R.arrow?.y,te=R.arrow?.centerOffset!==0,[le,ue]=h.useState();return ao(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:P?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(gae,{scope:n,placedSide:$,onArrowChange:b,arrowX:B,arrowY:W,shouldHideArrow:te,children:s.jsx(ga.div,{"data-side":$,"data-align":H,...p,ref:j,style:{...p.style,animation:P?void 0:"none"}})})})});PL.displayName=qN;var AL="PopperArrow",yae={top:"bottom",right:"left",bottom:"top",left:"right"},kL=h.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=vae(AL,r),i=yae[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(pae,{...a,ref:n,style:{...a.style,display:"block"}})})});kL.displayName=AL;function jae(e){return e!==null}var wae=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=DL(n),m={start:"0%",center:"50%",end:"100%"}[u],f=(a.arrow?.x??0)+l/2,x=(a.arrow?.y??0)+c/2;let g="",p="";return d==="bottom"?(g=i?m:`${f}px`,p=`${-c}px`):d==="top"?(g=i?m:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=i?m:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,p=i?m:`${x}px`),{data:{x:g,y:p}}}});function DL(e){const[t,n="center"]=e.split("-");return[t,n]}var Nae=CL,ML=TL,bae=PL,Sae=kL,Cae="Portal",RL=h.forwardRef((e,t)=>{const{container:n,...r}=e,[a,o]=h.useState(!1);ao(()=>o(!0),[]);const i=n||a&&globalThis?.document?.body;return i?i0.createPortal(s.jsx(ga.div,{...r,ref:t}),i):null});RL.displayName=Cae;function Eae(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var WN=e=>{const{present:t,children:n}=e,r=Tae(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=xo(r.ref,Pae(a));return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};WN.displayName="Presence";function Tae(e){const[t,n]=h.useState(),r=h.useRef(null),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Eae(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Bh(r.current);o.current=l==="mounted"?d:"none"},[l]),ao(()=>{const d=r.current,u=a.current;if(u!==e){const f=o.current,x=Bh(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ao(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=x=>{const p=Bh(r.current).includes(x.animationName);if(x.target===t&&p&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=x=>{x.target===t&&(o.current=Bh(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Bh(e){return e?.animationName||"none"}function Pae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Aae=du[" useInsertionEffect ".trim().toString()]||ao;function kae({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,i]=Dae({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=h.useCallback(u=>{if(l){const m=Mae(u)?u(e):u;m!==e&&i.current?.(m)}else o(u)},[l,e,o,i]);return[c,d]}function Dae({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),a=h.useRef(n),o=h.useRef(t);return Aae(()=>{o.current=t},[t]),h.useEffect(()=>{a.current!==n&&(o.current?.(n),a.current=n)},[n,a]),[n,r,o]}function Mae(e){return typeof e=="function"}var FL=H0(),Qg=function(){},wx=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Qg,onWheelCapture:Qg,onTouchMoveCapture:Qg}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,f=e.sideCar,x=e.noRelative,g=e.noIsolation,p=e.inert,w=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,j=e.gapMode,N=$f(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,T=B0([n,t]),S=Ht(Ht({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(b,{sideCar:FL,removeScrollBar:d,shards:m,noRelative:x,noIsolation:g,inert:p,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:j}),i?h.cloneElement(h.Children.only(l),Ht(Ht({},S),{ref:T})):h.createElement(y,Ht({},S,{className:c,ref:T}),l))});wx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wx.classNames={fullWidth:xl,zeroRight:fl};var Aj=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return Aj=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Aj=!1}var Mi=Aj?{passive:!1}:!1,Rae=function(e){return e.tagName==="TEXTAREA"},OL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rae(e)&&n[t]==="visible")},Fae=function(e){return OL(e,"overflowY")},Oae=function(e){return OL(e,"overflowX")},qE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=IL(e,r);if(a){var o=LL(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Iae=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Lae=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IL=function(e,t){return e==="v"?Fae(t):Oae(t)},LL=function(e,t){return e==="v"?Iae(t):Lae(t)},_ae=function(e,t){return e==="h"&&t==="rtl"?-1:1},$ae=function(e,t,n,r,a){var o=_ae(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,f=0;do{if(!l)break;var x=LL(e,l),g=x[0],p=x[1],w=x[2],v=p-w-o*g;(g||v)&&IL(e,l)&&(m+=v,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},zh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},WE=function(e){return[e.deltaX,e.deltaY]},YE=function(e){return e&&"current"in e?e.current:e},Vae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Bae=0,Ri=[];function Hae(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(Bae++)[0],o=h.useState(Uf)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=U0([e.lockRef.current],(e.shards||[]).map(YE),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=zh(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,T=p.target,S=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&T.type==="range")return!1;var A=qE(S,T);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=qE(S,T)),!A)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=b),!b)return!0;var M=r.current||b;return $ae(M,w,p,M==="h"?j:N,!0)},[]),c=h.useCallback(function(p){var w=p;if(!(!Ri.length||Ri[Ri.length-1]!==o)){var v="deltaY"in w?WE(w):zh(w),y=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&Vae(b.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var j=(i.current.shards||[]).map(YE).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=j.length>0?l(w,j[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(p,w,v,y){var j={name:p,delta:w,target:v,should:y,shadowParent:zae(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=h.useCallback(function(p){n.current=zh(p),r.current=void 0},[]),m=h.useCallback(function(p){d(p.type,WE(p),p.target,l(p,e.lockRef.current))},[]),f=h.useCallback(function(p){d(p.type,zh(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Ri.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Mi),document.addEventListener("touchmove",c,Mi),document.addEventListener("touchstart",u,Mi),function(){Ri=Ri.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Mi),document.removeEventListener("touchmove",c,Mi),document.removeEventListener("touchstart",u,Mi)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:Uae(a)}):null,x?h.createElement(q0,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qae=z0(FL,Hae);var _L=h.forwardRef(function(e,t){return h.createElement(wx,Ht({},e,{ref:t,sideCar:qae}))});_L.classNames=wx.classNames;var Nx="Popover",[$L,wve]=pL(Nx,[bL]),Ju=bL(),[Wae,go]=$L(Nx),VL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Ju(t),c=h.useRef(null),[d,u]=h.useState(!1),[m,f]=kae({prop:r,defaultProp:a??!1,onChange:o,caller:Nx});return s.jsx(Nae,{...l,children:s.jsx(Wae,{scope:t,contentId:hae(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:i,children:n})})};VL.displayName=Nx;var UL="PopoverAnchor",Yae=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=go(UL,n),o=Ju(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(ML,{...o,...r,ref:t})});Yae.displayName=UL;var BL="PopoverTrigger",HL=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=go(BL,n),o=Ju(n),i=xo(t,a.triggerRef),l=s.jsx(ga.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":XL(a.open),...r,ref:i,onClick:Xa(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(ML,{asChild:!0,...o,children:l})});HL.displayName=BL;var YN="PopoverPortal",[Xae,Kae]=$L(YN,{forceMount:void 0}),zL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=go(YN,t);return s.jsx(Xae,{scope:t,forceMount:n,children:s.jsx(WN,{present:n||o.open,children:s.jsx(RL,{asChild:!0,container:a,children:r})})})};zL.displayName=YN;var Hl="PopoverContent",qL=h.forwardRef((e,t)=>{const n=Kae(Hl,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,o=go(Hl,e.__scopePopover);return s.jsx(WN,{present:r||o.open,children:o.modal?s.jsx(Jae,{...a,ref:t}):s.jsx(Qae,{...a,ref:t})})});qL.displayName=Hl;var Gae=fL("PopoverContent.RemoveScroll"),Jae=h.forwardRef((e,t)=>{const n=go(Hl,e.__scopePopover),r=h.useRef(null),a=xo(t,r),o=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return Cu(i)},[]),s.jsx(_L,{as:Gae,allowPinchZoom:!0,children:s.jsx(WL,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xa(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Xa(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Xa(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qae=h.forwardRef((e,t)=>{const n=go(Hl,e.__scopePopover),r=h.useRef(!1),a=h.useRef(!1);return s.jsx(WL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),WL=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,f=go(Hl,n),x=Ju(n);return sae(),s.jsx(yL,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(gL,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(bae,{"data-state":XL(f.open),role:"dialog",id:f.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YL="PopoverClose",Zae=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=go(YL,n);return s.jsx(ga.button,{type:"button",...r,ref:t,onClick:Xa(e.onClick,()=>a.onOpenChange(!1))})});Zae.displayName=YL;var eoe="PopoverArrow",toe=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Ju(n);return s.jsx(Sae,{...a,...r,ref:t})});toe.displayName=eoe;function XL(e){return e?"open":"closed"}var soe=VL,noe=HL,roe=zL,KL=qL;const _p=soe,$p=noe,eu=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(roe,{children:s.jsx(KL,{ref:a,align:t,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));eu.displayName=KL.displayName;function aoe({options:e,value:t,onValueChange:n,placeholder:r="Select option...",searchPlaceholder:a="Search...",emptyMessage:o="No option found.",className:i}){const[l,c]=h.useState(!1),d=e.find(u=>u.value===t);return s.jsxs(_p,{open:l,onOpenChange:c,children:[s.jsx($p,{asChild:!0,children:s.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":l,className:re("w-full justify-between",i),children:[d?s.jsxs("div",{className:"flex items-center gap-2",children:[d.icon&&s.jsx(d.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"truncate",children:d.label}),d.category&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",d.category,")"]})]}):r,s.jsx(Mk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(eu,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:s.jsxs(VN,{children:[s.jsx(uL,{placeholder:a}),s.jsxs(UN,{children:[s.jsx(hL,{children:o}),s.jsx(BN,{children:e.map(u=>s.jsxs(HN,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{n?.(u.value),c(!1)},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&s.jsx(u.icon,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:u.label}),u.category&&s.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&s.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),s.jsx(ec,{className:re("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function ooe(e,t={}){const{minLength:n=8,requireUppercase:r=!1,requireLowercase:a=!1,requireNumbers:o=!1,requireSpecialChars:i=!1,allowEmpty:l=!0}=t,c=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<n&&c.push(`Password must be at least ${n} characters long`),r&&!/[A-Z]/.test(e)&&c.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&c.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(e)&&c.push("Password must contain at least one number"),i&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&c.push("Password must contain at least one special character"),{isValid:c.length===0,errors:c})}function ioe(e){return ooe(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const hs=h.forwardRef(({name:e,label:t,placeholder:n,required:r,value:a,onValueChange:o,className:i,showConfirmation:l=!0,validator:c=ioe},d)=>{const[u,m]=h.useState(a||""),[f,x]=h.useState(""),[g,p]=h.useState(!1),[w,v]=h.useState(!1),[y,j]=h.useState(!1),[N,b]=h.useState({isValid:!0,errors:[]});h.useEffect(()=>{a!==u&&m(a||"")},[a]);const T=u===f,S=y&&f.length>0&&!T,A=!N.isValid&&u.length>0,M=F=>{m(F),b(c(F)),o(F)},L=F=>{x(F),!y&&F.length>0&&j(!0)};return s.jsxs("div",{ref:d,className:re("space-y-3",i),children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:e,className:"flex items-center gap-1",children:[t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(V,{id:e,type:g?"text":"password",placeholder:n,value:u,onChange:F=>M(F.target.value),className:re("pr-10 transition-all duration-300 focus:scale-[1.01]",A&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:g?s.jsx(TC,{className:"h-4 w-4"}):s.jsx(ta,{className:"h-4 w-4"})})]})]}),A&&s.jsx("div",{className:"space-y-1",children:N.errors.map((F,I)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4"}),F]},I))}),N.isValid&&u.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(Ns,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(V,{id:`${e}_confirm`,type:w?"text":"password",placeholder:`Confirm ${n||t.toLowerCase()}`,value:f,onChange:F=>L(F.target.value),className:re("pr-10 transition-all duration-300 focus:scale-[1.01]",S&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:w?s.jsx(TC,{className:"h-4 w-4"}):s.jsx(ta,{className:"h-4 w-4"})})]})]}),S&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});hs.displayName="PasswordConfirmation";const loe=({selectedJarId:e,onJarSelect:t,label:n="Select JAR File",placeholder:r="Choose a driver JAR file...",driverTypeFilter:a})=>{const o=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],i=a?o.filter(c=>c.driverType===a):o,l=o.find(c=>c.id===e);return s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm font-medium",children:n}),s.jsxs(K,{value:e,onValueChange:t,children:[s.jsx(Y,{className:"w-full",children:s.jsx(G,{placeholder:r,children:l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsx("span",{children:l.name}),s.jsxs(ce,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),s.jsxs(X,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[i.map(c=>s.jsx(D,{value:c.id,children:s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.fileName})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(ce,{variant:"secondary",className:"text-xs",children:["v",c.version]}),s.jsx(ce,{variant:"outline",className:"text-xs",children:c.driverType})]})]})},c.id)),i.length===0&&s.jsxs(D,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},coe=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:n,loading:r}=fo();return s.jsxs(q,{className:"animate-scale-in",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(xe,{children:"Select the business component this adapter belongs to"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(K,{value:e?.id||"",onValueChange:a=>{const o=n.find(i=>i.id===a)||null;t(o)},disabled:r,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsx(X,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(a=>s.jsx(D,{value:a.id,children:a.name},a.id))})]})]})})]})},ia=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));ia.displayName="Table";const la=h.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));la.displayName="TableHeader";const ca=h.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));ca.displayName="TableBody";const doe=h.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));doe.displayName="TableFooter";const ms=h.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ms.displayName="TableRow";const Fe=h.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableHead";const Oe=h.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableCell";const uoe=h.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));uoe.displayName="TableCaption";const XN=({config:e,onChange:t})=>{const[n,r]=h.useState({fieldName:"",length:0}),a=(c,d)=>{t({...e,[c]:d})},o=()=>{if(n.fieldName&&n.length>0){const c=e.fieldLengths||{},d=e.fieldOrder||[];t({...e,fieldLengths:{...c,[n.fieldName]:n.length},fieldOrder:[...d,n.fieldName]}),r({fieldName:"",length:0})}},i=c=>{const{[c]:d,...u}=e.fieldLengths||{},m=(e.fieldOrder||[]).filter(f=>f!==c);t({...e,fieldLengths:u,fieldOrder:m})},l=()=>{switch(e.fileFormat){case"CSV":return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"CSV Configuration"}),s.jsx(xe,{children:"Configure CSV file format settings"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"delimiter",children:"Delimiter"}),s.jsx(V,{id:"delimiter",value:e.delimiter||",",onChange:c=>a("delimiter",c.target.value),placeholder:",",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"quoteCharacter",children:"Quote Character"}),s.jsx(V,{id:"quoteCharacter",value:e.quoteCharacter||'"',onChange:c=>a("quoteCharacter",c.target.value),placeholder:'"',maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(K,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"\\n",children:"LF (\\n)"}),s.jsx(D,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(D,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(K,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeHeaders",checked:e.includeHeaders!==!1,onCheckedChange:c=>a("includeHeaders",c)}),s.jsx(E,{htmlFor:"includeHeaders",children:"Include Headers"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"quoteAllFields",checked:e.quoteAllFields===!0,onCheckedChange:c=>a("quoteAllFields",c)}),s.jsx(E,{htmlFor:"quoteAllFields",children:"Quote All Fields"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"skipEmptyLines",checked:e.skipEmptyLines===!0,onCheckedChange:c=>a("skipEmptyLines",c)}),s.jsx(E,{htmlFor:"skipEmptyLines",children:"Skip Empty Lines"})]})]})]})]});case"FIXED":return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Fixed-Length Configuration"}),s.jsx(xe,{children:"Define field positions and lengths"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"padCharacter",children:"Pad Character"}),s.jsx(V,{id:"padCharacter",value:e.padCharacter||" ",onChange:c=>a("padCharacter",c.target.value),placeholder:" ",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"padDirection",children:"Pad Direction"}),s.jsxs(K,{value:e.padDirection||"RIGHT",onValueChange:c=>a("padDirection",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"LEFT",children:"Left"}),s.jsx(D,{value:"RIGHT",children:"Right"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(K,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"\\n",children:"LF (\\n)"}),s.jsx(D,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(D,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(K,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(E,{children:"Field Definitions"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{placeholder:"Field Name",value:n.fieldName,onChange:c=>r({...n,fieldName:c.target.value})}),s.jsx(V,{type:"number",placeholder:"Length",value:n.length||"",onChange:c=>r({...n,length:parseInt(c.target.value)||0}),className:"w-32"}),s.jsx(z,{onClick:o,size:"sm",children:s.jsx(ns,{className:"h-4 w-4"})})]}),e.fieldOrder&&e.fieldOrder.length>0&&s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Field Name"}),s.jsx(Fe,{children:"Length"}),s.jsx(Fe,{children:"Start Position"}),s.jsx(Fe,{className:"w-16"})]})}),s.jsx(ca,{children:e.fieldOrder.map((c,d)=>{const u=e.fieldOrder.slice(0,d).reduce((m,f)=>m+(e.fieldLengths?.[f]||0),1);return s.jsxs(ms,{children:[s.jsx(Oe,{children:c}),s.jsx(Oe,{children:e.fieldLengths?.[c]}),s.jsx(Oe,{children:u}),s.jsx(Oe,{children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(c),children:s.jsx(or,{className:"h-4 w-4"})})})]},c)})})]})]})]})})]})]});case"JSON":return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"JSON Configuration"}),s.jsx(xe,{children:"Configure JSON file format settings"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"dateFormat",children:"Date Format"}),s.jsx(V,{id:"dateFormat",value:e.dateFormat||"yyyy-MM-dd'T'HH:mm:ss.SSSZ",onChange:c=>a("dateFormat",c.target.value),placeholder:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(K,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"prettyPrint",checked:e.prettyPrint!==!1,onCheckedChange:c=>a("prettyPrint",c)}),s.jsx(E,{htmlFor:"prettyPrint",children:"Pretty Print"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeNullValues",checked:e.includeNullValues===!0,onCheckedChange:c=>a("includeNullValues",c)}),s.jsx(E,{htmlFor:"includeNullValues",children:"Include Null Values"})]})]})]})]});case"XML":return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"XML Configuration"}),s.jsx(xe,{children:"XML format is handled in the XML Conversion tab"})]}),s.jsx(Z,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please configure XML-specific settings in the XML Conversion tab."})})]});default:return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Plain Text Configuration"}),s.jsx(xe,{children:"Basic text file settings"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(K,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})})]})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"File Format Type"}),s.jsx(xe,{children:"Select the format of files this adapter will process"})]}),s.jsx(Z,{children:s.jsxs(K,{value:e.fileFormat||"TEXT",onValueChange:c=>a("fileFormat",c),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"CSV",children:"CSV (Comma-Separated Values)"}),s.jsx(D,{value:"FIXED",children:"Fixed-Length"}),s.jsx(D,{value:"JSON",children:"JSON"}),s.jsx(D,{value:"XML",children:"XML"}),s.jsx(D,{value:"TEXT",children:"Plain Text"})]})]})})]}),l(),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Sample Preview"}),s.jsx(xe,{children:"Example of how your file format will look"})]}),s.jsx(Z,{children:s.jsxs("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto",children:[e.fileFormat==="CSV"&&(e.includeHeaders!==!1?`orderId${e.delimiter||","}customer${e.delimiter||","}amount
12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`:`12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`),e.fileFormat==="FIXED"&&e.fieldOrder&&(e.fieldOrder.map(c=>c.padEnd(e.fieldLengths?.[c]||0,e.padCharacter||" ")).join("")||"Define fields above to see preview"),e.fileFormat==="JSON"&&(e.prettyPrint!==!1?`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99${e.includeNullValues?`,
  "discount": null`:""}
}`:`{"orderId":"12345","customer":"John Doe","amount":99.99${e.includeNullValues?',"discount":null':""}}`),(e.fileFormat==="XML"||e.fileFormat==="TEXT"||!e.fileFormat)&&"Sample data based on selected format will appear here"]})})]})]})},ji=({mode:e,config:t,onChange:n})=>{const r=(a,o)=>{n({...t,[a]:o})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(et,{children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{children:e==="SENDER"?"Configure how incoming data is converted to XML for mapping":"Configure how XML is converted back to the target format after mapping"})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Basic Settings"}),s.jsx(xe,{children:"Core XML conversion configuration"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"rootElementName",children:"Root Element Name"}),s.jsx(V,{id:"rootElementName",value:t.rootElementName||"Message",onChange:a=>r("rootElementName",a.target.value),placeholder:"Message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The root element that wraps the converted data"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsx(V,{id:"encoding",value:t.encoding||"UTF-8",onChange:a=>r("encoding",a.target.value),placeholder:"UTF-8"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeXmlDeclaration",checked:t.includeXmlDeclaration!==!1,onCheckedChange:a=>r("includeXmlDeclaration",a)}),s.jsx(E,{htmlFor:"includeXmlDeclaration",children:"Include XML Declaration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"prettyPrint",checked:t.prettyPrint!==!1,onCheckedChange:a=>r("prettyPrint",a)}),s.jsx(E,{htmlFor:"prettyPrint",children:"Pretty Print (Format with indentation)"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Namespace Configuration"}),s.jsx(xe,{children:"Optional XML namespace settings"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"targetNamespace",children:"Target Namespace"}),s.jsx(V,{id:"targetNamespace",value:t.targetNamespace||"",onChange:a=>r("targetNamespace",a.target.value),placeholder:"http://example.com/integration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"XML namespace URI (optional)"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"namespacePrefix",children:"Namespace Prefix"}),s.jsx(V,{id:"namespacePrefix",value:t.namespacePrefix||"",onChange:a=>r("namespacePrefix",a.target.value),placeholder:"ns"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prefix for namespace (e.g., ns:Element)"})]})]})})]}),e==="RECEIVER"&&s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Receiver Options"}),s.jsx(xe,{children:"Settings for converting XML back to target format"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"removeRootElement",checked:t.removeRootElement===!0,onCheckedChange:a=>r("removeRootElement",a)}),s.jsx(E,{htmlFor:"removeRootElement",children:"Remove Root Element"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Strip the wrapper element when converting from XML"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"handleNamespaces",checked:t.handleNamespaces!==!1,onCheckedChange:a=>r("handleNamespaces",a)}),s.jsx(E,{htmlFor:"handleNamespaces",children:"Handle Namespaces"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Process namespace declarations and prefixes"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"preserveAttributes",checked:t.preserveAttributes===!0,onCheckedChange:a=>r("preserveAttributes",a)}),s.jsx(E,{htmlFor:"preserveAttributes",children:"Preserve Attributes"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Keep XML attributes as separate fields (instead of converting to elements)"})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Example"}),s.jsx(xe,{children:"How your data will be converted"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"json",className:"w-full",children:[s.jsxs(Ke,{children:[s.jsx(me,{value:"json",children:"JSON to XML"}),s.jsx(me,{value:"csv",children:"CSV to XML"}),s.jsx(me,{value:"sql",children:"SQL to XML"})]}),s.jsx(he,{value:"json",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"Original JSON"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99
}`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <orderId>12345</orderId>
  <customer>John Doe</customer>
  <amount>99.99</amount>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(he,{value:"csv",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"Original CSV"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`orderId,customer,amount
12345,John Doe,99.99
12346,Jane Smith,149.99`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <record>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </record>
  <record>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </record>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(he,{value:"sql",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"SQL Result"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`SELECT * FROM orders
-----------------
orderId | customer    | amount
12345   | John Doe    | 99.99
12346   | Jane Smith  | 149.99`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <row>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </row>
  <row>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </row>
</${t.rootElementName||"Message"}>`})]})]})})]})})]})]})},GL=h.forwardRef(({value:e,onValueChange:t,options:n,className:r,size:a="md",disabled:o=!1},i)=>{const l={sm:"h-8 text-xs",md:"h-10 text-sm",lg:"h-12 text-base"},c=d=>{o||t(d.value)};return s.jsx("div",{ref:i,className:re("inline-flex rounded-lg bg-muted p-1 text-muted-foreground",l[a],o&&"opacity-50 cursor-not-allowed",r),children:n.map(d=>s.jsxs("button",{type:"button",onClick:()=>c(d),disabled:o,className:re("relative inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e===d.value?"bg-background text-foreground shadow-sm":"hover:text-foreground","flex-1"),children:[d.icon&&s.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.value))})});GL.displayName="SegmentedControl";const wi=({config:e,onChange:t,adapterType:n,dataStructures:r=[],disabled:a=!1})=>{const o=[{value:"transform",label:"Transform Data"},{value:"passthrough",label:"Passthrough"}],i=m=>{const f={...e,mode:m};m==="passthrough"?(f.dataStructureId=void 0,f.requiresStructure=!1):f.requiresStructure=c(n),t(f)},l=m=>{t({...e,dataStructureId:m})},c=m=>["FILE","FTP","SFTP","REST","HTTP","HTTPS","JSON","XML"].includes(m.toUpperCase()),d=()=>{const m=n.toUpperCase();return["REST","HTTP","HTTPS"].includes(m)?s.jsxs(et,{className:"mt-4",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(tt,{children:"For REST/HTTP adapters with transformation enabled, you must define the payload structure. The payload will be automatically converted to XML for mapping."})]}):["FILE","FTP","SFTP"].includes(m)?s.jsxs(et,{className:"mt-4",children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{children:"File adapters require an XML data structure when transformation is enabled. The file content will be converted to/from XML for processing."})]}):m==="SOAP"?s.jsxs(et,{className:"mt-4",children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{children:"SOAP adapters always require a WSDL which defines the data structures."})]}):null},u=r.filter(m=>["REST","HTTP","HTTPS"].includes(n.toUpperCase())?["JSON","XML"].includes(m.type):m.type==="XML");return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Transformation"}),s.jsx(xe,{children:"Choose whether to transform data or pass it through unchanged"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Transformation Mode"}),s.jsx(GL,{value:e.mode,onValueChange:i,options:o,disabled:a})]}),e.mode==="transform"&&e.requiresStructure&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Data Structure *"}),s.jsxs(K,{value:e.dataStructureId,onValueChange:l,disabled:a,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a data structure"})}),s.jsx(X,{children:u.map(m=>s.jsxs(D,{value:m.id,children:[m.name," (",m.type,")"]},m.id))})]}),u.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No compatible data structures found. Please create one first."})]}),e.mode==="passthrough"&&s.jsxs(et,{children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{children:"Passthrough mode transfers data without any transformation or XML conversion. This is ideal for binary files or when you need to preserve the exact file format."})]}),e.mode==="transform"&&d()]})]})},hoe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),a=c=>{const d={...n,...c};r(d),t?.(d)},o=()=>{const c=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,d,u)=>{const m=[...n.advancedEntries];m[c]={...m[c],[d]:u},a({advancedEntries:m})},l=c=>{if(n.advancedEntries.length>1){const d=n.advancedEntries.filter((u,m)=>m!==c);a({advancedEntries:d})}};return s.jsxs(q,{className:"w-full",children:[s.jsxs(se,{children:[s.jsxs(ne,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your FTP ",e," adapter settings"]})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Ke,{className:`grid w-full ${e==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),e==="sender"&&s.jsx(me,{value:"transformation",children:"Transformation"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(me,{value:"fileFormat",children:"File Format"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(he,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(V,{id:"sourceDirectory",value:n.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(V,{id:"fileName",value:n.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(K,{value:n.sorting,onValueChange:c=>a({sorting:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select sorting option"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(D,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(D,{value:"file-size",children:"File Size"}),s.jsx(D,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(V,{id:"exclusionMask",value:n.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((c,d)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(V,{value:c.directory,onChange:u=>i(d,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(V,{value:c.fileName,onChange:u=>i(d,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(V,{value:c.exclusionMask,onChange:u=>i(d,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(d),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},d))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(V,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(V,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(K,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection security"})}),s.jsxs(X,{children:[s.jsx(D,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(D,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(D,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(V,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(K,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(he,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(V,{id:"targetDirectory",value:n.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(V,{id:"targetFileName",value:n.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(V,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(V,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(K,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection security"})}),s.jsxs(X,{children:[s.jsx(D,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(D,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(D,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(V,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(K,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(it,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(V,{id:"pollingInterval",value:n.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(K,{value:n.processingMode,onValueChange:c=>a({processingMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(K,{value:n.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"do-not-create",children:"Do not create message"}),s.jsx(D,{value:"process-empty",children:"Process empty files"}),s.jsx(D,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(K,{value:n.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(K,{value:n.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(K,{value:n.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(V,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(V,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),e==="sender"&&s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:n.transformationConfig||{mode:"passthrough"},onChange:c=>a({transformationConfig:c}),adapterType:"FTP",disabled:!1})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"fileFormat",className:"mt-6",children:s.jsx(XN,{config:n.fileFormatConfig||{},onChange:c=>a({fileFormatConfig:c})})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:c=>a({xmlConversion:c})})})]})})]})},moe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),a=d=>{const u={...n,...d};r(u),t?.(u)},o=()=>{const d=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,u,m)=>{const f=[...n.advancedEntries];f[d]={...f[d],[u]:m},a({advancedEntries:f})},l=d=>{if(n.advancedEntries.length>1){const u=n.advancedEntries.filter((m,f)=>f!==d);a({advancedEntries:u})}},c=()=>{switch(n.authenticationType){case"public-key":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(K,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a key pair from system"})}),s.jsxs(X,{children:[s.jsx(D,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(D,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(D,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(D,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(D,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(D,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"username-password":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(V,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})})]});case"dual":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(V,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(K,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a key pair from system"})}),s.jsxs(X,{children:[s.jsx(D,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(D,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(D,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(D,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(D,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(D,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(hs,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"dynamic":return s.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return s.jsxs(q,{className:"w-full",children:[s.jsxs(se,{children:[s.jsxs(ne,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your SFTP ",e," adapter settings"]})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Ke,{className:`grid w-full ${e==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),e==="sender"&&s.jsx(me,{value:"transformation",children:"Transformation"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(me,{value:"fileFormat",children:"File Format"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(he,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(V,{id:"sourceDirectory",value:n.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(V,{id:"fileName",value:n.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(V,{id:"exclusionMask",value:n.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((d,u)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(V,{value:d.directory,onChange:m=>i(u,"directory",m.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(V,{value:d.fileName,onChange:m=>i(u,"fileName",m.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(V,{value:d.exclusionMask,onChange:m=>i(u,"exclusionMask",m.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(V,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(V,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(K,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"public-key",children:"Public Key"}),s.jsx(D,{value:"username-password",children:"User Name/Password"}),s.jsx(D,{value:"dual",children:"Dual"}),s.jsx(D,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(V,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryConnection",children:"Retry Connection"}),s.jsx(V,{id:"retryConnection",value:n.retryConnection,onChange:d=>a({retryConnection:d.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),s.jsx(V,{id:"retryConnectionDelay",value:n.retryConnectionDelay,onChange:d=>a({retryConnectionDelay:d.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(K,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(he,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(V,{id:"targetDirectory",value:n.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(V,{id:"targetFileName",value:n.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(V,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(V,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(K,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"public-key",children:"Public Key"}),s.jsx(D,{value:"username-password",children:"User Name/Password"}),s.jsx(D,{value:"dual",children:"Dual"}),s.jsx(D,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(K,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsx(he,{value:"processing",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(it,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),s.jsx(V,{id:"pollingInterval",value:n.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(K,{value:n.processingMode,onValueChange:d=>a({processingMode:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"keep-file",children:"Keep File"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(K,{value:n.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"do-not-create-message",children:"Do not create message"}),s.jsx(D,{value:"process-empty-files",children:"Process empty files"}),s.jsx(D,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),s.jsx(V,{id:"duplicateMessageAlertThreshold",value:n.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(K,{value:n.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(K,{value:n.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(K,{value:n.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(V,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})}),e==="sender"&&s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:n.transformationConfig||{mode:"passthrough"},onChange:d=>a({transformationConfig:d}),adapterType:"SFTP",disabled:!1})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"fileFormat",className:"mt-6",children:s.jsx(XN,{config:n.fileFormatConfig||{},onChange:d=>a({fileFormatConfig:d})})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:d=>a({xmlConversion:d})})})]})})]})},poe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"transform",requiresStructure:!0}}),a=c=>{const d={...n,...c};r(d),t?.(d)},o=()=>{const c=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,d,u)=>{const m=[...n.advancedEntries];m[c]={...m[c],[d]:u},a({advancedEntries:m})},l=c=>{if(n.advancedEntries.length>1){const d=n.advancedEntries.filter((u,m)=>m!==c);a({advancedEntries:d})}};return s.jsxs(q,{className:"w-full",children:[s.jsxs(se,{children:[s.jsxs(ne,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your File ",e," adapter settings"]})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"fileFormat",children:"File Format"}),s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsx(he,{value:"source",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(V,{id:"sourceDirectory",value:n.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(V,{id:"fileName",value:n.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(K,{value:n.sorting,onValueChange:c=>a({sorting:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select sorting option"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(D,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(D,{value:"file-size",children:"File Size"}),s.jsx(D,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(V,{id:"exclusionMask",value:n.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((c,d)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(V,{value:c.directory,onChange:u=>i(d,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(V,{value:c.fileName,onChange:u=>i(d,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(V,{value:c.exclusionMask,onChange:u=>i(d,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(d),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},d))]})]})]})}),e==="receiver"&&s.jsx(he,{value:"target",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(V,{id:"targetDirectory",value:n.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(V,{id:"targetFileName",value:n.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]})}),s.jsxs(he,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(it,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(V,{id:"pollingInterval",value:n.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(K,{value:n.processingMode,onValueChange:c=>a({processingMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(K,{value:n.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"do-not-create",children:"Do not create message"}),s.jsx(D,{value:"process-empty",children:"Process empty files"}),s.jsx(D,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(K,{value:n.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(K,{value:n.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(K,{value:n.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(V,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(it,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(V,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:n.transformationConfig||{mode:"transform"},onChange:c=>a({transformationConfig:c}),adapterType:"FILE",disabled:!1})}),n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"fileFormat",className:"mt-6",children:s.jsx(XN,{config:n.fileFormatConfig||{},onChange:c=>a({fileFormatConfig:c})})}),n.transformationConfig?.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:c=>a({xmlConversion:c})})})]})})]})},bx=({config:e,onChange:t,adapterType:n,mode:r,disabled:a=!1})=>{const[o,i]=h.useState(""),l=g=>{const p=[];try{JSON.parse(g)}catch(w){p.push(`Invalid JSON: ${w.message}`)}return p},c=g=>{const p=[];try{new DOMParser().parseFromString(g,"text/xml").querySelector("parsererror")&&p.push("Invalid XML format")}catch(w){p.push(`XML parsing error: ${w.message}`)}return p},d=g=>{const p={...e,samplePayload:g};if(g){const w=e.format==="JSON"?l(g):c(g);if(p.validationErrors=w,e.format==="JSON"&&w.length===0)try{const v=JSON.parse(g),y=u(v);i(y),p.convertedXml=y}catch(v){console.error("Error converting to XML preview:",v)}}t(p)},u=g=>{const p=(w,v="")=>{let y="";return Array.isArray(w)?w.forEach(j=>{y+=`${v}<item>
${p(j,v+"  ")}${v}</item>
`}):typeof w=="object"&&w!==null?Object.entries(w).forEach(([j,N])=>{const b=j.replace(/[^a-zA-Z0-9_-]/g,"_");typeof N=="object"&&N!==null?y+=`${v}<${b}>
${p(N,v+"  ")}${v}</${b}>
`:y+=`${v}<${b}>${m(String(N))}</${b}>
`}):y+=`${v}${m(String(w))}
`,y};return`<?xml version="1.0" encoding="UTF-8"?>
<Message>
${p(g,"  ")}</Message>`},m=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),f=()=>{if(!(!e.samplePayload||e.format!=="JSON"))try{const g=JSON.parse(e.samplePayload),p=x(g);t({...e,jsonSchema:JSON.stringify(p,null,2)})}catch(g){console.error("Error generating schema:",g)}},x=g=>{const p={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{}},w=v=>{if(v===null)return{type:"null"};if(typeof v=="string")return{type:"string"};if(typeof v=="number")return{type:"number"};if(typeof v=="boolean")return{type:"boolean"};if(Array.isArray(v))return v.length>0?{type:"array",items:w(v[0])}:{type:"array"};if(typeof v=="object"){const y={type:"object",properties:{}};return Object.entries(v).forEach(([j,N])=>{y.properties[j]=w(N)}),y}return{type:"string"}};return Object.entries(g).forEach(([v,y])=>{p.properties[v]=w(y)}),p};return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Payload Structure Definition"}),s.jsxs(xe,{children:["Define the structure of ",r==="sender"?"incoming":"outgoing"," payloads for your ",n," adapter"]})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsxs(tt,{children:["For REST/HTTP adapters, the payload structure will be automatically converted to XML for mapping.",e.format==="JSON"&&" JSON payloads will be transformed to XML with appropriate element names."]})]}),s.jsxs(Ge,{defaultValue:"sample",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-3",children:[s.jsx(me,{value:"sample",children:"Sample Payload"}),s.jsx(me,{value:"schema",children:"Schema Definition"}),s.jsx(me,{value:"preview",disabled:!e.samplePayload||e.format!=="JSON",children:"XML Preview"})]}),s.jsxs(he,{value:"sample",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{children:["Sample ",e.format," Payload"]}),s.jsx(ke,{placeholder:e.format==="JSON"?`{
  "orderId": "12345",
  "customer": {
    "name": "John Doe",
    "email": "john@example.com"
  },
  "items": [...]
}`:`<Order>
  <OrderId>12345</OrderId>
  <Customer>
    <Name>John Doe</Name>
  </Customer>
</Order>`,className:"font-mono text-sm min-h-[300px]",value:e.samplePayload||"",onChange:g=>d(g.target.value),disabled:a}),e.validationErrors&&e.validationErrors.length>0&&s.jsx("div",{className:"space-y-1",children:e.validationErrors.map((g,p)=>s.jsx("p",{className:"text-sm text-destructive",children:g},p))}),e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[s.jsx(Ns,{className:"h-3 w-3"}),"Valid ",e.format," payload"]})]}),e.format==="JSON"&&e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs(z,{variant:"outline",size:"sm",onClick:f,disabled:a,children:[s.jsx(f0,{className:"h-4 w-4 mr-2"}),"Generate JSON Schema"]})]}),s.jsx(he,{value:"schema",className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{children:[e.format," Schema"]}),s.jsx(ke,{placeholder:e.format==="JSON"?"JSON Schema (optional)":"XSD Schema (optional)",className:"font-mono text-sm min-h-[300px]",value:e.format==="JSON"?e.jsonSchema:e.xmlSchema,onChange:g=>t({...e,[e.format==="JSON"?"jsonSchema":"xmlSchema"]:g.target.value}),disabled:a}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema definition is optional but helps with validation and documentation"})]})}),s.jsxs(he,{value:"preview",className:"space-y-4",children:[s.jsxs(et,{children:[s.jsx(m0,{className:"h-4 w-4"}),s.jsx(tt,{children:"This preview shows how your JSON payload will be converted to XML for mapping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"XML Conversion Preview"}),s.jsx(ke,{className:"font-mono text-sm min-h-[300px] bg-muted",value:o,readOnly:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This XML structure will be used in the mapping screen"})]})]})]})]})]})};function foe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=fo(),{structures:a}=pc(),[o,i]=h.useState(""),[l,c]=h.useState([]),[d,u]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[m,f]=h.useState(e.payloadStructureConfig||{format:"JSON"});h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(o){const p=a.filter(w=>w.usage==="source");c(p)}else c([])},[o,a]);const x=p=>{u(p),t("transformationConfig",p)},g=p=>{f(p),t("payloadStructureConfig",p)};return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"HTTP Sender Configuration"}),s.jsx(xe,{children:"Configure your HTTP sender adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsx(he,{value:"source",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"endpointUrl",children:"Endpoint URL"}),s.jsx(V,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:p=>t("endpointUrl",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(K,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"}),s.jsx(D,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(K,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),s.jsx(ke,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:p=>t("sslConfig",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(V,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),s.jsx(V,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:p=>t("rateLimits",p.target.value)})]})]})}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(V,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:p=>t("asyncResponseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(K,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:p=>t("asyncResponseFormat",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(V,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:p=>t("asyncCallbackUrl",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(K,{value:o,onValueChange:p=>{i(p),t("businessComponentId",p)},disabled:r,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:n.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(K,{value:e.requestPayloadFormat||"",onValueChange:p=>t("requestPayloadFormat",p),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(K,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(ke,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"}),s.jsx(D,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(V,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(hs,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:p=>t("basicPassword",p),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&s.jsx("div",{className:"space-y-2",children:s.jsx(hs,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:p=>t("bearerToken",p),showConfirmation:!1})}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(V,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(hs,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:p=>t("apiKeyValue",p),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jwtToken",children:"JWT Token"}),s.jsx(ke,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:p=>t("jwtToken",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),s.jsxs(K,{value:e.jwtAlgorithm||"",onValueChange:p=>t("jwtAlgorithm",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select JWT algorithm"})}),s.jsxs(X,{children:[s.jsx(D,{value:"HS256",children:"HS256"}),s.jsx(D,{value:"HS384",children:"HS384"}),s.jsx(D,{value:"HS512",children:"HS512"}),s.jsx(D,{value:"RS256",children:"RS256"}),s.jsx(D,{value:"RS384",children:"RS384"}),s.jsx(D,{value:"RS512",children:"RS512"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(ke,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(ke,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:p=>t("retryPolicy",p.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:d,onChange:x,adapterType:"HTTP",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(he,{value:"payload",className:"mt-6",children:s.jsx(bx,{config:m,onChange:g,adapterType:"HTTP",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}class xoe{async getAllCertificates(t){const n=t?`?businessComponentId=${t}`:"";return J.get(`/certificates${n}`)}async getCertificateById(t){return J.get(`/certificates/${t}`)}async createCertificate(t){return J.post("/certificates",t)}async updateCertificate(t,n){return J.put(`/certificates/${t}`,n)}async deleteCertificate(t){return J.delete(`/certificates/${t}`)}async uploadCertificate(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("type",n.type),r.append("usage",n.usage),J.post("/certificates/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadCertificate(t){const n=await fetch(`${J.baseURL}/certificates/${t}/download`,{method:"GET",headers:J.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download certificate");return n.blob()}async getCertificatesByBusinessComponent(t){return J.get(`/business-components/${t}/certificates`)}async validateCertificate(t){return J.get(`/certificates/${t}/validate`)}async getExpiringCertificates(t=30){return J.get(`/certificates/expiring?days=${t}`)}}const JL=new xoe,KN=({id:e,label:t,value:n,onChange:r,businessComponentId:a,placeholder:o="Select certificate",required:i=!1})=>{const[l,c]=h.useState([]),[d,u]=h.useState(!0);h.useEffect(()=>{(async()=>{try{u(!0);const x=await JL.getAllCertificates(a);x.success&&x.data?c(x.data):(console.error("Failed to fetch certificates:",x.error),c([]))}catch(x){console.error("Error fetching certificates:",x),c([]),fr({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{u(!1)}})()},[a]);const m=l.filter(f=>f.status==="active");return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:e,className:"flex items-center gap-1",children:[t,i&&s.jsx("span",{className:"text-destructive",children:"*"})]}),d?s.jsx(Ye,{className:"h-10 w-full"}):s.jsxs(K,{value:n,onValueChange:r,children:[s.jsx(Y,{id:e,children:s.jsx(G,{placeholder:o})}),s.jsx(X,{children:m.length===0?s.jsxs(D,{value:"",disabled:!0,children:["No certificates available ",a?"for this business component":""]}):m.map(f=>s.jsx(D,{value:f.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:f.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.type,"  ",f.issuer]})]})},f.id))})]})]})};function goe({configuration:e,onConfigurationChange:t,businessComponentId:n}){const[r,a]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[o,i]=h.useState(e.payloadStructureConfig||{format:"JSON"}),l=d=>{a(d),t("transformationConfig",d)},c=d=>{i(d),t("payloadStructureConfig",d)};return h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"HTTP Receiver Configuration"}),s.jsx(xe,{children:"Configure your HTTP receiver adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:r.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:r.mode!=="transform",children:"XML Conversion"})]}),s.jsx(he,{value:"target",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(V,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:d=>t("targetEndpointUrl",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(K,{value:e.httpMethod||"",onValueChange:d=>t("httpMethod",d),children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select HTTP method"})}),s.jsxs(X,{className:"bg-background border z-50",children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"}),s.jsx(D,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),s.jsx(V,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:d=>t("connectionTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"readTimeout",children:"Read Timeout"}),s.jsx(V,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:d=>t("readTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:d=>t("useProxy",d)}),s.jsx(E,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyServer",children:"Server"}),s.jsx(V,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:d=>t("proxyServer",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyPort",children:"Port"}),s.jsx(V,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:d=>t("proxyPort",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyUsername",children:"User Name"}),s.jsx(V,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:d=>t("proxyUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyPassword",children:"Password"}),s.jsx(V,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:d=>t("proxyPassword",d.target.value)})]})]})]})]})}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:d=>t("processingMode",d?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(V,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:d=>t("responseTimeout",parseInt(d.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:d=>t("waitForResponse",d)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(V,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:d=>t("asyncCorrelationId",d.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authenticationType||"",onValueChange:d=>t("authenticationType",d),children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select authentication method"})}),s.jsxs(X,{className:"bg-background border z-50",children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic"}),s.jsx(D,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),s.jsx(D,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(V,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:d=>t("basicUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(V,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:d=>t("basicPassword",d.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(V,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:d=>t("clientId",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(V,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:d=>t("clientSecret",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(V,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:d=>t("tokenUrl",d.target.value)})]})]}),e.authenticationType==="client-certificate"&&s.jsx("div",{className:"space-y-4",children:s.jsx(KN,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:d=>t("certificateId",d),businessComponentId:n,placeholder:"Select client certificate",required:!0})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestHeaders",children:"Request Headers"}),s.jsx(ke,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:d=>t("requestHeaders",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsx(ke,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:d=>t("requestPayloadFormat",d.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseHandling",children:"Response Handling"}),s.jsx(ke,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:d=>t("responseHandling",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(ke,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:d=>t("retryPolicy",d.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:r,onChange:l,adapterType:"HTTP",disabled:!1})}),r.mode==="transform"&&s.jsx(he,{value:"payload",className:"mt-6",children:s.jsx(bx,{config:o,onChange:c,adapterType:"HTTP",mode:"receiver",disabled:!1})}),r.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:d=>t("xmlConversion",d)})})]})})]})}const voe=["TCP/IP","Gateway"];function yoe({configuration:e,onConfigurationChange:t}){return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"IDOC Sender Configuration"}),s.jsx(xe,{children:"Configure your IDOC sender adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(V,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(V,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(V,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(V,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(V,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(V,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(V,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(K,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection type"})}),s.jsx(X,{children:voe.map(n=>s.jsx(D,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(V,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(V,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(V,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(V,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(V,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(V,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageType",children:"Message Type"}),s.jsx(V,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processCode",children:"Process Code"}),s.jsx(V,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(ke,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}const joe=["TCP/IP","Gateway"];function woe({configuration:e,onConfigurationChange:t}){return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"IDOC Receiver Configuration"}),s.jsx(xe,{children:"Configure your IDOC receiver adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(V,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(V,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(V,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(V,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(V,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(V,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(V,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(K,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection type"})}),s.jsx(X,{children:joe.map(n=>s.jsx(D,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(V,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(V,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(V,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(V,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(V,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(V,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageType",children:"Message Type"}),s.jsx(V,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processCode",children:"Process Code"}),s.jsx(V,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(ke,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}function Noe({adapter:e,onUpdate:t}){const n=(r,a)=>{t({...e,configuration:{...e.configuration,[r]:a}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing Details"})]}),s.jsx(he,{value:"source",className:"space-y-6",children:s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Connection Details"})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(V,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:r=>n("connectionFactoryClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(V,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:r=>n("queueClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(V,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:r=>n("queueManager",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(V,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:r=>n("host",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:r=>n("port",parseInt(r.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(V,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:r=>n("channel",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(V,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:r=>n("connectionFactory",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(K,{value:e.configuration.transportType||"CLIENT",onValueChange:r=>n("transportType",r),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select transport type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(D,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"User Name"}),s.jsx(V,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:r=>n("username",r.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:r=>n("password",r)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:r=>n("useSSL",r)}),s.jsx(E,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),s.jsx(V,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:r=>n("sslKeystore",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),s.jsx(V,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:r=>n("sslPassword",r.target.value)})]})]})]})]})}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Processing Details"})}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(V,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:r=>n("queueName",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(K,{value:e.configuration.destinationType||"",onValueChange:r=>n("destinationType",r),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select destination type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"Queue",children:"Queue"}),s.jsx(D,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(V,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:r=>n("messageSelector",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(V,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:r=>n("clientId",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(K,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:r=>n("ackMode",r),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select acknowledgement mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(D,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function boe({adapter:e,onUpdate:t,businessComponentId:n}){const r=(a,o)=>{t({...e,configuration:{...e.configuration,[a]:o}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing Details"})]}),s.jsx(he,{value:"target",className:"space-y-6",children:s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Connection Details"})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(V,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>r("connectionFactoryClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(V,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>r("queueClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(V,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>r("queueManager",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(V,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>r("host",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(V,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>r("port",parseInt(a.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(V,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>r("channel",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(V,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>r("connectionFactory",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(K,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>r("transportType",a),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select transport type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(D,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"User Name"}),s.jsx(V,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>r("username",a.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(hs,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>r("password",a)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>r("useSSL",a)}),s.jsx(E,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsx("div",{className:"space-y-4",children:s.jsx(KN,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>r("sslCertificateId",a),businessComponentId:n,placeholder:"Select SSL certificate",required:!0})})]})]})}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Processing Details"})}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(V,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>r("queueName",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(K,{value:e.configuration.destinationType||"",onValueChange:a=>r("destinationType",a),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select destination type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"Queue",children:"Queue"}),s.jsx(D,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(V,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>r("messageSelector",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(V,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>r("clientId",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(K,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>r("ackMode",a),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select acknowledgement mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(D,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function Soe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=fo(),{structures:a}=pc(),[o,i]=h.useState(""),[l,c]=h.useState([]),[d,u]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[m,f]=h.useState(e.payloadStructureConfig||{format:"JSON"});h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(o){const p=a.filter(w=>w.usage==="source");c(p)}else c([])},[o,a]);const x=p=>{u(p),t("transformationConfig",p)},g=p=>{f(p),t("payloadStructureConfig",p)};return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"REST Sender Configuration"}),s.jsx(xe,{children:"Configure your REST sender adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(he,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),s.jsx(V,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:p=>t("baseEndpointUrl",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(V,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:p=>t("resourcePath",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(V,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(K,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(K,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(K,{value:e.acceptType||"",onValueChange:p=>t("acceptType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select expected response type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/plain",children:"text/plain"}),s.jsx(D,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(ke,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:p=>t("queryParameters",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(V,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:p=>t("timeoutSettings",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(V,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:p=>t("asyncResponseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(K,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:p=>t("asyncResponseFormat",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(V,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:p=>t("asyncCallbackUrl",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(V,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(V,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:p=>t("basicPassword",p.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(V,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:p=>t("bearerToken",p.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(V,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(V,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:p=>t("apiKeyValue",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(K,{value:o,onValueChange:p=>{i(p),t("businessComponentId",p)},disabled:r,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:n.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayload",children:"Request Payload"}),s.jsxs(K,{value:e.requestPayload||"",onValueChange:p=>t("requestPayload",p),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(K,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Headers"}),s.jsx(ke,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(ke,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),s.jsx(V,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:p=>t("rateLimiting",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]}),s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:d,onChange:x,adapterType:"REST",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(he,{value:"payload",className:"mt-6",children:s.jsx(bx,{config:m,onChange:g,adapterType:"REST",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}function Coe({configuration:e,onConfigurationChange:t}){const[n,r]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[a,o]=h.useState(e.payloadStructureConfig||{format:"JSON"}),i=p=>{r(p),t("transformationConfig",p)},l=p=>{o(p),t("payloadStructureConfig",p)},{businessComponents:c,loading:d}=fo(),{structures:u}=pc(),[m,f]=h.useState(""),[x,g]=h.useState([]);return h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(m){const p=u.filter(w=>w.usage==="target");g(p)}else g([])},[m,u]),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"REST Receiver Configuration"}),s.jsx(xe,{children:"Configure your REST receiver adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:n.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:n.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(he,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(V,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:p=>t("targetEndpointUrl",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(V,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:p=>t("resourcePath",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(V,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(K,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(K,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(K,{value:e.acceptType||"",onValueChange:p=>t("acceptType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select expected response type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/plain",children:"text/plain"}),s.jsx(D,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(ke,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:p=>t("queryParameters",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(V,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:p=>t("timeoutSettings",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxySettings",children:"Proxy Settings"}),s.jsx(ke,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:p=>t("proxySettings",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(V,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:p=>t("responseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:p=>t("waitForResponse",p)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(V,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:p=>t("asyncCorrelationId",p.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(V,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(V,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:p=>t("basicPassword",p.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(V,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:p=>t("bearerToken",p.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(V,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(V,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:p=>t("apiKeyValue",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(K,{value:m,onValueChange:p=>{f(p),t("businessComponentId",p)},disabled:d,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:c.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(K,{value:e.requestPayloadFormat||"",onValueChange:p=>t("requestPayloadFormat",p),disabled:!m||x.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:x.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(K,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!m||x.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(G,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:x.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(ke,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(ke,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(ke,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:p=>t("retryPolicy",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]}),s.jsx(he,{value:"transformation",className:"mt-6",children:s.jsx(wi,{config:n,onChange:i,adapterType:"REST",disabled:!1})}),n.mode==="transform"&&s.jsx(he,{value:"payload",className:"mt-6",children:s.jsx(bx,{config:a,onChange:l,adapterType:"REST",mode:"receiver",disabled:!1})}),n.mode==="transform"&&s.jsx(he,{value:"xmlConversion",className:"mt-6",children:s.jsx(ji,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}function Eoe({configuration:e,onConfigurationChange:t,businessComponentId:n}){Be();const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState([]),[m,f]=h.useState(!1);h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{n&&x()},[n]),h.useEffect(()=>{e.selectedWsdl?g(e.selectedWsdl):(u([]),c({}))},[e.selectedWsdl]);const x=async()=>{try{i(!0);const p=await J.get("/structures",{params:{type:"wsdl",usage:"source",businessComponentId:n,limit:100}});if(p.data&&p.data.structures){console.log("SOAP Sender - Raw structures from API:",p.data.structures);const w=p.data.structures.filter(v=>{const y=v.type?.toLowerCase()==="wsdl",j=v.usage==="source"||v.metadata?.usage==="source"||!v.usage,N=y&&j;return console.log(`SOAP Sender - Structure ${v.name}: type=${v.type}, usage=${v.usage}, metadata.usage=${v.metadata?.usage}, included=${N}`),N}).map(v=>({id:v.id,name:v.name,endpointUrl:v.metadata?.endpointUrl||""}));console.log("SOAP Sender - Filtered WSDL list:",w),a(w)}else a([])}catch(p){console.error("Error fetching WSDLs:",p),a([])}finally{i(!1)}},g=async p=>{try{f(!0);const w=await J.get(`/structures/${p}`);if(w.data){const v=w.data;if(console.log("SOAP Sender - WSDL Structure:",v),console.log("SOAP Sender - WSDL Metadata:",v.metadata),v.originalContent){const T=mO(v.originalContent);u(T),console.log("SOAP Sender - Extracted SOAP actions:",T),T.length===1&&t("soapAction",T[0].soapAction);try{const M=new DOMParser().parseFromString(v.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let L=!1;M.forEach(F=>{F.querySelectorAll("operation, wsdl\\:operation").forEach(U=>{const O=!!U.querySelector("input, wsdl\\:input"),k=!!U.querySelector("output, wsdl\\:output");O&&k&&(L=!0)})}),L?(console.log("SOAP Sender - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Sender - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}catch(S){console.error("Error parsing WSDL for sync/async detection:",S),t("processingMode","SYNCHRONOUS")}}else u([]),console.warn("SOAP Sender - No originalContent in WSDL structure");const y={};(v.metadata?.requestStructure||v.metadata?.operationInfo?.request)&&(y.request=v.metadata?.requestStructure||v.metadata?.operationInfo?.request),(v.metadata?.responseStructure||v.metadata?.operationInfo?.response)&&(y.response=v.metadata?.responseStructure||v.metadata?.operationInfo?.response),(v.metadata?.faultStructure||v.metadata?.operationInfo?.fault)&&(y.fault=v.metadata?.faultStructure||v.metadata?.operationInfo?.fault),c(y),console.log("SOAP Sender - Extracted structures:",y);const j=v.metadata?.hasInput||v.metadata?.operationInfo?.hasInput,N=v.metadata?.hasOutput||v.metadata?.operationInfo?.hasOutput,b=v.metadata?.hasFault||v.metadata?.operationInfo?.hasFault;console.log(`SOAP Sender - WSDL Analysis from metadata: hasInput=${j}, hasOutput=${N}, hasFault=${b}`)}}catch(w){console.error("Error checking WSDL structure:",w),t("processingMode","ASYNCHRONOUS"),c({}),u([])}finally{f(!1)}};return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"SOAP Sender Configuration"}),s.jsx(xe,{children:"Configure your SOAP sender adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"connectionMode",className:"text-sm font-medium",children:(e.connectionMode||"PUSH")==="PUSH"?"Push Mode (Inbound)":"Poll Mode (Outbound)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.connectionMode||"PUSH")==="PUSH"?"Receive SOAP requests at the configured endpoint":"Poll and send requests to external SOAP service"})]}),s.jsx(ct,{id:"connectionMode",checked:(e.connectionMode||"PUSH")==="PUSH",onCheckedChange:p=>t("connectionMode",p?"PUSH":"POLL")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"service-endpoint",children:(e.connectionMode||"PUSH")==="PUSH"?"Service Endpoint Path":"External Service URL"}),s.jsx(V,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:p=>t("serviceEndpointUrl",p.target.value),placeholder:(e.connectionMode||"PUSH")==="PUSH"?"/tempconvert or /soap/tempconvert":"https://api.external.com/soap/service"}),(e.connectionMode||"PUSH")==="PUSH"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"This path will be used as the service endpoint (e.g., http://localhost:8080/soap/tempconvert)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-action",children:"SOAP Action"}),d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(K,{value:e.soapAction||"none",onValueChange:p=>t("soapAction",p==="none"?"":p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:m?"Loading SOAP actions...":"Select SOAP action"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None (Leave blank)"}),d.map((p,w)=>s.jsxs(D,{value:p.soapAction||`action_${w}`,children:[p.operationName," - ",p.soapAction||"(empty)"]},w))]})]}),d.length>1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",d.length," operations. Select the operation you want to use."]})]}):s.jsx(V,{id:"soap-action",value:e.soapAction||"",onChange:p=>t("soapAction",p.target.value),placeholder:"urn:getOrderDetails",disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(K,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select content type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(K,{value:e.soapVersion||"",onValueChange:p=>{t("soapVersion",p),p==="1.1"?t("contentType","text/xml"):p==="1.2"&&t("contentType","application/soap+xml")},children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select SOAP version"})}),s.jsxs(X,{children:[s.jsx(D,{value:"1.1",children:"SOAP 1.1"}),s.jsx(D,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Source Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"source-wsdl",children:"Select WSDL"}),s.jsxs(K,{value:e.selectedWsdl||"",onValueChange:p=>t("selectedWsdl",p),disabled:o||!n,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:n?o?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(X,{children:r.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(V,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:p=>t("asyncResponseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(K,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:p=>t("asyncResponseFormat",p),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(V,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:p=>t("asyncCallbackUrl",p.target.value)})]})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response-message",children:"Response Message"}),s.jsx(ke,{id:"response-message",value:e.responseMessage||"",onChange:p=>t("responseMessage",p.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(ke,{id:"error-handling",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(V,{id:"timeout",type:"number",value:e.timeout||"",onChange:p=>t("timeout",p.target.value),placeholder:"60"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Custom Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),s.jsx(ke,{id:"custom-headers",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),placeholder:"Additional SOAP headers in XML format (e.g., WS-Addressing, Custom security headers)",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter custom SOAP headers that will be included in the request envelope"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Additional Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-count",children:"Retry Count"}),s.jsx(V,{id:"retry-count",type:"number",value:e.retryCount||"",onChange:p=>t("retryCount",p.target.value),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-interval",children:"Retry Interval (seconds)"}),s.jsx(V,{id:"retry-interval",type:"number",value:e.retryInterval||"",onChange:p=>t("retryInterval",p.target.value),placeholder:"5"})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),l.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.request=="string"?l.request:JSON.stringify(l.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&l.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.response=="string"?l.response:JSON.stringify(l.response,null,2)})})]}),l.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.fault=="string"?l.fault:JSON.stringify(l.fault,null,2)})})]}),!l.request&&!l.response&&!l.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}function Toe({configuration:e,onConfigurationChange:t,businessComponentId:n}){Be();const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState([]),[m,f]=h.useState(!1);h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{n&&x()},[n]),h.useEffect(()=>{e.selectedWsdl?g(e.selectedWsdl):(u([]),c({}))},[e.selectedWsdl]);const x=async()=>{try{i(!0);const y=await J.get("/structures",{params:{type:"wsdl",usage:"target",businessComponentId:n,limit:100}});if(y.data&&y.data.structures){const j=y.data.structures.filter(N=>{const b=N.type?.toLowerCase()==="wsdl",T=N.usage==="target"||N.metadata?.usage==="target"||!N.usage,S=b&&T;return console.log(`SOAP Receiver - Structure ${N.name}: type=${N.type}, usage=${N.usage}, metadata.usage=${N.metadata?.usage}, included=${S}`),S}).map(N=>({id:N.id,name:N.name,endpointUrl:N.metadata?.endpointUrl||""}));a(j)}else a([])}catch(y){console.error("Error fetching WSDLs:",y),a([])}finally{i(!1)}},g=async y=>{try{f(!0);const j=await J.get(`/structures/${y}`);if(j.data){if(console.log("SOAP Receiver - WSDL Structure:",j.data),console.log("SOAP Receiver - WSDL Structure:",j.data),console.log("SOAP Receiver - WSDL Metadata:",j.data.metadata),console.log("SOAP Receiver - WSDL Namespace:",j.data.namespace),console.log("SOAP Receiver - Full response data:",JSON.stringify(j.data,null,2)),j.data.originalContent){const A=mO(j.data.originalContent);u(A),console.log("SOAP Receiver - Extracted SOAP actions:",A),A.length===1&&t("soapAction",A[0].soapAction);try{const F=new DOMParser().parseFromString(j.data.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let I=!1;F.forEach(U=>{U.querySelectorAll("operation, wsdl\\:operation").forEach(k=>{const C=!!k.querySelector("input, wsdl\\:input"),P=!!k.querySelector("output, wsdl\\:output");C&&P&&(I=!0)})}),I?(console.log("SOAP Receiver - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Receiver - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}catch(M){console.error("Error parsing WSDL for sync/async detection:",M),t("processingMode","SYNCHRONOUS")}}else u([]),console.warn("SOAP Receiver - No originalContent in WSDL structure");const N={};if((j.data.metadata?.requestStructure||j.data.metadata?.operationInfo?.request)&&(N.request=j.data.metadata?.requestStructure||j.data.metadata?.operationInfo?.request),(j.data.metadata?.responseStructure||j.data.metadata?.operationInfo?.response)&&(N.response=j.data.metadata?.responseStructure||j.data.metadata?.operationInfo?.response),(j.data.metadata?.faultStructure||j.data.metadata?.operationInfo?.fault)&&(N.fault=j.data.metadata?.faultStructure||j.data.metadata?.operationInfo?.fault),c(N),console.log("SOAP Receiver - Extracted structures:",N),j.data.metadata?.endpointUrl)t("targetEndpointUrl",j.data.metadata.endpointUrl),console.log("SOAP Receiver - Using endpoint URL from metadata:",j.data.metadata.endpointUrl);else if(j.data.namespace?.schemaLocation)t("targetEndpointUrl",j.data.namespace.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from namespace.schemaLocation:",j.data.namespace.schemaLocation);else if(j.data.namespace&&typeof j.data.namespace=="string")try{const A=JSON.parse(j.data.namespace);A.schemaLocation&&(t("targetEndpointUrl",A.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from parsed namespace:",A.schemaLocation))}catch{console.log("SOAP Receiver - Could not parse namespace string")}else if(j.data.originalContent)try{const L=new DOMParser().parseFromString(j.data.originalContent,"text/xml").querySelectorAll('address, soap\\:address, soap12\\:address, wsdl\\:address, *[name()="soap:address"], *[name()="soap12:address"]');if(L.length>0){const F=L[0].getAttribute("location");F&&(t("targetEndpointUrl",F),console.log("SOAP Receiver - Extracted endpoint URL from WSDL:",F))}}catch(A){console.error("Error parsing WSDL for endpoint URL:",A)}const b=j.data.metadata?.hasInput||j.data.metadata?.operationInfo?.hasInput,T=j.data.metadata?.hasOutput||j.data.metadata?.operationInfo?.hasOutput,S=j.data.metadata?.hasFault||j.data.metadata?.operationInfo?.hasFault;console.log(`SOAP Receiver - WSDL Analysis from metadata: hasInput=${b}, hasOutput=${T}, hasFault=${S}`)}}catch(j){console.error("Error fetching WSDL details:",j),t("processingMode","ASYNCHRONOUS"),c({}),u([])}finally{f(!1)}},p=y=>{t("authentication.type",y),t("authentication.credentials",{})},w=(y,j)=>{const N={...e.authentication?.credentials||{}};N[y]=j,t("authentication.credentials",N)},v=()=>{const y=e.authentication?.type,j=e.authentication?.credentials||{};switch(y){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-username",children:"Username"}),s.jsx(V,{id:"auth-username",value:j.username||"",onChange:N=>w("username",N.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-password",children:"Password"}),s.jsx(V,{id:"auth-password",type:"password",value:j.password||"",onChange:N=>w("password",N.target.value),placeholder:"Enter password"})]})]});case"ws-security":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-username",children:"Username"}),s.jsx(V,{id:"auth-username",value:j.username||"",onChange:N=>w("username",N.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-password",children:"Password"}),s.jsx(V,{id:"auth-password",type:"password",value:j.password||"",onChange:N=>w("password",N.target.value),placeholder:"Enter password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password-type",children:"Password Type"}),s.jsxs(K,{value:j.passwordType||"digest",onValueChange:N=>w("passwordType",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select password type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"digest",children:"Password Digest"}),s.jsx(D,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-policy",children:"Security Policy"}),s.jsxs(K,{value:j.securityPolicy||"",onValueChange:N=>w("securityPolicy",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select security policy"})}),s.jsxs(X,{children:[s.jsx(D,{value:"usernametoken",children:"Username Token Only"}),s.jsx(D,{value:"timestamp",children:"Timestamp"}),s.jsx(D,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),s.jsx(D,{value:"sign",children:"Digital Sign"}),s.jsx(D,{value:"encrypt",children:"Encrypt"}),s.jsx(D,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ws-addressing",children:"WS-Addressing"}),s.jsxs(K,{value:j.wsAddressing||"disabled",onValueChange:N=>w("wsAddressing",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select WS-Addressing"})}),s.jsxs(X,{children:[s.jsx(D,{value:"disabled",children:"Disabled"}),s.jsx(D,{value:"optional",children:"Optional"}),s.jsx(D,{value:"required",children:"Required"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),s.jsx(V,{id:"timestamp-ttl",type:"number",value:j.timestampTTL||"",onChange:N=>w("timestampTTL",N.target.value),placeholder:"300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-algorithm",children:"Security Algorithm"}),s.jsxs(K,{value:j.securityAlgorithm||"",onValueChange:N=>w("securityAlgorithm",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select algorithm"})}),s.jsxs(X,{children:[s.jsx(D,{value:"aes128",children:"AES-128"}),s.jsx(D,{value:"aes256",children:"AES-256"}),s.jsx(D,{value:"3des",children:"Triple DES"}),s.jsx(D,{value:"rsa15",children:"RSA 1.5"}),s.jsx(D,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(KN,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:N=>t("certificateId",N),businessComponentId:n,placeholder:"Select SOAP certificate",required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),s.jsxs(K,{value:e.verifyServerCertificate||"true",onValueChange:N=>t("verifyServerCertificate",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select verification"})}),s.jsxs(X,{children:[s.jsx(D,{value:"true",children:"Yes"}),s.jsx(D,{value:"false",children:"No"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"custom-policy",children:"Custom Security Policy"}),s.jsx(ke,{id:"custom-policy",value:j.customPolicy||"",onChange:N=>w("customPolicy",N.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-token-reference",children:"Security Token Reference"}),s.jsxs(K,{value:j.securityTokenReference||"binarySecurityToken",onValueChange:N=>w("securityTokenReference",N),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select token reference"})}),s.jsxs(X,{children:[s.jsx(D,{value:"binarySecurityToken",children:"Binary Security Token"}),s.jsx(D,{value:"keyIdentifier",children:"Key Identifier"}),s.jsx(D,{value:"x509Data",children:"X509 Data"}),s.jsx(D,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-client-id",children:"Client ID"}),s.jsx(V,{id:"auth-client-id",value:j.clientId||"",onChange:N=>w("clientId",N.target.value),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-client-secret",children:"Client Secret"}),s.jsx(V,{id:"auth-client-secret",type:"password",value:j.clientSecret||"",onChange:N=>w("clientSecret",N.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"SOAP Receiver Configuration"}),s.jsx(xe,{children:"Configure your SOAP receiver adapter settings"})]}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),s.jsx(V,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:y=>t("targetEndpointUrl",y.target.value),placeholder:"https://api.thirdparty.com/soap/service"}),e.selectedWsdl&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-populated from selected WSDL"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-action",children:"SOAP Action"}),d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(K,{value:e.soapAction||"none",onValueChange:y=>t("soapAction",y==="none"?"":y),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:m?"Loading SOAP actions...":"Select SOAP action"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None (Leave blank)"}),d.map((y,j)=>s.jsxs(D,{value:y.soapAction||`action_${j}`,children:[y.operationName," - ",y.soapAction||"(empty)"]},j))]})]}),d.length>1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",d.length," operations. Select the operation you want to use."]})]}):s.jsx(V,{id:"soap-action",value:e.soapAction||"",onChange:y=>t("soapAction",y.target.value),placeholder:"urn:submitOrder",disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(K,{value:e.contentType||"",onValueChange:y=>t("contentType",y),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select content type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(K,{value:e.soapVersion||"",onValueChange:y=>{t("soapVersion",y),y==="1.1"?t("contentType","text/xml"):y==="1.2"&&t("contentType","application/soap+xml")},children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select SOAP version"})}),s.jsxs(X,{children:[s.jsx(D,{value:"1.1",children:"SOAP 1.1"}),s.jsx(D,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Target Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"target-wsdl",children:"Select WSDL"}),s.jsxs(K,{value:e.selectedWsdl||"",onValueChange:y=>t("selectedWsdl",y),disabled:o||!n,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:n?o?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(X,{children:r.map(y=>s.jsx(D,{value:y.id,children:y.name},y.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),s.jsx(V,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:y=>t("connectionTimeout",parseInt(y.target.value)||0),placeholder:"30"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),s.jsx(V,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:y=>t("readTimeout",parseInt(y.target.value)||0),placeholder:"30"})]})]})]})]}),s.jsxs(he,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:y=>t("processingMode",y?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(V,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:y=>t("responseTimeout",parseInt(y.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:y=>t("waitForResponse",y)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(V,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:y=>t("asyncCorrelationId",y.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-type",children:"Authentication Type"}),s.jsxs(K,{value:e.authentication?.type||"none",onValueChange:p,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"ws-security",children:"WS-Security UsernameToken"}),s.jsx(D,{value:"oauth",children:"OAuth"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),s.jsxs(K,{value:e.wsSecurityPolicyType||"",onValueChange:y=>t("wsSecurityPolicyType",y),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Define Parameter"})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),v()]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response-message",children:"Response Message"}),s.jsx(ke,{id:"response-message",value:e.responseMessage||"",onChange:y=>t("responseMessage",y.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(ke,{id:"error-handling",value:e.errorHandling||"",onChange:y=>t("errorHandling",y.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-policy",children:"Retry Policy"}),s.jsx(ke,{id:"retry-policy",value:e.retryPolicy||"",onChange:y=>t("retryPolicy",y.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),l.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.request=="string"?l.request:JSON.stringify(l.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&l.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.response=="string"?l.response:JSON.stringify(l.response,null,2)})})]}),l.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.fault=="string"?l.fault:JSON.stringify(l.fault,null,2)})})]}),!l.request&&!l.response&&!l.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}const Poe=({configuration:e,onConfigurationChange:t})=>{const n=()=>{switch(e.authentication?.type||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(V,{id:"username",value:e.authentication?.credentials?.username||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,username:a.target.value}}),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Password"}),s.jsx(V,{id:"password",type:"password",value:e.authentication?.credentials?.password||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,password:a.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(V,{id:"clientId",value:e.authentication?.credentials?.clientId||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientId:a.target.value}}),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(V,{id:"clientSecret",type:"password",value:e.authentication?.credentials?.clientSecret||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientSecret:a.target.value}}),placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(V,{id:"tokenUrl",value:e.authentication?.credentials?.tokenUrl||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,tokenUrl:a.target.value}}),placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"scope",children:"Scope"}),s.jsx(V,{id:"scope",value:e.authentication?.credentials?.scope||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,scope:a.target.value}}),placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKey",children:"API Key"}),s.jsx(V,{id:"apiKey",type:"password",value:e.authentication?.credentials?.apiKey||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKey:a.target.value}}),placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(V,{id:"apiKeyHeader",value:e.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKeyHeader:a.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(he,{value:"target",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Service Connection"}),s.jsx(xe,{children:"Configure OData service connection parameters"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(V,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:r=>t("baseUrl",r.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(V,{id:"entitySetName",value:e.entitySetName||"",onChange:r=>t("entitySetName",r.target.value),placeholder:"Products, Orders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(K,{value:e.apiVersion||"",onValueChange:r=>t("apiVersion",r),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select OData version"})}),s.jsxs(X,{children:[s.jsx(D,{value:"v2",children:"v2"}),s.jsx(D,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authentication?.type||"none",onValueChange:r=>t("authentication",{type:r,credentials:{}}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2",children:"OAuth2"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryOptions",children:"Query Options"}),s.jsx(ke,{id:"queryOptions",value:e.queryOptions||"",onChange:r=>t("queryOptions",r.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(V,{id:"timeout",type:"number",value:e.timeout||"",onChange:r=>t("timeout",parseInt(r.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Handling"}),s.jsx(xe,{children:"Configure data processing and validation"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(ke,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map ProductID to id",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(ke,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:r=>t("dataValidationRules",r.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},Aoe=({configuration:e,onConfigurationChange:t})=>{const n=()=>{switch(e.authentication?.type||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(V,{id:"username",value:e.authentication?.credentials?.username||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,username:a.target.value}}),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Password"}),s.jsx(V,{id:"password",type:"password",value:e.authentication?.credentials?.password||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,password:a.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(V,{id:"clientId",value:e.authentication?.credentials?.clientId||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientId:a.target.value}}),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(V,{id:"clientSecret",type:"password",value:e.authentication?.credentials?.clientSecret||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientSecret:a.target.value}}),placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(V,{id:"tokenUrl",value:e.authentication?.credentials?.tokenUrl||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,tokenUrl:a.target.value}}),placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"scope",children:"Scope"}),s.jsx(V,{id:"scope",value:e.authentication?.credentials?.scope||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,scope:a.target.value}}),placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKey",children:"API Key"}),s.jsx(V,{id:"apiKey",type:"password",value:e.authentication?.credentials?.apiKey||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKey:a.target.value}}),placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(V,{id:"apiKeyHeader",value:e.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKeyHeader:a.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(he,{value:"source",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Service Connection"}),s.jsx(xe,{children:"Configure OData service connection parameters"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(V,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:r=>t("baseUrl",r.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(V,{id:"entitySetName",value:e.entitySetName||"",onChange:r=>t("entitySetName",r.target.value),placeholder:"Orders, Customers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(K,{value:e.apiVersion||"",onValueChange:r=>t("apiVersion",r),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select OData version"})}),s.jsxs(X,{children:[s.jsx(D,{value:"v2",children:"v2"}),s.jsx(D,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(K,{value:e.authentication?.type||"none",onValueChange:r=>t("authentication",{type:r,credentials:{}}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2",children:"OAuth2"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(V,{id:"timeout",type:"number",value:e.timeout||"",onChange:r=>t("timeout",parseInt(r.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Preparation"}),s.jsx(xe,{children:"Configure data processing and validation before sending"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(ke,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map OrderID to OrderId",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(ke,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:r=>t("dataValidationRules",r.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},koe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"target",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"target",className:"space-y-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"SAP System Identification"}),s.jsx(xe,{children:"SAP system connection details"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(V,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(V,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(V,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Connection Details"}),s.jsx(xe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(V,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(V,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(V,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(V,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(K,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"TCP",children:"TCP/IP"}),s.jsx(D,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Authentication"}),s.jsx(xe,{children:"SAP user credentials"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(V,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(V,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value),placeholder:"secret"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"RFC Configuration"}),s.jsx(xe,{children:"RFC-specific settings"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(V,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(V,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value),placeholder:"RfcReceiverService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Handling"}),s.jsx(xe,{children:"Configuration for handling received RFC data"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(ke,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(ke,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),Doe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"source",className:"space-y-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"SAP System Identification"}),s.jsx(xe,{children:"SAP system connection details"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(V,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(V,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(V,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Connection Details"}),s.jsx(xe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(V,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(V,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(V,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(V,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(K,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select connection type"})}),s.jsxs(X,{children:[s.jsx(D,{value:"TCP",children:"TCP/IP"}),s.jsx(D,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Authentication"}),s.jsx(xe,{children:"SAP user credentials"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(V,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hs,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:n=>t("sapPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"RFC Configuration"}),s.jsx(xe,{children:"RFC-specific settings"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(V,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"callerServiceName",children:"Caller Service Name"}),s.jsx(V,{id:"callerServiceName",value:e.callerServiceName||"",onChange:n=>t("callerServiceName",n.target.value),placeholder:"RfcSenderService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Data Preparation"}),s.jsx(xe,{children:"Configuration for preparing data before sending to SAP"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(ke,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map OrderID to VBELN",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(ke,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),Moe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(he,{value:"source",className:"space-y-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Mail Server Connection"}),s.jsx(xe,{children:"Configure connection to the incoming mail server"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailServerHost",children:"Mail Server Host"}),s.jsx(V,{id:"mailServerHost",value:e.mailServerHost||"",onChange:n=>t("mailServerHost",n.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailServerPort",children:"Mail Server Port"}),s.jsx(V,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:n=>t("mailServerPort",n.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailProtocol",children:"Protocol"}),s.jsxs(K,{value:e.mailProtocol||"",onValueChange:n=>t("mailProtocol",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select mail protocol"})}),s.jsxs(X,{children:[s.jsx(D,{value:"IMAP",children:"IMAP"}),s.jsx(D,{value:"POP3",children:"POP3"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailUsername",children:"Username"}),s.jsx(V,{id:"mailUsername",value:e.mailUsername||"",onChange:n=>t("mailUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hs,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:n=>t("mailPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:n=>t("useSSLTLS",n)}),s.jsx(E,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"folderName",children:"Folder Name"}),s.jsx(V,{id:"folderName",value:e.folderName||"INBOX",onChange:n=>t("folderName",n.target.value),placeholder:"INBOX"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),s.jsx(V,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:n=>t("pollingInterval",n.target.value),placeholder:"60000"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Message Filtering and Fetching"}),s.jsx(xe,{children:"Configure email search criteria and limits"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"searchCriteria",children:"Search Criteria"}),s.jsx(V,{id:"searchCriteria",value:e.searchCriteria||"",onChange:n=>t("searchCriteria",n.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxMessages",children:"Max Messages"}),s.jsx(V,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:n=>t("maxMessages",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Message Processing"}),s.jsx(xe,{children:"Configure how emails are processed after retrieval"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentHandling",children:"Content Handling"}),s.jsx(ke,{id:"contentHandling",value:e.contentHandling||"",onChange:n=>t("contentHandling",n.target.value),placeholder:"Save attachments, parse body text",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailEncoding",children:"Encoding"}),s.jsxs(K,{value:e.mailEncoding||"",onValueChange:n=>t("mailEncoding",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select encoding"})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:n=>t("deleteAfterFetch",n)}),s.jsx(E,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),Roe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ge,{defaultValue:"source",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(he,{value:"source",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"SMTP Server Connection"}),s.jsx(xe,{children:"Configure connection to the SMTP server for sending emails"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),s.jsx(V,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:n=>t("smtpServerHost",n.target.value),placeholder:"smtp.mailserver.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),s.jsx(V,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:n=>t("smtpServerPort",n.target.value),placeholder:"587 (TLS), 465 (SSL)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[s.jsx(Ze,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:n=>t("smtpUseSSLTLS",n)}),s.jsx(E,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpUsername",children:"Username"}),s.jsx(V,{id:"smtpUsername",value:e.smtpUsername||"",onChange:n=>t("smtpUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(hs,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:n=>t("smtpPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),s.jsx(V,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:n=>t("connectionTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),s.jsx(V,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:n=>t("readTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),s.jsx(he,{value:"processing",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Message Preparation"}),s.jsx(xe,{children:"Configure email content and recipients"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fromAddress",children:"From Address"}),s.jsx(V,{id:"fromAddress",value:e.fromAddress||"",onChange:n=>t("fromAddress",n.target.value),placeholder:"sender@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"toAddresses",children:"To Addresses"}),s.jsx(ke,{id:"toAddresses",value:e.toAddresses||"",onChange:n=>t("toAddresses",n.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ccAddresses",children:"CC Addresses"}),s.jsx(ke,{id:"ccAddresses",value:e.ccAddresses||"",onChange:n=>t("ccAddresses",n.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bccAddresses",children:"BCC Addresses"}),s.jsx(ke,{id:"bccAddresses",value:e.bccAddresses||"",onChange:n=>t("bccAddresses",n.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailSubject",children:"Subject"}),s.jsx(V,{id:"emailSubject",value:e.emailSubject||"",onChange:n=>t("emailSubject",n.target.value),placeholder:"Order Confirmation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailBody",children:"Body"}),s.jsx(ke,{id:"emailBody",value:e.emailBody||"",onChange:n=>t("emailBody",n.target.value),placeholder:"Email content - plain text or HTML",rows:6}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailAttachments",children:"Attachments"}),s.jsx(ke,{id:"emailAttachments",value:e.emailAttachments||"",onChange:n=>t("emailAttachments",n.target.value),placeholder:"PDF, images, etc.",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailEncoding",children:"Encoding"}),s.jsxs(K,{value:e.emailEncoding||"",onValueChange:n=>t("emailEncoding",n),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select encoding"})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class Foe{async createAdapter(t){return J.post("/adapters",t)}async getAdapters(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/adapters${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async getAdapter(t){return J.get(`/adapters/${t}`)}async updateAdapter(t,n){return J.put(`/adapters/${t}`,n)}async deleteAdapter(t){return J.delete(`/adapters/${t}`)}async cloneAdapter(t,n){return J.post(`/adapters/${t}/clone`,{name:n})}}class Ooe{async testAdapter(t,n){return J.post(`/adapters/${t}/test`,{testData:n})}async testAdapterConfiguration(t,n){return J.post("/adapters/test-config",{configuration:t,type:n})}async validateAdapterConfig(t,n){return J.post("/adapters/validate-config",{type:t,configuration:n})}}let Ioe=class{websocket=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=3e3;logListeners=[];statsListeners=[];async getAdapterStats(t,n){const r=`/adapters/${t}/stats${n?`?timeRange=${n}`:""}`;return J.get(r)}async getAdapterLogs(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/adapters/${t}/logs${r.toString()?`?${r.toString()}`:""}`;return J.get(a)}connectWebSocket(t){if(this.websocket?.readyState===WebSocket.OPEN)return;const n=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(n),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=r=>{try{const a=JSON.parse(r.data);a.type==="new_log"?this.logListeners.forEach(o=>o(a.log)):a.type==="stats_update"&&this.statsListeners.forEach(o=>o(a.stats))}catch(a){console.error("Error parsing WebSocket message:",a)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=r=>{console.error("WebSocket error:",r)}}catch(r){console.error("Failed to create WebSocket connection:",r)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const n=this.logListeners.indexOf(t);n>-1&&this.logListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){this.websocket?.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}};class Loe{async getAdapterTypes(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/adapters/types${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async getAdapterType(t){return J.get(`/adapters/types/${t}`)}async createAdapterType(t){return J.post("/adapters/types",t)}async updateAdapterType(t,n){return J.put(`/adapters/types/${t}`,n)}async deleteAdapterType(t){return J.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,n){return J.post(`/adapters/types/${t}/clone`,{name:n})}async getAdapterTypesByCategory(t){return J.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,n){return J.patch(`/adapters/types/${t}/status`,{isActive:n})}async validateAdapterTypeConfiguration(t,n){return J.post("/adapters/types/validate",{configuration:t,category:n})}async searchAdapterTypes(t,n){const r=new URLSearchParams({q:t,...n?.category&&{category:n.category},...n?.isActive!==void 0&&{isActive:n.isActive.toString()},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return J.get(`/adapters/types/search?${r}`)}async getAdapterTypeUsage(t){return J.get(`/adapters/types/${t}/usage`)}}class _oe{mockServers=new Map;async validateAdapter(t){const n=Date.now(),r=[],a=[],o=[];try{const i=this.validateConfiguration(t);i.isValid||(r.push(...i.errors),a.push(...i.warnings)),await this.setupMockServers(t.adapterType);for(const c of t.testScenarios){const d=await this.runTestScenario(t,c);o.push(d),d.status==="failed"&&r.push(`Test '${c.name}' failed: ${d.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-n;return fr({title:"Adapter Validation Complete",description:`${o.length} tests completed in ${l}ms`,variant:o.some(c=>c.status==="failed")?"destructive":"default"}),{isValid:r.length===0,errors:r,warnings:a,testResults:o}}catch(i){return r.push(`Validation failed: ${i instanceof Error?i.message:"Unknown error"}`),{isValid:!1,errors:r,warnings:a,testResults:o}}}validateConfiguration(t){const n=[],r=[],a=this.getRequiredFields(t.adapterType);for(const o of a)t.configuration[o]||n.push(`Required field '${o}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,n,r);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,n,r);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,n,r);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,n,r);break}return{isValid:n.length===0,errors:n,warnings:r}}validateHttpConfiguration(t,n,r){if(t.url)try{new URL(t.url)}catch{n.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&n.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&r.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,n,r){t.host||n.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&n.push("Invalid port number"),t.username||r.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,n,r){t.connectionUrl||n.push("JDBC connection URL is required"),t.driverClass||n.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&n.push("Invalid JDBC URL format")}validateSoapConfiguration(t,n,r){if(!t.wsdlUrl&&!t.endpointUrl&&n.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{n.push("Invalid WSDL URL format")}}async runTestScenario(t,n){const r=Date.now();try{switch(n.type){case"connection":return await this.testConnection(t,n);case"authentication":return await this.testAuthentication(t,n);case"data_transmission":return await this.testDataTransmission(t,n);case"error_handling":return await this.testErrorHandling(t,n);default:throw new Error(`Unknown test scenario type: ${n.type}`)}}catch(a){return{testName:n.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-r}}}async testConnection(t,n){const r=Date.now();await new Promise(i=>setTimeout(i,1e3));const o=this.mockServers.get(t.adapterType)?.isRunning()??!0;return{testName:n.name,status:o?"passed":"failed",message:o?"Connection successful":"Connection failed",duration:Date.now()-r}}async testAuthentication(t,n){const r=Date.now();await new Promise(o=>setTimeout(o,800));const a=t.configuration.username&&t.configuration.password;return{testName:n.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-r}}async testDataTransmission(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:n.name,status:"passed",message:"Data transmission successful",duration:Date.now()-r}}async testErrorHandling(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:n.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-r}}async setupMockServers(t){const n=new $oe(t);await n.start(),this.mockServers.set(t,n)}async cleanupMockServers(t){const n=this.mockServers.get(t);n&&(await n.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class $oe{constructor(t){this.adapterType=t}running=!1;async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const QL=new _oe;class Voe{api;testing;monitoring;types;constructor(){this.api=new Foe,this.testing=new Ooe,this.monitoring=new Ioe,this.types=new Loe}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return QL.validateAdapter(t)}}const Fo=new Voe,Uoe=({adapterType:e,configuration:t,children:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState(0),m=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],f=async()=>{if(!t||Object.keys(t).length===0){fr({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}i(!0),u(0),c(null);try{const p={adapterType:e,configuration:t,testScenarios:m},w=setInterval(()=>{u(y=>Math.min(y+20,90))},500),v=await QL.validateAdapter(p);clearInterval(w),u(100),c(v)}catch(p){fr({title:"Validation Failed",description:p instanceof Error?p.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),1e3)}},x=p=>{switch(p){case"passed":return s.jsx(Ns,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(En,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(In,{className:"h-4 w-4 text-warning"});default:return null}},g=p=>{const w={passed:"default",failed:"destructive",warning:"secondary"};return s.jsx(ce,{variant:w[p]||"outline",children:p})};return s.jsxs(mt,{open:r,onOpenChange:a,children:[s.jsx(Bu,{asChild:!0,children:n}),s.jsxs(ut,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(pt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(CC,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"Validation Controls"})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),s.jsx(z,{onClick:f,disabled:o,className:"flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(CC,{className:"h-4 w-4"}),"Run Validation"]})})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Validation Progress"}),s.jsxs("span",{children:[d,"%"]})]}),s.jsx(Uu,{value:d,className:"h-2"})]})]})]}),l&&s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[l.isValid?s.jsx(Ns,{className:"h-5 w-5 text-success"}):s.jsx(En,{className:"h-5 w-5 text-destructive"}),"Validation Results"]})}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"summary",className:"w-full",children:[s.jsxs(Ke,{children:[s.jsx(me,{value:"summary",children:"Summary"}),s.jsx(me,{value:"tests",children:"Test Results"}),s.jsx(me,{value:"errors",children:"Issues"})]}),s.jsxs(he,{value:"summary",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(q,{children:s.jsxs(Z,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center",children:l.testResults?.filter(p=>p.status==="passed").length||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),s.jsx(q,{children:s.jsxs(Z,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-destructive",children:l.testResults?.filter(p=>p.status==="failed").length||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),s.jsx(q,{children:s.jsxs(Z,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-warning",children:l.warnings.length}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),s.jsx(et,{children:s.jsx(tt,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),s.jsx(he,{value:"tests",className:"space-y-4",children:l.testResults?.map((p,w)=>s.jsx(q,{children:s.jsx(Z,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[x(p.status),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:p.testName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.message})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g(p.status),p.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.duration,"ms"]})]})]})})},w))}),s.jsxs(he,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-destructive",children:"Errors"}),l.errors.map((p,w)=>s.jsxs(et,{variant:"destructive",children:[s.jsx(En,{className:"h-4 w-4"}),s.jsx(tt,{children:p})]},w))]}),l.warnings.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-warning",children:"Warnings"}),l.warnings.map((p,w)=>s.jsxs(et,{children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx(tt,{children:p})]},w))]}),l.errors.length===0&&l.warnings.length===0&&s.jsxs(et,{children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx(tt,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},XE=[{id:"sms-gateway",name:"SMS Gateway",icon:y8,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:Ps,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:Ok,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:Za,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:Jo,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:gr,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:gu,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:Us,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:$o,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:r8,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:xs,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:JU,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:Ak,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:Zl,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:vu,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],KE=()=>{Ls();const e=Zs(),{navigateBack:t}=mc(),[n,r]=h.useState(null),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState("sender"),[u,m]=h.useState(""),[f,x]=h.useState(!0),[g,p]=h.useState({}),[w,v]=h.useState(!1),[y,j]=h.useState("idle"),[N,b]=h.useState(!1),[T,S]=h.useState(!1),[A,M]=h.useState(null),{toast:L}=Be(),F=XE.find(C=>C.id===a);h.useEffect(()=>{if(e.state?.adapter&&e.state?.isEdit){const C=e.state.adapter;console.log("[CreateCommunicationAdapter] Loading adapter for edit:",C),S(!0),M(C.id),l(C.name||""),m(C.description||""),x(C.active!==!1);const P=C.mode==="SENDER"?"sender":"receiver";d(P);const R=C.type.toLowerCase();if(o(R),C.configJson)try{const $=JSON.parse(C.configJson);p($)}catch($){console.error("Error parsing adapter configuration:",$)}C.businessComponentId&&r({id:C.businessComponentId,name:C.businessComponentName||"",description:""})}},[e.state]);const I=C=>{switch(C){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},U=(C,P)=>{console.log("[CreateCommunicationAdapter] Configuration change:",C,"=",P),p(R=>{const $={...R,[C]:P};return console.log("[CreateCommunicationAdapter] New configuration state:",$),$})},O=async()=>{if(!a){L({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}v(!0),j("idle");try{await new Promise(P=>setTimeout(P,2e3)),Math.random()>.3?(j("success"),L({title:"Connection Successful",description:`Successfully connected to ${F?.name}`,variant:"default"})):(j("error"),L({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{j("error"),L({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{v(!1)}},k=async()=>{if(!n||!n.id){L({title:"Validation Error",description:"Business Component is required. Please select a business component for this adapter.",variant:"destructive"});return}if(!i||!a||!c){L({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}if(console.log("[CreateCommunicationAdapter] Validating adapter:",{name:i,type:a,mode:c,businessComponent:n.id,configuration:g}),c==="receiver"){if(a==="rest"){if(!g.targetEndpointUrl){L({title:"Validation Error",description:"Target Endpoint URL is required for REST Receiver adapter",variant:"destructive"});return}if(!g.httpMethod){L({title:"Validation Error",description:"HTTP Method is required for REST Receiver adapter",variant:"destructive"});return}if(!g.contentType){L({title:"Validation Error",description:"Content Type is required for REST Receiver adapter",variant:"destructive"});return}}}else if(c==="sender"){if(a==="rest"){if(!g.port){L({title:"Validation Error",description:"Port is required for REST Sender adapter",variant:"destructive"});return}}else if(a==="soap"&&!g.serviceEndpointUrl){L({title:"Validation Error",description:"Endpoint URL is required for SOAP Sender adapter",variant:"destructive"});return}}if(a!=="rest"&&a!=="soap"){const H=(F?.fields.filter(_=>!(!_.required||_.conditionalField==="receiver"&&c==="sender"||_.conditionalField==="sender"&&c==="receiver"||_.parentField&&_.parentValue&&g[_.parentField]!==_.parentValue))||[]).filter(_=>!g[_.name]);if(H.length>0){console.log("[CreateCommunicationAdapter] Missing required fields:",H),L({title:"Missing Required Fields",description:`Please fill in: ${H.map(_=>_.label).join(", ")}`,variant:"destructive"});return}}const C=c==="sender"?"SENDER":"RECEIVER",P=c==="sender"?"OUTBOUND":"INBOUND",R={name:i,type:a.toUpperCase(),mode:C,direction:P,description:u,active:f,businessComponentId:n.id,configJson:JSON.stringify(g)};try{console.log("[CreateCommunicationAdapter] Sending adapter data to backend:",R);const $=T&&A?await Fo.updateAdapter(A,R):await Fo.createAdapter(R);$.success?(L({title:T?"Adapter Updated Successfully":"Adapter Saved Successfully",description:`Communication adapter "${i}" has been ${T?"updated":"created"}`,variant:"default"}),setTimeout(()=>{t("/communication-adapters")},500)):(console.log("[CreateCommunicationAdapter] Error response from backend:",$),L({title:"Save Failed",description:$.error||"Failed to save adapter configuration",variant:"destructive"}))}catch($){console.error("[CreateCommunicationAdapter] Error saving adapter:",$),console.error("[CreateCommunicationAdapter] Error details:",{message:$?.message,response:$?.response,data:$?.response?.data});const H=$?.response?.data?.message||$?.response?.data?.error||$?.message||"An error occurred while saving the adapter";L({title:"Save Error",description:H,variant:"destructive"})}};return s.jsx(aO,{children:s.jsxs(s.Fragment,{children:[N&&s.jsx(ON,{onClose:()=>b(!1)}),s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(x0,{className:"h-8 w-8"}),T?"Edit":"Create"," Communication Adapter"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(coe,{selectedBusinessComponent:n,setSelectedBusinessComponent:r}),s.jsxs(q,{className:"animate-scale-in",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Adapter Details"}),s.jsx(xe,{children:"Basic information for your communication adapter"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterName",children:"Adapter Name *"}),s.jsx(V,{id:"adapterName",placeholder:"e.g., Production Email Server",value:i,onChange:C=>l(C.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:u,onChange:C=>m(C.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"isActive",checked:f,onCheckedChange:C=>x(C===!0)}),s.jsxs(E,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",s.jsx(ce,{variant:f?"default":"secondary",className:"text-xs",children:f?"Active":"Inactive"})]})]})]})]}),s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Adapter Type Selection"}),s.jsx(xe,{children:"Choose the type of communication adapter to configure"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterType",children:"Adapter Type *"}),s.jsx(aoe,{options:XE.map(C=>({value:C.id,label:C.name,icon:C.icon,category:C.category,description:C.description})),value:a,onValueChange:C=>{o(C),console.log("[CreateCommunicationAdapter] Adapter type changed to:",C),a&&a!==C&&(console.log("[CreateCommunicationAdapter] Clearing configuration due to adapter type change"),p({}))},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),F&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(F.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:F.name}),s.jsx(ce,{variant:"outline",className:"text-xs",children:F.category})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterMode",children:"Adapter Mode *"}),s.jsxs(K,{value:c,onValueChange:C=>{d(C),console.log("[CreateCommunicationAdapter] Adapter mode changed to:",C)},children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:"Select adapter mode"})}),s.jsxs(X,{children:[s.jsx(D,{value:"sender",children:"Sender"}),s.jsx(D,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),F&&c&&s.jsx(s.Fragment,{children:a==="ftp"?s.jsx(hoe,{mode:c,onConfigChange:p}):a==="sftp"?s.jsx(moe,{mode:c,onConfigChange:p}):a==="file"?s.jsx(poe,{mode:c,onConfigChange:p}):a==="http"&&c==="sender"?s.jsx(foe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="http"&&c==="receiver"?s.jsx(goe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="idoc"&&c==="sender"?s.jsx(yoe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="idoc"&&c==="receiver"?s.jsx(woe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="jms"&&c==="sender"?s.jsx(Noe,{adapter:{name:"",type:"jms",mode:"outbound",configuration:g,status:"inactive"},onUpdate:C=>p(C.configuration)}):a==="jms"&&c==="receiver"?s.jsx(boe,{adapter:{name:"",type:"jms",mode:"inbound",configuration:g,status:"inactive"},onUpdate:C=>p(C.configuration)}):a==="rest"&&c==="sender"?s.jsx(Soe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="rest"&&c==="receiver"?s.jsx(Coe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="soap"&&c==="sender"?s.jsx(Eoe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P),businessComponentId:n?.id}):a==="soap"&&c==="receiver"?s.jsx(Toe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P),businessComponentId:n?.id}):a==="odata"&&c==="sender"?s.jsx(Aoe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="odata"&&c==="receiver"?s.jsx(Poe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="rfc"&&c==="sender"?s.jsx(Doe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="rfc"&&c==="receiver"?s.jsx(koe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="mail"&&c==="sender"?s.jsx(Roe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):a==="mail"&&c==="receiver"?s.jsx(Moe,{configuration:g,onConfigurationChange:(C,P)=>U(C,P)}):s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(F.icon,{className:"h-5 w-5"}),F.name," Configuration"]}),s.jsx(xe,{children:"Configure the connection parameters and authentication"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.fields.filter(C=>!(C.conditionalField==="receiver"&&c==="sender"||C.conditionalField==="sender"&&c==="receiver"||C.parentField&&C.parentValue&&g[C.parentField]!==C.parentValue)).map(C=>s.jsx("div",{className:C.name==="url"||C.name==="webhookUrl"||C.name==="customHeaders"||C.type==="password"?"md:col-span-2":"",children:C.type==="jar-selector"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(loe,{selectedJarId:g[C.name]||"",onJarSelect:P=>U(C.name,P),label:"",placeholder:`Choose ${C.label}`,driverTypeFilter:C.driverTypeFilter||void 0})]}):C.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(K,{value:g[C.name]||"",onValueChange:P=>U(C.name,P),children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:`Select ${C.label}`})}),s.jsx(X,{className:"bg-card border-border shadow-lg z-50",children:C.options?.map(P=>s.jsx(D,{value:P,children:P},P))})]})]}):C.type==="textarea"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ke,{id:C.name,placeholder:C.placeholder,value:g[C.name]||"",onChange:P=>U(C.name,P.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):C.type==="checkbox"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:C.name,type:"checkbox",checked:g[C.name]==="true"||g[C.name]===!0||g[C.name]==="on",onChange:P=>U(C.name,P.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),s.jsx(E,{htmlFor:C.name,className:"text-sm font-normal",children:C.label})]}):C.type==="password"?s.jsx(hs,{name:C.name,label:C.label,placeholder:C.placeholder,required:C.required,value:g[C.name]||"",onValueChange:P=>U(C.name,P)}):s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(V,{id:C.name,type:C.type,placeholder:C.placeholder,value:g[C.name]||"",onChange:P=>U(C.name,P.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},C.name)),g.authType&&g.authType!=="None"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(it,{className:"my-4"}),s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[g.authType," Configuration"]})]}),I(g.authType).map(C=>s.jsx("div",{className:C.name.includes("Url")||C.name.includes("url")||C.type==="password"?"md:col-span-2":"",children:C.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(K,{value:g[C.name]||"",onValueChange:P=>U(C.name,P),children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(G,{placeholder:`Select ${C.label}`})}),s.jsx(X,{className:"bg-card border-border shadow-lg z-50",children:C.options?.map(P=>s.jsx(D,{value:P,children:P},P))})]})]}):C.type==="password"?s.jsx(hs,{name:C.name,label:C.label,placeholder:C.placeholder,required:C.required,value:g[C.name]||"",onValueChange:P=>U(C.name,P)}):s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:C.name,className:"flex items-center gap-1",children:[C.label,C.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(V,{id:C.name,type:C.type,placeholder:C.placeholder,value:g[C.name]||"",onChange:P=>U(C.name,P.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},C.name))]})]})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Connection Testing"}),s.jsx(xe,{children:"Test your adapter configuration"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx(z,{onClick:O,disabled:!a||w,className:"w-full bg-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:w?s.jsxs(s.Fragment,{children:[s.jsx(fm,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fm,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),a==="soap"&&s.jsxs(z,{onClick:()=>b(!0),className:"w-full bg-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[s.jsx(Ak,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),y!=="idle"&&s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${y==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[y==="success"?s.jsx(Ns,{className:"h-4 w-4"}):s.jsx(Nt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:y==="success"?"Connection Successful":"Connection Failed"})]}),s.jsx(it,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Uoe,{adapterType:F?.id||"",configuration:g,children:s.jsxs(z,{variant:"outline",className:"w-full",disabled:!F,children:[s.jsx(fm,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>t("/communication-adapters"),className:"flex-1",children:"Cancel"}),s.jsxs(z,{onClick:k,className:"flex-1 bg-primary hover:opacity-90 transition-all duration-300",children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),T?"Update":"Save"," Adapter"]})]})]})]})]}),s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(se,{children:s.jsx(ne,{children:"Configuration Summary"})}),s.jsx(Z,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(ce,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:F?.name||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),s.jsx("span",{children:c||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"}),s.jsx("span",{children:F?.category||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),s.jsx(ce,{variant:y==="success"?"default":y==="error"?"destructive":"secondary",children:y==="success"?"Verified":y==="error"?"Failed":"Not tested"})]})]})})]}),s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(se,{children:s.jsx(ne,{children:"Security Notes"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Sn,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ss,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Test connections before using in production"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Go,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})})},Boe=["FILE","FTP","HTTP","IDOC","JDBC","JMS","MAIL","ODATA","REST","RFC","SFTP","SOAP"],Hoe=["SENDER","RECEIVER"];function zoe(){const e=Ls(),{toast:t}=Be(),{isDevelopment:n}=hc(),[r,a]=h.useState([]),[o,i]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!0),[m,f]=h.useState(""),[x,g]=h.useState("all"),[p,w]=h.useState("all"),[v,y]=h.useState("all"),[j,N]=h.useState(!1),[b,T]=h.useState(null),[S,A]=h.useState(null);h.useEffect(()=>{M(),L()},[]),h.useEffect(()=>{F()},[r,m,x,p,v]);const M=async()=>{try{u(!0),console.log("Fetching adapters...");const _=await J.get("/adapters");console.log("Adapters response:",_),_.success&&_.data?a(Array.isArray(_.data)?_.data:[]):(console.warn("No adapter data in response"),a([]))}catch(_){console.error("Error fetching adapters:",_),t({title:"Error",description:"Failed to load communication adapters",variant:"destructive"}),a([])}finally{u(!1)}},L=async()=>{try{console.log("Fetching business components...");const _=await J.get("/business-components");console.log("Business components response:",_),_.success&&_.data?c(Array.isArray(_.data)?_.data:[]):c([])}catch(_){console.error("Error fetching business components:",_),c([])}},F=()=>{let _=[...r];m&&(_=_.filter(B=>B.name.toLowerCase().includes(m.toLowerCase())||B.description?.toLowerCase().includes(m.toLowerCase()))),x!=="all"&&(_=_.filter(B=>B.businessComponentId===x)),p!=="all"&&(_=_.filter(B=>B.type===p)),v!=="all"&&(_=_.filter(B=>B.mode===v)),i(_)},I=()=>{M(),t({title:"Success",description:"Adapters refreshed"})},U=_=>{e("/create-communication-adapter",{state:{adapter:_,isEdit:!0,viewMode:!0}})},O=_=>{e("/create-communication-adapter",{state:{adapter:_,isEdit:!0}})},k=async _=>{try{const B=await Fo.cloneAdapter(_.id,`${_.name} (Copy)`);if(B.success)t({title:"Success",description:"Adapter cloned successfully"}),M();else throw new Error(B.error||"Failed to clone adapter")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to clone adapter",variant:"destructive"})}},C=async()=>{if(b)try{const _=await Fo.deleteAdapter(b.id);if(_.success)t({title:"Success",description:"Adapter deleted successfully"}),a(r.filter(B=>B.id!==b.id)),N(!1),T(null);else throw new Error(_.error||"Failed to delete adapter")}catch(_){t({title:"Error",description:_ instanceof Error?_.message:"Failed to delete adapter",variant:"destructive"})}},P=async _=>{try{A(_.id);const B=await Fo.testAdapter(_.id,"{}");if(B.success&&B.data)t({title:"Success",description:B.data.message||"Connection test successful"});else throw new Error(B.error||"Connection test failed")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to test adapter connection",variant:"destructive"})}finally{A(null)}},R=async _=>{try{const B={..._,active:!_.active},W=await Fo.updateAdapter(_.id,B);if(W.success)t({title:"Success",description:`Adapter ${_.active?"deactivated":"activated"} successfully`}),M();else throw new Error(W.error||"Failed to update adapter")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to update adapter status",variant:"destructive"})}},$=_=>s.jsx(ce,{className:_?"bg-green-500":"bg-gray-500",children:_?"Active":"Inactive"}),H=_=>{const B={SENDER:"bg-blue-500",RECEIVER:"bg-purple-500"},W={SENDER:"Sender (Inbound)",RECEIVER:"Receiver (Outbound)"};return s.jsx(ce,{variant:"outline",className:`${B[_]||""}`,children:W[_]||_})};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Communication Adapters"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and monitor all communication adapters"})]}),n&&s.jsxs(z,{onClick:()=>e("/create-communication-adapter"),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Create Adapter"]})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(fi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(V,{placeholder:"Search by name...",value:m,onChange:_=>f(_.target.value),className:"pl-10"})]}),s.jsxs(K,{value:x,onValueChange:g,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Business Components"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Business Components"}),l.map(_=>s.jsx(D,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(K,{value:p,onValueChange:w,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Types"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Types"}),Boe.map(_=>s.jsx(D,{value:_,children:_},_))]})]}),s.jsxs(K,{value:v,onValueChange:y,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Modes"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Modes"}),Hoe.map(_=>s.jsx(D,{value:_,children:_},_))]})]})]})})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(x0,{className:"h-5 w-5"}),"Adapters (",o.length,")"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:I,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(Z,{children:d?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading adapters..."})}):o.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No adapters found"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Type"}),s.jsx(Fe,{children:"Mode"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Business Component"}),s.jsx(Fe,{children:"Created"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:o.map(_=>s.jsxs(ms,{children:[s.jsx(Oe,{className:"font-medium",children:_.name}),s.jsx(Oe,{children:s.jsx(ce,{variant:"outline",children:_.type})}),s.jsx(Oe,{children:H(_.mode)}),s.jsx(Oe,{children:$(_.active)}),s.jsx(Oe,{children:l.find(B=>B.id===_.businessComponentId)?.name||"-"}),s.jsx(Oe,{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx(Oe,{children:s.jsxs(qf,{children:[s.jsx(Wf,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",children:s.jsx(Rk,{className:"h-4 w-4"})})}),s.jsxs(Pu,{align:"end",children:[s.jsx(eN,{children:"Actions"}),s.jsx(qr,{}),s.jsx(Gt,{onClick:()=>U(_),children:"View Details"}),n&&s.jsxs(s.Fragment,{children:[s.jsxs(Gt,{onClick:()=>O(_),children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Gt,{onClick:()=>P(_),disabled:S===_.id,children:[S===_.id?s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(fm,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),s.jsx(Gt,{onClick:()=>R(_),children:_.active?s.jsxs(s.Fragment,{children:[s.jsx(v8,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(_k,{className:"h-4 w-4 mr-2"}),"Activate"]})}),s.jsxs(Gt,{onClick:()=>k(_),children:[s.jsx(xr,{className:"h-4 w-4 mr-2"}),"Clone"]}),s.jsx(qr,{}),s.jsxs(Gt,{onClick:()=>{T(_),N(!0)},className:"text-red-600",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},_.id))})]})})})]}),s.jsx(mt,{open:j,onOpenChange:N,children:s.jsxs(ut,{children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Delete Adapter"}),s.jsxs(Ln,{children:['Are you sure you want to delete "',b?.name,'"? This action cannot be undone.']})]}),s.jsxs(aa,{children:[s.jsx(z,{variant:"outline",onClick:()=>{N(!1),T(null)},children:"Cancel"}),s.jsx(z,{variant:"destructive",onClick:C,children:"Delete"})]})]})})]})}const qoe=()=>{sx("Data Structures"),nx("Manage data structures for your integration flows. Define JSON, XML, XSD, WSDL, and custom formats for seamless data transformation in Integrix Flow Bridge.");const e=Ls(),{toast:t}=Be(),{isDevelopment:n}=hc(),[r,a]=h.useState([]),[o,i]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!0),[m,f]=h.useState(""),[x,g]=h.useState("all"),[p,w]=h.useState("all"),[v,y]=h.useState("all"),[j,N]=h.useState(!1),[b,T]=h.useState(null);h.useEffect(()=>{S(),A()},[]),h.useEffect(()=>{M()},[r,m,x,p,v]);const S=async()=>{try{u(!0),console.log("Fetching data structures...");const P=await J.get("/structures");if(console.log("Structures response:",P),P.success&&P.data){const R=P.data.structures||P.data||[];console.log("Structures data:",R),a(Array.isArray(R)?R:[])}else a([])}catch(P){console.error("Error fetching structures:",P),t({title:"Error",description:"Failed to fetch data structures",variant:"destructive"}),a([])}finally{u(!1)}},A=async()=>{try{const P=await J.get("/business-components");P.success&&P.data&&c(Array.isArray(P.data)?P.data:[])}catch(P){console.error("Error fetching business components:",P),c([])}},M=()=>{let P=[...r];m&&(P=P.filter(R=>R.name.toLowerCase().includes(m.toLowerCase())||R.description?.toLowerCase().includes(m.toLowerCase())||R.tags?.some($=>$.toLowerCase().includes(m.toLowerCase())))),x!=="all"&&(P=P.filter(R=>R.businessComponentId===x)),p!=="all"&&(P=P.filter(R=>R.usage===p||R.usage==="both")),v!=="all"&&(P=P.filter(R=>{const $=R.metadata?.isDraft===!0;return v==="draft"?$:v==="active"?!$:!0})),i(P)},L=()=>{S(),t({title:"Success",description:"Data structures refreshed"})},F=P=>{e(`/data-structures/${P}`)},I=P=>{e(`/data-structures/${P.id}`,{state:{structure:P,isEdit:!0}})},U=P=>{T(P),N(!0)},O=async()=>{if(b)try{(await J.delete(`/structures/${b.id}`)).success?(t({title:"Success",description:"Data structure deleted successfully"}),S()):t({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}catch(P){console.error("Error deleting structure:",P),t({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}finally{N(!1),T(null)}},k=P=>{const R={json:"bg-green-500",xml:"bg-blue-500",xsd:"bg-purple-500",wsdl:"bg-orange-500",edmx:"bg-pink-500",custom:"bg-gray-500"};return s.jsx(ce,{className:`${R[P]||"bg-gray-500"} text-white`,children:P.toUpperCase()})},C=P=>{const R={source:"bg-blue-500",target:"bg-purple-500",both:"bg-green-500"},$={source:"Source",target:"Target",both:"Source & Target"};return s.jsx(ce,{variant:"outline",className:`${R[P]||""}`,children:$[P]||P})};return s.jsxs(ex,{children:[s.jsx(tx,{title:"Data Structures",description:"Manage and view all data structures",icon:s.jsx($o,{}),actions:n&&s.jsxs(z,{onClick:()=>e("/create-data-structure"),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Create Structure"]})}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(fi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search by name or tags...",value:m,onChange:P=>f(P.target.value),className:"pl-10"})]}),s.jsxs(K,{value:x,onValueChange:g,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Business Components"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Business Components"}),l.map(P=>s.jsx(D,{value:P.id,children:P.name},P.id))]})]}),s.jsxs(K,{value:p,onValueChange:w,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Types"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Types"}),s.jsx(D,{value:"source",children:"Source"}),s.jsx(D,{value:"target",children:"Target"})]})]}),s.jsxs(K,{value:v,onValueChange:y,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All Status"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Status"}),s.jsx(D,{value:"active",children:"Active"}),s.jsx(D,{value:"draft",children:"Draft"})]})]})]})})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(xs,{className:"h-5 w-5"}),"Structures (",o.length,")"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:L,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(Z,{children:d?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})}):o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No data structures found"}),n&&s.jsxs(z,{variant:"outline",className:"mt-4",onClick:()=>e("/create-data-structure"),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Create your first structure"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Type"}),s.jsx(Fe,{children:"Usage"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Business Component"}),s.jsx(Fe,{children:"Tags"}),s.jsx(Fe,{children:"Created"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:o.map(P=>s.jsxs(ms,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>F(P.id),children:[s.jsx(Oe,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("p",{children:P.name}),P.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]})}),s.jsx(Oe,{children:k(P.type)}),s.jsx(Oe,{children:C(P.usage)}),s.jsx(Oe,{children:P.metadata?.isDraft?s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Draft"}):s.jsx(ce,{variant:"default",className:"text-xs bg-green-500",children:"Active"})}),s.jsx(Oe,{children:P.businessComponentName||"-"}),s.jsx(Oe,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:P.tags?.map((R,$)=>s.jsx(ce,{variant:"secondary",className:"text-xs",children:R},$))})}),s.jsx(Oe,{children:new Date(P.createdAt).toLocaleDateString()}),s.jsx(Oe,{onClick:R=>R.stopPropagation(),children:s.jsxs(qf,{children:[s.jsx(Wf,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",children:s.jsx(s8,{className:"h-4 w-4"})})}),s.jsxs(Pu,{align:"end",children:[s.jsx(Gt,{onClick:()=>F(P.id),children:"View Details"}),n&&s.jsxs(s.Fragment,{children:[s.jsxs(Gt,{onClick:()=>I(P),children:[s.jsx(f8,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(qr,{}),s.jsxs(Gt,{onClick:()=>U(P),className:"text-destructive",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},P.id))})]})})})]}),s.jsx(Qf,{open:j,onOpenChange:N,children:s.jsxs(Ou,{children:[s.jsxs(Iu,{children:[s.jsx(_u,{children:"Delete Data Structure"}),s.jsxs($u,{children:['Are you sure you want to delete "',b?.name,'"? This action cannot be undone.']})]}),s.jsxs(Lu,{children:[s.jsx(Zf,{children:"Cancel"}),s.jsx(Vu,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var GN="Radio",[Woe,ZL]=Qs(GN),[Yoe,Xoe]=Woe(GN),e_=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=e,[m,f]=h.useState(null),x=$e(t,w=>f(w)),g=h.useRef(!1),p=m?d||!!m.closest("form"):!0;return s.jsxs(Yoe,{scope:n,checked:a,disabled:i,children:[s.jsx(Ae.button,{type:"button",role:"radio","aria-checked":a,"data-state":n_(a),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:x,onClick:ye(e.onClick,w=>{a||c?.(),p&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),p&&s.jsx(Koe,{control:m,bubbles:!g.current,name:r,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});e_.displayName=GN;var t_="RadioIndicator",s_=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,o=Xoe(t_,n);return s.jsx(ls,{present:r||o.checked,children:s.jsx(Ae.span,{"data-state":n_(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});s_.displayName=t_;var Koe=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=h.useRef(null),i=Yf(n),l=bf(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const f=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(f)}},[i,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function n_(e){return e?"checked":"unchecked"}var Goe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],JN="RadioGroup",[Joe,bve]=Qs(JN,[dc,ZL]),r_=dc(),a_=ZL(),[Qoe,Zoe]=Joe(JN),o_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...f}=e,x=r_(n),g=cc(d),[p,w]=Fn({prop:o,defaultProp:a,onChange:m});return s.jsx(Qoe,{scope:n,name:r,required:i,disabled:l,value:p,onValueChange:w,children:s.jsx($0,{asChild:!0,...x,orientation:c,dir:g,loop:u,children:s.jsx(Ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});o_.displayName=JN;var i_="RadioGroupItem",l_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,o=Zoe(i_,n),i=o.disabled||r,l=r_(n),c=a_(n),d=h.useRef(null),u=$e(t,d),m=o.value===a.value,f=h.useRef(!1);return h.useEffect(()=>{const x=p=>{Goe.includes(p.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),s.jsx(V0,{asChild:!0,...l,focusable:!i,active:m,children:s.jsx(e_,{disabled:i,required:o.required,checked:m,...c,...a,name:o.name,ref:u,onCheck:()=>o.onValueChange(a.value),onKeyDown:ye(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ye(a.onFocus,()=>{f.current&&d.current?.click()})})})});l_.displayName=i_;var eie="RadioGroupIndicator",c_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=a_(n);return s.jsx(s_,{...a,...r,ref:t})});c_.displayName=eie;var d_=o_,u_=l_,tie=c_;const kj=h.forwardRef(({className:e,...t},n)=>s.jsx(d_,{className:re("grid gap-2",e),...t,ref:n}));kj.displayName=d_.displayName;const Xc=h.forwardRef(({className:e,...t},n)=>s.jsx(u_,{ref:n,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(tie,{className:"flex items-center justify-center",children:s.jsx(Gi,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Xc.displayName=u_.displayName;var fc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ci=typeof window>"u"||"Deno"in globalThis;function Es(){}function sie(e,t){return typeof e=="function"?e(t):e}function Dj(e){return typeof e=="number"&&e>=0&&e!==1/0}function h_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ka(e,t){return typeof e=="function"?e(t):e}function jn(e,t){return typeof e=="function"?e(t):e}function GE(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==QN(i,t.options))return!1}else if(!tu(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function JE(e,t){const{exact:n,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(di(t.options.mutationKey)!==di(o))return!1}else if(!tu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function QN(e,t){return(t?.queryKeyHashFn||di)(e)}function di(e){return JSON.stringify(e,(t,n)=>Mj(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function tu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>tu(e[n],t[n])):!1}function m_(e,t){if(e===t)return e;const n=QE(e)&&QE(t);if(n||Mj(e)&&Mj(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(r);let d=0;for(let u=0;u<i;u++){const m=n?u:o[u];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=m_(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function Vp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function QE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mj(e){if(!ZE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ZE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ZE(e){return Object.prototype.toString.call(e)==="[object Object]"}function nie(e){return new Promise(t=>{setTimeout(t,e)})}function Rj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?m_(e,t):t}function rie(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function aie(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ZN=Symbol();function p_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ZN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function f_(e,t){return typeof e=="function"?e(...t):!!e}var oie=class extends fc{#t;#e;#s;constructor(){super(),this.#s=e=>{if(!ci&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},eb=new oie,iie=class extends fc{#t=!0;#e;#s;constructor(){super(),this.#s=e=>{if(!ci&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Up=new iie;function Fj(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function lie(e){return Math.min(1e3*2**e,3e4)}function x_(e){return(e??"online")==="online"?Up.isOnline():!0}var g_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Zg(e){return e instanceof g_}function v_(e){let t=!1,n=0,r=!1,a;const o=Fj(),i=p=>{r||(f(new g_(p)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>eb.isFocused()&&(e.networkMode==="always"||Up.isOnline())&&e.canRun(),u=()=>x_(e.networkMode)&&e.canRun(),m=p=>{r||(r=!0,e.onSuccess?.(p),a?.(),o.resolve(p))},f=p=>{r||(r=!0,e.onError?.(p),a?.(),o.reject(p))},x=()=>new Promise(p=>{a=w=>{(r||d())&&p(w)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),g=()=>{if(r)return;let p;const w=n===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(m).catch(v=>{if(r)return;const y=e.retry??(ci?0:3),j=e.retryDelay??lie,N=typeof j=="function"?j(n,v):j,b=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!b){f(v);return}n++,e.onFail?.(n,v),nie(N).then(()=>d()?void 0:x()).then(()=>{t?f(v):g()})})};return{promise:o,cancel:i,continue:()=>(a?.(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),o)}}var cie=e=>setTimeout(e,0);function die(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=cie;const o=l=>{t?e.push(l):a(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var es=die(),y_=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dj(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ci?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},uie=class extends y_{#t;#e;#s;#n;#r;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=hie(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const n=Rj(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Es).catch(Es):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>jn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ka(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!h_(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},a=()=>{const c=p_(this.options,t),u=(()=>{const m={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#i=!1,this.options.persister?this.options.persister(c,u,this):c(u)},i=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return r(c),c})();this.options.behavior?.onFetch(i,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#a({type:"fetch",meta:i.fetchOptions?.meta});const l=c=>{Zg(c)&&c.silent||this.#a({type:"error",error:c}),Zg(c)||(this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=v_({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#a({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...j_(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Zg(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),es.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function j_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mie=class extends fc{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,a=t.queryHash??QN(r,t);let o=this.get(a);return o||(o=new uie({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>GE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>GE(e,n)):t}notify(e){es.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pie=class extends y_{#t;#e;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||w_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#s=v_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#n({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:r})}const a=await this.#s.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),es.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function w_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fie=class extends fc{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(e,t,n){const r=new pie({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=qh(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=qh(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=qh(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=qh(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){es.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>JE(t,n))}findAll(e={}){return this.getAll().filter(t=>JE(e,t))}notify(e){es.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return es.batch(()=>Promise.all(e.map(t=>t.continue().catch(Es))))}};function qh(e){return e.options.scope?.id}function eT(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const m=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=p_(t.options,t.fetchOptions),x=async(g,p,w)=>{if(u)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const y=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:p,direction:w?"backward":"forward",meta:t.options.meta};return m(T),T})(),j=await f(y),{maxPages:N}=t.options,b=w?aie:rie;return{pages:b(g.pages,j,N),pageParams:b(g.pageParams,p,N)}};if(a&&o.length){const g=a==="backward",p=g?xie:tT,w={pages:o,pageParams:i},v=p(r,w);l=await x(w,v,g)}else{const g=e??o.length;do{const p=c===0?i[0]??r.initialPageParam:tT(r,l);if(c>0&&p==null)break;l=await x(l,p),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function tT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function xie(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var N_=class{#t;#e;#s;#n;#r;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new mie,this.#e=e.mutationCache||new fie,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=eb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Up.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ka(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(r.queryHash)?.state.data,i=sie(t,o);if(i!==void 0)return this.#t.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return es.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;es.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return es.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=es.batch(()=>this.#t.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Es).catch(Es)}invalidateQueries(e,t={}){return es.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=es.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Es)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Es)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Ka(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Es).catch(Es)}fetchInfiniteQuery(e){return e.behavior=eT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Es).catch(Es)}ensureInfiniteQueryData(e){return e.behavior=eT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Up.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(di(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(r=>{tu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(di(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{tu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=QN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ZN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},gie=class extends fc{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=Fj(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#s=void 0;#n=void 0;#r;#o;#i;#a;#f;#h;#m;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),sT(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oj(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oj(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),t._defaulted&&!Vp(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&nT(this.#e,n,this.options,t)&&this.#u(),this.updateResult(),r&&(this.#e!==n||jn(this.options.enabled,this.#e)!==jn(t.enabled,this.#e)||Ka(this.options.staleTime,this.#e)!==Ka(t.staleTime,this.#e))&&this.#x();const a=this.#g();r&&(this.#e!==n||jn(this.options.enabled,this.#e)!==jn(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return yie(this,n)&&(this.#n=n,this.#o=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#N();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Es)),t}#x(){this.#j();const e=Ka(this.options.staleTime,this.#e);if(ci||this.#n.isStale||!Dj(e))return;const n=h_(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(ci||jn(this.options.enabled,this.#e)===!1||!Dj(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||eb.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#j(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#e,r=this.options,a=this.#n,o=this.#r,i=this.#o,c=e!==n?e.state:this.#s,{state:d}=e;let u={...d},m=!1,f;if(t._optimisticResults){const A=this.hasListeners(),M=!A&&sT(e,t),L=A&&nT(e,n,t,r);(M||L)&&(u={...u,...j_(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:p}=u;f=u.data;let w=!1;if(t.placeholderData!==void 0&&f===void 0&&p==="pending"){let A;a?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(A=a.data,w=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,A!==void 0&&(p="success",f=Rj(a?.data,A,t),m=!0)}if(t.select&&f!==void 0&&!w)if(a&&f===o?.data&&t.select===this.#f)f=this.#h;else try{this.#f=t.select,f=t.select(f),f=Rj(a?.data,f,t),this.#h=f,this.#a=null}catch(A){this.#a=A}this.#a&&(x=this.#a,f=this.#h,g=Date.now(),p="error");const v=u.fetchStatus==="fetching",y=p==="pending",j=p==="error",N=y&&v,b=f!==void 0,S={status:p,fetchStatus:u.fetchStatus,isPending:y,isSuccess:p==="success",isError:j,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:u.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:j&&!b,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&b,isStale:tb(e,t),refetch:this.refetch,promise:this.#i,isEnabled:jn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=F=>{S.status==="error"?F.reject(S.error):S.data!==void 0&&F.resolve(S.data)},M=()=>{const F=this.#i=S.promise=Fj();A(F)},L=this.#i;switch(L.status){case"pending":e.queryHash===n.queryHash&&A(L);break;case"fulfilled":(S.status==="error"||S.data!==L.value)&&M();break;case"rejected":(S.status!=="error"||S.error!==L.reason)&&M();break}}return S}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#o=this.options,this.#r.data!==void 0&&(this.#m=this.#e),Vp(t,e))return;this.#n=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(i=>{const l=i;return this.#n[l]!==e[l]&&o.has(l)})};this.#b({listeners:n()})}#N(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#b(e){es.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function vie(e,t){return jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sT(e,t){return vie(e,t)||e.state.data!==void 0&&Oj(e,t,t.refetchOnMount)}function Oj(e,t,n){if(jn(t.enabled,e)!==!1&&Ka(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tb(e,t)}return!1}function nT(e,t,n,r){return(e!==t||jn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tb(e,n)}function tb(e,t){return jn(t.enabled,e)!==!1&&e.isStaleByTime(Ka(t.staleTime,e))}function yie(e,t){return!Vp(e.getCurrentResult(),t)}var jie=class extends fc{#t;#e=void 0;#s;#n;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Vp(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&di(n.mutationKey)!==di(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#o()}mutate(t,n){return this.#n=n,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){const t=this.#s?.state??w_();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){es.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},b_=h.createContext(void 0),sb=e=>{const t=h.useContext(b_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wie=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(b_.Provider,{value:e,children:t})),S_=h.createContext(!1),Nie=()=>h.useContext(S_);S_.Provider;function bie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sie=h.createContext(bie()),Cie=()=>h.useContext(Sie),Eie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Tie=e=>{h.useEffect(()=>{e.clearReset()},[e])},Pie=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||f_(n,[e.error,r])),Aie=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kie=(e,t)=>e.isLoading&&e.isFetching&&!t,Die=(e,t)=>e?.suspense&&t.isPending,rT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Mie(e,t,n){const r=Nie(),a=Cie(),o=sb(),i=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",Aie(i),Eie(i,a),Tie(a);const l=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),d=c.getOptimisticResult(i),u=!r&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(m=>{const f=u?c.subscribe(es.batchCalls(m)):Es;return c.updateResult(),f},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),Die(i,d))throw rT(i,c,a);if(Pie({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(i,d),i.experimental_prefetchInRender&&!ci&&kie(d,r)&&(l?rT(i,c,a):o.getQueryCache().get(i.queryHash)?.promise)?.catch(Es).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?d:c.trackResult(d)}function Ij(e,t){return Mie(e,gie)}function Cm(e,t){const n=sb(),[r]=h.useState(()=>new jie(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const a=h.useSyncExternalStore(h.useCallback(i=>r.subscribe(es.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=h.useCallback((i,l)=>{r.mutate(i,l).catch(Es)},[r]);if(a.error&&f_(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function Rie({isOpen:e,onClose:t}){const[n,r]=h.useState("SOURCE"),[a,o]=h.useState("SYNCHRONOUS"),[i,l]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(""),[f,x]=h.useState(""),[g,p]=h.useState(""),[w,v]=h.useState(""),[y,j]=h.useState(null),[N,b]=h.useState(""),[T,S]=h.useState(!1),{data:A=[],isLoading:M}=Ij({queryKey:["xml-data-structures"],queryFn:async()=>await rt.get("/wsdl/structures/xml"),enabled:e}),L=Cm({mutationFn:async k=>await rt.post("/wsdl/generate",k),onSuccess:k=>{j(k),fr({title:"Success",description:"WSDL generated successfully"})},onError:k=>{fr({title:"Error",description:k.response?.data?.message||"Failed to generate WSDL",variant:"destructive"})}});h.useEffect(()=>{i&&A.find(k=>k.id===i)},[i,A]);const F=async()=>{if(!f||!g||!w||!i){fr({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}if(a==="SYNCHRONOUS"&&!c){fr({title:"Error",description:"Response structure is required for synchronous WSDL",variant:"destructive"});return}const k={mode:n,type:a,requestStructureId:i,responseStructureId:a==="SYNCHRONOUS"?c:void 0,faultStructureId:u||void 0,serviceName:f,namespace:g,operationName:w};L.mutate(k)},I=async()=>{if(y)try{const k=await rt.get(`/wsdl/preview/${y.wsdlId}`,{responseType:"text"});b(k.data||""),S(!0)}catch{fr({title:"Error",description:"Failed to preview WSDL",variant:"destructive"})}},U=()=>{if(!y)return;const k=document.createElement("a");k.href=`/api${y.downloadUrl}`,k.download=`${f}.wsdl`,document.body.appendChild(k),k.click(),document.body.removeChild(k)},O=()=>{r("SOURCE"),o("SYNCHRONOUS"),l(""),d(""),m(""),x(""),p(""),v(""),j(null),b(""),S(!1),t()};return s.jsxs(s.Fragment,{children:[s.jsx(mt,{open:e&&!T,onOpenChange:O,children:s.jsxs(ut,{className:"max-w-2xl",children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Generate WSDL"}),s.jsx(Ln,{children:"Generate a WSDL 1.1 file from existing XML/XSD data structures"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"WSDL Mode"}),s.jsxs(kj,{value:n,onValueChange:k=>r(k),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xc,{value:"SOURCE",id:"source"}),s.jsx(E,{htmlFor:"source",children:"Source (Outbound service)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xc,{value:"TARGET",id:"target"}),s.jsx(E,{htmlFor:"target",children:"Target (Inbound service)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"WSDL Type"}),s.jsxs(kj,{value:a,onValueChange:k=>o(k),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xc,{value:"SYNCHRONOUS",id:"sync"}),s.jsx(E,{htmlFor:"sync",children:"Synchronous (Request/Response)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xc,{value:"ASYNCHRONOUS",id:"async"}),s.jsx(E,{htmlFor:"async",children:"Asynchronous (Request only)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"request",children:"Request Structure *"}),s.jsxs(K,{value:i,onValueChange:l,children:[s.jsx(Y,{id:"request",children:s.jsx(G,{placeholder:"Select request structure"})}),s.jsx(X,{children:A.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))})]})]}),a==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response",children:"Response Structure *"}),s.jsxs(K,{value:c,onValueChange:d,children:[s.jsx(Y,{id:"response",children:s.jsx(G,{placeholder:"Select response structure"})}),s.jsx(X,{children:A.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fault",children:"Fault Structure (Optional)"}),s.jsxs(K,{value:u,onValueChange:m,children:[s.jsx(Y,{id:"fault",children:s.jsx(G,{placeholder:"Select fault structure (optional)"})}),s.jsxs(X,{children:[s.jsx(D,{value:"",children:"None"}),A.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"service-name",children:"Service Name *"}),s.jsx(V,{id:"service-name",value:f,onChange:k=>x(k.target.value),placeholder:"e.g., CustomerService"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"namespace",children:"Namespace *"}),s.jsx(V,{id:"namespace",value:g,onChange:k=>p(k.target.value),placeholder:"e.g., http://example.com/services/customer"}),!g&&i&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter namespace or it will be extracted from request structure if available"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"operation",children:"Operation Name *"}),s.jsx(V,{id:"operation",value:w,onChange:k=>v(k.target.value),placeholder:"e.g., getCustomer"})]}),y&&s.jsx(et,{children:s.jsxs(tt,{children:["WSDL generated successfully! ",y.createdStructures.length," data structures were created."]})})]}),s.jsxs(aa,{children:[s.jsx(z,{variant:"outline",onClick:O,children:"Cancel"}),y?s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",onClick:I,children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(z,{onClick:U,children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Download"]})]}):s.jsxs(z,{onClick:F,disabled:L.isPending||M,children:[L.isPending&&s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate WSDL"]})]})]})}),s.jsx(mt,{open:T,onOpenChange:S,children:s.jsxs(ut,{className:"max-w-4xl max-h-[80vh]",children:[s.jsx(pt,{children:s.jsx(ft,{children:"WSDL Preview"})}),s.jsx("div",{className:"overflow-auto",children:s.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded",children:N})}),s.jsxs(aa,{children:[s.jsx(z,{variant:"outline",onClick:()=>S(!1),children:"Close"}),s.jsxs(z,{onClick:U,children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const Fie=({structureName:e,setStructureName:t,structureDescription:n,setStructureDescription:r,structureUsage:a="source",setStructureUsage:o,isEditMode:i=!1})=>{const[l,c]=h.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(q,{className:"animate-scale-in",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{children:[i?"Edit":"Create"," Data Structure"]}),s.jsx(xe,{children:"Import existing schemas or create custom structures"})]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"gap-2",children:[s.jsx(n8,{className:"h-4 w-4"}),"Generate WSDL"]})]})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"structureName",children:"Structure Name *"}),s.jsx(V,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:d=>t(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:n,onChange:d=>r(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"usage",children:"Usage"}),s.jsxs(K,{value:a,onValueChange:d=>{const u=d;if(o(u),e){let m=e;(m.endsWith("_Out")||m.endsWith("_In"))&&(m=m.substring(0,m.length-4)),t(m+(u==="source"?"_Out":"_In"))}},children:[s.jsx(Y,{id:"usage",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"source",children:"Source (Outbound)"}),s.jsx(D,{value:"target",children:"Target (Inbound)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Source structures are used by Sender Adapters (outbound - receive FROM external systems). Target structures are used by Receiver Adapters (inbound - send TO external systems)"})]})]})})]}),s.jsx(Rie,{isOpen:l,onClose:()=>c(!1)})]})},Oie=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const[n,r]=h.useState([]),[a,o]=h.useState(!0);h.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const l=await Wr.getAllBusinessComponents();if(l.success&&l.data){const c=Array.isArray(l.data)?l.data:[];r(c)}}catch(l){console.error("Error loading business components:",l),r([])}finally{o(!1)}};return s.jsxs(q,{className:"animate-scale-in",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(xe,{children:"Select the business component this data structure belongs to"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(K,{value:e?.id||"",onValueChange:l=>{const c=n.find(d=>d.id===l)||null;t(c)},disabled:a,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsx(X,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(l=>s.jsx(D,{value:l.id,children:l.name},l.id))})]})]})})]})},Sx=({icon:e,title:t,description:n,acceptTypes:r,dragOver:a,onDrop:o,onDragOver:i,onDragLeave:l,onFileSelect:c,uploadId:d,buttonText:u})=>s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:o,onDragOver:i,onDragLeave:l,children:[s.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n}),s.jsx("input",{type:"file",accept:r,onChange:m=>m.target.files?.[0]&&c(m.target.files[0]),className:"hidden",id:d}),s.jsxs(z,{variant:"outline",onClick:()=>document.getElementById(d)?.click(),children:[s.jsx(yf,{className:"h-4 w-4 mr-2"}),u]})]}),Iie=({jsonInput:e,setJsonInput:t,onResetAllFields:n,onFileUploaded:r})=>{const[a,o]=h.useState(!1),{toast:i}=Be(),l=u=>{const m=new FileReader;m.onload=f=>{const x=f.target?.result;try{const g=JSON.parse(x);t(JSON.stringify(g,null,2)),r&&r(u.name),i({title:"JSON File Loaded",description:`Successfully loaded ${u.name}`})}catch{i({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},m.readAsText(u)},c=u=>{u.preventDefault(),o(!1);const m=Array.from(u.dataTransfer.files);m.length>0&&l(m[0])},d=()=>{n(),i({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx(Sx,{icon:f0,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:a,onDrop:c,onDragOver:u=>{u.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onFileSelect:l,uploadId:"json-upload",buttonText:"Upload JSON File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"JSON Structure"}),e.trim()&&s.jsxs(z,{variant:"outline",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),s.jsx(ke,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:u=>t(u.target.value),className:"font-mono text-sm",rows:8})]})]})};function Lie({value:e,onValueChange:t,placeholder:n="Select a structure...",className:r,filterType:a="all"}){const[o,i]=h.useState(!1),[l,c]=h.useState([]),[d,u]=h.useState(!1),[m,f]=h.useState("");h.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0);const w=await yn.getStructures();if(w.success&&w.data){let v=w.data.structures||w.data||[];a!=="all"&&(v=v.filter(y=>y.type===a)),v.sort((y,j)=>y.name.localeCompare(j.name)),c(v)}}catch(w){console.error("Error loading structures:",w),c([])}finally{u(!1)}},g=l.find(w=>w.id===e),p=l.filter(w=>{const v=m.toLowerCase();return w.name.toLowerCase().includes(v)||w.description?.toLowerCase().includes(v)||w.namespace?.uri?.toLowerCase().includes(v)||w.namespace?.targetNamespace?.toLowerCase().includes(v)});return s.jsxs(_p,{open:o,onOpenChange:i,children:[s.jsx($p,{asChild:!0,children:s.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":o,className:re("justify-between",r),children:[g?s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx("span",{className:"truncate",children:g.name}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:g.type.toUpperCase()})]}):s.jsx("span",{className:"text-muted-foreground",children:n}),s.jsx(Mk,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(eu,{className:"w-[400px] p-0",children:s.jsxs(VN,{shouldFilter:!1,children:[s.jsxs("div",{className:"flex items-center border-b px-3",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx("input",{className:"flex h-11 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Search structures...",value:m,onChange:w=>f(w.target.value)})]}),s.jsx(UN,{children:d?s.jsx("div",{className:"py-6 text-center text-sm",children:"Loading structures..."}):p.length===0?s.jsx("div",{className:"py-6 text-center text-sm",children:"No structures found."}):s.jsx(BN,{children:p.map(w=>s.jsxs(HN,{value:w.id,onSelect:()=>{t(w.id),i(!1),f("")},children:[s.jsx(ec,{className:re("mr-2 h-4 w-4",e===w.id?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:w.name}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:w.type.toUpperCase()})]}),w.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:w.description}),w.namespace?.uri&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Namespace: ",w.namespace.uri]})]})]},w.id))})})]})})]})}const nb=({type:e,namespaceConfig:t,setNamespaceConfig:n,hideSchemaLocation:r=!1,xsdInput:a,setXsdInput:o})=>{const i=e==="wsdl",[l,c]=h.useState(null);return h.useEffect(()=>{(async()=>{if(t.schemaLocationId)try{const u=await yn.getStructure(t.schemaLocationId);u.success&&u.data&&c(u.data.name)}catch(u){console.error("Error fetching linked structure:",u),c(null)}else c(null)})()},[t.schemaLocationId]),s.jsxs(q,{className:"p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),i?"WSDL":"XML"," Namespace Configuration"]}),l&&s.jsxs(ce,{variant:"success",className:"flex items-center gap-1",children:[s.jsx(Md,{className:"h-3 w-3"}),"Dependency Linked: ",l]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:i?"Service Namespace *":"Namespace URI *"}),s.jsx(V,{placeholder:i?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:d=>n({...t,uri:d.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:i?"Service Prefix":"Namespace Prefix"}),s.jsx(V,{placeholder:i?"svc":"ns1",value:t.prefix,onChange:d=>n({...t,prefix:d.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:"Target Namespace"}),s.jsx(V,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:d=>n({...t,targetNamespace:d.target.value}),className:"text-sm"})]}),!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:i?"WSDL Dependency":"Schema Dependency"}),s.jsx(Lie,{value:t.schemaLocationId,onValueChange:d=>{if(n({...t,schemaLocationId:d,schemaLocation:d}),d&&a&&o)try{const m=new DOMParser().parseFromString(a,"text/xml"),f=m.querySelectorAll("import, xs\\:import, xsd\\:import");let x=!1;if(f.forEach(g=>{const p=g.getAttribute("schemaLocation");p&&!p.startsWith("structure://")&&(g.setAttribute("schemaLocation",`structure://${d}`),x=!0)}),x){const p=new XMLSerializer().serializeToString(m);o(p)}}catch(u){console.error("Error updating schema locations:",u)}},placeholder:i?"Search for WSDL structure...":"Search for XSD structure...",filterType:i?"wsdl":"xsd",className:"text-sm"})]})]})]})},_ie=({xsdInput:e,setXsdInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a,onFileUploaded:o,onFileContentLoaded:i})=>{const[l,c]=h.useState(!1),{toast:d}=Be(),u=g=>{const p=rj(g);p&&(p.uri||p.targetNamespace)&&r(p)},m=g=>{const p=new FileReader;p.onload=w=>{const v=w.target?.result;u(v),i?i(v,g.name):(t(v),o&&o(g.name),d({title:"XSD File Loaded",description:`Successfully loaded ${g.name}`}))},p.readAsText(g)},f=g=>{g.preventDefault(),c(!1);const p=Array.from(g.dataTransfer.files);p.length>0&&m(p[0])},x=()=>{a(),d({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(nb,{type:"xml",namespaceConfig:n,setNamespaceConfig:r,xsdInput:e,setXsdInput:t}),!e.trim()&&s.jsx(Sx,{icon:gu,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:l,onDrop:f,onDragOver:g=>{g.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onFileSelect:m,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"XSD/SOAP Content"}),e.trim()&&s.jsxs(z,{variant:"outline",size:"sm",onClick:x,className:"text-destructive hover:text-destructive",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),s.jsx(ke,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:g=>{const p=g.target.value;p.length>e.length+10&&i?(u(p),i(p,"pasted-content.xsd")):(t(p),p.trim()&&p.includes("schema")&&u(p))},className:"font-mono text-sm",rows:8})]})]})},$ie=({wsdlInput:e,setWsdlInput:t,namespaceConfig:n,setNamespaceConfig:r,onWsdlAnalyzed:a,onResetAllFields:o,onFileUploaded:i,onFileContentLoaded:l})=>{const[c,d]=h.useState(!1),[u,m]=h.useState(null),{toast:f}=Be(),x=v=>{const{names:y,hasMultiple:j}=hO(v);j?(m(y),f({title:"Multiple Operations Detected",description:`This WSDL contains ${y.length} operations. Please enter a structure name manually.`,variant:"default"})):m(null);const N=sj(v),b=nj(v);b&&r(b),a&&a(N,b)},g=v=>{const y=new FileReader;y.onload=j=>{const N=j.target?.result;l?l(N,v.name):(t(N),x(N),i&&!sj(N)&&i(v.name),f({title:"WSDL File Loaded",description:`Successfully loaded ${v.name}`}))},y.readAsText(v)},p=v=>{v.preventDefault(),d(!1);const y=Array.from(v.dataTransfer.files);y.length>0&&g(y[0])},w=()=>{o(),f({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[u&&s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(vi,{children:"Multiple Operations Found"}),s.jsxs(tt,{children:["This WSDL contains ",u.length," operations: ",u.join(", "),". Please enter a structure name manually in the form above."]})]}),s.jsx(nb,{type:"wsdl",namespaceConfig:n,setNamespaceConfig:r,hideSchemaLocation:!0}),!e.trim()&&s.jsx(Sx,{icon:gu,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:c,onDrop:p,onDragOver:v=>{v.preventDefault(),d(!0)},onDragLeave:()=>d(!1),onFileSelect:g,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"WSDL Content"}),e.trim()&&s.jsxs(z,{variant:"outline",size:"sm",onClick:w,className:"text-destructive hover:text-destructive",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),s.jsx(ke,{placeholder:"Paste your WSDL definition here...",value:e,onChange:v=>{const y=v.target.value;y.length>e.length+10&&l?l(y,"pasted-content.wsdl"):(t(y),y.trim()&&x(y))},className:"font-mono text-sm",rows:8})]})]})},Vie=({edmxInput:e,setEdmxInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a,onFileUploaded:o})=>{const[i,l]=h.useState(!1),{toast:c}=Be(),d=g=>{g.preventDefault(),l(!1);const p=g.dataTransfer.files;p[0]&&f(p[0])},u=g=>{g.preventDefault(),l(!0)},m=()=>{l(!1)},f=g=>{const p=new FileReader;p.onload=w=>{const v=w.target?.result;t(v),o&&o(g.name),c({title:"EDMX File Loaded",description:`Successfully loaded ${g.name}`})},p.readAsText(g)},x=()=>{a(),c({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx(Sx,{icon:gu,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:i,onDrop:d,onDragOver:u,onDragLeave:m,onFileSelect:f,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&s.jsxs(z,{variant:"outline",size:"sm",onClick:x,className:"text-destructive hover:text-destructive",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),s.jsx(ke,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:g=>t(g.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),s.jsx(nb,{type:"xml",namespaceConfig:n,setNamespaceConfig:r})]})},Uie=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],Bie=({field:e,canHaveChildren:t,isExpanded:n,onToggleExpanded:r,onUpdate:a,onRemove:o,depth:i})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[s.jsx("div",{className:"col-span-1 flex items-center",children:t&&s.jsx(z,{onClick:r,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:n?s.jsx(Er,{className:"h-3 w-3"}):s.jsx(On,{className:"h-3 w-3"})})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Field Name"}),s.jsx(V,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(E,{className:"text-xs",children:"Type"}),s.jsxs(K,{value:e.type,onValueChange:l=>a({type:l}),children:[s.jsx(Y,{className:"text-sm",children:s.jsx(G,{})}),s.jsx(X,{children:Uie.map(l=>s.jsx(D,{value:l,children:l},l))})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Description"}),s.jsx(V,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),s.jsx("span",{children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(z,{onClick:o,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:s.jsx(or,{className:"h-3 w-3"})})})]}),Hie=({field:e,canHaveChildren:t,onUpdate:n,onAddChild:r})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[s.jsx("div",{className:"col-span-1"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:a=>n({isComplexType:a.target.checked}),className:"rounded"}),s.jsx("span",{children:"Complex Type"})]})}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(E,{className:"text-xs",children:"Min Occurs"}),s.jsx(V,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:a=>n({minOccurs:parseInt(a.target.value)||0}),className:"text-sm"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Max Occurs"}),s.jsxs(K,{value:e.maxOccurs?.toString()||"1",onValueChange:a=>n({maxOccurs:a==="unbounded"?"unbounded":parseInt(a)}),children:[s.jsx(Y,{className:"text-sm",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"1",children:"1"}),s.jsx(D,{value:"2",children:"2"}),s.jsx(D,{value:"5",children:"5"}),s.jsx(D,{value:"10",children:"10"}),s.jsx(D,{value:"unbounded",children:"Unbounded"})]})]})]}),s.jsx("div",{className:"col-span-3",children:t&&s.jsxs(z,{onClick:r,size:"sm",variant:"outline",className:"w-full hover-scale",children:[s.jsx(ns,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]}),zie=({field:e,canHaveChildren:t,isExpanded:n,hasChildren:r,depth:a,path:o,onUpdateChild:i,onRemoveChild:l,onAddGrandChild:c,FieldBuilderComponent:d})=>!t||!n||!r?null:s.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[s.jsx(E,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,m)=>s.jsx(d,{field:u,index:m,onUpdate:i,onRemove:l,onAddChild:c,depth:a+1,path:[...o,m]},m))]}),qie=(e,t,n,r,a)=>{const o=h.useCallback(u=>{if(u.maxOccurs!==void 0){const m=u.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?u.type="array":m===1&&e.type==="array"&&(u.type="string")}n(t,u)},[t,n,e.type]),i=h.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&n(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,n,a]),l=h.useCallback(u=>{r(u)},[r]),c=h.useCallback((u,m)=>{n(u,m)},[n]),d=h.useCallback(u=>{a(u)},[a]);return{handleUpdate:o,handleAddChild:i,handleRemoveChild:l,handleUpdateChild:c,handleAddGrandChild:d}},C_=({field:e,index:t,onUpdate:n,onRemove:r,onAddChild:a,depth:o,path:i})=>{const[l,c]=Tt.useState(!0),d=!!(e.children&&e.children.length>0),u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:m,handleAddChild:f,handleRemoveChild:x,handleUpdateChild:g,handleAddGrandChild:p}=qie(e,i,n,r,a);return s.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${o>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Bie,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>c(!l),onUpdate:m,onRemove:()=>r(i),depth:o}),s.jsx(Hie,{field:e,canHaveChildren:u,onUpdate:m,onAddChild:f})]}),s.jsx(zie,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:d,depth:o,path:i,onUpdateChild:g,onRemoveChild:x,onAddGrandChild:p,FieldBuilderComponent:C_})]})},Wie=(e,t)=>{const n=h.useCallback((i,l)=>{const c={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&i!==void 0){const d=[...e];d[l].children[i].children||(d[l].children[i].children=[]),d[l].children[i].children.push(c),t(d)}else if(i!==void 0){const d=[...e];d[i].children||(d[i].children=[]),d[i].children.push(c),t(d)}else t([...e,c])},[e,t]),r=h.useCallback((i,l)=>{console.log("updateFieldAtPath called:",{path:i,field:l});const c=[...e];let d=c;for(let m=0;m<i.length-1;m++){const f=i[m];d[f].children||(d[f].children=[]),d=d[f].children}const u=i[i.length-1];if(d[u]){if(l.maxOccurs!==void 0){const m=l.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?l.type="array":m===1&&d[u].type==="array"&&(l.type="string")}d[u]={...d[u],...l},console.log("Updated field at path:",i,d[u])}t(c)},[e,t]),a=h.useCallback(i=>{const l=[...e];if(i.length===1)t(l.filter((c,d)=>d!==i[0]));else{let c=l;for(let m=0;m<i.length-2;m++){const f=i[m];if(!c[f].children)return;c=c[f].children}const d=i[i.length-2],u=i[i.length-1];c[d]&&c[d].children&&(c[d].children=c[d].children.filter((m,f)=>f!==u)),t(l)}},[e,t]),o=h.useCallback(i=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},c=[...e];let d=c;for(let u=0;u<i.length;u++){const m=i[u];d[m].children||(d[m].children=[]),u===i.length-1?d[m].children.push(l):d=d[m].children}t(c)},[e,t]);return{addCustomField:n,updateFieldAtPath:r,removeFieldAtPath:a,addChildAtPath:o}},Bp=e=>{const t={};return e.forEach(n=>{if(n.name){const r=n.type==="array"||typeof n.maxOccurs=="number"&&n.maxOccurs>1||n.maxOccurs==="unbounded";n.isComplexType||n.children&&n.children.length>0?r?t[n.name]=[Bp(n.children)]:t[n.name]=Bp(n.children):t[n.name]=n.type==="integer"?0:""}}),t},Yie=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const n=e[0],r={[n.name]:Bp(n.children||[])};return JSON.stringify(r,null,2)}const t={root:Bp(e)};return JSON.stringify(t,null,2)},Xie=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(n=>{if(n.name)if(n.isComplexType||n.children&&n.children.length>0)t+=`
        <xs:element name="${n.name}">
          <xs:complexType>
            <xs:sequence>`,n.children?.forEach(r=>{if(r.name){const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;r.isComplexType||r.children&&r.children.length>0?(t+=`
              <xs:element name="${r.name}">
                <xs:complexType>
                  <xs:sequence>`,r.children?.forEach(l=>{if(l.name){const c=l.minOccurs||(l.required?1:0),d=l.maxOccurs==="unbounded"?"unbounded":l.maxOccurs||1,u=`minOccurs="${c}" maxOccurs="${d}"`;t+=`
                    <xs:element name="${l.name}" type="xs:${l.type==="array"?"string":l.type}" ${u}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${r.name}" type="xs:${r.type==="array"?"string":r.type}" ${i}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const r=n.minOccurs||(n.required?1:0),a=n.maxOccurs==="unbounded"?"unbounded":n.maxOccurs||1,o=`minOccurs="${r}" maxOccurs="${a}"`;t+=`
        <xs:element name="${n.name}" type="xs:${n.type==="array"?"string":n.type}" ${o}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},Kie=(e,t="        ")=>{let n="";return(e.isComplexType||e.children&&e.children.length>0)&&(n+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,e.children?.forEach(r=>{if(r.name){const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;if(r.isComplexType||r.children&&r.children.length>0)n+=`
${t}    <xsd:element name="${r.name}" type="tns:${r.name}Type" ${i}/>`;else{const l=r.type==="array"?"string":r.type==="integer"?"int":r.type;n+=`
${t}    <xsd:element name="${r.name}" type="xsd:${l}" ${i}/>`}}}),n+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),n},Gie=(e,t="DataService",n="ProcessData")=>{if(e.length===0)return"";let r=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${n}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const c=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
            <xsd:element name="${a.name}" type="xsd:${c}" ${l}/>`}}}),r+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${n}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${n}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(r+=`
      
      ${Kie(a)}`)}),r+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${n}RequestMessage">
    <part name="parameters" element="tns:${n}Request"/>
  </message>
  
  <message name="${n}ResponseMessage">
    <part name="parameters" element="tns:${n}Response"/>
  </message>
  
  <message name="${n}FaultMessage">
    <part name="fault" element="tns:${n}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${n}">
      <documentation>Process data operation</documentation>
      <input message="tns:${n}RequestMessage"/>
      <output message="tns:${n}ResponseMessage"/>
      <fault name="${n}Fault" message="tns:${n}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${n}">
      <soap:operation soapAction="http://example.com/service/${n}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${n}Fault">
        <soap:fault name="${n}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,r},Jie=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return Yie(e);case"xml":case"xsd":return Xie(e);case"wsdl":return Gie(e);default:return JSON.stringify(e,null,2)}},Qie=({fields:e,schemaType:t})=>e.length===0?null:s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs(E,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),s.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:Jie(e,t)})]}),Zie=({customFields:e,setCustomFields:t,selectedStructureType:n,setSelectedStructureType:r,onResetAllFields:a})=>{const[o,i]=h.useState(""),{toast:l}=Be(),{addCustomField:c,updateFieldAtPath:d,removeFieldAtPath:u,addChildAtPath:m}=Wie(e,t),f=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customStructureType",children:"Structure Type"}),s.jsxs(K,{value:o,onValueChange:i,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select structure type to build"})}),s.jsxs(X,{children:[s.jsx(D,{value:"json",children:"JSON Schema"}),s.jsx(D,{value:"xsd",children:"XSD Schema"}),s.jsx(D,{value:"xml",children:"XML Schema"}),s.jsx(D,{value:"wsdl",children:"WSDL Schema"})]})]})]}),o?e.length===0?s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(xs,{className:"h-12 w-12 mx-auto text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",o.toUpperCase()," Structure"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",o.toUpperCase()," data structure"]}),s.jsxs(z,{onClick:()=>c(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(E,{children:["Structure Definition (",o.toUpperCase(),")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{onClick:()=>c(),size:"sm",variant:"outline",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Field"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((x,g)=>s.jsx(C_,{field:x,index:g,onUpdate:d,onRemove:u,onAddChild:m,depth:0,path:[g]},g)),s.jsx(Qie,{fields:e,schemaType:o})]}):s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(xs,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},ele=({customFields:e,setCustomFields:t,jsonInput:n,setJsonInput:r,xsdInput:a,setXsdInput:o,edmxInput:i,setEdmxInput:l,wsdlInput:c,setWsdlInput:d,selectedStructureType:u,setSelectedStructureType:m,namespaceConfig:f,setNamespaceConfig:x,onSave:g,onWsdlAnalyzed:p,onResetAllFields:w,onFileUploaded:v,onFileContentLoaded:y})=>{const j=Ls(),N=()=>{j("/data-structures")};return s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Define Structure"}),s.jsx(xe,{children:"Choose your preferred method to define the data structure"})]}),s.jsxs(Z,{children:[s.jsxs(Ge,{value:u,className:"w-full",onValueChange:b=>m(b),children:[s.jsxs(Ke,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"json",children:"JSON Schema"}),s.jsx(me,{value:"xsd",children:"XSD/XML"}),s.jsx(me,{value:"wsdl",children:"WSDL"}),s.jsx(me,{value:"edmx",children:"EDMX"}),s.jsx(me,{value:"custom",children:"Custom Builder"})]}),s.jsx(he,{value:"json",children:s.jsx(Iie,{jsonInput:n,setJsonInput:r,onResetAllFields:w,onFileUploaded:v})}),s.jsx(he,{value:"xsd",children:s.jsx(_ie,{xsdInput:a,setXsdInput:o,namespaceConfig:f,setNamespaceConfig:x,onResetAllFields:w,onFileUploaded:v,onFileContentLoaded:(b,T)=>y?.(b,T,"xsd")})}),s.jsx(he,{value:"wsdl",children:s.jsx($ie,{wsdlInput:c,setWsdlInput:d,namespaceConfig:f,setNamespaceConfig:x,onWsdlAnalyzed:p,onResetAllFields:w,onFileUploaded:v,onFileContentLoaded:(b,T)=>y?.(b,T,"wsdl")})}),s.jsx(he,{value:"edmx",children:s.jsx(Vie,{edmxInput:i,setEdmxInput:l,namespaceConfig:f,setNamespaceConfig:x,onResetAllFields:w,onFileUploaded:v})}),s.jsx(he,{value:"custom",children:s.jsx(Zie,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:m,onResetAllFields:w})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t flex gap-4",children:[s.jsxs(z,{onClick:N,variant:"outline",className:"flex-1",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(z,{onClick:g,className:"flex-1 bg-gradient-primary hover:opacity-90",children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})]})]})]})},E_=(e,t=0)=>e?s.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([n,r])=>s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-primary",children:n}),s.jsx("span",{className:"text-muted-foreground",children:": "}),typeof r=="string"?s.jsx(ce,{variant:"outline",className:"text-xs",children:r}):s.jsx("div",{className:"mt-1",children:E_(r,t+1)})]},n)):s.jsx(ce,{variant:"outline",className:"text-xs",children:String(e)})}):null,tle=({selectedStructure:e})=>s.jsxs(q,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5"}),"Structure Preview"]})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&s.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),s.jsx(it,{}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx(E,{className:"text-xs font-medium",children:"Structure Definition"}),s.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:E_(e.structure)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(z,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),sle=({primaryFile:e,onDependenciesResolved:t,onCancel:n,onCreateDependency:r,currentStructureId:a})=>{const[o,i]=h.useState([]),[l,c]=h.useState(new Map),[d,u]=h.useState("checking");h.useState(""),h.useState([]),h.useState(new Map),h.useState(!1),Be(),h.useEffect(()=>{if(console.log("[DependencyValidator useEffect] primaryFile:",e),!e)return;const f=e.type==="xsd"?Np(e.content):bp(e.content);console.log("[DependencyValidator useEffect] primaryDeps:",f);const x={name:e.name,content:e.content,dependencies:f,type:e.type};i([x]);const g=new Map,p=new Set;f.imports.forEach(w=>{const v=w.schemaLocation||"";v&&p.add(`import: ${v}`)}),f.includes.forEach(w=>{const v=w.schemaLocation||"";v&&p.add(`include: ${v}`)}),p.size>0&&g.set(e.name,p),console.log("[DependencyValidator] Setting unresolved deps:",g),console.log("[DependencyValidator] Setting validation status to:",g.size===0?"complete":"incomplete"),c(g),u(g.size===0?"complete":"incomplete")},[e]);const m=()=>{d==="complete"&&t(o)};return s.jsxs(q,{className:"w-full max-w-4xl mx-auto",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(l8,{className:"h-5 w-5"}),"Dependency Resolution Required"]}),s.jsx(xe,{children:"The uploaded file has external dependencies that must be resolved before saving."})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Debug: validationStatus = ",d,", unresolvedDeps = ",l.size]}),s.jsxs(et,{variant:d==="complete"?"default":"destructive",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(vi,{children:d==="complete"?"All Dependencies Resolved":"Unresolved Dependencies Found"}),s.jsx(tt,{children:d==="complete"?"All required schema files have been uploaded. You can now proceed.":`${l.size} file(s) have unresolved dependencies. Upload the missing files to continue.`})]}),s.jsxs(Ge,{defaultValue:o[0]?.name,className:"w-full",children:[s.jsx(Ke,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${o.length}, 1fr)`},children:o.map(f=>s.jsxs(me,{value:f.name,className:"text-xs",children:[s.jsx(Ps,{className:"h-3 w-3 mr-1"}),f.name]},f.name))}),o.map(f=>s.jsx(he,{value:f.name,className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Dependencies:"}),f.dependencies.imports.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Imports:"}),s.jsx("div",{className:"space-y-1",children:f.dependencies.imports.map((x,g)=>{const p=!l.get(f.name)?.has(`import: ${x.schemaLocation||x.namespace}`);return s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[p?s.jsx(Ns,{className:"h-3 w-3 text-green-500"}):s.jsx(Nt,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:p?"text-green-700":"text-red-700",children:x.schemaLocation||x.namespace}),x.namespace&&s.jsx(ce,{variant:"outline",className:"text-xs h-5",children:x.namespace})]},g)})})]}),f.dependencies.includes.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Includes:"}),s.jsx("div",{className:"space-y-1",children:f.dependencies.includes.map((x,g)=>{const p=!l.get(f.name)?.has(`include: ${x.schemaLocation}`);return s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[p?s.jsx(Ns,{className:"h-3 w-3 text-green-500"}):s.jsx(Nt,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:p?"text-green-700":"text-red-700",children:x.schemaLocation})]},g)})})]}),f.dependencies.imports.length===0&&f.dependencies.includes.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"No dependencies found in this file."})]})},f.name))]}),d==="incomplete"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Create Missing Dependencies:"}),Array.from(l.entries()).map(([f,x])=>(console.log("[DependencyValidator] Rendering deps for file:",f,"deps:",Array.from(x)),s.jsx("div",{className:"space-y-2",children:Array.from(x).map((g,p)=>{const[w,v]=g.split(": ");return console.log("[DependencyValidator] Rendering button for:",w,v),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:v}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Type: ",w]})]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{if(console.log("[DependencyValidator] Create button clicked for:",v),!r){console.error("[DependencyValidator] onCreateDependency is not defined!");return}const y={schemaLocation:v,type:w,parentStructureId:a,returnUrl:window.location.pathname+window.location.search};console.log("[DependencyValidator] Calling onCreateDependency with:",y),r(y)},children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Create ",w==="import"?"XSD":"Schema"]})]},p)})},f)))]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{variant:"outline",onClick:n,children:"Cancel"}),d==="incomplete"&&s.jsx(z,{variant:"secondary",onClick:()=>{t([])},children:"Save as Draft"}),d==="complete"&&s.jsx(z,{onClick:m,children:"Continue"})]})]})]})},aT=()=>{try{const{id:e}=R0(),t=Ls(),n=Zs(),{saveStructure:r,updateStructure:a,loading:o}=pc();console.log("CreateDataStructure component rendering, loading:",o);const{toast:i}=Be(),[l,c]=h.useState(!1),[d,u]=h.useState(null),[m,f]=h.useState("source"),[x,g]=h.useState(""),[p,w]=h.useState(""),[v,y]=h.useState(null),[j,N]=h.useState([]),[b,T]=h.useState(""),[S,A]=h.useState(""),[M,L]=h.useState(""),[F,I]=h.useState(""),[U,O]=h.useState("json"),[k,C]=h.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:"",schemaLocationId:""}),[P,R]=h.useState(!1),[$,H]=h.useState(null),[_,B]=h.useState([]);h.useEffect(()=>{n.state?.isDependency&&(Te(),setTimeout(()=>{n.state.suggestedName&&g(ue(n.state.suggestedName)),n.state.parentBusinessComponent&&y(n.state.parentBusinessComponent)},100))},[n.state]),h.useEffect(()=>{(async()=>{if(e)try{console.log("[CreateDataStructure] Loading structure for edit:",e);const oe=await yn.getStructure(e);if(oe.success&&oe.data){const we=oe.data;c(!0),u(we.id),g(we.name||""),w(we.description||""),f(we.usage||"source"),O(we.type||"json"),we.type==="json"?T(JSON.stringify(we.structure,null,2)):we.type==="wsdl"?we.originalContent&&we.originalFormat==="xml"?I(we.originalContent):I(JSON.stringify(we.structure,null,2)):we.type==="xsd"?we.originalContent&&we.originalFormat==="xml"?A(we.originalContent):A(JSON.stringify(we.structure,null,2)):we.type,we.namespace&&C(we.namespace),we.businessComponent?y({id:we.businessComponent.id,name:we.businessComponent.name,description:we.businessComponent.description||""}):we.businessComponentId&&y({id:we.businessComponentId,name:we.businessComponentName||"Loading...",description:""})}}catch(oe){console.error("Error loading structure:",oe),i({title:"Error",description:"Failed to load data structure",variant:"destructive"}),t("/data-structures")}else if(n.state?.structure&&n.state?.isEdit){const oe=n.state.structure;console.log("[CreateDataStructure] Loading structure from navigation state:",oe),c(!0),u(oe.id),g(oe.name||""),w(oe.description||""),f(oe.usage||"source"),O(oe.type||"json"),oe.type==="json"?T(JSON.stringify(oe.structure,null,2)):oe.type==="wsdl"?I(JSON.stringify(oe.structure,null,2)):oe.type==="xsd"&&A(JSON.stringify(oe.structure,null,2)),oe.namespace&&C(oe.namespace),oe.businessComponent?y({id:oe.businessComponent.id,name:oe.businessComponent.name,description:oe.businessComponent.description||""}):oe.businessComponentId&&y({id:oe.businessComponentId,name:oe.businessComponentName||"Loading...",description:""})}})()},[e,n.state,t,i]);const[W,te]=h.useState(null);h.useEffect(()=>{(async()=>{if(k?.schemaLocationId)try{const oe=await yn.getStructure(k.schemaLocationId);oe.success&&oe.data&&te(oe.data.structure)}catch(oe){console.error("Error fetching linked dependency:",oe),te(null)}else te(null)})()},[k?.schemaLocationId]);const le=h.useMemo(()=>{if(!x)return null;let de={};if(U==="json"&&b)de=Zy(b);else if(U==="wsdl"&&F){const oe=jp(F);de=oe?.structure||oe}else if(U==="xsd"&&S){let oe={};k?.schemaLocationId&&W&&(oe[`structure://${k.schemaLocationId}`]=W,oe[k.schemaLocationId]=W),de=tj(S,oe)||{error:"Failed to parse XSD structure"}}else U==="edmx"&&M?de={message:"EDMX parsing not fully implemented yet"}:U==="custom"&&j.length>0&&(de=wp(j));return!de||Object.keys(de).length===0?null:{id:"preview",name:x,type:U,description:p,structure:de,createdAt:new Date().toISOString().split("T")[0],usage:m,namespace:(U==="xsd"||U==="wsdl"||U==="edmx")&&k.uri?k:void 0}},[x,p,U,b,S,M,F,j,k,W]),ue=de=>{if(!de)return de;let oe=de;return(oe.endsWith("_Out")||oe.endsWith("_In"))&&(oe=oe.substring(0,oe.length-4)),oe},Q=(de,oe)=>{de&&!x&&g(ue(de)),oe&&C(oe)},ie=(de,oe,we)=>{console.log("[checkDependencies] Checking dependencies for:",oe,we);const ot=we==="xsd"?Np(de):bp(de);return console.log("[checkDependencies] Found dependencies:",ot),ot.imports.length>0||ot.includes.length>0?(console.log("[checkDependencies] Has dependencies, showing validator"),H({name:oe,content:de,type:we}),R(!0),!0):(console.log("[checkDependencies] No dependencies found"),!1)},ge=de=>{B(de),R(!1);const oe=de[0];if(oe){if(oe.type==="xsd"){A(oe.content);const we=rj(oe.content);we&&C(we)}else if(oe.type==="wsdl"){I(oe.content);const we=nj(oe.content);we&&C(we)}}i({title:"Dependencies Resolved",description:`${de.length} files loaded successfully. You can now save the structure.`})},Se=async()=>{if(!v){i({title:"Validation Error",description:"Please select a business component",variant:"destructive"});return}if(S&&!_.length&&!l){const oe=Np(S);if((oe.imports.length>0||oe.includes.length>0)&&!k.schemaLocationId&&ie(S,x||"structure.xsd","xsd"))return}if(F&&!_.length&&!l){const oe=bp(F);if((oe.imports.length>0||oe.includes.length>0)&&!k.schemaLocationId&&ie(F,x||"structure.wsdl","wsdl"))return}let de=!1;l&&d?de=await a(d,x,p,m,b,S,M,F,j,U,k,v.id):de=await r(x,p,m,b,S,M,F,j,U,k,v.id,_),de&&(n.state?.isDependency?(i({title:"Dependency Created",description:`Successfully created dependency "${x}". You can now edit the parent structure to link this dependency.`}),t(n.state?.returnUrl||"/data-structures")):l?t("/data-structures"):(g(""),w(""),y(null),T(""),A(""),L(""),I(""),N([]),C({uri:"",prefix:"",targetNamespace:"",schemaLocation:"",schemaLocationId:""})))},Te=()=>{g(""),w(""),y(null),T(""),A(""),L(""),I(""),N([]),C({uri:"",prefix:"",targetNamespace:"",schemaLocation:"",schemaLocationId:""}),O("json")};if(o)return s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx($o,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-muted rounded-lg"})})})})]});const Ne=async de=>{if(console.log("[CreateDataStructure] handleCreateDependency called with:",de),!v){i({title:"Validation Error",description:"Please select a business component before creating dependencies",variant:"destructive"});return}R(!1),await r(x,p,m,b,$?.type==="xsd"?$.content:S,M,$?.type==="wsdl"?$.content:F,j,U,k,v.id,[])&&(i({title:"Draft Saved",description:`Saved "${x}" as draft. Now create the dependency structure.`}),t("/create-data-structure",{state:{isDependency:!0,parentStructureName:x,parentBusinessComponent:v,returnUrl:"/data-structures",schemaLocation:de.schemaLocation,suggestedName:de.schemaLocation.split("/").pop()?.replace(".xsd","")||"dependency"}}))};return s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[P&&$&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:de=>{console.log("[CreateDataStructure] Modal backdrop clicked"),de.target===de.currentTarget&&console.log("[CreateDataStructure] Click was on backdrop, not propagating")},children:s.jsx("div",{className:"relative z-50",onClick:de=>de.stopPropagation(),children:s.jsx(sle,{primaryFile:$,onDependenciesResolved:de=>{ge(de),de.length===0&&$&&($.type==="xsd"?A($.content):$.type==="wsdl"&&I($.content))},onCancel:()=>{R(!1),H(null)},onCreateDependency:Ne,currentStructureId:d})})}),s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx($o,{className:"h-8 w-8"}),n.state?.isDependency?"Create Dependency Structure":"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:n.state?.isDependency?`Creating dependency: ${n.state?.schemaLocation||"dependency structure"}`:"Define and manage data structures for source and target messages"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Oie,{selectedBusinessComponent:v,setSelectedBusinessComponent:y}),s.jsx(Fie,{structureName:x,setStructureName:g,structureDescription:p,setStructureDescription:w,structureUsage:m,setStructureUsage:f,isEditMode:l}),s.jsx(ele,{customFields:j,setCustomFields:N,jsonInput:b,setJsonInput:T,xsdInput:S,setXsdInput:de=>{A(de),de&&!_.length&&ie(de,x||"structure.xsd","xsd")},edmxInput:M,setEdmxInput:L,wsdlInput:F,setWsdlInput:de=>{I(de),de&&!_.length&&ie(de,x||"structure.wsdl","wsdl")},selectedStructureType:U,setSelectedStructureType:O,namespaceConfig:k,setNamespaceConfig:C,onSave:Se,onWsdlAnalyzed:Q,onResetAllFields:Te,onFileUploaded:de=>{if(!x&&de){const oe=de.replace(/\.[^/.]+$/,"");g(ue(oe))}},onFileContentLoaded:(de,oe,we)=>{console.log("[onFileContentLoaded] Called with:",oe,we);const ot=oe.replace(/\.[^/.]+$/,"");if(g(ue(ot)),!ie(de,oe,we)){if(we==="xsd"){A(de);const qt=rj(de);qt&&C(qt)}else if(we==="wsdl"){I(de);const qt=nj(de);qt&&C(qt);const $t=sj(de);$t&&g(ue($t))}}}}),le&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(tle,{selectedStructure:le})})]})]})}catch(e){return console.error("Error rendering DataStructures component:",e),s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center justify-center gap-3",children:[s.jsx($o,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"There was an error loading the data structures page. Please check the browser console for details."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})})}};function Ni({icon:e,title:t,description:n,action:r,className:a}){return s.jsxs("div",{className:re("flex flex-col items-center justify-center p-8 text-center",a),children:[e&&s.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:s.jsx(e,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-1",children:t}),n&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:n}),r&&s.jsxs(z,{onClick:r.onClick,size:"sm",className:"mt-2",children:[r.icon&&s.jsx(r.icon,{className:"h-4 w-4 mr-2"}),r.label]})]})}const nle=({action:e,children:t,fallback:n,showMessage:r=!0})=>{const{permissions:a,environmentInfo:o}=hc();return Tt.useMemo(()=>{switch(e){case"flow.create":return a?.canCreateFlows??!1;case"adapter.create":return a?.canCreateAdapters??!1;case"adapter.updateConfig":return a?.canModifyAdapterConfig??!0;case"flow.import":return a?.canImportFlows??!0;case"flow.deploy":return a?.canDeployFlows??!0;case"businessComponent.create":return a?.canCreateBusinessComponents??!1;case"dataStructure.create":return a?.canCreateDataStructures??!1;case"admin.access":return a?.isAdmin??!1;default:return!0}},[a,e])?s.jsx(s.Fragment,{children:t}):n?s.jsx(s.Fragment,{children:n}):r?s.jsxs(et,{variant:"destructive",children:[s.jsx(Za,{className:"h-4 w-4"}),s.jsxs(tt,{children:["This action is not available in ",o?.displayName||"this"," environment.",o?.type!=="DEVELOPMENT"&&s.jsx("span",{className:"block mt-1 text-sm",children:"Only available in development environment."})]})]}):null},rle=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:f}=Be(),{permissions:x}=hc();h.useEffect(()=>{g()},[]);const g=async()=>{const N=await Wr.getAllBusinessComponents();N.success&&N.data?t(N.data):f({title:"Error",description:N.error||"Failed to load businessComponents",variant:"destructive"}),r(!1)},p=async()=>{if(!u.name.trim()){f({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await Wr.createBusinessComponent(u);N.success&&N.data?(t(b=>[...b,N.data]),o(!1),m({name:"",description:"",contactEmail:"",contactPhone:""}),f({title:"Success",description:"BusinessComponent created successfully"})):f({title:"Error",description:N.error||"Failed to create businessComponent",variant:"destructive"})},w=async()=>{if(!c||!u.name.trim()){f({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await Wr.updateBusinessComponent({id:c.id,...u});N.success&&N.data?(t(b=>b.map(T=>T.id===c.id?N.data:T)),l(!1),d(null),m({name:"",description:"",contactEmail:"",contactPhone:""}),f({title:"Success",description:"BusinessComponent updated successfully"})):f({title:"Error",description:N.error||"Failed to update businessComponent",variant:"destructive"})},v=async N=>{const b=await Wr.deleteBusinessComponent(N.id);b.success?(t(T=>T.filter(S=>S.id!==N.id)),f({title:"Success",description:"BusinessComponent deleted successfully"})):f({title:"Error",description:b.error||"Failed to delete businessComponent",variant:"destructive"})},y=N=>{d(N),m({name:N.name,description:N.description||"",contactEmail:N.contactEmail||"",contactPhone:N.contactPhone||""}),l(!0)},j=()=>{m({name:"",description:"",contactEmail:"",contactPhone:""}),d(null)};return n?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx("div",{className:"h-48 bg-muted rounded"},N))})]})}):s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(np,{className:"h-8 w-8"}),"BusinessComponent Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),s.jsx(nle,{action:"businessComponent.create",showMessage:!1,children:s.jsxs(mt,{open:a,onOpenChange:o,children:[s.jsx(Bu,{asChild:!0,children:s.jsxs(z,{onClick:()=>j(),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),s.jsxs(ut,{children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Create New BusinessComponent"}),s.jsx(Ln,{children:"Add a new businessComponent to your system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(E,{htmlFor:"name",children:"BusinessComponent Name *"}),s.jsx(V,{id:"name",value:u.name,onChange:N=>m({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",value:u.description,onChange:N=>m({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"email",children:"Contact Email"}),s.jsx(V,{id:"email",type:"email",value:u.contactEmail,onChange:N=>m({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"phone",children:"Contact Phone"}),s.jsx(V,{id:"phone",value:u.contactPhone,onChange:N=>m({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(z,{onClick:p,children:"Create BusinessComponent"})]})]})]})]})})]}),e.length===0?s.jsx(Ni,{icon:s.jsx(np,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:x?.canCreateBusinessComponents?{label:"Add BusinessComponent",onClick:()=>o(!0)}:void 0}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&Array.isArray(e)&&e.map(N=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-lg",children:N.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>y(N),children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsxs(Qf,{children:[s.jsx(hX,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",children:s.jsx(or,{className:"h-4 w-4"})})}),s.jsxs(Ou,{children:[s.jsxs(Iu,{children:[s.jsx(_u,{children:"Delete BusinessComponent"}),s.jsxs($u,{children:['Are you sure you want to delete "',N.name,'"? This action cannot be undone.']})]}),s.jsxs(Lu,{children:[s.jsx(Zf,{children:"Cancel"}),s.jsx(Vu,{onClick:()=>v(N),children:"Delete"})]})]})]})]})]}),N.description&&s.jsx(xe,{children:N.description})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2",children:[N.contactEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vu,{className:"h-4 w-4"}),N.contactEmail]}),N.contactPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(g8,{className:"h-4 w-4"}),N.contactPhone]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(N.createdAt).toLocaleDateString()]})]})})]},N.id))}),s.jsx(mt,{open:i,onOpenChange:l,children:s.jsxs(ut,{children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Edit BusinessComponent"}),s.jsx(Ln,{children:"Update businessComponent information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),s.jsx(V,{id:"edit-name",value:u.name,onChange:N=>m({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-description",children:"Description"}),s.jsx(ke,{id:"edit-description",value:u.description,onChange:N=>m({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-email",children:"Contact Email"}),s.jsx(V,{id:"edit-email",type:"email",value:u.contactEmail,onChange:N=>m({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-phone",children:"Contact Phone"}),s.jsx(V,{id:"edit-phone",value:u.contactPhone,onChange:N=>m({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(z,{onClick:w,children:"Update BusinessComponent"})]})]})]})})]})};class ale{websocket=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=3e3;messageListeners=[];statsListeners=[];async getMessages(t){console.log("[messageService] getMessages called with filters:",t),console.trace("getMessages call stack");const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?n.append(a,o.join(",")):n.append(a,o.toString()))});const r=`/messages${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async getMessage(t){return J.get(`/messages/${t}`)}async getMessageStats(t){console.log("[messageService] getMessageStats called with filters:",t),console.trace("getMessageStats call stack");const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?n.append(a,o.join(",")):n.append(a,o.toString()))});const r=`/messages/stats${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async reprocessMessage(t){return J.post(`/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&(Array.isArray(i)?r.append(o,i.join(",")):r.append(o,i.toString()))});const a=`/business-components/${t}/messages${r.toString()?`?${r.toString()}`:""}`;return J.get(a)}connectWebSocket(t){if(this.websocket?.readyState===WebSocket.OPEN)return;const n=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,a=window.location.port||"8080",o=`${n}//${r}:${a}`,i=new URLSearchParams;t&&i.append("businessComponentId",t);const l=i.toString(),c=`${o}/ws/messages${l?`?${l}`:""}`;try{this.websocket=new WebSocket(c),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=d=>{try{const u=JSON.parse(d.data);u.type==="message_update"?this.messageListeners.forEach(m=>m(u.message)):u.type==="stats_update"&&this.statsListeners.forEach(m=>m(u.stats))}catch(u){console.error("Error parsing WebSocket message:",u)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=d=>{console.error("WebSocket error:",d)}}catch(d){console.error("Failed to create WebSocket connection:",d)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const n=this.messageListeners.indexOf(t);n>-1&&this.messageListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){this.websocket?.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}}const $r=new ale,ole=e=>{const[t,n]=h.useState([]),[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState(!1),{toast:d}=Be(),u=h.useCallback(async w=>{if(console.log("[useMessageMonitoring] loadMessages called with filters:",w),console.trace("loadMessages call stack"),!w||Object.keys(w).length===0){console.warn("[useMessageMonitoring] Skipping loadMessages - no filters provided");return}i(!0);try{const v=e?await $r.getBusinessComponentMessages(e,w):await $r.getMessages(w);v.success&&v.data?(console.log("[useMessageMonitoring] Messages data:",v.data.messages),v.data.messages&&v.data.messages.length>0&&(console.log("[useMessageMonitoring] First message:",v.data.messages[0]),console.log("[useMessageMonitoring] First message timestamp:",v.data.messages[0].timestamp),console.log("[useMessageMonitoring] Timestamp type:",typeof v.data.messages[0].timestamp)),n(v.data.messages||[])):n([])}catch{d({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},[e,d]),m=h.useCallback(async w=>{if(!w||Object.keys(w).length===0){console.warn("[useMessageMonitoring] Skipping loadStats - no filters provided");return}try{const v=e?{...w,source:e}:w,y=await $r.getMessageStats(v);y.success&&y.data&&a(y.data)}catch(v){console.error("Failed to load message stats:",v)}},[e]);h.useEffect(()=>{$r.connectWebSocket(e),c(!0);const w=$r.onMessageUpdate(v=>{n(y=>{const j=y.findIndex(N=>N.id===v.id);if(j>=0){const N=[...y];return N[j]=v,N}else return[v,...y]}),v.status==="failed"&&d({title:"Message Failed",description:`Message ${v.id} failed processing`,variant:"destructive"})});return()=>{w(),$r.disconnectWebSocket(),c(!1)}},[e,u,m,d]);const f=h.useCallback(async w=>{try{const v=await $r.reprocessMessage(w);if(v.success)d({title:"Success",description:"Message queued for reprocessing"});else throw new Error(v.error||"Failed to reprocess message")}catch{d({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[d]),x=h.useCallback(w=>{console.log("[useMessageMonitoring] refreshData called with filters:",w),u(w),m(w)},[u,m]),g=h.useCallback(w=>{$r.sendCommand("subscribe",{messageType:w})},[]),p=h.useCallback(w=>{$r.sendCommand("unsubscribe",{messageType:w})},[]);return{messages:t,stats:r,loading:o,connected:l,loadMessages:u,loadStats:m,reprocessMessage:f,refreshData:x,subscribeToMessageType:g,unsubscribeFromMessageType:p}},ile=({messages:e,stats:t,isBusinessComponentSelected:n,onStatusFilter:r,statusFilter:a,loading:o=!1})=>{const i=e||[],l=t?.successful??i.filter(p=>p.status==="success").length,c=t?.processing??i.filter(p=>p.status==="processing").length,d=t?.failed??i.filter(p=>p.status==="failed").length,u=t?.total??i.length,m=t?.successRate??(u>0?l/u*100:0),f=t?.avgProcessingTime??(()=>{const p=i.filter(w=>w.status!=="processing"&&w.processingTime!=="-");return p.length>0?Math.round(p.reduce((w,v)=>{const y=parseFloat(v.processingTime.replace(/[^\d.]/g,""));return w+(isNaN(y)?0:y)},0)/p.length):0})(),x=()=>n?`of ${u} business component messages`:"across all messages",g=p=>{r&&r(p)};return o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((p,w)=>s.jsxs(q,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(se,{className:"pb-2",children:s.jsx(Ye,{className:"h-4 w-32"})}),s.jsxs(Z,{children:[s.jsx(Ye,{className:"h-8 w-16 mb-2"}),s.jsx(Ye,{className:"h-3 w-24"})]})]},w))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(q,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>g("success"),children:[s.jsx(se,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold text-success",children:String(l)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(q,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>g("processing"),children:[s.jsx(se,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold text-warning",children:String(c)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(q,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>g("failed"),children:[s.jsx(se,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:String(d)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(q,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(se,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),s.jsxs(Z,{children:[s.jsxs("div",{className:"text-2xl font-bold text-success",children:[m?m.toFixed(1):"0","%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(q,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(se,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),s.jsxs(Z,{children:[s.jsxs("div",{className:"text-2xl font-bold text-info",children:[String(f),"ms"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]})]})},lle=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,cle=({value:e,onValueChange:t})=>{const n=r=>{console.log("[TimeFilterSelect] Value changing from",e,"to",r),t(r)};return s.jsxs(K,{value:e,onValueChange:n,children:[s.jsx(Y,{className:"w-48",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"today",children:"Today"}),s.jsx(D,{value:"today-00",children:"Today 00:00 - 00:59"}),s.jsx(D,{value:"today-01",children:"Today 01:00 - 01:59"}),s.jsx(D,{value:"today-02",children:"Today 02:00 - 02:59"}),s.jsx(D,{value:"today-03",children:"Today 03:00 - 03:59"}),s.jsx(D,{value:"today-04",children:"Today 04:00 - 04:59"}),s.jsx(D,{value:"today-05",children:"Today 05:00 - 05:59"}),s.jsx(D,{value:"today-06",children:"Today 06:00 - 06:59"}),s.jsx(D,{value:"today-07",children:"Today 07:00 - 07:59"}),s.jsx(D,{value:"today-08",children:"Today 08:00 - 08:59"}),s.jsx(D,{value:"today-09",children:"Today 09:00 - 09:59"}),s.jsx(D,{value:"today-10",children:"Today 10:00 - 10:59"}),s.jsx(D,{value:"today-11",children:"Today 11:00 - 11:59"}),s.jsx(D,{value:"today-12",children:"Today 12:00 - 12:59"}),s.jsx(D,{value:"today-13",children:"Today 13:00 - 13:59"}),s.jsx(D,{value:"today-14",children:"Today 14:00 - 14:59"}),s.jsx(D,{value:"today-15",children:"Today 15:00 - 15:59"}),s.jsx(D,{value:"today-16",children:"Today 16:00 - 16:59"}),s.jsx(D,{value:"today-17",children:"Today 17:00 - 17:59"}),s.jsx(D,{value:"today-18",children:"Today 18:00 - 18:59"}),s.jsx(D,{value:"today-19",children:"Today 19:00 - 19:59"}),s.jsx(D,{value:"today-20",children:"Today 20:00 - 20:59"}),s.jsx(D,{value:"today-21",children:"Today 21:00 - 21:59"}),s.jsx(D,{value:"today-22",children:"Today 22:00 - 22:59"}),s.jsx(D,{value:"today-23",children:"Today 23:00 - 23:59"}),s.jsx(D,{value:"yesterday",children:"Yesterday"}),s.jsx(D,{value:"last-7-days",children:"Past 7 Days"}),s.jsx(D,{value:"last-30-days",children:"Past 30 Days"}),s.jsx(D,{value:"all",children:"All Messages"})]})]})};var rb="Collapsible",[dle,Cve]=Qs(rb),[ule,ab]=dle(rb),T_=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[c=!1,d]=Fn({prop:r,defaultProp:a,onChange:i});return s.jsx(ule,{scope:n,disabled:o,contentId:An(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Ae.div,{"data-state":ib(c),"data-disabled":o?"":void 0,...l,ref:t})})});T_.displayName=rb;var P_="CollapsibleTrigger",A_=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=ab(P_,n);return s.jsx(Ae.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ib(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:ye(e.onClick,a.onOpenToggle)})});A_.displayName=P_;var ob="CollapsibleContent",k_=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ab(ob,e.__scopeCollapsible);return s.jsx(ls,{present:n||a.open,children:({present:o})=>s.jsx(hle,{...r,ref:t,present:o})})});k_.displayName=ob;var hle=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,i=ab(ob,n),[l,c]=h.useState(r),d=h.useRef(null),u=$e(t,d),m=h.useRef(0),f=m.current,x=h.useRef(0),g=x.current,p=i.open||l,w=h.useRef(p),v=h.useRef();return h.useEffect(()=>{const y=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(y)},[]),is(()=>{const y=d.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();m.current=j.height,x.current=j.width,w.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(r)}},[i.open,r]),s.jsx(Ae.div,{"data-state":ib(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function ib(e){return e?"open":"closed"}var mle=T_;const Lj=mle,D_=A_,M_=k_,ple=e=>{switch(e){case"success":return s.jsx(Ns,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(En,{className:"h-4 w-4 text-destructive"});case"processing":return s.jsx(Rs,{className:"h-4 w-4 text-warning animate-spin"});default:return s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})}},fle=e=>{switch(String(e||"INFO").toUpperCase()){case"SUCCESS":return s.jsx(Ns,{className:"h-3 w-3 text-success"});case"ERROR":return s.jsx(En,{className:"h-3 w-3 text-destructive"});case"WARN":return s.jsx(In,{className:"h-3 w-3 text-warning"});default:return s.jsx(ss,{className:"h-3 w-3 text-info"})}},xle=({messageId:e,correlationId:t,isOpen:n,onClose:r})=>{const[a,o]=h.useState([]),[i,l]=h.useState(!0),{toast:c}=Be();h.useEffect(()=>{console.log("[PayloadViewer] Effect triggered - isOpen:",n,"correlationId:",t),n&&t&&d()},[n,t]);const d=async()=>{console.log("[PayloadViewer] Fetching payloads for correlationId:",t),l(!0);try{const g=await rt.get(`/messages/payloads/${t}`);console.log("[PayloadViewer] Response:",g),g&&Array.isArray(g)&&(console.log("[PayloadViewer] Setting payloads data:",g),o(g))}catch(g){console.error("[PayloadViewer] Error fetching payloads:",g),c({title:"Error",description:"Failed to fetch payloads",variant:"destructive"})}finally{l(!1)}},u=async g=>{try{await navigator.clipboard.writeText(g),c({title:"Copied",description:"Payload copied to clipboard"})}catch{c({title:"Error",description:"Failed to copy payload",variant:"destructive"})}},m=(g,p)=>{const w=new Blob([g],{type:"text/plain"}),v=window.URL.createObjectURL(w),y=document.createElement("a");y.href=v,y.download=p,y.click(),window.URL.revokeObjectURL(v)},f=g=>{try{const p=JSON.parse(g);return JSON.stringify(p,null,2)}catch{return g.trim().startsWith("<")?g.replace(/>\s*</g,`>
<`).replace(/(<[^>]+>)([^<]+)(<\/[^>]+>)/g,`$1
  $2
$3`):g}},x=[...a].sort((g,p)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime());return s.jsx(mt,{open:n,onOpenChange:r,children:s.jsxs(ut,{className:"max-w-4xl max-h-[80vh]",children:[s.jsx(pt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(m0,{className:"h-5 w-5"}),"Message Payloads"]})}),i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):x.length===0?s.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No payloads available for this message"}):s.jsxs(Ge,{defaultValue:"0",className:"w-full",children:[s.jsx(Ke,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${x.length}, 1fr)`},children:x.map((g,p)=>{const w=`${g.adapterName} (${g.direction})`,v=g.payloadType;return s.jsx(me,{value:p.toString(),className:"text-xs px-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium truncate max-w-[150px]",title:w,children:w}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:v})]})},p)})}),x.map((g,p)=>s.jsx(he,{value:p.toString(),className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:g.adapterName}),s.jsxs("div",{className:"text-xs text-muted-foreground space-x-4",children:[s.jsxs("span",{children:[g.payloadType," - ",new Date(g.createdAt).toLocaleString()]}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:g.direction})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{size:"sm",variant:"outline",onClick:()=>u(g.payload),children:[s.jsx(xr,{className:"h-4 w-4 mr-1"}),"Copy"]}),s.jsxs(z,{size:"sm",variant:"outline",onClick:()=>m(g.payload,`${g.adapterName}-${g.payloadType}-${Date.now()}.txt`),children:[s.jsx(ea,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),s.jsx(sr,{className:"h-[400px] w-full rounded-md border bg-muted/20 p-4",children:s.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:f(g.payload)})})]})},p))]})]})})},gle=({message:e})=>{const[t,n]=h.useState(!1),[r,a]=h.useState(!1),[o,i]=h.useState(!1),{toast:l}=Be();console.log("[MessageCard] Rendering message:",{id:e.id,timestamp:e.timestamp,timestampType:typeof e.timestamp,logs:e.logs,logsType:typeof e.logs,logsIsArray:Array.isArray(e.logs),firstLog:e.logs&&e.logs[0]?{log:e.logs[0],timestampType:typeof e.logs[0].timestamp,levelType:typeof e.logs[0].level,messageType:typeof e.logs[0].message}:null});const c=async d=>{d.stopPropagation(),a(!0);try{const u=await rt.post(`/messages/${e.id}/reprocess`);l(u?{title:"Success",description:"Message reprocessing initiated"}:{title:"Error",description:u.error||"Failed to reprocess message",variant:"destructive"})}catch{l({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}finally{a(!1)}};return s.jsxs(q,{className:"bg-gradient-secondary border-border/50 hover-scale",children:[s.jsxs(Lj,{open:t,onOpenChange:n,children:[s.jsx(D_,{asChild:!0,children:s.jsx(z,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:s.jsx(se,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[ple(e.status),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.id}),s.jsx(ce,{variant:"outline",className:"text-xs",children:e.type})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source,"  ",e.target]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-right",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:(()=>{if(typeof e.timestamp=="string")return e.timestamp;if(e.timestamp&&typeof e.timestamp=="object")try{if(Array.isArray(e.timestamp)){const[d,u,m,f,x,g]=e.timestamp;return`${d}-${String(u).padStart(2,"0")}-${String(m).padStart(2,"0")} ${String(f).padStart(2,"0")}:${String(x).padStart(2,"0")}:${String(g).padStart(2,"0")}`}return JSON.stringify(e.timestamp)}catch(d){return console.error("Error formatting timestamp:",e.timestamp,d),"Invalid timestamp"}return"Unknown time"})()}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime,"  ",e.size]})]}),t?s.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(On,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),s.jsx(M_,{children:s.jsx(Z,{className:"pt-0",children:s.jsxs("div",{className:"border-t border-border/50 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(Ps,{className:"h-4 w-4"}),"Processing Steps (",e.logs?e.logs.length:0,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{size:"sm",variant:"outline",onClick:()=>i(!0),children:[s.jsx(m0,{className:"h-4 w-4 mr-1"}),"View Payloads"]}),e.status==="failed"&&s.jsxs(z,{size:"sm",variant:"outline",onClick:c,disabled:r,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Reprocessing...":"Retry Message"]})]})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs&&e.logs.length>0?e.logs.map((d,u)=>(console.log("[MessageCard] Rendering log:",u,d),s.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[fle(d.level),s.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:(()=>{try{return d.timestamp?typeof d.timestamp=="string"?d.timestamp.includes(" ")?d.timestamp.split(" ")[1]:d.timestamp.includes("T")?new Date(d.timestamp).toLocaleTimeString():d.timestamp:d.timestamp instanceof Date?d.timestamp.toLocaleTimeString():d.timestamp&&typeof d.timestamp=="object"?JSON.stringify(d.timestamp):"Invalid timestamp":"No timestamp"}catch(m){return console.error("Error formatting log timestamp:",d.timestamp,m),"Invalid timestamp"}})()}),s.jsx("span",{className:"text-foreground",children:String(d.message||"")})]},u))):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No processing steps available"})})]})})})]}),s.jsx(xle,{messageId:e.id,correlationId:(()=>{console.log("[MessageCard] PayloadViewer props - message:",e),console.log("[MessageCard] message.correlationId:",e.correlationId),console.log("[MessageCard] message.id:",e.id);const d=e.correlationId||e.id;return console.log("[MessageCard] Using correlationId:",d),d})(),isOpen:o,onClose:()=>i(!1)})]})},vle=({messages:e,isBusinessComponentSelected:t,statusFilter:n,loading:r=!1,onTimeFilterChange:a})=>{const[o,i]=h.useState("today"),l=d=>{i(d),a?.(d)};h.useEffect(()=>{a?.(o)},[]),console.log("[MessageList] Received messages:",e),console.log("[MessageList] Messages type:",typeof e),console.log("[MessageList] Is array:",Array.isArray(e)),e&&e.length>0&&(console.log("[MessageList] First message:",e[0]),console.log("[MessageList] First message keys:",Object.keys(e[0])),console.log("[MessageList] First message logs:",e[0].logs),e[0].logs&&e[0].logs.length>0&&(console.log("[MessageList] First log entry:",e[0].logs[0]),console.log("[MessageList] First log type:",typeof e[0].logs[0]),console.log("[MessageList] First log keys:",Object.keys(e[0].logs[0])),console.log("[MessageList] Log timestamp:",e[0].logs[0].timestamp),console.log("[MessageList] Log timestamp type:",typeof e[0].logs[0].timestamp),console.log("[MessageList] Log level:",e[0].logs[0].level),console.log("[MessageList] Log message:",e[0].logs[0].message)));const c=[...e||[]].sort((d,u)=>new Date(u.timestamp).getTime()-new Date(d.timestamp).getTime());return console.log("[MessageList] Filtered messages:",c),console.log("[MessageList] Filtered messages length:",c.length),s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsxs(se,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ps,{className:"h-5 w-5"}),"Message History"]}),s.jsx(cle,{value:o,onValueChange:l}),console.log("[MessageList] TimeFilter value:",o,"Type:",typeof o)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const d=lle(o,e.length);return console.log("[MessageList] Filter description:",d,"Type:",typeof d),d})()})]})}),s.jsxs("div",{className:"space-y-3",children:[console.log("[MessageList] About to render messages, loading:",r,"filteredMessages.length:",c.length),r?Array.from({length:5}).map((d,u)=>s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ye,{className:"h-6 w-6 rounded-full"}),s.jsxs("div",{children:[s.jsx(Ye,{className:"h-4 w-32 mb-2"}),s.jsx(Ye,{className:"h-3 w-48"})]})]}),s.jsxs("div",{children:[s.jsx(Ye,{className:"h-3 w-24 mb-1"}),s.jsx(Ye,{className:"h-3 w-16"})]})]})})},u)):c.length===0?s.jsx(Ni,{icon:xs,title:"No Messages Found",description:n?`No ${String(n)} messages found for the selected time period.`:"No messages found for the selected time period."}):c.map(d=>(console.log("[MessageList] Rendering message:",d.id,"Type:",typeof d),s.jsx(gle,{message:d},d.id)))]})]})},yle=({selectedBusinessComponent:e,businessComponents:t,loading:n,onBusinessComponentChange:r})=>s.jsxs(q,{className:"animate-scale-in",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Business Component Filter"]}),s.jsx(xe,{children:"Filter channels by business component"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(K,{value:e?.id||"",onValueChange:a=>{const o=t.find(i=>i.id===a)||null;r(o)},disabled:n,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a business component to filter channels"})}),s.jsx(X,{children:t.map(a=>s.jsx(D,{value:a.id,children:a.name},a.id))})]})]})})]}),jle=()=>{sx("Messages"),nx("Track and monitor all integration messages, view processing status, and analyze message flow through your Integrix Flow Bridge system.");const[e,t]=h.useState(null),[n,r]=h.useState(null),[a,o]=h.useState("today"),{businessComponents:i,loading:l}=fo(),{messages:c,stats:d,loading:u,connected:m,refreshData:f,loadStats:x}=ole(e?.id),g=c,p=()=>{const j={};n&&(j.status=[n]);const N=y(a);N.dateFrom&&(j.dateFrom=N.dateFrom,j.dateTo=N.dateTo),f(j)},w=j=>{console.log("[Messages] handleStatusFilter called with:",j,"current:",n),r(n===j?null:j)},v=j=>{t(j),r(null)},y=j=>{console.log("[Messages] getDateRangeFromTimeFilter called with:",j);const N=new Date,b=new Date(N.getFullYear(),N.getMonth(),N.getDate());let T={};if(j.startsWith("today-")){const S=parseInt(j.substring(6),10),A=new Date(b);A.setHours(S,0,0,0);const M=new Date(b);M.setHours(S,59,59,999),T={dateFrom:A.toISOString(),dateTo:M.toISOString()}}else switch(j){case"today":T={dateFrom:b.toISOString(),dateTo:N.toISOString()};break;case"yesterday":const S=new Date(b);S.setDate(S.getDate()-1),T={dateFrom:S.toISOString(),dateTo:b.toISOString()};break;case"last-7-days":const A=new Date(b);A.setDate(A.getDate()-7),T={dateFrom:A.toISOString(),dateTo:N.toISOString()};break;case"last-30-days":const M=new Date(b);M.setDate(M.getDate()-30),T={dateFrom:M.toISOString(),dateTo:N.toISOString()};break;case"all":default:T={}}return console.log("[Messages] Date range result:",T),T};return h.useEffect(()=>{console.log("[Messages] useEffect triggered - statusFilter:",n,"timeFilter:",a);const j={};n&&(j.status=[n]);const N=y(a);console.log("[Messages] Time filter:",a,"Date range:",N),N.dateFrom&&(j.dateFrom=N.dateFrom,j.dateTo=N.dateTo),console.log("[Messages] Calling refreshData with filters:",j),f(j)},[n,a,f]),s.jsxs(ex,{children:[s.jsx(tx,{title:"Message Monitor",description:"Track and analyze integration message flows",icon:s.jsx(Us,{}),actions:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ce,{variant:m?"success":"destructive",className:"flex items-center gap-1",children:[m?s.jsx(S8,{className:"h-3 w-3"}):s.jsx(b8,{className:"h-3 w-3"}),m?"Live":"Disconnected"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:p,disabled:u,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]})}),s.jsx(ile,{messages:g,stats:d,isBusinessComponentSelected:!!e,onStatusFilter:w,statusFilter:n,loading:u}),s.jsx(yle,{selectedBusinessComponent:e,businessComponents:i,loading:l,onBusinessComponentChange:v}),s.jsx(vle,{messages:g,isBusinessComponentSelected:!!e,statusFilter:n,loading:u,onTimeFilterChange:j=>{console.log("[Messages] Time filter changed from",a,"to",j),o(j)}})]})};function _e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Js(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ts(e,t){const n=_e(e);return isNaN(t)?Js(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function nr(e,t){const n=_e(e);if(isNaN(t))return Js(e,NaN);if(!t)return n;const r=n.getDate(),a=Js(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const lb=6048e5,wle=864e5,Wh=43200,oT=1440;let Nle={};function xc(){return Nle}function Ar(e,t){const n=xc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=_e(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function ui(e){return Ar(e,{weekStartsOn:1})}function R_(e){const t=_e(e),n=t.getFullYear(),r=Js(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=ui(r),o=Js(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=ui(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function zl(e){const t=_e(e);return t.setHours(0,0,0,0),t}function ql(e){const t=_e(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yr(e,t){const n=zl(e),r=zl(t),a=+n-ql(n),o=+r-ql(r);return Math.round((a-o)/wle)}function ble(e){const t=R_(e),n=Js(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ui(n)}function _j(e,t){const n=t*7;return Ts(e,n)}function Sle(e,t){return nr(e,t*12)}function Cle(e){let t;return e.forEach(function(n){const r=_e(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Ele(e){let t;return e.forEach(n=>{const r=_e(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Em(e,t){const n=_e(e),r=_e(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Tle(e){return Js(e,Date.now())}function Hs(e,t){const n=zl(e),r=zl(t);return+n==+r}function cb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ple(e){if(!cb(e)&&typeof e!="number")return!1;const t=_e(e);return!isNaN(Number(t))}function Wl(e,t){const n=_e(e),r=_e(t),a=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return a*12+o}function Ale(e,t,n){const r=Ar(e,n),a=Ar(t,n),o=+r-ql(r),i=+a-ql(a);return Math.round((o-i)/lb)}function kle(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Dle(e,t){return+_e(e)-+_e(t)}function Mle(e){const t=_e(e);return t.setHours(23,59,59,999),t}function Cx(e){const t=_e(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Rle(e){const t=_e(e);return+Mle(t)==+Cx(t)}function Fle(e,t){const n=_e(e),r=_e(t),a=Em(n,r),o=Math.abs(Wl(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*o);let l=Em(n,r)===-a;Rle(_e(e))&&o===1&&Em(e,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function Ole(e,t,n){const r=Dle(e,t)/1e3;return kle(n?.roundingMethod)(r)}function Gs(e){const t=_e(e);return t.setDate(1),t.setHours(0,0,0,0),t}function F_(e){const t=_e(e),n=Js(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function db(e,t){const n=xc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=_e(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function O_(e){return db(e,{weekStartsOn:1})}const Ile={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lle=(e,t,n)=>{let r;const a=Ile[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ev(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const _le={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$le={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ule={date:ev({formats:_le,defaultWidth:"full"}),time:ev({formats:$le,defaultWidth:"full"}),dateTime:ev({formats:Vle,defaultWidth:"full"})},Ble={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hle=(e,t,n,r)=>Ble[e];function Lc(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const zle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gle=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jle={ordinalNumber:Gle,era:Lc({values:zle,defaultWidth:"wide"}),quarter:Lc({values:qle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lc({values:Wle,defaultWidth:"wide"}),day:Lc({values:Yle,defaultWidth:"wide"}),dayPeriod:Lc({values:Xle,defaultWidth:"wide",formattingValues:Kle,defaultFormattingWidth:"wide"})};function _c(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Zle(l,m=>m.test(i)):Qle(l,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function Qle(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Zle(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function ece(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const tce=/^(\d+)(th|st|nd|rd)?/i,sce=/\d+/i,nce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rce={any:[/^b/i,/^(a|c)/i]},ace={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oce={any:[/1/i,/2/i,/3/i,/4/i]},ice={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mce={ordinalNumber:ece({matchPattern:tce,parsePattern:sce,valueCallback:e=>parseInt(e,10)}),era:_c({matchPatterns:nce,defaultMatchWidth:"wide",parsePatterns:rce,defaultParseWidth:"any"}),quarter:_c({matchPatterns:ace,defaultMatchWidth:"wide",parsePatterns:oce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_c({matchPatterns:ice,defaultMatchWidth:"wide",parsePatterns:lce,defaultParseWidth:"any"}),day:_c({matchPatterns:cce,defaultMatchWidth:"wide",parsePatterns:dce,defaultParseWidth:"any"}),dayPeriod:_c({matchPatterns:uce,defaultMatchWidth:"any",parsePatterns:hce,defaultParseWidth:"any"})},ub={code:"en-US",formatDistance:Lle,formatLong:Ule,formatRelative:Hle,localize:Jle,match:mce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pce(e){const t=_e(e);return yr(t,F_(t))+1}function I_(e){const t=_e(e),n=+ui(t)-+ble(t);return Math.round(n/lb)+1}function L_(e,t){const n=_e(e),r=n.getFullYear(),a=xc(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=Js(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Ar(i,t),c=Js(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=Ar(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function fce(e,t){const n=xc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=L_(e,t),o=Js(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Ar(o,t)}function __(e,t){const n=_e(e),r=+Ar(n,t)-+fce(n,t);return Math.round(r/lb)+1}function lt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Sa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return lt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):lt(n+1,2)},d(e,t){return lt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return lt(e.getHours()%12||12,t.length)},H(e,t){return lt(e.getHours(),t.length)},m(e,t){return lt(e.getMinutes(),t.length)},s(e,t){return lt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return lt(a,t.length)}},Fi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iT={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Sa.y(e,t)},Y:function(e,t,n,r){const a=L_(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return lt(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):lt(o,t.length)},R:function(e,t){const n=R_(e);return lt(n,t.length)},u:function(e,t){const n=e.getFullYear();return lt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Sa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=__(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):lt(a,t.length)},I:function(e,t,n){const r=I_(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Sa.d(e,t)},D:function(e,t,n){const r=pce(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return lt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Fi.noon:r===0?a=Fi.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Fi.evening:r>=12?a=Fi.afternoon:r>=4?a=Fi.morning:a=Fi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Sa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Sa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Sa.s(e,t)},S:function(e,t){return Sa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return cT(r);case"XXXX":case"XX":return Co(r);case"XXXXX":case"XXX":default:return Co(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return cT(r);case"xxxx":case"xx":return Co(r);case"xxxxx":case"xxx":default:return Co(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lT(r,":");case"OOOO":default:return"GMT"+Co(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lT(r,":");case"zzzz":default:return"GMT"+Co(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return lt(r,t.length)},T:function(e,t,n){const r=e.getTime();return lt(r,t.length)}};function lT(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+t+lt(o,2)}function cT(e,t){return e%60===0?(e>0?"-":"+")+lt(Math.abs(e)/60,2):Co(e,t)}function Co(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=lt(Math.trunc(r/60),2),o=lt(r%60,2);return n+a+t+o}const dT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xce=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return dT(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",dT(r,t)).replace("{{time}}",$_(a,t))},gce={p:$_,P:xce},vce=/^D+$/,yce=/^Y+$/,jce=["D","DD","YY","YYYY"];function wce(e){return vce.test(e)}function Nce(e){return yce.test(e)}function bce(e,t,n){const r=Sce(e,t,n);if(console.warn(r),jce.includes(e))throw new RangeError(r)}function Sce(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ece=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tce=/^'([^]*?)'?$/,Pce=/''/g,Ace=/[a-zA-Z]/;function da(e,t,n){const r=xc(),a=n?.locale??r.locale??ub,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=_e(e);if(!Ple(l))throw new RangeError("Invalid time value");let c=t.match(Ece).map(u=>{const m=u[0];if(m==="p"||m==="P"){const f=gce[m];return f(u,a.formatLong)}return u}).join("").match(Cce).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const m=u[0];if(m==="'")return{isToken:!1,value:kce(u)};if(iT[m])return{isToken:!0,value:u};if(m.match(Ace))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const m=u.value;(!n?.useAdditionalWeekYearTokens&&Nce(m)||!n?.useAdditionalDayOfYearTokens&&wce(m))&&bce(m,t,String(e));const f=iT[m[0]];return f(l,m,a.localize,d)}).join("")}function kce(e){const t=e.match(Tce);return t?t[1].replace(Pce,"'"):e}function Dce(e,t,n){const r=xc(),a=n?.locale??r.locale??ub,o=2520,i=Em(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i});let c,d;i>0?(c=_e(t),d=_e(e)):(c=_e(e),d=_e(t));const u=Ole(d,c),m=(ql(d)-ql(c))/1e3,f=Math.round((u-m)/60);let x;if(f<2)return n?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<oT){const g=Math.round(f/60);return a.formatDistance("aboutXHours",g,l)}else{if(f<o)return a.formatDistance("xDays",1,l);if(f<Wh){const g=Math.round(f/oT);return a.formatDistance("xDays",g,l)}else if(f<Wh*2)return x=Math.round(f/Wh),a.formatDistance("aboutXMonths",x,l)}if(x=Fle(d,c),x<12){const g=Math.round(f/Wh);return a.formatDistance("xMonths",g,l)}else{const g=x%12,p=Math.trunc(x/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Mce(e,t){return Dce(e,Tle(e),t)}function Rce(e){const t=_e(e),n=t.getFullYear(),r=t.getMonth(),a=Js(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Fce(e){return Math.trunc(+_e(e)/1e3)}function Oce(e){const t=_e(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Ice(e,t){return Ale(Oce(e),Gs(e),t)+1}function $j(e,t){const n=_e(e),r=_e(t);return n.getTime()>r.getTime()}function V_(e,t){const n=_e(e),r=_e(t);return+n<+r}function hb(e,t){const n=_e(e),r=_e(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Lce(e,t){const n=_e(e),r=_e(t);return n.getFullYear()===r.getFullYear()}function tv(e,t){return Ts(e,-t)}function sv(e,t){const n=_e(e),r=n.getFullYear(),a=n.getDate(),o=Js(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=Rce(o);return n.setMonth(t,Math.min(a,i)),n}function uT(e,t){const n=_e(e);return isNaN(+n)?Js(e,NaN):(n.setFullYear(t),n)}const _ce=({adapterId:e,adapterName:t,logs:n,loading:r=!1,onRefresh:a,onExport:o,realTimeEnabled:i=!1})=>{const[l,c]=h.useState(""),[d,u]=h.useState("all"),[m,f]=h.useState(new Set),[x,g]=h.useState([]);console.log("[AdapterLogViewer] Props:",{adapterId:e,adapterName:t,logs:n,loading:r}),h.useEffect(()=>{console.log("[AdapterLogViewer] Effect running - logs:",n,"searchTerm:",l,"levelFilter:",d);let b=n;l&&(b=b.filter(T=>T.message.toLowerCase().includes(l.toLowerCase())||T.adapterName?.toLowerCase().includes(l.toLowerCase())||T.correlationId?.toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(b=b.filter(T=>T.level===d)),console.log("[AdapterLogViewer] Filtered logs:",b),g(b)},[n,l,d]);const p=b=>{switch(b){case"error":return s.jsx(Nt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(In,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(ss,{className:"h-4 w-4 text-info"});case"debug":return s.jsx(GU,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ss,{className:"h-4 w-4 text-info"})}},w=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline";default:return"default"}},v=b=>{f(T=>{const S=new Set(T);return S.has(b)?S.delete(b):S.add(b),S})},y=b=>{const T=new Date(b);return{time:T.toLocaleTimeString(),relative:Mce(T,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return n.forEach(T=>b[T.level]++),b})();return s.jsxs(q,{className:"bg-gradient-secondary border-border/50",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-5 w-5"}),"Channel Logs",i&&s.jsx(ce,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),s.jsxs(xe,{children:["Real-time activity and execution logs for ",t||"adapter"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs(z,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&s.jsxs(z,{variant:"outline",size:"sm",onClick:a,disabled:r,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s.jsx("div",{className:"flex items-center gap-4 pt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ce,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),s.jsxs(ce,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),s.jsxs(ce,{variant:"default",className:"text-xs",children:[N.info," Info"]}),s.jsxs(ce,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),s.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search logs...",value:l,onChange:b=>c(b.target.value),className:"pl-10"})]})}),s.jsxs(K,{value:d,onValueChange:b=>u(b),children:[s.jsxs(Y,{className:"w-32",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),s.jsx(G,{})]}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Levels"}),s.jsx(D,{value:"error",children:"Error"}),s.jsx(D,{value:"warn",children:"Warning"}),s.jsx(D,{value:"info",children:"Info"}),s.jsx(D,{value:"debug",children:"Debug"})]})]})]})]}),s.jsx(Z,{children:s.jsx(sr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||d!=="all"?"No logs match the current filters":"No logs available"}):x.map(b=>{const T=m.has(b.id),S=y(b.timestamp);return s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[p(b.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ce,{variant:w(b.level),className:"text-xs",children:(b.level||"info").toUpperCase()}),b.adapterName&&s.jsx(ce,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&s.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),s.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{children:S.time}),s.jsx("span",{children:S.relative})]})]})]}),b.details&&s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(b.id),className:"ml-2",children:T?s.jsx(Er,{className:"h-4 w-4"}):s.jsx(On,{className:"h-4 w-4"})})]}),T&&b.details&&s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"my-2"}),s.jsx("div",{className:"bg-muted/50 rounded p-2",children:b.details.processingSteps&&Array.isArray(b.details.processingSteps)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Processing Steps:"}),b.details.processingSteps.map((A,M)=>s.jsx("div",{className:"border-l-2 border-border/50 pl-3 py-1",children:s.jsxs("div",{className:"flex items-start gap-2",children:[A.level==="ERROR"&&s.jsx(Nt,{className:"h-3 w-3 text-destructive mt-0.5"}),A.level==="WARN"&&s.jsx(In,{className:"h-3 w-3 text-warning mt-0.5"}),A.level==="INFO"&&s.jsx(ss,{className:"h-3 w-3 text-info mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs font-medium",children:A.step}),A.details&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:A.details}),A.timestamp&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:new Date(A.timestamp).toLocaleTimeString()})]})]})},M))]}):s.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})};function $ce({adapter:e,open:t,onOpenChange:n,onSave:r}){Be();const[a,o]=h.useState("retries"),[i,l]=h.useState(null),[c,d]=h.useState(!0),[u,m]=h.useState(!0),[f,x]=h.useState("3"),[g,p]=h.useState("30"),[w,v]=h.useState("seconds"),[y,j]=h.useState("daily"),[N,b]=h.useState("08:00"),[T,S]=h.useState("18:00"),[A,M]=h.useState(["mon","tue","wed","thu","fri"]),[L,F]=h.useState("1"),[I,U]=h.useState("1"),[O,k]=h.useState("1"),[C,P]=h.useState({});h.useEffect(()=>{t&&R()},[t]);const R=async()=>{try{const _=await rt.get("/system-settings/global-retry");l(_),c&&(m(_.enabled),x(String(_.maxRetries)),p(String(_.retryInterval)),v(_.retryIntervalUnit))}catch(_){console.error("Error fetching global retry settings:",_)}};h.useEffect(()=>{i&&c&&(m(i.enabled),x(String(i.maxRetries)),p(String(i.retryInterval)),v(i.retryIntervalUnit))},[c,i]);const $=()=>{const _={retries:{useGlobalSettings:c,enabled:u,maxRetries:parseInt(f),retryInterval:parseInt(g),retryIntervalUnit:w},schedule:{type:y,startTime:N,endTime:T,days:A,monthlyDay:parseInt(L),yearlyMonth:parseInt(I),yearlyDay:parseInt(O)},runtime:C};r?.(_),n(!1)},H=_=>{M(B=>B.includes(_)?B.filter(W=>W!==_):[...B,_])};return s.jsx(mt,{open:t,onOpenChange:n,children:s.jsxs(ut,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(pt,{children:s.jsxs(ft,{children:["Adapter Settings - ",e.name]})}),s.jsxs(Ge,{value:a,onValueChange:o,className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-3",children:[s.jsxs(me,{value:"retries",className:"flex items-center gap-2",children:[s.jsx($k,{className:"h-4 w-4"}),"Retries"]}),s.jsxs(me,{value:"schedule",className:"flex items-center gap-2",children:[s.jsx(Cy,{className:"h-4 w-4"}),"Planned Schedule"]}),s.jsxs(me,{value:"runtime",className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-4 w-4"}),"Runtime Schedule"]})]}),s.jsx(he,{value:"retries",className:"space-y-4 mt-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Retry Configuration"}),s.jsx(xe,{children:"Configure how the adapter handles failed operations"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 pb-4 border-b",children:[s.jsx(Ze,{id:"use-global-retry",checked:c,onCheckedChange:_=>d(_)}),s.jsx(E,{htmlFor:"use-global-retry",className:"flex-1",children:"Use global retry settings"}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsxs("span",{children:["Global: ",i.enabled?"Enabled":"Disabled",","," ",i.maxRetries," retries,"," ",i.retryInterval," ",i.retryIntervalUnit]})]})]}),s.jsxs("div",{className:c?"opacity-50 pointer-events-none":"",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"retry-enabled",checked:u,onCheckedChange:_=>m(_),disabled:c}),s.jsx(E,{htmlFor:"retry-enabled",children:"Enable automatic retries"})]}),u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"max-retries",children:"Maximum Retry Attempts"}),s.jsx(V,{id:"max-retries",type:"number",min:"1",max:"10",value:f,onChange:_=>x(_.target.value),disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-interval",children:"Retry Interval"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:"retry-interval",type:"number",min:"1",value:g,onChange:_=>p(_.target.value),className:"flex-1",disabled:c}),s.jsxs(K,{value:w,onValueChange:v,disabled:c,children:[s.jsx(Y,{className:"w-[120px]",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"seconds",children:"Seconds"}),s.jsx(D,{value:"minutes",children:"Minutes"}),s.jsx(D,{value:"hours",children:"Hours"})]})]})]})]})]})]})]})]})}),s.jsx(he,{value:"schedule",className:"space-y-4 mt-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Schedule Configuration"}),s.jsx(xe,{children:"Set when the adapter should automatically start and stop"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"schedule-type",children:"Schedule Type"}),s.jsxs(K,{value:y,onValueChange:j,children:[s.jsx(Y,{id:"schedule-type",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"daily",children:"Daily"}),s.jsx(D,{value:"weekly",children:"Weekly"}),s.jsx(D,{value:"odd-days",children:"Odd Days"}),s.jsx(D,{value:"even-days",children:"Even Days"}),s.jsx(D,{value:"monthly",children:"Monthly"}),s.jsx(D,{value:"yearly",children:"Yearly"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"start-time",children:"Start Time"}),s.jsx(V,{id:"start-time",type:"time",value:N,onChange:_=>b(_.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"end-time",children:"End Time"}),s.jsx(V,{id:"end-time",type:"time",value:T,onChange:_=>S(_.target.value)})]})]}),y==="weekly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Active Days"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["mon","tue","wed","thu","fri","sat","sun"].map(_=>s.jsx(z,{variant:A.includes(_)?"default":"outline",size:"sm",onClick:()=>H(_),className:"w-16",children:_.toUpperCase()},_))})]}),y==="monthly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"monthly-day",children:"Day of Month"}),s.jsx(V,{id:"monthly-day",type:"number",min:"1",max:"31",value:L,onChange:_=>F(_.target.value)})]}),y==="yearly"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"yearly-month",children:"Month"}),s.jsxs(K,{value:I,onValueChange:U,children:[s.jsx(Y,{id:"yearly-month",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"1",children:"January"}),s.jsx(D,{value:"2",children:"February"}),s.jsx(D,{value:"3",children:"March"}),s.jsx(D,{value:"4",children:"April"}),s.jsx(D,{value:"5",children:"May"}),s.jsx(D,{value:"6",children:"June"}),s.jsx(D,{value:"7",children:"July"}),s.jsx(D,{value:"8",children:"August"}),s.jsx(D,{value:"9",children:"September"}),s.jsx(D,{value:"10",children:"October"}),s.jsx(D,{value:"11",children:"November"}),s.jsx(D,{value:"12",children:"December"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"yearly-day",children:"Day"}),s.jsx(V,{id:"yearly-day",type:"number",min:"1",max:"31",value:O,onChange:_=>k(_.target.value)})]})]})]})]})}),s.jsx(he,{value:"runtime",className:"space-y-4 mt-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Runtime Configuration"}),s.jsx(xe,{children:"Adapter-specific runtime settings"})]}),s.jsxs(Z,{children:[e.type==="JDBC"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"poll-interval",children:"Poll Interval (seconds)"}),s.jsx(V,{id:"poll-interval",type:"number",min:"1",defaultValue:"60",onChange:_=>P({...C,pollInterval:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"batch-size",children:"Batch Size"}),s.jsx(V,{id:"batch-size",type:"number",min:"1",defaultValue:"100",onChange:_=>P({...C,batchSize:_.target.value})})]})]}),e.type==="FILE"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"scan-interval",children:"File Scan Interval (seconds)"}),s.jsx(V,{id:"scan-interval",type:"number",min:"1",defaultValue:"30",onChange:_=>P({...C,scanInterval:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"file-pattern",children:"File Pattern"}),s.jsx(V,{id:"file-pattern",type:"text",placeholder:"*.xml",defaultValue:"*.*",onChange:_=>P({...C,filePattern:_.target.value})})]})]}),e.type==="HTTP"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Request Timeout (seconds)"}),s.jsx(V,{id:"timeout",type:"number",min:"1",defaultValue:"30",onChange:_=>P({...C,timeout:_.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connection-pool",children:"Connection Pool Size"}),s.jsx(V,{id:"connection-pool",type:"number",min:"1",defaultValue:"10",onChange:_=>P({...C,connectionPoolSize:_.target.value})})]})]}),!["JDBC","FILE","HTTP"].includes(e.type)&&s.jsxs("p",{className:"text-muted-foreground",children:["No runtime configuration available for ",e.type," adapters."]})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(z,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(z,{onClick:$,children:"Save Settings"})]})]})})}const Vce=(e,t,n=!1)=>{const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState(null),d=h.useRef(t);d.current=t,h.useEffect(()=>{e&&n&&u()},[e,n]);const u=async()=>{if(e){i(!0),c(null);try{console.log(`[useAdapterLogs] Loading logs for adapter: ${e}`);const m=await To.getAdapterLogs(e,d.current);console.log("[useAdapterLogs] Response:",m),m.success&&m.data?(console.log(`[useAdapterLogs] Setting ${m.data.length} logs`),a(m.data)):(console.error("[useAdapterLogs] Error:",m.error),c(m.error||"Failed to load adapter logs"),a([]))}catch(m){console.error("[useAdapterLogs] Exception:",m),c(m instanceof Error?m.message:"An unexpected error occurred"),a([])}finally{i(!1)}}};return{logs:r,loading:o,error:l,refreshLogs:u,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},Uce=({adapter:e,onUpdate:t,onDelete:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),{toast:l}=Be(),c=h.useMemo(()=>({limit:50}),[]),{logs:d,loading:u,connected:m,refreshLogs:f,exportLogs:x}=Vce(e.id,c,!0);h.useEffect(()=>{f()},[r]);const g=()=>{const w=e.status==="active"||e.status==="running",v=d&&d.length>0&&(d[0].level==="ERROR"||d[0].level==="error");return w&&!v?"bg-green-500":"bg-red-500"},p=w=>{switch(w){case"active":return"default";case"inactive":return"secondary";case"error":return"destructive";case"testing":return"outline";default:return"outline"}};return s.jsxs(s.Fragment,{children:[s.jsx(q,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${g()}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:e.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.type," - ",e.mode]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ce,{variant:p(e.status),className:"text-xs",children:e.status})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[s.jsxs("div",{className:"flex-1 max-w-xs",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Load"}),s.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),s.jsx(Uu,{value:e.load,className:"h-2"})]}),s.jsx("div",{className:"flex items-center gap-8 ml-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.lastActivityTime?new Date(e.lastActivityTime).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"}):"Never"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsxs(z,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{const w=e.status==="running"||e.status==="active";console.log(`${w?"Stopping":"Starting"} adapter ${e.id}`),t&&t({active:!w})},children:[e.status==="running"||e.status==="active"?s.jsx(p8,{className:"h-4 w-4 mr-2"}):s.jsx(ho,{className:"h-4 w-4 mr-2"}),e.status==="running"||e.status==="active"?"Stop":"Start"]}),s.jsxs(z,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>i(!0),children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Settings"]}),s.jsx(Lj,{open:r,onOpenChange:a,children:s.jsx(D_,{asChild:!0,children:s.jsxs(z,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"View Logs",r?s.jsx(Er,{className:"h-4 w-4 ml-2"}):s.jsx(On,{className:"h-4 w-4 ml-2"})]})})}),m&&e.status==="running"&&s.jsxs(ce,{variant:"secondary",className:"animate-pulse",children:[s.jsx(Zl,{className:"h-3 w-3 mr-1"}),"Live"]})]}),s.jsx(Lj,{open:r,onOpenChange:a,children:s.jsx(M_,{className:"mt-4",children:s.jsx(_ce,{adapterId:e.id,adapterName:e.name,logs:d,loading:u,onRefresh:f,onExport:x,realTimeEnabled:m})})})]})}),s.jsx($ce,{adapter:e,open:o,onOpenChange:i,onSave:w=>{console.log("Saving settings:",w),l({title:"Settings Saved",description:"Adapter settings have been updated successfully."}),i(!1)}})]})};function Bce({selectedStatus:e,onStatusChange:t}){const n=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"error",label:"Error"}];return s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{htmlFor:"status-filter",className:"text-sm font-semibold whitespace-nowrap",children:"Filter by Status:"}),s.jsxs(K,{value:e||"all",onValueChange:r=>t(r==="all"?null:r),children:[s.jsx(Y,{id:"status-filter",className:"w-[180px]",children:s.jsx(G,{placeholder:"Select status"})}),s.jsx(X,{children:n.map(r=>s.jsx(D,{value:r.value,children:r.label},r.value))})]})]})})}function Hce(){const[e,t]=h.useState(null),[n,r]=h.useState(null),[a,o]=h.useState([]),[i,l]=h.useState(!0),[c,d]=h.useState(null),{businessComponents:u,loading:m}=fo(),{toast:f}=Be(),x=async()=>{try{d(null),l(!0);const b=await To.getAdapters(e?.id);if(b.success&&b.data){const T=b.data.map(S=>({...S,status:S.status||(S.active===!1?"inactive":"active")}));o(T)}else d(b.error||"Failed to fetch adapters"),f({variant:"destructive",title:"Error",description:b.error||"Failed to fetch adapters"})}catch(b){console.error("Error fetching adapters:",b),d("Failed to load adapters"),f({variant:"destructive",title:"Error",description:"Failed to load adapters"})}finally{l(!1)}};h.useEffect(()=>{x()},[e]);const g=async(b,T)=>{try{if(!a.find(M=>M.id===b)){f({variant:"destructive",title:"Error",description:"Adapter not found"});return}let A;"active"in T?T.active?A=await To.activateAdapter(b):A=await To.deactivateAdapter(b):A=await To.updateAdapter(b,T),A.success&&A.data?(o(M=>M.map(L=>L.id===b?A.data:L)),f({title:"Success",description:T.active!==void 0?`Adapter ${T.active?"activated":"deactivated"} successfully`:"Adapter updated successfully"})):f({variant:"destructive",title:"Error",description:A.error||"Failed to update adapter"})}catch(S){console.error("Error updating adapter:",S),f({variant:"destructive",title:"Error",description:"Failed to update adapter"})}},p=async b=>{try{const T=await To.deleteAdapter(b);T.success?(o(S=>S.filter(A=>A.id!==b)),f({title:"Success",description:"Adapter deleted successfully"})):f({variant:"destructive",title:"Error",description:T.error||"Failed to delete adapter"})}catch(T){console.error("Error deleting adapter:",T),f({variant:"destructive",title:"Error",description:"Failed to delete adapter"})}},w=a.filter(b=>!(n&&b.status!==n)),v=a.length,y=a.filter(b=>b.status==="active"||b.status==="running").length;a.filter(b=>b.status==="inactive"||b.status==="stopped").length;const j=a.filter(b=>b.status==="error").length,N=a.length>0?Math.round(a.reduce((b,T)=>b+(T.load||0),0)/a.length):0;return s.jsxs("div",{className:"w-full p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Adapter Monitoring"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage your communication adapters"})]}),s.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[s.jsx(E,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(K,{value:e?.id||"all",onValueChange:b=>{if(b==="all")t(null);else{const T=u.find(S=>S.id===b);t(T||null)}},disabled:m,children:[s.jsx(Y,{id:"business-component",className:"w-[280px]",children:s.jsx(G,{placeholder:"Select a business component"})}),s.jsxs(X,{children:[s.jsx(D,{value:"all",children:"All Components"}),u.map(b=>s.jsx(D,{value:b.id,children:b.name},b.id))]})]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:x,disabled:i,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]}),c&&s.jsx("div",{className:"mb-6 bg-destructive/10 text-destructive p-4 rounded-lg",children:c}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs(q,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Adapters"}),s.jsx("p",{className:"text-2xl font-bold",children:v})]}),s.jsxs(q,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Adapters"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:y})]}),s.jsxs(q,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Adapters with Errors"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:j})]}),s.jsxs(q,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Load"}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Uu,{value:N,className:"h-2"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[N,"%"]})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(Bce,{selectedStatus:n,onStatusChange:r})}),i?s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(ht,{className:"h-8 w-8 animate-spin"})}):w.length===0?s.jsx(q,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:n?`No adapters found with status: ${n}`:e?`No adapters found for ${e.name}`:"No adapters found"})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:w.map(b=>s.jsx(Uce,{adapter:b,onUpdate:T=>g(b.id,T),onDelete:()=>p(b.id)},b.id))})]})}class zce{async createFlow(t){return J.post("/flows",t)}async getFlows(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/flows${n.toString()?`?${n.toString()}`:""}`;return J.get(r)}async getFlow(t){return J.get(`/flows/${t}`)}async updateFlow(t,n){return J.put(`/flows/${t}`,n)}async deleteFlow(t){return J.delete(`/flows/${t}`)}async testFlow(t,n){return J.post(`/flows/${t}/test`,{testData:n})}async updateFlowStatus(t,n){return J.patch(`/flows/${t}/status`,{status:n})}async getFlowExecutions(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/flows/${t}/executions${r.toString()?`?${r.toString()}`:""}`;return J.get(a)}async saveFieldMappings(t,n){return J.post(`/flows/${t}/field-mappings`,{mappings:n})}async cloneFlow(t,n){return J.post(`/flows/${t}/clone`,{name:n})}async validateFlow(t){return J.post("/flows/validate",t)}}const Vj=new zce;function qce(){const{flowId:e}=R0(),t=Ls(),{toast:n}=Be(),[r,a]=h.useState(!0),[o,i]=h.useState(null),[l,c]=h.useState(null);h.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{a(!0);const p=await Vj.getFlow(e);if(p.success&&p.data){i(p.data);const w={flowId:p.data.id,status:p.data.status,endpoints:[],metadata:{}};c(w)}}catch{n({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{a(!1)}},u=(p,w)=>{navigator.clipboard.writeText(p),n({title:"Copied!",description:`${w} copied to clipboard`})},m=()=>{l?.metadata?.wsdlUrl&&window.open(l.metadata.wsdlUrl,"_blank")};if(r)return s.jsx("div",{className:"w-full p-6",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(ht,{className:"h-8 w-8 animate-spin"})})});if(!o||!l)return s.jsx("div",{className:"w-full p-6",children:s.jsx(q,{children:s.jsxs(Z,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),s.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const f=l.metadata?.adapterType||"Unknown",x=["HTTP","REST","SOAP"].includes(f),g=f==="SOAP";return s.jsxs("div",{className:"w-full p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:o.name}),s.jsxs(ce,{variant:"success",className:"text-lg px-4 py-2",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),s.jsx("p",{className:"text-gray-600",children:o.description})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Deployment Information"}),s.jsx(xe,{children:"Details about the deployed interface"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Deployed At"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:new Date(l.deployedAt).toLocaleString()})]})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Deployed By"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:l.deployedBy||"System"})]})]})]}),s.jsx(it,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),s.jsx(ce,{variant:"outline",children:f})]})]})]}),x&&s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Endpoint Information"}),s.jsx(xe,{children:"Connection details for external systems"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"endpoint",children:"API Endpoint"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:"endpoint",value:l.endpoint,readOnly:!0,className:"font-mono text-sm"}),s.jsx(z,{size:"icon",variant:"outline",onClick:()=>u(l.endpoint,"Endpoint"),children:s.jsx(xr,{className:"h-4 w-4"})})]})]}),g&&l.metadata?.wsdlUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"wsdl",children:"WSDL URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:"wsdl",value:l.metadata.wsdlUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(z,{size:"icon",variant:"outline",onClick:()=>u(l.metadata.wsdlUrl,"WSDL URL"),children:s.jsx(xr,{className:"h-4 w-4"})}),s.jsx(z,{size:"icon",variant:"outline",onClick:m,children:s.jsx(ea,{className:"h-4 w-4"})})]})]}),f==="REST"&&l.metadata?.apiDocsUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apidocs",children:"API Documentation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:"apidocs",value:l.metadata.apiDocsUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(z,{size:"icon",variant:"outline",onClick:()=>window.open(l.metadata.apiDocsUrl,"_blank"),children:s.jsx(gr,{className:"h-4 w-4"})})]})]}),l.metadata?.httpMethods&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Supported Methods"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.httpMethods})]}),l.metadata?.contentType&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Content Types"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(f)&&s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"File Configuration"}),s.jsx(xe,{children:"File handling settings for this interface"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Polling"}),s.jsx("p",{className:"mt-1",children:l.metadata?.pollingEnabled?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"File Pattern"}),s.jsx("p",{className:"mt-1 font-mono text-sm",children:l.metadata?.filePattern||"*.*"})]})]})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Integration Details"}),s.jsx(xe,{children:"Configuration and mapping information"})]}),s.jsx(Z,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),s.jsx(ce,{variant:o.mappingMode==="PASS_THROUGH"?"outline":"default",children:o.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(ce,{variant:"success",children:o.status})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>t("/interfaces"),children:"Back to Interfaces"}),s.jsxs(z,{variant:"outline",onClick:()=>t(`/flows/${e}/edit`),children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})}const Wce=({users:e,roles:t,certificates:n,jarFiles:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[s.jsxs(q,{className:"hover-scale",children:[s.jsx(se,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ms,{className:"h-4 w-4"}),"Total Users"]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),s.jsxs(q,{className:"hover-scale",children:[s.jsx(se,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Roles"]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),s.jsxs(q,{className:"hover-scale",children:[s.jsx(se,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Go,{className:"h-4 w-4"}),"Certificates"]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),s.jsxs(q,{className:"hover-scale",children:[s.jsx(se,{className:"pb-2",children:s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Rd,{className:"h-4 w-4"}),"Connection Drivers"]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]});class Yce{async getAllUsers(t=0,n=50){return J.get(`/users?page=${t}&limit=${n}`)}async getUserById(t){return J.get(`/users/${t}`)}async createUser(t){const n={...t,password:t.password||this.generateDefaultPassword()};return J.post("/auth/register",n)}async updateUser(t,n){return J.put(`/users/${t}`,n)}async deleteUser(t){return J.delete(`/users/${t}`)}async updateUserStatus(t,n){return J.patch(`/users/${t}/status`,{status:n})}async resetUserPassword(t){return J.post(`/users/${t}/reset-password`)}async assignRole(t,n,r={}){return J.patch(`/users/${t}/role`,{role:n,permissions:r})}async getUserPermissions(t){return J.get(`/users/${t}/permissions`)}async updateUserPermissions(t,n){return J.patch(`/users/${t}/permissions`,{permissions:n})}async searchUsers(t,n){const r=new URLSearchParams({q:t,...n?.role&&{role:n.role},...n?.status&&{status:n.status},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return J.get(`/users/search?${r}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let n="";for(let r=0;r<12;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const Zi=new Yce,Xce=({open:e,onOpenChange:t,onUserCreated:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=Be(),c=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",o);const m=await Zi.createUser(o);m.success?(l({title:"User Created Successfully",description:`User ${o.username} has been created with role ${o.role}.`}),i({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),n?.()):l({title:"Error Creating User",description:m.error||"An error occurred while creating the user.",variant:"destructive"})}catch(m){console.error("User creation error:",m),l({title:"Error Creating User",description:m.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},d=u=>m=>{i(f=>({...f,[u]:m}))};return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Create New User"}),s.jsx(Ln,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(V,{id:"firstName",value:o.firstName,onChange:u=>d("firstName")(u.target.value),placeholder:"John",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(V,{id:"lastName",value:o.lastName,onChange:u=>d("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:r})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(V,{id:"username",value:o.username,onChange:u=>d("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(V,{id:"email",type:"email",value:o.email,onChange:u=>d("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Temporary Password"}),s.jsx(V,{id:"password",type:"password",value:o.password,onChange:u=>d("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"role",children:"Role"}),s.jsxs(K,{value:o.role,onValueChange:d("role"),disabled:r,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a role"})}),s.jsxs(X,{children:[s.jsx(D,{value:"administrator",children:"Administrator"}),s.jsx(D,{value:"integrator",children:"Integrator"}),s.jsx(D,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"status",children:"Status"}),s.jsxs(K,{value:o.status,onValueChange:d("status"),disabled:r,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select status"})}),s.jsxs(X,{children:[s.jsx(D,{value:"active",children:"Active"}),s.jsx(D,{value:"inactive",children:"Inactive"}),s.jsx(D,{value:"pending",children:"Pending"})]})]})]}),s.jsxs(aa,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),s.jsxs(z,{type:"submit",disabled:r,children:[r&&s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},Kce=[{key:"flows",label:"Flows",icon:Lt,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:PC,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:xs,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:Ms,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:Sn,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:Us,permissions:["read"]},{key:"channels",label:"Channels",icon:PC,permissions:["read"]},{key:"certificates",label:"Certificates",icon:Sn,permissions:["create","read","update","delete"]}],Gce=({open:e,onOpenChange:t,user:n,onUserUpdated:r})=>{const[a,o]=h.useState(!1),[i,l]=h.useState({}),[c,d]=h.useState({}),[u,m]=h.useState(!1),{toast:f}=Be();h.useEffect(()=>{if(n)if(l({email:n.email,firstName:n.first_name,lastName:n.last_name,role:n.role,status:n.status}),n.permissions&&Object.keys(n.permissions).length>0)d(n.permissions),m(!0);else{const v=Zi.getRolePermissions(n.role);d(v),m(!1)}},[n]);const x=async v=>{if(v.preventDefault(),!!n){o(!0);try{const y={...i,permissions:u?c:void 0};console.log("Updating user with data:",y);const j=await Zi.updateUser(n.id,y);j.success?(f({title:"User Updated Successfully",description:`User ${n.username} has been updated.`}),t(!1),r?.()):f({title:"Error Updating User",description:j.error||"An error occurred while updating the user.",variant:"destructive"})}catch(y){console.error("User update error:",y),f({title:"Error Updating User",description:y.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}},g=v=>y=>{if(l(j=>({...j,[v]:y})),v==="role"){const j=Zi.getRolePermissions(y);u||d(j)}},p=(v,y)=>{d(j=>{const N=j[v]||[],b=N.includes(y);return{...j,[v]:b?N.filter(T=>T!==y):[...N,y]}})},w=()=>{if(i.role){const v=Zi.getRolePermissions(i.role);d(v),m(!1)}};return n?s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(pt,{children:[s.jsxs(ft,{children:["Edit User: ",n.username]}),s.jsx(Ln,{children:"Update user information and customize their permissions."})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(V,{id:"firstName",value:i.firstName||"",onChange:v=>g("firstName")(v.target.value),disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(V,{id:"lastName",value:i.lastName||"",onChange:v=>g("lastName")(v.target.value),disabled:a})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(V,{id:"email",type:"email",value:i.email||"",onChange:v=>g("email")(v.target.value),disabled:a})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"role",children:"Role"}),s.jsxs(K,{value:i.role||"",onValueChange:g("role"),disabled:a,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select a role"})}),s.jsxs(X,{children:[s.jsx(D,{value:"administrator",children:"Administrator"}),s.jsx(D,{value:"integrator",children:"Integrator"}),s.jsx(D,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"status",children:"Status"}),s.jsxs(K,{value:i.status||"",onValueChange:g("status"),disabled:a,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select status"})}),s.jsxs(X,{children:[s.jsx(D,{value:"active",children:"Active"}),s.jsx(D,{value:"inactive",children:"Inactive"}),s.jsx(D,{value:"pending",children:"Pending"})]})]})]})]})]}),s.jsx(it,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"useCustomPermissions",checked:u,onCheckedChange:v=>m(v===!0),disabled:a}),s.jsx(E,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&s.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:a,children:"Reset to Role Defaults"})]})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(xe,{children:u?"Customize individual permissions for this user":`Using default permissions for ${i.role||"selected"} role`})}),s.jsx(Z,{children:s.jsx("div",{className:"grid gap-4",children:Kce.map(v=>{const y=c[v.key]||[],j=v.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(E,{className:"font-medium",children:v.label})]}),s.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:v.permissions.map(N=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:`${v.key}-${N}`,checked:y.includes(N),onCheckedChange:()=>p(v.key,N),disabled:a||!u}),s.jsx(E,{htmlFor:`${v.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},v.key)})})})]})]}),s.jsxs(aa,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsxs(z,{type:"submit",disabled:a,children:[a&&s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},Jce=({users:e,isLoading:t=!1,onRefresh:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(null),d=m=>{switch(m){case"administrator":return s.jsx(p0,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(Lt,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(Vk,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Ms,{className:"h-4 w-4"})}},u=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"User Management"}),s.jsx(xe,{children:"Manage system users and their access levels"})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsxs(z,{variant:"outline",onClick:n,disabled:t,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),s.jsxs(z,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),s.jsx(Z,{children:t?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((m,f)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ye,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ye,{className:"h-4 w-[200px]"}),s.jsx(Ye,{className:"h-4 w-[150px]"})]}),s.jsx(Ye,{className:"h-8 w-20"}),s.jsx(Ye,{className:"h-8 w-8"})]},f))}):e.length===0?s.jsx(Ni,{icon:Ms,title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Username"}),s.jsx(Fe,{children:"Email"}),s.jsx(Fe,{children:"Role"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Last Login"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:e.map(m=>s.jsxs(ms,{children:[s.jsx(Oe,{className:"font-medium",children:m.username}),s.jsx(Oe,{children:m.email}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(m.role),s.jsx("span",{className:"capitalize",children:m.role})]})}),s.jsx(Oe,{children:s.jsx(ce,{variant:u(m.status),children:m.status})}),s.jsx(Oe,{className:"text-muted-foreground",children:m.last_login_at||"Never"}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{c(m),i(!0)},children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(or,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),s.jsx(Xce,{open:r,onOpenChange:a,onUserCreated:()=>{a(!1),n?.()}}),s.jsx(Gce,{open:o,onOpenChange:i,user:l,onUserUpdated:()=>{i(!1),c(null),n?.()}})]})},Qce=({roles:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"administrator":return s.jsx(p0,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(Lt,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(Vk,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Ms,{className:"h-4 w-4"})}};return s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Role Management"}),s.jsx(xe,{children:"Define and manage user roles and permissions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(z,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(z,{className:"bg-gradient-primary",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})]})}),s.jsx(Z,{children:s.jsx("div",{className:"grid gap-4",children:t?Array.from({length:3}).map((a,o)=>s.jsxs(q,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ye,{className:"h-4 w-4 rounded-full"}),s.jsxs("div",{children:[s.jsx(Ye,{className:"h-5 w-32 mb-2"}),s.jsx(Ye,{className:"h-4 w-48"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-6 w-16"}),s.jsx(Ye,{className:"h-8 w-8"})]})]})}),s.jsx(Z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:4}).map((i,l)=>s.jsx(Ye,{className:"h-6 w-20"},l))})})]},o)):e.length===0?s.jsx(Ni,{icon:Sn,title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(a=>s.jsxs(q,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r(a.name),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg capitalize",children:a.name}),s.jsx(xe,{children:a.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ce,{variant:"outline",children:[a.userCount," users"]}),s.jsx(z,{variant:"outline",size:"sm",children:s.jsx(sa,{className:"h-4 w-4"})})]})]})}),s.jsx(Z,{children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.permissions?.map(o=>s.jsx(ce,{variant:"secondary",className:"text-xs",children:o.replace("_"," ")},o))||s.jsx("span",{className:"text-sm text-muted-foreground",children:"No permissions defined"})})]})})]},a.id))})})]})},Zce=({certificates:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Certificate Management"}),s.jsx(xe,{children:"Manage SSL certificates and authentication keys"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(z,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(z,{className:"bg-gradient-primary",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})]})}),s.jsx(Z,{children:t?s.jsx("div",{className:"rounded-md border",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Type"}),s.jsx(Fe,{children:"Issuer"}),s.jsx(Fe,{children:"Valid Period"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Usage"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:Array.from({length:3}).map((a,o)=>s.jsxs(ms,{children:[s.jsx(Oe,{children:s.jsx(Ye,{className:"h-4 w-32"})}),s.jsx(Oe,{children:s.jsx(Ye,{className:"h-4 w-24"})}),s.jsx(Oe,{children:s.jsx(Ye,{className:"h-4 w-28"})}),s.jsx(Oe,{children:s.jsx(Ye,{className:"h-4 w-40"})}),s.jsx(Oe,{children:s.jsx(Ye,{className:"h-6 w-16"})}),s.jsx(Oe,{children:s.jsx(Ye,{className:"h-4 w-36"})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ye,{className:"h-8 w-8"}),s.jsx(Ye,{className:"h-8 w-8"})]})})]},o))})]})}):e.length===0?s.jsx(Ni,{icon:Go,title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Type"}),s.jsx(Fe,{children:"Issuer"}),s.jsx(Fe,{children:"Valid Period"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Usage"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:e.map(a=>s.jsxs(ms,{children:[s.jsx(Oe,{className:"font-medium",children:a.name}),s.jsx(Oe,{children:a.type}),s.jsx(Oe,{children:a.issuer}),s.jsxs(Oe,{className:"text-sm",children:[a.validFrom," to ",a.validTo]}),s.jsx(Oe,{children:s.jsx(ce,{variant:r(a.status),children:a.status})}),s.jsx(Oe,{className:"text-muted-foreground text-sm",children:a.usage}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(or,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})},ede=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState({databaseType:"",name:"",version:""}),{toast:d}=Be(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],m=g=>{const p=g.target.files?.[0];if(p){if(!p.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(p);const w=p.name.replace(".jar","");c(v=>({...v,name:w,version:v.version||"1.0.0"}))}},f=async()=>{if(!r||!l.databaseType){d({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(p=>setTimeout(p,2e3));const g={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${u.find(p=>p.value===l.databaseType)?.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),a(null),c({databaseType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JDBC driver for ${u.find(p=>p.value===l.databaseType)?.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{i(!1)}},x=()=>{a(null),c({databaseType:"",name:"",version:""})};return s.jsx(mt,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsx(pt,{children:s.jsx(ft,{children:"Add JDBC Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"database-type",children:"Database Type *"}),s.jsxs(K,{value:l.databaseType,onValueChange:g=>c(p=>({...p,databaseType:g})),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select database type"})}),s.jsx(X,{children:u.map(g=>s.jsx(D,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{id:"jdbc-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),s.jsx(z,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(V,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(p=>({...p,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-version",children:"Version"}),s.jsx(V,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(p=>({...p,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(z,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(z,{onClick:f,disabled:o||!r||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(yf,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},tde=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState({brokerType:"",name:"",version:""}),{toast:d}=Be(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],m=g=>{const p=g.target.files?.[0];if(p){if(!p.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(p);const w=p.name.replace(".jar","");c(v=>({...v,name:w,version:v.version||"1.0.0"}))}},f=async()=>{if(!r||!l.brokerType){d({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(p=>setTimeout(p,2e3));const g={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${u.find(p=>p.value===l.brokerType)?.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),a(null),c({brokerType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JMS driver for ${u.find(p=>p.value===l.brokerType)?.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{i(!1)}},x=()=>{a(null),c({brokerType:"",name:"",version:""})};return s.jsx(mt,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsx(pt,{children:s.jsx(ft,{children:"Add JMS Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"broker-type",children:"Message Broker Type *"}),s.jsxs(K,{value:l.brokerType,onValueChange:g=>c(p=>({...p,brokerType:g})),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select broker type"})}),s.jsx(X,{children:u.map(g=>s.jsx(D,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jms-file",children:"JMS Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{id:"jms-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),s.jsx(z,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(V,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(p=>({...p,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-version",children:"Version"}),s.jsx(V,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(p=>({...p,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(z,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(z,{onClick:f,disabled:o||!r||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(yf,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},sde=({jarFiles:e,isLoading:t=!1,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>{const[o,i]=h.useState(!1),[l,c]=h.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs(q,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>i(!0),children:[s.jsxs(se,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(xs,{className:"h-8 w-8 text-info dark:text-info"})}),s.jsx(ne,{className:"text-xl",children:"JDBC Driver"}),s.jsx(xe,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),s.jsx(Z,{className:"text-center pt-0",children:s.jsx(z,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),s.jsxs(q,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>c(!0),children:[s.jsxs(se,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Us,{className:"h-8 w-8 text-success dark:text-success"})}),s.jsx(ne,{className:"text-xl",children:"JMS Driver"}),s.jsx(xe,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),s.jsx(Z,{className:"text-center pt-0",children:s.jsx(z,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]}),n&&s.jsx(z,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})]}),t?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((d,u)=>s.jsxs(q,{children:[s.jsxs(se,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5 rounded"}),s.jsx(Ye,{className:"h-5 w-32"})]}),s.jsx(Ye,{className:"h-4 w-48 mt-1"})]}),s.jsxs(Z,{className:"pt-0",children:[s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((m,f)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ye,{className:"h-4 w-16"}),s.jsx(Ye,{className:"h-4 w-20"})]},f))}),s.jsx(Ye,{className:"h-8 w-full mt-3"})]})]},u))}):e.length===0?s.jsx(Ni,{icon:Rd,title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>s.jsxs(q,{children:[s.jsxs(se,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d.driver_type==="JDBC"?s.jsx(xs,{className:"h-5 w-5 text-info"}):s.jsx(Us,{className:"h-5 w-5 text-success"}),s.jsx(ne,{className:"text-base",children:d.name})]}),s.jsx(xe,{className:"text-xs",children:d.file_name})]}),s.jsxs(Z,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Version:"}),s.jsx("span",{children:d.version})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:d.driver_type})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Size:"}),s.jsx("span",{children:d.size_bytes?`${Math.round(d.size_bytes/1024)} KB`:"N/A"})]})]}),s.jsx(z,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>a(d.id),children:"Remove"})]})]},d.id))})]}),s.jsx(ede,{open:o,onOpenChange:i,onDriverAdded:r}),s.jsx(tde,{open:l,onOpenChange:c,onDriverAdded:r})]})},nde=({jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>s.jsx(sde,{jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a}),mb=(e={})=>{const[t,n]=h.useState([]),[r,a]=h.useState({adapters:[],channels:[],flows:[]}),[o,i]=h.useState(!1),[l,c]=h.useState(),d=async()=>{try{const f=await Fo.getAdapters();a({adapters:f.success?f.data?.adapters||[]:[],channels:[],flows:[]})}catch(f){console.error("Failed to fetch sources:",f)}},u=async()=>{i(!0),c(void 0);try{const f=new URLSearchParams;e.source&&f.append("source",e.source),e.sourceId&&f.append("sourceId",e.sourceId),e.sourceName&&f.append("sourceName",e.sourceName),e.level&&f.append("level",e.level),e.search&&f.append("search",e.search),e.startDate&&f.append("startDate",e.startDate),e.endDate&&f.append("endDate",e.endDate),e.domainType&&f.append("domainType",e.domainType),e.domainReferenceId&&f.append("domainReferenceId",e.domainReferenceId);const x=`/logs/system${f.toString()?`?${f.toString()}`:""}`,g=await J.get(x);g.success&&g.data?n(g.data):(n([]),c("Failed to fetch logs from server"))}catch(f){c(f instanceof Error?f.message:"Failed to fetch logs"),n([])}finally{i(!1)}},m=()=>{u()};return h.useEffect(()=>{d()},[]),h.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),h.useEffect(()=>{if(e.autoRefresh){const f=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(f)}},[e.autoRefresh,e.refreshInterval]),h.useEffect(()=>xM.onLogUpdate(()=>{u()}),[]),{logs:t,sources:r,loading:o,error:l,refetch:m}},Oi=e=>{const[t,n]=h.useState([]),[r,a]=h.useState(!1),[o,i]=h.useState(),{logs:l,loading:c,error:d}=mb({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),i(void 0);try{const f=new URLSearchParams;f.append("domainType",e.domainType),f.append("level","error"),e.referenceId&&f.append("domainReferenceId",e.referenceId);const x=`/logs/system?${f.toString()}`,g=await J.get(x);g.success&&g.data?n(g.data):(n([]),console.log(`No domain errors found for ${e.domainType}`))}catch(f){n([]),i(`Failed to fetch domain errors for ${e.domainType}`),console.error(`Failed to fetch domain errors for ${e.domainType}:`,f)}finally{a(!1)}},m=()=>{u()};return h.useEffect(()=>{u()},[e.domainType,e.referenceId]),h.useEffect(()=>{if(e.autoRefresh){const f=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(f)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t||[],systemLogs:e.includeSystemLogs?l||[]:[],loading:r||(e.includeSystemLogs?c:!1),error:o||(e.includeSystemLogs?d:void 0),refetch:m}},rde=({logs:e,loading:t,error:n,selectedSource:r})=>{const[a,o]=h.useState(new Set),i=Array.isArray(e)?e:[],l=f=>{const x=new Set(a);x.has(f)?x.delete(f):x.add(f),o(x)},c=f=>{switch(f){case"error":return s.jsx(Nt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(In,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(ss,{className:"h-4 w-4 text-success"});default:return s.jsx(kC,{className:"h-4 w-4 text-muted-foreground"})}},d=f=>{switch(f){case"error":return s.jsx(ce,{variant:"destructive",children:"Error"});case"warn":return s.jsx(ce,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return s.jsx(ce,{variant:"outline",children:"Info"});case"debug":return s.jsx(ce,{variant:"secondary",children:"Debug"});default:return s.jsx(ce,{variant:"outline",children:f})}},u=(f,x)=>{const g=x||f;switch(f){case"adapter":return s.jsx(ce,{variant:"default",children:g});case"channel":return s.jsx(ce,{variant:"secondary",children:g});case"system":return s.jsx(ce,{variant:"outline",children:"System"});case"flow":return s.jsxs(ce,{variant:"default",children:["Flow: ",g]});case"api":return s.jsx(ce,{variant:"destructive",children:"API"});default:return s.jsx(ce,{variant:"outline",children:g})}},m=f=>new Date(f).toLocaleString();return t?s.jsx(q,{className:"bg-secondary border-border/50",children:s.jsx(Z,{className:"p-8 text-center",children:s.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):n?s.jsx(q,{className:"bg-secondary border-border/50",children:s.jsx(Z,{className:"p-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",n]})})}):e.length===0?s.jsx(q,{className:"bg-secondary border-border/50",children:s.jsx(Z,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:r?"No logs found for the selected filters":"No system logs available"})})}):s.jsxs(q,{className:"bg-secondary border-border/50",children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(kC,{className:"h-5 w-5"}),"System Logs (",i.length,")"]})}),s.jsx(Z,{children:s.jsx(sr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:i.map(f=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c(f.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(f.level),u(f.source,f.sourceName),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Rs,{className:"h-3 w-3"}),m(f.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:f.message}),f.details&&s.jsxs("div",{className:"mt-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>l(f.id),className:"text-xs",children:a.has(f.id)?"Hide Details":"Show Details"}),a.has(f.id)&&s.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof f.details=="string"?f.details:JSON.stringify(f.details,null,2)})})]})]})]})}),f!==e[e.length-1]&&s.jsx(it,{className:"mt-3"})]},f.id))})})})]})},hT={success:"text-success",error:"text-destructive",warning:"text-warning",info:"text-info",active:"text-primary",inactive:"text-muted-foreground",pending:"text-warning",processing:"text-info",debug:"text-muted-foreground",warn:"text-warning",critical:"text-destructive",default:"text-foreground",muted:"text-muted-foreground"},Yh=e=>hT[e]||hT.default,Ii=({domainType:e,domainErrors:t,systemLogs:n,loading:r,error:a,referenceId:o,referenceName:i})=>{const[l,c]=h.useState(new Set),[d,u]=h.useState(new Set),m=y=>{const j=new Set(l);j.has(y)?j.delete(y):j.add(y),c(j)},f=y=>{const j=new Set(d);j.has(y)?j.delete(y):j.add(y),u(j)},x=y=>{const N={UserManagement:eo,FlowEngine:yu,AdapterManagement:Jo,DataStructures:xs,ChannelManagement:Lt,MessageProcessing:Us}[y];return s.jsx(N,{className:"h-4 w-4"})},g=y=>{const j={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(j).find(T=>y.includes(T))||"default",b=j[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return s.jsx(ce,{variant:"secondary",className:b,children:y})},p=y=>{const j=y.toLowerCase(),N=Yh(j==="error"?"error":j==="warn"?"warning":j==="info"?"info":"debug");switch(j){case"error":return s.jsx(En,{className:`h-4 w-4 ${N}`});case"warn":return s.jsx(In,{className:`h-4 w-4 ${N}`});case"info":return s.jsx(ss,{className:`h-4 w-4 ${N}`});case"debug":return s.jsx(Lt,{className:`h-4 w-4 ${N}`});default:return s.jsx(ss,{className:`h-4 w-4 ${N}`})}},w=y=>new Date(y).toLocaleString(),v=y=>{try{const j=JSON.parse(y);return JSON.stringify(j,null,2)}catch{return y}};return r?s.jsx(q,{children:s.jsx(Z,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?s.jsxs(et,{variant:"destructive",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx(tt,{children:a})]}):s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[x(e),e," Logs",i&&s.jsx(ce,{variant:"outline",children:i})]})}),s.jsx(Z,{children:s.jsxs(Ge,{defaultValue:"errors",className:"w-full",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-2",children:[s.jsxs(me,{value:"errors",children:["User-Friendly Errors (",t?.length||0,")"]}),s.jsxs(me,{value:"system",children:["System Logs (",n?.length||0,")"]})]}),s.jsx(he,{value:"errors",children:s.jsx(sr,{className:"h-[600px] w-full",children:!t||t.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):s.jsx("div",{className:"space-y-4",children:t.map(y=>s.jsx(q,{className:"border-l-4 border-l-red-500",children:s.jsx(Z,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(y.action),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(Rs,{className:"h-3 w-3 inline mr-1"}),w(y.createdAt)]})]}),y.description&&s.jsx("p",{className:"text-sm font-medium",children:y.description}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>m(y.id),className:"h-6 px-2",children:[l.has(y.id)?s.jsx(Er,{className:"h-3 w-3"}):s.jsx(On,{className:"h-3 w-3"}),"Show Details"]})}),l.has(y.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:v(y.payload)})]}),y.systemLogId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),s.jsx(ce,{variant:"outline",className:"text-xs",children:y.systemLogId})]})]})]})})})},y.id))})})}),s.jsx(he,{value:"system",children:s.jsx(sr,{className:"h-[600px] w-full",children:!n||n.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):s.jsx("div",{className:"space-y-4",children:n.map(y=>s.jsx(q,{children:s.jsx(Z,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[p(y.level),s.jsx(ce,{variant:y.level==="error"?"destructive":"secondary",children:(y.level||"info").toUpperCase()}),y.source&&s.jsx(ce,{variant:"outline",children:y.source}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(Rs,{className:"h-3 w-3 inline mr-1"}),w(y.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium",children:y.message}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>f(y.id),className:"h-6 px-2",children:[d.has(y.id)?s.jsx(Er,{className:"h-3 w-3"}):s.jsx(On,{className:"h-3 w-3"}),"Show Details"]})}),d.has(y.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[y.details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof y.details=="string"?y.details:JSON.stringify(y.details,null,2)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[y.sourceName&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source Name:"}),s.jsx("p",{className:"text-muted-foreground",children:y.sourceName})]}),y.sourceId&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source ID:"}),s.jsx("p",{className:"text-muted-foreground",children:y.sourceId})]})]})]})]})})})},y.id))})})})]})})]})};var Le=function(){return Le=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Le.apply(this,arguments)};function ade(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function U_(e,t,n){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Qu(e){return e.mode==="multiple"}function Zu(e){return e.mode==="range"}function Ex(e){return e.mode==="single"}var ode={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ide(e,t){return da(e,"LLLL y",t)}function lde(e,t){return da(e,"d",t)}function cde(e,t){return da(e,"LLLL",t)}function dde(e){return"".concat(e)}function ude(e,t){return da(e,"cccccc",t)}function hde(e,t){return da(e,"yyyy",t)}var mde=Object.freeze({__proto__:null,formatCaption:ide,formatDay:lde,formatMonthCaption:cde,formatWeekNumber:dde,formatWeekdayName:ude,formatYearCaption:hde}),pde=function(e,t,n){return da(e,"do MMMM (EEEE)",n)},fde=function(){return"Month: "},xde=function(){return"Go to next month"},gde=function(){return"Go to previous month"},vde=function(e,t){return da(e,"cccc",t)},yde=function(e){return"Week n. ".concat(e)},jde=function(){return"Year: "},wde=Object.freeze({__proto__:null,labelDay:pde,labelMonthDropdown:fde,labelNext:xde,labelPrevious:gde,labelWeekNumber:yde,labelWeekday:vde,labelYearDropdown:jde});function Nde(){var e="buttons",t=ode,n=ub,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:mde,labels:wde,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function bde(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Gs(r):t&&(o=new Date(t,0,1)),a?i=Cx(a):n&&(i=new Date(n,11,31)),{fromDate:o?zl(o):void 0,toDate:i?zl(i):void 0}}var B_=h.createContext(void 0);function Sde(e){var t,n=e.initialProps,r=Nde(),a=bde(n),o=a.fromDate,i=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(Ex(n)||Qu(n)||Zu(n))&&(c=n.onSelect);var d=Le(Le(Le({},r),n),{captionLayout:l,classNames:Le(Le({},r.classNames),n.classNames),components:Le({},n.components),formatters:Le(Le({},r.formatters),n.formatters),fromDate:o,labels:Le(Le({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Le(Le({},r.modifiers),n.modifiers),modifiersClassNames:Le(Le({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Le(Le({},r.styles),n.styles),toDate:i});return s.jsx(B_.Provider,{value:d,children:e.children})}function bt(){var e=h.useContext(B_);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function H_(e){var t=bt(),n=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function Cde(e){return s.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function z_(e){var t,n,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=bt(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:Cde;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:o}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Ede(e){var t,n=bt(),r=n.fromDate,a=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(Lce(r,a))for(var f=Gs(r),x=r.getMonth();x<=a.getMonth();x++)m.push(sv(f,x));else for(var f=Gs(new Date),x=0;x<=11;x++)m.push(sv(f,x));var g=function(w){var v=Number(w.target.value),y=sv(Gs(e.displayMonth),v);e.onChange(y)},p=(t=d?.Dropdown)!==null&&t!==void 0?t:z_;return s.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(w){return s.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function Tde(e){var t,n=e.displayMonth,r=bt(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var x=a.getFullYear(),g=o.getFullYear(),p=x;p<=g;p++)f.push(uT(F_(new Date),p));var w=function(y){var j=uT(Gs(n),Number(y.target.value));e.onChange(j)},v=(t=d?.Dropdown)!==null&&t!==void 0?t:z_;return s.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:u(n,{locale:i}),children:f.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:i})},y.getFullYear())})})}function Pde(e,t){var n=h.useState(e),r=n[0],a=n[1],o=t===void 0?r:t;return[o,a]}function Ade(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&Wl(o,a)<0){var d=-1*(c-1);a=nr(o,d)}return i&&Wl(a,i)<0&&(a=i),Gs(a)}function kde(){var e=bt(),t=Ade(e),n=Pde(t,e.month),r=n[0],a=n[1],o=function(i){var l;if(!e.disableNavigation){var c=Gs(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function Dde(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=Gs(e),o=Gs(nr(a,r)),i=Wl(o,a),l=[],c=0;c<i;c++){var d=nr(a,c);l.push(d)}return n&&(l=l.reverse()),l}function Mde(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=Gs(e);if(!n)return nr(l,i);var c=Wl(n,e);if(!(c<o))return nr(l,i)}}function Rde(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=Gs(e);if(!n)return nr(l,-i);var c=Wl(l,n);if(!(c<=0))return nr(l,-i)}}var q_=h.createContext(void 0);function Fde(e){var t=bt(),n=kde(),r=n[0],a=n[1],o=Dde(r,t),i=Mde(r,t),l=Rde(r,t),c=function(m){return o.some(function(f){return hb(m,f)})},d=function(m,f){c(m)||(f&&V_(m,f)?a(nr(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return s.jsx(q_.Provider,{value:u,children:e.children})}function eh(){var e=h.useContext(q_);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function mT(e){var t,n=bt(),r=n.classNames,a=n.styles,o=n.components,i=eh().goToMonth,l=function(u){i(nr(u,e.displayIndex?-e.displayIndex:0))},c=(t=o?.CaptionLabel)!==null&&t!==void 0?t:H_,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(Ede,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Tde,{onChange:l,displayMonth:e.displayMonth})]})}function Ode(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ide(e){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hp=h.forwardRef(function(e,t){var n=bt(),r=n.classNames,a=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=Le(Le({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Le({},e,{ref:t,type:"button",className:i,style:l}))});function Lde(e){var t,n,r=bt(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=d(e.previousMonth,{locale:o}),x=[i.nav_button,i.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),w=(t=m?.IconRight)!==null&&t!==void 0?t:Ide,v=(n=m?.IconLeft)!==null&&n!==void 0?n:Ode;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Hp,{name:"previous-month","aria-label":f,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(w,{className:i.nav_icon,style:l.nav_icon}):s.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Hp,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(v,{className:i.nav_icon,style:l.nav_icon}):s.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function pT(e){var t=bt().numberOfMonths,n=eh(),r=n.previousMonth,a=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(g){return hb(e.displayMonth,g)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),f=function(){r&&o(r)},x=function(){a&&o(a)};return s.jsx(Lde,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:x})}function _de(e){var t,n=bt(),r=n.classNames,a=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:H_,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=s.jsx(mT,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(mT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(pT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(pT,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:o.caption,children:d})}function $de(e){var t=bt(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function Vde(e,t,n){for(var r=n?ui(new Date):Ar(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Ts(r,o);a.push(i)}return a}function Ude(){var e=bt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Vde(a,o,i);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function Bde(){var e,t=bt(),n=t.classNames,r=t.styles,a=t.components,o=(e=a?.HeadRow)!==null&&e!==void 0?e:Ude;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(o,{})})}function Hde(e){var t=bt(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var pb=h.createContext(void 0);function zde(e){if(!Qu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(pb.Provider,{value:t,children:e.children})}return s.jsx(qde,{initialProps:e.initialProps,children:e.children})}function qde(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,o=t.max,i=function(d,u,m){var f,x;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,m);var g=!!(u.selected&&a&&r?.length===a);if(!g){var p=!!(!u.selected&&o&&r?.length===o);if(!p){var w=r?U_([],r):[];if(u.selected){var v=w.findIndex(function(y){return Hs(d,y)});w.splice(v,1)}else w.push(d);(x=t.onSelect)===null||x===void 0||x.call(t,w,d,u,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=o&&r.length>o-1,m=r.some(function(f){return Hs(f,d)});return!!(u&&!m)});var c={selected:r,onDayClick:i,modifiers:l};return s.jsx(pb.Provider,{value:c,children:n})}function fb(){var e=h.useContext(pb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Wde(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Hs(a,e)&&Hs(r,e)?void 0:Hs(a,e)?{from:a,to:void 0}:Hs(r,e)?void 0:$j(r,e)?{from:e,to:a}:{from:r,to:e}:a?$j(e,a)?{from:a,to:e}:{from:e,to:a}:r?V_(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var xb=h.createContext(void 0);function Yde(e){if(!Zu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(xb.Provider,{value:t,children:e.children})}return s.jsx(Xde,{initialProps:e.initialProps,children:e.children})}function Xde(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(x,g,p){var w,v;(w=t.onDayClick)===null||w===void 0||w.call(t,x,g,p);var y=Wde(x,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,x,g,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],Hs(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:tv(o,l-1),before:Ts(o,l-1)}),o&&i&&u.disabled.push({after:o,before:Ts(o,l-1)}),!o&&i&&u.disabled.push({after:tv(i,l-1),before:Ts(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:Ts(o,-c+1)}),u.disabled.push({after:Ts(o,c-1)})),o&&i){var m=yr(i,o)+1,f=c-m;u.disabled.push({before:tv(o,f)}),u.disabled.push({after:Ts(i,f)})}!o&&i&&(u.disabled.push({before:Ts(i,-c+1)}),u.disabled.push({after:Ts(i,c-1)}))}return s.jsx(xb.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function gb(){var e=h.useContext(xb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Tm(e){return Array.isArray(e)?U_([],e):e!==void 0?[e]:[]}function Kde(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=Tm(a)}),t}var rr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(rr||(rr={}));var Gde=rr.Selected,Vr=rr.Disabled,Jde=rr.Hidden,Qde=rr.Today,nv=rr.RangeEnd,rv=rr.RangeMiddle,av=rr.RangeStart,Zde=rr.Outside;function eue(e,t,n){var r,a=(r={},r[Gde]=Tm(e.selected),r[Vr]=Tm(e.disabled),r[Jde]=Tm(e.hidden),r[Qde]=[e.today],r[nv]=[],r[rv]=[],r[av]=[],r[Zde]=[],r);return e.fromDate&&a[Vr].push({before:e.fromDate}),e.toDate&&a[Vr].push({after:e.toDate}),Qu(e)?a[Vr]=a[Vr].concat(t.modifiers[Vr]):Zu(e)&&(a[Vr]=a[Vr].concat(n.modifiers[Vr]),a[av]=n.modifiers[av],a[rv]=n.modifiers[rv],a[nv]=n.modifiers[nv]),a}var W_=h.createContext(void 0);function tue(e){var t=bt(),n=fb(),r=gb(),a=eue(t,n,r),o=Kde(t.modifiers),i=Le(Le({},a),o);return s.jsx(W_.Provider,{value:i,children:e.children})}function Y_(){var e=h.useContext(W_);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function sue(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function nue(e){return!!(e&&typeof e=="object"&&"from"in e)}function rue(e){return!!(e&&typeof e=="object"&&"after"in e)}function aue(e){return!!(e&&typeof e=="object"&&"before"in e)}function oue(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function iue(e,t){var n,r=t.from,a=t.to;if(r&&a){var o=yr(a,r)<0;o&&(n=[a,r],r=n[0],a=n[1]);var i=yr(e,r)>=0&&yr(a,e)>=0;return i}return a?Hs(a,e):r?Hs(r,e):!1}function lue(e){return cb(e)}function cue(e){return Array.isArray(e)&&e.every(cb)}function due(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(lue(n))return Hs(e,n);if(cue(n))return n.includes(e);if(nue(n))return iue(e,n);if(oue(n))return n.dayOfWeek.includes(e.getDay());if(sue(n)){var r=yr(n.before,e),a=yr(n.after,e),o=r>0,i=a<0,l=$j(n.before,n.after);return l?i&&o:o||i}return rue(n)?yr(e,n.after)>0:aue(n)?yr(n.before,e)>0:typeof n=="function"?n(e):!1})}function vb(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return due(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),n&&!hb(e,n)&&(a.outside=!0),a}function uue(e,t){for(var n=Gs(e[0]),r=Cx(e[e.length-1]),a,o,i=n;i<=r;){var l=vb(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ts(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Ts(i,1)}return o||a}var hue=365;function X_(e,t){var n=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,f={day:Ts,week:_j,month:nr,year:Sle,startOfWeek:function(w){return a.ISOWeek?ui(w):Ar(w,{locale:m,weekStartsOn:c})},endOfWeek:function(w){return a.ISOWeek?O_(w):db(w,{locale:m,weekStartsOn:c})}},x=f[n](e,r==="after"?1:-1);r==="before"&&d?x=Cle([d,x]):r==="after"&&u&&(x=Ele([u,x]));var g=!0;if(o){var p=vb(x,o);g=!p.disabled&&!p.hidden}return g?x:l.count>hue?l.lastFocused:X_(x,{moveBy:n,direction:r,context:a,modifiers:o,retry:Le(Le({},l),{count:l.count+1})})}var K_=h.createContext(void 0);function mue(e){var t=eh(),n=Y_(),r=h.useState(),a=r[0],o=r[1],i=h.useState(),l=i[0],c=i[1],d=uue(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),o(void 0)},f=function(w){o(w)},x=bt(),g=function(w,v){if(a){var y=X_(a,{moveBy:w,direction:v,context:x,modifiers:n});Hs(a,y)||(t.goToDate(y,a),f(y))}},p={focusedDay:a,focusTarget:u,blur:m,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(K_.Provider,{value:p,children:e.children})}function yb(){var e=h.useContext(K_);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function pue(e,t){var n=Y_(),r=vb(e,n,t);return r}var jb=h.createContext(void 0);function fue(e){if(!Ex(e.initialProps)){var t={selected:void 0};return s.jsx(jb.Provider,{value:t,children:e.children})}return s.jsx(xue,{initialProps:e.initialProps,children:e.children})}function xue(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return s.jsx(jb.Provider,{value:a,children:n})}function G_(){var e=h.useContext(jb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function gue(e,t){var n=bt(),r=G_(),a=fb(),o=gb(),i=yb(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,f=i.focus,x=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,w=i.focusYearAfter,v=i.focusStartOfWeek,y=i.focusEndOfWeek,j=function(P){var R,$,H,_;Ex(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,P):Qu(n)?($=a.onDayClick)===null||$===void 0||$.call(a,e,t,P):Zu(n)?(H=o.onDayClick)===null||H===void 0||H.call(o,e,t,P):(_=n.onDayClick)===null||_===void 0||_.call(n,e,t,P)},N=function(P){var R;f(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,P)},b=function(P){var R;m(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,P)},T=function(P){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,P)},S=function(P){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,P)},A=function(P){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,P)},M=function(P){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,P)},L=function(P){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,P)},F=function(P){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,P)},I=function(P){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,P)},U=function(P){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,P)},O=function(P){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,P)},k=function(P){var R;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),u();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():x();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?w():g();break;case"Home":P.preventDefault(),P.stopPropagation(),v();break;case"End":P.preventDefault(),P.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,P)},C={onClick:j,onFocus:N,onBlur:b,onKeyDown:k,onKeyUp:O,onMouseEnter:T,onMouseLeave:S,onPointerEnter:A,onPointerLeave:M,onTouchCancel:L,onTouchEnd:F,onTouchMove:I,onTouchStart:U};return C}function vue(){var e=bt(),t=G_(),n=fb(),r=gb(),a=Ex(e)?t.selected:Qu(e)?n.selected:Zu(e)?r.selected:void 0;return a}function yue(e){return Object.values(rr).includes(e)}function jue(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(yue(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function wue(e,t){var n=Le({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Le(Le({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Nue(e,t,n){var r,a,o,i=bt(),l=yb(),c=pue(e,t),d=gue(e,c),u=vue(),m=!!(i.onDayClick||i.mode!=="default");h.useEffect(function(){var T;c.outside||l.focusedDay&&m&&Hs(l.focusedDay,e)&&((T=n.current)===null||T===void 0||T.focus())},[l.focusedDay,e,n,m,c.outside]);var f=jue(i,c).join(" "),x=wue(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:Hde,w=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),v={style:x,className:f,children:w,role:"gridcell"},y=l.focusTarget&&Hs(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&Hs(l.focusedDay,e),N=Le(Le(Le({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||y?0:-1,r)),d),b={isButton:m,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:v};return b}function bue(e){var t=h.useRef(null),n=Nue(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Hp,Le({name:"day",ref:t},n.buttonProps)):s.jsx("div",Le({},n.divProps))}function Sue(e){var t=e.number,n=e.dates,r=bt(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=c(Number(t),{locale:l}),f=function(x){a(t,n,x)};return s.jsx(Hp,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:f,children:u})}function Cue(e){var t,n,r=bt(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l?.Day)!==null&&t!==void 0?t:bue,d=(n=l?.WeekNumber)!==null&&n!==void 0?n:Sue,u;return i&&(u=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},Fce(m))})]})}function fT(e,t,n){for(var r=n?.ISOWeek?O_(t):db(t,n),a=n?.ISOWeek?ui(e):Ar(e,n),o=yr(r,a),i=[],l=0;l<=o;l++)i.push(Ts(a,l));var c=i.reduce(function(d,u){var m=n?.ISOWeek?I_(u):__(u,n),f=d.find(function(x){return x.weekNumber===m});return f?(f.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function Eue(e,t){var n=fT(Gs(e),Cx(e),t);if(t?.useFixedWeeks){var r=Ice(e,t);if(r<6){var a=n[n.length-1],o=a.dates[a.dates.length-1],i=_j(o,6-r),l=fT(_j(o,1),i,t);n.push.apply(n,l)}}return n}function Tue(e){var t,n,r,a=bt(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,f=a.firstWeekContainsDate,x=a.ISOWeek,g=Eue(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:x,locale:o,weekStartsOn:m,firstWeekContainsDate:f}),p=(t=u?.Head)!==null&&t!==void 0?t:Bde,w=(n=u?.Row)!==null&&n!==void 0?n:Cue,v=(r=u?.Footer)!==null&&r!==void 0?r:$de;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(y){return s.jsx(w,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function Pue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Aue=Pue()?h.useLayoutEffect:h.useEffect,ov=!1,kue=0;function xT(){return"react-day-picker-".concat(++kue)}function Due(e){var t,n=e??(ov?xT():null),r=h.useState(n),a=r[0],o=r[1];return Aue(function(){a===null&&o(xT())},[]),h.useEffect(function(){ov===!1&&(ov=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Mue(e){var t,n,r=bt(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,c=eh().displayMonths,d=Due(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],f=i.month,x=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!x&&!g;a==="rtl"&&(t=[x,g],g=t[0],x=t[1]),x&&(m.push(o.caption_start),f=Le(Le({},f),i.caption_start)),g&&(m.push(o.caption_end),f=Le(Le({},f),i.caption_end)),p&&(m.push(o.caption_between),f=Le(Le({},f),i.caption_between));var w=(n=l?.Caption)!==null&&n!==void 0?n:_de;return s.jsxs("div",{className:m.join(" "),style:f,children:[s.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Tue,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Rue(e){var t=bt(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function Fue(e){var t,n,r=e.initialProps,a=bt(),o=yb(),i=eh(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=Le(Le({},a.styles.root),a.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var w;return Le(Le({},g),(w={},w[p]=r[p],w))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Rue;return s.jsx("div",Le({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(x,{children:i.displayMonths.map(function(g,p){return s.jsx(Mue,{displayIndex:p,displayMonth:g},p)})})}))}function Oue(e){var t=e.children,n=ade(e,["children"]);return s.jsx(Sde,{initialProps:n,children:s.jsx(Fde,{children:s.jsx(fue,{initialProps:n,children:s.jsx(zde,{initialProps:n,children:s.jsx(Yde,{initialProps:n,children:s.jsx(tue,{children:s.jsx(mue,{children:t})})})})})})})}function Iue(e){return s.jsx(Oue,Le({},e,{children:s.jsx(Fue,{initialProps:e})}))}function Uj({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Iue,{showOutsideDays:n,className:re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:re(Vd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:re(Vd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Dk,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(On,{className:"h-4 w-4"})},...r})}Uj.displayName="Calendar";const Lue=({onFilterChange:e})=>{const[t,n]=h.useState(),[r,a]=h.useState(),o=()=>{e({dateRange:{start:t?.toISOString(),end:r?.toISOString()}})},i=()=>{n(void 0),a(void 0),e({dateRange:{}})},l=c=>{const d=new Date,u=new Date;u.setDate(d.getDate()-c),n(u),a(d),e({dateRange:{start:u.toISOString(),end:d.toISOString()}})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{className:"text-sm font-medium",children:"Date Range:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||r)&&s.jsx(z,{variant:"ghost",size:"sm",onClick:i,children:s.jsx(vt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"Start Date"}),s.jsxs(_p,{children:[s.jsx($p,{asChild:!0,children:s.jsxs(z,{variant:"outline",size:"sm",className:re("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(Cy,{className:"mr-2 h-4 w-4"}),t?da(t,"PPP"):"Pick start date"]})}),s.jsx(eu,{className:"w-auto p-0",align:"start",children:s.jsx(Uj,{mode:"single",selected:t,onSelect:c=>{n(c),c&&r&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"End Date"}),s.jsxs(_p,{children:[s.jsx($p,{asChild:!0,children:s.jsxs(z,{variant:"outline",size:"sm",className:re("w-[200px] justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[s.jsx(Cy,{className:"mr-2 h-4 w-4"}),r?da(r,"PPP"):"Pick end date"]})}),s.jsx(eu,{className:"w-auto p-0",align:"start",children:s.jsx(Uj,{mode:"single",selected:r,onSelect:c=>{a(c),t&&c&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},_ue=({adapterId:e})=>{const[t,n]=h.useState(!1),[r,a]=h.useState("csv"),[o,i]=h.useState(!1),{logs:l}=mb({sourceId:e}),{toast:c}=Be(),d=async()=>{if(!e){c({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}i(!0);try{let u,m,f;if(r==="csv"){const w=["Timestamp","Level","Message","Details"],v=l.map(y=>[y.timestamp,y.level,`"${y.message.replace(/"/g,'""')}"`,y.details?`"${JSON.stringify(y.details).replace(/"/g,'""')}"`:""]);u=[w.join(","),...v.map(y=>y.join(","))].join(`
`),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,f="text/csv"}else u=JSON.stringify(l,null,2),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,f="application/json";const x=new Blob([u],{type:f}),g=URL.createObjectURL(x),p=document.createElement("a");p.href=g,p.download=m,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g),c({title:"Export Successful",description:`Logs exported as ${m}`}),n(!1)}catch{c({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{i(!1)}};return s.jsxs(mt,{open:t,onOpenChange:n,children:[s.jsx(Bu,{asChild:!0,children:s.jsxs(z,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ea,{className:"h-4 w-4 mr-2"}),"Export"]})}),s.jsxs(ut,{children:[s.jsx(pt,{children:s.jsx(ft,{children:"Export Adapter Logs"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),s.jsxs(K,{value:r,onValueChange:u=>a(u),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"csv",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ps,{className:"h-4 w-4"}),"CSV Format"]})}),s.jsx(D,{value:"json",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f0,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(z,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(z,{onClick:d,disabled:o||!e,children:o?"Exporting...":"Export"})]})]})]})]})},$ue=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState({}),[u,m]=h.useState("system"),{logs:f,loading:x,error:g,refetch:p,sources:w}=mb({source:e||void 0,sourceId:n||void 0,level:a||void 0,search:i,startDate:c.start,endDate:c.end}),v=Oi({domainType:"UserManagement",includeSystemLogs:!1}),y=Oi({domainType:"FlowEngine",includeSystemLogs:!1}),j=Oi({domainType:"AdapterManagement",includeSystemLogs:!1}),N=Oi({domainType:"DataStructures",includeSystemLogs:!1}),b=Oi({domainType:"ChannelManagement",includeSystemLogs:!1}),T=Oi({domainType:"MessageProcessing",includeSystemLogs:!1}),S=()=>{p(),v.refetch(),y.refetch(),j.refetch(),N.refetch(),b.refetch(),T.refetch()},A=M=>{o(M.level),d(M.dateRange)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Fd,{className:"h-7 w-7"}),"System Logs"]}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_ue,{adapterId:n}),s.jsxs(z,{variant:"outline",size:"sm",onClick:S,className:"hover-scale",children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(q,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(fi,{className:"h-5 w-5"}),"Filters"]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),s.jsxs(K,{value:e,onValueChange:M=>t(M),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All sources"})}),s.jsxs(X,{children:[s.jsx(D,{value:"system",children:"System"}),s.jsx(D,{value:"adapter",children:"Adapters"}),s.jsx(D,{value:"channel",children:"Channels"}),s.jsx(D,{value:"flow",children:"Flows"}),s.jsx(D,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),s.jsxs(K,{value:n,onValueChange:r,children:[s.jsx(Y,{children:s.jsx(G,{placeholder:`Select ${e}`})}),s.jsxs(X,{children:[e==="adapter"&&w.adapters.map(M=>s.jsx(D,{value:M.id,children:M.name},M.id)),e==="channel"&&w.channels.map(M=>s.jsx(D,{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),s.jsxs(K,{value:a,onValueChange:M=>o(M),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"All levels"})}),s.jsxs(X,{children:[s.jsx(D,{value:"debug",children:"Debug"}),s.jsx(D,{value:"info",children:"Info"}),s.jsx(D,{value:"warn",children:"Warning"}),s.jsx(D,{value:"error",children:"Error"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search logs...",value:i,onChange:M=>l(M.target.value),className:"pl-10"})]})]})]}),s.jsx(Lue,{onFilterChange:A})]})]}),f.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),s.jsx(ce,{variant:"outline",children:"24h"})]})})}),s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:f.filter(M=>M.level==="error").length})]}),s.jsx(ce,{variant:"destructive",children:"Error"})]})})}),s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),s.jsx("p",{className:"text-2xl font-bold text-warning",children:f.filter(M=>M.level==="warn").length})]}),s.jsx(ce,{variant:"secondary",children:"Warning"})]})})}),s.jsx(q,{className:"bg-gradient-secondary border-border/50",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),s.jsx("p",{className:"text-2xl font-bold text-success",children:f.filter(M=>M.level==="info").length})]}),s.jsx(ce,{variant:"outline",children:"Info"})]})})})]}),s.jsxs(Ge,{value:u,onValueChange:m,children:[s.jsxs(Ke,{className:"grid w-full grid-cols-7",children:[s.jsxs(me,{value:"system",className:"flex items-center gap-2",children:[s.jsx(Fd,{className:"h-4 w-4"}),"System Logs"]}),s.jsxs(me,{value:"user",className:"flex items-center gap-2",children:[s.jsx(eo,{className:"h-4 w-4"}),"Users"]}),s.jsxs(me,{value:"flow",className:"flex items-center gap-2",children:[s.jsx(yu,{className:"h-4 w-4"}),"Flows"]}),s.jsxs(me,{value:"adapter",className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Adapters"]}),s.jsxs(me,{value:"structure",className:"flex items-center gap-2",children:[s.jsx(xs,{className:"h-4 w-4"}),"Structures"]}),s.jsxs(me,{value:"channel",className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(me,{value:"message",className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4"}),"Messages"]})]}),s.jsx(he,{value:"system",children:s.jsx(rde,{logs:f,loading:x,error:g,selectedSource:e})}),s.jsx(he,{value:"user",children:s.jsx(Ii,{domainType:"UserManagement",domainErrors:v.domainErrors,systemLogs:v.systemLogs,loading:v.loading,error:v.error})}),s.jsx(he,{value:"flow",children:s.jsx(Ii,{domainType:"FlowEngine",domainErrors:y.domainErrors,systemLogs:y.systemLogs,loading:y.loading,error:y.error})}),s.jsx(he,{value:"adapter",children:s.jsx(Ii,{domainType:"AdapterManagement",domainErrors:j.domainErrors,systemLogs:j.systemLogs,loading:j.loading,error:j.error})}),s.jsx(he,{value:"structure",children:s.jsx(Ii,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),s.jsx(he,{value:"channel",children:s.jsx(Ii,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),s.jsx(he,{value:"message",children:s.jsx(Ii,{domainType:"MessageProcessing",domainErrors:T.domainErrors,systemLogs:T.systemLogs,loading:T.loading,error:T.error})})]})]})},Vue=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],gT=[{value:"network",icon:Jo},{value:"shield",icon:Sn},{value:"folder",icon:Fk},{value:"message-square",icon:Us},{value:"database",icon:xs},{value:"globe",icon:gr},{value:"mail",icon:vu},{value:"file-text",icon:Ps},{value:"cpu",icon:t8},{value:"activity",icon:Zl},{value:"cloud",icon:ZU},{value:"inbox",icon:Ik},{value:"download",icon:ea},{value:"hard-drive",icon:Ok},{value:"zap",icon:Pn}],Uue=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(null),{toast:c}=Be(),[d,u]=h.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});h.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const y=await fetch("/api/admin/adapter-types");if(y.ok){const j=await y.json();t(j||[])}else if(y.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(y){console.log("API not available yet, starting with empty data:",y),t([])}finally{r(!1)}},f=async y=>{y.preventDefault();try{const j={...d,configurationSchema:d.configurationSchema?JSON.parse(d.configurationSchema):null},N=i?`/api/admin/adapter-types/${i.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)c({title:"Success",description:`Adapter type ${i?"updated":"created"} successfully`}),o(!1),p(),m();else throw new Error(`Failed to ${i?"update":"create"} adapter type`)}catch(j){c({title:"Error",description:`Failed to ${i?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",j)}},x=y=>{l(y),u({name:y.name,displayName:y.displayName,description:y.description,category:y.category,iconName:y.iconName,isActive:y.isActive,supportsSender:y.supportsSender,supportsReceiver:y.supportsReceiver,configurationSchema:y.configurationSchema?JSON.stringify(y.configurationSchema,null,2):""}),o(!0)},g=async y=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${y}`,{method:"DELETE"})).ok)c({title:"Success",description:"Adapter type deleted successfully"}),m();else throw new Error("Failed to delete adapter type")}catch(j){c({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",j)}},p=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},w=y=>{const j=gT.find(N=>N.value===y);return j?j.icon:Jo},v=y=>{const j={FILE_TRANSFER:"bg-blue-100 text-info",MESSAGING:"bg-green-100 text-success",DATABASE:"bg-purple-100 text-primary",WEB_SERVICE:"bg-orange-100 text-warning",MAIL:"bg-red-100 text-destructive",OTHER:"bg-gray-100 text-muted-foreground"};return j[y]||j.OTHER};return s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Adapter Types Management"}),s.jsx(xe,{children:"Manage available adapter types for communication channels"})]}),s.jsxs(mt,{open:a,onOpenChange:o,children:[s.jsx(Bu,{asChild:!0,children:s.jsxs(z,{onClick:p,children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),s.jsxs(ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(pt,{children:[s.jsx(ft,{children:i?"Edit Adapter Type":"Add New Adapter Type"}),s.jsx(Ln,{children:"Configure the adapter type settings and capabilities"})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"name",children:"Name (Internal)*"}),s.jsx(V,{id:"name",value:d.name,onChange:y=>u({...d,name:y.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"displayName",children:"Display Name*"}),s.jsx(V,{id:"displayName",value:d.displayName,onChange:y=>u({...d,displayName:y.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",value:d.description,onChange:y=>u({...d,description:y.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"category",children:"Category*"}),s.jsxs(K,{value:d.category,onValueChange:y=>u({...d,category:y}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select category"})}),s.jsx(X,{children:Vue.map(y=>s.jsx(D,{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"iconName",children:"Icon"}),s.jsxs(K,{value:d.iconName,onValueChange:y=>u({...d,iconName:y}),children:[s.jsx(Y,{children:s.jsx(G,{placeholder:"Select icon"})}),s.jsx(X,{children:gT.map(y=>{const j=y.icon;return s.jsx(D,{value:y.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"h-4 w-4"}),y.value]})},y.value)})})]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"isActive",checked:d.isActive,onCheckedChange:y=>u({...d,isActive:y===!0})}),s.jsx(E,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"supportsSender",checked:d.supportsSender,onCheckedChange:y=>u({...d,supportsSender:y===!0})}),s.jsx(E,{htmlFor:"supportsSender",children:"Supports Sender"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ze,{id:"supportsReceiver",checked:d.supportsReceiver,onCheckedChange:y=>u({...d,supportsReceiver:y===!0})}),s.jsx(E,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),s.jsx(ke,{id:"configurationSchema",value:d.configurationSchema,onChange:y=>u({...d,configurationSchema:y.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),s.jsxs(aa,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(z,{type:"submit",children:[i?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),s.jsx(Z,{children:n?s.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?s.jsx(Ni,{icon:Jo,title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Icon"}),s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Category"}),s.jsx(Fe,{children:"Support"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:e.map(y=>{const j=w(y.iconName);return s.jsxs(ms,{children:[s.jsx(Oe,{children:s.jsx(j,{className:"h-5 w-5"})}),s.jsx(Oe,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:y.displayName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:y.name})]})}),s.jsx(Oe,{children:s.jsx(ce,{className:v(y.category),children:y.category.replace("_"," ")})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-1",children:[y.supportsSender&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Sender"}),y.supportsReceiver&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),s.jsx(Oe,{children:s.jsx(ce,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>x(y),children:s.jsx(x8,{className:"h-4 w-4"})}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(y.id),children:s.jsx(or,{className:"h-4 w-4"})})]})})]},y.id)})})]})})]})},Bue=()=>{const{toast:e}=Be(),[t,n]=h.useState(null),[r,a]=h.useState(null),[o,i]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(!1),m={environmentType:"DEVELOPMENT",enforceRestrictions:!0,restrictionMessage:"",availableTypes:["DEVELOPMENT","QUALITY_ASSURANCE","PRODUCTION"]},f=async()=>{try{i(!0);const v=await J.get("/system/config/environment");v.success&&v.data?(n(v.data),a(v.data),u(!1)):e({title:"Error",description:"Failed to load environment configuration",variant:"destructive"})}catch(v){console.error("Error fetching environment configuration:",v),e({title:"Error",description:"Error loading environment configuration",variant:"destructive"})}finally{i(!1)}},x=async()=>{if(t)try{if(c(!0),!(await J.put("/system/config/environment/type",{environmentType:t?.environmentType||m.environmentType})).success){e({title:"Error",description:"Failed to update environment type",variant:"destructive"});return}if(!(await J.put("/system/config/environment/enforce-restrictions",{enforceRestrictions:t?.enforceRestrictions??m.enforceRestrictions})).success){e({title:"Error",description:"Failed to update enforce restrictions",variant:"destructive"});return}if(!(await J.put("/system/config/environment/restriction-message",{restrictionMessage:t?.restrictionMessage||m.restrictionMessage})).success){e({title:"Error",description:"Failed to update restriction message",variant:"destructive"});return}e({title:"Success",description:"Environment configuration saved successfully"}),a(t),u(!1),setTimeout(()=>{window.location.reload()},1500)}catch(v){console.error("Error saving environment configuration:",v),e({title:"Error",description:"Error saving environment configuration",variant:"destructive"})}finally{c(!1)}},g=v=>{if(!t)return;const y={...t,...v};n(y);const j=JSON.stringify(y)!==JSON.stringify(r);u(j)},p=v=>{switch(v){case"DEVELOPMENT":return{color:"text-info",bgColor:"bg-blue-100",label:"Development"};case"QUALITY_ASSURANCE":return{color:"text-warning",bgColor:"bg-yellow-100",label:"Quality Assurance"};case"PRODUCTION":return{color:"text-destructive",bgColor:"bg-red-100",label:"Production"};default:return{color:"text-muted-foreground",bgColor:"bg-gray-100",label:"Unknown"}}};if(h.useEffect(()=>{f()},[]),o)return s.jsx(q,{children:s.jsx(Z,{className:"flex items-center justify-center h-64",children:s.jsx(wt,{className:"h-8 w-8 animate-spin"})})});if(!t)return s.jsx(q,{children:s.jsx(Z,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Failed to load configuration"}),s.jsx(z,{variant:"outline",size:"sm",onClick:f,className:"mt-2",children:"Retry"})]})})});const w=p(t?.environmentType||m.environmentType);return s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx($o,{className:"h-5 w-5"}),"Environment Configuration"]}),s.jsx(xe,{children:"Configure the system environment type and restrictions"})]}),s.jsx(ce,{className:`${w.bgColor} ${w.color}`,children:w.label})]})}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"environment-type",children:"Environment Type"}),s.jsxs(K,{value:t?.environmentType||m.environmentType,onValueChange:v=>g({environmentType:v}),children:[s.jsx(Y,{id:"environment-type",children:s.jsx(G,{})}),s.jsx(X,{children:(t?.availableTypes||m.availableTypes).map(v=>{const y=p(v);return s.jsx(D,{value:v,children:s.jsx("span",{className:y.color,children:y.label})},v)})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controls which features are available in the system"})]}),s.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"enforce-restrictions",children:"Enforce Restrictions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, environment restrictions will be applied"})]}),s.jsx(ct,{id:"enforce-restrictions",checked:t?.enforceRestrictions??m.enforceRestrictions,onCheckedChange:v=>g({enforceRestrictions:v})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"restriction-message",children:"Restriction Message"}),s.jsx(V,{id:"restriction-message",value:t?.restrictionMessage||m.restrictionMessage,onChange:v=>g({restrictionMessage:v.target.value}),placeholder:"Enter custom restriction message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Message shown when users try to perform restricted actions. Use %s for environment name."})]}),s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(vi,{children:"Environment Restrictions"}),s.jsxs(tt,{className:"space-y-2 mt-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Development:"})," All features enabled"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Quality Assurance:"})," Limited to adapter configuration, import/export, and deployment"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Production:"})," Limited to adapter configuration, import/export, and deployment"]})]})]}),d&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Nt,{className:"h-4 w-4"}),"You have unsaved changes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>{n(r),u(!1)},children:"Cancel"}),s.jsx(z,{size:"sm",onClick:x,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),!d&&r&&JSON.stringify(t)===JSON.stringify(r)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-success",children:[s.jsx(Md,{className:"h-4 w-4"}),"Configuration saved successfully"]})]})]})},Hue=({})=>{const{toast:e}=Be(),[t,n]=h.useState([]),[r,a]=h.useState(["all"]),[o,i]=h.useState("all"),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[m,f]=h.useState({}),[x,g]=h.useState({enabled:!0,maxRetries:3,retryInterval:30,retryIntervalUnit:"seconds"}),[p,w]=h.useState(!1),v=async()=>{try{c(!0);const I=await rt.get("/system-settings");console.log("Fetched system settings:",I);const U=Array.isArray(I)?I:[];n(U);const O=[...new Set(U.map(k=>k.category||"Uncategorized").filter(Boolean))];a(["all",...O])}catch(I){console.error("Error fetching system settings:",I),e({title:"Error",description:"Failed to load system settings",variant:"destructive"})}finally{c(!1)}},y=async()=>{},j=async()=>{try{const I=await rt.get("/system-settings/global-retry");g(I),w(!1)}catch(I){console.error("Error fetching global retry settings:",I)}},N=async()=>{try{u(!0),await rt.put("/system-settings/global-retry",x),e({title:"Success",description:"Global retry settings updated successfully"}),w(!1)}catch(I){console.error("Error saving global retry settings:",I),e({title:"Error",description:"Failed to save global retry settings",variant:"destructive"})}finally{u(!1)}},b=async()=>{try{await rt.post("/system-settings/initialize"),e({title:"Success",description:"Default settings initialized"}),v()}catch(I){console.error("Error initializing settings:",I),e({title:"Error",description:"Error initializing settings",variant:"destructive"})}},T=async(I,U)=>{try{u(!0);const O=t.find(P=>P.settingKey===I);if(!O)return;const k={...O,settingValue:U,updatedBy:"admin"},C=await rt.put(`/system-settings/${I}`,k);n(P=>P.map(R=>R.settingKey===I?C:R)),f(P=>{const R={...P};return delete R[I],R}),e({title:"Success",description:`Setting "${I}" updated successfully`})}catch(O){console.error("Error saving setting:",O),e({title:"Error",description:"Error saving setting",variant:"destructive"})}finally{u(!1)}},S=(I,U)=>{f(O=>({...O,[I]:U}))},A=I=>m[I.settingKey]??I.settingValue,M=I=>m[I.settingKey]!==void 0&&m[I.settingKey]!==I.settingValue,L=o==="all"?t||[]:(t||[]).filter(I=>I.category===o);h.useEffect(()=>{v(),y(),j()},[]);const F=I=>s.jsxs(q,{className:"mb-4",children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"text-sm font-medium flex items-center gap-2",children:[I.settingKey,I.isReadonly&&s.jsx(ce,{variant:"secondary",className:"text-xs",children:"Readonly"}),I.isEncrypted&&s.jsx(ce,{variant:"outline",className:"text-xs",children:"Encrypted"}),M(I)&&s.jsx(ce,{variant:"destructive",className:"text-xs",children:"Modified"})]}),s.jsx(xe,{className:"text-xs",children:I.description})]}),s.jsx(ce,{variant:"outline",className:"text-xs",children:I.category})]})}),s.jsx(Z,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:`setting-${I.id}`,className:"text-xs",children:["Value (",I.dataType,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:`setting-${I.id}`,value:A(I),onChange:U=>S(I.settingKey,U.target.value),disabled:I.isReadonly,type:I.dataType==="PASSWORD"?"password":I.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:I.settingValue}),M(I)&&s.jsx(z,{size:"sm",onClick:()=>T(I.settingKey,m[I.settingKey]),disabled:d,className:"px-3",children:d?s.jsx(wt,{className:"h-3 w-3 animate-spin"}):s.jsx(Tn,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Created: ",new Date(I.createdAt).toLocaleString()]}),s.jsxs("span",{children:["Updated: ",new Date(I.updatedAt).toLocaleString()]})]}),(I.createdBy||I.updatedBy)&&s.jsxs("div",{className:"flex justify-between",children:[I.createdBy&&s.jsxs("span",{children:["Created by: ",I.createdBy]}),I.updatedBy&&s.jsxs("span",{children:["Updated by: ",I.updatedBy]})]})]})]})})]},I.id);return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(wt,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Lt,{className:"h-6 w-6"}),"System Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",size:"sm",onClick:v,disabled:l,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(z,{variant:"outline",size:"sm",onClick:b,children:"Initialize Defaults"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(Bue,{})}),s.jsx(it,{className:"my-8"}),s.jsx("div",{className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx($k,{className:"h-5 w-5"}),"Global Retry Configuration"]}),s.jsx(xe,{children:"Configure default retry settings for all adapters. Individual adapters can override these settings."})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"global-retry-enabled",children:"Enable Automatic Retries"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, failed operations will be automatically retried"})]}),s.jsx(ct,{id:"global-retry-enabled",checked:x.enabled,onCheckedChange:I=>{g(U=>({...U,enabled:I})),w(!0)}})]}),x.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"global-max-retries",children:"Maximum Retry Attempts"}),s.jsx(V,{id:"global-max-retries",type:"number",min:"1",max:"10",value:x.maxRetries,onChange:I=>{g(U=>({...U,maxRetries:parseInt(I.target.value)||1})),w(!0)}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"global-retry-interval",children:"Retry Interval"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{id:"global-retry-interval",type:"number",min:"1",value:x.retryInterval,onChange:I=>{g(U=>({...U,retryInterval:parseInt(I.target.value)||1})),w(!0)},className:"flex-1"}),s.jsxs(K,{value:x.retryIntervalUnit,onValueChange:I=>{g(U=>({...U,retryIntervalUnit:I})),w(!0)},children:[s.jsx(Y,{className:"w-[120px]",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"seconds",children:"Seconds"}),s.jsx(D,{value:"minutes",children:"Minutes"}),s.jsx(D,{value:"hours",children:"Hours"})]})]})]})]})]}),p&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You have unsaved changes to the global retry settings"}),s.jsxs(z,{size:"sm",onClick:N,disabled:d,children:[d?s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}),s.jsx(it,{className:"my-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"General System Settings"}),Object.keys(m).length>0&&s.jsx(q,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:s.jsxs(se,{className:"pb-3",children:[s.jsxs(ne,{className:"text-sm flex items-center gap-2 text-warning dark:text-warning",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Unsaved Changes"]}),s.jsxs(xe,{className:"text-warning dark:text-warning",children:["You have ",Object.keys(m).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),s.jsxs(Ge,{value:o,onValueChange:i,children:[s.jsx(Ke,{className:"grid w-full grid-cols-auto max-w-fit",children:r&&r.length>0?r.map(I=>s.jsxs(me,{value:I,className:"capitalize",children:[I==="all"?"All Settings":I||"Uncategorized",I!=="all"&&s.jsx(ce,{variant:"secondary",className:"ml-2 text-xs",children:(t||[]).filter(U=>U.category===I).length})]},I)):null}),s.jsx(he,{value:o,className:"space-y-4",children:L.length===0?s.jsx(q,{children:s.jsx(Z,{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Lt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),s.jsx(z,{variant:"outline",size:"sm",onClick:b,className:"mt-2",children:"Initialize Default Settings"})]})})}):s.jsx("div",{className:"grid gap-4",children:L&&L.map(F)})})]})]})]})};class zue{async getAllRoles(t=0,n=50){return J.get(`/roles?page=${t}&limit=${n}`)}async getRoleById(t){return J.get(`/roles/${t}`)}async createRole(t){return J.post("/roles",t)}async updateRole(t,n){return J.put(`/roles/${t}`,n)}async deleteRole(t){return J.delete(`/roles/${t}`)}async addPermission(t,n){return J.post(`/roles/${t}/permissions`,{permission:n})}async removePermission(t,n){return J.delete(`/roles/${t}/permissions/${n}`)}async updatePermissions(t,n){return J.put(`/roles/${t}/permissions`,{permissions:n})}async getRolePermissions(t){return J.get(`/roles/${t}/permissions`)}async searchRoles(t,n){const r=new URLSearchParams({q:t,...n?.hasPermission&&{hasPermission:n.hasPermission},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return J.get(`/roles/search?${r}`)}async getRoleUsers(t){return J.get(`/roles/${t}/users`)}async cloneRole(t,n){return J.post(`/roles/${t}/clone`,{name:n})}async getAvailablePermissions(){return J.get("/roles/available-permissions")}async validatePermissions(t){return J.post("/roles/validate-permissions",{permissions:t})}}const que=new zue;class Wue{async getAllJarFiles(t){const n=new URLSearchParams;t?.driverType&&n.append("driverType",t.driverType),t?.isActive!==void 0&&n.append("isActive",t.isActive.toString());const r=n.toString();return J.get(`/jar-files${r?`?${r}`:""}`)}async getJarFileById(t){return J.get(`/jar-files/${t}`)}async createJarFile(t){return J.post("/jar-files",t)}async updateJarFile(t,n){return J.put(`/jar-files/${t}`,n)}async deleteJarFile(t){return J.delete(`/jar-files/${t}`)}async uploadJarFile(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("version",n.version),r.append("description",n.description),r.append("driverType",n.driverType),n.vendor&&r.append("vendor",n.vendor),J.post("/jar-files/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadJarFile(t){const n=await fetch(`${J.baseURL}/jar-files/${t}/download`,{method:"GET",headers:J.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download JAR file");return n.blob()}async toggleJarFileStatus(t,n){return J.put(`/jar-files/${t}/status`,{isActive:n})}async getJarFilesByDriverType(t){return J.get(`/jar-files/driver-type/${t}`)}async validateJarFile(t){return J.get(`/jar-files/${t}/validate`)}async getDriverTypes(){return J.get("/jar-files/driver-types")}}const Yue=new Wue,Xue=()=>{const{toast:e}=Be(),[t,n]=h.useState([]),[r,a]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState([]),[m,f]=h.useState(!0),[x,g]=h.useState([]),[p,w]=h.useState(!0),[v,y]=h.useState("users"),j=async()=>{try{a(!0);const M=await Zi.getAllUsers();if(console.log("User fetch response:",M),M.success&&M.data){const L=Array.isArray(M.data)?M.data:M.data.users;n(L||[])}else console.error("Failed to fetch users:",M.error),console.log("API not available, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}catch(M){console.error("Error fetching users:",M),console.log("API error, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}},N=async()=>{try{c(!0);const M=await que.getAllRoles();if(console.log("Role fetch response:",M),M.success&&M.data){const L=Array.isArray(M.data)?M.data:[];i(L)}else console.error("Failed to fetch roles:",M.error),i([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}catch(M){console.error("Error fetching roles:",M),i([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}finally{c(!1)}},b=async()=>{try{f(!0);const M=await JL.getAllCertificates();console.log("Certificate fetch response:",M),M.success&&M.data?u(M.data):(console.error("Failed to fetch certificates:",M.error),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"}))}catch(M){console.error("Error fetching certificates:",M),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{f(!1)}},T=async()=>{try{w(!0);const M=await Yue.getAllJarFiles();console.log("JAR files fetch response:",M),M.success&&M.data?g(M.data):(console.error("Failed to fetch JAR files:",M.error),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"}))}catch(M){console.error("Error fetching JAR files:",M),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"})}finally{w(!1)}};h.useEffect(()=>{j(),N(),b(),T()},[]);const S=M=>{g(L=>[...L,M])},A=M=>{g(L=>L.filter(F=>F.id!==M))};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ms,{className:"h-8 w-8"}),"Admin Panel"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),s.jsx(Wce,{users:t,roles:o,certificates:d,jarFiles:x}),s.jsxs(Ge,{value:v,onValueChange:y,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[s.jsxs(Ke,{className:"grid w-full grid-cols-7",children:[s.jsxs(me,{value:"users",className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-4 w-4"}),"Users"]}),s.jsxs(me,{value:"roles",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Roles"]}),s.jsxs(me,{value:"certificates",className:"flex items-center gap-2",children:[s.jsx(Go,{className:"h-4 w-4"}),"Certificates"]}),s.jsxs(me,{value:"jar-files",className:"flex items-center gap-2",children:[s.jsx(Rd,{className:"h-4 w-4"}),"Connection Drivers"]}),s.jsxs(me,{value:"adapter-types",className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Adapter Types"]}),s.jsxs(me,{value:"system-settings",className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"System Settings"]}),s.jsxs(me,{value:"system-logs",className:"flex items-center gap-2",children:[s.jsx(Fd,{className:"h-4 w-4"}),"System Logs"]})]}),s.jsx(he,{value:"users",className:"space-y-4",children:s.jsx(Jce,{users:t,isLoading:r,onRefresh:j})}),s.jsx(he,{value:"roles",className:"space-y-4",children:s.jsx(Qce,{roles:o,isLoading:l,onRefresh:N})}),s.jsx(he,{value:"certificates",className:"space-y-4",children:s.jsx(Zce,{certificates:d,isLoading:m,onRefresh:b})}),s.jsx(he,{value:"jar-files",className:"space-y-4",children:s.jsx(nde,{jarFiles:x,isLoading:p,onRefresh:T,onJarFileAdded:S,onJarFileDeleted:A})}),s.jsx(he,{value:"adapter-types",className:"space-y-4",children:s.jsx(Uue,{})}),s.jsx(he,{value:"system-settings",className:"space-y-4",children:s.jsx(Hue,{})}),s.jsx(he,{value:"system-logs",className:"space-y-4",children:s.jsx($ue,{})})]})]})},vT=e=>{let t;const n=new Set,r=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const f=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,f))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,a,l);return l},Kue=e=>e?vT(e):vT,Gue=e=>e;function Jue(e,t=Gue){const n=Tt.useSyncExternalStore(e.subscribe,Tt.useCallback(()=>t(e.getState()),[e,t]),Tt.useCallback(()=>t(e.getInitialState()),[e,t]));return Tt.useDebugValue(n),n}const yT=e=>{const t=Kue(e),n=r=>Jue(t,r);return Object.assign(n,t),n},J_=e=>e?yT(e):yT;function Que(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=n.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const Bj=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Bj(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Bj(r)(n)}}}},Zue=(e,t)=>(n,r,a)=>{let o={storage:Que(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},i=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,a);const u=()=>{const p=o.partialize({...r()});return d.setItem(o.name,{state:p,version:o.version})},m=a.setState;a.setState=(p,w)=>{m(p,w),u()};const f=e((...p)=>{n(...p),u()},r,a);a.getInitialState=()=>f;let x;const g=()=>{var p,w;if(!d)return;i=!1,l.forEach(y=>{var j;return y((j=r())!=null?j:f)});const v=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(p=r())!=null?p:f))||void 0;return Bj(d.getItem.bind(d))(o.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate){const j=o.migrate(y.state,y.version);return j instanceof Promise?j.then(N=>[!0,N]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var j;const[N,b]=y;if(x=o.merge(b,(j=r())!=null?j:f),n(x,!0),N)return u()}).then(()=>{v?.(x,void 0),x=r(),i=!0,c.forEach(y=>y(x))}).catch(y=>{v?.(void 0,y)})};return a.persist={setOptions:p=>{o={...o,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||g(),x||f},ehe=Zue,jT={theme:"dark",sidebarState:"expanded",compactMode:!1,showLineNumbers:!0,autoSave:!0,animationsEnabled:!0},wb=J_()(ehe(e=>({...jT,activeModal:null,modalData:null,globalLoading:!1,loadingMessage:null,breadcrumbs:[],setTheme:t=>{e({theme:t}),t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setSidebarState:t=>e({sidebarState:t}),toggleSidebar:()=>e(t=>({sidebarState:t.sidebarState==="expanded"?"collapsed":"expanded"})),setCompactMode:t=>e({compactMode:t}),setShowLineNumbers:t=>e({showLineNumbers:t}),setAutoSave:t=>e({autoSave:t}),setAnimationsEnabled:t=>e({animationsEnabled:t}),openModal:(t,n=null)=>e({activeModal:t,modalData:n}),closeModal:()=>e({activeModal:null,modalData:null}),setGlobalLoading:(t,n=null)=>e({globalLoading:t,loadingMessage:n}),setBreadcrumbs:t=>e({breadcrumbs:t}),addBreadcrumb:t=>e(n=>({breadcrumbs:[...n.breadcrumbs,t]})),resetPreferences:()=>e(jT)}),{name:"ui-preferences",partialize:e=>({theme:e.theme,sidebarState:e.sidebarState,compactMode:e.compactMode,showLineNumbers:e.showLineNumbers,autoSave:e.autoSave,animationsEnabled:e.animationsEnabled})})),Q_=()=>{const e=wb(t=>t.animationsEnabled);return{enabled:e,duration:e?"duration-200":"duration-0",transition:e?"transition-all":""}},the=()=>{sx("Settings"),nx("Configure your Integrix Flow Bridge preferences, manage security settings, customize notifications, and control system-wide configurations.");const{user:e}=Mr(),{toast:t}=Be(),{theme:n,setTheme:r,compactMode:a,setCompactMode:o}=wb(),[i,l]=h.useState("profile");h.useState(!1);const[c,d]=h.useState(!1),[u,m]=h.useState({language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"12h",emailNotifications:!0,browserNotifications:!1,soundAlerts:!0,showHelperText:!0}),[f,x]=h.useState({firstName:e?.first_name||"",lastName:e?.last_name||"",email:e?.email||"",phone:"",department:"",title:""}),[g,p]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w=async()=>{try{d(!0),t({title:"Profile Updated",description:"Your profile has been updated successfully"})}catch{t({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{d(!1)}},v=async()=>{try{d(!0),localStorage.setItem("userPreferences",JSON.stringify(u)),t({title:"Preferences Saved",description:"Your preferences have been saved successfully"})}catch{t({title:"Error",description:"Failed to save preferences",variant:"destructive"})}finally{d(!1)}},y=async()=>{if(g.newPassword!==g.confirmPassword){t({title:"Error",description:"New passwords do not match",variant:"destructive"});return}try{d(!0),t({title:"Password Changed",description:"Your password has been changed successfully"}),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch{t({title:"Error",description:"Failed to change password",variant:"destructive"})}finally{d(!1)}};return h.useEffect(()=>{const j=localStorage.getItem("userPreferences");j&&m(JSON.parse(j))},[]),s.jsxs(ex,{children:[s.jsx(tx,{title:"User Settings",description:"Manage your profile and personal preferences",icon:s.jsx(Lt,{})}),s.jsxs(Ge,{value:i,onValueChange:l,className:"space-y-6",children:[s.jsxs(Ke,{className:"grid grid-cols-4 w-full max-w-2xl",children:[s.jsxs(me,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(eo,{className:"h-4 w-4"}),"Profile"]}),s.jsxs(me,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(h8,{className:"h-4 w-4"}),"Preferences"]}),s.jsxs(me,{value:"notifications",className:"flex items-center gap-2",children:[s.jsx(kk,{className:"h-4 w-4"}),"Notifications"]}),s.jsxs(me,{value:"security",className:"flex items-center gap-2",children:[s.jsx(Za,{className:"h-4 w-4"}),"Security"]})]}),s.jsx(he,{value:"profile",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Profile Information"}),s.jsx(xe,{children:"Update your personal information and contact details"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(V,{id:"firstName",value:f.firstName,onChange:j=>x({...f,firstName:j.target.value}),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(V,{id:"lastName",value:f.lastName,onChange:j=>x({...f,lastName:j.target.value}),placeholder:"Enter last name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(V,{id:"email",type:"email",value:f.email,onChange:j=>x({...f,email:j.target.value}),placeholder:"Enter email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"phone",children:"Phone"}),s.jsx(V,{id:"phone",value:f.phone,onChange:j=>x({...f,phone:j.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"department",children:"Department"}),s.jsx(V,{id:"department",value:f.department,onChange:j=>x({...f,department:j.target.value}),placeholder:"Enter department"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"title",children:"Job Title"}),s.jsx(V,{id:"title",value:f.title,onChange:j=>x({...f,title:j.target.value}),placeholder:"Enter job title"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{onClick:w,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})})]})]})}),s.jsx(he,{value:"preferences",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Display Preferences"}),s.jsx(xe,{children:"Customize how the application looks and behaves for you"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"theme",children:"Theme"}),s.jsxs(K,{value:n,onValueChange:r,children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"light",children:"Light"}),s.jsx(D,{value:"dark",children:"Dark"}),s.jsx(D,{value:"system",children:"System"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"language",children:"Language"}),s.jsxs(K,{value:u.language,onValueChange:j=>m({...u,language:j}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"en",children:"English"}),s.jsx(D,{value:"es",children:"Spanish"}),s.jsx(D,{value:"fr",children:"French"}),s.jsx(D,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(K,{value:u.timezone,onValueChange:j=>m({...u,timezone:j}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"UTC",children:"UTC"}),s.jsx(D,{value:"America/New_York",children:"Eastern Time"}),s.jsx(D,{value:"America/Chicago",children:"Central Time"}),s.jsx(D,{value:"America/Denver",children:"Mountain Time"}),s.jsx(D,{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx(D,{value:"Europe/London",children:"London"}),s.jsx(D,{value:"Europe/Paris",children:"Paris"}),s.jsx(D,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs(K,{value:u.dateFormat,onValueChange:j=>m({...u,dateFormat:j}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx(D,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx(D,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeFormat",children:"Time Format"}),s.jsxs(K,{value:u.timeFormat,onValueChange:j=>m({...u,timeFormat:j}),children:[s.jsx(Y,{children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"12h",children:"12 Hour"}),s.jsx(D,{value:"24h",children:"24 Hour"})]})]})]})]}),s.jsx(it,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Interface Options"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"compactView",children:"Compact View"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use a more condensed layout"})]}),s.jsx(ct,{id:"compactView",checked:a,onCheckedChange:o})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"showHelperText",children:"Show Helper Text"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display helpful tooltips and descriptions"})]}),s.jsx(ct,{id:"showHelperText",checked:u.showHelperText,onCheckedChange:j=>m({...u,showHelperText:j})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{onClick:v,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsx(he,{value:"notifications",className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Notification Preferences"}),s.jsx(xe,{children:"Choose how you want to be notified about important events"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs(et,{children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{children:"These settings control personal notifications. System-wide notification settings are managed by administrators."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),s.jsx(ct,{id:"emailNotifications",checked:u.emailNotifications,onCheckedChange:j=>m({...u,emailNotifications:j})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"browserNotifications",children:"Browser Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show desktop notifications"})]}),s.jsx(ct,{id:"browserNotifications",checked:u.browserNotifications,onCheckedChange:j=>m({...u,browserNotifications:j})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"soundAlerts",children:"Sound Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for important events"})]}),s.jsx(ct,{id:"soundAlerts",checked:u.soundAlerts,onCheckedChange:j=>m({...u,soundAlerts:j})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{onClick:v,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsxs(he,{value:"security",className:"space-y-6",children:[s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Change Password"}),s.jsx(xe,{children:"Update your account password"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(V,{id:"currentPassword",type:"password",value:g.currentPassword,onChange:j=>p({...g,currentPassword:j.target.value}),placeholder:"Enter current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"newPassword",children:"New Password"}),s.jsx(V,{id:"newPassword",type:"password",value:g.newPassword,onChange:j=>p({...g,newPassword:j.target.value}),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(V,{id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:j=>p({...g,confirmPassword:j.target.value}),placeholder:"Confirm new password"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{onClick:y,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Active Sessions"}),s.jsx(xe,{children:"Manage your active login sessions"})]}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Current Session"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(Rs,{className:"h-3 w-3 inline mr-1"}),"Last active: Just now"]})]}),s.jsx(ce,{variant:"secondary",children:"Active"})]})})})]}),s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"API Keys"}),s.jsx(xe,{children:"Manage your personal API keys for integrations"})]}),s.jsx(Z,{children:s.jsxs(et,{children:[s.jsx(Go,{className:"h-4 w-4"}),s.jsx(tt,{children:"No API keys generated yet. Contact your administrator if you need API access."})]})})]})]})]})]})};function she(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){she(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nhe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function rhe(e,t){if(e==null)return{};var n=nhe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ahe(e,t){return ohe(e)||ihe(e,t)||lhe(e,t)||che()}function ohe(e){if(Array.isArray(e))return e}function ihe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,o=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(a)throw o}}return n}}function lhe(e,t){if(e){if(typeof e=="string")return bT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(e,t)}}function bT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){dhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uhe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(a,o){return o(a)},r)}}function Kc(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function zp(e){return{}.toString.call(e).includes("Object")}function hhe(e){return!Object.keys(e).length}function su(e){return typeof e=="function"}function mhe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function phe(e,t){return zp(t)||Ga("changeType"),Object.keys(t).some(function(n){return!mhe(e,n)})&&Ga("changeField"),t}function fhe(e){su(e)||Ga("selectorType")}function xhe(e){su(e)||zp(e)||Ga("handlerType"),zp(e)&&Object.values(e).some(function(t){return!su(t)})&&Ga("handlersType")}function ghe(e){e||Ga("initialIsRequired"),zp(e)||Ga("initialType"),hhe(e)&&Ga("initialContent")}function vhe(e,t){throw new Error(e[t]||e.default)}var yhe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ga=Kc(vhe)(yhe),Xh={changes:phe,selector:fhe,handler:xhe,initial:ghe};function jhe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xh.initial(e),Xh.handler(t);var n={current:e},r=Kc(bhe)(n,t),a=Kc(Nhe)(n),o=Kc(Xh.changes)(e),i=Kc(whe)(n);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Xh.selector(d),d(n.current)}function c(d){uhe(r,a,o,i)(d)}return[l,c]}function whe(e,t){return su(t)?t(e.current):t}function Nhe(e,t){return e.current=CT(CT({},e.current),t),t}function bhe(e,t,n){return su(t)?t(e.current):Object.keys(n).forEach(function(r){var a;return(a=t[r])===null||a===void 0?void 0:a.call(t,e.current[r])}),n}var She={create:jhe},Che={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Ehe(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function The(e){return{}.toString.call(e).includes("Object")}function Phe(e){return e||ET("configIsRequired"),The(e)||ET("configType"),e.urls?(Ahe(),{paths:{vs:e.urls.monacoBase}}):e}function Ahe(){console.warn(Z_.deprecation)}function khe(e,t){throw new Error(e[t]||e.default)}var Z_={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ET=Ehe(khe)(Z_),Dhe={config:Phe},Mhe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){return n.reduceRight(function(o,i){return i(o)},a)}};function e$(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],e$(e[n],t[n]))}),NT(NT({},e),t)}var Rhe={type:"cancelation",msg:"operation is manually canceled"};function iv(e){var t=!1,n=new Promise(function(r,a){e.then(function(o){return t?a(Rhe):r(o)}),e.catch(a)});return n.cancel=function(){return t=!0},n}var Fhe=She.create({config:Che,isInitialized:!1,resolve:null,reject:null,monaco:null}),t$=ahe(Fhe,2),th=t$[0],Tx=t$[1];function Ohe(e){var t=Dhe.config(e),n=t.monaco,r=rhe(t,["monaco"]);Tx(function(a){return{config:e$(a.config,r),monaco:n}})}function Ihe(){var e=th(function(t){var n=t.monaco,r=t.isInitialized,a=t.resolve;return{monaco:n,isInitialized:r,resolve:a}});if(!e.isInitialized){if(Tx({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),iv(lv);if(window.monaco&&window.monaco.editor)return s$(window.monaco),e.resolve(window.monaco),iv(lv);Mhe(Lhe,$he)(Vhe)}return iv(lv)}function Lhe(e){return document.body.appendChild(e)}function _he(e){var t=document.createElement("script");return e&&(t.src=e),t}function $he(e){var t=th(function(r){var a=r.config,o=r.reject;return{config:a,reject:o}}),n=_he("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Vhe(){var e=th(function(n){var r=n.config,a=n.resolve,o=n.reject;return{config:r,resolve:a,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){s$(n),e.resolve(n)},function(n){e.reject(n)})}function s$(e){th().monaco||Tx({monaco:e})}function Uhe(){return th(function(e){var t=e.monaco;return t})}var lv=new Promise(function(e,t){return Tx({resolve:e,reject:t})}),n$={config:Ohe,init:Ihe,__getMonacoInstance:Uhe},Bhe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},cv=Bhe,Hhe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},zhe=Hhe;function qhe({children:e}){return Tt.createElement("div",{style:zhe.container},e)}var Whe=qhe,Yhe=Whe;function Xhe({width:e,height:t,isEditorReady:n,loading:r,_ref:a,className:o,wrapperProps:i}){return Tt.createElement("section",{style:{...cv.wrapper,width:e,height:t},...i},!n&&Tt.createElement(Yhe,null,r),Tt.createElement("div",{ref:a,style:{...cv.fullWidth,...!n&&cv.hide},className:o}))}var Khe=Xhe,r$=h.memo(Khe);function Ghe(e){h.useEffect(e,[])}var a$=Ghe;function Jhe(e,t,n=!0){let r=h.useRef(!0);h.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var rn=Jhe;function cd(){}function el(e,t,n,r){return Qhe(e,r)||Zhe(e,t,n,r)}function Qhe(e,t){return e.editor.getModel(o$(e,t))}function Zhe(e,t,n,r){return e.editor.createModel(t,n,r?o$(e,r):void 0)}function o$(e,t){return e.Uri.parse(t)}function eme({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:a,originalModelPath:o,modifiedModelPath:i,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:m={},height:f="100%",width:x="100%",className:g,wrapperProps:p={},beforeMount:w=cd,onMount:v=cd}){let[y,j]=h.useState(!1),[N,b]=h.useState(!0),T=h.useRef(null),S=h.useRef(null),A=h.useRef(null),M=h.useRef(v),L=h.useRef(w),F=h.useRef(!1);a$(()=>{let k=n$.init();return k.then(C=>(S.current=C)&&b(!1)).catch(C=>C?.type!=="cancelation"&&console.error("Monaco initialization: error:",C)),()=>T.current?O():k.cancel()}),rn(()=>{if(T.current&&S.current){let k=T.current.getOriginalEditor(),C=el(S.current,e||"",r||n||"text",o||"");C!==k.getModel()&&k.setModel(C)}},[o],y),rn(()=>{if(T.current&&S.current){let k=T.current.getModifiedEditor(),C=el(S.current,t||"",a||n||"text",i||"");C!==k.getModel()&&k.setModel(C)}},[i],y),rn(()=>{let k=T.current.getModifiedEditor();k.getOption(S.current.editor.EditorOption.readOnly)?k.setValue(t||""):t!==k.getValue()&&(k.executeEdits("",[{range:k.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),k.pushUndoStop())},[t],y),rn(()=>{T.current?.getModel()?.original.setValue(e||"")},[e],y),rn(()=>{let{original:k,modified:C}=T.current.getModel();S.current.editor.setModelLanguage(k,r||n||"text"),S.current.editor.setModelLanguage(C,a||n||"text")},[n,r,a],y),rn(()=>{S.current?.editor.setTheme(d)},[d],y),rn(()=>{T.current?.updateOptions(m)},[m],y);let I=h.useCallback(()=>{if(!S.current)return;L.current(S.current);let k=el(S.current,e||"",r||n||"text",o||""),C=el(S.current,t||"",a||n||"text",i||"");T.current?.setModel({original:k,modified:C})},[n,t,a,e,r,o,i]),U=h.useCallback(()=>{!F.current&&A.current&&(T.current=S.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...m}),I(),S.current?.editor.setTheme(d),j(!0),F.current=!0)},[m,d,I]);h.useEffect(()=>{y&&M.current(T.current,S.current)},[y]),h.useEffect(()=>{!N&&!y&&U()},[N,y,U]);function O(){let k=T.current?.getModel();l||k?.original?.dispose(),c||k?.modified?.dispose(),T.current?.dispose()}return Tt.createElement(r$,{width:x,height:f,isEditorReady:y,loading:u,_ref:A,className:g,wrapperProps:p})}var tme=eme;h.memo(tme);function sme(e){let t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}var nme=sme,Kh=new Map;function rme({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:a,path:o,theme:i="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:m=!0,keepCurrentModel:f=!1,width:x="100%",height:g="100%",className:p,wrapperProps:w={},beforeMount:v=cd,onMount:y=cd,onChange:j,onValidate:N=cd}){let[b,T]=h.useState(!1),[S,A]=h.useState(!0),M=h.useRef(null),L=h.useRef(null),F=h.useRef(null),I=h.useRef(y),U=h.useRef(v),O=h.useRef(),k=h.useRef(r),C=nme(o),P=h.useRef(!1),R=h.useRef(!1);a$(()=>{let _=n$.init();return _.then(B=>(M.current=B)&&A(!1)).catch(B=>B?.type!=="cancelation"&&console.error("Monaco initialization: error:",B)),()=>L.current?H():_.cancel()}),rn(()=>{let _=el(M.current,e||r||"",t||a||"",o||n||"");_!==L.current?.getModel()&&(m&&Kh.set(C,L.current?.saveViewState()),L.current?.setModel(_),m&&L.current?.restoreViewState(Kh.get(o)))},[o],b),rn(()=>{L.current?.updateOptions(d)},[d],b),rn(()=>{!L.current||r===void 0||(L.current.getOption(M.current.editor.EditorOption.readOnly)?L.current.setValue(r):r!==L.current.getValue()&&(R.current=!0,L.current.executeEdits("",[{range:L.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),L.current.pushUndoStop(),R.current=!1))},[r],b),rn(()=>{let _=L.current?.getModel();_&&a&&M.current?.editor.setModelLanguage(_,a)},[a],b),rn(()=>{l!==void 0&&L.current?.revealLine(l)},[l],b),rn(()=>{M.current?.editor.setTheme(i)},[i],b);let $=h.useCallback(()=>{if(!(!F.current||!M.current)&&!P.current){U.current(M.current);let _=o||n,B=el(M.current,r||e||"",t||a||"",_||"");L.current=M.current?.editor.create(F.current,{model:B,automaticLayout:!0,...d},u),m&&L.current.restoreViewState(Kh.get(_)),M.current.editor.setTheme(i),l!==void 0&&L.current.revealLine(l),T(!0),P.current=!0}},[e,t,n,r,a,o,d,u,m,i,l]);h.useEffect(()=>{b&&I.current(L.current,M.current)},[b]),h.useEffect(()=>{!S&&!b&&$()},[S,b,$]),k.current=r,h.useEffect(()=>{b&&j&&(O.current?.dispose(),O.current=L.current?.onDidChangeModelContent(_=>{R.current||j(L.current.getValue(),_)}))},[b,j]),h.useEffect(()=>{if(b){let _=M.current.editor.onDidChangeMarkers(B=>{let W=L.current.getModel()?.uri;if(W&&B.find(te=>te.path===W.path)){let te=M.current.editor.getModelMarkers({resource:W});N?.(te)}});return()=>{_?.dispose()}}return()=>{}},[b,N]);function H(){O.current?.dispose(),f?m&&Kh.set(o,L.current.saveViewState()):L.current.getModel()?.dispose(),L.current.dispose()}return Tt.createElement(r$,{width:x,height:g,isEditorReady:b,loading:c,_ref:F,className:p,wrapperProps:w})}var ame=rme,ome=h.memo(ame),ime=ome;function lme({functionName:e,code:t,language:n,onChange:r,onSave:a,onCompile:o,onTest:i,readOnly:l=!1,errors:c=[],warnings:d=[],isCompiling:u=!1,isSaving:m=!1}){const f=x=>{switch(x){case"JAVA":return"java";case"JAVASCRIPT":return"javascript";case"GROOVY":return"java";case"PYTHON":return"python";default:return"plaintext"}};return s.jsxs(q,{className:"h-full flex flex-col",children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-5 w-5"}),e]}),s.jsxs("div",{className:"flex gap-2",children:[n==="JAVA"&&o&&s.jsx(z,{variant:"outline",size:"sm",onClick:o,disabled:u||l,children:u?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Compiling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Compile"]})}),i&&s.jsxs(z,{variant:"outline",size:"sm",onClick:i,disabled:l||c.length>0,children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"Test"]}),a&&s.jsx(z,{size:"sm",onClick:a,disabled:m||l||c.length>0,children:m?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})}),s.jsxs(Z,{className:"flex-1 flex flex-col p-0",children:[c.length>0&&s.jsxs(et,{variant:"destructive",className:"mx-6 mb-3",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsxs(tt,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Compilation Errors:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:c.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),d.length>0&&s.jsxs(et,{className:"mx-6 mb-3",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsxs(tt,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Warnings:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:d.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),c.length===0&&d.length===0&&u===!1&&n==="JAVA"&&s.jsxs(et,{className:"mx-6 mb-3 border-green-200 bg-green-50 text-success",children:[s.jsx(Md,{className:"h-4 w-4"}),s.jsx(tt,{children:"Code compiled successfully!"})]}),s.jsx("div",{className:"flex-1 border-t",children:s.jsx(ime,{height:"100%",language:f(n),value:t,onChange:x=>r(x||""),options:{readOnly:l,minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderLineHighlight:"all",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,wordWrap:"on",theme:"vs-light"}})})]})]})}function TT(e){try{const t=e.match(/^(\w+)\s*\((.*)\)$/);if(!t)return null;const n=t[1],r=t[2].trim();if(!r)return{functionName:n,parameters:[]};const a=[];let o="",i=0;for(let l=0;l<r.length;l++){const c=r[l];if(c==="("?i++:c===")"&&i--,c===","&&i===0){const d=PT(o.trim());d&&a.push(d),o=""}else o+=c}if(o.trim()){const l=PT(o.trim());l&&a.push(l)}return{functionName:n,parameters:a}}catch(t){return console.error("Error parsing function signature:",t),null}}function PT(e){if(!e)return null;const t=e.match(/^(\w+)\s*:\s*(\w+)$/);if(t){const[,n,r]=t;return{name:n,type:cme(r),required:!0}}return{name:e,type:"any",required:!0}}function cme(e){return{string:"string",number:"number",boolean:"boolean",array:"array",bool:"boolean",int:"number",float:"number",double:"number",text:"string",str:"string"}[e.toLowerCase()]||"any"}function AT(e,t){return t.map(n=>{const r=n.name;return e.includes(`${r} +`)||e.includes(`${r} -`)||e.includes(`${r} *`)||e.includes(`${r} /`)||e.includes("Math.")&&e.includes(r)?{...n,type:"number"}:e.includes(`${r}.length`)||e.includes(`${r}.substring`)||e.includes(`${r}.indexOf`)||e.includes(`${r}.toUpperCase`)||e.includes(`${r}.toLowerCase`)?{...n,type:"string"}:e.includes(`!${r}`)||e.includes(`${r} &&`)||e.includes(`${r} ||`)||e.includes(`${r} ?`)?{...n,type:"boolean"}:e.includes(`${r}.length`)||e.includes(`${r}[`)||e.includes(`${r}.map`)||e.includes(`${r}.filter`)||e.includes(`${r}.reduce`)?{...n,type:"array"}:n})}const dme=[{value:"string",label:"String"},{value:"number",label:"Number (int/double/float)"},{value:"boolean",label:"Boolean"},{value:"array",label:"Array/List"},{value:"any",label:"Any (Object)"}];function ume({parameters:e,onChange:t,readOnly:n=!1}){const r=()=>{const l={name:`param${e.length+1}`,type:"string",required:!0};t([...e,l])},a=l=>{const c=e.filter((d,u)=>u!==l);t(c)},o=(l,c,d)=>{const u=[...e];u[l]={...u[l],[c]:d},t(u)},i=()=>e.length===0?"functionName()":`functionName(${e.map(c=>`${c.type} ${c.name}`).join(", ")})`;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"Function Parameters"}),!n&&s.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:r,className:"h-8",children:[s.jsx(ns,{className:"h-3 w-3 mr-1"}),"Add Parameter"]})]}),e.length===0?s.jsx(q,{className:"p-4 border-dashed",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'No parameters defined. Click "Add Parameter" to add one.'})}):s.jsx("div",{className:"space-y-2",children:e.map((l,c)=>s.jsxs(q,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Parameter Name"}),s.jsx(V,{value:l.name,onChange:d=>o(c,"name",d.target.value),placeholder:"paramName",disabled:n,className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Java Type"}),s.jsxs(K,{value:l.type,onValueChange:d=>o(c,"type",d),disabled:n,children:[s.jsx(Y,{className:"h-8 text-sm",children:s.jsx(G,{})}),s.jsx(X,{children:dme.map(d=>s.jsx(D,{value:d.value,className:"text-sm",children:d.label},d.value))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Required"}),s.jsxs(K,{value:l.required?"true":"false",onValueChange:d=>o(c,"required",d==="true"),disabled:n,children:[s.jsx(Y,{className:"h-8 text-sm",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"true",className:"text-sm",children:"Required"}),s.jsx(D,{value:"false",className:"text-sm",children:"Optional"})]})]})]})]}),!n&&s.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(vt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(V,{value:l.description||"",onChange:d=>o(c,"description",d.target.value),placeholder:"Parameter description (optional)",disabled:n,className:"h-8 text-sm"})})]},c))}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsx(E,{className:"text-xs text-muted-foreground mb-1 block",children:"Generated Signature Preview"}),s.jsx("code",{className:"text-sm font-mono",children:i()})]})]})}function hme({functionId:e,functionName:t,parameters:n,onTest:r}){const[a,o]=h.useState({}),[i,l]=h.useState(!1),[c,d]=h.useState(null),u=(p,w)=>{o(v=>({...v,[p]:w}))},m=(p,w)=>{if(!p&&w!=="String")return null;try{switch(w){case"int":case"Integer":return parseInt(p,10);case"long":case"Long":return parseInt(p,10);case"double":case"Double":return parseFloat(p);case"float":case"Float":return parseFloat(p);case"boolean":case"Boolean":return p.toLowerCase()==="true";case"List":try{const v=JSON.parse(p);return Array.isArray(v)?v:[p]}catch{return p.split(",").map(v=>v.trim())}case"Map":case"Object":try{return JSON.parse(p)}catch{return p}default:return p}}catch(v){return console.error(`Error parsing ${w} value:`,v),p}},f=async()=>{l(!0),d(null);try{const p={};for(const j of n){const N=a[j.name]||"";p[j.name]=m(N,j.type)}const w=Date.now(),v=await r(e,p),y=Date.now()-w;d({...v,executionTime:y})}catch(p){d({success:!1,error:p instanceof Error?p.message:"Test execution failed"})}finally{l(!1)}},x=p=>{switch(p.type){case"number":return"e.g., 42 or 3.14";case"boolean":return"true or false";case"array":return"e.g., [1, 2, 3] or 1,2,3";case"any":return'e.g., {"key": "value"} or any value';case"string":default:return"Enter value..."}},g=p=>{if(p==null)return"null";if(typeof p=="object")try{return JSON.stringify(p,null,2)}catch{return String(p)}return String(p)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Test Inputs"}),n.length===0?s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(tt,{children:'This function has no parameters. Click "Run Test" to execute it.'})]}):s.jsx("div",{className:"space-y-3",children:n.map(p=>s.jsx(q,{className:"p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs(E,{className:"text-sm",children:[p.name,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-mono bg-muted px-1 py-0.5 rounded",children:p.type}),p.description&&s.jsx("span",{children:p.description})]})]})}),s.jsx(V,{value:a[p.name]||"",onChange:w=>u(p.name,w.target.value),placeholder:x(p),className:"font-mono text-sm"})]})},p.name))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(z,{onClick:f,disabled:i,className:"w-full sm:w-auto",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Test..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"Run Test"]})})}),c&&s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:c.success?s.jsxs(s.Fragment,{children:[s.jsx(Ns,{className:"h-5 w-5 text-success"}),s.jsx("span",{className:"font-semibold text-success",children:"Test Passed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(En,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"font-semibold text-destructive",children:"Test Failed"})]})}),c.executionTime!==void 0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.executionTime,"ms"]})]}),c.success&&c.output!==void 0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"Output"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:s.jsx("code",{children:g(c.output)})})]}),!c.success&&c.error&&s.jsxs(et,{variant:"destructive",children:[s.jsx(En,{className:"h-4 w-4"}),s.jsx(tt,{className:"font-mono text-sm",children:c.error})]})]})})]})}function mme({open:e,onOpenChange:t,function:n,mode:r,onSave:a,onCompile:o,onTest:i,isBuiltIn:l=!1,developmentMode:c=!1}){const[d,u]=h.useState({name:"",description:"",category:"general",language:"JAVA",functionSignature:"",functionBody:"",isSafe:!0,isPublic:!0,performanceClass:"NORMAL"}),[m,f]=h.useState([]),[x,g]=h.useState([]),[p,w]=h.useState([]),[v,y]=h.useState(!1),[j,N]=h.useState(!1),[b,T]=h.useState(!1),[S,A]=h.useState([]);h.useEffect(()=>{if(n){if(u({name:n.name||"",description:n.description||"",category:n.category||"general",language:n.language||"JAVA",functionSignature:n.functionSignature||"",functionBody:n.functionBody||"",isSafe:n.isSafe??!0,isPublic:n.isPublic??!0,performanceClass:n.performanceClass||"NORMAL"}),T(!1),g([]),w([]),n.parameters)try{const k=typeof n.parameters=="string"?JSON.parse(n.parameters):n.parameters;f(k),A(k)}catch(k){if(console.error("Failed to parse parameters:",k),n.functionSignature){const C=TT(n.functionSignature);if(C){const P=AT(n.functionBody||"",C.parameters);f(P),A(P)}}}else if(n.functionSignature){const k=TT(n.functionSignature);if(k){const C=AT(n.functionBody||"",k.parameters);f(C),A(C)}}}},[n]);const M=async()=>{if(!(!o||d.language!=="JAVA")){y(!0),g([]),w([]);try{const k=await o(d.functionBody);k.success?(T(!0),w(k.warnings||[])):g(k.errors||["Compilation failed"])}catch(k){g(["Failed to compile: "+k])}finally{y(!1)}}},L=async()=>{if(a){if(d.language==="JAVA"&&!b&&r!=="view"){g(["Please compile the Java code before saving"]);return}N(!0);try{const k=O(d.name,m),C={...d,functionSignature:k,parameters:m};await a(C),t(!1)}catch(k){console.error("Failed to save:",k)}finally{N(!1)}}},F=r==="edit"||r==="create",I=F&&c,U=k=>{f(k),A(k),T(!1)},O=(k,C)=>{if(C.length===0)return`${k}()`;const P=C.map(R=>`${R.type} ${R.name}`).join(", ");return`${k}(${P})`};return s.jsx(mt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"max-w-6xl max-h-[90vh] p-0",children:[s.jsxs(pt,{className:"px-6 pt-6",children:[s.jsx(ft,{children:r==="create"?"Create New Function":r==="edit"?"Edit Function":"View Function"}),s.jsx(Ln,{children:r==="create"?"Create a new transformation function":r==="edit"?"Modify the function implementation":"View function details and implementation"})]}),s.jsxs(Ge,{defaultValue:"details",className:"flex-1",children:[s.jsxs(Ke,{className:"mx-6",children:[s.jsx(me,{value:"details",children:"Details"}),s.jsx(me,{value:"code",children:"Code"}),n&&s.jsx(me,{value:"test",children:"Test"})]}),s.jsxs(sr,{className:"h-[60vh]",children:[s.jsx(he,{value:"details",className:"px-6 space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"name",children:"Function Name"}),s.jsx(V,{id:"name",value:d.name,onChange:k=>u({...d,name:k.target.value}),readOnly:!F||l&&r==="edit",placeholder:"e.g., calculateTax"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"category",children:"Category"}),s.jsxs(K,{value:d.category,onValueChange:k=>u({...d,category:k}),disabled:!F,children:[s.jsx(Y,{id:"category",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"math",children:"Math"}),s.jsx(D,{value:"text",children:"Text"}),s.jsx(D,{value:"date",children:"Date"}),s.jsx(D,{value:"boolean",children:"Boolean"}),s.jsx(D,{value:"conversion",children:"Conversion"}),s.jsx(D,{value:"node",children:"Node"}),s.jsx(D,{value:"constants",children:"Constants"}),s.jsx(D,{value:"general",children:"General"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(ke,{id:"description",value:d.description,onChange:k=>u({...d,description:k.target.value}),readOnly:!F,placeholder:"Describe what this function does...",rows:3})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ume,{parameters:m,onChange:U,readOnly:!F||l&&!c}),F&&r==="create"&&s.jsxs(et,{children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx(tt,{className:"text-xs",children:"Define your function parameters above. The signature will be generated automatically."})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"language",children:"Language"}),s.jsxs(K,{value:d.language,onValueChange:k=>{u({...d,language:k}),T(!1),g([]),w([])},disabled:!F||l&&r==="edit",children:[s.jsx(Y,{id:"language",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"JAVA",children:"Java"}),!l&&s.jsxs(s.Fragment,{children:[s.jsx(D,{value:"GROOVY",children:"Groovy"}),s.jsx(D,{value:"JAVASCRIPT",children:"JavaScript"}),s.jsx(D,{value:"PYTHON",children:"Python"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"performance",children:"Performance Class"}),s.jsxs(K,{value:d.performanceClass,onValueChange:k=>u({...d,performanceClass:k}),disabled:!F,children:[s.jsx(Y,{id:"performance",children:s.jsx(G,{})}),s.jsxs(X,{children:[s.jsx(D,{value:"FAST",children:"Fast"}),s.jsx(D,{value:"NORMAL",children:"Normal"}),s.jsx(D,{value:"SLOW",children:"Slow"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Flags"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[d.isPublic&&s.jsx(ce,{variant:"secondary",children:"Public"}),d.isSafe&&s.jsx(ce,{variant:"secondary",children:"Safe"}),l&&s.jsx(ce,{children:"Built-in"})]})]})]})]})}),s.jsx(he,{value:"code",className:"h-full",children:s.jsx("div",{className:"h-[50vh] px-6",children:s.jsx(lme,{functionName:d.name,code:d.functionBody,language:d.language,onChange:k=>{u({...d,functionBody:k}),T(!1)},onCompile:d.language==="JAVA"?M:void 0,readOnly:!F,errors:x,warnings:p,isCompiling:v})})}),s.jsx(he,{value:"test",className:"px-6",children:s.jsx(hme,{functionId:n?.functionId||"",functionName:d.name,parameters:m,onTest:i||(async()=>({success:!1,error:"Test handler not provided"}))})})]})]}),s.jsxs(aa,{className:"px-6 pb-6",children:[s.jsx(z,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),I&&s.jsx(z,{onClick:L,disabled:j||x.length>0,children:j?s.jsxs(s.Fragment,{children:[s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Function"})]})]})})}const pme=()=>{const[e,t]=h.useState(""),[n,r]=h.useState("all"),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState("view"),u=sb(),{data:m}=Ij({queryKey:["development-mode"],queryFn:async()=>await rt.get("/development/functions/development-mode")}),{data:f,isLoading:x}=Ij({queryKey:["development-functions"],queryFn:async()=>await rt.get("/development/functions")}),g=async C=>await rt.get(`/development/functions/${C}`),p=Cm({mutationFn:async C=>await rt.post("/development/functions",C),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function created successfully"}),o(!1)},onError:C=>{toast({title:"Error",description:C.response?.data?.message||"Failed to create function",variant:"destructive"})}}),w=Cm({mutationFn:async({functionId:C,data:P})=>await rt.put(`/development/functions/${C}`,P),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function updated successfully"}),o(!1)},onError:C=>{toast({title:"Error",description:C.response?.data?.message||"Failed to update function",variant:"destructive"})}}),v=Cm({mutationFn:async C=>{await rt.delete(`/development/functions/${C}`)},onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function deleted successfully"})},onError:C=>{toast({title:"Error",description:C.response?.data?.message||"Failed to delete function",variant:"destructive"})}}),y=async C=>{try{return await rt.post("/development/functions/compile",{functionName:i?.name||"TestFunction",code:C})}catch(P){throw P.response?.data||P}},j=async(C,P)=>{try{return await rt.post(`/development/functions/${C}/test`,P)}catch(R){throw R.response?.data||R}},N=f?.builtInFunctions.filter(C=>{const P=C.name.toLowerCase().includes(e.toLowerCase())||C.description.toLowerCase().includes(e.toLowerCase()),R=n==="all"||C.category===n;return P&&R})||[],b=f?.customFunctions.content.filter(C=>{const P=C.name.toLowerCase().includes(e.toLowerCase())||C.description.toLowerCase().includes(e.toLowerCase()),R=n==="all"||C.category===n;return P&&R})||[],T=["all",...new Set(f?.builtInFunctions.map(C=>C.category)||[])],S=m?.developmentMode||!1,A=()=>{l(null),d("create"),o(!0)},M=async(C,P=!1)=>{try{const R=await g(C);l(R),d("view"),o(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},L=async(C,P=!1)=>{try{const R=await g(C);l(R),d("edit"),o(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},F=async C=>{c==="create"?p.mutate(C):c==="edit"&&i&&w.mutate({functionId:i.functionId,data:C})},I=async C=>{confirm("Are you sure you want to delete this function?")&&v.mutate(C)},U=C=>{switch(C){case"FAST":return s.jsx(Pn,{className:"h-3 w-3 text-green-500"});case"SLOW":return s.jsx(Rs,{className:"h-3 w-3 text-orange-500"});default:return s.jsx(Md,{className:"h-3 w-3 text-blue-500"})}},O=async C=>{try{return await rt.get(`/development/functions/built-in/${C}`)}catch(P){return console.error("Error finding built-in function:",P),null}},k=async C=>{try{const P=await O(C.name);P?(l(P),d(S?"edit":"view"),o(!0)):toast({title:"Error",description:"Function details not found",variant:"destructive"})}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}};return x?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(on,{className:"h-8 w-8"}),"Development Functions"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and test transformation functions for visual flow and orchestration editors"})]}),S&&s.jsxs(z,{className:"gap-2",onClick:A,children:[s.jsx(ns,{className:"h-4 w-4"}),"Create Function"]})]}),!S&&s.jsxs(et,{children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(vi,{children:"Read-Only Mode"}),s.jsxs(tt,{children:["Function creation and editing is only available in development mode. Current profile: ",m?.developmentMode===!1?"Production/QA":"Unknown"]})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Search Functions"})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(V,{placeholder:"Search by name or description...",value:e,onChange:C=>t(C.target.value),className:"pl-10"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:T.map(C=>s.jsx(ce,{variant:n===C?"default":"outline",className:"cursor-pointer",onClick:()=>r(C),children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]})]}),s.jsxs(Ge,{defaultValue:"builtin",className:"space-y-4",children:[s.jsxs(Ke,{children:[s.jsxs(me,{value:"builtin",children:["Built-in Functions (",N.length,")"]}),s.jsxs(me,{value:"custom",children:["Custom Functions (",b.length,")"]})]}),s.jsx(he,{value:"builtin",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Built-in Functions"}),s.jsx(xe,{children:"Pre-configured functions available in all environments"})]}),s.jsx(Z,{children:s.jsx(sr,{className:"h-[600px]",children:s.jsx("div",{className:"space-y-2",children:N.map((C,P)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>k(C),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:C.name}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:C.category}),s.jsx(ce,{className:"text-xs",children:"Built-in"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:C.signature})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(z,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),k(C)},children:S?s.jsx(sa,{className:"h-4 w-4"}):s.jsx(ta,{className:"h-4 w-4"})})})]})},`${C.category}-${C.name}`))})})})]})}),s.jsx(he,{value:"custom",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Custom Functions"}),s.jsx(xe,{children:"User-defined functions for specialized transformations"})]}),s.jsx(Z,{children:s.jsx(sr,{className:"h-[600px]",children:s.jsxs("div",{className:"space-y-2",children:[b.filter(C=>!C.isBuiltIn).map(C=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>M(C.functionId),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:C.name}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:C.language}),s.jsxs("div",{className:"flex items-center gap-1",children:[U(C.performanceClass),s.jsx("span",{className:"text-xs text-muted-foreground",children:C.performanceClass})]}),C.isSafe?s.jsxs(ce,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(Md,{className:"h-3 w-3"}),"Safe"]}):s.jsxs(ce,{variant:"destructive",className:"text-xs gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),"Unsafe"]}),C.isPublic?s.jsxs(ce,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(c8,{className:"h-3 w-3"}),"Public"]}):s.jsxs(ce,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(Za,{className:"h-3 w-3"}),"Private"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:C.functionSignature}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Version ",C.version,"  Created by ",C.createdBy]})]}),S&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),M(C.functionId)},children:s.jsx(ta,{className:"h-4 w-4"})}),s.jsx(z,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),L(C.functionId)},children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsx(z,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),I(C.functionId)},children:s.jsx(or,{className:"h-4 w-4"})})]})]})},C.functionId)),b.filter(C=>!C.isBuiltIn).length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No custom functions found"})]})})})]})})]}),s.jsx(mme,{open:a,onOpenChange:o,function:i,mode:c,onSave:F,onCompile:y,onTest:j,isBuiltIn:i?.isBuiltIn||!1,developmentMode:S})]})};class fme{async deployFlow(t){try{return await J.post(`/flows/${t}/deployment/deploy`)}catch(n){let r="Failed to deploy flow";return n.message?r=n.message:n.response?.data?.message?r=n.response.data.message:n.response?.data?.error?r=n.response.data.error:typeof n=="string"&&(r=n),{success:!1,error:r}}}async undeployFlow(t){try{return{success:(await J.post(`/flows/${t}/deployment/undeploy`)).success}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to undeploy flow"}}}async getDeploymentInfo(t){try{return await J.get(`/flows/${t}/deployment`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch deployment info"}}}}const Hj=new fme;function xme({flowId:e,flowName:t,open:n,onOpenChange:r}){const[a,o]=h.useState(!1),[i,l]=h.useState(null),{toast:c}=Be();h.useEffect(()=>{n&&e&&d()},[n,e]);const d=async()=>{if(e){o(!0);try{const f=await Hj.getDeploymentInfo(e);f.success&&f.data?l(f.data):c({variant:"destructive",title:"Error",description:f.error||"Failed to fetch deployment information"})}catch{c({variant:"destructive",title:"Error",description:"Failed to fetch deployment information"})}finally{o(!1)}}},u=(f,x)=>{navigator.clipboard.writeText(f),c({title:"Copied!",description:`${x} copied to clipboard`})},m=f=>new Date(f).toLocaleString();return n?s.jsx(mt,{open:n,onOpenChange:r,children:s.jsxs(ut,{className:"max-w-2xl",children:[s.jsxs(pt,{children:[s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(vf,{className:"h-5 w-5"}),"Deployment Details"]}),s.jsx(Ln,{children:t?`Deployment information for ${t}`:"Flow deployment information"})]}),a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(ht,{className:"h-8 w-8 animate-spin"})}):i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(gr,{className:"h-4 w-4"}),"Primary Endpoint"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.endpoint}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>u(i.endpoint,"Endpoint"),children:s.jsx(xr,{className:"h-4 w-4"})}),i.endpoint.startsWith("http")&&s.jsx(z,{size:"sm",variant:"outline",onClick:()=>window.open(i.endpoint,"_blank"),children:s.jsx(EC,{className:"h-4 w-4"})})]})]}),i.metadata?.wsdlUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(gu,{className:"h-4 w-4"}),"WSDL URL (Planned)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.wsdlUrl}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.wsdlUrl,"WSDL URL"),children:s.jsx(xr,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: The actual SOAP endpoint implementation is pending. This URL shows where the WSDL will be available once the endpoint is fully deployed."})]})]}),i.metadata?.apiDocsUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"API Documentation"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.apiDocsUrl}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.apiDocsUrl,"API Docs URL"),children:s.jsx(xr,{className:"h-4 w-4"})}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>window.open(i.metadata.apiDocsUrl,"_blank"),children:s.jsx(EC,{className:"h-4 w-4"})})]})]}),i.metadata?.openApiUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"OpenAPI Specification"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.openApiUrl}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.openApiUrl,"OpenAPI URL"),children:s.jsx(xr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Deployment Metadata"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Adapter Type:"}),s.jsx(ce,{variant:"outline",className:"ml-2",children:i.metadata?.adapterType||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Adapter Mode:"}),s.jsx(ce,{variant:"outline",className:"ml-2",children:i.metadata?.adapterMode||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Deployed At:"}),s.jsx("span",{className:"ml-2",children:m(i.deployedAt)})]}),i.deployedBy&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Deployed By:"}),s.jsx("span",{className:"ml-2",children:i.deployedBy})]})]})]}),i.metadata&&Object.keys(i.metadata).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Additional Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[i.metadata.httpMethods&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"HTTP Methods:"}),s.jsx("span",{className:"ml-2",children:i.metadata.httpMethods})]}),i.metadata.contentType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Content Type:"}),s.jsx("span",{className:"ml-2",children:i.metadata.contentType})]}),i.metadata.soapVersion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"SOAP Version:"}),s.jsx("span",{className:"ml-2",children:i.metadata.soapVersion})]}),i.metadata.pollingEnabled!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Polling:"}),s.jsx("span",{className:"ml-2",children:i.metadata.pollingEnabled?"Enabled":"Disabled"})]}),i.metadata.filePattern&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"File Pattern:"}),s.jsx("span",{className:"ml-2",children:i.metadata.filePattern})]})]})]})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No deployment information available"})]})}):null}function gme(){const e=Ls(),{toast:t}=Be(),[n,r]=h.useState([]),[a,o]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState(!1),[u,m]=h.useState(null),[f,x]=h.useState("all"),[g,p]=h.useState(null),[w,v]=h.useState(null),[y,j]=h.useState(!1);h.useEffect(()=>{N()},[]);const N=async()=>{try{o(!0);const k=await Vj.getFlows();if(k.success&&k.data){const C=Array.isArray(k.data)?k.data:k.data.flows||[];r(C)}}catch{t({variant:"destructive",title:"Error",description:"Failed to fetch interfaces"})}finally{o(!1)}},b=()=>{N(),t({title:"Success",description:"Interfaces refreshed"})},T=k=>{m(k),d(!0)},S=async()=>{if(u)try{const k=await Vj.deleteFlow(u.id);if(k.success)t({title:"Success",description:"Interface deleted successfully"}),N();else throw new Error(k.error||"Failed to delete interface")}catch(k){t({variant:"destructive",title:"Error",description:k instanceof Error?k.message:"Failed to delete interface"})}finally{d(!1),m(null)}},A=async k=>{try{p(k.id);const C=await Hj.deployFlow(k.id);if(C.success)t({title:"Success",description:`Interface "${k.name}" has been deployed successfully`}),N();else{let P=C.error||"Failed to deploy interface";P.includes("Bad Request")||P.includes("HTTP 400")?P="Deployment failed. Please ensure all required components (adapters, data structures) are properly configured.":P.includes("not found")||P.includes("HTTP 404")?P="Deployment failed. Some required components could not be found.":P.includes("already deployed")||P.includes("HTTP 409")?P="This interface is already deployed. Please undeploy it first before redeploying.":(P.includes("validation failed")||P.includes("already exists"))&&(P="Deployment failed due to validation error. Please check flow configuration and try again."),t({variant:"destructive",title:"Deployment Failed",description:P})}}catch{t({variant:"destructive",title:"Error",description:"An error occurred during deployment"})}finally{p(null)}},M=k=>{v(k),j(!0)},L=async k=>{try{p(k.id);const C=await Hj.undeployFlow(k.id);C.success?(t({title:"Success",description:`Interface "${k.name}" has been undeployed successfully`}),N()):t({variant:"destructive",title:"Undeploy Failed",description:C.error||"Failed to undeploy interface"})}catch{t({variant:"destructive",title:"Error",description:"An error occurred during undeployment"})}finally{p(null)}},I=(()=>{let k=n.filter(C=>C.name.toLowerCase().includes(i.toLowerCase())||C.description?.toLowerCase().includes(i.toLowerCase()));switch(f){case"undeployed":return k.filter(C=>C.status==="DEVELOPED_INACTIVE"||C.status==="DRAFT"||C.status==="INACTIVE");case"deployed":return k.filter(C=>C.status==="DEPLOYED_ACTIVE"||C.status==="ACTIVE");default:return k}})(),U=k=>{const C={DEPLOYED_ACTIVE:"bg-green-500",DRAFT:"bg-blue-500",INACTIVE:"bg-gray-500",ERROR:"bg-red-500",DEVELOPED_INACTIVE:"bg-yellow-500"};return s.jsx(ce,{className:`${C[k]||"bg-gray-500"} text-white`,children:k.replace("_"," ")})},O=k=>s.jsx(ce,{variant:"outline",children:k==="PASS_THROUGH"?"Direct Passthrough":k==="WITH_MAPPING"?"Mapping Required":"Orchestration"});return a?s.jsx("div",{className:"w-full p-6",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(ht,{className:"h-8 w-8 animate-spin"})})}):s.jsxs("div",{className:"w-full max-w-none p-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Interface Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage all your integration flows in one place"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{onClick:()=>e("/create-direct-mapping-flow"),children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),s.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Direct Mapping"]}),s.jsxs(z,{onClick:()=>e("/create-orchestration-flow"),variant:"outline",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),s.jsx(yu,{className:"h-4 w-4 mr-2"}),"Orchestration Flow"]})]})]}),s.jsxs(Ge,{value:f,onValueChange:x,className:"space-y-4",children:[s.jsxs(Ke,{className:"grid w-full grid-cols-3",children:[s.jsx(me,{value:"all",children:"All Interfaces"}),s.jsx(me,{value:"undeployed",children:"Undeployed"}),s.jsx(me,{value:"deployed",children:"Deployed"})]}),s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(fi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(Z,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(V,{placeholder:"Search by name...",value:i,onChange:k=>l(k.target.value),className:"pl-10"})]})})]}),s.jsx(he,{value:f,children:s.jsxs(q,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Fd,{className:"h-5 w-5"}),f==="all"&&`All Interfaces (${I.length})`,f==="undeployed"&&`Undeployed Interfaces (${I.length})`,f==="deployed"&&`Deployed Interfaces (${I.length})`]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(Z,{children:a?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading interfaces..."})}):I.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Nt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:i?"No interfaces found matching your search.":f==="deployed"?"No deployed interfaces found.":f==="undeployed"?"No undeployed interfaces found.":"No interfaces created yet."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ia,{children:[s.jsx(la,{children:s.jsxs(ms,{children:[s.jsx(Fe,{children:"Name"}),s.jsx(Fe,{children:"Type"}),s.jsx(Fe,{children:"Source  Target"}),s.jsx(Fe,{children:"Status"}),s.jsx(Fe,{children:"Created"}),s.jsx(Fe,{children:"Actions"})]})}),s.jsx(ca,{children:I.map(k=>{const C=g===k.id;return s.jsxs(ms,{children:[s.jsx(Oe,{className:"font-medium",children:k.name}),s.jsx(Oe,{children:O(k.mappingMode||"PASS_THROUGH")}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ce,{variant:"outline",children:k.sourceAdapterType||"Unknown"}),s.jsx("span",{children:""}),s.jsx(ce,{variant:"outline",children:k.targetAdapterType||"Unknown"})]})}),s.jsx(Oe,{children:U(k.status)}),s.jsx(Oe,{children:new Date(k.createdAt).toLocaleDateString()}),s.jsx(Oe,{children:s.jsxs(qf,{children:[s.jsx(Wf,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",children:s.jsx(Rk,{className:"h-4 w-4"})})}),s.jsxs(Pu,{align:"end",children:[s.jsx(eN,{children:"Actions"}),s.jsx(qr,{}),f==="undeployed"?s.jsxs(Gt,{onClick:()=>A(k),disabled:C||k.status==="DRAFT",children:[C?s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(AC,{className:"h-4 w-4 mr-2"}),"Deploy"]}):s.jsxs(s.Fragment,{children:[s.jsxs(Gt,{onClick:()=>e(`/flows/${k.id}/edit`),children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(Gt,{onClick:()=>e(`/flows/${k.id}/edit`),children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Edit"]}),f==="all"&&(k.status==="DEVELOPED_INACTIVE"||k.status==="DRAFT"||k.status==="INACTIVE")&&s.jsxs(s.Fragment,{children:[s.jsx(qr,{}),s.jsxs(Gt,{onClick:()=>A(k),disabled:C||k.status==="DRAFT",children:[C?s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(AC,{className:"h-4 w-4 mr-2"}),"Deploy"]})]}),(f==="deployed"||f==="all"&&k.status==="DEPLOYED_ACTIVE")&&s.jsxs(s.Fragment,{children:[s.jsx(qr,{}),s.jsxs(Gt,{onClick:()=>M(k),children:[s.jsx(ss,{className:"h-4 w-4 mr-2"}),"View Deployment Details"]}),s.jsxs(Gt,{onClick:()=>L(k),disabled:C,children:[C?s.jsx(ht,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(_k,{className:"h-4 w-4 mr-2"}),"Undeploy"]})]}),s.jsx(qr,{}),s.jsxs(Gt,{onClick:()=>T(k),className:"text-red-600",children:[s.jsx(or,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},k.id)})})]})})})]})})]}),s.jsx(mt,{open:c,onOpenChange:d,children:s.jsxs(ut,{children:[s.jsxs(pt,{children:[s.jsx(ft,{children:"Delete Interface"}),s.jsxs(Ln,{children:['Are you sure you want to delete "',u?.name,'"? This action cannot be undone.']})]}),s.jsxs(aa,{children:[s.jsx(z,{variant:"outline",onClick:()=>{d(!1),m(null)},children:"Cancel"}),s.jsx(z,{variant:"destructive",onClick:S,children:"Delete"})]})]})}),s.jsx(xme,{flowId:w?.id||null,flowName:w?.name,open:y,onOpenChange:j})]})}const vme=()=>{const e=Zs();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary",children:s.jsxs(q,{className:"w-full max-w-md shadow-elegant text-center",children:[s.jsxs(se,{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center",children:s.jsx(In,{className:"h-6 w-6 text-primary-foreground"})})}),s.jsx(ne,{className:"text-4xl font-bold text-foreground",children:"404"}),s.jsx(xe,{className:"text-xl",children:"Oops! Page not found"})]}),s.jsxs(Z,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(z,{asChild:!0,className:"bg-primary hover:opacity-90",children:s.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})};new N_({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,refetchOnWindowFocus:!1},mutations:{retry:!1}}});const yme=new N_,jme=({children:e})=>s.jsxs(wie,{client:yme,children:[e,!1]});class wme extends h.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n}),console.error("React Error Boundary triggered:",{error:t.message,stack:t.stack,componentStack:n.componentStack}),this.props.onError&&this.props.onError(t,n),console.error("Production error:",{error:t.toString(),componentStack:n.componentStack,stack:t.stack})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(q,{className:"w-full max-w-lg",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-6 w-6 text-destructive"}),s.jsx(ne,{children:"Something went wrong"})]}),s.jsx(xe,{children:"An unexpected error occurred. Don't worry, we've logged this issue."})]}),s.jsxs(Z,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{onClick:this.handleReset,variant:"default",children:[s.jsx(wt,{className:"mr-2 h-4 w-4"}),"Try Again"]}),s.jsxs(z,{onClick:this.handleGoHome,variant:"outline",children:[s.jsx(Ey,{className:"mr-2 h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}const Nme=5e3,i$=J_((e,t)=>({notifications:[],addNotification:n=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a={...n,id:r,duration:n.duration??Nme,dismissible:n.dismissible??!0};e(o=>({notifications:[...o.notifications,a]})),a.duration&&a.duration>0&&setTimeout(()=>{t().removeNotification(r)},a.duration)},removeNotification:n=>{e(r=>({notifications:r.notifications.filter(a=>a.id!==n)}))},clearNotifications:()=>{e({notifications:[]})}})),Nb=h.createContext({});function bb(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sb=typeof window<"u",l$=Sb?h.useLayoutEffect:h.useEffect,Px=h.createContext(null);function Cb(e,t){e.indexOf(t)===-1&&e.push(t)}function Eb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ua=(e,t,n)=>n>t?t:n<e?e:n;let qp=()=>{};const ha={},c$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function d$(e){return typeof e=="object"&&e!==null}const u$=e=>/^0[^.\s]+$/u.test(e);function Tb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dn=e=>e,bme=(e,t)=>n=>t(e(n)),sh=(...e)=>e.reduce(bme),nu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Pb{constructor(){this.subscriptions=[]}add(t){return Cb(this.subscriptions,t),()=>Eb(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br=e=>e*1e3,Sr=e=>e/1e3;function h$(e,t){return t?e*(1e3/t):0}const m$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Sme=1e-7,Cme=12;function Eme(e,t,n,r,a){let o,i,l=0;do i=t+(n-t)/2,o=m$(i,r,a)-e,o>0?n=i:t=i;while(Math.abs(o)>Sme&&++l<Cme);return i}function nh(e,t,n,r){if(e===t&&n===r)return Dn;const a=o=>Eme(o,0,1,e,n);return o=>o===0||o===1?o:m$(a(o),t,r)}const p$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,f$=e=>t=>1-e(1-t),x$=nh(.33,1.53,.69,.99),Ab=f$(x$),g$=p$(Ab),v$=e=>(e*=2)<1?.5*Ab(e):.5*(2-Math.pow(2,-10*(e-1))),kb=e=>1-Math.sin(Math.acos(e)),y$=f$(kb),j$=p$(kb),Tme=nh(.42,0,1,1),Pme=nh(0,0,.58,1),w$=nh(.42,0,.58,1),Ame=e=>Array.isArray(e)&&typeof e[0]!="number",N$=e=>Array.isArray(e)&&typeof e[0]=="number",kT={linear:Dn,easeIn:Tme,easeInOut:w$,easeOut:Pme,circIn:kb,circInOut:j$,circOut:y$,backIn:Ab,backInOut:g$,backOut:x$,anticipate:v$},kme=e=>typeof e=="string",DT=e=>{if(N$(e)){qp(e.length===4);const[t,n,r,a]=e;return nh(t,n,r,a)}else if(kme(e))return qp(kT[e]!==void 0),kT[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],MT={value:null,addProjectionMetrics:null};function Dme(e,t){let n=new Set,r=new Set,a=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){i.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,f=!1,x=!1)=>{const p=x&&a?n:r;return f&&i.add(m),p.has(m)||p.add(m),m},cancel:m=>{r.delete(m),i.delete(m)},process:m=>{if(l=m,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&MT.value&&MT.value.frameloop[t].push(c),c=0,n.clear(),a=!1,o&&(o=!1,u.process(m))}};return u}const Mme=40;function b$(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=Gh.reduce((j,N)=>(j[N]=Dme(o,t?N:void 0),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:f,render:x,postRender:g}=i,p=()=>{const j=ha.useManualTiming?a.timestamp:performance.now();n=!1,ha.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,Mme),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),f.process(a),x.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},w=()=>{n=!0,r=!0,a.isProcessing||e(p)};return{schedule:Gh.reduce((j,N)=>{const b=i[N];return j[N]=(T,S=!1,A=!1)=>(n||w(),b.schedule(T,S,A)),j},{}),cancel:j=>{for(let N=0;N<Gh.length;N++)i[Gh[N]].cancel(j)},state:a,steps:i}}const{schedule:At,cancel:oo,state:us,steps:dv}=b$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let Pm;function Rme(){Pm=void 0}const zs={now:()=>(Pm===void 0&&zs.set(us.isProcessing||ha.useManualTiming?us.timestamp:performance.now()),Pm),set:e=>{Pm=e,queueMicrotask(Rme)}},S$=e=>t=>typeof t=="string"&&t.startsWith(e),Db=S$("--"),Fme=S$("var(--"),Mb=e=>Fme(e)?Ome.test(e.split("/*")[0].trim()):!1,Ome=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ru={...gc,transform:e=>ua(0,1,e)},Jh={...gc,default:1},dd=e=>Math.round(e*1e5)/1e5,Rb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ime(e){return e==null}const Lme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fb=(e,t)=>n=>!!(typeof n=="string"&&Lme.test(n)&&n.startsWith(e)||t&&!Ime(n)&&Object.prototype.hasOwnProperty.call(n,t)),C$=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,o,i,l]=r.match(Rb);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},_me=e=>ua(0,255,e),uv={...gc,transform:e=>Math.round(_me(e))},Oo={test:Fb("rgb","red"),parse:C$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uv.transform(e)+", "+uv.transform(t)+", "+uv.transform(n)+", "+dd(ru.transform(r))+")"};function $me(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const zj={test:Fb("#"),parse:$me,transform:Oo.transform},rh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pa=rh("deg"),Cr=rh("%"),Ie=rh("px"),Vme=rh("vh"),Ume=rh("vw"),RT={...Cr,parse:e=>Cr.parse(e)/100,transform:e=>Cr.transform(e*100)},tl={test:Fb("hsl","hue"),parse:C$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cr.transform(dd(t))+", "+Cr.transform(dd(n))+", "+dd(ru.transform(r))+")"},Kt={test:e=>Oo.test(e)||zj.test(e)||tl.test(e),parse:e=>Oo.test(e)?Oo.parse(e):tl.test(e)?tl.parse(e):zj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Oo.transform(e):tl.transform(e),getAnimatableNone:e=>{const t=Kt.parse(e);return t.alpha=0,Kt.transform(t)}},Bme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hme(e){return isNaN(e)&&typeof e=="string"&&(e.match(Rb)?.length||0)+(e.match(Bme)?.length||0)>0}const E$="number",T$="color",zme="var",qme="var(",FT="${}",Wme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(Wme,c=>(Kt.test(c)?(r.color.push(o),a.push(T$),n.push(Kt.parse(c))):c.startsWith(qme)?(r.var.push(o),a.push(zme),n.push(c)):(r.number.push(o),a.push(E$),n.push(parseFloat(c))),++o,FT)).split(FT);return{values:n,split:l,indexes:r,types:a}}function P$(e){return au(e).values}function A$(e){const{split:t,types:n}=au(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const l=n[i];l===E$?o+=dd(a[i]):l===T$?o+=Kt.transform(a[i]):o+=a[i]}return o}}const Yme=e=>typeof e=="number"?0:Kt.test(e)?Kt.getAnimatableNone(e):e;function Xme(e){const t=P$(e);return A$(e)(t.map(Yme))}const io={test:Hme,parse:P$,createTransformer:A$,getAnimatableNone:Xme};function hv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,o=0,i=0;if(!t)a=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=hv(c,l,e+1/3),o=hv(c,l,e),i=hv(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Wp(e,t){return n=>n>0?t:e}const Rt=(e,t,n)=>e+(t-e)*n,mv=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Gme=[zj,Oo,tl],Jme=e=>Gme.find(t=>t.test(e));function OT(e){const t=Jme(e);if(!t)return!1;let n=t.parse(e);return t===tl&&(n=Kme(n)),n}const IT=(e,t)=>{const n=OT(e),r=OT(t);if(!n||!r)return Wp(e,t);const a={...n};return o=>(a.red=mv(n.red,r.red,o),a.green=mv(n.green,r.green,o),a.blue=mv(n.blue,r.blue,o),a.alpha=Rt(n.alpha,r.alpha,o),Oo.transform(a))},qj=new Set(["none","hidden"]);function Qme(e,t){return qj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Zme(e,t){return n=>Rt(e,t,n)}function Ob(e){return typeof e=="number"?Zme:typeof e=="string"?Mb(e)?Wp:Kt.test(e)?IT:spe:Array.isArray(e)?k$:typeof e=="object"?Kt.test(e)?IT:epe:Wp}function k$(e,t){const n=[...e],r=n.length,a=e.map((o,i)=>Ob(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=a[i](o);return n}}function epe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ob(e[a])(e[a],t[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function tpe(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][r[o]],l=e.values[i]??0;n[a]=l,r[o]++}return n}const spe=(e,t)=>{const n=io.createTransformer(t),r=au(e),a=au(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?qj.has(e)&&!a.values.length||qj.has(t)&&!r.values.length?Qme(e,t):sh(k$(tpe(r,a),a.values),n):Wp(e,t)};function D$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Rt(e,t,n):Ob(e)(e,t)}const npe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>At.update(t,n),stop:()=>oo(t),now:()=>us.isProcessing?us.timestamp:zs.now()}},M$=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yp=2e4;function Ib(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Yp;)t+=n,r=e.next(t);return t>=Yp?1/0:t}function rpe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Ib(r),Yp);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:Sr(a)}}const ape=5;function R$(e,t,n){const r=Math.max(t-ape,0);return h$(n-e(r),t-r)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pv=.001;function ope({duration:e=Ut.duration,bounce:t=Ut.bounce,velocity:n=Ut.velocity,mass:r=Ut.mass}){let a,o,i=1-t;i=ua(Ut.minDamping,Ut.maxDamping,i),e=ua(Ut.minDuration,Ut.maxDuration,Sr(e)),i<1?(a=d=>{const u=d*i,m=u*e,f=u-n,x=Wj(d,i),g=Math.exp(-m);return pv-f/x*g},o=d=>{const m=d*i*e,f=m*n+n,x=Math.pow(i,2)*Math.pow(d,2)*e,g=Math.exp(-m),p=Wj(Math.pow(d,2),i);return(-a(d)+pv>0?-1:1)*((f-x)*g)/p}):(a=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-pv+u*m},o=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=lpe(a,o,l);if(e=br(e),isNaN(c))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const ipe=12;function lpe(e,t,n){let r=n;for(let a=1;a<ipe;a++)r=r-e(r)/t(r);return r}function Wj(e,t){return e*Math.sqrt(1-t*t)}const cpe=["duration","bounce"],dpe=["stiffness","damping","mass"];function LT(e,t){return t.some(n=>e[n]!==void 0)}function upe(e){let t={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...e};if(!LT(e,dpe)&&LT(e,cpe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*ua(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ut.mass,stiffness:a,damping:o}}else{const n=ope(e);t={...t,...n,mass:Ut.mass},t.isResolvedFromDuration=!0}return t}function Xp(e=Ut.visualDuration,t=Ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:m,velocity:f,isResolvedFromDuration:x}=upe({...n,velocity:-Sr(n.velocity||0)}),g=f||0,p=d/(2*Math.sqrt(c*u)),w=i-o,v=Sr(Math.sqrt(c/u)),y=Math.abs(w)<5;r||(r=y?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=y?Ut.restDelta.granular:Ut.restDelta.default);let j;if(p<1){const b=Wj(v,p);j=T=>{const S=Math.exp(-p*v*T);return i-S*((g+p*v*w)/b*Math.sin(b*T)+w*Math.cos(b*T))}}else if(p===1)j=b=>i-Math.exp(-v*b)*(w+(g+v*w)*b);else{const b=v*Math.sqrt(p*p-1);j=T=>{const S=Math.exp(-p*v*T),A=Math.min(b*T,300);return i-S*((g+p*v*w)*Math.sinh(A)+b*w*Math.cosh(A))/b}}const N={calculatedDuration:x&&m||null,next:b=>{const T=j(b);if(x)l.done=b>=m;else{let S=b===0?g:0;p<1&&(S=b===0?br(g):R$(j,b,T));const A=Math.abs(S)<=r,M=Math.abs(i-T)<=a;l.done=A&&M}return l.value=l.done?i:T,l},toString:()=>{const b=Math.min(Ib(N),Yp),T=M$(S=>N.next(b*S).value,b,30);return b+"ms "+T},toTransition:()=>{}};return N}Xp.applyToOptions=e=>{const t=rpe(e,100,Xp);return e.ease=t.ease,e.duration=br(t.duration),e.type="keyframes",e};function Yj({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],f={done:!1,value:m},x=A=>l!==void 0&&A<l||c!==void 0&&A>c,g=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let p=n*t;const w=m+p,v=i===void 0?w:i(w);v!==w&&(p=v-m);const y=A=>-p*Math.exp(-A/r),j=A=>v+y(A),N=A=>{const M=y(A),L=j(A);f.done=Math.abs(M)<=d,f.value=f.done?v:L};let b,T;const S=A=>{x(f.value)&&(b=A,T=Xp({keyframes:[f.value,g(f.value)],velocity:R$(j,A,f.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:A=>{let M=!1;return!T&&b===void 0&&(M=!0,N(A),S(A)),b!==void 0&&A>=b?T.next(A-b):(!M&&N(A),f)}}}function hpe(e,t,n){const r=[],a=n||ha.mix||D$,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Dn:t;l=sh(c,l)}r.push(l)}return r}function mpe(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const o=e.length;if(qp(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=hpe(t,r,a),c=l.length,d=u=>{if(i&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const f=nu(e[m],e[m+1],u);return l[m](f)};return n?u=>d(ua(e[0],e[o-1],u)):d}function ppe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=nu(0,t,r);e.push(Rt(n,1,a))}}function fpe(e){const t=[0];return ppe(t,e.length-1),t}function xpe(e,t){return e.map(n=>n*t)}function gpe(e,t){return e.map(()=>t||w$).splice(0,e.length-1)}function ud({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Ame(r)?r.map(DT):DT(r),o={done:!1,value:t[0]},i=xpe(n&&n.length===t.length?n:fpe(t),e),l=mpe(i,t,{ease:Array.isArray(a)?a:gpe(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const vpe=e=>e!==null;function Lb(e,{repeat:t,repeatType:n="loop"},r,a=1){const o=e.filter(vpe),l=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const ype={decay:Yj,inertia:Yj,tween:ud,keyframes:ud,spring:Xp};function F$(e){typeof e.type=="string"&&(e.type=ype[e.type])}class _b{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const jpe=e=>e/100;class $b extends _b{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==zs.now()&&this.tick(zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;F$(t);const{type:n=ud,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=n||ud;c!==ud&&typeof l[0]!="number"&&(this.mixKeyframes=sh(jpe,D$(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=Ib(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:f,repeatDelay:x,type:g,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,N=r;if(m){const A=Math.min(this.currentTime,a)/l;let M=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&M--,M=Math.min(M,m+1),!!(M%2)&&(f==="reverse"?(L=1-L,x&&(L-=x/l)):f==="mirror"&&(N=i)),j=ua(0,1,L)*l}const b=y?{done:!1,value:u[0]}:N.next(j);o&&(b.value=o(b.value));let{done:T}=b;!y&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return S&&g!==Yj&&(b.value=Lb(u,this.options,w,this.speed)),p&&p(b.value),S&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Sr(this.calculatedDuration)}get time(){return Sr(this.currentTime)}set time(t){t=br(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Sr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=npe,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function wpe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Io=e=>e*180/Math.PI,Xj=e=>{const t=Io(Math.atan2(e[1],e[0]));return Kj(t)},Npe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xj,rotateZ:Xj,skewX:e=>Io(Math.atan(e[1])),skewY:e=>Io(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Kj=e=>(e=e%360,e<0&&(e+=360),e),_T=Xj,$T=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),VT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bpe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$T,scaleY:VT,scale:e=>($T(e)+VT(e))/2,rotateX:e=>Kj(Io(Math.atan2(e[6],e[5]))),rotateY:e=>Kj(Io(Math.atan2(-e[2],e[0]))),rotateZ:_T,rotate:_T,skewX:e=>Io(Math.atan(e[4])),skewY:e=>Io(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gj(e){return e.includes("scale")?1:0}function Jj(e,t){if(!e||e==="none")return Gj(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=bpe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Npe,a=l}if(!a)return Gj(t);const o=r[t],i=a[1].split(",").map(Cpe);return typeof o=="function"?o(i):i[o]}const Spe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jj(n,t)};function Cpe(e){return parseFloat(e.trim())}const vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(vc),UT=e=>e===gc||e===Ie,Epe=new Set(["x","y","z"]),Tpe=vc.filter(e=>!Epe.has(e));function Ppe(e){const t=[];return Tpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jj(t,"x"),y:(e,{transform:t})=>Jj(t,"y")};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const zo=new Set;let Qj=!1,Zj=!1,ew=!1;function O$(){if(Zj){const e=Array.from(zo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Ppe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,i])=>{r.getValue(o)?.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zj=!1,Qj=!1,zo.forEach(e=>e.complete(ew)),zo.clear()}function I$(){zo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zj=!0)})}function Ape(){ew=!0,I$(),O$(),ew=!1}class Vb{constructor(t,n,r,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(zo.add(this),Qj||(Qj=!0,At.read(I$),At.resolveKeyframes(O$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const o=a?.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&o===void 0&&a.set(t[0])}wpe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),zo.delete(this)}cancel(){this.state==="scheduled"&&(zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kpe=e=>e.startsWith("--");function Dpe(e,t,n){kpe(t)?e.style.setProperty(t,n):e.style[t]=n}const Mpe=Tb(()=>window.ScrollTimeline!==void 0),Rpe={};function Fpe(e,t){const n=Tb(e);return()=>Rpe[t]??n()}const L$=Fpe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,BT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function _$(e,t){if(e)return typeof e=="function"?L$()?M$(e,t):"ease-out":N$(e)?Gc(e):Array.isArray(e)?e.map(n=>_$(n,t)||BT.easeOut):BT[e]}function Ope(e,t,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const m=_$(l,a);Array.isArray(m)&&(u.easing=m);const f={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function $$(e){return typeof e=="function"&&"applyToOptions"in e}function Ipe({type:e,...t}){return $$(e)&&L$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Lpe extends _b{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,qp(typeof t.type!="string");const d=Ipe(t);this.animation=Ope(n,r,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=Lb(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Dpe(n,r,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Sr(Number(t))}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=br(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Mpe()?(this.animation.timeline=t,Dn):n(this)}}const V$={anticipate:v$,backInOut:g$,circInOut:j$};function _pe(e){return e in V$}function $pe(e){typeof e.ease=="string"&&_pe(e.ease)&&(e.ease=V$[e.ease])}const HT=10;class Vpe extends Lpe{constructor(t){$pe(t),F$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...i}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new $b({...i,autoplay:!1}),c=br(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-HT).value,l.sample(c).value,HT),l.stop()}}const zT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(io.test(e)||e==="0")&&!e.startsWith("url("));function Upe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Bpe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=zT(a,t),l=zT(o,t);return!i||!l?!1:Upe(e)||(n==="spring"||$$(n))&&r}function tw(e){e.duration=0,e.type}const Hpe=new Set(["opacity","clipPath","filter","transform"]),zpe=Tb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qpe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:o,type:i}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return zpe()&&n&&Hpe.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&o!==0&&i!=="inertia"}const Wpe=40;class Ype extends _b{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zs.now();const f={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:i,name:c,motionValue:d,element:u,...m},x=u?.KeyframeResolver||Vb;this.keyframeResolver=new x(l,(g,p,w)=>this.onKeyframesResolved(g,p,f,!w),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=zs.now(),Bpe(t,o,i,l)||((ha.instantAnimations||!c)&&u?.(Lb(t,r,n)),t[0]=t[t.length-1],tw(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Wpe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!d&&qpe(f)?new Vpe({...f,element:f.motionValue.owner.current}):new $b(f);x.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ape()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Xpe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kpe(e){const t=Xpe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function U$(e,t,n=1){const[r,a]=Kpe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return c$(i)?parseFloat(i):i}return Mb(a)?U$(a,t,n+1):a}function Ub(e,t){return e?.[t]??e?.default??e}const B$=new Set(["width","height","top","left","right","bottom",...vc]),Gpe={test:e=>e==="auto",parse:e=>e},H$=e=>t=>t.test(e),z$=[gc,Ie,Cr,Pa,Ume,Vme,Gpe],qT=e=>z$.find(H$(e));function Jpe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||u$(e):!0}const Qpe=new Set(["brightness","contrast","saturate","opacity"]);function Zpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rb)||[];if(!r)return e;const a=n.replace(r,"");let o=Qpe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+a+")"}const efe=/\b([a-z-]*)\(.*?\)/gu,sw={...io,getAnimatableNone:e=>{const t=e.match(efe);return t?t.map(Zpe).join(" "):e}},WT={...gc,transform:Math.round},tfe={rotate:Pa,rotateX:Pa,rotateY:Pa,rotateZ:Pa,scale:Jh,scaleX:Jh,scaleY:Jh,scaleZ:Jh,skew:Pa,skewX:Pa,skewY:Pa,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:ru,originX:RT,originY:RT,originZ:Ie},Bb={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...tfe,zIndex:WT,fillOpacity:ru,strokeOpacity:ru,numOctaves:WT},sfe={...Bb,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:sw,WebkitFilter:sw},q$=e=>sfe[e];function W$(e,t){let n=q$(e);return n!==sw&&(n=io),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nfe=new Set(["auto","none","0"]);function rfe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!nfe.has(o)&&au(o).values.length&&(a=e[r]),r++}if(a&&n)for(const o of t)e[o]=W$(n,a)}class afe extends Vb{constructor(t,n,r,a,o){super(t,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Mb(d))){const u=U$(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!B$.has(r)||t.length!==2)return;const[a,o]=t,i=qT(a),l=qT(o);if(i!==l)if(UT(i)&&UT(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Ho[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Jpe(t[a]))&&r.push(a);r.length&&rfe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ofe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Y$=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function X$(e){return d$(e)&&"offsetHeight"in e}const YT=30,ife=e=>!isNaN(parseFloat(e));class lfe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=zs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=zs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ife(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Pb);const r=this.events[t].add(n);return t==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YT);return h$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(e,t){return new lfe(e,t)}const{schedule:Hb,cancel:Eve}=b$(queueMicrotask,!1),Hn={x:!1,y:!1};function K$(){return Hn.x||Hn.y}function cfe(e){return e==="x"||e==="y"?Hn[e]?null:(Hn[e]=!0,()=>{Hn[e]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function G$(e,t){const n=ofe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function XT(e){return!(e.pointerType==="touch"||K$())}function dfe(e,t,n={}){const[r,a,o]=G$(e,n),i=l=>{if(!XT(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{XT(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const J$=(e,t)=>t?e===t?!0:J$(e,t.parentElement):!1,zb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ufe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hfe(e){return ufe.has(e.tagName)||e.tabIndex!==-1}const Am=new WeakSet;function KT(e){return t=>{t.key==="Enter"&&e(t)}}function fv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mfe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=KT(()=>{if(Am.has(n))return;fv(n,"down");const a=KT(()=>{fv(n,"up")}),o=()=>fv(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function GT(e){return zb(e)&&!K$()}function pfe(e,t,n={}){const[r,a,o]=G$(e,n),i=l=>{const c=l.currentTarget;if(!GT(l))return;Am.add(c);const d=t(c,l),u=(x,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),Am.has(c)&&Am.delete(c),GT(x)&&typeof d=="function"&&d(x,{success:g})},m=x=>{u(x,c===window||c===document||n.useGlobalTarget||J$(c,x.target))},f=x=>{u(x,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),X$(l)&&(l.addEventListener("focus",d=>mfe(d,a)),!hfe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Q$(e){return d$(e)&&"ownerSVGElement"in e}function ffe(e){return Q$(e)&&e.tagName==="svg"}const ws=e=>!!(e&&e.getVelocity),xfe=[...z$,Kt,io],gfe=e=>xfe.find(H$(e)),qb=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class vfe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=X$(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yfe({children:e,isPresent:t,anchorX:n,root:r}){const a=h.useId(),o=h.useRef(null),i=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=h.useContext(qb);return h.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:m,right:f}=i.current;if(t||!o.current||!c||!d)return;const x=n==="left"?`left: ${m}`:`right: ${f}`;o.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const p=r??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${u}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[t]),s.jsx(vfe,{isPresent:t,childRef:o,sizeRef:i,children:h.cloneElement(e,{ref:o})})}const jfe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i,anchorX:l,root:c})=>{const d=bb(wfe),u=h.useId();let m=!0,f=h.useMemo(()=>(m=!1,{id:u,initial:t,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const g of d.values())if(!g)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return o&&m&&(f={...f}),h.useMemo(()=>{d.forEach((x,g)=>d.set(g,!1))},[n]),h.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),i==="popLayout"&&(e=s.jsx(yfe,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(Px.Provider,{value:f,children:e})};function wfe(){return new Map}function Z$(e=!0){const t=h.useContext(Px);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,o=h.useId();h.useEffect(()=>{if(e)return a(o)},[e]);const i=h.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,i]:[!0]}const Qh=e=>e.key||"";function JT(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const Nfe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[d,u]=Z$(i),m=h.useMemo(()=>JT(e),[e]),f=i&&!d?[]:m.map(Qh),x=h.useRef(!0),g=h.useRef(m),p=bb(()=>new Map),[w,v]=h.useState(m),[y,j]=h.useState(m);l$(()=>{x.current=!1,g.current=m;for(let T=0;T<y.length;T++){const S=Qh(y[T]);f.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[y,f.length,f.join("-")]);const N=[];if(m!==w){let T=[...m];for(let S=0;S<y.length;S++){const A=y[S],M=Qh(A);f.includes(M)||(T.splice(S,0,A),N.push(A))}return o==="wait"&&N.length&&(T=N),j(JT(T)),v(m),null}const{forceRender:b}=h.useContext(Nb);return s.jsx(s.Fragment,{children:y.map(T=>{const S=Qh(T),A=i&&!d?!1:m===y||f.includes(S),M=()=>{if(p.has(S))p.set(S,!0);else return;let L=!0;p.forEach(F=>{F||(L=!1)}),L&&(b?.(),j(g.current),i&&u?.(),r&&r())};return s.jsx(jfe,{isPresent:A,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:c,onExitComplete:A?void 0:M,anchorX:l,children:T},S)})})},e3=h.createContext({strict:!1}),QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xl={};for(const e in QT)Xl[e]={isEnabled:t=>QT[e].some(n=>!!t[n])};function bfe(e){for(const t in e)Xl[t]={...Xl[t],...e[t]}}const Sfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sfe.has(e)}let t3=e=>!Kp(e);function Cfe(e){typeof e=="function"&&(t3=t=>t.startsWith("on")?!Kp(t):e(t))}try{Cfe(require("@emotion/is-prop-valid").default)}catch{}function Efe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(t3(a)||n===!0&&Kp(a)||!t&&!Kp(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Ax=h.createContext({});function kx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ou(e){return typeof e=="string"||Array.isArray(e)}const Wb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yb=["initial",...Wb];function Dx(e){return kx(e.animate)||Yb.some(t=>ou(e[t]))}function s3(e){return!!(Dx(e)||e.variants)}function Tfe(e,t){if(Dx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ou(n)?n:void 0,animate:ou(r)?r:void 0}}return e.inherit!==!1?t:{}}function Pfe(e){const{initial:t,animate:n}=Tfe(e,h.useContext(Ax));return h.useMemo(()=>({initial:t,animate:n}),[ZT(t),ZT(n)])}function ZT(e){return Array.isArray(e)?e.join(" "):e}const iu={};function Afe(e){for(const t in e)iu[t]=e[t],Db(t)&&(iu[t].isCSSVariable=!0)}function n3(e,{layout:t,layoutId:n}){return yc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!iu[e]||e==="opacity")}const kfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dfe=vc.length;function Mfe(e,t,n){let r="",a=!0;for(let o=0;o<Dfe;o++){const i=vc[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Y$(l,Bb[i]);if(!c){a=!1;const u=kfe[i]||i;r+=`${u}(${d}) `}n&&(t[i]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Xb(e,t,n){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(yc.has(c)){i=!0;continue}else if(Db(c)){a[c]=d;continue}else{const u=Y$(d,Bb[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(t.transform||(i||n?r.transform=Mfe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}const Kb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r3(e,t,n){for(const r in t)!ws(t[r])&&!n3(r,n)&&(e[r]=t[r])}function Rfe({transformTemplate:e},t){return h.useMemo(()=>{const n=Kb();return Xb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ffe(e,t){const n=e.style||{},r={};return r3(r,n,e),Object.assign(r,Rfe(e,t)),r}function Ofe(e,t){const n={},r=Ffe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ife={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lfe={offset:"strokeDashoffset",array:"strokeDasharray"};function _fe(e,t,n=1,r=0,a=!0){e.pathLength=1;const o=a?Ife:Lfe;e[o.offset]=Ie.transform(-r);const i=Ie.transform(t),l=Ie.transform(n);e[o.array]=`${i} ${l}`}function a3(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...l},c,d,u){if(Xb(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&_fe(m,a,o,i,!1)}const o3=()=>({...Kb(),attrs:{}}),i3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $fe(e,t,n,r){const a=h.useMemo(()=>{const o=o3();return a3(o,t,i3(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};r3(o,e.style,e),a.style={...o,...a.style}}return a}const Vfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gb(e){return typeof e!="string"||e.includes("-")?!1:!!(Vfe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ufe(e,t,n,{latestValues:r},a,o=!1){const l=(Gb(e)?$fe:Ofe)(t,r,a,e),c=Efe(t,typeof e=="string",o),d=e!==h.Fragment?{...c,...l,ref:n}:{},{children:u}=t,m=h.useMemo(()=>ws(u)?u.get():u,[u]);return h.createElement(e,{...d,children:m})}function eP(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Jb(e,t,n,r){if(typeof t=="function"){const[a,o]=eP(r);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=eP(r);t=t(n!==void 0?n:e.custom,a,o)}return t}function km(e){return ws(e)?e.get():e}function Bfe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:Hfe(n,r,a,e),renderState:t()}}function Hfe(e,t,n,r){const a={},o=r(e,{});for(const f in o)a[f]=km(o[f]);let{initial:i,animate:l}=e;const c=Dx(e),d=s3(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const m=u?l:i;if(m&&typeof m!="boolean"&&!kx(m)){const f=Array.isArray(m)?m:[m];for(let x=0;x<f.length;x++){const g=Jb(e,f[x]);if(g){const{transitionEnd:p,transition:w,...v}=g;for(const y in v){let j=v[y];if(Array.isArray(j)){const N=u?j.length-1:0;j=j[N]}j!==null&&(a[y]=j)}for(const y in p)a[y]=p[y]}}}return a}const l3=e=>(t,n)=>{const r=h.useContext(Ax),a=h.useContext(Px),o=()=>Bfe(e,t,r,a);return n?o():bb(o)};function Qb(e,t,n){const{style:r}=e,a={};for(const o in r)(ws(r[o])||t.style&&ws(t.style[o])||n3(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const zfe=l3({scrapeMotionValuesFromProps:Qb,createRenderState:Kb});function c3(e,t,n){const r=Qb(e,t,n);for(const a in e)if(ws(e[a])||ws(t[a])){const o=vc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const qfe=l3({scrapeMotionValuesFromProps:c3,createRenderState:o3}),Wfe=Symbol.for("motionComponentSymbol");function sl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yfe(e,t,n){return h.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sl(n)&&(n.current=r))},[t])}const Zb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xfe="framerAppearId",d3="data-"+Zb(Xfe),u3=h.createContext({});function Kfe(e,t,n,r,a){const{visualElement:o}=h.useContext(Ax),i=h.useContext(e3),l=h.useContext(Px),c=h.useContext(qb).reducedMotion,d=h.useRef(null);r=r||i.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=h.useContext(u3);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Gfe(d.current,n,a,m);const f=h.useRef(!1);h.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const x=n[d3],g=h.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return l$(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),g.current=!1),u.enteringChildren=void 0)}),u}function Gfe(e,t,n,r){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:h3(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&sl(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function h3(e){if(e)return e.options.allowProjection!==!1?e.projection:h3(e.parent)}function xv(e,{forwardMotionProps:t=!1}={},n,r){n&&bfe(n);const a=Gb(e)?qfe:zfe;function o(l,c){let d;const u={...h.useContext(qb),...l,layoutId:Jfe(l)},{isStatic:m}=u,f=Pfe(l),x=a(l,m);if(!m&&Sb){Qfe();const g=Zfe(u);d=g.MeasureLayout,f.visualElement=Kfe(e,x,u,r,g.ProjectionNode)}return s.jsxs(Ax.Provider,{value:f,children:[d&&f.visualElement?s.jsx(d,{visualElement:f.visualElement,...u}):null,Ufe(e,l,Yfe(x,f.visualElement,c),x,m,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=h.forwardRef(o);return i[Wfe]=e,i}function Jfe({layoutId:e}){const t=h.useContext(Nb).id;return t&&e!==void 0?t+"-"+e:e}function Qfe(e,t){h.useContext(e3).strict}function Zfe(e){const{drag:t,layout:n}=Xl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function exe(e,t){if(typeof Proxy>"u")return xv;const n=new Map,r=(o,i)=>xv(o,i,e,t),a=(o,i)=>r(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?r:(n.has(i)||n.set(i,xv(i,void 0,e,t)),n.get(i))})}function m3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function txe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sxe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gv(e){return e===void 0||e===1}function nw({scale:e,scaleX:t,scaleY:n}){return!gv(e)||!gv(t)||!gv(n)}function Eo(e){return nw(e)||p3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function p3(e){return tP(e.x)||tP(e.y)}function tP(e){return e&&e!=="0%"}function Gp(e,t,n){const r=e-n,a=t*r;return n+a}function sP(e,t,n,r,a){return a!==void 0&&(e=Gp(e,a,r)),Gp(e,n,r)+t}function rw(e,t=0,n=1,r,a){e.min=sP(e.min,t,n,r,a),e.max=sP(e.max,t,n,r,a)}function f3(e,{x:t,y:n}){rw(e.x,t.translate,t.scale,t.originPoint),rw(e.y,n.translate,n.scale,n.originPoint)}const nP=.999999999999,rP=1.0000000000001;function nxe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=n[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&rl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,f3(e,i)),r&&Eo(o.latestValues)&&rl(e,o.latestValues))}t.x<rP&&t.x>nP&&(t.x=1),t.y<rP&&t.y>nP&&(t.y=1)}function nl(e,t){e.min=e.min+t,e.max=e.max+t}function aP(e,t,n,r,a=.5){const o=Rt(e.min,e.max,a);rw(e,t,n,o,r)}function rl(e,t){aP(e.x,t.x,t.scaleX,t.scale,t.originX),aP(e.y,t.y,t.scaleY,t.scale,t.originY)}function x3(e,t){return m3(sxe(e.getBoundingClientRect(),t))}function rxe(e,t,n){const r=x3(e,n),{scroll:a}=t;return a&&(nl(r.x,a.offset.x),nl(r.y,a.offset.y)),r}const oP=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:oP(),y:oP()}),iP=()=>({min:0,max:0}),Wt=()=>({x:iP(),y:iP()}),aw={current:null},g3={current:!1};function axe(){if(g3.current=!0,!!Sb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>aw.current=e.matches;e.addEventListener("change",t),t()}else aw.current=!1}const oxe=new WeakMap;function ixe(e,t,n){for(const r in t){const a=t[r],o=n[r];if(ws(a))e.addValue(r,a);else if(ws(o))e.addValue(r,Yl(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,Yl(i!==void 0?i:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lxe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=zs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,At.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Dx(n),this.isVariantNode=s3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const x=m[f];c[f]!==void 0&&ws(x)&&x.set(c[f])}}mount(t){this.current=t,oxe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),g3.current||axe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oo(this.notifyUpdate),oo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=yc.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xl){const n=Xl[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lP.length;r++){const a=lP[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=ixe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(c$(r)||u$(r))?r=parseFloat(r):!gfe(r)&&io.test(n)&&(r=W$(t,n)),this.setBaseTarget(t,ws(r)?r.get():r)),ws(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Jb(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ws(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Pb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Hb.render(this.render)}}class v3 extends lxe{constructor(){super(...arguments),this.KeyframeResolver=afe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ws(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function y3(e,{style:t,vars:n},r,a){const o=e.style;let i;for(i in t)o[i]=t[i];a?.applyProjectionStyles(o,r);for(i in n)o.setProperty(i,n[i])}function cxe(e){return window.getComputedStyle(e)}class dxe extends v3{constructor(){super(...arguments),this.type="html",this.renderInstance=y3}readValueFromInstance(t,n){if(yc.has(n))return this.projection?.isProjecting?Gj(n):Spe(t,n);{const r=cxe(t),a=(Db(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return x3(t,n)}build(t,n,r){Xb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Qb(t,n,r)}}const j3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uxe(e,t,n,r){y3(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(j3.has(a)?a:Zb(a),t.attrs[a])}class hxe extends v3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yc.has(n)){const r=q$(n);return r&&r.default||0}return n=j3.has(n)?n:Zb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return c3(t,n,r)}build(t,n,r){a3(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){uxe(t,n,r,a)}mount(t){this.isSVGTag=i3(t.tagName),super.mount(t)}}const mxe=(e,t)=>Gb(e)?new hxe(t):new dxe(t,{allowProjection:e!==h.Fragment});function Nl(e,t,n){const r=e.getProps();return Jb(r,t,n!==void 0?n:r.custom,e)}const ow=e=>Array.isArray(e);function pxe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yl(n))}function fxe(e){return ow(e)?e[e.length-1]||0:e}function xxe(e,t){const n=Nl(e,t);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const i in o){const l=fxe(o[i]);pxe(e,i,l)}}function gxe(e){return!!(ws(e)&&e.add)}function iw(e,t){const n=e.getValue("willChange");if(gxe(n))return n.add(t);if(!n&&ha.WillChange){const r=new ha.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function w3(e){return e.props[d3]}const vxe=e=>e!==null;function yxe(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(vxe),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const jxe={type:"spring",stiffness:500,damping:25,restSpeed:10},wxe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Nxe={type:"keyframes",duration:.8},bxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sxe=(e,{keyframes:t})=>t.length>2?Nxe:yc.has(e)?e.startsWith("scale")?wxe(t[1]):jxe:bxe;function Cxe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const eS=(e,t,n,r={},a,o)=>i=>{const l=Ub(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-br(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};Cxe(l)||Object.assign(u,Sxe(e,u)),u.duration&&(u.duration=br(u.duration)),u.repeatDelay&&(u.repeatDelay=br(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(tw(u),u.delay===0&&(m=!0)),(ha.instantAnimations||ha.skipAnimations)&&(m=!0,tw(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!o&&t.get()!==void 0){const f=yxe(u.keyframes,l);if(f!==void 0){At.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new $b(u):new Ype(u)};function Exe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function N3(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(o=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const m=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&Exe(d,u))continue;const x={delay:n,...Ub(o||{},u)},g=m.get();if(g!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===g&&!x.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=w3(e);if(v){const y=window.MotionHandoffAnimation(v,u,At);y!==null&&(x.startTime=y,p=!0)}}iw(e,u),m.start(eS(u,m,f,e.shouldReduceMotion&&B$.has(u)?{type:!1}:x,e,p));const w=m.animation;w&&c.push(w)}return i&&Promise.all(c).then(()=>{At.update(()=>{i&&xxe(e,i)})}),c}function b3(e,t,n,r=0,a=1){const o=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),i=e.size,l=(i-1)*r;return typeof n=="function"?n(o,i):a===1?o*r:l-o*r}function lw(e,t,n={}){const r=Nl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(N3(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=a;return Txe(e,t,c,d,u,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>d())}else return Promise.all([o(),i(n.delay)])}function Txe(e,t,n=0,r=0,a=0,o=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(lw(c,t,{...i,delay:n+(typeof r=="function"?0:r)+b3(e.variantChildren,c,r,a,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Pxe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>lw(e,o,n));r=Promise.all(a)}else if(typeof t=="string")r=lw(e,t,n);else{const a=typeof t=="function"?Nl(e,t,n.custom):t;r=Promise.all(N3(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function S3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Axe=Yb.length;function C3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?C3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Axe;n++){const r=Yb[n],a=e.props[r];(ou(a)||a===!1)&&(t[r]=a)}return t}const kxe=[...Wb].reverse(),Dxe=Wb.length;function Mxe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Pxe(e,n,r)))}function Rxe(e){let t=Mxe(e),n=cP(),r=!0;const a=c=>(d,u)=>{const m=Nl(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:f,transitionEnd:x,...g}=m;d={...d,...g,...x}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,u=C3(e.parent)||{},m=[],f=new Set;let x={},g=1/0;for(let w=0;w<Dxe;w++){const v=kxe[w],y=n[v],j=d[v]!==void 0?d[v]:u[v],N=ou(j),b=v===c?y.isActive:null;b===!1&&(g=w);let T=j===u[v]&&j!==d[v]&&N;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...x},!y.isActive&&b===null||!j&&!y.prevProp||kx(j)||typeof j=="boolean")continue;const S=Fxe(y.prevProp,j);let A=S||v===c&&y.isActive&&!T&&N||w>g&&N,M=!1;const L=Array.isArray(j)?j:[j];let F=L.reduce(a(v),{});b===!1&&(F={});const{prevResolvedValues:I={}}=y,U={...I,...F},O=P=>{A=!0,f.has(P)&&(M=!0,f.delete(P)),y.needsAnimating[P]=!0;const R=e.getValue(P);R&&(R.liveStyle=!1)};for(const P in U){const R=F[P],$=I[P];if(x.hasOwnProperty(P))continue;let H=!1;ow(R)&&ow($)?H=!S3(R,$):H=R!==$,H?R!=null?O(P):f.add(P):R!==void 0&&f.has(P)?O(P):y.protectedKeys[P]=!0}y.prevProp=j,y.prevResolvedValues=F,y.isActive&&(x={...x,...F}),r&&e.blockInitialAnimation&&(A=!1);const k=T&&S;A&&(!k||M)&&m.push(...L.map(P=>{const R={type:v};if(typeof P=="string"&&r&&!k&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,H=Nl($,P);if($.enteringChildren&&H){const{delayChildren:_}=H.transition||{};R.delay=b3($.enteringChildren,e,_)}}return{animation:P,options:R}}))}if(f.size){const w={};if(typeof d.initial!="boolean"){const v=Nl(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(w.transition=v.transition)}f.forEach(v=>{const y=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),w[v]=y??null}),m.push({animation:w})}let p=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const u=i(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=cP(),r=!0}}}function Fxe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S3(t,e):!1}function wo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cP(){return{animate:wo(!0),whileInView:wo(),whileHover:wo(),whileTap:wo(),whileDrag:wo(),whileFocus:wo(),exit:wo()}}class vo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Oxe extends vo{constructor(t){super(t),t.animationState||(t.animationState=Rxe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ixe=0;class Lxe extends vo{constructor(){super(...arguments),this.id=Ixe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _xe={animation:{Feature:Oxe},exit:{Feature:Lxe}};function lu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ah(e){return{point:{x:e.pageX,y:e.pageY}}}const $xe=e=>t=>zb(t)&&e(t,ah(t));function hd(e,t,n,r){return lu(e,t,$xe(n),r)}const E3=1e-4,Vxe=1-E3,Uxe=1+E3,T3=.01,Bxe=0-T3,Hxe=0+T3;function As(e){return e.max-e.min}function zxe(e,t,n){return Math.abs(e-t)<=n}function dP(e,t,n,r=.5){e.origin=r,e.originPoint=Rt(t.min,t.max,e.origin),e.scale=As(n)/As(t),e.translate=Rt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Vxe&&e.scale<=Uxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Bxe&&e.translate<=Hxe||isNaN(e.translate))&&(e.translate=0)}function md(e,t,n,r){dP(e.x,t.x,n.x,r?r.originX:void 0),dP(e.y,t.y,n.y,r?r.originY:void 0)}function uP(e,t,n){e.min=n.min+t.min,e.max=e.min+As(t)}function qxe(e,t,n){uP(e.x,t.x,n.x),uP(e.y,t.y,n.y)}function hP(e,t,n){e.min=t.min-n.min,e.max=e.min+As(t)}function pd(e,t,n){hP(e.x,t.x,n.x),hP(e.y,t.y,n.y)}function vn(e){return[e("x"),e("y")]}const P3=({current:e})=>e?e.ownerDocument.defaultView:null,mP=(e,t)=>Math.abs(e-t);function Wxe(e,t){const n=mP(e.x,t.x),r=mP(e.y,t.y);return Math.sqrt(n**2+r**2)}class A3{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=Wxe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!g)return;const{point:p}=f,{timestamp:w}=us;this.history.push({...p,timestamp:w});const{onStart:v,onMove:y}=this.handlers;x||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,x)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vv(x,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(f,x)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=yv(f.type==="pointercancel"?this.lastMoveEventInfo:vv(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),p&&p(f,v)},!zb(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=a||window;const l=ah(t),c=vv(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=us;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=n;m&&m(t,yv(c,this.history)),this.removeListeners=sh(hd(this.contextWindow,"pointermove",this.handlePointerMove),hd(this.contextWindow,"pointerup",this.handlePointerUp),hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),oo(this.updatePoint)}}function vv(e,t){return t?{point:t(e.point)}:e}function pP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yv({point:e},t){return{point:e,delta:pP(e,k3(t)),offset:pP(e,Yxe(t)),velocity:Xxe(t,.1)}}function Yxe(e){return e[0]}function k3(e){return e[e.length-1]}function Xxe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=k3(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>br(t)));)n--;if(!r)return{x:0,y:0};const o=Sr(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Kxe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Rt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Rt(n,e,r.max):Math.min(e,n)),e}function fP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Gxe(e,{top:t,left:n,bottom:r,right:a}){return{x:fP(e.x,n,a),y:fP(e.y,t,r)}}function xP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Jxe(e,t){return{x:xP(e.x,t.x),y:xP(e.y,t.y)}}function Qxe(e,t){let n=.5;const r=As(e),a=As(t);return a>r?n=nu(t.min,t.max-r,e.min):r>a&&(n=nu(e.min,e.max-a,t.min)),ua(0,1,n)}function Zxe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cw=.35;function ege(e=cw){return e===!1?e=0:e===!0&&(e=cw),{x:gP(e,"left","right"),y:gP(e,"top","bottom")}}function gP(e,t,n){return{min:vP(e,t),max:vP(e,n)}}function vP(e,t){return typeof e=="number"?e:e[t]||0}const tge=new WeakMap;class sge{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ah(m).point)},i=(m,f)=>{const{drag:x,dragPropagation:g,onDragStart:p}=this.getProps();if(x&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cfe(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vn(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Cr.test(y)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[v];N&&(y=As(N)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&At.postRender(()=>p(m,f)),iw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:x,dragDirectionLock:g,onDirectionLock:p,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=nge(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&w(m,f)},c=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>vn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new A3(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:P3(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&At.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Zh(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=Kxe(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Gxe(r.layoutBox,t):this.constraints=!1,this.elastic=ege(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zxe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sl(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=rxe(r,a.root,this.visualElement.getTransformPagePoint());let i=Jxe(a.layout.layoutBox,o);if(n){const l=n(txe(i));this.hasMutatedConstraints=!!l,l&&(i=m3(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=vn(u=>{if(!Zh(u,n,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const f=a?200:1e6,x=a?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return iw(this.visualElement,t),r.start(eS(t,r,0,n,this.visualElement,!1))}stopAnimation(){vn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vn(n=>{const{drag:r}=this.getProps();if(!Zh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[n];o.set(t[n]-Rt(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};vn(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=Qxe({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vn(i=>{if(!Zh(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(Rt(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;tge.set(this.visualElement,this);const t=this.visualElement.current,n=hd(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();sl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(r);const i=lu(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(vn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=cw,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Zh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rge extends vo{constructor(t){super(t),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new sge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const yP=e=>(t,n)=>{e&&At.postRender(()=>e(t,n))};class age extends vo{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(t){this.session=new A3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:yP(t),onStart:yP(n),onMove:r,onEnd:(o,i)=>{delete this.session,a&&At.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=hd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $c={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=jP(e,t.target.x),r=jP(e,t.target.y);return`${n}% ${r}%`}},oge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=io.parse(e);if(a.length>5)return r;const o=io.createTransformer(e),i=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=Rt(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};let jv=!1;class ige extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;Afe(lge),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),jv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,jv=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||At.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;jv=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function D3(e){const[t,n]=Z$(),r=h.useContext(Nb);return s.jsx(ige,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(u3),isPresent:t,safeToRemove:n})}const lge={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:oge};function cge(e,t,n){const r=ws(e)?e:Yl(e);return r.start(eS("",r,t,n)),r.animation}const dge=(e,t)=>e.depth-t.depth;class uge{constructor(){this.children=[],this.isDirty=!1}add(t){Cb(this.children,t),this.isDirty=!0}remove(t){Eb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dge),this.isDirty=!1,this.children.forEach(t)}}function hge(e,t){const n=zs.now(),r=({timestamp:a})=>{const o=a-n;o>=t&&(oo(r),e(o-t))};return At.setup(r,!0),()=>oo(r)}const M3=["TopLeft","TopRight","BottomLeft","BottomRight"],mge=M3.length,wP=e=>typeof e=="string"?parseFloat(e):e,NP=e=>typeof e=="number"||Ie.test(e);function pge(e,t,n,r,a,o){a?(e.opacity=Rt(0,n.opacity??1,fge(r)),e.opacityExit=Rt(t.opacity??1,0,xge(r))):o&&(e.opacity=Rt(t.opacity??1,n.opacity??1,r));for(let i=0;i<mge;i++){const l=`border${M3[i]}Radius`;let c=bP(t,l),d=bP(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||NP(c)===NP(d)?(e[l]=Math.max(Rt(wP(c),wP(d),r),0),(Cr.test(d)||Cr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Rt(t.rotate||0,n.rotate||0,r))}function bP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fge=R3(0,.5,y$),xge=R3(.5,.95,Dn);function R3(e,t,n){return r=>r<e?0:r>t?1:n(nu(e,t,r))}function SP(e,t){e.min=t.min,e.max=t.max}function gn(e,t){SP(e.x,t.x),SP(e.y,t.y)}function CP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function EP(e,t,n,r,a){return e-=t,e=Gp(e,1/n,r),a!==void 0&&(e=Gp(e,1/a,r)),e}function gge(e,t=0,n=1,r=.5,a,o=e,i=e){if(Cr.test(t)&&(t=parseFloat(t),t=Rt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Rt(o.min,o.max,r);e===o&&(l-=t),e.min=EP(e.min,t,n,l,a),e.max=EP(e.max,t,n,l,a)}function TP(e,t,[n,r,a],o,i){gge(e,t[n],t[r],t[a],t.scale,o,i)}const vge=["x","scaleX","originX"],yge=["y","scaleY","originY"];function PP(e,t,n,r){TP(e.x,t,vge,n?n.x:void 0,r?r.x:void 0),TP(e.y,t,yge,n?n.y:void 0,r?r.y:void 0)}function AP(e){return e.translate===0&&e.scale===1}function F3(e){return AP(e.x)&&AP(e.y)}function kP(e,t){return e.min===t.min&&e.max===t.max}function jge(e,t){return kP(e.x,t.x)&&kP(e.y,t.y)}function DP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O3(e,t){return DP(e.x,t.x)&&DP(e.y,t.y)}function MP(e){return As(e.x)/As(e.y)}function RP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wge{constructor(){this.members=[]}add(t){Cb(this.members,t),t.scheduleRender()}remove(t){if(Eb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nge(e,t,n){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=n?.z||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:f,skewX:x,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),x&&(r+=`skewX(${x}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const wv=["","X","Y","Z"],bge=1e3;let Sge=0;function Nv(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function I3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=w3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&I3(r)}function L3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t?.()){this.id=Sge++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tge),this.nodes.forEach(Dge),this.nodes.forEach(Mge),this.nodes.forEach(Pge)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new uge)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Pb),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Q$(i)&&!ffe(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,m=0;const f=()=>this.root.updateBlockedByResize=!1;At.read(()=>{m=window.innerWidth}),e(i,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,u&&u(),u=hge(f,250),Dm.hasAnimatedSinceResize&&(Dm.hasAnimatedSinceResize=!1,this.nodes.forEach(IP)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Lge,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!O3(this.targetLayout,x),y=!m&&f;if(this.options.layoutRoot||this.resumeFrom||y||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Ub(g,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,y)}else m||IP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rge),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kge),this.nodes.forEach(Cge),this.nodes.forEach(Ege)):this.nodes.forEach(OP),this.clearAllSnapshots();const l=zs.now();us.delta=ua(0,1e3/60,l-us.timestamp),us.timestamp=l,us.isProcessing=!0,dv.update.process(us),dv.preRender.process(us),dv.render.process(us),us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Age),this.sharedNodes.forEach(Fge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!As(this.snapshot.measuredBox.x)&&!As(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!F3(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(l||Eo(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),_ge(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Wt();const l=i.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($ge))){const{scroll:d}=this.root;d&&(nl(l.x,d.offset.x),nl(l.y,d.offset.y))}return l}removeElementScroll(i){const l=Wt();if(gn(l,i),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;d!==this.root&&u&&m.layoutScroll&&(u.wasRoot&&gn(l,i),nl(l.x,u.offset.x),nl(l.y,u.offset.y))}return l}applyTransform(i,l=!1){const c=Wt();gn(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&rl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Eo(u.latestValues)&&rl(c,u.latestValues)}return Eo(this.latestValues)&&rl(c,this.latestValues),c}removeTransform(i){const l=Wt();gn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Eo(d.latestValues))continue;nw(d.latestValues)&&d.updateSnapshot();const u=Wt(),m=d.measurePageBox();gn(u,m),PP(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Eo(this.latestValues)&&PP(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=us.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),pd(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),f3(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),pd(this.relativeTargetOrigin,this.target,f.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nw(this.parent.latestValues)||p3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===us.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;gn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;nxe(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Wt());const{target:x}=i;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CP(this.prevProjectionDelta.x,this.projectionDelta.x),CP(this.prevProjectionDelta.y,this.projectionDelta.y)),md(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!RP(this.projectionDelta.x,this.prevProjectionDelta.x)||!RP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.visualElement?.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Wt(),x=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=x!==g,w=this.getStack(),v=!w||w.members.length<=1,y=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(Ige));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const b=N/1e3;LP(m.x,i.x,b),LP(m.y,i.y,b),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oge(this.relativeTarget,this.relativeTargetOrigin,f,b),j&&jge(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Wt()),gn(j,this.relativeTarget)),p&&(this.animationValues=u,pge(u,d,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{Dm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=cge(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bge),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&_3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Wt();const m=As(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const f=As(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}gn(l,c),rl(l,u),md(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new wge),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){const{layoutId:i}=this.options;return i?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:i}=this.options;return i?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Nv("z",i,d,this.animationValues);for(let u=0;u<wv.length;u++)Nv(`rotate${wv[u]}`,i,d,this.animationValues),Nv(`skew${wv[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=km(l?.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=km(l?.pointerEvents)||""),this.hasProjected&&!Eo(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Nge(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),i.transform=m;const{x:f,y:x}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,d.animationValues?i.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in iu){if(u[g]===void 0)continue;const{correct:p,applyTo:w,isCSSVariable:v}=iu[g],y=m==="none"?u[g]:p(u[g],d);if(w){const j=w.length;for(let N=0;N<j;N++)i[w[N]]=y}else v?this.options.visualElement.renderState.vars[g]=y:i[g]=y}this.options.layoutId&&(i.pointerEvents=d===this?km(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>i.currentAnimation?.stop()),this.root.nodes.forEach(FP),this.root.sharedNodes.clear()}}}function Cge(e){e.updateLayout()}function Ege(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?vn(u=>{const m=o?t.measuredBox[u]:t.layoutBox[u],f=As(m);m.min=n[u].min,m.max=m.min+f}):_3(a,t.layoutBox,n)&&vn(u=>{const m=o?t.measuredBox[u]:t.layoutBox[u],f=As(n[u]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+f)});const i=al();md(i,n,t.layoutBox);const l=al();o?md(l,e.applyTransform(r,!0),t.measuredBox):md(l,n,t.layoutBox);const c=!F3(i);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:f}=u;if(m&&f){const x=Wt();pd(x,t.layoutBox,m.layoutBox);const g=Wt();pd(g,n,f.layoutBox),O3(x,g)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:i,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Tge(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Pge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Age(e){e.clearSnapshot()}function FP(e){e.clearMeasurements()}function OP(e){e.isLayoutDirty=!1}function kge(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function IP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dge(e){e.resolveTargetDelta()}function Mge(e){e.calcProjection()}function Rge(e){e.resetSkewAndRotation()}function Fge(e){e.removeLeadSnapshot()}function LP(e,t,n){e.translate=Rt(t.translate,0,n),e.scale=Rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _P(e,t,n,r){e.min=Rt(t.min,n.min,r),e.max=Rt(t.max,n.max,r)}function Oge(e,t,n,r){_P(e.x,t.x,n.x,r),_P(e.y,t.y,n.y,r)}function Ige(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Lge={duration:.45,ease:[.4,0,.1,1]},$P=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),VP=$P("applewebkit/")&&!$P("chrome/")?Math.round:Dn;function UP(e){e.min=VP(e.min),e.max=VP(e.max)}function _ge(e){UP(e.x),UP(e.y)}function _3(e,t,n){return e==="position"||e==="preserve-aspect"&&!zxe(MP(t),MP(n),.2)}function $ge(e){return e!==e.root&&e.scroll?.wasRoot}const Vge=L3({attachResizeListener:(e,t)=>lu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bv={current:void 0},$3=L3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bv.current){const e=new Vge({});e.mount(window),e.setOptions({layoutScroll:!0}),bv.current=e}return bv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Uge={pan:{Feature:age},drag:{Feature:rge,ProjectionNode:$3,MeasureLayout:D3}};function BP(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&At.postRender(()=>o(t,ah(t)))}class Bge extends vo{mount(){const{current:t}=this.node;t&&(this.unmount=dfe(t,(n,r)=>(BP(this.node,r,"Start"),a=>BP(this.node,a,"End"))))}unmount(){}}class Hge extends vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sh(lu(this.node.current,"focus",()=>this.onFocus()),lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HP(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&At.postRender(()=>o(t,ah(t)))}class zge extends vo{mount(){const{current:t}=this.node;t&&(this.unmount=pfe(t,(n,r)=>(HP(this.node,r,"Start"),(a,{success:o})=>HP(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dw=new WeakMap,Sv=new WeakMap,qge=e=>{const t=dw.get(e.target);t&&t(e)},Wge=e=>{e.forEach(qge)};function Yge({root:e,...t}){const n=e||document;Sv.has(n)||Sv.set(n,{});const r=Sv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Wge,{root:e,...t})),r[a]}function Xge(e,t,n){const r=Yge(t);return dw.set(e,n),r.observe(e),()=>{dw.delete(e),r.unobserve(e)}}const Kge={some:0,all:1};class Gge extends vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Kge[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),f=d?u:m;f&&f(c)};return Xge(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jge(t,n))&&this.startObserver()}unmount(){}}function Jge({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Qge={inView:{Feature:Gge},tap:{Feature:zge},focus:{Feature:Hge},hover:{Feature:Bge}},Zge={layout:{ProjectionNode:$3,MeasureLayout:D3}},eve={..._xe,...Qge,...Uge,...Zge},tve=exe(eve,mxe),sve=({notification:e})=>{const t=i$(i=>i.removeNotification),n=Q_(),r={success:s.jsx(Ns,{className:"h-5 w-5"}),error:s.jsx(En,{className:"h-5 w-5"}),warning:s.jsx(In,{className:"h-5 w-5"}),info:s.jsx(ss,{className:"h-5 w-5"})},a={success:"bg-green-50 text-green-900 border-green-200 dark:bg-green-900/20 dark:text-green-100 dark:border-green-800",error:"bg-red-50 text-red-900 border-red-200 dark:bg-red-900/20 dark:text-red-100 dark:border-red-800",warning:"bg-yellow-50 text-yellow-900 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-100 dark:border-yellow-800",info:"bg-blue-50 text-blue-900 border-blue-200 dark:bg-blue-900/20 dark:text-blue-100 dark:border-blue-800"},o={success:"text-green-600 dark:text-green-400",error:"text-red-600 dark:text-red-400",warning:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400"};return s.jsxs(tve.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.2}},transition:{duration:n.enabled?.3:0},className:re("flex items-start gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm",a[e.type],"min-w-[320px] max-w-[420px]"),children:[s.jsx("div",{className:re("flex-shrink-0",o[e.type]),children:r[e.type]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("h4",{className:"text-sm font-semibold",children:e.title}),e.message&&s.jsx("p",{className:"text-sm opacity-90",children:e.message}),e.action&&s.jsx(z,{variant:"link",size:"sm",onClick:e.action.onClick,className:"p-0 h-auto font-medium",children:e.action.label})]}),e.dismissible&&s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"flex-shrink-0 h-auto p-1 hover:bg-black/10 dark:hover:bg-white/10",children:s.jsx(vt,{className:"h-4 w-4"})})]})},nve=()=>{const e=i$(t=>t.notifications);return Q_(),s.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2","aria-live":"polite","aria-atomic":"false",children:s.jsx(Nfe,{mode:"sync",children:e.map(t=>s.jsx(sve,{notification:t},t.id))})})};let Cv=!1,uw=[];const zP=(e,t=null)=>{uw.forEach(n=>{e?n.reject(e):n.resolve(t)}),uw=[]};let Ev=!1;const rve=()=>{yt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",yt.interceptors.request.use(e=>{const t=sn.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Requested-With"]="XMLHttpRequest",e},e=>Promise.reject(e)),yt.interceptors.response.use(e=>e,async e=>{const t=e.config;if(!e.response||!t)return Promise.reject(e);const n=t.url?.includes("/auth/");return Ev?Promise.reject(e):e.response?.status===401&&!t._retry&&!n?Cv?new Promise((r,a)=>{uw.push({resolve:r,reject:a})}).then(r=>(t.headers.Authorization=`Bearer ${r}`,yt(t))).catch(r=>Promise.reject(r)):(t._retry=!0,Cv=!0,new Promise((r,a)=>{sn.refreshToken().then(o=>{if(o.success&&o.data)sn.setToken(o.data.token),yt.defaults.headers.common.Authorization=`Bearer ${o.data.token}`,t.headers.Authorization=`Bearer ${o.data.token}`,zP(null,o.data.token),r(yt(t));else throw new Error("Token refresh failed")}).catch(o=>{zP(o,null),Ev=!0,localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.pathname!=="/login"?window.location.replace("/login"):Ev=!1,a(o)}).finally(()=>{Cv=!1})})):Promise.reject(e)})},ave=()=>{const e=wb(t=>t.theme);return h.useEffect(()=>{e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),null},ove=()=>null,ive=()=>(h.useEffect(()=>{const e=setTimeout(()=>{rve()},100);return console.log("Application initialized",{version:"1.0.0",environment:"production"}),()=>clearTimeout(e)},[]),s.jsx(wme,{children:s.jsx(jme,{children:s.jsxs(MD,{children:[s.jsx(ave,{}),s.jsx(oB,{}),s.jsx(nve,{}),s.jsxs(bz,{children:[s.jsx(ove,{}),s.jsx(u9,{children:s.jsx(h9,{children:s.jsxs(fz,{children:[s.jsx(gt,{path:"/login",element:s.jsx(jX,{})}),s.jsx(gt,{element:s.jsx(p9,{}),children:s.jsxs(gt,{path:"/",element:s.jsx(xX,{}),children:[s.jsx(gt,{index:!0,element:s.jsx(up,{to:"/dashboard",replace:!0})}),s.jsx(gt,{path:"dashboard",element:s.jsx(OX,{})}),s.jsx(gt,{path:"test",element:s.jsx(IX,{})}),s.jsx(gt,{path:"create-flow",element:s.jsx(LX,{})}),s.jsx(gt,{path:"create-direct-mapping-flow",element:s.jsx(bE,{})}),s.jsx(gt,{path:"create-orchestration-flow",element:s.jsx(mne,{})}),s.jsx(gt,{path:"flows/:flowId/edit",element:s.jsx(bE,{})}),s.jsx(gt,{path:"communication-adapters",element:s.jsx(zoe,{})}),s.jsx(gt,{path:"communication-adapters/:id",element:s.jsx(KE,{})}),s.jsx(gt,{path:"create-communication-adapter",element:s.jsx(KE,{})}),s.jsx(gt,{path:"data-structures",element:s.jsx(qoe,{})}),s.jsx(gt,{path:"data-structures/:id",element:s.jsx(aT,{})}),s.jsx(gt,{path:"create-data-structure",element:s.jsx(aT,{})}),s.jsx(gt,{path:"business-components",element:s.jsx(rle,{})}),s.jsx(gt,{path:"all-interfaces",element:s.jsx(gme,{})}),s.jsx(gt,{path:"interfaces",element:s.jsx(up,{to:"/all-interfaces",replace:!0})}),s.jsx(gt,{path:"interfaces/:flowId/details",element:s.jsx(qce,{})}),s.jsx(gt,{path:"messages",element:s.jsx(jle,{})}),s.jsx(gt,{path:"adapter-monitoring",element:s.jsx(Hce,{})}),s.jsx(gt,{path:"admin",element:s.jsx(Xue,{})}),s.jsx(gt,{path:"settings",element:s.jsx(the,{})}),s.jsx(gt,{path:"development-functions",element:s.jsx(pme,{})}),s.jsx(gt,{path:"*",element:s.jsx(vme,{})})]})})]})})})]})]})})}));nk(document.getElementById("root")).render(s.jsx(ive,{}));
