var YV=Object.defineProperty;var b1=e=>{throw TypeError(e)};var KV=(e,t,n)=>t in e?YV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ft=(e,t,n)=>KV(e,typeof t!="symbol"?t+"":t,n),Kg=(e,t,n)=>t.has(e)||b1("Cannot "+n);var z=(e,t,n)=>(Kg(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?b1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,r)=>(Kg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Xe=(e,t,n)=>(Kg(e,t,"access private method"),n);var wm=(e,t,n,r)=>({set _(a){Se(e,t,a,n)},get _(){return z(e,t,r)}});function XV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Dw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xA={exports:{}},mx={},gA={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.element"),GV=Symbol.for("react.portal"),JV=Symbol.for("react.fragment"),QV=Symbol.for("react.strict_mode"),ZV=Symbol.for("react.profiler"),e6=Symbol.for("react.provider"),t6=Symbol.for("react.context"),s6=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),a6=Symbol.for("react.lazy"),S1=Symbol.iterator;function i6(e){return e===null||typeof e!="object"?null:(e=S1&&e[S1]||e["@@iterator"],typeof e=="function"?e:null)}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA=Object.assign,jA={};function td(e,t,n){this.props=e,this.context=t,this.refs=jA,this.updater=n||vA}td.prototype.isReactComponent={};td.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};td.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wA(){}wA.prototype=td.prototype;function Fw(e,t,n){this.props=e,this.context=t,this.refs=jA,this.updater=n||vA}var Ow=Fw.prototype=new wA;Ow.constructor=Fw;yA(Ow,td.prototype);Ow.isPureReactComponent=!0;var C1=Array.isArray,NA=Object.prototype.hasOwnProperty,Iw={current:null},bA={key:!0,ref:!0,__self:!0,__source:!0};function SA(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)NA.call(t,r)&&!bA.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:wh,type:e,key:i,ref:o,props:a,_owner:Iw.current}}function o6(e,t){return{$$typeof:wh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _w(e){return typeof e=="object"&&e!==null&&e.$$typeof===wh}function l6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E1=/\/+/g;function Xg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l6(""+e.key):t.toString(36)}function xf(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wh:case GV:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Xg(o,0):r,C1(a)?(n="",e!=null&&(n=e.replace(E1,"$&/")+"/"),xf(a,t,n,"",function(d){return d})):a!=null&&(_w(a)&&(a=o6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(E1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",C1(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Xg(i,l);o+=xf(i,t,n,c,a)}else if(c=i6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Xg(i,l++),o+=xf(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nm(e,t,n){if(e==null)return e;var r=[],a=0;return xf(e,r,"","",function(i){return t.call(n,i,a++)}),r}function c6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ys={current:null},gf={transition:null},d6={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:gf,ReactCurrentOwner:Iw};function CA(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Nm,forEach:function(e,t,n){Nm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nm(e,function(){t++}),t},toArray:function(e){return Nm(e,function(t){return t})||[]},only:function(e){if(!_w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=td;et.Fragment=JV;et.Profiler=ZV;et.PureComponent=Fw;et.StrictMode=QV;et.Suspense=n6;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6;et.act=CA;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yA({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Iw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)NA.call(t,c)&&!bA.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:wh,type:e.type,key:a,ref:i,props:r,_owner:o}};et.createContext=function(e){return e={$$typeof:t6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e6,_context:e},e.Consumer=e};et.createElement=SA;et.createFactory=function(e){var t=SA.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:s6,render:e}};et.isValidElement=_w;et.lazy=function(e){return{$$typeof:a6,_payload:{_status:-1,_result:e},_init:c6}};et.memo=function(e,t){return{$$typeof:r6,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=gf.transition;gf.transition={};try{e()}finally{gf.transition=t}};et.unstable_act=CA;et.useCallback=function(e,t){return Ys.current.useCallback(e,t)};et.useContext=function(e){return Ys.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return Ys.current.useDeferredValue(e)};et.useEffect=function(e,t){return Ys.current.useEffect(e,t)};et.useId=function(){return Ys.current.useId()};et.useImperativeHandle=function(e,t,n){return Ys.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return Ys.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return Ys.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return Ys.current.useMemo(e,t)};et.useReducer=function(e,t,n){return Ys.current.useReducer(e,t,n)};et.useRef=function(e){return Ys.current.useRef(e)};et.useState=function(e){return Ys.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return Ys.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return Ys.current.useTransition()};et.version="18.3.1";gA.exports=et;var m=gA.exports;const bt=Dw(m),Nh=XV({__proto__:null,default:bt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=m,h6=Symbol.for("react.element"),m6=Symbol.for("react.fragment"),f6=Object.prototype.hasOwnProperty,p6=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x6={key:!0,ref:!0,__self:!0,__source:!0};function EA(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)f6.call(t,r)&&!x6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:h6,type:e,key:i,ref:o,props:a,_owner:p6.current}}mx.Fragment=m6;mx.jsx=EA;mx.jsxs=EA;xA.exports=mx;var s=xA.exports,TA={exports:{}},Rn={},PA={exports:{}},AA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var H=R.length;R.push(L);e:for(;0<H;){var V=H-1>>>1,B=R[V];if(0<a(B,L))R[V]=L,R[H]=B,H=V;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],H=R.pop();if(H!==L){R[0]=H;e:for(var V=0,B=R.length,W=B>>>1;V<W;){var Y=2*(V+1)-1,X=R[Y],ne=Y+1,se=R[ne];if(0>a(X,H))ne<B&&0>a(se,X)?(R[V]=se,R[ne]=H,V=ne):(R[V]=X,R[Y]=H,V=Y);else if(ne<B&&0>a(se,H))R[V]=se,R[ne]=H,V=ne;else break e}}return L}function a(R,L){var H=R.sortIndex-L.sortIndex;return H!==0?H:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,x=!1,g=!1,p=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=R)r(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(d)}}function N(R){if(p=!1,w(R),!g)if(n(c)!==null)g=!0,T(b);else{var L=n(d);L!==null&&M(N,L.startTime-R)}}function b(R,L){g=!1,p&&(p=!1,v(P),P=-1),x=!0;var H=f;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||R&&!O());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var B=V(h.expirationTime<=L);L=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Y=n(d);Y!==null&&M(N,Y.startTime-L),W=!1}return W}finally{h=null,f=H,x=!1}}var C=!1,S=null,P=-1,A=5,F=-1;function O(){return!(e.unstable_now()-F<A)}function _(){if(S!==null){var R=e.unstable_now();F=R;var L=!0;try{L=S(!0,R)}finally{L?$():(C=!1,S=null)}}else C=!1}var $;if(typeof y=="function")$=function(){y(_)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=_,$=function(){k.postMessage(null)}}else $=function(){j(_,0)};function T(R){S=R,C||(C=!0,$())}function M(R,L){P=j(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,T(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var H=f;f=L;try{return R()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=f;f=R;try{return L()}finally{f=H}},e.unstable_scheduleCallback=function(R,L,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,R={id:u++,callback:L,priorityLevel:R,startTime:H,expirationTime:B,sortIndex:-1},H>V?(R.sortIndex=H,t(d,R),n(c)===null&&R===n(d)&&(p?(v(P),P=-1):p=!0,M(N,H-V))):(R.sortIndex=B,t(c,R),g||x||(g=!0,T(b))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var L=f;return function(){var H=f;f=L;try{return R.apply(this,arguments)}finally{f=H}}}})(AA);PA.exports=AA;var g6=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6=m,Pn=g6;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kA=new Set,Su={};function ll(e,t){Ac(e,t),Ac(e+"Capture",t)}function Ac(e,t){for(Su[e]=t,e=0;e<t.length;e++)kA.add(t[e])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hy=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T1={},P1={};function j6(e){return Hy.call(P1,e)?!0:Hy.call(T1,e)?!1:y6.test(e)?P1[e]=!0:(T1[e]=!0,!1)}function w6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N6(e,t,n,r){if(t===null||typeof t>"u"||w6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ks(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ss[e]=new Ks(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ss[t]=new Ks(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ss[e]=new Ks(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ss[e]=new Ks(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ss[e]=new Ks(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ss[e]=new Ks(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ss[e]=new Ks(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ss[e]=new Ks(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ss[e]=new Ks(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lw=/[\-:]([a-z])/g;function $w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lw,$w);Ss[t]=new Ks(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lw,$w);Ss[t]=new Ks(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lw,$w);Ss[t]=new Ks(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ss[e]=new Ks(e,1,!1,e.toLowerCase(),null,!1,!1)});Ss.xlinkHref=new Ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ss[e]=new Ks(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vw(e,t,n,r){var a=Ss.hasOwnProperty(t)?Ss[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N6(t,n,a,r)&&(n=null),r||a===null?j6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oa=v6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bm=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),zy=Symbol.for("react.profiler"),MA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),Bw=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Wy=Symbol.for("react.suspense_list"),Hw=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),DA=Symbol.for("react.offscreen"),A1=Symbol.iterator;function Ed(e){return e===null||typeof e!="object"?null:(e=A1&&e[A1]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,Gg;function qd(e){if(Gg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gg=t&&t[1]||""}return`
`+Gg+e}var Jg=!1;function Qg(e,t){if(!e||Jg)return"";Jg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qd(e):""}function b6(e){switch(e.tag){case 5:return qd(e.type);case 16:return qd("Lazy");case 13:return qd("Suspense");case 19:return qd("SuspenseList");case 0:case 2:case 15:return e=Qg(e.type,!1),e;case 11:return e=Qg(e.type.render,!1),e;case 1:return e=Qg(e.type,!0),e;default:return""}}function Yy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rl:return"Fragment";case Ml:return"Portal";case zy:return"Profiler";case Uw:return"StrictMode";case qy:return"Suspense";case Wy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RA:return(e.displayName||"Context")+".Consumer";case MA:return(e._context.displayName||"Context")+".Provider";case Bw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hw:return t=e.displayName||null,t!==null?t:Yy(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return Yy(e(t))}catch{}}return null}function S6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yy(t);case 8:return t===Uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C6(e){var t=FA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sm(e){e._valueTracker||(e._valueTracker=C6(e))}function OA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=FA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ky(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function k1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IA(e,t){t=t.checked,t!=null&&Vw(e,"checked",t,!1)}function Xy(e,t){IA(e,t);var n=Fi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gy(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gy(e,t,n){(t!=="number"||Xf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wd=Array.isArray;function Zl(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fi(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Jy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(Wd(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fi(n)}}function _A(e,t){var n=Fi(t.value),r=Fi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function D1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cm,$A=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cm=Cm||document.createElement("div"),Cm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E6=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(e){E6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),au[t]=au[e]})});function VA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||au.hasOwnProperty(e)&&au[e]?(""+t).trim():t+"px"}function UA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=VA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var T6=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zy(e,t){if(t){if(T6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function ej(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tj=null;function zw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sj=null,ec=null,tc=null;function F1(e){if(e=Ch(e)){if(typeof sj!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=vx(t),sj(e.stateNode,e.type,t))}}function BA(e){ec?tc?tc.push(e):tc=[e]:ec=e}function HA(){if(ec){var e=ec,t=tc;if(tc=ec=null,F1(e),t)for(e=0;e<t.length;e++)F1(t[e])}}function zA(e,t){return e(t)}function qA(){}var Zg=!1;function WA(e,t,n){if(Zg)return e(t,n);Zg=!0;try{return zA(e,t,n)}finally{Zg=!1,(ec!==null||tc!==null)&&(qA(),HA())}}function Eu(e,t){var n=e.stateNode;if(n===null)return null;var r=vx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var nj=!1;if(Na)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){nj=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{nj=!1}function P6(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var iu=!1,Gf=null,Jf=!1,rj=null,A6={onError:function(e){iu=!0,Gf=e}};function k6(e,t,n,r,a,i,o,l,c){iu=!1,Gf=null,P6.apply(A6,arguments)}function M6(e,t,n,r,a,i,o,l,c){if(k6.apply(this,arguments),iu){if(iu){var d=Gf;iu=!1,Gf=null}else throw Error(ve(198));Jf||(Jf=!0,rj=d)}}function cl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O1(e){if(cl(e)!==e)throw Error(ve(188))}function R6(e){var t=e.alternate;if(!t){if(t=cl(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return O1(a),e;if(i===r)return O1(a),t;i=i.sibling}throw Error(ve(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function KA(e){return e=R6(e),e!==null?XA(e):null}function XA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XA(e);if(t!==null)return t;e=e.sibling}return null}var GA=Pn.unstable_scheduleCallback,I1=Pn.unstable_cancelCallback,D6=Pn.unstable_shouldYield,F6=Pn.unstable_requestPaint,as=Pn.unstable_now,O6=Pn.unstable_getCurrentPriorityLevel,qw=Pn.unstable_ImmediatePriority,JA=Pn.unstable_UserBlockingPriority,Qf=Pn.unstable_NormalPriority,I6=Pn.unstable_LowPriority,QA=Pn.unstable_IdlePriority,fx=null,Hr=null;function _6(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(fx,e,void 0,(e.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:V6,L6=Math.log,$6=Math.LN2;function V6(e){return e>>>=0,e===0?32:31-(L6(e)/$6|0)|0}var Em=64,Tm=4194304;function Yd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Yd(l):(i&=o,i!==0&&(r=Yd(i)))}else o=n&~a,o!==0?r=Yd(o):i!==0&&(r=Yd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vr(t),a=1<<n,r|=e[n],t&=~a;return r}function U6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vr(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=U6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function aj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZA(){var e=Em;return Em<<=1,!(Em&4194240)&&(Em=64),e}function ev(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vr(t),e[t]=n}function H6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-vr(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Ww(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vr(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var jt=0;function ek(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tk,Yw,sk,nk,rk,ij=!1,Pm=[],yi=null,ji=null,wi=null,Tu=new Map,Pu=new Map,si=[],z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Tu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(t.pointerId)}}function Pd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ch(t),t!==null&&Yw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function q6(e,t,n,r,a){switch(t){case"focusin":return yi=Pd(yi,e,t,n,r,a),!0;case"dragenter":return ji=Pd(ji,e,t,n,r,a),!0;case"mouseover":return wi=Pd(wi,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Tu.set(i,Pd(Tu.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pu.set(i,Pd(Pu.get(i)||null,e,t,n,r,a)),!0}return!1}function ak(e){var t=po(e.target);if(t!==null){var n=cl(t);if(n!==null){if(t=n.tag,t===13){if(t=YA(n),t!==null){e.blockedOn=t,rk(e.priority,function(){sk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tj=r,n.target.dispatchEvent(r),tj=null}else return t=Ch(n),t!==null&&Yw(t),e.blockedOn=n,!1;t.shift()}return!0}function L1(e,t,n){vf(e)&&n.delete(t)}function W6(){ij=!1,yi!==null&&vf(yi)&&(yi=null),ji!==null&&vf(ji)&&(ji=null),wi!==null&&vf(wi)&&(wi=null),Tu.forEach(L1),Pu.forEach(L1)}function Ad(e,t){e.blockedOn===t&&(e.blockedOn=null,ij||(ij=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,W6)))}function Au(e){function t(a){return Ad(a,e)}if(0<Pm.length){Ad(Pm[0],e);for(var n=1;n<Pm.length;n++){var r=Pm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yi!==null&&Ad(yi,e),ji!==null&&Ad(ji,e),wi!==null&&Ad(wi,e),Tu.forEach(t),Pu.forEach(t),n=0;n<si.length;n++)r=si[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)ak(n),n.blockedOn===null&&si.shift()}var sc=Oa.ReactCurrentBatchConfig,ep=!0;function Y6(e,t,n,r){var a=jt,i=sc.transition;sc.transition=null;try{jt=1,Kw(e,t,n,r)}finally{jt=a,sc.transition=i}}function K6(e,t,n,r){var a=jt,i=sc.transition;sc.transition=null;try{jt=4,Kw(e,t,n,r)}finally{jt=a,sc.transition=i}}function Kw(e,t,n,r){if(ep){var a=oj(e,t,n,r);if(a===null)dv(e,t,r,tp,n),_1(e,r);else if(q6(a,e,t,n,r))r.stopPropagation();else if(_1(e,r),t&4&&-1<z6.indexOf(e)){for(;a!==null;){var i=Ch(a);if(i!==null&&tk(i),i=oj(e,t,n,r),i===null&&dv(e,t,r,tp,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else dv(e,t,r,null,n)}}var tp=null;function oj(e,t,n,r){if(tp=null,e=zw(r),e=po(e),e!==null)if(t=cl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tp=e,null}function ik(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O6()){case qw:return 1;case JA:return 4;case Qf:case I6:return 16;case QA:return 536870912;default:return 16}default:return 16}}var xi=null,Xw=null,yf=null;function ok(){if(yf)return yf;var e,t=Xw,n=t.length,r,a="value"in xi?xi.value:xi.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return yf=a.slice(e,1<r?1-r:void 0)}function jf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Am(){return!0}function $1(){return!1}function Dn(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Am:$1,this.isPropagationStopped=$1,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Am)},persist:function(){},isPersistent:Am}),t}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gw=Dn(sd),Sh=Jt({},sd,{view:0,detail:0}),X6=Dn(Sh),tv,sv,kd,px=Jt({},Sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kd&&(kd&&e.type==="mousemove"?(tv=e.screenX-kd.screenX,sv=e.screenY-kd.screenY):sv=tv=0,kd=e),tv)},movementY:function(e){return"movementY"in e?e.movementY:sv}}),V1=Dn(px),G6=Jt({},px,{dataTransfer:0}),J6=Dn(G6),Q6=Jt({},Sh,{relatedTarget:0}),nv=Dn(Q6),Z6=Jt({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),eU=Dn(Z6),tU=Jt({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sU=Dn(tU),nU=Jt({},sd,{data:0}),U1=Dn(nU),rU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iU[e])?!!t[e]:!1}function Jw(){return oU}var lU=Jt({},Sh,{key:function(e){if(e.key){var t=rU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jw,charCode:function(e){return e.type==="keypress"?jf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cU=Dn(lU),dU=Jt({},px,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=Dn(dU),uU=Jt({},Sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jw}),hU=Dn(uU),mU=Jt({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),fU=Dn(mU),pU=Jt({},px,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xU=Dn(pU),gU=[9,13,27,32],Qw=Na&&"CompositionEvent"in window,ou=null;Na&&"documentMode"in document&&(ou=document.documentMode);var vU=Na&&"TextEvent"in window&&!ou,lk=Na&&(!Qw||ou&&8<ou&&11>=ou),H1=" ",z1=!1;function ck(e,t){switch(e){case"keyup":return gU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dl=!1;function yU(e,t){switch(e){case"compositionend":return dk(t);case"keypress":return t.which!==32?null:(z1=!0,H1);case"textInput":return e=t.data,e===H1&&z1?null:e;default:return null}}function jU(e,t){if(Dl)return e==="compositionend"||!Qw&&ck(e,t)?(e=ok(),yf=Xw=xi=null,Dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lk&&t.locale!=="ko"?null:t.data;default:return null}}var wU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wU[e.type]:t==="textarea"}function uk(e,t,n,r){BA(r),t=sp(t,"onChange"),0<t.length&&(n=new Gw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lu=null,ku=null;function NU(e){Nk(e,0)}function xx(e){var t=Il(e);if(OA(t))return e}function bU(e,t){if(e==="change")return t}var hk=!1;if(Na){var rv;if(Na){var av="oninput"in document;if(!av){var W1=document.createElement("div");W1.setAttribute("oninput","return;"),av=typeof W1.oninput=="function"}rv=av}else rv=!1;hk=rv&&(!document.documentMode||9<document.documentMode)}function Y1(){lu&&(lu.detachEvent("onpropertychange",mk),ku=lu=null)}function mk(e){if(e.propertyName==="value"&&xx(ku)){var t=[];uk(t,ku,e,zw(e)),WA(NU,t)}}function SU(e,t,n){e==="focusin"?(Y1(),lu=t,ku=n,lu.attachEvent("onpropertychange",mk)):e==="focusout"&&Y1()}function CU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xx(ku)}function EU(e,t){if(e==="click")return xx(t)}function TU(e,t){if(e==="input"||e==="change")return xx(t)}function PU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:PU;function Mu(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Hy.call(t,a)||!wr(e[a],t[a]))return!1}return!0}function K1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X1(e,t){var n=K1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K1(n)}}function fk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pk(){for(var e=window,t=Xf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xf(e.document)}return t}function Zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AU(e){var t=pk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fk(n.ownerDocument.documentElement,n)){if(r!==null&&Zw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=X1(n,i);var o=X1(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kU=Na&&"documentMode"in document&&11>=document.documentMode,Fl=null,lj=null,cu=null,cj=!1;function G1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cj||Fl==null||Fl!==Xf(r)||(r=Fl,"selectionStart"in r&&Zw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cu&&Mu(cu,r)||(cu=r,r=sp(lj,"onSelect"),0<r.length&&(t=new Gw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fl)))}function km(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ol={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},iv={},xk={};Na&&(xk=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function gx(e){if(iv[e])return iv[e];if(!Ol[e])return e;var t=Ol[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xk)return iv[e]=t[n];return e}var gk=gx("animationend"),vk=gx("animationiteration"),yk=gx("animationstart"),jk=gx("transitionend"),wk=new Map,J1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){wk.set(e,t),ll(t,[e])}for(var ov=0;ov<J1.length;ov++){var lv=J1[ov],MU=lv.toLowerCase(),RU=lv[0].toUpperCase()+lv.slice(1);Wi(MU,"on"+RU)}Wi(gk,"onAnimationEnd");Wi(vk,"onAnimationIteration");Wi(yk,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(jk,"onTransitionEnd");Ac("onMouseEnter",["mouseout","mouseover"]);Ac("onMouseLeave",["mouseout","mouseover"]);Ac("onPointerEnter",["pointerout","pointerover"]);Ac("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function Q1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,M6(r,t,void 0,e),e.currentTarget=null}function Nk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Q1(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Q1(a,l,d),i=c}}}if(Jf)throw e=rj,Jf=!1,rj=null,e}function Ot(e,t){var n=t[fj];n===void 0&&(n=t[fj]=new Set);var r=e+"__bubble";n.has(r)||(bk(t,e,2,!1),n.add(r))}function cv(e,t,n){var r=0;t&&(r|=4),bk(n,e,r,t)}var Mm="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Mm]){e[Mm]=!0,kA.forEach(function(n){n!=="selectionchange"&&(DU.has(n)||cv(n,!1,e),cv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mm]||(t[Mm]=!0,cv("selectionchange",!1,t))}}function bk(e,t,n,r){switch(ik(t)){case 1:var a=Y6;break;case 4:a=K6;break;default:a=Kw}n=a.bind(null,t,n,e),a=void 0,!nj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function dv(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=po(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}WA(function(){var d=i,u=zw(n),h=[];e:{var f=wk.get(e);if(f!==void 0){var x=Gw,g=e;switch(e){case"keypress":if(jf(n)===0)break e;case"keydown":case"keyup":x=cU;break;case"focusin":g="focus",x=nv;break;case"focusout":g="blur",x=nv;break;case"beforeblur":case"afterblur":x=nv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=J6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hU;break;case gk:case vk:case yk:x=eU;break;case jk:x=fU;break;case"scroll":x=X6;break;case"wheel":x=xU;break;case"copy":case"cut":case"paste":x=sU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=B1}var p=(t&4)!==0,j=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=d,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=Eu(y,v),N!=null&&p.push(Du(y,N,w)))),j)break;y=y.return}0<p.length&&(f=new x(f,g,null,n,u),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&n!==tj&&(g=n.relatedTarget||n.fromElement)&&(po(g)||g[ba]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=d,g=g?po(g):null,g!==null&&(j=cl(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(p=V1,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=B1,N="onPointerLeave",v="onPointerEnter",y="pointer"),j=x==null?f:Il(x),w=g==null?f:Il(g),f=new p(N,y+"leave",x,n,u),f.target=j,f.relatedTarget=w,N=null,po(u)===d&&(p=new p(v,y+"enter",g,n,u),p.target=w,p.relatedTarget=j,N=p),j=N,x&&g)t:{for(p=x,v=g,y=0,w=p;w;w=gl(w))y++;for(w=0,N=v;N;N=gl(N))w++;for(;0<y-w;)p=gl(p),y--;for(;0<w-y;)v=gl(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=gl(p),v=gl(v)}p=null}else p=null;x!==null&&Z1(h,f,x,p,!1),g!==null&&j!==null&&Z1(h,j,g,p,!0)}}e:{if(f=d?Il(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var b=bU;else if(q1(f))if(hk)b=TU;else{b=CU;var C=SU}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=EU);if(b&&(b=b(e,d))){uk(h,b,n,u);break e}C&&C(e,f,d),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Gy(f,"number",f.value)}switch(C=d?Il(d):window,e){case"focusin":(q1(C)||C.contentEditable==="true")&&(Fl=C,lj=d,cu=null);break;case"focusout":cu=lj=Fl=null;break;case"mousedown":cj=!0;break;case"contextmenu":case"mouseup":case"dragend":cj=!1,G1(h,n,u);break;case"selectionchange":if(kU)break;case"keydown":case"keyup":G1(h,n,u)}var S;if(Qw)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Dl?ck(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(lk&&n.locale!=="ko"&&(Dl||P!=="onCompositionStart"?P==="onCompositionEnd"&&Dl&&(S=ok()):(xi=u,Xw="value"in xi?xi.value:xi.textContent,Dl=!0)),C=sp(d,P),0<C.length&&(P=new U1(P,e,null,n,u),h.push({event:P,listeners:C}),S?P.data=S:(S=dk(n),S!==null&&(P.data=S)))),(S=vU?yU(e,n):jU(e,n))&&(d=sp(d,"onBeforeInput"),0<d.length&&(u=new U1("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=S))}Nk(h,t)})}function Du(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sp(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Eu(e,n),i!=null&&r.unshift(Du(e,i,a)),i=Eu(e,t),i!=null&&r.push(Du(e,i,a))),e=e.return}return r}function gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z1(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Eu(n,i),c!=null&&o.unshift(Du(n,c,l))):a||(c=Eu(n,i),c!=null&&o.push(Du(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var FU=/\r\n?/g,OU=/\u0000|\uFFFD/g;function eC(e){return(typeof e=="string"?e:""+e).replace(FU,`
`).replace(OU,"")}function Rm(e,t,n){if(t=eC(t),eC(e)!==t&&n)throw Error(ve(425))}function np(){}var dj=null,uj=null;function hj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mj=typeof setTimeout=="function"?setTimeout:void 0,IU=typeof clearTimeout=="function"?clearTimeout:void 0,tC=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof tC<"u"?function(e){return tC.resolve(null).then(e).catch(LU)}:mj;function LU(e){setTimeout(function(){throw e})}function uv(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Au(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Au(t)}function Ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nd=Math.random().toString(36).slice(2),Vr="__reactFiber$"+nd,Fu="__reactProps$"+nd,ba="__reactContainer$"+nd,fj="__reactEvents$"+nd,$U="__reactListeners$"+nd,VU="__reactHandles$"+nd;function po(e){var t=e[Vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ba]||n[Vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sC(e);e!==null;){if(n=e[Vr])return n;e=sC(e)}return t}e=n,n=e.parentNode}return null}function Ch(e){return e=e[Vr]||e[ba],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Il(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function vx(e){return e[Fu]||null}var pj=[],_l=-1;function Yi(e){return{current:e}}function It(e){0>_l||(e.current=pj[_l],pj[_l]=null,_l--)}function At(e,t){_l++,pj[_l]=e.current,e.current=t}var Oi={},Rs=Yi(Oi),on=Yi(!1),Vo=Oi;function kc(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ln(e){return e=e.childContextTypes,e!=null}function rp(){It(on),It(Rs)}function nC(e,t,n){if(Rs.current!==Oi)throw Error(ve(168));At(Rs,t),At(on,n)}function Sk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ve(108,S6(e)||"Unknown",a));return Jt({},n,r)}function ap(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Vo=Rs.current,At(Rs,e),At(on,on.current),!0}function rC(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=Sk(e,t,Vo),r.__reactInternalMemoizedMergedChildContext=e,It(on),It(Rs),At(Rs,e)):It(on),At(on,n)}var ua=null,yx=!1,hv=!1;function Ck(e){ua===null?ua=[e]:ua.push(e)}function UU(e){yx=!0,Ck(e)}function Ki(){if(!hv&&ua!==null){hv=!0;var e=0,t=jt;try{var n=ua;for(jt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ua=null,yx=!1}catch(a){throw ua!==null&&(ua=ua.slice(e+1)),GA(qw,Ki),a}finally{jt=t,hv=!1}}return null}var Ll=[],$l=0,ip=null,op=0,Vn=[],Un=0,Uo=null,fa=1,pa="";function oo(e,t){Ll[$l++]=op,Ll[$l++]=ip,ip=e,op=t}function Ek(e,t,n){Vn[Un++]=fa,Vn[Un++]=pa,Vn[Un++]=Uo,Uo=e;var r=fa;e=pa;var a=32-vr(r)-1;r&=~(1<<a),n+=1;var i=32-vr(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,fa=1<<32-vr(t)+a|n<<a|r,pa=i+e}else fa=1<<i|n<<a|r,pa=e}function eN(e){e.return!==null&&(oo(e,1),Ek(e,1,0))}function tN(e){for(;e===ip;)ip=Ll[--$l],Ll[$l]=null,op=Ll[--$l],Ll[$l]=null;for(;e===Uo;)Uo=Vn[--Un],Vn[Un]=null,pa=Vn[--Un],Vn[Un]=null,fa=Vn[--Un],Vn[Un]=null}var Cn=null,Sn=null,Vt=!1,fr=null;function Tk(e,t){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=Ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Uo!==null?{id:fa,overflow:pa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cn=e,Sn=null,!0):!1;default:return!1}}function xj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gj(e){if(Vt){var t=Sn;if(t){var n=t;if(!aC(e,t)){if(xj(e))throw Error(ve(418));t=Ni(n.nextSibling);var r=Cn;t&&aC(e,t)?Tk(r,n):(e.flags=e.flags&-4097|2,Vt=!1,Cn=e)}}else{if(xj(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Vt=!1,Cn=e}}}function iC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function Dm(e){if(e!==Cn)return!1;if(!Vt)return iC(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hj(e.type,e.memoizedProps)),t&&(t=Sn)){if(xj(e))throw Pk(),Error(ve(418));for(;t;)Tk(e,t),t=Ni(t.nextSibling)}if(iC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sn=Ni(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=Cn?Ni(e.stateNode.nextSibling):null;return!0}function Pk(){for(var e=Sn;e;)e=Ni(e.nextSibling)}function Mc(){Sn=Cn=null,Vt=!1}function sN(e){fr===null?fr=[e]:fr.push(e)}var BU=Oa.ReactCurrentBatchConfig;function Md(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function Fm(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oC(e){var t=e._init;return t(e._payload)}function Ak(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Ei(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,N){return y===null||y.tag!==6?(y=yv(w,v.mode,N),y.return=v,y):(y=a(y,w),y.return=v,y)}function c(v,y,w,N){var b=w.type;return b===Rl?u(v,y,w.props.children,N,w.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ei&&oC(b)===y.type)?(N=a(y,w.props),N.ref=Md(v,y,w),N.return=v,N):(N=Tf(w.type,w.key,w.props,null,v.mode,N),N.ref=Md(v,y,w),N.return=v,N)}function d(v,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=jv(w,v.mode,N),y.return=v,y):(y=a(y,w.children||[]),y.return=v,y)}function u(v,y,w,N,b){return y===null||y.tag!==7?(y=Do(w,v.mode,N,b),y.return=v,y):(y=a(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yv(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bm:return w=Tf(y.type,y.key,y.props,null,v.mode,w),w.ref=Md(v,null,y),w.return=v,w;case Ml:return y=jv(y,v.mode,w),y.return=v,y;case ei:var N=y._init;return h(v,N(y._payload),w)}if(Wd(y)||Ed(y))return y=Do(y,v.mode,w,null),y.return=v,y;Fm(v,y)}return null}function f(v,y,w,N){var b=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:l(v,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bm:return w.key===b?c(v,y,w,N):null;case Ml:return w.key===b?d(v,y,w,N):null;case ei:return b=w._init,f(v,y,b(w._payload),N)}if(Wd(w)||Ed(w))return b!==null?null:u(v,y,w,N,null);Fm(v,w)}return null}function x(v,y,w,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,l(y,v,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bm:return v=v.get(N.key===null?w:N.key)||null,c(y,v,N,b);case Ml:return v=v.get(N.key===null?w:N.key)||null,d(y,v,N,b);case ei:var C=N._init;return x(v,y,w,C(N._payload),b)}if(Wd(N)||Ed(N))return v=v.get(w)||null,u(y,v,N,b,null);Fm(y,N)}return null}function g(v,y,w,N){for(var b=null,C=null,S=y,P=y=0,A=null;S!==null&&P<w.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var F=f(v,S,w[P],N);if(F===null){S===null&&(S=A);break}e&&S&&F.alternate===null&&t(v,S),y=i(F,y,P),C===null?b=F:C.sibling=F,C=F,S=A}if(P===w.length)return n(v,S),Vt&&oo(v,P),b;if(S===null){for(;P<w.length;P++)S=h(v,w[P],N),S!==null&&(y=i(S,y,P),C===null?b=S:C.sibling=S,C=S);return Vt&&oo(v,P),b}for(S=r(v,S);P<w.length;P++)A=x(S,v,P,w[P],N),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),y=i(A,y,P),C===null?b=A:C.sibling=A,C=A);return e&&S.forEach(function(O){return t(v,O)}),Vt&&oo(v,P),b}function p(v,y,w,N){var b=Ed(w);if(typeof b!="function")throw Error(ve(150));if(w=b.call(w),w==null)throw Error(ve(151));for(var C=b=null,S=y,P=y=0,A=null,F=w.next();S!==null&&!F.done;P++,F=w.next()){S.index>P?(A=S,S=null):A=S.sibling;var O=f(v,S,F.value,N);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(v,S),y=i(O,y,P),C===null?b=O:C.sibling=O,C=O,S=A}if(F.done)return n(v,S),Vt&&oo(v,P),b;if(S===null){for(;!F.done;P++,F=w.next())F=h(v,F.value,N),F!==null&&(y=i(F,y,P),C===null?b=F:C.sibling=F,C=F);return Vt&&oo(v,P),b}for(S=r(v,S);!F.done;P++,F=w.next())F=x(S,v,P,F.value,N),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?P:F.key),y=i(F,y,P),C===null?b=F:C.sibling=F,C=F);return e&&S.forEach(function(_){return t(v,_)}),Vt&&oo(v,P),b}function j(v,y,w,N){if(typeof w=="object"&&w!==null&&w.type===Rl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bm:e:{for(var b=w.key,C=y;C!==null;){if(C.key===b){if(b=w.type,b===Rl){if(C.tag===7){n(v,C.sibling),y=a(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ei&&oC(b)===C.type){n(v,C.sibling),y=a(C,w.props),y.ref=Md(v,C,w),y.return=v,v=y;break e}n(v,C);break}else t(v,C);C=C.sibling}w.type===Rl?(y=Do(w.props.children,v.mode,N,w.key),y.return=v,v=y):(N=Tf(w.type,w.key,w.props,null,v.mode,N),N.ref=Md(v,y,w),N.return=v,v=N)}return o(v);case Ml:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=a(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=jv(w,v.mode,N),y.return=v,v=y}return o(v);case ei:return C=w._init,j(v,y,C(w._payload),N)}if(Wd(w))return g(v,y,w,N);if(Ed(w))return p(v,y,w,N);Fm(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,w),y.return=v,v=y):(n(v,y),y=yv(w,v.mode,N),y.return=v,v=y),o(v)):n(v,y)}return j}var Rc=Ak(!0),kk=Ak(!1),lp=Yi(null),cp=null,Vl=null,nN=null;function rN(){nN=Vl=cp=null}function aN(e){var t=lp.current;It(lp),e._currentValue=t}function vj(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nc(e,t){cp=e,nN=Vl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(nN!==e)if(e={context:e,memoizedValue:t,next:null},Vl===null){if(cp===null)throw Error(ve(308));Vl=e,cp.dependencies={lanes:0,firstContext:e}}else Vl=Vl.next=e;return t}var xo=null;function iN(e){xo===null?xo=[e]:xo.push(e)}function Mk(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,iN(t)):(n.next=a.next,a.next=n),t.interleaved=n,Sa(e,r)}function Sa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ti=!1;function oN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Sa(e,n)}return a=r.interleaved,a===null?(t.next=t,iN(r)):(t.next=a.next,a.next=t),r.interleaved=t,Sa(e,n)}function wf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ww(e,n)}}function lC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dp(e,t,n,r){var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,x=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(x,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(x,h,f):g,f==null)break e;h=Jt({},h,f);break e;case 2:ti=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ho|=o,e.lanes=o,e.memoizedState=h}}function cC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ve(191,a));a.call(r)}}}var Eh={},zr=Yi(Eh),Ou=Yi(Eh),Iu=Yi(Eh);function go(e){if(e===Eh)throw Error(ve(174));return e}function lN(e,t){switch(At(Iu,t),At(Ou,e),At(zr,Eh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qy(t,e)}It(zr),At(zr,t)}function Dc(){It(zr),It(Ou),It(Iu)}function Dk(e){go(Iu.current);var t=go(zr.current),n=Qy(t,e.type);t!==n&&(At(Ou,e),At(zr,n))}function cN(e){Ou.current===e&&(It(zr),It(Ou))}var qt=Yi(0);function up(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mv=[];function dN(){for(var e=0;e<mv.length;e++)mv[e]._workInProgressVersionPrimary=null;mv.length=0}var Nf=Oa.ReactCurrentDispatcher,fv=Oa.ReactCurrentBatchConfig,Bo=0,Xt=null,us=null,fs=null,hp=!1,du=!1,_u=0,HU=0;function Es(){throw Error(ve(321))}function uN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wr(e[n],t[n]))return!1;return!0}function hN(e,t,n,r,a,i){if(Bo=i,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nf.current=e===null||e.memoizedState===null?YU:KU,e=n(r,a),du){i=0;do{if(du=!1,_u=0,25<=i)throw Error(ve(301));i+=1,fs=us=null,t.updateQueue=null,Nf.current=XU,e=n(r,a)}while(du)}if(Nf.current=mp,t=us!==null&&us.next!==null,Bo=0,fs=us=Xt=null,hp=!1,t)throw Error(ve(300));return e}function mN(){var e=_u!==0;return _u=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?Xt.memoizedState=fs=e:fs=fs.next=e,fs}function Xn(){if(us===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=us.next;var t=fs===null?Xt.memoizedState:fs.next;if(t!==null)fs=t,us=e;else{if(e===null)throw Error(ve(310));us=e,e={memoizedState:us.memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},fs===null?Xt.memoizedState=fs=e:fs=fs.next=e}return fs}function Lu(e,t){return typeof t=="function"?t(e):t}function pv(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=us,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Bo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Xt.lanes|=u,Ho|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,wr(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Xt.lanes|=i,Ho|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xv(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);wr(i,t.memoizedState)||(tn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fk(){}function Ok(e,t){var n=Xt,r=Xn(),a=t(),i=!wr(r.memoizedState,a);if(i&&(r.memoizedState=a,tn=!0),r=r.queue,fN(Lk.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fs!==null&&fs.memoizedState.tag&1){if(n.flags|=2048,$u(9,_k.bind(null,n,r,a,t),void 0,null),xs===null)throw Error(ve(349));Bo&30||Ik(n,t,a)}return a}function Ik(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _k(e,t,n,r){t.value=n,t.getSnapshot=r,$k(t)&&Vk(e)}function Lk(e,t,n){return n(function(){$k(t)&&Vk(e)})}function $k(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wr(e,n)}catch{return!0}}function Vk(e){var t=Sa(e,1);t!==null&&yr(t,e,1,-1)}function dC(e){var t=Or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:e},t.queue=e,e=e.dispatch=WU.bind(null,Xt,e),[t.memoizedState,e]}function $u(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uk(){return Xn().memoizedState}function bf(e,t,n,r){var a=Or();Xt.flags|=e,a.memoizedState=$u(1|t,n,void 0,r===void 0?null:r)}function jx(e,t,n,r){var a=Xn();r=r===void 0?null:r;var i=void 0;if(us!==null){var o=us.memoizedState;if(i=o.destroy,r!==null&&uN(r,o.deps)){a.memoizedState=$u(t,n,i,r);return}}Xt.flags|=e,a.memoizedState=$u(1|t,n,i,r)}function uC(e,t){return bf(8390656,8,e,t)}function fN(e,t){return jx(2048,8,e,t)}function Bk(e,t){return jx(4,2,e,t)}function Hk(e,t){return jx(4,4,e,t)}function zk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qk(e,t,n){return n=n!=null?n.concat([e]):null,jx(4,4,zk.bind(null,t,e),n)}function pN(){}function Wk(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uN(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yk(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uN(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kk(e,t,n){return Bo&21?(wr(n,t)||(n=ZA(),Xt.lanes|=n,Ho|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function zU(e,t){var n=jt;jt=n!==0&&4>n?n:4,e(!0);var r=fv.transition;fv.transition={};try{e(!1),t()}finally{jt=n,fv.transition=r}}function Xk(){return Xn().memoizedState}function qU(e,t,n){var r=Ci(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gk(e))Jk(t,n);else if(n=Mk(e,t,n,r),n!==null){var a=Us();yr(n,e,r,a),Qk(n,t,r)}}function WU(e,t,n){var r=Ci(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gk(e))Jk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,wr(l,o)){var c=t.interleaved;c===null?(a.next=a,iN(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Mk(e,t,a,r),n!==null&&(a=Us(),yr(n,e,r,a),Qk(n,t,r))}}function Gk(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function Jk(e,t){du=hp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ww(e,n)}}var mp={readContext:Kn,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},YU={readContext:Kn,useCallback:function(e,t){return Or().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:uC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bf(4194308,4,zk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bf(4194308,4,e,t)},useInsertionEffect:function(e,t){return bf(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qU.bind(null,Xt,e),[r.memoizedState,e]},useRef:function(e){var t=Or();return e={current:e},t.memoizedState=e},useState:dC,useDebugValue:pN,useDeferredValue:function(e){return Or().memoizedState=e},useTransition:function(){var e=dC(!1),t=e[0];return e=zU.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xt,a=Or();if(Vt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),xs===null)throw Error(ve(349));Bo&30||Ik(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,uC(Lk.bind(null,r,i,e),[e]),r.flags|=2048,$u(9,_k.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Or(),t=xs.identifierPrefix;if(Vt){var n=pa,r=fa;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=HU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KU={readContext:Kn,useCallback:Wk,useContext:Kn,useEffect:fN,useImperativeHandle:qk,useInsertionEffect:Bk,useLayoutEffect:Hk,useMemo:Yk,useReducer:pv,useRef:Uk,useState:function(){return pv(Lu)},useDebugValue:pN,useDeferredValue:function(e){var t=Xn();return Kk(t,us.memoizedState,e)},useTransition:function(){var e=pv(Lu)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:Fk,useSyncExternalStore:Ok,useId:Xk,unstable_isNewReconciler:!1},XU={readContext:Kn,useCallback:Wk,useContext:Kn,useEffect:fN,useImperativeHandle:qk,useInsertionEffect:Bk,useLayoutEffect:Hk,useMemo:Yk,useReducer:xv,useRef:Uk,useState:function(){return xv(Lu)},useDebugValue:pN,useDeferredValue:function(e){var t=Xn();return us===null?t.memoizedState=e:Kk(t,us.memoizedState,e)},useTransition:function(){var e=xv(Lu)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:Fk,useSyncExternalStore:Ok,useId:Xk,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yj(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wx={isMounted:function(e){return(e=e._reactInternals)?cl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Us(),a=Ci(e),i=ya(r,a);i.payload=t,n!=null&&(i.callback=n),t=bi(e,i,a),t!==null&&(yr(t,e,a,r),wf(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Us(),a=Ci(e),i=ya(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bi(e,i,a),t!==null&&(yr(t,e,a,r),wf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Us(),r=Ci(e),a=ya(n,r);a.tag=2,t!=null&&(a.callback=t),t=bi(e,a,r),t!==null&&(yr(t,e,r,n),wf(t,e,r))}};function hC(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mu(n,r)||!Mu(a,i):!0}function Zk(e,t,n){var r=!1,a=Oi,i=t.contextType;return typeof i=="object"&&i!==null?i=Kn(i):(a=ln(t)?Vo:Rs.current,r=t.contextTypes,i=(r=r!=null)?kc(e,a):Oi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function mC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wx.enqueueReplaceState(t,t.state,null)}function jj(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},oN(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Kn(i):(i=ln(t)?Vo:Rs.current,a.context=kc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yj(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wx.enqueueReplaceState(a,a.state,null),dp(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fc(e,t){try{var n="",r=t;do n+=b6(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function gv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wj(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var GU=typeof WeakMap=="function"?WeakMap:Map;function eM(e,t,n){n=ya(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pp||(pp=!0,Mj=r),wj(e,t)},n}function tM(e,t,n){n=ya(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){wj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wj(e,t),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function fC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new GU;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=d8.bind(null,e,t,n),t.then(e,e))}function pC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xC(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ya(-1,1),t.tag=2,bi(n,t,1))),n.lanes|=1),e)}var JU=Oa.ReactCurrentOwner,tn=!1;function _s(e,t,n,r){t.child=e===null?kk(t,null,n,r):Rc(t,e.child,n,r)}function gC(e,t,n,r,a){n=n.render;var i=t.ref;return nc(t,a),r=hN(e,t,n,r,i,a),n=mN(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(Vt&&n&&eN(t),t.flags|=1,_s(e,t,r,a),t.child)}function vC(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!bN(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sM(e,t,i,r,a)):(e=Tf(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(o,r)&&e.ref===t.ref)return Ca(e,t,a)}return t.flags|=1,e=Ei(i,r),e.ref=t.ref,e.return=t,t.child=e}function sM(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Mu(i,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Ca(e,t,a)}return Nj(e,t,n,r,a)}function nM(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Bl,yn),yn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(Bl,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,At(Bl,yn),yn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,At(Bl,yn),yn|=r;return _s(e,t,a,n),t.child}function rM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nj(e,t,n,r,a){var i=ln(n)?Vo:Rs.current;return i=kc(t,i),nc(t,a),n=hN(e,t,n,r,i,a),r=mN(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(Vt&&r&&eN(t),t.flags|=1,_s(e,t,n,a),t.child)}function yC(e,t,n,r,a){if(ln(n)){var i=!0;ap(t)}else i=!1;if(nc(t,a),t.stateNode===null)Sf(e,t),Zk(t,n,r),jj(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Kn(d):(d=ln(n)?Vo:Rs.current,d=kc(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&mC(t,o,r,d),ti=!1;var f=t.memoizedState;o.state=f,dp(t,r,o,a),c=t.memoizedState,l!==r||f!==c||on.current||ti?(typeof u=="function"&&(yj(t,n,u,r),c=t.memoizedState),(l=ti||hC(t,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rk(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:cr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kn(c):(c=ln(n)?Vo:Rs.current,c=kc(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&mC(t,o,r,c),ti=!1,f=t.memoizedState,o.state=f,dp(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||on.current||ti?(typeof x=="function"&&(yj(t,n,x,r),g=t.memoizedState),(d=ti||hC(t,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bj(e,t,n,r,i,a)}function bj(e,t,n,r,a,i){rM(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&rC(t,n,!1),Ca(e,t,i);r=t.stateNode,JU.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Rc(t,e.child,null,i),t.child=Rc(t,null,l,i)):_s(e,t,l,i),t.memoizedState=r.state,a&&rC(t,n,!0),t.child}function aM(e){var t=e.stateNode;t.pendingContext?nC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nC(e,t.context,!1),lN(e,t.containerInfo)}function jC(e,t,n,r,a){return Mc(),sN(a),t.flags|=256,_s(e,t,n,r),t.child}var Sj={dehydrated:null,treeContext:null,retryLane:0};function Cj(e){return{baseLanes:e,cachePool:null,transitions:null}}function iM(e,t,n){var r=t.pendingProps,a=qt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),At(qt,a&1),e===null)return gj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sx(o,r,0,null),e=Do(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cj(n),t.memoizedState=Sj,e):xN(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QU(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ei(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ei(l,i):(i=Do(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Cj(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Sj,r}return i=e.child,e=i.sibling,r=Ei(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xN(e,t){return t=Sx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Om(e,t,n,r){return r!==null&&sN(r),Rc(t,e.child,null,n),e=xN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QU(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=gv(Error(ve(422))),Om(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Sx({mode:"visible",children:r.children},a,0,null),i=Do(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Rc(t,e.child,null,o),t.child.memoizedState=Cj(o),t.memoizedState=Sj,i);if(!(t.mode&1))return Om(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ve(419)),r=gv(i,r,void 0),Om(e,t,o,r)}if(l=(o&e.childLanes)!==0,tn||l){if(r=xs,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Sa(e,a),yr(r,e,a,-1))}return NN(),r=gv(Error(ve(421))),Om(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=u8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Sn=Ni(a.nextSibling),Cn=t,Vt=!0,fr=null,e!==null&&(Vn[Un++]=fa,Vn[Un++]=pa,Vn[Un++]=Uo,fa=e.id,pa=e.overflow,Uo=t),t=xN(t,r.children),t.flags|=4096,t)}function wC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vj(e.return,t,n)}function vv(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function oM(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_s(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wC(e,n,t);else if(e.tag===19)wC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(At(qt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&up(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),vv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&up(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}vv(t,!0,n,null,i);break;case"together":vv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ca(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ho|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=Ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZU(e,t,n){switch(t.tag){case 3:aM(t),Mc();break;case 5:Dk(t);break;case 1:ln(t.type)&&ap(t);break;case 4:lN(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;At(lp,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(At(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?iM(e,t,n):(At(qt,qt.current&1),e=Ca(e,t,n),e!==null?e.sibling:null);At(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oM(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,nM(e,t,n)}return Ca(e,t,n)}var lM,Ej,cM,dM;lM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ej=function(){};cM=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,go(zr.current);var i=null;switch(n){case"input":a=Ky(e,a),r=Ky(e,r),i=[];break;case"select":a=Jt({},a,{value:void 0}),r=Jt({},r,{value:void 0}),i=[];break;case"textarea":a=Jy(e,a),r=Jy(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=np)}Zy(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Su.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Su.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};dM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rd(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ts(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function e8(e,t,n){var r=t.pendingProps;switch(tN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(t),null;case 1:return ln(t.type)&&rp(),Ts(t),null;case 3:return r=t.stateNode,Dc(),It(on),It(Rs),dN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Dm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(Fj(fr),fr=null))),Ej(e,t),Ts(t),null;case 5:cN(t);var a=go(Iu.current);if(n=t.type,e!==null&&t.stateNode!=null)cM(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return Ts(t),null}if(e=go(zr.current),Dm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Vr]=t,r[Fu]=i,e=(t.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(a=0;a<Kd.length;a++)Ot(Kd[a],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":k1(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":R1(r,i),Ot("invalid",r)}Zy(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rm(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rm(r.textContent,l,e),a=["children",""+l]):Su.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Sm(r),M1(r,i,!0);break;case"textarea":Sm(r),D1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=np)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Vr]=t,e[Fu]=r,lM(e,t,!1,!1),t.stateNode=e;e:{switch(o=ej(n,r),n){case"dialog":Ot("cancel",e),Ot("close",e),a=r;break;case"iframe":case"object":case"embed":Ot("load",e),a=r;break;case"video":case"audio":for(a=0;a<Kd.length;a++)Ot(Kd[a],e);a=r;break;case"source":Ot("error",e),a=r;break;case"img":case"image":case"link":Ot("error",e),Ot("load",e),a=r;break;case"details":Ot("toggle",e),a=r;break;case"input":k1(e,r),a=Ky(e,r),Ot("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Jt({},r,{value:void 0}),Ot("invalid",e);break;case"textarea":R1(e,r),a=Jy(e,r),Ot("invalid",e);break;default:a=r}Zy(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?UA(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$A(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cu(e,c):typeof c=="number"&&Cu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Su.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ot("scroll",e):c!=null&&Vw(e,i,c,o))}switch(n){case"input":Sm(e),M1(e,r,!1);break;case"textarea":Sm(e),D1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Zl(e,!!r.multiple,i,!1):r.defaultValue!=null&&Zl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=np)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ts(t),null;case 6:if(e&&t.stateNode!=null)dM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=go(Iu.current),go(zr.current),Dm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,(i=r.nodeValue!==n)&&(e=Cn,e!==null))switch(e.tag){case 3:Rm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=t,t.stateNode=r}return Ts(t),null;case 13:if(It(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&Sn!==null&&t.mode&1&&!(t.flags&128))Pk(),Mc(),t.flags|=98560,i=!1;else if(i=Dm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[Vr]=t}else Mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ts(t),i=!1}else fr!==null&&(Fj(fr),fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?ms===0&&(ms=3):NN())),t.updateQueue!==null&&(t.flags|=4),Ts(t),null);case 4:return Dc(),Ej(e,t),e===null&&Ru(t.stateNode.containerInfo),Ts(t),null;case 10:return aN(t.type._context),Ts(t),null;case 17:return ln(t.type)&&rp(),Ts(t),null;case 19:if(It(qt),i=t.memoizedState,i===null)return Ts(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Rd(i,!1);else{if(ms!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=up(e),o!==null){for(t.flags|=128,Rd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return At(qt,qt.current&1|2),t.child}e=e.sibling}i.tail!==null&&as()>Oc&&(t.flags|=128,r=!0,Rd(i,!1),t.lanes=4194304)}else{if(!r)if(e=up(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Vt)return Ts(t),null}else 2*as()-i.renderingStartTime>Oc&&n!==1073741824&&(t.flags|=128,r=!0,Rd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=as(),t.sibling=null,n=qt.current,At(qt,r?n&1|2:n&1),t):(Ts(t),null);case 22:case 23:return wN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Ts(t),t.subtreeFlags&6&&(t.flags|=8192)):Ts(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function t8(e,t){switch(tN(t),t.tag){case 1:return ln(t.type)&&rp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dc(),It(on),It(Rs),dN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cN(t),null;case 13:if(It(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(qt),null;case 4:return Dc(),null;case 10:return aN(t.type._context),null;case 22:case 23:return wN(),null;case 24:return null;default:return null}}var Im=!1,As=!1,s8=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ul(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ss(e,t,r)}else n.current=null}function Tj(e,t,n){try{n()}catch(r){ss(e,t,r)}}var NC=!1;function n8(e,t){if(dj=ep,e=pk(),Zw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var x;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===r&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uj={focusedElem:e,selectionRange:n},ep=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,j=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:cr(t.type,p),j);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){ss(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=NC,NC=!1,g}function uu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Tj(t,n,i)}a=a.next}while(a!==r)}}function Nx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pj(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uM(e){var t=e.alternate;t!==null&&(e.alternate=null,uM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vr],delete t[Fu],delete t[fj],delete t[$U],delete t[VU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hM(e){return e.tag===5||e.tag===3||e.tag===4}function bC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aj(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=np));else if(r!==4&&(e=e.child,e!==null))for(Aj(e,t,n),e=e.sibling;e!==null;)Aj(e,t,n),e=e.sibling}function kj(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kj(e,t,n),e=e.sibling;e!==null;)kj(e,t,n),e=e.sibling}var js=null,hr=!1;function Ba(e,t,n){for(n=n.child;n!==null;)mM(e,t,n),n=n.sibling}function mM(e,t,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(fx,n)}catch{}switch(n.tag){case 5:As||Ul(n,t);case 6:var r=js,a=hr;js=null,Ba(e,t,n),js=r,hr=a,js!==null&&(hr?(e=js,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):js.removeChild(n.stateNode));break;case 18:js!==null&&(hr?(e=js,n=n.stateNode,e.nodeType===8?uv(e.parentNode,n):e.nodeType===1&&uv(e,n),Au(e)):uv(js,n.stateNode));break;case 4:r=js,a=hr,js=n.stateNode.containerInfo,hr=!0,Ba(e,t,n),js=r,hr=a;break;case 0:case 11:case 14:case 15:if(!As&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tj(n,t,o),a=a.next}while(a!==r)}Ba(e,t,n);break;case 1:if(!As&&(Ul(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ss(n,t,l)}Ba(e,t,n);break;case 21:Ba(e,t,n);break;case 22:n.mode&1?(As=(r=As)||n.memoizedState!==null,Ba(e,t,n),As=r):Ba(e,t,n);break;default:Ba(e,t,n)}}function SC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new s8),t.forEach(function(r){var a=h8.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ir(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:js=l.stateNode,hr=!1;break e;case 3:js=l.stateNode.containerInfo,hr=!0;break e;case 4:js=l.stateNode.containerInfo,hr=!0;break e}l=l.return}if(js===null)throw Error(ve(160));mM(i,o,a),js=null,hr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ss(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fM(t,e),t=t.sibling}function fM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ir(t,e),Rr(e),r&4){try{uu(3,e,e.return),Nx(3,e)}catch(p){ss(e,e.return,p)}try{uu(5,e,e.return)}catch(p){ss(e,e.return,p)}}break;case 1:ir(t,e),Rr(e),r&512&&n!==null&&Ul(n,n.return);break;case 5:if(ir(t,e),Rr(e),r&512&&n!==null&&Ul(n,n.return),e.flags&32){var a=e.stateNode;try{Cu(a,"")}catch(p){ss(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&IA(a,i),ej(l,o);var d=ej(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?UA(a,h):u==="dangerouslySetInnerHTML"?$A(a,h):u==="children"?Cu(a,h):Vw(a,u,h,d)}switch(l){case"input":Xy(a,i);break;case"textarea":_A(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Zl(a,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zl(a,!!i.multiple,i.defaultValue,!0):Zl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fu]=i}catch(p){ss(e,e.return,p)}}break;case 6:if(ir(t,e),Rr(e),r&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){ss(e,e.return,p)}}break;case 3:if(ir(t,e),Rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(t.containerInfo)}catch(p){ss(e,e.return,p)}break;case 4:ir(t,e),Rr(e);break;case 13:ir(t,e),Rr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yN=as())),r&4&&SC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(As=(d=As)||u,ir(t,e),As=d):ir(t,e),Rr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ae=e,u=e.child;u!==null;){for(h=Ae=u;Ae!==null;){switch(f=Ae,x=f.child,f.tag){case 0:case 11:case 14:case 15:uu(4,f,f.return);break;case 1:Ul(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){ss(r,n,p)}}break;case 5:Ul(f,f.return);break;case 22:if(f.memoizedState!==null){EC(h);continue}}x!==null?(x.return=f,Ae=x):EC(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=VA("display",o))}catch(p){ss(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){ss(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(t,e),Rr(e),r&4&&SC(e);break;case 21:break;default:ir(t,e),Rr(e)}}function Rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hM(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Cu(a,""),r.flags&=-33);var i=bC(e);kj(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bC(e);Aj(e,l,o);break;default:throw Error(ve(161))}}catch(c){ss(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r8(e,t,n){Ae=e,pM(e)}function pM(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Im;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||As;l=Im;var d=As;if(Im=o,(As=c)&&!d)for(Ae=a;Ae!==null;)o=Ae,c=o.child,o.tag===22&&o.memoizedState!==null?TC(a):c!==null?(c.return=o,Ae=c):TC(a);for(;i!==null;)Ae=i,pM(i),i=i.sibling;Ae=a,Im=l,As=d}CC(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):CC(e)}}function CC(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:As||Nx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!As)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:cr(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cC(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Au(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}As||t.flags&512&&Pj(t)}catch(f){ss(t,t.return,f)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function EC(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function TC(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nx(4,t)}catch(c){ss(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){ss(t,a,c)}}var i=t.return;try{Pj(t)}catch(c){ss(t,i,c)}break;case 5:var o=t.return;try{Pj(t)}catch(c){ss(t,o,c)}}}catch(c){ss(t,t.return,c)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var a8=Math.ceil,fp=Oa.ReactCurrentDispatcher,gN=Oa.ReactCurrentOwner,zn=Oa.ReactCurrentBatchConfig,ut=0,xs=null,cs=null,bs=0,yn=0,Bl=Yi(0),ms=0,Vu=null,Ho=0,bx=0,vN=0,hu=null,en=null,yN=0,Oc=1/0,da=null,pp=!1,Mj=null,Si=null,_m=!1,gi=null,xp=0,mu=0,Rj=null,Cf=-1,Ef=0;function Us(){return ut&6?as():Cf!==-1?Cf:Cf=as()}function Ci(e){return e.mode&1?ut&2&&bs!==0?bs&-bs:BU.transition!==null?(Ef===0&&(Ef=ZA()),Ef):(e=jt,e!==0||(e=window.event,e=e===void 0?16:ik(e.type)),e):1}function yr(e,t,n,r){if(50<mu)throw mu=0,Rj=null,Error(ve(185));bh(e,n,r),(!(ut&2)||e!==xs)&&(e===xs&&(!(ut&2)&&(bx|=n),ms===4&&ni(e,bs)),cn(e,r),n===1&&ut===0&&!(t.mode&1)&&(Oc=as()+500,yx&&Ki()))}function cn(e,t){var n=e.callbackNode;B6(e,t);var r=Zf(e,e===xs?bs:0);if(r===0)n!==null&&I1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&I1(n),t===1)e.tag===0?UU(PC.bind(null,e)):Ck(PC.bind(null,e)),_U(function(){!(ut&6)&&Ki()}),n=null;else{switch(ek(r)){case 1:n=qw;break;case 4:n=JA;break;case 16:n=Qf;break;case 536870912:n=QA;break;default:n=Qf}n=bM(n,xM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xM(e,t){if(Cf=-1,Ef=0,ut&6)throw Error(ve(327));var n=e.callbackNode;if(rc()&&e.callbackNode!==n)return null;var r=Zf(e,e===xs?bs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gp(e,r);else{t=r;var a=ut;ut|=2;var i=vM();(xs!==e||bs!==t)&&(da=null,Oc=as()+500,Ro(e,t));do try{l8();break}catch(l){gM(e,l)}while(!0);rN(),fp.current=i,ut=a,cs!==null?t=0:(xs=null,bs=0,t=ms)}if(t!==0){if(t===2&&(a=aj(e),a!==0&&(r=a,t=Dj(e,a))),t===1)throw n=Vu,Ro(e,0),ni(e,r),cn(e,as()),n;if(t===6)ni(e,r);else{if(a=e.current.alternate,!(r&30)&&!i8(a)&&(t=gp(e,r),t===2&&(i=aj(e),i!==0&&(r=i,t=Dj(e,i))),t===1))throw n=Vu,Ro(e,0),ni(e,r),cn(e,as()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:lo(e,en,da);break;case 3:if(ni(e,r),(r&130023424)===r&&(t=yN+500-as(),10<t)){if(Zf(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Us(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=mj(lo.bind(null,e,en,da),t);break}lo(e,en,da);break;case 4:if(ni(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-vr(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=as()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a8(r/1960))-r,10<r){e.timeoutHandle=mj(lo.bind(null,e,en,da),r);break}lo(e,en,da);break;case 5:lo(e,en,da);break;default:throw Error(ve(329))}}}return cn(e,as()),e.callbackNode===n?xM.bind(null,e):null}function Dj(e,t){var n=hu;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=gp(e,t),e!==2&&(t=en,en=n,t!==null&&Fj(t)),e}function Fj(e){en===null?en=e:en.push.apply(en,e)}function i8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!wr(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t){for(t&=~vN,t&=~bx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vr(t),r=1<<n;e[n]=-1,t&=~r}}function PC(e){if(ut&6)throw Error(ve(327));rc();var t=Zf(e,0);if(!(t&1))return cn(e,as()),null;var n=gp(e,t);if(e.tag!==0&&n===2){var r=aj(e);r!==0&&(t=r,n=Dj(e,r))}if(n===1)throw n=Vu,Ro(e,0),ni(e,t),cn(e,as()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lo(e,en,da),cn(e,as()),null}function jN(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(Oc=as()+500,yx&&Ki())}}function zo(e){gi!==null&&gi.tag===0&&!(ut&6)&&rc();var t=ut;ut|=1;var n=zn.transition,r=jt;try{if(zn.transition=null,jt=1,e)return e()}finally{jt=r,zn.transition=n,ut=t,!(ut&6)&&Ki()}}function wN(){yn=Bl.current,It(Bl)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IU(n)),cs!==null)for(n=cs.return;n!==null;){var r=n;switch(tN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rp();break;case 3:Dc(),It(on),It(Rs),dN();break;case 5:cN(r);break;case 4:Dc();break;case 13:It(qt);break;case 19:It(qt);break;case 10:aN(r.type._context);break;case 22:case 23:wN()}n=n.return}if(xs=e,cs=e=Ei(e.current,null),bs=yn=t,ms=0,Vu=null,vN=bx=Ho=0,en=hu=null,xo!==null){for(t=0;t<xo.length;t++)if(n=xo[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}xo=null}return e}function gM(e,t){do{var n=cs;try{if(rN(),Nf.current=mp,hp){for(var r=Xt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}hp=!1}if(Bo=0,fs=us=Xt=null,du=!1,_u=0,gN.current=null,n===null||n.return===null){ms=1,Vu=t,cs=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=bs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=pC(o);if(x!==null){x.flags&=-257,xC(x,o,l,i,t),x.mode&1&&fC(i,d,t),t=x,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){fC(i,d,t),NN();break e}c=Error(ve(426))}}else if(Vt&&l.mode&1){var j=pC(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),xC(j,o,l,i,t),sN(Fc(c,l));break e}}i=c=Fc(c,l),ms!==4&&(ms=2),hu===null?hu=[i]:hu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=eM(i,c,t);lC(i,v);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Si===null||!Si.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=tM(i,l,t);lC(i,N);break e}}i=i.return}while(i!==null)}jM(n)}catch(b){t=b,cs===n&&n!==null&&(cs=n=n.return);continue}break}while(!0)}function vM(){var e=fp.current;return fp.current=mp,e===null?mp:e}function NN(){(ms===0||ms===3||ms===2)&&(ms=4),xs===null||!(Ho&268435455)&&!(bx&268435455)||ni(xs,bs)}function gp(e,t){var n=ut;ut|=2;var r=vM();(xs!==e||bs!==t)&&(da=null,Ro(e,t));do try{o8();break}catch(a){gM(e,a)}while(!0);if(rN(),ut=n,fp.current=r,cs!==null)throw Error(ve(261));return xs=null,bs=0,ms}function o8(){for(;cs!==null;)yM(cs)}function l8(){for(;cs!==null&&!D6();)yM(cs)}function yM(e){var t=NM(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?jM(e):cs=t,gN.current=null}function jM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t8(n,t),n!==null){n.flags&=32767,cs=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ms=6,cs=null;return}}else if(n=e8(n,t,yn),n!==null){cs=n;return}if(t=t.sibling,t!==null){cs=t;return}cs=t=e}while(t!==null);ms===0&&(ms=5)}function lo(e,t,n){var r=jt,a=zn.transition;try{zn.transition=null,jt=1,c8(e,t,n,r)}finally{zn.transition=a,jt=r}return null}function c8(e,t,n,r){do rc();while(gi!==null);if(ut&6)throw Error(ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(H6(e,i),e===xs&&(cs=xs=null,bs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_m||(_m=!0,bM(Qf,function(){return rc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var o=jt;jt=1;var l=ut;ut|=4,gN.current=null,n8(e,n),fM(n,e),AU(uj),ep=!!dj,uj=dj=null,e.current=n,r8(n),F6(),ut=l,jt=o,zn.transition=i}else e.current=n;if(_m&&(_m=!1,gi=e,xp=a),i=e.pendingLanes,i===0&&(Si=null),_6(n.stateNode),cn(e,as()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(pp)throw pp=!1,e=Mj,Mj=null,e;return xp&1&&e.tag!==0&&rc(),i=e.pendingLanes,i&1?e===Rj?mu++:(mu=0,Rj=e):mu=0,Ki(),null}function rc(){if(gi!==null){var e=ek(xp),t=zn.transition,n=jt;try{if(zn.transition=null,jt=16>e?16:e,gi===null)var r=!1;else{if(e=gi,gi=null,xp=0,ut&6)throw Error(ve(331));var a=ut;for(ut|=4,Ae=e.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ae=d;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:uu(8,u,i)}var h=u.child;if(h!==null)h.return=u,Ae=h;else for(;Ae!==null;){u=Ae;var f=u.sibling,x=u.return;if(uM(u),u===d){Ae=null;break}if(f!==null){f.return=x,Ae=f;break}Ae=x}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var j=p.sibling;p.sibling=null,p=j}while(p!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ae=v;break e}Ae=i.return}}var y=e.current;for(Ae=y;Ae!==null;){o=Ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ae=w;else e:for(o=y;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nx(9,l)}}catch(b){ss(l,l.return,b)}if(l===o){Ae=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ae=N;break e}Ae=l.return}}if(ut=a,Ki(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(fx,e)}catch{}r=!0}return r}finally{jt=n,zn.transition=t}}return!1}function AC(e,t,n){t=Fc(n,t),t=eM(e,t,1),e=bi(e,t,1),t=Us(),e!==null&&(bh(e,1,t),cn(e,t))}function ss(e,t,n){if(e.tag===3)AC(e,e,n);else for(;t!==null;){if(t.tag===3){AC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){e=Fc(n,e),e=tM(t,e,1),t=bi(t,e,1),e=Us(),t!==null&&(bh(t,1,e),cn(t,e));break}}t=t.return}}function d8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Us(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(bs&n)===n&&(ms===4||ms===3&&(bs&130023424)===bs&&500>as()-yN?Ro(e,0):vN|=n),cn(e,t)}function wM(e,t){t===0&&(e.mode&1?(t=Tm,Tm<<=1,!(Tm&130023424)&&(Tm=4194304)):t=1);var n=Us();e=Sa(e,t),e!==null&&(bh(e,t,n),cn(e,n))}function u8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wM(e,n)}function h8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),wM(e,n)}var NM;NM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,ZU(e,t,n);tn=!!(e.flags&131072)}else tn=!1,Vt&&t.flags&1048576&&Ek(t,op,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sf(e,t),e=t.pendingProps;var a=kc(t,Rs.current);nc(t,n),a=hN(null,t,r,e,a,n);var i=mN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(i=!0,ap(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,oN(t),a.updater=wx,t.stateNode=a,a._reactInternals=t,jj(t,r,e,n),t=bj(null,t,r,!0,i,n)):(t.tag=0,Vt&&i&&eN(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sf(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=f8(r),e=cr(r,e),a){case 0:t=Nj(null,t,r,e,n);break e;case 1:t=yC(null,t,r,e,n);break e;case 11:t=gC(null,t,r,e,n);break e;case 14:t=vC(null,t,r,cr(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:cr(r,a),Nj(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:cr(r,a),yC(e,t,r,a,n);case 3:e:{if(aM(t),e===null)throw Error(ve(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Rk(e,t),dp(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fc(Error(ve(423)),t),t=jC(e,t,r,n,a);break e}else if(r!==a){a=Fc(Error(ve(424)),t),t=jC(e,t,r,n,a);break e}else for(Sn=Ni(t.stateNode.containerInfo.firstChild),Cn=t,Vt=!0,fr=null,n=kk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mc(),r===a){t=Ca(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return Dk(t),e===null&&gj(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,hj(r,a)?o=null:i!==null&&hj(r,i)&&(t.flags|=32),rM(e,t),_s(e,t,o,n),t.child;case 6:return e===null&&gj(t),null;case 13:return iM(e,t,n);case 4:return lN(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rc(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:cr(r,a),gC(e,t,r,a,n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:return _s(e,t,t.pendingProps.children,n),t.child;case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,At(lp,r._currentValue),r._currentValue=o,i!==null)if(wr(i.value,o)){if(i.children===a.children&&!on.current){t=Ca(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ya(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vj(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vj(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,nc(t,n),a=Kn(a),r=r(a),t.flags|=1,_s(e,t,r,n),t.child;case 14:return r=t.type,a=cr(r,t.pendingProps),a=cr(r.type,a),vC(e,t,r,a,n);case 15:return sM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:cr(r,a),Sf(e,t),t.tag=1,ln(r)?(e=!0,ap(t)):e=!1,nc(t,n),Zk(t,r,a),jj(t,r,a,n),bj(null,t,r,!0,e,n);case 19:return oM(e,t,n);case 22:return nM(e,t,n)}throw Error(ve(156,t.tag))};function bM(e,t){return GA(e,t)}function m8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,n,r){return new m8(e,t,n,r)}function bN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f8(e){if(typeof e=="function")return bN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bw)return 11;if(e===Hw)return 14}return 2}function Ei(e,t){var n=e.alternate;return n===null?(n=Bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tf(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")bN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rl:return Do(n.children,a,i,t);case Uw:o=8,a|=8;break;case zy:return e=Bn(12,n,t,a|2),e.elementType=zy,e.lanes=i,e;case qy:return e=Bn(13,n,t,a),e.elementType=qy,e.lanes=i,e;case Wy:return e=Bn(19,n,t,a),e.elementType=Wy,e.lanes=i,e;case DA:return Sx(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MA:o=10;break e;case RA:o=9;break e;case Bw:o=11;break e;case Hw:o=14;break e;case ei:o=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Bn(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Do(e,t,n,r){return e=Bn(7,e,r,t),e.lanes=n,e}function Sx(e,t,n,r){return e=Bn(22,e,r,t),e.elementType=DA,e.lanes=n,e.stateNode={isHidden:!1},e}function yv(e,t,n){return e=Bn(6,e,null,t),e.lanes=n,e}function jv(e,t,n){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p8(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function SN(e,t,n,r,a,i,o,l,c){return e=new p8(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oN(i),e}function x8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SM(e){if(!e)return Oi;e=e._reactInternals;e:{if(cl(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(ln(n))return Sk(e,n,t)}return t}function CM(e,t,n,r,a,i,o,l,c){return e=SN(n,r,!0,e,a,i,o,l,c),e.context=SM(null),n=e.current,r=Us(),a=Ci(n),i=ya(r,a),i.callback=t??null,bi(n,i,a),e.current.lanes=a,bh(e,a,r),cn(e,r),e}function Cx(e,t,n,r){var a=t.current,i=Us(),o=Ci(a);return n=SM(n),t.context===null?t.context=n:t.pendingContext=n,t=ya(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bi(a,t,o),e!==null&&(yr(e,a,o,i),wf(e,a,o)),o}function vp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function CN(e,t){kC(e,t),(e=e.alternate)&&kC(e,t)}function g8(){return null}var EM=typeof reportError=="function"?reportError:function(e){console.error(e)};function EN(e){this._internalRoot=e}Ex.prototype.render=EN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Cx(e,t,null,null)};Ex.prototype.unmount=EN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zo(function(){Cx(null,e,null,null)}),t[ba]=null}};function Ex(e){this._internalRoot=e}Ex.prototype.unstable_scheduleHydration=function(e){if(e){var t=nk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<si.length&&t!==0&&t<si[n].priority;n++);si.splice(n,0,e),n===0&&ak(e)}};function TN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MC(){}function v8(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=vp(o);i.call(d)}}var o=CM(t,r,e,0,null,!1,!1,"",MC);return e._reactRootContainer=o,e[ba]=o.current,Ru(e.nodeType===8?e.parentNode:e),zo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=vp(c);l.call(d)}}var c=SN(e,0,!1,null,null,!1,!1,"",MC);return e._reactRootContainer=c,e[ba]=c.current,Ru(e.nodeType===8?e.parentNode:e),zo(function(){Cx(t,c,n,r)}),c}function Px(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=vp(o);l.call(c)}}Cx(t,o,e,a)}else o=v8(n,t,e,a,r);return vp(o)}tk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yd(t.pendingLanes);n!==0&&(Ww(t,n|1),cn(t,as()),!(ut&6)&&(Oc=as()+500,Ki()))}break;case 13:zo(function(){var r=Sa(e,1);if(r!==null){var a=Us();yr(r,e,1,a)}}),CN(e,1)}};Yw=function(e){if(e.tag===13){var t=Sa(e,134217728);if(t!==null){var n=Us();yr(t,e,134217728,n)}CN(e,134217728)}};sk=function(e){if(e.tag===13){var t=Ci(e),n=Sa(e,t);if(n!==null){var r=Us();yr(n,e,t,r)}CN(e,t)}};nk=function(){return jt};rk=function(e,t){var n=jt;try{return jt=e,t()}finally{jt=n}};sj=function(e,t,n){switch(t){case"input":if(Xy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=vx(r);if(!a)throw Error(ve(90));OA(r),Xy(r,a)}}}break;case"textarea":_A(e,n);break;case"select":t=n.value,t!=null&&Zl(e,!!n.multiple,t,!1)}};zA=jN;qA=zo;var y8={usingClientEntryPoint:!1,Events:[Ch,Il,vx,BA,HA,jN]},Dd={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j8={bundleType:Dd.bundleType,version:Dd.version,rendererPackageName:Dd.rendererPackageName,rendererConfig:Dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KA(e),e===null?null:e.stateNode},findFiberByHostInstance:Dd.findFiberByHostInstance||g8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{fx=Lm.inject(j8),Hr=Lm}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8;Rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TN(t))throw Error(ve(200));return x8(e,t,null,n)};Rn.createRoot=function(e,t){if(!TN(e))throw Error(ve(299));var n=!1,r="",a=EM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=SN(e,1,!1,null,null,n,!1,r,a),e[ba]=t.current,Ru(e.nodeType===8?e.parentNode:e),new EN(t)};Rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=KA(t),e=e===null?null:e.stateNode,e};Rn.flushSync=function(e){return zo(e)};Rn.hydrate=function(e,t,n){if(!Tx(t))throw Error(ve(200));return Px(null,e,t,!0,n)};Rn.hydrateRoot=function(e,t,n){if(!TN(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=EM;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=CM(t,null,e,1,n??null,a,!1,i,o),e[ba]=t.current,Ru(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ex(t)};Rn.render=function(e,t,n){if(!Tx(t))throw Error(ve(200));return Px(null,e,t,!1,n)};Rn.unmountComponentAtNode=function(e){if(!Tx(e))throw Error(ve(40));return e._reactRootContainer?(zo(function(){Px(null,null,e,!1,function(){e._reactRootContainer=null,e[ba]=null})}),!0):!1};Rn.unstable_batchedUpdates=jN;Rn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tx(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Px(e,t,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function TM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TM)}catch(e){console.error(e)}}TM(),TA.exports=Rn;var Pr=TA.exports;const PN=Dw(Pr);var PM,RC=Pr;PM=RC.createRoot,RC.hydrateRoot;const w8=1,N8=1e6;let wv=0;function b8(){return wv=(wv+1)%Number.MAX_SAFE_INTEGER,wv.toString()}const Nv=new Map,DC=e=>{if(Nv.has(e))return;const t=setTimeout(()=>{Nv.delete(e),fu({type:"REMOVE_TOAST",toastId:e})},N8);Nv.set(e,t)},S8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,w8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?DC(n):e.toasts.forEach(r=>{DC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Pf=[];let Af={toasts:[]};function fu(e){Af=S8(Af,e),Pf.forEach(t=>{t(Af)})}function yp({...e}){const t=b8(),n=a=>fu({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>fu({type:"DISMISS_TOAST",toastId:t});return fu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function mt(){const[e,t]=m.useState(Af);return m.useEffect(()=>(Pf.push(t),()=>{const n=Pf.indexOf(t);n>-1&&Pf.splice(n,1)}),[e]),{...e,toast:yp,dismiss:n=>fu({type:"DISMISS_TOAST",toastId:n})}}function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function C8(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ax(...e){return t=>e.forEach(n=>C8(n,t))}function Be(...e){return m.useCallback(Ax(...e),e)}function E8(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:x,...g}=h,p=(f==null?void 0:f[e][c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})}function u(h,f){const x=(f==null?void 0:f[e][c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,T8(a,...t)]}function T8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var An=m.forwardRef((e,t)=>{const{children:n,...r}=e,a=m.Children.toArray(n),i=a.find(P8);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return s.jsx(Oj,{...r,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(Oj,{...r,ref:t,children:n})});An.displayName="Slot";var Oj=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const a=k8(n);return m.cloneElement(n,{...A8(r,n.props),ref:t?Ax(t,a):a})}return m.Children.count(n)>1?m.Children.only(null):null});Oj.displayName="SlotClone";var AN=({children:e})=>s.jsx(s.Fragment,{children:e});function P8(e){return m.isValidElement(e)&&e.type===AN}function A8(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function k8(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kx(e){const t=e+"CollectionProvider",[n,r]=E8(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:p}=x,j=bt.useRef(null),v=bt.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:v,collectionRef:j,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=bt.forwardRef((x,g)=>{const{scope:p,children:j}=x,v=i(l,p),y=Be(g,v.collectionRef);return s.jsx(An,{ref:y,children:j})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=bt.forwardRef((x,g)=>{const{scope:p,children:j,...v}=x,y=bt.useRef(null),w=Be(g,y),N=i(d,p);return bt.useEffect(()=>(N.itemMap.set(y,{ref:y,...v}),()=>void N.itemMap.delete(y))),s.jsx(An,{[u]:"",ref:w,children:j})});h.displayName=d;function f(x){const g=i(e+"CollectionConsumer",x);return bt.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const v=Array.from(j.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,b)=>v.indexOf(N.ref.current)-v.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function M8(e,t){const n=m.createContext(t),r=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function pn(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=h=>{var v;const{scope:f,children:x,...g}=h,p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})};d.displayName=i+"Provider";function u(h,f){var p;const x=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,R8(a,...t)]}function R8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var D8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=D8.reduce((e,t)=>{const n=m.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?An:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function kN(e,t){e&&Pr.flushSync(()=>e.dispatchEvent(t))}function Wt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function F8(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var O8="DismissableLayer",Ij="dismissableLayer.update",I8="dismissableLayer.pointerDownOutside",_8="dismissableLayer.focusOutside",FC,AM=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(AM),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),g=Be(t,S=>h(S)),p=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(j),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,b=$8(S=>{const P=S.target,A=[...d.branches].some(F=>F.contains(P));!N||A||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=V8(S=>{const P=S.target;[...d.branches].some(F=>F.contains(P))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return F8(S=>{y===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(FC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),OC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=FC)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),OC())},[u,d]),m.useEffect(()=>{const S=()=>x({});return document.addEventListener(Ij,S),()=>document.removeEventListener(Ij,S)},[]),s.jsx(Me.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,C.onFocusCapture),onBlurCapture:je(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,b.onPointerDownCapture)})});rd.displayName=O8;var L8="DismissableLayerBranch",kM=m.forwardRef((e,t)=>{const n=m.useContext(AM),r=m.useRef(null),a=Be(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Me.div,{...e,ref:a})});kM.displayName=L8;function $8(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){MM(I8,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function V8(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&MM(_8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OC(){const e=new CustomEvent(Ij);document.dispatchEvent(e)}function MM(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?kN(a,i):a.dispatchEvent(i)}var U8=rd,B8=kM,gs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},H8="Portal",Th=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=m.useState(!1);gs(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PN.createPortal(s.jsx(Me.div,{...r,ref:t}),o):null});Th.displayName=H8;function z8(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var ys=e=>{const{present:t,children:n}=e,r=q8(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Be(r.ref,W8(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};ys.displayName="Presence";function q8(e){const[t,n]=m.useState(),r=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=z8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=$m(r.current);i.current=l==="mounted"?d:"none"},[l]),gs(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,x=$m(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gs(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=x=>{const p=$m(r.current).includes(x.animationName);if(x.target===t&&p&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},f=x=>{x.target===t&&(i.current=$m(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function $m(e){return(e==null?void 0:e.animationName)||"none"}function W8(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Y8({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Wt(n),c=m.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function Y8({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,a=m.useRef(r),i=Wt(t);return m.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var K8="VisuallyHidden",Ph=m.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ph.displayName=K8;var X8=Ph,MN="ToastProvider",[RN,G8,J8]=kx("Toast"),[RM,Oye]=pn("Toast",[J8]),[Q8,Mx]=RM(MN),DM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${MN}\`. Expected non-empty \`string\`.`),s.jsx(RN.Provider,{scope:t,children:s.jsx(Q8,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(x=>x+1),[]),onToastRemove:m.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};DM.displayName=MN;var FM="ToastViewport",Z8=["F8"],_j="toast.viewportPause",Lj="toast.viewportResume",OM=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Z8,label:a="Notifications ({hotkey})",...i}=e,o=Mx(FM,n),l=G8(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=Be(t,h,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;m.useEffect(()=>{const j=v=>{var w;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),m.useEffect(()=>{const j=c.current,v=h.current;if(g&&j&&v){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(_j);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Lj);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!j.contains(C.relatedTarget)&&w()},b=()=>{j.contains(document.activeElement)||w()};return j.addEventListener("focusin",y),j.addEventListener("focusout",N),j.addEventListener("pointermove",y),j.addEventListener("pointerleave",b),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{j.removeEventListener("focusin",y),j.removeEventListener("focusout",N),j.removeEventListener("pointermove",y),j.removeEventListener("pointerleave",b),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:j})=>{const y=l().map(w=>{const N=w.ref.current,b=[N,...hB(N)];return j==="forwards"?b:b.reverse()});return(j==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const j=h.current;if(j){const v=y=>{var b,C,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const P=document.activeElement,A=y.shiftKey;if(y.target===j&&A){(b=d.current)==null||b.focus();return}const _=p({tabbingDirection:A?"backwards":"forwards"}),$=_.findIndex(I=>I===P);bv(_.slice($+1))?y.preventDefault():A?(C=d.current)==null||C.focus():(S=u.current)==null||S.focus()}};return j.addEventListener("keydown",v),()=>j.removeEventListener("keydown",v)}},[l,p]),s.jsxs(B8,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx($j,{ref:d,onFocusFromOutsideViewport:()=>{const j=p({tabbingDirection:"forwards"});bv(j)}}),s.jsx(RN.Slot,{scope:n,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx($j,{ref:u,onFocusFromOutsideViewport:()=>{const j=p({tabbingDirection:"backwards"});bv(j)}})]})});OM.displayName=FM;var IM="ToastFocusProxy",$j=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=Mx(IM,n);return s.jsx(Ph,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});$j.displayName=IM;var Rx="Toast",eB="toast.swipeStart",tB="toast.swipeMove",sB="toast.swipeCancel",nB="toast.swipeEnd",_M=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Gn({prop:r,defaultProp:a,onChange:i});return s.jsx(ys,{present:n||l,children:s.jsx(iB,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Wt(e.onPause),onResume:Wt(e.onResume),onSwipeStart:je(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:je(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});_M.displayName=Rx;var[rB,aB]=RM(Rx,{onClose(){}}),iB=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:x,...g}=e,p=Mx(Rx,n),[j,v]=m.useState(null),y=Be(t,I=>v(I)),w=m.useRef(null),N=m.useRef(null),b=a||p.duration,C=m.useRef(0),S=m.useRef(b),P=m.useRef(0),{onToastAdd:A,onToastRemove:F}=p,O=Wt(()=>{var k;(j==null?void 0:j.contains(document.activeElement))&&((k=p.viewport)==null||k.focus()),o()}),_=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(O,I))},[O]);m.useEffect(()=>{const I=p.viewport;if(I){const k=()=>{_(S.current),d==null||d()},T=()=>{const M=new Date().getTime()-C.current;S.current=S.current-M,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(_j,T),I.addEventListener(Lj,k),()=>{I.removeEventListener(_j,T),I.removeEventListener(Lj,k)}}},[p.viewport,b,c,d,_]),m.useEffect(()=>{i&&!p.isClosePausedRef.current&&_(b)},[i,b,p.isClosePausedRef,_]),m.useEffect(()=>(A(),()=>F()),[A,F]);const $=m.useMemo(()=>j?zM(j):null,[j]);return p.viewport?s.jsxs(s.Fragment,{children:[$&&s.jsx(oB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),s.jsx(rB,{scope:n,onClose:O,children:Pr.createPortal(s.jsx(RN.ItemSlot,{scope:n,children:s.jsx(U8,{asChild:!0,onEscapeKeyDown:je(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:je(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:je(e.onPointerMove,I=>{if(!w.current)return;const k=I.clientX-w.current.x,T=I.clientY-w.current.y,M=!!N.current,R=["left","right"].includes(p.swipeDirection),L=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=R?L(0,k):0,V=R?0:L(0,T),B=I.pointerType==="touch"?10:2,W={x:H,y:V},Y={originalEvent:I,delta:W};M?(N.current=W,Vm(tB,h,Y,{discrete:!1})):IC(W,p.swipeDirection,B)?(N.current=W,Vm(eB,u,Y,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(k)>B||Math.abs(T)>B)&&(w.current=null)}),onPointerUp:je(e.onPointerUp,I=>{const k=N.current,T=I.target;if(T.hasPointerCapture(I.pointerId)&&T.releasePointerCapture(I.pointerId),N.current=null,w.current=null,k){const M=I.currentTarget,R={originalEvent:I,delta:k};IC(k,p.swipeDirection,p.swipeThreshold)?Vm(nB,x,R,{discrete:!0}):Vm(sB,f,R,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),oB=e=>{const{__scopeToast:t,children:n,...r}=e,a=Mx(Rx,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return dB(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Th,{asChild:!0,children:s.jsx(Ph,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},lB="ToastTitle",LM=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Me.div,{...r,ref:t})});LM.displayName=lB;var cB="ToastDescription",$M=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Me.div,{...r,ref:t})});$M.displayName=cB;var VM="ToastAction",UM=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(HM,{altText:n,asChild:!0,children:s.jsx(DN,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${VM}\`. Expected non-empty \`string\`.`),null)});UM.displayName=VM;var BM="ToastClose",DN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=aB(BM,n);return s.jsx(HM,{asChild:!0,children:s.jsx(Me.button,{type:"button",...r,ref:t,onClick:je(e.onClick,a.onClose)})})});DN.displayName=BM;var HM=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function zM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uB(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...zM(r))}}),t}function Vm(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?kN(a,i):a.dispatchEvent(i)}var IC=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function dB(e=()=>{}){const t=Wt(e);gs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uB(e){return e.nodeType===e.ELEMENT_NODE}function hB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var mB=DM,qM=OM,WM=_M,YM=LM,KM=$M,XM=UM,GM=DN;function JM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=JM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function QM(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=JM(e))&&(r&&(r+=" "),r+=t);return r}const _C=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,LC=QM,dl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return LC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=_C(u)||_C(h);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...x}=u;return Object.entries(x).every(g=>{let[p,j]=g;return Array.isArray(j)?j.includes({...i,...l}[p]):{...i,...l}[p]===j})?[...d,h,f]:d},[]);return LC(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...pB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ZM("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=m.forwardRef(({className:r,...a},i)=>m.createElement(xB,{ref:i,iconNode:t,className:ZM(`lucide-${fB(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=fe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=fe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=fe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=fe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=fe("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=fe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=fe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=fe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=fe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=fe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=fe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=fe("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=fe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=fe("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=fe("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=fe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=fe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=fe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=fe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=fe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=fe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=fe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=fe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=fe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=fe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=fe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=fe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=fe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=fe("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=fe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=fe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=fe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=fe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=fe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=fe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=fe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=fe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=fe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),LN="-",KB=e=>{const t=GB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(LN);return l[0]===""&&l.length!==1&&l.shift(),dR(l,t)||XB(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},dR=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?dR(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(LN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},WC=/^\[(.+)\]$/,XB=e=>{if(WC.test(e)){const t=WC.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},GB=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return QB(Object.entries(e.classGroups),n).forEach(([i,o])=>{Hj(o,r,i,t)}),r},Hj=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:YC(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(JB(a)){Hj(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Hj(o,YC(t,i),n,r)})})},YC=(e,t)=>{let n=e;return t.split(LN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JB=e=>e.isThemeGetter,QB=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,ZB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},uR="!",eH=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let j=0;j<l.length;j++){let v=l[j];if(d===0){if(v===a&&(r||l.slice(j,j+i)===t)){c.push(l.slice(u,j)),u=j+i;continue}if(v==="/"){h=j;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),x=f.startsWith(uR),g=x?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},tH=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},sH=e=>({cache:ZB(e.cacheSize),parseClassName:eH(e),...KB(e)}),nH=/\s+/,rH=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(nH);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:x}=n(d);let g=!!x,p=r(g?f.substring(0,x):f);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const j=tH(u).join(":"),v=h?j+uR:j,y=v+p;if(i.includes(y))continue;i.push(y);const w=a(p,g);for(let N=0;N<w.length;++N){const b=w[N];i.push(v+b)}l=d+(l.length>0?" "+l:l)}return l};function aH(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hR(t))&&(r&&(r+=" "),r+=n);return r}const hR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hR(e[r]))&&(n&&(n+=" "),n+=t);return n};function iH(e,...t){let n,r,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=sH(d),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=rH(c,n);return a(c,u),u}return function(){return i(aH.apply(null,arguments))}}const Ft=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mR=/^\[(?:([a-z-]+):)?(.+)\]$/i,oH=/^\d+\/\d+$/,lH=new Set(["px","full","screen"]),cH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ia=e=>ic(e)||lH.has(e)||oH.test(e),Ha=e=>id(e,"length",wH),ic=e=>!!e&&!Number.isNaN(Number(e)),Ev=e=>id(e,"number",ic),Fd=e=>!!e&&Number.isInteger(Number(e)),fH=e=>e.endsWith("%")&&ic(e.slice(0,-1)),Ke=e=>mR.test(e),za=e=>cH.test(e),pH=new Set(["length","size","percentage"]),xH=e=>id(e,pH,fR),gH=e=>id(e,"position",fR),vH=new Set(["image","url"]),yH=e=>id(e,vH,bH),jH=e=>id(e,"",NH),Od=()=>!0,id=(e,t,n)=>{const r=mR.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wH=e=>dH.test(e)&&!uH.test(e),fR=()=>!1,NH=e=>hH.test(e),bH=e=>mH.test(e),SH=()=>{const e=Ft("colors"),t=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),a=Ft("borderColor"),i=Ft("borderRadius"),o=Ft("borderSpacing"),l=Ft("borderWidth"),c=Ft("contrast"),d=Ft("grayscale"),u=Ft("hueRotate"),h=Ft("invert"),f=Ft("gap"),x=Ft("gradientColorStops"),g=Ft("gradientColorStopPositions"),p=Ft("inset"),j=Ft("margin"),v=Ft("opacity"),y=Ft("padding"),w=Ft("saturate"),N=Ft("scale"),b=Ft("sepia"),C=Ft("skew"),S=Ft("space"),P=Ft("translate"),A=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ke,t],_=()=>[Ke,t],$=()=>["",ia,Ha],I=()=>["auto",ic,Ke],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ke],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ic,Ke];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[ia,Ha],blur:["none","",za,Ke],brightness:V(),borderColor:[e],borderRadius:["none","","full",za,Ke],borderSpacing:_(),borderWidth:$(),contrast:V(),grayscale:L(),hueRotate:V(),invert:L(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[fH,Ha],inset:O(),margin:O(),opacity:V(),padding:_(),saturate:V(),scale:V(),sepia:L(),skew:V(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Ke]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fd,Ke]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Fd,Ke]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",Fd,Ke]},Ke]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[Fd,Ke]},Ke]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,t]}],"min-w":[{"min-w":[Ke,t,"min","max","fit"]}],"max-w":[{"max-w":[Ke,t,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[Ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",za,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ev]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",ic,Ev]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ia,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ia,Ha]}],"underline-offset":[{"underline-offset":["auto",ia,Ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),gH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yH]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[ia,Ke]}],"outline-w":[{outline:[ia,Ha]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ia,Ha]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",za,jH]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",za,Ke]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Fd,Ke]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ia,Ha,Ev]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},CH=iH(SH);function le(...e){return CH(QM(e))}const EH=mB,pR=m.forwardRef(({className:e,...t},n)=>s.jsx(qM,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pR.displayName=qM.displayName;const TH=dl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xR=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(WM,{ref:r,className:le(TH({variant:t}),e),...n}));xR.displayName=WM.displayName;const PH=m.forwardRef(({className:e,...t},n)=>s.jsx(XM,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));PH.displayName=XM.displayName;const gR=m.forwardRef(({className:e,...t},n)=>s.jsx(GM,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Et,{className:"h-4 w-4"})}));gR.displayName=GM.displayName;const vR=m.forwardRef(({className:e,...t},n)=>s.jsx(YM,{ref:n,className:le("text-sm font-semibold",e),...t}));vR.displayName=YM.displayName;const yR=m.forwardRef(({className:e,...t},n)=>s.jsx(KM,{ref:n,className:le("text-sm opacity-90",e),...t}));yR.displayName=KM.displayName;function AH(){const{toasts:e}=mt();return s.jsxs(EH,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(xR,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(vR,{children:n}),r&&s.jsx(yR,{children:r})]}),a,s.jsx(gR,{})]},t)}),s.jsx(pR,{})]})}var kH=Nh.useId||(()=>{}),MH=0;function qn(e){const[t,n]=m.useState(kH());return gs(()=>{n(r=>r??String(MH++))},[e]),t?`radix-${t}`:""}const RH=["top","right","bottom","left"],$i=Math.min,wn=Math.max,Np=Math.round,Um=Math.floor,Vi=e=>({x:e,y:e}),DH={left:"right",right:"left",bottom:"top",top:"bottom"},FH={start:"end",end:"start"};function zj(e,t,n){return wn(e,$i(t,n))}function Pa(e,t){return typeof e=="function"?e(t):e}function Aa(e){return e.split("-")[0]}function od(e){return e.split("-")[1]}function $N(e){return e==="x"?"y":"x"}function VN(e){return e==="y"?"height":"width"}function Ui(e){return["top","bottom"].includes(Aa(e))?"y":"x"}function UN(e){return $N(Ui(e))}function OH(e,t,n){n===void 0&&(n=!1);const r=od(e),a=UN(e),i=VN(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=bp(o)),[o,bp(o)]}function IH(e){const t=bp(e);return[qj(e),t,qj(t)]}function qj(e){return e.replace(/start|end/g,t=>FH[t])}function _H(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function LH(e,t,n,r){const a=od(e);let i=_H(Aa(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(qj)))),i}function bp(e){return e.replace(/left|right|bottom|top/g,t=>DH[t])}function $H(e){return{top:0,right:0,bottom:0,left:0,...e}}function jR(e){return typeof e!="number"?$H(e):{top:e,right:e,bottom:e,left:e}}function Sp(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function KC(e,t,n){let{reference:r,floating:a}=e;const i=Ui(t),o=UN(t),l=VN(o),c=Aa(t),d=i==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-a.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-a.width,y:h};break;default:x={x:r.x,y:r.y}}switch(od(t)){case"start":x[o]-=f*(n&&d?-1:1);break;case"end":x[o]+=f*(n&&d?-1:1);break}return x}const VH=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=KC(d,r,c),f=r,x={},g=0;for(let p=0;p<l.length;p++){const{name:j,fn:v}=l[p],{x:y,y:w,data:N,reset:b}=await v({x:u,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,h=w??h,x={...x,[j]:{...x[j],...N}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:h}=KC(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:x}};async function zu(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:x=0}=Pa(t,e),g=jR(x),j=l[f?h==="floating"?"reference":"floating":h],v=Sp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=Sp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-b.top+g.top)/N.y,bottom:(b.bottom-v.bottom+g.bottom)/N.y,left:(v.left-b.left+g.left)/N.x,right:(b.right-v.right+g.right)/N.x}}const UH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Pa(e,t)||{};if(d==null)return{};const h=jR(u),f={x:n,y:r},x=UN(a),g=VN(x),p=await o.getDimensions(d),j=x==="y",v=j?"top":"left",y=j?"bottom":"right",w=j?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[x]-f[x]-i.floating[g],b=f[x]-i.reference[x],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=C?C[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[w]||i.floating[g]);const P=N/2-b/2,A=S/2-p[g]/2-1,F=$i(h[v],A),O=$i(h[y],A),_=F,$=S-p[g]-O,I=S/2-p[g]/2+P,k=zj(_,I,$),T=!c.arrow&&od(a)!=null&&I!==k&&i.reference[g]/2-(I<_?F:O)-p[g]/2<0,M=T?I<_?I-_:I-$:0;return{[x]:f[x]+M,data:{[x]:k,centerOffset:I-k-M,...T&&{alignmentOffset:M}},reset:T}}}),BH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...j}=Pa(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Aa(a),y=Ui(l),w=Aa(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=f||(w||!p?[bp(l)]:IH(l)),C=g!=="none";!f&&C&&b.push(...LH(l,p,g,N));const S=[l,...b],P=await zu(t,j),A=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(P[v]),h){const I=OH(a,o,N);A.push(P[I[0]],P[I[1]])}if(F=[...F,{placement:a,overflows:A}],!A.every(I=>I<=0)){var O,_;const I=(((O=i.flip)==null?void 0:O.index)||0)+1,k=S[I];if(k)return{data:{index:I,overflows:F},reset:{placement:k}};let T=(_=F.filter(M=>M.overflows[0]<=0).sort((M,R)=>M.overflows[1]-R.overflows[1])[0])==null?void 0:_.placement;if(!T)switch(x){case"bestFit":{var $;const M=($=F.filter(R=>{if(C){const L=Ui(R.placement);return L===y||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:$[0];M&&(T=M);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function XC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GC(e){return RH.some(t=>e[t]>=0)}const HH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Pa(e,t);switch(r){case"referenceHidden":{const i=await zu(t,{...a,elementContext:"reference"}),o=XC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GC(o)}}}case"escaped":{const i=await zu(t,{...a,altBoundary:!0}),o=XC(i,n.floating);return{data:{escapedOffsets:o,escaped:GC(o)}}}default:return{}}}}};async function zH(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Aa(n),l=od(n),c=Ui(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Pa(t,e);let{mainAxis:f,crossAxis:x,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*u,y:f*d}:{x:f*d,y:x*u}}const qH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await zH(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},WH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:v,y}=j;return{x:v,y}}},...c}=Pa(e,t),d={x:n,y:r},u=await zu(t,c),h=Ui(Aa(a)),f=$N(h);let x=d[f],g=d[h];if(i){const j=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=x+u[j],w=x-u[v];x=zj(y,x,w)}if(o){const j=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=g+u[j],w=g-u[v];g=zj(y,g,w)}const p=l.fn({...t,[f]:x,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},YH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Pa(e,t),u={x:n,y:r},h=Ui(a),f=$N(h);let x=u[f],g=u[h];const p=Pa(l,t),j=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",N=i.reference[f]-i.floating[w]+j.mainAxis,b=i.reference[f]+i.reference[w]-j.mainAxis;x<N?x=N:x>b&&(x=b)}if(d){var v,y;const w=f==="y"?"width":"height",N=["top","left"].includes(Aa(a)),b=i.reference[h]-i.floating[w]+(N&&((v=o.offset)==null?void 0:v[h])||0)+(N?0:j.crossAxis),C=i.reference[h]+i.reference[w]+(N?0:((y=o.offset)==null?void 0:y[h])||0)-(N?j.crossAxis:0);g<b?g=b:g>C&&(g=C)}return{[f]:x,[h]:g}}}},KH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Pa(e,t),u=await zu(t,d),h=Aa(a),f=od(a),x=Ui(a)==="y",{width:g,height:p}=i.floating;let j,v;h==="top"||h==="bottom"?(j=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,j=f==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=g-u.left-u.right,N=$i(p-u[j],y),b=$i(g-u[v],w),C=!t.middlewareData.shift;let S=N,P=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),C&&!f){const F=wn(u.left,0),O=wn(u.right,0),_=wn(u.top,0),$=wn(u.bottom,0);x?P=g-2*(F!==0||O!==0?F+O:wn(u.left,u.right)):S=p-2*(_!==0||$!==0?_+$:wn(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:S});const A=await o.getDimensions(l.floating);return g!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function Ix(){return typeof window<"u"}function ld(e){return wR(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(wR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wR(e){return Ix()?e instanceof Node||e instanceof Tn(e).Node:!1}function br(e){return Ix()?e instanceof Element||e instanceof Tn(e).Element:!1}function Xr(e){return Ix()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function JC(e){return!Ix()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}function Rh(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function XH(e){return["table","td","th"].includes(ld(e))}function _x(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function BN(e){const t=HN(),n=br(e)?Sr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function GH(e){let t=Bi(e);for(;Xr(t)&&!Ic(t);){if(BN(t))return t;if(_x(t))return null;t=Bi(t)}return null}function HN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ic(e){return["html","body","#document"].includes(ld(e))}function Sr(e){return Tn(e).getComputedStyle(e)}function Lx(e){return br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bi(e){if(ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JC(e)&&e.host||Zr(e);return JC(t)?t.host:t}function NR(e){const t=Bi(e);return Ic(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&Rh(t)?t:NR(t)}function qu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=NR(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Tn(a);if(i){const l=Wj(o);return t.concat(o,o.visualViewport||[],Rh(a)?a:[],l&&n?qu(l):[])}return t.concat(a,qu(a,[],n))}function Wj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bR(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Xr(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Np(n)!==i||Np(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function zN(e){return br(e)?e:e.contextElement}function oc(e){const t=zN(e);if(!Xr(t))return Vi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=bR(t);let o=(i?Np(n.width):n.width)/r,l=(i?Np(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const JH=Vi(0);function SR(e){const t=Tn(e);return!HN()||!t.visualViewport?JH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QH(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function Ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=zN(e);let o=Vi(1);t&&(r?br(r)&&(o=oc(r)):o=oc(e));const l=QH(i,n,r)?SR(i):Vi(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=Tn(i),x=r&&br(r)?Tn(r):r;let g=f,p=Wj(g);for(;p&&r&&x!==g;){const j=oc(p),v=p.getBoundingClientRect(),y=Sr(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*j.x,N=v.top+(p.clientTop+parseFloat(y.paddingTop))*j.y;c*=j.x,d*=j.y,u*=j.x,h*=j.y,c+=w,d+=N,g=Tn(p),p=Wj(g)}}return Sp({width:u,height:h,x:c,y:d})}function ZH(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Zr(r),l=t?_x(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Vi(1);const u=Vi(0),h=Xr(r);if((h||!h&&!i)&&((ld(r)!=="body"||Rh(o))&&(c=Lx(r)),Xr(r))){const f=Ko(r);d=oc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function ez(e){return Array.from(e.getClientRects())}function Yj(e,t){const n=Lx(e).scrollLeft;return t?t.left+n:Ko(Zr(e)).left+n}function tz(e){const t=Zr(e),n=Lx(e),r=e.ownerDocument.body,a=wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yj(e);const l=-n.scrollTop;return Sr(r).direction==="rtl"&&(o+=wn(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function sz(e,t){const n=Tn(e),r=Zr(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=HN();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function nz(e,t){const n=Ko(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Xr(e)?oc(e):Vi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function QC(e,t,n){let r;if(t==="viewport")r=sz(e,n);else if(t==="document")r=tz(Zr(e));else if(br(t))r=nz(t,n);else{const a=SR(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return Sp(r)}function CR(e,t){const n=Bi(e);return n===t||!br(n)||Ic(n)?!1:Sr(n).position==="fixed"||CR(n,t)}function rz(e,t){const n=t.get(e);if(n)return n;let r=qu(e,[],!1).filter(l=>br(l)&&ld(l)!=="body"),a=null;const i=Sr(e).position==="fixed";let o=i?Bi(e):e;for(;br(o)&&!Ic(o);){const l=Sr(o),c=BN(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Rh(o)&&!c&&CR(e,o))?r=r.filter(u=>u!==o):a=l,o=Bi(o)}return t.set(e,r),r}function az(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?_x(t)?[]:rz(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=QC(t,u,a);return d.top=wn(h.top,d.top),d.right=$i(h.right,d.right),d.bottom=$i(h.bottom,d.bottom),d.left=wn(h.left,d.left),d},QC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iz(e){const{width:t,height:n}=bR(e);return{width:t,height:n}}function oz(e,t,n){const r=Xr(t),a=Zr(t),i=n==="fixed",o=Ko(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Vi(0);if(r||!r&&!i)if((ld(t)!=="body"||Rh(a))&&(l=Lx(t)),r){const x=Ko(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=Yj(a));let d=0,u=0;if(a&&!r&&!i){const x=a.getBoundingClientRect();u=x.top+l.scrollTop,d=x.left+l.scrollLeft-Yj(a,x)}const h=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-u;return{x:h,y:f,width:o.width,height:o.height}}function Tv(e){return Sr(e).position==="static"}function ZC(e,t){if(!Xr(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zr(e)===n&&(n=n.ownerDocument.body),n}function ER(e,t){const n=Tn(e);if(_x(e))return n;if(!Xr(e)){let a=Bi(e);for(;a&&!Ic(a);){if(br(a)&&!Tv(a))return a;a=Bi(a)}return n}let r=ZC(e,t);for(;r&&XH(r)&&Tv(r);)r=ZC(r,t);return r&&Ic(r)&&Tv(r)&&!BN(r)?n:r||GH(e)||n}const lz=async function(e){const t=this.getOffsetParent||ER,n=this.getDimensions,r=await n(e.floating);return{reference:oz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cz(e){return Sr(e).direction==="rtl"}const dz={convertOffsetParentRelativeRectToViewportRelativeRect:ZH,getDocumentElement:Zr,getClippingRect:az,getOffsetParent:ER,getElementRects:lz,getClientRects:ez,getDimensions:iz,getScale:oc,isElement:br,isRTL:cz};function uz(e,t){let n=null,r;const a=Zr(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const x=Um(u),g=Um(a.clientWidth-(d+h)),p=Um(a.clientHeight-(u+f)),j=Um(d),y={rootMargin:-x+"px "+-g+"px "+-p+"px "+-j+"px",threshold:wn(0,$i(1,c))||1};let w=!0;function N(b){const C=b[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,y)}n.observe(e)}return o(!0),i}function TR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=zN(e),u=a||i?[...d?qu(d):[],...qu(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=d&&l?uz(d,n):null;let f=-1,x=null;o&&(x=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let g,p=c?Ko(e):null;c&&j();function j(){const v=Ko(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&n(),p=v,g=requestAnimationFrame(j)}return n(),()=>{var v;u.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(v=x)==null||v.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const hz=qH,mz=WH,fz=BH,pz=KH,xz=HH,eE=UH,gz=YH,vz=(e,t,n)=>{const r=new Map,a={platform:dz,...n},i={...a.platform,_c:r};return VH(e,t,{...a,platform:i})};var Rf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Cp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Cp(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Cp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function PR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tE(e,t){const n=PR(e);return Math.round(t*n)/n}function Pv(e){const t=m.useRef(e);return Rf(()=>{t.current=e}),t}function AR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,x]=m.useState(r);Cp(f,r)||x(r);const[g,p]=m.useState(null),[j,v]=m.useState(null),y=m.useCallback(R=>{R!==C.current&&(C.current=R,p(R))},[]),w=m.useCallback(R=>{R!==S.current&&(S.current=R,v(R))},[]),N=i||g,b=o||j,C=m.useRef(null),S=m.useRef(null),P=m.useRef(u),A=c!=null,F=Pv(c),O=Pv(a),_=Pv(d),$=m.useCallback(()=>{if(!C.current||!S.current)return;const R={placement:t,strategy:n,middleware:f};O.current&&(R.platform=O.current),vz(C.current,S.current,R).then(L=>{const H={...L,isPositioned:_.current!==!1};I.current&&!Cp(P.current,H)&&(P.current=H,Pr.flushSync(()=>{h(H)}))})},[f,t,n,O,_]);Rf(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const I=m.useRef(!1);Rf(()=>(I.current=!0,()=>{I.current=!1}),[]),Rf(()=>{if(N&&(C.current=N),b&&(S.current=b),N&&b){if(F.current)return F.current(N,b,$);$()}},[N,b,$,F,A]);const k=m.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:w}),[y,w]),T=m.useMemo(()=>({reference:N,floating:b}),[N,b]),M=m.useMemo(()=>{const R={position:n,left:0,top:0};if(!T.floating)return R;const L=tE(T.floating,u.x),H=tE(T.floating,u.y);return l?{...R,transform:"translate("+L+"px, "+H+"px)",...PR(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,l,T.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:$,refs:k,elements:T,floatingStyles:M}),[u,$,k,T,M])}const yz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eE({element:r.current,padding:a}).fn(n):{}:r?eE({element:r,padding:a}).fn(n):{}}}},kR=(e,t)=>({...hz(e),options:[e,t]}),MR=(e,t)=>({...mz(e),options:[e,t]}),RR=(e,t)=>({...gz(e),options:[e,t]}),DR=(e,t)=>({...fz(e),options:[e,t]}),FR=(e,t)=>({...pz(e),options:[e,t]}),OR=(e,t)=>({...xz(e),options:[e,t]}),IR=(e,t)=>({...yz(e),options:[e,t]});var jz="Arrow",_R=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});_R.displayName=jz;var wz=_R;function Nz(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:x,...g}=h,p=(f==null?void 0:f[e][c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})}function u(h,f){const x=(f==null?void 0:f[e][c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,bz(a,...t)]}function bz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function $x(e){const[t,n]=m.useState(void 0);return gs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var qN="Popper",[LR,cd]=Nz(qN),[Sz,$R]=LR(qN),VR=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(Sz,{scope:t,anchor:r,onAnchorChange:a,children:n})};VR.displayName=qN;var UR="PopperAnchor",BR=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=$R(UR,n),o=m.useRef(null),l=Be(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Me.div,{...a,ref:l})});BR.displayName=UR;var WN="PopperContent",[Cz,Ez]=LR(WN),HR=m.forwardRef((e,t)=>{var se,ce,pe,we,he,ye;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,j=$R(WN,n),[v,y]=m.useState(null),w=Be(t,Ne=>y(Ne)),[N,b]=m.useState(null),C=$x(N),S=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,A=r+(i!=="center"?"-"+i:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],_=O.length>0,$={padding:F,boundary:O.filter(Pz),altBoundary:_},{refs:I,floatingStyles:k,placement:T,isPositioned:M,middlewareData:R}=AR({strategy:"fixed",placement:A,whileElementsMounted:(...Ne)=>TR(...Ne,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[kR({mainAxis:a+P,alignmentAxis:o}),c&&MR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?RR():void 0,...$}),c&&DR({...$}),FR({...$,apply:({elements:Ne,rects:Pe,availableWidth:Ye,availableHeight:ze})=>{const{width:Rt,height:Zt}=Pe.reference,dt=Ne.floating.style;dt.setProperty("--radix-popper-available-width",`${Ye}px`),dt.setProperty("--radix-popper-available-height",`${ze}px`),dt.setProperty("--radix-popper-anchor-width",`${Rt}px`),dt.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),N&&IR({element:N,padding:l}),Az({arrowWidth:S,arrowHeight:P}),f&&OR({strategy:"referenceHidden",...$})]}),[L,H]=WR(T),V=Wt(g);gs(()=>{M&&(V==null||V())},[M,V]);const B=(se=R.arrow)==null?void 0:se.x,W=(ce=R.arrow)==null?void 0:ce.y,Y=((pe=R.arrow)==null?void 0:pe.centerOffset)!==0,[X,ne]=m.useState();return gs(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:M?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(we=R.transformOrigin)==null?void 0:we.x,(he=R.transformOrigin)==null?void 0:he.y].join(" "),...((ye=R.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Cz,{scope:n,placedSide:L,onArrowChange:b,arrowX:B,arrowY:W,shouldHideArrow:Y,children:s.jsx(Me.div,{"data-side":L,"data-align":H,...p,ref:w,style:{...p.style,animation:M?void 0:"none"}})})})});HR.displayName=WN;var zR="PopperArrow",Tz={top:"bottom",right:"left",bottom:"top",left:"right"},qR=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Ez(zR,r),o=Tz[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(wz,{...a,ref:n,style:{...a.style,display:"block"}})})});qR.displayName=zR;function Pz(e){return e!==null}var Az=e=>({name:"transformOrigin",options:e,fn(t){var j,v,y;const{placement:n,rects:r,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=WR(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,x=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):d==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?h:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${x}px`),{data:{x:g,y:p}}}});function WR(e){const[t,n="center"]=e.split("-");return[t,n]}var YN=VR,KN=BR,XN=HR,GN=qR,[Vx,Iye]=pn("Tooltip",[cd]),Ux=cd(),YR="TooltipProvider",kz=700,Kj="tooltip.open",[Mz,JN]=Vx(YR),KR=e=>{const{__scopeTooltip:t,delayDuration:n=kz,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=m.useState(!0),c=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(Mz,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};KR.displayName=YR;var Bx="Tooltip",[Rz,Hx]=Vx(Bx),XR=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=JN(Bx,e.__scopeTooltip),d=Ux(t),[u,h]=m.useState(null),f=qn(),x=m.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,j=m.useRef(!1),[v=!1,y]=Gn({prop:r,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Kj))):c.onClose(),i==null||i(S)}}),w=m.useMemo(()=>v?j.current?"delayed-open":"instant-open":"closed",[v]),N=m.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,y(!0)},[y]),b=m.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y(!1)},[y]),C=m.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,y(!0),x.current=0},p)},[p,y]);return m.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(YN,{...d,children:s.jsx(Rz,{scope:t,contentId:f,open:v,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?C():N()},[c.isOpenDelayed,C,N]),onTriggerLeave:m.useCallback(()=>{g?b():(window.clearTimeout(x.current),x.current=0)},[b,g]),onOpen:N,onClose:b,disableHoverableContent:g,children:n})})};XR.displayName=Bx;var Xj="TooltipTrigger",GR=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Hx(Xj,n),i=JN(Xj,n),o=Ux(n),l=m.useRef(null),c=Be(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(KN,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:je(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:je(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:je(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:je(e.onBlur,a.onClose),onClick:je(e.onClick,a.onClose)})})});GR.displayName=Xj;var Dz="TooltipPortal",[_ye,Fz]=Vx(Dz,{forceMount:void 0}),_c="TooltipContent",JR=m.forwardRef((e,t)=>{const n=Fz(_c,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Hx(_c,e.__scopeTooltip);return s.jsx(ys,{present:r||o.open,children:o.disableHoverableContent?s.jsx(QR,{side:a,...i,ref:t}):s.jsx(Oz,{side:a,...i,ref:t})})}),Oz=m.forwardRef((e,t)=>{const n=Hx(_c,e.__scopeTooltip),r=JN(_c,e.__scopeTooltip),a=m.useRef(null),i=Be(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:h}=r,f=m.useCallback(()=>{l(null),h(!1)},[h]),x=m.useCallback((g,p)=>{const j=g.currentTarget,v={x:g.clientX,y:g.clientY},y=$z(v,j.getBoundingClientRect()),w=Vz(v,y),N=Uz(p.getBoundingClientRect()),b=Hz([...w,...N]);l(b),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const g=j=>x(j,u),p=j=>x(j,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,x,f]),m.useEffect(()=>{if(o){const g=p=>{const j=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(j))||(u==null?void 0:u.contains(j)),w=!Bz(v,o);y?f():w&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,f]),s.jsx(QR,{...e,ref:i})}),[Iz,_z]=Vx(Bx,{isInside:!1}),QR=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Hx(_c,n),d=Ux(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(Kj,u),()=>document.removeEventListener(Kj,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const x=f.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(XN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(AN,{children:r}),s.jsx(Iz,{scope:n,isInside:!0,children:s.jsx(X8,{id:c.contentId,role:"tooltip",children:a||r})})]})})});JR.displayName=_c;var ZR="TooltipArrow",Lz=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Ux(n);return _z(ZR,n).isInside?null:s.jsx(GN,{...a,...r,ref:t})});Lz.displayName=ZR;function $z(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vz(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Uz(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Bz(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function Hz(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zz(t)}function zz(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var qz=KR,Wz=XR,Yz=GR,eD=JR;const tD=qz,Kz=Wz,Xz=Yz,sD=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(eD,{ref:r,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));sD.displayName=eD.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}var vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vi||(vi={}));const sE="popstate";function Gz(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return Gj("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ep(a)}return Qz(t,n,null,e)}function Gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jz(){return Math.random().toString(36).substr(2,8)}function nE(e,t){return{usr:e.state,key:e.key,idx:t}}function Gj(e,t,n,r){return n===void 0&&(n=null),Wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dd(t):t,{state:n,key:t&&t.key||r||Jz()})}function Ep(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Qz(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=vi.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Wu({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=vi.Pop;let j=u(),v=j==null?null:j-d;d=j,c&&c({action:l,location:p.location,delta:v})}function f(j,v){l=vi.Push;let y=Gj(p.location,j,v);d=u()+1;let w=nE(y,d),N=p.createHref(y);try{o.pushState(w,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}i&&c&&c({action:l,location:p.location,delta:1})}function x(j,v){l=vi.Replace;let y=Gj(p.location,j,v);d=u();let w=nE(y,d),N=p.createHref(y);o.replaceState(w,"",N),i&&c&&c({action:l,location:p.location,delta:0})}function g(j){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof j=="string"?j:Ep(j);return y=y.replace(/ $/,"%20"),Gt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(sE,h),c=j,()=>{a.removeEventListener(sE,h),c=null}},createHref(j){return t(a,j)},createURL:g,encodeLocation(j){let v=g(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:x,go(j){return o.go(j)}};return p}var rE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rE||(rE={}));function Zz(e,t,n){return n===void 0&&(n="/"),eq(e,t,n,!1)}function eq(e,t,n,r){let a=typeof t=="string"?dd(t):t,i=Lc(a.pathname||"/",n);if(i==null)return null;let o=rD(e);tq(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=hq(i);l=dq(o[c],d,r)}return l}function rD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ti([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rD(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:lq(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of aD(i.path))a(i,o,c)}),t}function aD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=aD(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sq=/^:[\w-]+$/,nq=3,rq=2,aq=1,iq=10,oq=-2,aE=e=>e==="*";function lq(e,t){let n=e.split("/"),r=n.length;return n.some(aE)&&(r+=oq),t&&(r+=rq),n.filter(a=>!aE(a)).reduce((a,i)=>a+(sq.test(i)?nq:i===""?aq:iq),r)}function cq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function dq(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Tp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Tp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ti([i,h.pathname]),pathnameBase:xq(Ti([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ti([i,h.pathnameBase]))}return o}function Tp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uq(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return x&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function uq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function hq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?dd(e):e;return{pathname:n?n.startsWith("/")?n:fq(n,t):t,search:gq(r),hash:vq(a)}}function fq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Av(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function QN(e,t){let n=pq(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ZN(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=dd(e):(a=Wu({},e),Gt(!a.pathname||!a.pathname.includes("?"),Av("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),Av("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),Av("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=mq(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),xq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iD=["post","put","patch","delete"];new Set(iD);const jq=["get",...iD];new Set(jq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}const zx=m.createContext(null),oD=m.createContext(null),_a=m.createContext(null),qx=m.createContext(null),ea=m.createContext({outlet:null,matches:[],isDataRoute:!1}),lD=m.createContext(null);function wq(e,t){let{relative:n}=t===void 0?{}:t;ud()||Gt(!1);let{basename:r,navigator:a}=m.useContext(_a),{hash:i,pathname:o,search:l}=Wx(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ti([r,o])),a.createHref({pathname:c,search:l,hash:i})}function ud(){return m.useContext(qx)!=null}function Fn(){return ud()||Gt(!1),m.useContext(qx).location}function cD(e){m.useContext(_a).static||m.useLayoutEffect(e)}function Xs(){let{isDataRoute:e}=m.useContext(ea);return e?Iq():Nq()}function Nq(){ud()||Gt(!1);let e=m.useContext(zx),{basename:t,future:n,navigator:r}=m.useContext(_a),{matches:a}=m.useContext(ea),{pathname:i}=Fn(),o=JSON.stringify(QN(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return cD(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=ZN(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ti([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,i,e])}const bq=m.createContext(null);function Sq(e){let t=m.useContext(ea).outlet;return t&&m.createElement(bq.Provider,{value:e},t)}function eb(){let{matches:e}=m.useContext(ea),t=e[e.length-1];return t?t.params:{}}function Wx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(_a),{matches:a}=m.useContext(ea),{pathname:i}=Fn(),o=JSON.stringify(QN(a,r.v7_relativeSplatPath));return m.useMemo(()=>ZN(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Cq(e,t){return Eq(e,t)}function Eq(e,t,n,r){ud()||Gt(!1);let{navigator:a}=m.useContext(_a),{matches:i}=m.useContext(ea),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Fn(),u;if(t){var h;let j=typeof t=="string"?dd(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||Gt(!1),u=j}else u=d;let f=u.pathname||"/",x=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=Zz(e,{pathname:x}),p=Mq(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Ti([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ti([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&p?m.createElement(qx.Provider,{value:{location:Yu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vi.Pop}},p):p}function Tq(){let e=Oq(),t=yq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const Pq=m.createElement(Tq,null);class Aq extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(ea.Provider,{value:this.props.routeContext},m.createElement(lD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kq(e){let{routeContext:t,match:n,children:r}=e,a=m.useContext(zx);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ea.Provider,{value:t},r)}function Mq(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Gt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:x}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let x,g=!1,p=null,j=null;n&&(x=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Pq,c&&(d<0&&f===0?(g=!0,j=null):d===f&&(g=!0,j=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),y=()=>{let w;return x?w=p:g?w=j:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,m.createElement(kq,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(Aq,{location:n.location,revalidation:n.revalidation,component:p,error:x,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var dD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dD||{}),Pp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pp||{});function Rq(e){let t=m.useContext(zx);return t||Gt(!1),t}function Dq(e){let t=m.useContext(oD);return t||Gt(!1),t}function Fq(e){let t=m.useContext(ea);return t||Gt(!1),t}function uD(e){let t=Fq(),n=t.matches[t.matches.length-1];return n.route.id||Gt(!1),n.route.id}function Oq(){var e;let t=m.useContext(lD),n=Dq(Pp.UseRouteError),r=uD(Pp.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Iq(){let{router:e}=Rq(dD.UseNavigateStable),t=uD(Pp.UseNavigateStable),n=m.useRef(!1);return cD(()=>{n.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Yu({fromRouteId:t},i)))},[e,t])}function Ap(e){let{to:t,replace:n,state:r,relative:a}=e;ud()||Gt(!1);let{future:i,static:o}=m.useContext(_a),{matches:l}=m.useContext(ea),{pathname:c}=Fn(),d=Xs(),u=ZN(t,QN(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function hD(e){return Sq(e.context)}function vt(e){Gt(!1)}function _q(e){let{basename:t="/",children:n=null,location:r,navigationType:a=vi.Pop,navigator:i,static:o=!1,future:l}=e;ud()&&Gt(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Yu({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=dd(r));let{pathname:u="/",search:h="",hash:f="",state:x=null,key:g="default"}=r,p=m.useMemo(()=>{let j=Lc(u,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:x,key:g},navigationType:a}},[c,u,h,f,x,g,a]);return p==null?null:m.createElement(_a.Provider,{value:d},m.createElement(qx.Provider,{children:n,value:p}))}function Lq(e){let{children:t,location:n}=e;return Cq(Jj(t),n)}new Promise(()=>{});function Jj(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let i=[...t,a];if(r.type===m.Fragment){n.push.apply(n,Jj(r.props.children,i));return}r.type!==vt&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jj(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function mD(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function $q(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vq(e,t){return e.button===0&&(!t||t==="_self")&&!$q(e)}const Uq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Hq="6";try{window.__reactRouterVersion=Hq}catch{}const zq=m.createContext({isTransitioning:!1}),qq="startTransition",iE=Nh[qq];function Wq(e){let{basename:t,children:n,future:r,window:a}=e,i=m.useRef();i.current==null&&(i.current=Gz({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=m.useCallback(h=>{d&&iE?iE(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.createElement(_q,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Yq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fD=m.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=mD(t,Uq),{basename:x}=m.useContext(_a),g,p=!1;if(typeof d=="string"&&Kq.test(d)&&(g=d,Yq))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),b=Lc(N.pathname,x);N.origin===w.origin&&b!=null?d=b+N.search+N.hash:p=!0}catch{}let j=wq(d,{relative:a}),v=Jq(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function y(w){r&&r(w),w.defaultPrevented||v(w)}return m.createElement("a",kp({},f,{href:g||j,onClick:p||i?r:y,ref:n,target:c}))}),Xq=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=mD(t,Bq),f=Wx(c,{relative:h.relative}),x=Fn(),g=m.useContext(oD),{navigator:p,basename:j}=m.useContext(_a),v=g!=null&&Qq(f)&&d===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=x.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&j&&(N=Lc(N,j)||N);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=w===y||!o&&w.startsWith(y)&&w.charAt(b)==="/",S=N!=null&&(N===y||!o&&N.startsWith(y)&&N.charAt(y.length)==="/"),P={isActive:C,isPending:S,isTransitioning:v},A=C?r:void 0,F;typeof i=="function"?F=i(P):F=[i,C?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(P):l;return m.createElement(fD,kp({},h,{"aria-current":A,className:F,ref:n,style:O,to:c,viewTransition:d}),typeof u=="function"?u(P):u)});var Qj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qj||(Qj={}));var oE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oE||(oE={}));function Gq(e){let t=m.useContext(zx);return t||Gt(!1),t}function Jq(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Xs(),d=Fn(),u=Wx(e,{relative:o});return m.useCallback(h=>{if(Vq(h,n)){h.preventDefault();let f=r!==void 0?r:Ep(d)===Ep(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,a,n,e,i,o,l])}function Qq(e,t){t===void 0&&(t={});let n=m.useContext(zq);n==null&&Gt(!1);let{basename:r}=Gq(Qj.useViewTransitionState),a=Wx(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Lc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Lc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tp(a.pathname,o)!=null||Tp(a.pathname,i)!=null}function pD(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zq}=Object.prototype,{getPrototypeOf:tb}=Object,{iterator:Yx,toStringTag:xD}=Symbol,Kx=(e=>t=>{const n=Zq.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=e=>(e=e.toLowerCase(),t=>Kx(t)===e),Xx=e=>t=>typeof t===e,{isArray:hd}=Array,Ku=Xx("undefined");function Dh(e){return e!==null&&!Ku(e)&&e.constructor!==null&&!Ku(e.constructor)&&un(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gD=Ar("ArrayBuffer");function e9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gD(e.buffer),t}const t9=Xx("string"),un=Xx("function"),vD=Xx("number"),Fh=e=>e!==null&&typeof e=="object",s9=e=>e===!0||e===!1,Df=e=>{if(Kx(e)!=="object")return!1;const t=tb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xD in e)&&!(Yx in e)},n9=e=>{if(!Fh(e)||Dh(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},r9=Ar("Date"),a9=Ar("File"),i9=Ar("Blob"),o9=Ar("FileList"),l9=e=>Fh(e)&&un(e.pipe),c9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||un(e.append)&&((t=Kx(e))==="formdata"||t==="object"&&un(e.toString)&&e.toString()==="[object FormData]"))},d9=Ar("URLSearchParams"),[u9,h9,m9,f9]=["ReadableStream","Request","Response","Headers"].map(Ar),p9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),hd(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Dh(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function yD(e,t){if(Dh(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jD=e=>!Ku(e)&&e!==vo;function Zj(){const{caseless:e}=jD(this)&&this||{},t={},n=(r,a)=>{const i=e&&yD(t,a)||a;Df(t[i])&&Df(r)?t[i]=Zj(t[i],r):Df(r)?t[i]=Zj({},r):hd(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Oh(arguments[r],n);return t}const x9=(e,t,n,{allOwnKeys:r}={})=>(Oh(t,(a,i)=>{n&&un(a)?e[i]=pD(a,n):e[i]=a},{allOwnKeys:r}),e),g9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),v9=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},y9=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&tb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},j9=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},w9=e=>{if(!e)return null;if(hd(e))return e;let t=e.length;if(!vD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},N9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tb(Uint8Array)),b9=(e,t)=>{const r=(e&&e[Yx]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},S9=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},C9=Ar("HTMLFormElement"),E9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),lE=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),T9=Ar("RegExp"),wD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Oh(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},P9=e=>{wD(e,(t,n)=>{if(un(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(un(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A9=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return hd(e)?r(e):r(String(e).split(t)),n},k9=()=>{},M9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function R9(e){return!!(e&&un(e.append)&&e[xD]==="FormData"&&e[Yx])}const D9=e=>{const t=new Array(10),n=(r,a)=>{if(Fh(r)){if(t.indexOf(r)>=0)return;if(Dh(r))return r;if(!("toJSON"in r)){t[a]=r;const i=hd(r)?[]:{};return Oh(r,(o,l)=>{const c=n(o,a+1);!Ku(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},F9=Ar("AsyncFunction"),O9=e=>e&&(Fh(e)||un(e))&&un(e.then)&&un(e.catch),ND=((e,t)=>e?setImmediate:t?((n,r)=>(vo.addEventListener("message",({source:a,data:i})=>{a===vo&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",un(vo.postMessage)),I9=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||ND,_9=e=>e!=null&&un(e[Yx]),oe={isArray:hd,isArrayBuffer:gD,isBuffer:Dh,isFormData:c9,isArrayBufferView:e9,isString:t9,isNumber:vD,isBoolean:s9,isObject:Fh,isPlainObject:Df,isEmptyObject:n9,isReadableStream:u9,isRequest:h9,isResponse:m9,isHeaders:f9,isUndefined:Ku,isDate:r9,isFile:a9,isBlob:i9,isRegExp:T9,isFunction:un,isStream:l9,isURLSearchParams:d9,isTypedArray:N9,isFileList:o9,forEach:Oh,merge:Zj,extend:x9,trim:p9,stripBOM:g9,inherits:v9,toFlatObject:y9,kindOf:Kx,kindOfTest:Ar,endsWith:j9,toArray:w9,forEachEntry:b9,matchAll:S9,isHTMLForm:C9,hasOwnProperty:lE,hasOwnProp:lE,reduceDescriptors:wD,freezeMethods:P9,toObjectSet:A9,toCamelCase:E9,noop:k9,toFiniteNumber:M9,findKey:yD,global:vo,isContextDefined:jD,isSpecCompliantForm:R9,toJSONObject:D9,isAsyncFn:F9,isThenable:O9,setImmediate:ND,asap:I9,isIterable:_9};function We(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}oe.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const bD=We.prototype,SD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SD[e]={value:e}});Object.defineProperties(We,SD);Object.defineProperty(bD,"isAxiosError",{value:!0});We.from=(e,t,n,r,a,i)=>{const o=Object.create(bD);return oe.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),We.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const L9=null;function e0(e){return oe.isPlainObject(e)||oe.isArray(e)}function CD(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function cE(e,t,n){return e?e.concat(t).map(function(a,i){return a=CD(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function $9(e){return oe.isArray(e)&&!e.some(e0)}const V9=oe.toFlatObject(oe,{},null,function(t){return/^is[A-Z]/.test(t)});function Gx(e,t,n){if(!oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,j){return!oe.isUndefined(j[p])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(t);if(!oe.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(oe.isDate(g))return g.toISOString();if(oe.isBoolean(g))return g.toString();if(!c&&oe.isBlob(g))throw new We("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(g)||oe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,j){let v=g;if(g&&!j&&typeof g=="object"){if(oe.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(oe.isArray(g)&&$9(g)||(oe.isFileList(g)||oe.endsWith(p,"[]"))&&(v=oe.toArray(g)))return p=CD(p),v.forEach(function(w,N){!(oe.isUndefined(w)||w===null)&&t.append(o===!0?cE([p],N,i):o===null?p:p+"[]",d(w))}),!1}return e0(g)?!0:(t.append(cE(j,p,i),d(g)),!1)}const h=[],f=Object.assign(V9,{defaultVisitor:u,convertValue:d,isVisitable:e0});function x(g,p){if(!oe.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),oe.forEach(g,function(v,y){(!(oe.isUndefined(v)||v===null)&&a.call(t,v,oe.isString(y)?y.trim():y,p,f))===!0&&x(v,p?p.concat(y):[y])}),h.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return x(e),t}function dE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sb(e,t){this._pairs=[],e&&Gx(e,this,t)}const ED=sb.prototype;ED.append=function(t,n){this._pairs.push([t,n])};ED.toString=function(t){const n=t?function(r){return t.call(this,r,dE)}:dE;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function U9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TD(e,t,n){if(!t)return e;const r=n&&n.encode||U9;oe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=oe.isURLSearchParams(t)?t.toString():new sb(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class uE{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){oe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const PD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B9=typeof URLSearchParams<"u"?URLSearchParams:sb,H9=typeof FormData<"u"?FormData:null,z9=typeof Blob<"u"?Blob:null,q9={isBrowser:!0,classes:{URLSearchParams:B9,FormData:H9,Blob:z9},protocols:["http","https","file","blob","url","data"]},nb=typeof window<"u"&&typeof document<"u",t0=typeof navigator=="object"&&navigator||void 0,W9=nb&&(!t0||["ReactNative","NativeScript","NS"].indexOf(t0.product)<0),Y9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K9=nb&&window.location.href||"http://localhost",X9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nb,hasStandardBrowserEnv:W9,hasStandardBrowserWebWorkerEnv:Y9,navigator:t0,origin:K9},Symbol.toStringTag,{value:"Module"})),ks={...X9,...q9};function G9(e,t){return Gx(e,new ks.classes.URLSearchParams,{visitor:function(n,r,a,i){return ks.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function J9(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q9(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function AD(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&oe.isArray(a)?a.length:o,c?(oe.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!oe.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&oe.isArray(a[o])&&(a[o]=Q9(a[o])),!l)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const n={};return oe.forEachEntry(e,(r,a)=>{t(J9(r),a,n,0)}),n}return null}function Z9(e,t,n){if(oe.isString(e))try{return(t||JSON.parse)(e),oe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ih={transitional:PD,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=oe.isObject(t);if(i&&oe.isHTMLForm(t)&&(t=new FormData(t)),oe.isFormData(t))return a?JSON.stringify(AD(t)):t;if(oe.isArrayBuffer(t)||oe.isBuffer(t)||oe.isStream(t)||oe.isFile(t)||oe.isBlob(t)||oe.isReadableStream(t))return t;if(oe.isArrayBufferView(t))return t.buffer;if(oe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G9(t,this.formSerializer).toString();if((l=oe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gx(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Z9(t)):t}],transformResponse:[function(t){const n=this.transitional||Ih.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(oe.isResponse(t)||oe.isReadableStream(t))return t;if(t&&oe.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?We.from(l,We.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ks.classes.FormData,Blob:ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{Ih.headers[e]={}});const eW=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tW=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&eW[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},hE=Symbol("internals");function Id(e){return e&&String(e).trim().toLowerCase()}function Ff(e){return e===!1||e==null?e:oe.isArray(e)?e.map(Ff):String(e)}function sW(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nW=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kv(e,t,n,r,a){if(oe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!oe.isString(t)){if(oe.isString(r))return t.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(t)}}function rW(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function aW(e,t){const n=oe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class hn{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,d){const u=Id(c);if(!u)throw new Error("header name must be a non-empty string");const h=oe.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=Ff(l))}const o=(l,c)=>oe.forEach(l,(d,u)=>i(d,u,c));if(oe.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(oe.isString(t)&&(t=t.trim())&&!nW(t))o(tW(t),n);else if(oe.isObject(t)&&oe.isIterable(t)){let l={},c,d;for(const u of t){if(!oe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?oe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Id(t),t){const r=oe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return sW(a);if(oe.isFunction(n))return n.call(this,a,r);if(oe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Id(t),t){const r=oe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||kv(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Id(o),o){const l=oe.findKey(r,o);l&&(!n||kv(r,r[l],l,n))&&(delete r[l],a=!0)}}return oe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||kv(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return oe.forEach(this,(a,i)=>{const o=oe.findKey(r,i);if(o){n[o]=Ff(a),delete n[i];return}const l=t?rW(i):String(i).trim();l!==i&&delete n[i],n[l]=Ff(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return oe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[hE]=this[hE]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Id(o);r[l]||(aW(a,o),r[l]=!0)}return oe.isArray(t)?t.forEach(i):i(t),this}}hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(hn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});oe.freezeMethods(hn);function Mv(e,t){const n=this||Ih,r=t||n,a=hn.from(r.headers);let i=r.data;return oe.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function kD(e){return!!(e&&e.__CANCEL__)}function md(e,t,n){We.call(this,e??"canceled",We.ERR_CANCELED,t,n),this.name="CanceledError"}oe.inherits(md,We,{__CANCEL__:!0});function MD(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oW(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];o||(o=d),n[a]=c,r[a]=d;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const x=u&&d-u;return x?Math.round(f*1e3/x):void 0}}function lW(e,t){let n=0,r=1e3/t,a,i;const o=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=r?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const Mp=(e,t,n=3)=>{let r=0;const a=oW(50,250);return lW(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,d=a(c),u=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},mE=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fE=e=>(...t)=>oe.asap(()=>e(...t)),cW=ks.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ks.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ks.origin),ks.navigator&&/(msie|trident)/i.test(ks.navigator.userAgent)):()=>!0,dW=ks.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uW(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hW(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RD(e,t,n){let r=!uW(t);return e&&(r||n==!1)?hW(e,t):t}const pE=e=>e instanceof hn?{...e}:e;function Xo(e,t){t=t||{};const n={};function r(d,u,h,f){return oe.isPlainObject(d)&&oe.isPlainObject(u)?oe.merge.call({caseless:f},d,u):oe.isPlainObject(u)?oe.merge({},u):oe.isArray(u)?u.slice():u}function a(d,u,h,f){if(oe.isUndefined(u)){if(!oe.isUndefined(d))return r(void 0,d,h,f)}else return r(d,u,h,f)}function i(d,u){if(!oe.isUndefined(u))return r(void 0,u)}function o(d,u){if(oe.isUndefined(u)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,h){if(h in t)return r(d,u);if(h in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>a(pE(d),pE(u),h,!0)};return oe.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||a,f=h(e[u],t[u],u);oe.isUndefined(f)&&h!==l||(n[u]=f)}),n}const DD=e=>{const t=Xo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=hn.from(o),t.url=TD(RD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(ks.hasStandardBrowserEnv||ks.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ks.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(t)),r||r!==!1&&cW(t.url))){const d=a&&i&&dW.read(i);d&&o.set(a,d)}return t},mW=typeof XMLHttpRequest<"u",fW=mW&&function(e){return new Promise(function(n,r){const a=DD(e);let i=a.data;const o=hn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,f,x,g;function p(){x&&x(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function v(){if(!j)return;const w=hn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:w,config:e,request:j};MD(function(S){n(S),p()},function(S){r(S),p()},b),j=null}"onloadend"in j?j.onloadend=v:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(v)},j.onabort=function(){j&&(r(new We("Request aborted",We.ECONNABORTED,e,j)),j=null)},j.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const b=a.transitional||PD;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),r(new We(N,b.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&oe.forEach(o.toJSON(),function(N,b){j.setRequestHeader(b,N)}),oe.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),l&&l!=="json"&&(j.responseType=a.responseType),d&&([f,g]=Mp(d,!0),j.addEventListener("progress",f)),c&&j.upload&&([h,x]=Mp(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=w=>{j&&(r(!w||w.type?new md(null,e,j):w),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=iW(a.url);if(y&&ks.protocols.indexOf(y)===-1){r(new We("Unsupported protocol "+y+":",We.ERR_BAD_REQUEST,e));return}j.send(i||null)})},pW=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof We?u:new md(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new We(`timeout ${t} of ms exceeded`,We.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},xW=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},gW=async function*(e,t){for await(const n of vW(e))yield*xW(n,t)},vW=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},xE=(e,t,n,r)=>{const a=gW(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Jx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",FD=Jx&&typeof ReadableStream=="function",yW=Jx&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),OD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jW=FD&&OD(()=>{let e=!1;const t=new Request(ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gE=64*1024,s0=FD&&OD(()=>oe.isReadableStream(new Response("").body)),Rp={stream:s0&&(e=>e.body)};Jx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Rp[t]&&(Rp[t]=oe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new We(`Response type '${t}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const wW=async e=>{if(e==null)return 0;if(oe.isBlob(e))return e.size;if(oe.isSpecCompliantForm(e))return(await new Request(ks.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(e)||oe.isArrayBuffer(e))return e.byteLength;if(oe.isURLSearchParams(e)&&(e=e+""),oe.isString(e))return(await yW(e)).byteLength},NW=async(e,t)=>{const n=oe.toFiniteNumber(e.getContentLength());return n??wW(t)},bW=Jx&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=DD(e);d=d?(d+"").toLowerCase():"text";let x=pW([a,i&&i.toAbortSignal()],o),g;const p=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let j;try{if(c&&jW&&n!=="get"&&n!=="head"&&(j=await NW(u,r))!==0){let b=new Request(t,{method:"POST",body:r,duplex:"half"}),C;if(oe.isFormData(r)&&(C=b.headers.get("content-type"))&&u.setContentType(C),b.body){const[S,P]=mE(j,Mp(fE(c)));r=xE(b.body,gE,S,P)}}oe.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(t,{...f,signal:x,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let y=await fetch(g,f);const w=s0&&(d==="stream"||d==="response");if(s0&&(l||w&&p)){const b={};["status","statusText","headers"].forEach(A=>{b[A]=y[A]});const C=oe.toFiniteNumber(y.headers.get("content-length")),[S,P]=l&&mE(C,Mp(fE(l),!0))||[];y=new Response(xE(y.body,gE,S,()=>{P&&P(),p&&p()}),b)}d=d||"text";let N=await Rp[oe.findKey(Rp,d)||"text"](y,e);return!w&&p&&p(),await new Promise((b,C)=>{MD(b,C,{data:N,headers:hn.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:g})})}catch(v){throw p&&p(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,e,g),{cause:v.cause||v}):We.from(v,v&&v.code,e,g)}}),n0={http:L9,xhr:fW,fetch:bW};oe.forEach(n0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vE=e=>`- ${e}`,SW=e=>oe.isFunction(e)||e===null||e===!1,ID={getAdapter:e=>{e=oe.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!SW(n)&&(r=n0[(o=String(n)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(vE).join(`
`):" "+vE(i[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:n0};function Rv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new md(null,e)}function yE(e){return Rv(e),e.headers=hn.from(e.headers),e.data=Mv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ID.getAdapter(e.adapter||Ih.adapter)(e).then(function(r){return Rv(e),r.data=Mv.call(e,e.transformResponse,r),r.headers=hn.from(r.headers),r},function(r){return kD(r)||(Rv(e),r&&r.response&&(r.response.data=Mv.call(e,e.transformResponse,r.response),r.response.headers=hn.from(r.response.headers))),Promise.reject(r)})}const _D="1.11.0",Qx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const jE={};Qx.transitional=function(t,n,r){function a(i,o){return"[Axios v"+_D+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new We(a(o," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!jE[o]&&(jE[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Qx.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function CW(e,t,n){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new We("option "+i+" must be "+c,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+i,We.ERR_BAD_OPTION)}}const Of={assertOptions:CW,validators:Qx},Dr=Of.validators;class Oo{constructor(t){this.defaults=t||{},this.interceptors={request:new uE,response:new uE}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Of.assertOptions(r,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),a!=null&&(oe.isFunction(a)?n.paramsSerializer={serialize:a}:Of.assertOptions(a,{encode:Dr.function,serialize:Dr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Of.assertOptions(n,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&oe.merge(i.common,i[n.method]);i&&oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=hn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!c){const g=[yE.bind(this),void 0];for(g.unshift(...l),g.push(...d),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=l.length;let x=n;for(h=0;h<f;){const g=l[h++],p=l[h++];try{x=g(x)}catch(j){p.call(this,j);break}}try{u=yE.call(this,x)}catch(g){return Promise.reject(g)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Xo(this.defaults,t);const n=RD(t.baseURL,t.url,t.allowAbsoluteUrls);return TD(n,t.params,t.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(t){Oo.prototype[t]=function(n,r){return this.request(Xo(r||{},{method:t,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Xo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Oo.prototype[t]=n(),Oo.prototype[t+"Form"]=n(!0)});class rb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new md(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rb(function(a){t=a}),cancel:t}}}function EW(e){return function(n){return e.apply(null,n)}}function TW(e){return oe.isObject(e)&&e.isAxiosError===!0}const r0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(r0).forEach(([e,t])=>{r0[t]=e});function LD(e){const t=new Oo(e),n=pD(Oo.prototype.request,t);return oe.extend(n,Oo.prototype,t,{allOwnKeys:!0}),oe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return LD(Xo(e,a))},n}const Pt=LD(Ih);Pt.Axios=Oo;Pt.CanceledError=md;Pt.CancelToken=rb;Pt.isCancel=kD;Pt.VERSION=_D;Pt.toFormData=Gx;Pt.AxiosError=We;Pt.Cancel=Pt.CanceledError;Pt.all=function(t){return Promise.all(t)};Pt.spread=EW;Pt.isAxiosError=TW;Pt.mergeConfig=Xo;Pt.AxiosHeaders=hn;Pt.formToJSON=e=>AD(oe.isHTMLForm(e)?new FormData(e):e);Pt.getAdapter=ID.getAdapter;Pt.HttpStatusCode=r0;Pt.default=Pt;class PW{constructor(){ft(this,"client");ft(this,"baseURL");const t=window.location.hostname,n=window.location.port||"8080";this.baseURL=`http://${t}:${n}/api`,this.client=Pt.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{var a;const n=localStorage.getItem("integration_platform_token");console.log("API Request - Token present:",!!n),n&&!t.skipAuth?(t.headers.Authorization=`Bearer ${n}`,console.log("API Request - Adding Authorization header")):console.log("API Request - No token or skipAuth=true");const r=this.generateCorrelationId();return t.headers["X-Correlation-ID"]=r,window.__currentCorrelationId=r,console.log(`API Call: ${((a=t.method)==null?void 0:a.toUpperCase())||"GET"} ${t.url||""}`),console.log("Request headers:",t.headers),t},t=>Promise.reject(this.handleError(t))),this.client.interceptors.response.use(t=>{var n;return console.log(`API Response: ${(n=t.config.method)==null?void 0:n.toUpperCase()} ${t.config.url} - ${t.status}`),t},async t=>{var r,a;const n=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!n.skipAuth){const i=localStorage.getItem("integration_platform_refresh_token");if(i&&!((a=n.url)!=null&&a.includes("/refresh")))try{const l=(await this.client.post("/auth/refresh",{refreshToken:i},{skipAuth:!0})).data.token;return localStorage.setItem("integration_platform_token",l),n.headers&&(n.headers.Authorization=`Bearer ${l}`),this.client(n)}catch(o){console.error("Token refresh failed:",o),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}else localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}return Promise.reject(this.handleError(t))})}generateCorrelationId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleError(t){var n,r,a,i,o;return console.error(`API Error: ${((r=(n=t.config)==null?void 0:n.method)==null?void 0:r.toUpperCase())||"UNKNOWN"} ${((a=t.config)==null?void 0:a.url)||"unknown"}`,t),(i=t.response)!=null&&i.data?{message:t.response.data.message||"An error occurred",code:t.response.data.code||((o=t.response.status)==null?void 0:o.toString()),details:t.response.data.details,timestamp:t.response.data.timestamp||new Date().toISOString()}:t.request?{message:"No response from server. Please check your connection.",code:"NETWORK_ERROR",timestamp:new Date().toISOString()}:{message:t.message||"An unexpected error occurred",code:"UNKNOWN_ERROR",timestamp:new Date().toISOString()}}async get(t,n){return(await this.client.get(t,n)).data}async post(t,n,r){return(await this.client.post(t,n,r)).data}async put(t,n,r){return(await this.client.put(t,n,r)).data}async patch(t,n,r){return(await this.client.patch(t,n,r)).data}async delete(t,n){return(await this.client.delete(t,n)).data}async upload(t,n,r){return(await this.client.post(t,n,{...r,headers:{...r==null?void 0:r.headers,"Content-Type":"multipart/form-data"}})).data}async download(t,n,r){const a=await this.client.get(t,{...r,responseType:"blob"}),i=new Blob([a.data]),o=document.createElement("a");o.href=window.URL.createObjectURL(i),o.download=n,o.click(),window.URL.revokeObjectURL(o.href)}}const Qe=new PW;class AW{constructor(){ft(this,"listeners",[]);window.addEventListener("error",t=>{var n;this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(n=t.error)==null?void 0:n.stack})}),window.addEventListener("unhandledrejection",t=>{var n;this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:(n=t.reason)==null?void 0:n.stack})})}async logError(t,n){const r={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:n,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};await this.sendLogToBackend(r),this.notifyListeners(r)}async logInfo(t,n,r="system",a,i){const o={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:n,source:r,sourceId:a||"general",sourceName:i||"System"};await this.sendLogToBackend(o),this.notifyListeners(o)}async logWarning(t,n,r="system",a,i){const o={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:n,source:r,sourceId:a||"general",sourceName:i||"System"};await this.sendLogToBackend(o),this.notifyListeners(o)}async sendLogToBackend(t){var n,r;try{const i={logs:[{level:t.level.toUpperCase(),category:t.source==="system"?"SYSTEM":"APPLICATION",message:t.message,details:t.details||{},error:((n=t.details)==null?void 0:n.error)||null,stackTrace:((r=t.details)==null?void 0:r.stack)||null,userAgent:navigator.userAgent,url:window.location.href,timestamp:t.timestamp,userId:localStorage.getItem("userId")||null,sessionId:localStorage.getItem("sessionId")||null,correlationId:t.id}]};await Qe.post("/system/logs/batch",i)}catch(a){console.error("Failed to send log to backend:",a)}}async getAllLogs(){try{return(await Qe.get("/system-logs")).data||[]}catch(t){return console.error("Failed to fetch logs from backend:",t),[]}}async getFilteredLogs(t){try{const n=new URLSearchParams;return Object.entries(t).forEach(([a,i])=>{i!==void 0&&n.append(a,i.toString())}),(await Qe.get(`/system-logs${n.toString()?`?${n.toString()}`:""}`)).data||[]}catch(n){return console.error("Failed to fetch filtered logs from backend:",n),[]}}onLogUpdate(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyListeners(t){this.listeners.forEach(n=>n(t))}}const If=new AW,kW=window.location.hostname,MW=window.location.port||"8080",$D=`http://${kW}:${MW}/api`;class Dv extends Error{constructor(t,n,r){super(t),this.status=n,this.response=r,this.name="ApiError"}}function wE(){return localStorage.getItem("integration_platform_token")}function RW(){return localStorage.getItem("integration_platform_refresh_token")}function DW(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function FW(){const e=RW();if(!e)return!1;try{const t=await fetch(`${$D}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const n=await t.json();return localStorage.setItem("integration_platform_token",n.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return DW(),!1}async function _d(e,t={}){const n=`${$D}${e}`,r=wE(),a={"Content-Type":"application/json"};r&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${r}`);const i={headers:{...a,...t.headers},...t};try{console.log("[API] Making request:",{method:i.method||"GET",url:n,body:i.body?JSON.parse(i.body):void 0});let o=await fetch(n,i);if(o.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await FW()){const u=wE();u&&(i.headers={...i.headers,Authorization:`Bearer ${u}`},o=await fetch(n,i))}else throw window.location.href="/login",new Dv("Authentication failed",401);let l;const c=o.headers.get("content-type");if(c&&c.includes("application/json")?l=await o.json():l=await o.text(),!o.ok){const d={status:o.status,endpoint:e,data:l};throw console.log("[API] Error response from backend:",d),If.logError(`API Error: ${e} - ${o.status}`,{...d,method:t.method||"GET",url:n,timestamp:new Date().toISOString()}),new Dv(l.message||l||`HTTP ${o.status}: ${o.statusText}`,o.status,l)}return typeof l=="string"&&l.includes("<!DOCTYPE html>")?(console.warn(`API endpoint ${e} returned HTML instead of JSON`),{success:!1,error:"API endpoint returned HTML instead of JSON",data:null}):{success:!0,data:l.data||l,message:l.message}}catch(o){if(o instanceof Dv)throw o;return{success:!1,error:o instanceof Error?o.message:"Unknown error occurred"}}}const te={get:(e,t)=>_d(e,{method:"GET",...t}),post:(e,t,n)=>_d(e,{method:"POST",body:JSON.stringify(t),...n}),put:(e,t,n)=>_d(e,{method:"PUT",body:JSON.stringify(t),...n}),patch:(e,t,n)=>_d(e,{method:"PATCH",body:JSON.stringify(t),...n}),delete:(e,t)=>_d(e,{method:"DELETE",...t})};class OW{constructor(){ft(this,"TOKEN_KEY","integration_platform_token");ft(this,"REFRESH_TOKEN_KEY","integration_platform_refresh_token");ft(this,"USER_KEY","integration_platform_user")}async login(t){const n=await te.post("/auth/login",t);return n.success&&n.data&&this.setAuthData(n.data),n}async register(t){return te.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await te.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const n=await te.post("/auth/refresh",{refreshToken:t});return n.success&&n.data&&localStorage.setItem(this.TOKEN_KEY,n.data.token),n}async getProfile(){return te.get("/auth/profile")}async updateProfile(t){return te.put("/auth/profile",t)}async changePassword(t,n){return te.post("/auth/change-password",{currentPassword:t,newPassword:n})}async requestPasswordReset(t){return te.post("/auth/forgot-password",{email:t})}async resetPassword(t,n){return te.post("/auth/reset-password",{token:t,newPassword:n})}async verifyEmail(t){return te.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const n=this.getCurrentUser();if(!(n!=null&&n.permissions))return!1;let r=[];if(typeof n.permissions=="string")try{const a=JSON.parse(n.permissions);r=Array.isArray(a)?a:Object.keys(a)}catch{r=[]}else Array.isArray(n.permissions)&&(r=n.permissions);return r.includes(t)}hasRole(t){const n=this.getCurrentUser();return(n==null?void 0:n.role)===t}isAdmin(){return this.hasRole("administrator")}}const _n=new OW,VD=m.createContext(void 0),ta=()=>{const e=m.useContext(VD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},IW=({children:e})=>{const[t,n]=m.useState(null),[r,a]=m.useState(!0),[i,o]=m.useState([]),[l,c]=m.useState(null),d=Xs(),{toast:u}=mt();m.useEffect(()=>{(async()=>{try{if(window.location.pathname==="/login"){console.log("AuthContext: On login page, skipping auth check"),a(!1);return}const b=_n.getToken();if(!b){console.log("AuthContext: No token found, skipping initialization"),a(!1);return}try{const S=JSON.parse(atob(b.split(".")[1])).exp*1e3;if(S<Date.now()){console.log("AuthContext: Token expired, clearing auth data"),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),a(!1);return}c(S)}catch(C){console.warn("Failed to parse token:",C),a(!1);return}try{const C=await _n.getProfile();C.success&&C.data?n(C.data):console.warn("AuthContext: Profile fetch failed")}catch(C){console.warn("AuthContext: Profile fetch error:",C)}}catch(b){console.error("Auth initialization error:",b)}finally{a(!1)}})()},[]),m.useEffect(()=>{if(!l)return;const N=l-Date.now();if(N<=0){f();return}const b=setTimeout(()=>{f()},N);return()=>clearTimeout(b)},[l]);const h=async(N,b,C)=>{try{a(!0);const S=await _n.login({username:N,password:b});if(S.success&&S.data){n(S.data.user);const P=Date.now()+S.data.expiresIn*1e3;return c(P),u({title:"Success",description:"Login successful"}),setTimeout(()=>{d(C||"/dashboard")},100),!0}else return u({title:"Error",description:S.error||"Login failed",variant:"destructive"}),!1}catch(S){return console.error("Login error:",S),u({title:"Error",description:"Login failed. Please try again.",variant:"destructive"}),!1}finally{a(!1)}},f=async()=>{try{n(null),c(null),_n.logout().catch(N=>{console.warn("Logout API call failed:",N)}),d("/login"),u({title:"Success",description:"Logged out successfully"})}catch(N){console.error("Logout error:",N),d("/login")}},x=()=>!(!_n.isAuthenticated()||l&&Date.now()>=l||!t),g=async()=>{try{if(!x())return await f(),!1;const N=await _n.getProfile();if(N.success&&N.data){n(N.data);const b=_n.getToken();if(b)try{const C=JSON.parse(atob(b.split(".")[1]));c(C.exp*1e3)}catch(C){console.warn("Failed to parse token expiry:",C)}return!0}else return await f(),!1}catch(N){return console.error("Session check error:",N),await f(),!1}},p=()=>i,j=async N=>{try{const b=await _n.register({...N,password:"temp123"});b.success&&b.data?(o(C=>[...C,b.data]),u({title:"Success",description:"User created successfully"})):u({title:"Error",description:b.error||"Failed to create user",variant:"destructive"})}catch(b){console.error("Create user error:",b),u({title:"Error",description:"Failed to create user",variant:"destructive"})}},v=async(N,b)=>{try{o(C=>C.map(S=>S.id===N?{...S,...b}:S)),u({title:"Success",description:"User updated successfully"})}catch(C){console.error("Update user error:",C),u({title:"Error",description:"Failed to update user",variant:"destructive"})}},y=async N=>{try{o(b=>b.filter(C=>C.id!==N)),u({title:"Success",description:"User deleted successfully"})}catch(b){console.error("Delete user error:",b),u({title:"Error",description:"Failed to delete user",variant:"destructive"})}},w={user:t,login:h,logout:f,isAuthenticated:!!t&&_n.isAuthenticated(),isLoading:r,tokenExpiry:l,checkSession:g,isSessionValid:x,getAllUsers:p,createUser:j,updateUser:v,deleteUser:y};return s.jsx(VD.Provider,{value:w,children:e})},UD=m.createContext(void 0);function _W({children:e}){const{toast:t}=mt(),{isAuthenticated:n}=ta(),[r,a]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(!0),x=async()=>{try{const F=await Qe.get("/tenants/current");a(F),localStorage.setItem("currentTenantId",F.id)}catch(F){console.error("Failed to load current tenant:",F)}},g=async()=>{try{const F=await Qe.get("/tenants/my-tenants");o(F)}catch(F){console.error("Failed to load user tenants:",F)}},p=async()=>{if(r)try{const F=await Qe.get(`/tenants/${r.id}/subscription`);c(F)}catch(F){console.error("Failed to load subscription:",F)}},j=async()=>{if(r)try{const F=await Qe.get(`/tenants/${r.id}/usage`);u(F)}catch(F){console.error("Failed to load usage:",F)}},v=async F=>{try{await Qe.post(`/tenants/switch/${F}`),await x(),await p(),await j(),t({title:"Success",description:"Switched tenant successfully"}),window.location.reload()}catch(O){throw t({title:"Error",description:"Failed to switch tenant",variant:"destructive"}),O}},y=async()=>{await g()},w=async()=>{await p()},N=async()=>{await j()},b=F=>{var O;return((O=l==null?void 0:l.features)==null?void 0:O.includes(F))??!1},C=F=>{if(!d||!d.quotas)return!1;const O=d.quotas[F];return!O||O===-1?!1:P(F)>O},S=F=>{if(!d||!d.quotas)return 0;const O=d.quotas[F];if(!O||O===-1)return 0;const _=P(F);return Math.min(_/O*100,100)},P=F=>{if(!d)return 0;switch(F){case"executions_per_month":return d.executions;case"messages_per_month":return d.messages;case"api_calls_per_month":return d.apiCalls;case"storage_gb":return d.storageGb;case"users":return d.users;case"flows":return d.flows;default:return 0}};m.useEffect(()=>{n&&(async()=>(f(!0),localStorage.getItem("currentTenantId"),await Promise.all([x(),g()]),f(!1)))()},[n]),m.useEffect(()=>{r&&(p(),j())},[r]);const A={currentTenant:r,userTenants:i,subscription:l,usage:d,loading:h,switchTenant:v,refreshTenants:y,refreshSubscription:w,refreshUsage:N,hasFeature:b,isOverQuota:C,getQuotaPercentage:S};return s.jsx(UD.Provider,{value:A,children:e})}function LW(){const e=m.useContext(UD);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}const $W=()=>{const{isAuthenticated:e,isLoading:t}=ta(),[n,r]=bt.useState(!0);return bt.useEffect(()=>{const a=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(a)},[]),bt.useEffect(()=>{console.log("ProtectedRoute: isAuthenticated =",e,"isLoading =",t)},[e,t]),t&&n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(hD,{}):(console.log("ProtectedRoute: Redirecting to login - not authenticated"),s.jsx(Ap,{to:"/login",replace:!0}))},Xu=dl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-primary text-primary-foreground hover:opacity-90 hover:scale-[1.02] hover:shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?An:"button";return s.jsx(o,{className:le(Xu({variant:t,size:n,className:e})),ref:i,...a})});q.displayName="Button";const VW=dl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-100/80 dark:bg-green-900/30 dark:text-green-400",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80 dark:bg-yellow-900/30 dark:text-yellow-400",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-100/80 dark:bg-blue-900/30 dark:text-blue-400"}},defaultVariants:{variant:"default"}});function de({className:e,variant:t,...n}){return s.jsx("div",{className:le(VW({variant:t}),e),...n})}var UW=m.createContext(void 0);function fd(e){const t=m.useContext(UW);return e||t||"ltr"}var Fv=0;function ab(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??NE()),document.body.insertAdjacentElement("beforeend",e[1]??NE()),Fv++,()=>{Fv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fv--}},[])}function NE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ov="focusScope.autoFocusOnMount",Iv="focusScope.autoFocusOnUnmount",bE={bubbles:!1,cancelable:!0},BW="FocusScope",Zx=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Wt(a),u=Wt(i),h=m.useRef(null),f=Be(t,p=>c(p)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(w){if(x.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Xa(h.current,{select:!0})},j=function(w){if(x.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Xa(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&Xa(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",j);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",j),y.disconnect()}}},[r,l,x.paused]),m.useEffect(()=>{if(l){CE.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Ov,bE);l.addEventListener(Ov,d),l.dispatchEvent(v),v.defaultPrevented||(HW(KW(BD(l)),{select:!0}),document.activeElement===p&&Xa(l))}return()=>{l.removeEventListener(Ov,d),setTimeout(()=>{const v=new CustomEvent(Iv,bE);l.addEventListener(Iv,u),l.dispatchEvent(v),v.defaultPrevented||Xa(p??document.body,{select:!0}),l.removeEventListener(Iv,u),CE.remove(x)},0)}}},[l,d,u,x]);const g=m.useCallback(p=>{if(!n&&!r||x.paused)return;const j=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(j&&v){const y=p.currentTarget,[w,N]=zW(y);w&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Xa(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&Xa(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Zx.displayName=BW;function HW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xa(r,{select:t}),document.activeElement!==n)return}function zW(e){const t=BD(e),n=SE(t,e),r=SE(t.reverse(),e);return[n,r]}function BD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function SE(e,t){for(const n of e)if(!qW(n,{upTo:t}))return n}function qW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WW(e){return e instanceof HTMLInputElement&&"select"in e}function Xa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&WW(e)&&t&&e.select()}}var CE=YW();function YW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=EE(e,t),e.unshift(t)},remove(t){var n;e=EE(e,t),(n=e[0])==null||n.resume()}}}function EE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function KW(e){return e.filter(t=>t.tagName!=="A")}function XW(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:x,...g}=h,p=(f==null?void 0:f[e][c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})}function u(h,f){const x=(f==null?void 0:f[e][c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,GW(a,...t)]}function GW(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var _v="rovingFocusGroup.onEntryFocus",JW={bubbles:!1,cancelable:!0},eg="RovingFocusGroup",[a0,HD,QW]=kx(eg),[ZW,pd]=XW(eg,[QW]),[e7,t7]=ZW(eg),zD=m.forwardRef((e,t)=>s.jsx(a0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(a0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(s7,{...e,ref:t})})}));zD.displayName=eg;var s7=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=m.useRef(null),x=Be(t,f),g=fd(i),[p=null,j]=Gn({prop:o,defaultProp:l,onChange:c}),[v,y]=m.useState(!1),w=Wt(d),N=HD(n),b=m.useRef(!1),[C,S]=m.useState(0);return m.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(_v,w),()=>P.removeEventListener(_v,w)},[w]),s.jsx(e7,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:m.useCallback(P=>j(P),[j]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>S(P=>P-1),[]),children:s.jsx(Me.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...h,ref:x,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{b.current=!0}),onFocus:je(e.onFocus,P=>{const A=!b.current;if(P.target===P.currentTarget&&A&&!v){const F=new CustomEvent(_v,JW);if(P.currentTarget.dispatchEvent(F),!F.defaultPrevented){const O=N().filter(T=>T.focusable),_=O.find(T=>T.active),$=O.find(T=>T.id===p),k=[_,$,...O].filter(Boolean).map(T=>T.ref.current);YD(k,u)}}b.current=!1}),onBlur:je(e.onBlur,()=>y(!1))})})}),qD="RovingFocusGroupItem",WD=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=qn(),c=i||l,d=t7(qD,n),u=d.currentTabStopId===c,h=HD(n),{onFocusableItemAdd:f,onFocusableItemRemove:x}=d;return m.useEffect(()=>{if(r)return f(),()=>x()},[r,f,x]),s.jsx(a0.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Me.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:je(e.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:je(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:je(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=a7(g,d.orientation,d.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=d.loop?i7(v,y+1):v.slice(y+1)}setTimeout(()=>YD(v))}})})})});WD.displayName=qD;var n7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a7(e,t,n){const r=r7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n7[r]}function YD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function i7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ib=zD,ob=WD,o7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yl=new WeakMap,Bm=new WeakMap,Hm={},Lv=0,KD=function(e){return e&&(e.host||KD(e.parentNode))},l7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=KD(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},c7=function(e,t,n,r){var a=l7(t,Array.isArray(e)?e:[e]);Hm[n]||(Hm[n]=new WeakMap);var i=Hm[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var x=f.getAttribute(r),g=x!==null&&x!=="false",p=(yl.get(f)||0)+1,j=(i.get(f)||0)+1;yl.set(f,p),i.set(f,j),o.push(f),p===1&&g&&Bm.set(f,!0),j===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),Lv++,function(){o.forEach(function(h){var f=yl.get(h)-1,x=i.get(h)-1;yl.set(h,f),i.set(h,x),f||(Bm.has(h)||h.removeAttribute(r),Bm.delete(h)),x||h.removeAttribute(n)}),Lv--,Lv||(yl=new WeakMap,yl=new WeakMap,Bm=new WeakMap,Hm={})}},_h=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=o7(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),c7(r,a,n,"aria-hidden")):function(){return null}},ns=function(){return ns=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ns.apply(this,arguments)};function tg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function lb(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var lc="right-scroll-bar-position",cc="width-before-scroll-bar",d7="with-scroll-bars-hidden",u7="--removed-body-scroll-bar-size";function $v(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function h7(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var m7=typeof window<"u"?m.useLayoutEffect:m.useEffect,TE=new WeakMap;function cb(e,t){var n=h7(null,function(r){return e.forEach(function(a){return $v(a,r)})});return m7(function(){var r=TE.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||$v(l,null)}),i.forEach(function(l){a.has(l)||$v(l,o)})}TE.set(n,e)},[e]),n}function f7(e){return e}function p7(e,t){t===void 0&&(t=f7);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function db(e){e===void 0&&(e={});var t=p7(null);return t.options=ns({async:!0,ssr:!1},e),t}var XD=function(e){var t=e.sideCar,n=tg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ns({},n))};XD.isSideCarExport=!0;function ub(e,t){return e.useMedium(t),XD}var GD=db(),Vv=function(){},sg=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Vv,onWheelCapture:Vv,onTouchMoveCapture:Vv}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,x=e.noIsolation,g=e.inert,p=e.allowPinchZoom,j=e.as,v=j===void 0?"div":j,y=e.gapMode,w=tg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,b=cb([n,t]),C=ns(ns({},w),a);return m.createElement(m.Fragment,null,u&&m.createElement(N,{sideCar:GD,removeScrollBar:d,shards:h,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(l),ns(ns({},C),{ref:b})):m.createElement(v,ns({},C,{className:c,ref:b}),l))});sg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sg.classNames={fullWidth:cc,zeroRight:lc};var x7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x7();return t&&e.setAttribute("nonce",t),e}function v7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function y7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var j7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=g7())&&(v7(t,n),y7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w7=function(){var e=j7();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ng=function(){var e=w7(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},N7={left:0,top:0,right:0,gap:0},Uv=function(e){return parseInt(e||"",10)||0},b7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Uv(n),Uv(r),Uv(a)]},S7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return N7;var t=b7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},C7=ng(),dc="data-scroll-locked",E7=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(d7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dc,`] {
    `).concat(u7,": ").concat(l,`px;
  }
`)},PE=function(){var e=parseInt(document.body.getAttribute(dc)||"0",10);return isFinite(e)?e:0},T7=function(){m.useEffect(function(){return document.body.setAttribute(dc,(PE()+1).toString()),function(){var e=PE()-1;e<=0?document.body.removeAttribute(dc):document.body.setAttribute(dc,e.toString())}},[])},hb=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;T7();var i=m.useMemo(function(){return S7(a)},[a]);return m.createElement(C7,{styles:E7(i,!t,a,n?"":"!important")})},i0=!1;if(typeof window<"u")try{var zm=Object.defineProperty({},"passive",{get:function(){return i0=!0,!0}});window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{i0=!1}var jl=i0?{passive:!1}:!1,P7=function(e){return e.tagName==="TEXTAREA"},JD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P7(e)&&n[t]==="visible")},A7=function(e){return JD(e,"overflowY")},k7=function(e){return JD(e,"overflowX")},AE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=QD(e,r);if(a){var i=ZD(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},M7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},R7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},QD=function(e,t){return e==="v"?A7(t):k7(t)},ZD=function(e,t){return e==="v"?M7(t):R7(t)},D7=function(e,t){return e==="h"&&t==="rtl"?-1:1},F7=function(e,t,n,r,a){var i=D7(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var x=ZD(e,l),g=x[0],p=x[1],j=x[2],v=p-j-i*g;(g||v)&&QD(e,l)&&(h+=v,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},qm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kE=function(e){return[e.deltaX,e.deltaY]},ME=function(e){return e&&"current"in e?e.current:e},O7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},I7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_7=0,wl=[];function L7(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(_7++)[0],i=m.useState(ng)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=lb([e.lockRef.current],(e.shards||[]).map(ME),!0).filter(Boolean);return p.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,j){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=qm(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,C=p.target,S=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&C.type==="range")return!1;var P=AE(S,C);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=AE(S,C)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||N)&&(r.current=b),!b)return!0;var A=r.current||b;return F7(A,j,p,A==="h"?w:N,!0)},[]),c=m.useCallback(function(p){var j=p;if(!(!wl.length||wl[wl.length-1]!==i)){var v="deltaY"in j?kE(j):qm(j),y=t.current.filter(function(b){return b.name===j.type&&(b.target===j.target||j.target===b.shadowParent)&&O7(b.delta,v)})[0];if(y&&y.should){j.cancelable&&j.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(ME).filter(Boolean).filter(function(b){return b.contains(j.target)}),N=w.length>0?l(j,w[0]):!o.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),d=m.useCallback(function(p,j,v,y){var w={name:p,delta:j,target:v,should:y,shadowParent:$7(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=m.useCallback(function(p){n.current=qm(p),r.current=void 0},[]),h=m.useCallback(function(p){d(p.type,kE(p),p.target,l(p,e.lockRef.current))},[]),f=m.useCallback(function(p){d(p.type,qm(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return wl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,jl),document.addEventListener("touchmove",c,jl),document.addEventListener("touchstart",u,jl),function(){wl=wl.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,jl),document.removeEventListener("touchmove",c,jl),document.removeEventListener("touchstart",u,jl)}},[]);var x=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:I7(a)}):null,x?m.createElement(hb,{gapMode:e.gapMode}):null)}function $7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V7=ub(GD,L7);var rg=m.forwardRef(function(e,t){return m.createElement(sg,ns({},e,{ref:t,sideCar:V7}))});rg.classNames=sg.classNames;var o0=["Enter"," "],U7=["ArrowDown","PageUp","Home"],eF=["ArrowUp","PageDown","End"],B7=[...U7,...eF],H7={ltr:[...o0,"ArrowRight"],rtl:[...o0,"ArrowLeft"]},z7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lh="Menu",[Gu,q7,W7]=kx(Lh),[hl,tF]=pn(Lh,[W7,cd,pd]),ag=cd(),sF=pd(),[Y7,ml]=hl(Lh),[K7,$h]=hl(Lh),nF=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=ag(t),[c,d]=m.useState(null),u=m.useRef(!1),h=Wt(i),f=fd(a);return m.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(YN,{...l,children:s.jsx(Y7,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(K7,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};nF.displayName=Lh;var X7="MenuAnchor",mb=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=ag(n);return s.jsx(KN,{...a,...r,ref:t})});mb.displayName=X7;var fb="MenuPortal",[G7,rF]=hl(fb,{forceMount:void 0}),aF=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=ml(fb,t);return s.jsx(G7,{scope:t,forceMount:n,children:s.jsx(ys,{present:n||i.open,children:s.jsx(Th,{asChild:!0,container:a,children:r})})})};aF.displayName=fb;var Wn="MenuContent",[J7,pb]=hl(Wn),iF=m.forwardRef((e,t)=>{const n=rF(Wn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=ml(Wn,e.__scopeMenu),o=$h(Wn,e.__scopeMenu);return s.jsx(Gu.Provider,{scope:e.__scopeMenu,children:s.jsx(ys,{present:r||i.open,children:s.jsx(Gu.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Q7,{...a,ref:t}):s.jsx(Z7,{...a,ref:t})})})})}),Q7=m.forwardRef((e,t)=>{const n=ml(Wn,e.__scopeMenu),r=m.useRef(null),a=Be(t,r);return m.useEffect(()=>{const i=r.current;if(i)return _h(i)},[]),s.jsx(xb,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Z7=m.forwardRef((e,t)=>{const n=ml(Wn,e.__scopeMenu);return s.jsx(xb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xb=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,disableOutsideScroll:g,...p}=e,j=ml(Wn,n),v=$h(Wn,n),y=ag(n),w=sF(n),N=q7(n),[b,C]=m.useState(null),S=m.useRef(null),P=Be(t,S,j.onContentChange),A=m.useRef(0),F=m.useRef(""),O=m.useRef(0),_=m.useRef(null),$=m.useRef("right"),I=m.useRef(0),k=g?rg:m.Fragment,T=g?{as:An,allowPinchZoom:!0}:void 0,M=L=>{var se,ce;const H=F.current+L,V=N().filter(pe=>!pe.disabled),B=document.activeElement,W=(se=V.find(pe=>pe.ref.current===B))==null?void 0:se.textValue,Y=V.map(pe=>pe.textValue),X=uY(Y,H,W),ne=(ce=V.find(pe=>pe.textValue===X))==null?void 0:ce.ref.current;(function pe(we){F.current=we,window.clearTimeout(A.current),we!==""&&(A.current=window.setTimeout(()=>pe(""),1e3))})(H),ne&&setTimeout(()=>ne.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),ab();const R=m.useCallback(L=>{var V,B;return $.current===((V=_.current)==null?void 0:V.side)&&mY(L,(B=_.current)==null?void 0:B.area)},[]);return s.jsx(J7,{scope:n,searchRef:F,onItemEnter:m.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:m.useCallback(L=>{var H;R(L)||((H=S.current)==null||H.focus(),C(null))},[R]),onTriggerLeave:m.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(L=>{_.current=L},[]),children:s.jsx(k,{...T,children:s.jsx(Zx,{asChild:!0,trapped:a,onMountAutoFocus:je(i,L=>{var H;L.preventDefault(),(H=S.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(rd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,children:s.jsx(ib,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:C,onEntryFocus:je(c,L=>{v.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(XN,{role:"menu","aria-orientation":"vertical","data-state":NF(j.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:je(p.onKeyDown,L=>{const V=L.target.closest("[data-radix-menu-content]")===L.currentTarget,B=L.ctrlKey||L.altKey||L.metaKey,W=L.key.length===1;V&&(L.key==="Tab"&&L.preventDefault(),!B&&W&&M(L.key));const Y=S.current;if(L.target!==Y||!B7.includes(L.key))return;L.preventDefault();const ne=N().filter(se=>!se.disabled).map(se=>se.ref.current);eF.includes(L.key)&&ne.reverse(),cY(ne)}),onBlur:je(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),F.current="")}),onPointerMove:je(e.onPointerMove,Ju(L=>{const H=L.target,V=I.current!==L.clientX;if(L.currentTarget.contains(H)&&V){const B=L.clientX>I.current?"right":"left";$.current=B,I.current=L.clientX}}))})})})})})})});iF.displayName=Wn;var eY="MenuGroup",gb=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Me.div,{role:"group",...r,ref:t})});gb.displayName=eY;var tY="MenuLabel",oF=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Me.div,{...r,ref:t})});oF.displayName=tY;var Dp="MenuItem",RE="menu.itemSelect",ig=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=m.useRef(null),o=$h(Dp,e.__scopeMenu),l=pb(Dp,e.__scopeMenu),c=Be(t,i),d=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(RE,{bubbles:!0,cancelable:!0});h.addEventListener(RE,x=>r==null?void 0:r(x),{once:!0}),kN(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(lF,{...a,ref:c,disabled:n,onClick:je(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:je(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:je(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||o0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ig.displayName=Dp;var lF=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=pb(Dp,n),l=sF(n),c=m.useRef(null),d=Be(t,c),[u,h]=m.useState(!1),[f,x]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[i.children]),s.jsx(Gu.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(ob,{asChild:!0,...l,focusable:!r,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:je(e.onPointerMove,Ju(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,Ju(g=>o.onItemLeave(g))),onFocus:je(e.onFocus,()=>h(!0)),onBlur:je(e.onBlur,()=>h(!1))})})})}),sY="MenuCheckboxItem",cF=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(fF,{scope:e.__scopeMenu,checked:n,children:s.jsx(ig,{role:"menuitemcheckbox","aria-checked":Fp(n)?"mixed":n,...a,ref:t,"data-state":yb(n),onSelect:je(a.onSelect,()=>r==null?void 0:r(Fp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cF.displayName=sY;var dF="MenuRadioGroup",[nY,rY]=hl(dF,{value:void 0,onValueChange:()=>{}}),uF=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Wt(r);return s.jsx(nY,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(gb,{...a,ref:t})})});uF.displayName=dF;var hF="MenuRadioItem",mF=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=rY(hF,e.__scopeMenu),i=n===a.value;return s.jsx(fF,{scope:e.__scopeMenu,checked:i,children:s.jsx(ig,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":yb(i),onSelect:je(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});mF.displayName=hF;var vb="MenuItemIndicator",[fF,aY]=hl(vb,{checked:!1}),pF=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=aY(vb,n);return s.jsx(ys,{present:r||Fp(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":yb(i.checked)})})});pF.displayName=vb;var iY="MenuSeparator",xF=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});xF.displayName=iY;var oY="MenuArrow",gF=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=ag(n);return s.jsx(GN,{...a,...r,ref:t})});gF.displayName=oY;var lY="MenuSub",[Lye,vF]=hl(lY),Xd="MenuSubTrigger",yF=m.forwardRef((e,t)=>{const n=ml(Xd,e.__scopeMenu),r=$h(Xd,e.__scopeMenu),a=vF(Xd,e.__scopeMenu),i=pb(Xd,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(mb,{asChild:!0,...d,children:s.jsx(lF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":NF(n.open),...e,ref:Ax(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,Ju(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:je(e.onPointerLeave,Ju(h=>{var x,g;u();const f=(x=n.content)==null?void 0:x.getBoundingClientRect();if(f){const p=(g=n.content)==null?void 0:g.dataset.side,j=p==="right",v=j?-5:5,y=f[j?"left":"right"],w=f[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:y,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:y,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,h=>{var x;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||H7[r.dir].includes(h.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),h.preventDefault())})})})});yF.displayName=Xd;var jF="MenuSubContent",wF=m.forwardRef((e,t)=>{const n=rF(Wn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=ml(Wn,e.__scopeMenu),o=$h(Wn,e.__scopeMenu),l=vF(jF,e.__scopeMenu),c=m.useRef(null),d=Be(t,c);return s.jsx(Gu.Provider,{scope:e.__scopeMenu,children:s.jsx(ys,{present:r||i.open,children:s.jsx(Gu.Slot,{scope:e.__scopeMenu,children:s.jsx(xb,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:je(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:je(e.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),f=z7[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});wF.displayName=jF;function NF(e){return e?"open":"closed"}function Fp(e){return e==="indeterminate"}function yb(e){return Fp(e)?"indeterminate":e?"checked":"unchecked"}function cY(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function dY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function uY(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=dY(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function hY(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function mY(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return hY(n,t)}function Ju(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fY=nF,pY=mb,xY=aF,gY=iF,vY=gb,yY=oF,jY=ig,wY=cF,NY=uF,bY=mF,SY=pF,CY=xF,EY=gF,TY=yF,PY=wF,jb="DropdownMenu",[AY,$ye]=pn(jb,[tF]),Gs=tF(),[kY,bF]=AY(jb),SF=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Gs(t),d=m.useRef(null),[u=!1,h]=Gn({prop:a,defaultProp:i,onChange:o});return s.jsx(kY,{scope:t,triggerId:qn(),triggerRef:d,contentId:qn(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(fY,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};SF.displayName=jb;var CF="DropdownMenuTrigger",EF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=bF(CF,n),o=Gs(n);return s.jsx(pY,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ax(t,i.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});EF.displayName=CF;var MY="DropdownMenuPortal",TF=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Gs(t);return s.jsx(xY,{...r,...n})};TF.displayName=MY;var PF="DropdownMenuContent",AF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=bF(PF,n),i=Gs(n),o=m.useRef(!1);return s.jsx(gY,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AF.displayName=PF;var RY="DropdownMenuGroup",DY=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(vY,{...a,...r,ref:t})});DY.displayName=RY;var FY="DropdownMenuLabel",kF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(yY,{...a,...r,ref:t})});kF.displayName=FY;var OY="DropdownMenuItem",MF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(jY,{...a,...r,ref:t})});MF.displayName=OY;var IY="DropdownMenuCheckboxItem",RF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(wY,{...a,...r,ref:t})});RF.displayName=IY;var _Y="DropdownMenuRadioGroup",LY=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(NY,{...a,...r,ref:t})});LY.displayName=_Y;var $Y="DropdownMenuRadioItem",DF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(bY,{...a,...r,ref:t})});DF.displayName=$Y;var VY="DropdownMenuItemIndicator",FF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(SY,{...a,...r,ref:t})});FF.displayName=VY;var UY="DropdownMenuSeparator",OF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(CY,{...a,...r,ref:t})});OF.displayName=UY;var BY="DropdownMenuArrow",HY=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(EY,{...a,...r,ref:t})});HY.displayName=BY;var zY="DropdownMenuSubTrigger",IF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(TY,{...a,...r,ref:t})});IF.displayName=zY;var qY="DropdownMenuSubContent",_F=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Gs(n);return s.jsx(PY,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_F.displayName=qY;var WY=SF,YY=EF,KY=TF,LF=AF,$F=kF,VF=MF,UF=RF,BF=DF,HF=FF,zF=OF,qF=IF,WF=_F;const og=WY,lg=YY,XY=m.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(qF,{ref:a,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(kn,{className:"ml-auto h-4 w-4"})]}));XY.displayName=qF.displayName;const GY=m.forwardRef(({className:e,...t},n)=>s.jsx(WF,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));GY.displayName=WF.displayName;const Vh=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(KY,{children:s.jsx(LF,{ref:r,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vh.displayName=LF.displayName;const ps=m.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(VF,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ps.displayName=VF.displayName;const JY=m.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(UF,{ref:a,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(HF,{children:s.jsx(Ah,{className:"h-4 w-4"})})}),t]}));JY.displayName=UF.displayName;const QY=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(BF,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(HF,{children:s.jsx(Hl,{className:"h-2 w-2 fill-current"})})}),t]}));QY.displayName=BF.displayName;const wb=m.forwardRef(({className:e,inset:t,...n},r)=>s.jsx($F,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));wb.displayName=$F.displayName;const Pi=m.forwardRef(({className:e,...t},n)=>s.jsx(zF,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));Pi.displayName=zF.displayName;function l0(e,[t,n]){return Math.min(n,Math.max(t,e))}function cg(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZY=[" ","Enter","ArrowUp","ArrowDown"],eK=[" ","Enter"],Uh="Select",[dg,ug,tK]=kx(Uh),[xd,Vye]=pn(Uh,[tK,cd]),hg=cd(),[sK,Xi]=xd(Uh),[nK,rK]=xd(Uh),YF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:x,form:g}=e,p=hg(t),[j,v]=m.useState(null),[y,w]=m.useState(null),[N,b]=m.useState(!1),C=fd(d),[S=!1,P]=Gn({prop:r,defaultProp:a,onChange:i}),[A,F]=Gn({prop:o,defaultProp:l,onChange:c}),O=m.useRef(null),_=j?g||!!j.closest("form"):!0,[$,I]=m.useState(new Set),k=Array.from($).map(T=>T.props.value).join(";");return s.jsx(YN,{...p,children:s.jsxs(sK,{required:x,scope:t,trigger:j,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:qn(),value:A,onValueChange:F,open:S,onOpenChange:P,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[s.jsx(dg.Provider,{scope:t,children:s.jsx(nK,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{I(M=>new Set(M).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{I(M=>{const R=new Set(M);return R.delete(T),R})},[]),children:n})}),_?s.jsxs(v4,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:T=>F(T.target.value),disabled:f,form:g,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from($)]},k):null]})})};YF.displayName=Uh;var KF="SelectTrigger",XF=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=hg(n),o=Xi(KF,n),l=o.disabled||r,c=Be(t,o.onTriggerChange),d=ug(n),u=m.useRef("touch"),[h,f,x]=y4(p=>{const j=d().filter(w=>!w.disabled),v=j.find(w=>w.value===o.value),y=j4(j,p,v);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),x()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(KN,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":g4(o.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:je(a.onPointerDown,p=>{u.current=p.pointerType;const j=p.target;j.hasPointerCapture(p.pointerId)&&j.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:je(a.onKeyDown,p=>{const j=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(j&&p.key===" ")&&ZY.includes(p.key)&&(g(),p.preventDefault())})})})});XF.displayName=KF;var GF="SelectValue",JF=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Xi(GF,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Be(t,c.onValueNodeChange);return gs(()=>{d(u)},[d,u]),s.jsx(Me.span,{...l,ref:h,style:{pointerEvents:"none"},children:g4(c.value)?s.jsx(s.Fragment,{children:o}):i})});JF.displayName=GF;var aK="SelectIcon",QF=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});QF.displayName=aK;var iK="SelectPortal",ZF=e=>s.jsx(Th,{asChild:!0,...e});ZF.displayName=iK;var Go="SelectContent",e4=m.forwardRef((e,t)=>{const n=Xi(Go,e.__scopeSelect),[r,a]=m.useState();if(gs(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Pr.createPortal(s.jsx(t4,{scope:e.__scopeSelect,children:s.jsx(dg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(s4,{...e,ref:t})});e4.displayName=Go;var or=10,[t4,Gi]=xd(Go),oK="SelectContentImpl",s4=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:j,...v}=e,y=Xi(Go,n),[w,N]=m.useState(null),[b,C]=m.useState(null),S=Be(t,se=>N(se)),[P,A]=m.useState(null),[F,O]=m.useState(null),_=ug(n),[$,I]=m.useState(!1),k=m.useRef(!1);m.useEffect(()=>{if(w)return _h(w)},[w]),ab();const T=m.useCallback(se=>{const[ce,...pe]=_().map(ye=>ye.ref.current),[we]=pe.slice(-1),he=document.activeElement;for(const ye of se)if(ye===he||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ce&&b&&(b.scrollTop=0),ye===we&&b&&(b.scrollTop=b.scrollHeight),ye==null||ye.focus(),document.activeElement!==he))return},[_,b]),M=m.useCallback(()=>T([P,w]),[T,P,w]);m.useEffect(()=>{$&&M()},[$,M]);const{onOpenChange:R,triggerPointerDownPosRef:L}=y;m.useEffect(()=>{if(w){let se={x:0,y:0};const ce=we=>{var he,ye;se={x:Math.abs(Math.round(we.pageX)-(((he=L.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(we.pageY)-(((ye=L.current)==null?void 0:ye.y)??0))}},pe=we=>{se.x<=10&&se.y<=10?we.preventDefault():w.contains(we.target)||R(!1),document.removeEventListener("pointermove",ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",pe,{capture:!0})}}},[w,R,L]),m.useEffect(()=>{const se=()=>R(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[R]);const[H,V]=y4(se=>{const ce=_().filter(he=>!he.disabled),pe=ce.find(he=>he.ref.current===document.activeElement),we=j4(ce,se,pe);we&&setTimeout(()=>we.ref.current.focus())}),B=m.useCallback((se,ce,pe)=>{const we=!k.current&&!pe;(y.value!==void 0&&y.value===ce||we)&&(A(se),we&&(k.current=!0))},[y.value]),W=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=m.useCallback((se,ce,pe)=>{const we=!k.current&&!pe;(y.value!==void 0&&y.value===ce||we)&&O(se)},[y.value]),X=r==="popper"?c0:n4,ne=X===c0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:j}:{};return s.jsx(t4,{scope:n,content:w,viewport:b,onViewportChange:C,itemRefCallback:B,selectedItem:P,onItemLeave:W,itemTextRefCallback:Y,focusSelectedItem:M,selectedItemText:F,position:r,isPositioned:$,searchRef:H,children:s.jsx(rg,{as:An,allowPinchZoom:!0,children:s.jsx(Zx,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:je(a,se=>{var ce;(ce=y.trigger)==null||ce.focus({preventScroll:!0}),se.preventDefault()}),children:s.jsx(rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(X,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...v,...ne,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:je(v.onKeyDown,se=>{const ce=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ce&&se.key.length===1&&V(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let we=_().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(se.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const he=se.target,ye=we.indexOf(he);we=we.slice(ye+1)}setTimeout(()=>T(we)),se.preventDefault()}})})})})})})});s4.displayName=oK;var lK="SelectItemAlignedPosition",n4=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Xi(Go,n),o=Gi(Go,n),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Be(t,S=>u(S)),f=ug(n),x=m.useRef(!1),g=m.useRef(!0),{viewport:p,selectedItem:j,selectedItemText:v,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&j&&v){const S=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),F=v.getBoundingClientRect();if(i.dir!=="rtl"){const he=F.left-P.left,ye=A.left-he,Ne=S.left-ye,Pe=S.width+Ne,Ye=Math.max(Pe,P.width),ze=window.innerWidth-or,Rt=l0(ye,[or,Math.max(or,ze-Ye)]);l.style.minWidth=Pe+"px",l.style.left=Rt+"px"}else{const he=P.right-F.right,ye=window.innerWidth-A.right-he,Ne=window.innerWidth-S.right-ye,Pe=S.width+Ne,Ye=Math.max(Pe,P.width),ze=window.innerWidth-or,Rt=l0(ye,[or,Math.max(or,ze-Ye)]);l.style.minWidth=Pe+"px",l.style.right=Rt+"px"}const O=f(),_=window.innerHeight-or*2,$=p.scrollHeight,I=window.getComputedStyle(d),k=parseInt(I.borderTopWidth,10),T=parseInt(I.paddingTop,10),M=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),L=k+T+$+R+M,H=Math.min(j.offsetHeight*5,L),V=window.getComputedStyle(p),B=parseInt(V.paddingTop,10),W=parseInt(V.paddingBottom,10),Y=S.top+S.height/2-or,X=_-Y,ne=j.offsetHeight/2,se=j.offsetTop+ne,ce=k+T+se,pe=L-ce;if(ce<=Y){const he=O.length>0&&j===O[O.length-1].ref.current;l.style.bottom="0px";const ye=d.clientHeight-p.offsetTop-p.offsetHeight,Ne=Math.max(X,ne+(he?W:0)+ye+M),Pe=ce+Ne;l.style.height=Pe+"px"}else{const he=O.length>0&&j===O[0].ref.current;l.style.top="0px";const Ne=Math.max(Y,k+p.offsetTop+(he?B:0)+ne)+pe;l.style.height=Ne+"px",p.scrollTop=ce-Y+p.offsetTop}l.style.margin=`${or}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=_+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,j,v,i.dir,r]);gs(()=>w(),[w]);const[N,b]=m.useState();gs(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const C=m.useCallback(S=>{S&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return s.jsx(dK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Me.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});n4.displayName=lK;var cK="SelectPopperPosition",c0=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=or,...i}=e,o=hg(n);return s.jsx(XN,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c0.displayName=cK;var[dK,Nb]=xd(Go,{}),d0="SelectViewport",r4=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=Gi(d0,n),o=Nb(d0,n),l=Be(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(dg.Slot,{scope:n,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-or*2,p=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),v=Math.max(p,j);if(v<g){const y=v+x,w=Math.min(g,y),N=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});r4.displayName=d0;var a4="SelectGroup",[uK,hK]=xd(a4),mK=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=qn();return s.jsx(uK,{scope:n,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...r,ref:t})})});mK.displayName=a4;var i4="SelectLabel",o4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=hK(i4,n);return s.jsx(Me.div,{id:a.id,...r,ref:t})});o4.displayName=i4;var Op="SelectItem",[fK,l4]=xd(Op),c4=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Xi(Op,n),c=Gi(Op,n),d=l.value===r,[u,h]=m.useState(i??""),[f,x]=m.useState(!1),g=Be(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,a)}),p=qn(),j=m.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(fK,{scope:n,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:m.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(dg.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:je(o.onFocus,()=>x(!0)),onBlur:je(o.onBlur,()=>x(!1)),onClick:je(o.onClick,()=>{j.current!=="mouse"&&v()}),onPointerUp:je(o.onPointerUp,()=>{j.current==="mouse"&&v()}),onPointerDown:je(o.onPointerDown,y=>{j.current=y.pointerType}),onPointerMove:je(o.onPointerMove,y=>{var w;j.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):j.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:je(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(eK.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});c4.displayName=Op;var Gd="SelectItemText",d4=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Xi(Gd,n),l=Gi(Gd,n),c=l4(Gd,n),d=rK(Gd,n),[u,h]=m.useState(null),f=Be(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),x=u==null?void 0:u.textContent,g=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:j}=d;return gs(()=>(p(g),()=>j(g)),[p,j,g]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Pr.createPortal(i.children,o.valueNode):null]})});d4.displayName=Gd;var u4="SelectItemIndicator",h4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l4(u4,n).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...r,ref:t}):null});h4.displayName=u4;var u0="SelectScrollUpButton",m4=m.forwardRef((e,t)=>{const n=Gi(u0,e.__scopeSelect),r=Nb(u0,e.__scopeSelect),[a,i]=m.useState(!1),o=Be(t,r.onScrollButtonChange);return gs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(p4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});m4.displayName=u0;var h0="SelectScrollDownButton",f4=m.forwardRef((e,t)=>{const n=Gi(h0,e.__scopeSelect),r=Nb(h0,e.__scopeSelect),[a,i]=m.useState(!1),o=Be(t,r.onScrollButtonChange);return gs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(p4,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});f4.displayName=h0;var p4=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=Gi("SelectScrollButton",n),o=m.useRef(null),l=ug(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),gs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:je(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),pK="SelectSeparator",x4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Me.div,{"aria-hidden":!0,...r,ref:t})});x4.displayName=pK;var m0="SelectArrow",xK=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=hg(n),i=Xi(m0,n),o=Gi(m0,n);return i.open&&o.position==="popper"?s.jsx(GN,{...a,...r,ref:t}):null});xK.displayName=m0;function g4(e){return e===""||e===void 0}var v4=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=m.useRef(null),i=Be(t,a),o=cg(n);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(Ph,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});v4.displayName="BubbleSelect";function y4(e){const t=Wt(e),n=m.useRef(""),r=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function j4(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=gK(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function gK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vK=YF,w4=XF,yK=JF,jK=QF,wK=ZF,N4=e4,NK=r4,b4=o4,S4=c4,bK=d4,SK=h4,C4=m4,E4=f4,T4=x4;const Z=vK,ee=yK,J=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(w4,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(jK,{asChild:!0,children:s.jsx(Nr,{className:"h-4 w-4 opacity-50"})})]}));J.displayName=w4.displayName;const P4=m.forwardRef(({className:e,...t},n)=>s.jsx(C4,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(yB,{className:"h-4 w-4"})}));P4.displayName=C4.displayName;const A4=m.forwardRef(({className:e,...t},n)=>s.jsx(E4,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Nr,{className:"h-4 w-4"})}));A4.displayName=E4.displayName;const Q=m.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(wK,{children:s.jsxs(N4,{ref:a,className:le("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(P4,{}),s.jsx(NK,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(A4,{})]})}));Q.displayName=N4.displayName;const CK=m.forwardRef(({className:e,...t},n)=>s.jsx(b4,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));CK.displayName=b4.displayName;const D=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(S4,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SK,{children:s.jsx(Ah,{className:"h-4 w-4"})})}),s.jsx(bK,{children:t})]}));D.displayName=S4.displayName;const EK=m.forwardRef(({className:e,...t},n)=>s.jsx(T4,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));EK.displayName=T4.displayName;function Ze({className:e,...t}){return s.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}function TK(){const{currentTenant:e,userTenants:t,loading:n,switchTenant:r}=LW();if(n)return s.jsx(Ze,{className:"h-10 w-48"});if(!e||t.length===0)return null;const a=o=>{switch(o){case"TENANT_OWNER":return s.jsx(FN,{className:"h-3 w-3"});case"TENANT_ADMIN":return s.jsx(Li,{className:"h-3 w-3"});case"VIEWER":return s.jsx(Ea,{className:"h-3 w-3"});default:return null}},i=o=>{switch(o){case"TENANT_OWNER":case"TENANT_ADMIN":return"default";case"VIEWER":return"secondary";default:return"outline"}};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(Z,{value:e.id,onValueChange:r,children:[s.jsx(J,{className:"w-48",children:s.jsx(ee,{placeholder:"Select tenant"})}),s.jsx(Q,{children:t.map(o=>s.jsx(D,{value:o.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:o.displayName||o.name}),o.primary&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Primary"})]}),o.userRole&&s.jsxs(de,{variant:i(o.userRole),className:"ml-2 text-xs",children:[a(o.userRole),s.jsx("span",{className:"ml-1",children:o.userRole.replace("TENANT_","")})]})]})},o.id))})]})]})}const Bv=768;function PK(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Bv-1}px)`),r=()=>{t(window.innerWidth<Bv)};return n.addEventListener("change",r),t(window.innerWidth<Bv),()=>n.removeEventListener("change",r)},[]),!!e}const U=m.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));U.displayName="Input";var AK="Separator",DE="horizontal",kK=["horizontal","vertical"],k4=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=DE,...a}=e,i=MK(r)?r:DE,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Me.div,{"data-orientation":i,...l,...a,ref:t})});k4.displayName=AK;function MK(e){return kK.includes(e)}var M4=k4;const xt=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(M4,{ref:a,decorative:n,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));xt.displayName=M4.displayName;var bb="Dialog",[R4,D4]=pn(bb),[RK,kr]=R4(bb),F4=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=Gn({prop:r,defaultProp:a,onChange:i});return s.jsx(RK,{scope:t,triggerRef:l,contentRef:c,contentId:qn(),titleId:qn(),descriptionId:qn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};F4.displayName=bb;var O4="DialogTrigger",I4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=kr(O4,n),i=Be(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Eb(a.open),...r,ref:i,onClick:je(e.onClick,a.onOpenToggle)})});I4.displayName=O4;var Sb="DialogPortal",[DK,_4]=R4(Sb,{forceMount:void 0}),L4=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=kr(Sb,t);return s.jsx(DK,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(ys,{present:n||i.open,children:s.jsx(Th,{asChild:!0,container:a,children:o})}))})};L4.displayName=Sb;var Ip="DialogOverlay",$4=m.forwardRef((e,t)=>{const n=_4(Ip,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=kr(Ip,e.__scopeDialog);return i.modal?s.jsx(ys,{present:r||i.open,children:s.jsx(FK,{...a,ref:t})}):null});$4.displayName=Ip;var FK=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=kr(Ip,n);return s.jsx(rg,{as:An,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":Eb(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Jo="DialogContent",V4=m.forwardRef((e,t)=>{const n=_4(Jo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=kr(Jo,e.__scopeDialog);return s.jsx(ys,{present:r||i.open,children:i.modal?s.jsx(OK,{...a,ref:t}):s.jsx(IK,{...a,ref:t})})});V4.displayName=Jo;var OK=m.forwardRef((e,t)=>{const n=kr(Jo,e.__scopeDialog),r=m.useRef(null),a=Be(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return _h(i)},[]),s.jsx(U4,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),IK=m.forwardRef((e,t)=>{const n=kr(Jo,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(U4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),U4=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=kr(Jo,n),c=m.useRef(null),d=Be(t,c);return ab(),s.jsxs(s.Fragment,{children:[s.jsx(Zx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(rd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Eb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(LK,{titleId:l.titleId}),s.jsx(VK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Cb="DialogTitle",B4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=kr(Cb,n);return s.jsx(Me.h2,{id:a.titleId,...r,ref:t})});B4.displayName=Cb;var H4="DialogDescription",z4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=kr(H4,n);return s.jsx(Me.p,{id:a.descriptionId,...r,ref:t})});z4.displayName=H4;var q4="DialogClose",W4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=kr(q4,n);return s.jsx(Me.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});W4.displayName=q4;function Eb(e){return e?"open":"closed"}var Y4="DialogTitleWarning",[_K,K4]=M8(Y4,{contentName:Jo,titleName:Cb,docsSlug:"dialog"}),LK=({titleId:e})=>{const t=K4(Y4),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$K="DialogDescriptionWarning",VK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K4($K).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Tb=F4,X4=I4,Pb=L4,Bh=$4,Hh=V4,zh=B4,qh=z4,mg=W4;const UK=Tb,BK=Pb,G4=m.forwardRef(({className:e,...t},n)=>s.jsx(Bh,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));G4.displayName=Bh.displayName;const HK=dl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),J4=m.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(BK,{children:[s.jsx(G4,{}),s.jsxs(Hh,{ref:a,className:le(HK({side:e}),t),...r,children:[n,s.jsxs(mg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Et,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));J4.displayName=Hh.displayName;const zK=m.forwardRef(({className:e,...t},n)=>s.jsx(zh,{ref:n,className:le("text-lg font-semibold text-foreground",e),...t}));zK.displayName=zh.displayName;const qK=m.forwardRef(({className:e,...t},n)=>s.jsx(qh,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));qK.displayName=qh.displayName;const WK="sidebar:state",YK=60*60*24*7,KK="16rem",XK="18rem",GK="3rem",JK="b",Q4=m.createContext(null);function Wh(){const e=m.useContext(Q4);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Z4=m.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const c=PK(),[d,u]=m.useState(!1),[h,f]=m.useState(e),x=t??h,g=m.useCallback(y=>{const w=typeof y=="function"?y(x):y;n?n(w):f(w),document.cookie=`${WK}=${w}; path=/; max-age=${YK}`},[n,x]),p=m.useCallback(()=>c?u(y=>!y):g(y=>!y),[c,g,u]);m.useEffect(()=>{const y=w=>{w.key===JK&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const j=x?"expanded":"collapsed",v=m.useMemo(()=>({state:j,open:x,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:p}),[j,x,g,c,d,u,p]);return s.jsx(Q4.Provider,{value:v,children:s.jsx(tD,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":KK,"--sidebar-width-icon":GK,...a},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});Z4.displayName="SidebarProvider";const QK=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Wh();return n==="none"?s.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?s.jsx(UK,{open:d,onOpenChange:u,...i,children:s.jsx(J4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":XK},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});QK.displayName="Sidebar";const ZK=m.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=Wh();return s.jsxs(q,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...n,children:[s.jsx(IB,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ZK.displayName="SidebarTrigger";const eX=m.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Wh();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});eX.displayName="SidebarRail";const tX=m.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));tX.displayName="SidebarInset";const sX=m.forwardRef(({className:e,...t},n)=>s.jsx(U,{ref:n,"data-sidebar":"input",className:le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));sX.displayName="SidebarInput";const nX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:le("flex flex-col gap-2 p-2",e),...t}));nX.displayName="SidebarHeader";const rX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-2",e),...t}));rX.displayName="SidebarFooter";const aX=m.forwardRef(({className:e,...t},n)=>s.jsx(xt,{ref:n,"data-sidebar":"separator",className:le("mx-2 w-auto bg-sidebar-border",e),...t}));aX.displayName="SidebarSeparator";const iX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));iX.displayName="SidebarContent";const oX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",e),...t}));oX.displayName="SidebarGroup";const lX=m.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?An:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});lX.displayName="SidebarGroupLabel";const cX=m.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?An:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});cX.displayName="SidebarGroupAction";const dX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:le("w-full text-sm",e),...t}));dX.displayName="SidebarGroupContent";const uX=m.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",e),...t}));uX.displayName="SidebarMenu";const hX=m.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:le("group/menu-item relative",e),...t}));hX.displayName="SidebarMenuItem";const mX=dl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),fX=m.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=e?An:"button",{isMobile:d,state:u}=Wh(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:le(mX({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Kz,{children:[s.jsx(Xz,{asChild:!0,children:h}),s.jsx(sD,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):h});fX.displayName="SidebarMenuButton";const pX=m.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const i=t?An:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});pX.displayName="SidebarMenuAction";const xX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));xX.displayName="SidebarMenuBadge";const gX=m.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Ze,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ze,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});gX.displayName="SidebarMenuSkeleton";const vX=m.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));vX.displayName="SidebarMenuSub";const yX=m.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));yX.displayName="SidebarMenuSubItem";const jX=m.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},i)=>{const o=e?An:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});jX.displayName="SidebarMenuSubButton";const wX=()=>{const{user:e,logout:t}=ta(),{toggleSidebar:n}=Wh();return s.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:s.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(q,{variant:"ghost",size:"icon",onClick:n,className:"md:hidden","aria-label":"Toggle sidebar",children:s.jsx(FB,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center animate-glow",children:s.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IFB"})}),s.jsx("h1",{className:"text-xl font-semibold",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Integrix Flow Bridge"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(TK,{}),s.jsx("div",{className:"h-6 w-px bg-border"}),s.jsxs(q,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[s.jsx(tR,{className:"h-4 w-4"}),s.jsx(de,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),s.jsxs(og,{children:[s.jsx(lg,{asChild:!0,children:s.jsxs(q,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(Li,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:e==null?void 0:e.username})]})}),s.jsxs(Vh,{align:"end",className:"w-56",children:[s.jsxs(ps,{children:[s.jsx(Li,{className:"mr-2 h-4 w-4"}),"Profile"]}),s.jsxs(ps,{children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),"Settings"]}),s.jsx(Pi,{}),s.jsxs(ps,{onClick:t,className:"text-destructive",children:[s.jsx(DB,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},Ld={getEnvironmentConfig:async()=>{try{const e=await te.get("/system/config/environment");return e.data&&typeof e.data=="object"&&"type"in e.data?e.data:(console.warn("Invalid environment config response, using defaults"),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}})}catch(e){return console.error("Error fetching environment config:",e),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}}},getPermissions:async()=>{try{const e=await te.get("/system/config/permissions");return e.data&&typeof e.data=="object"?e.data:(console.warn("Invalid permissions response, using defaults"),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1})}catch(e){return console.error("Error fetching permissions:",e),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}},updateEnvironmentType:async e=>(await te.put("/system/config/environment",{environmentType:e})).data,checkPermission:async e=>(await te.get("/system/config/check-permission",{params:{action:e}})).data.allowed,checkUIVisibility:async e=>(await te.get("/system/config/ui-visibility",{params:{element:e}})).data.visible},gd=()=>{const[e,t]=m.useState(void 0),[n,r]=m.useState(void 0),[a,i]=m.useState(!0),o=async()=>{try{const[u,h]=await Promise.all([Ld.getEnvironmentConfig(),Ld.getPermissions()]);t(u),r(h)}catch(u){console.error("Error fetching environment data:",u),t({type:"DEVELOPMENT",name:"Development"}),r({isAdmin:!1,canWrite:!0,canRead:!0})}finally{i(!1)}};return m.useEffect(()=>{o()},[]),{environmentInfo:e,permissions:n,isLoading:a,checkPermission:async u=>{try{return await Ld.checkPermission(u)}catch{return!1}},checkUIVisibility:async u=>{try{return await Ld.checkUIVisibility(u)}catch{return!0}},updateEnvironmentType:async u=>{const h=await Ld.updateEnvironmentType(u);return await o(),h},isDevelopment:(e==null?void 0:e.type)==="DEVELOPMENT",isQA:(e==null?void 0:e.type)==="QUALITY_ASSURANCE",isProduction:(e==null?void 0:e.type)==="PRODUCTION"}},Hv=[{name:"Dashboard",href:"/dashboard",icon:lR,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Data Structures",href:"/data-structures",icon:Fo,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Communication Adapters",href:"/communication-adapters",icon:IN,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Business Components",href:"/business-components",icon:wp,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Interface Management",href:"/all-interfaces",icon:Hu,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Message Monitor",href:"/messages",icon:sn,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Adapter Monitoring",href:"/adapter-monitoring",icon:ad,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Retry Management",href:"/retry-management",icon:wt,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Message Acknowledgments",href:"/message-acknowledgments",icon:qo,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Development Functions",href:"/development-functions",icon:Nn,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Admin Panel",href:"/admin",icon:qs,roles:["administrator"],requiresDevEnv:!1},{name:"Settings",href:"/settings",icon:Ht,roles:["administrator"],requiresDevEnv:!1}],NX=()=>{const[e,t]=m.useState(!1),{user:n}=ta(),{isDevelopment:r,permissions:a}=gd(),i=m.useMemo(()=>{if(!Array.isArray(Hv))return console.error("Navigation is not an array:",Hv),[];try{return Hv.filter(o=>{const l=(n==null?void 0:n.role)==="dministrator"?"administrator":n==null?void 0:n.role;return!n||!l||!o.roles.includes(l)||o.requiresDevEnv&&!r?!1:o.name==="Admin Panel"||o.name==="Settings"?(a==null?void 0:a.isAdmin)||l==="administrator":!0})}catch(o){return console.error("Error filtering navigation:",o),[]}},[n,r,a]);return s.jsx("div",{className:le("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?s.jsx(kn,{className:"h-4 w-4 transition-transform duration-300"}):s.jsx(nR,{className:"h-4 w-4 transition-transform duration-300"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(o=>s.jsxs(Xq,{to:o.href,className:({isActive:l})=>le("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",l?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[s.jsx(o.icon,{className:le("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&s.jsx("span",{className:"transition-all duration-300",children:o.name})]},o.name))}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsx("div",{className:le("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Version 1.0.0"}),s.jsx("div",{children:" 2024 Integrix Flow Bridge"})]})})})]})})},qa=[],bX=10,vd=()=>{const e=Xs(),t=Fn(),n=m.useRef(null);return m.useEffect(()=>{t.pathname!==n.current&&(qa.push({pathname:t.pathname,state:t.state,timestamp:Date.now()}),qa.length>bX&&qa.shift(),n.current=t.pathname)},[t]),{navigateBack:(o="/dashboard")=>{const l=qa.filter(c=>c.pathname!==t.pathname);if(l.length>0){const c=l[l.length-1];e(c.pathname,{state:c.state})}else e(o)},isDirectNavigation:()=>{var u;if(qa.length<2)return!0;const o=t.pathname,l=(u=qa[qa.length-2])==null?void 0:u.pathname;if(!l)return!0;const c=o.split("/")[1],d=l==null?void 0:l.split("/")[1];return c!==d},getBreadcrumbs:()=>{const o=t.pathname.split("/").filter(Boolean),l=[{label:"Home",path:"/"}];let c="";return o.forEach(d=>{c+=`/${d}`,l.push({label:SX(d),path:c})}),l},currentPath:t.pathname,hasHistory:qa.length>1}};function SX(e){return e==="settings"?"User Settings":e==="development-functions"?"Development Functions":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const CX=()=>{const{getBreadcrumbs:e,currentPath:t}=vd(),n=e();return t==="/login"||t==="/"?null:s.jsx("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground px-6 py-2 border-b",children:n.map((r,a)=>{const i=a===n.length-1,o=a===0;return s.jsxs("div",{className:"flex items-center",children:[!o&&s.jsx(kn,{className:"h-4 w-4 mx-1"}),i?s.jsxs("span",{className:"font-medium text-foreground flex items-center",children:[o&&s.jsx(Uj,{className:"h-4 w-4 mr-1"}),r.label]}):s.jsxs(fD,{to:r.path,className:le("hover:text-foreground transition-colors flex items-center","hover:underline"),children:[o&&s.jsx(Uj,{className:"h-4 w-4 mr-1"}),r.label]})]},r.path)})})};var eO="AlertDialog",[EX,Uye]=pn(eO,[D4]),La=D4(),tO=e=>{const{__scopeAlertDialog:t,...n}=e,r=La(t);return s.jsx(Tb,{...r,...n,modal:!0})};tO.displayName=eO;var TX="AlertDialogTrigger",sO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=La(n);return s.jsx(X4,{...a,...r,ref:t})});sO.displayName=TX;var PX="AlertDialogPortal",nO=e=>{const{__scopeAlertDialog:t,...n}=e,r=La(t);return s.jsx(Pb,{...r,...n})};nO.displayName=PX;var AX="AlertDialogOverlay",rO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=La(n);return s.jsx(Bh,{...a,...r,ref:t})});rO.displayName=AX;var uc="AlertDialogContent",[kX,MX]=EX(uc),aO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=La(n),o=m.useRef(null),l=Be(t,o),c=m.useRef(null);return s.jsx(_K,{contentName:uc,titleName:iO,docsSlug:"alert-dialog",children:s.jsx(kX,{scope:n,cancelRef:c,children:s.jsxs(Hh,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:je(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(AN,{children:r}),s.jsx(DX,{contentRef:o})]})})})});aO.displayName=uc;var iO="AlertDialogTitle",oO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=La(n);return s.jsx(zh,{...a,...r,ref:t})});oO.displayName=iO;var lO="AlertDialogDescription",cO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=La(n);return s.jsx(qh,{...a,...r,ref:t})});cO.displayName=lO;var RX="AlertDialogAction",dO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=La(n);return s.jsx(mg,{...a,...r,ref:t})});dO.displayName=RX;var uO="AlertDialogCancel",hO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=MX(uO,n),i=La(n),o=Be(t,a);return s.jsx(mg,{...i,...r,ref:o})});hO.displayName=uO;var DX=({contentRef:e})=>{const t=`\`${uc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uc}\` by passing a \`${lO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FX=tO,OX=sO,IX=nO,mO=rO,fO=aO,pO=dO,xO=hO,gO=oO,vO=cO;const fg=FX,_X=OX,LX=IX,yO=m.forwardRef(({className:e,...t},n)=>s.jsx(mO,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));yO.displayName=mO.displayName;const Yh=m.forwardRef(({className:e,...t},n)=>s.jsxs(LX,{children:[s.jsx(yO,{}),s.jsx(fO,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yh.displayName=fO.displayName;const Kh=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kh.displayName="AlertDialogHeader";const Xh=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xh.displayName="AlertDialogFooter";const Gh=m.forwardRef(({className:e,...t},n)=>s.jsx(gO,{ref:n,className:le("text-lg font-semibold",e),...t}));Gh.displayName=gO.displayName;const Jh=m.forwardRef(({className:e,...t},n)=>s.jsx(vO,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));Jh.displayName=vO.displayName;const Qh=m.forwardRef(({className:e,...t},n)=>s.jsx(pO,{ref:n,className:le(Xu(),e),...t}));Qh.displayName=pO.displayName;const pg=m.forwardRef(({className:e,...t},n)=>s.jsx(xO,{ref:n,className:le(Xu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pg.displayName=xO.displayName;const $X=()=>{const{tokenExpiry:e}=ta(),{toast:t}=mt(),[n,r]=m.useState(!1),[a,i]=m.useState(0);m.useEffect(()=>{if(!e)return;const c=()=>{const u=e-Date.now();i(u),u<=10*60*1e3&&u>0?r(!0):r(!1),u<=5*60*1e3&&u>4*60*1e3&&t({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),u<=1*60*1e3&&u>30*1e3&&t({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[e,t]);const o=()=>{r(!1),t({title:"Session Extended",description:"Your session has been extended."})},l=c=>{const d=Math.floor(c/6e4),u=Math.floor(c%(1e3*60)/1e3);return`${d}:${u.toString().padStart(2,"0")}`};return s.jsx(fg,{open:n&&a>0,children:s.jsxs(Yh,{children:[s.jsxs(Kh,{children:[s.jsxs(Gh,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs(Jh,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:l(a)}),s.jsx("p",{className:"text-sm",children:"Please save your work or extend your session to continue."})]})]}),s.jsx(Xh,{children:s.jsx(Qh,{onClick:o,children:"Extend Session"})})]})})},VX=()=>{const{tokenExpiry:e,checkSession:t,logout:n}=ta(),[r,a]=m.useState(!1),[i,o]=m.useState(0);m.useEffect(()=>{if(!e)return;const d=()=>{const h=Date.now(),f=e-h,x=5*60*1e3;f<=0?n():f<=x&&!r&&(a(!0),o(Math.floor(f/1e3)))};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[e,n,r]),m.useEffect(()=>{if(!r||i<=0)return;const d=setInterval(()=>{o(u=>u<=1?(n(),0):u-1)},1e3);return()=>clearInterval(d)},[r,n]);const l=async()=>{try{await t()&&(a(!1),o(0))}catch(d){console.error("Failed to extend session:",d),n()}},c=d=>{const u=Math.floor(d/60),h=d%60;return`${u}:${h.toString().padStart(2,"0")}`};return s.jsx(fg,{open:r,onOpenChange:a,children:s.jsxs(Yh,{children:[s.jsxs(Kh,{children:[s.jsxs(Gh,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs(Jh,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:c(i)}),s.jsx("p",{className:"text-sm",children:"Would you like to extend your session or logout?"})]})]}),s.jsxs(Xh,{children:[s.jsx(pg,{onClick:n,children:"Logout"}),s.jsx(Qh,{onClick:l,children:"Extend Session"})]})]})})},UX=()=>s.jsx(Z4,{children:s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(wX,{}),s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsx(NX,{}),s.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[s.jsx(CX,{}),s.jsx("main",{className:"flex-1 w-full overflow-auto",children:s.jsx(hD,{})})]})]}),s.jsx($X,{}),s.jsx(VX,{})]})});var BX="Label",jO=m.forwardRef((e,t)=>s.jsx(Me.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jO.displayName=BX;var wO=jO;const HX=dl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=m.forwardRef(({className:e,...t},n)=>s.jsx(wO,{ref:n,className:le(HX(),e),...t}));E.displayName=wO.displayName;const K=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:le("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const re=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const ie=m.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const xe=m.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const G=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:le("p-6 pt-0",e),...t}));G.displayName="CardContent";const zX=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",e),...t}));zX.displayName="CardFooter";const qX=()=>{var f,x;const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(!1),{login:o,isAuthenticated:l}=ta(),{toast:c}=mt(),u=((x=(f=Fn().state)==null?void 0:f.from)==null?void 0:x.pathname)||"/dashboard";if(l)return s.jsx(Ap,{to:u,replace:!0});const h=async g=>{g.preventDefault(),i(!0),await o(e,n,u)||c({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),i(!1)};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center app-background-gradient relative overflow-hidden p-4",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),s.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),s.jsx("div",{className:"w-full max-w-md relative z-10",children:s.jsxs(K,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[s.jsxs(re,{className:"text-center space-y-6 animate-fade-in",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-primary flex items-center justify-center animate-glow",children:s.jsx(Hn,{className:"h-8 w-8 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{className:"text-3xl font-bold",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Integrix Flow Bridge"})}),s.jsx(xe,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),s.jsx(G,{className:"space-y-6 animate-slide-up",children:s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),"Username"]}),s.jsx(U,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:g=>t(g.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kB,{className:"h-4 w-4"}),"Password"]}),s.jsx(U,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:g=>r(g.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsx(q,{type:"submit",className:"w-full group",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(jp,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function WX(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:x,...g}=h,p=(f==null?void 0:f[e][c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})}function u(h,f){const x=(f==null?void 0:f[e][c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,YX(a,...t)]}function YX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Ab="Progress",kb=100,[KX,Bye]=WX(Ab),[XX,GX]=KX(Ab),NO=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=JX,...o}=e;(a||a===0)&&!FE(a)&&console.error(QX(`${a}`,"Progress"));const l=FE(a)?a:kb;r!==null&&!OE(r,l)&&console.error(ZX(`${r}`,"Progress"));const c=OE(r,l)?r:null,d=_p(c)?i(c,l):void 0;return s.jsx(XX,{scope:n,value:c,max:l,children:s.jsx(Me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_p(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":CO(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});NO.displayName=Ab;var bO="ProgressIndicator",SO=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=GX(bO,n);return s.jsx(Me.div,{"data-state":CO(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});SO.displayName=bO;function JX(e,t){return`${Math.round(e/t*100)}%`}function CO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _p(e){return typeof e=="number"}function FE(e){return _p(e)&&!isNaN(e)&&e>0}function OE(e,t){return _p(e)&&!isNaN(e)&&e<=t&&e>=0}function QX(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kb}\`.`}function ZX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EO=NO,eG=SO;const Ai=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(EO,{ref:r,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(eG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ai.displayName=EO.displayName;function Zh({children:e,className:t}){return s.jsx("div",{className:le("h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",t),children:e})}const xg=({title:e,description:t,icon:n,actions:r,className:a})=>s.jsxs("div",{className:le("flex items-center justify-between mb-6 animate-slide-up",a),children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n&&s.jsx("span",{className:"text-primary [&>svg]:h-5 [&>svg]:w-5",children:n}),e]}),t&&s.jsx("p",{className:"text-muted-foreground mt-1",children:t})]}),r&&s.jsx("div",{className:"flex items-center gap-3",children:r})]});class tG{async getDashboardStats(t){try{const n=t?`/dashboard/stats?businessComponentId=${t}`:"/dashboard/stats";return await te.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard stats"}}}async getDashboardMetrics(t){var n,r;try{const a=t?`/dashboard/metrics?businessComponentId=${t}`:"/dashboard/metrics",i=await te.get(a);if(i.success&&i.data){const o=i.data;return{success:!0,data:[{title:"Active Integrations",value:((n=o.activeIntegrations)==null?void 0:n.toString())||"0",change:"+0%",icon:"Activity",color:"text-success"},{title:"Messages Today",value:((r=o.messagesToday)==null?void 0:r.toLocaleString())||"0",change:"+0%",icon:"MessageSquare",color:"text-info"},{title:"Success Rate",value:o.successRate?`${o.successRate.toFixed(1)}%`:"0.0%",change:"+0%",icon:"CheckCircle",color:"text-success"},{title:"Avg Response Time",value:o.avgResponseTime?`${o.avgResponseTime}ms`:"0ms",change:"0ms",icon:"Zap",color:"text-warning"}]}}return{success:!1,data:[],error:"Invalid response format"}}catch(a){return console.error("Dashboard metrics error:",a),{success:!1,data:[],error:a instanceof Error?a.message:"Failed to fetch dashboard metrics"}}}async getRecentMessages(t,n=10){try{const r=t?`/messages/recent?businessComponentId=${t}&limit=${n}`:`/messages/recent?limit=${n}`;return await te.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch recent messages"}}}async getAdapterStatuses(t){try{const n=t?`/adapter-monitoring/status?businessComponentId=${t}`:"/adapter-monitoring/status";return await te.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter statuses"}}}async getDashboardData(t){try{const[n,r,a]=await Promise.all([this.getDashboardStats(t),this.getRecentMessages(t),this.getAdapterStatuses(t)]);if(!n.success||!r.success||!a.success)return{success:!1,error:"Failed to fetch some dashboard data"};const i=await this.getDashboardMetrics(t);return{success:!0,data:{stats:n.data,metrics:i.data||[],recentMessages:r.data||[],adapterStatuses:a.data||[]}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard data"}}}}const zv=new tG;class sG{async getAllBusinessComponents(){try{return{success:!0,data:await Qe.get("/business-components")}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{return{success:!0,data:await Qe.get(`/business-components/${t}`)}}catch(n){return console.error("Failed to fetch business component:",n),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const n=await Qe.post("/business-components",t);return console.log("Frontend: Created business component:",n),{success:!0,data:n}}catch(n){return console.error("Frontend: Failed to create business component:",n),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{return{success:!0,data:await Qe.put(`/business-components/${t.id}`,t)}}catch(n){return console.error("Failed to update business component:",n),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{return await Qe.delete(`/business-components/${t}`),{success:!0}}catch(n){return console.error("Failed to delete business component:",n),{success:!1,error:"Failed to delete business component"}}}}const ga=new sG;function gg(e){m.useEffect(()=>{const t=document.title;return document.title=`${e} | Integrix Flow Bridge`,()=>{document.title=t}},[e])}const vg=e=>{m.useEffect(()=>{const t=document.querySelector('meta[name="description"]'),n=document.querySelector('meta[property="og:description"]');if(t){const r=t.getAttribute("content")||"";return t.setAttribute("content",e),n&&n.setAttribute("content",e),()=>{t.setAttribute("content",r),n&&r&&n.setAttribute("content",r)}}},[e])},nG=dl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tt=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:le(nG({variant:t}),e),...n}));tt.displayName="Alert";const yd=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));yd.displayName="AlertTitle";const st=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:le("text-sm [&_p]:leading-relaxed",e),...t}));st.displayName="AlertDescription";function rG({title:e="Error",error:t,className:n,variant:r="destructive"}){const a=t instanceof Error?t.message:typeof t=="string"?t:"An unexpected error occurred",i=r==="destructive"?Hs:Bt;return s.jsxs(tt,{variant:r,className:le("mb-4",n),children:[s.jsx(i,{className:"h-4 w-4"}),s.jsx(yd,{children:e}),s.jsx(st,{children:a})]})}const aG={Activity:ad,MessageSquare:sn,CheckCircle:Bs,XCircle:Hs,Clock:Ds,TrendingUp:_N,Server:Fx,Zap:En,Users:qs},iG=()=>{gg("Dashboard"),vg("Monitor your integration flows, adapter status, and system performance in real-time with the Integrix Flow Bridge dashboard."),console.log("Dashboard component loading...");const[e,t]=m.useState(null),[n,r]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(!0),[f,x]=m.useState(!0),[g,p]=m.useState(null),[j,v]=m.useState([]),[y,w]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{console.log("Dashboard - loading business components...");const b=await ga.getAllBusinessComponents();b.success&&b.data&&v(b.data)}catch(b){console.error("Error loading business components:",b)}finally{w(!1)}})()},[]),console.log("Dashboard - business components:",j,"loading:",y),m.useEffect(()=>{const N=async()=>{try{p(null);const C=e==null?void 0:e.id;d(!0);const S=await zv.getDashboardMetrics(C);console.log("Metrics response:",S),S.success&&S.data&&Array.isArray(S.data)?r(S.data):(console.error("Failed to fetch metrics:",S.error),r([])),d(!1),h(!0);const P=await zv.getRecentMessages(C);P.success&&P.data?i(P.data):(console.error("Failed to fetch messages:",P.error),i([])),h(!1),x(!0);const A=await zv.getAdapterStatuses(C);A.success&&A.data?l(A.data):(console.error("Failed to fetch adapters:",A.error),l([])),x(!1)}catch(C){console.error("Dashboard data fetch error:",C),p("Failed to load dashboard data"),r([]),i([]),l([]),d(!1),h(!1),x(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e]),console.log("Dashboard render - about to return JSX"),s.jsxs(Zh,{children:[s.jsx(xg,{title:"Integration Dashboard",description:"Monitor your integration flows and system health",icon:s.jsx(lR,{})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(Z,{value:(e==null?void 0:e.id)||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=j.find(C=>C.id===N);t(b||null)}},children:[s.jsx(J,{id:"business-component",className:"w-[280px]",children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Components"}),j.map(N=>s.jsx(D,{value:N.id,children:N.name},N.id))]})]})]}),g&&s.jsx(rG,{error:g}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c?s.jsx("div",{className:"col-span-full flex justify-center p-8",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin"})}):n&&Array.isArray(n)?n.map((N,b)=>{const C=aG[N.icon]||ad,S=N.change.startsWith("+")||N.change.startsWith("-")&&N.change.includes("ms");return s.jsxs(K,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:N.title}),s.jsx(C,{className:`h-4 w-4 ${N.color}`})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.value}),s.jsxs("p",{className:`text-xs ${S?"text-success":"text-destructive"}`,children:[N.change," from last period"]})]})]},b)}):s.jsx("div",{className:"col-span-full",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No metrics available"})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Recent Messages"}),s.jsx(xe,{children:"Latest integration messages"})]}),s.jsx(G,{children:u?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Ct,{className:"h-6 w-6 animate-spin"})}):!a||!Array.isArray(a)||a.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent messages"}):s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(de,{variant:N.status==="success"?"success":N.status==="failed"?"destructive":"secondary",children:N.status}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[N.source,"  ",N.target]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]}),N.status==="success"&&s.jsx(Bs,{className:"h-4 w-4 text-success"}),N.status==="failed"&&s.jsx(Hs,{className:"h-4 w-4 text-destructive"}),N.status==="processing"&&s.jsx(Ds,{className:"h-4 w-4 text-warning animate-pulse"})]},N.id))})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Adapter Monitoring"}),s.jsx(xe,{children:"Active communication adapters"})]}),s.jsx(G,{children:f?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Ct,{className:"h-6 w-6 animate-spin"})}):!o||!Array.isArray(o)||o.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No active adapters"}):s.jsx("div",{className:"space-y-4",children:o.map((N,b)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fx,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:N.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"outline",children:N.type}),s.jsx(de,{variant:"secondary",children:N.mode}),s.jsx(de,{variant:N.status==="running"?"success":N.status==="stopped"?"secondary":"destructive",children:N.status})]})]}),s.jsx(Ai,{value:N.load,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{children:["Load: ",N.load,"%"]}),N.messagesProcessed!==void 0&&s.jsxs("span",{children:["Messages: ",N.messagesProcessed.toLocaleString()]})]})]},b))})})]})]})]})},oG=()=>(console.log("TestPage - rendering without React Query"),s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),s.jsx("p",{children:"This is a simple test page without React Query to verify navigation works."})]})),TO=({children:e,requireDevelopment:t=!0,customMessage:n})=>{const{isDevelopment:r,environmentInfo:a}=gd(),i=Xs();return t&&!r?s.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:s.jsx(K,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:s.jsx(_i,{className:"h-12 w-12 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Page Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:n||`This page is only available in development environment. 
                     The system is currently configured as ${(a==null?void 0:a.displayName)||"non-development"}.`})]}),s.jsxs(tt,{className:"mt-4",children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx(yd,{children:"Why is this restricted?"}),s.jsxs(st,{children:["In ",(a==null?void 0:a.displayName)||"this"," environment, creation and modification of flows, adapters, and data structures is disabled to prevent accidental changes. You can still import flows, modify adapter configurations, and manage deployments."]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(q,{onClick:()=>i(-1),variant:"outline",children:"Go Back"}),s.jsx(q,{onClick:()=>i("/interfaces"),children:"Interface Management"})]})]})})})}):s.jsx(s.Fragment,{children:e})};function lG(){const e=Xs();return vd(),s.jsx(TO,{children:s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(K,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(re,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx(ri,{className:"h-8 w-8 text-primary"})}),s.jsx(ie,{className:"text-xl",children:"Create Orchestration Flow"}),s.jsx(xe,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),s.jsxs(G,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual workflow designer"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Message routing & transformation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Multi-system orchestration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Error handling & compensation"})]})]}),s.jsx(q,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),s.jsxs(K,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(re,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx(ac,{className:"h-8 w-8 text-primary"})}),s.jsx(ie,{className:"text-xl",children:"Create Direct Mapping Flow"}),s.jsx(xe,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),s.jsxs(G,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Point-to-point integration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual field mapping"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Transformation functions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Quick setup & deployment"})]})]}),s.jsx(q,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]})]})})}const PO=e=>{const t=Fn(),{isDirectNavigation:n}=vd(),r=m.useRef(!1),a=m.useRef(t.pathname);return m.useEffect(()=>{a.current!==t.pathname&&(a.current=t.pathname,n()?(e(),r.current=!0):r.current=!1)},[t.pathname,n,e]),{isDirectNavigation:n(),hasReset:r.current}},Re=m.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Re.displayName="Textarea";var Mb="Switch",[cG,Hye]=pn(Mb),[dG,uG]=cG(Mb),AO=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,x]=m.useState(null),g=Be(t,w=>x(w)),p=m.useRef(!1),j=f?u||!!f.closest("form"):!0,[v=!1,y]=Gn({prop:a,defaultProp:i,onChange:d});return s.jsxs(dG,{scope:n,checked:v,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":RO(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:je(e.onClick,w=>{y(N=>!N),j&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),j&&s.jsx(hG,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});AO.displayName=Mb;var kO="SwitchThumb",MO=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=uG(kO,n);return s.jsx(Me.span,{"data-state":RO(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});MO.displayName=kO;var hG=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=cg(n),l=$x(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RO(e){return e?"checked":"unchecked"}var DO=AO,mG=MO;const St=m.forwardRef(({className:e,...t},n)=>s.jsx(DO,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(mG,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));St.displayName=DO.displayName;const fG=({onSaveFlow:e,isLoading:t=!1,disabled:n=!1})=>s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Actions"}),s.jsx(xe,{children:"Save your integration flow"})]}),s.jsxs(G,{className:"space-y-3",children:[s.jsx(q,{onClick:e,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",disabled:n||t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Flow"]})}),s.jsx(xt,{}),s.jsxs(q,{variant:"outline",className:"w-full",children:[s.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),pG=({sourceAdapter:e,targetAdapter:t,sourceStructure:n,targetStructure:r,selectedTransformations:a,adapters:i,sampleStructures:o})=>{var d,u,h,f;const l=x=>i.find(g=>g.id===x),c=x=>o.find(g=>g.id===x);return s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(re,{children:s.jsx(ie,{children:"Flow Summary"})}),s.jsx(G,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(de,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source:"}),s.jsx("span",{children:e?(d=l(e))==null?void 0:d.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),s.jsx("span",{children:n?(u=c(n))==null?void 0:u.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target:"}),s.jsx("span",{children:t?(h=l(t))==null?void 0:h.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),s.jsx("span",{children:r?(f=c(r))==null?void 0:f.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),s.jsx("span",{children:a.length})]})]})})]})},xG=()=>s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(re,{children:s.jsx(ie,{children:"Quick Tips"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Add transformations to modify data between systems"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]}),f0=e=>{try{const t=JSON.parse(e);return p0(t)}catch{return null}},p0=e=>{if(Array.isArray(e))return e.length>0?["array",p0(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[n,r]of Object.entries(e))t[n]=p0(r);return t}else return typeof e},Lp=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=[],i=new Map,o=(g,p)=>{const j=g.split(":").pop()||"";if(i.has(j))return i.get(j);for(const v of p){const y=v.querySelector(`complexType[name="${j}"], xs\\:complexType[name="${j}"], xsd\\:complexType[name="${j}"]`);if(y){const N={};return c(y,N,0,p),i.set(j,N),N}const w=v.querySelector(`simpleType[name="${j}"], xs\\:simpleType[name="${j}"], xsd\\:simpleType[name="${j}"]`);if(w){const N=w.querySelector("restriction, xs\\:restriction, xsd\\:restriction");if(N)return(N.getAttribute("base")||"string").replace(/^(xs:|xsd:|tns:)/,"")}}return j.replace(/^(xs:|xsd:|tns:)/,"")},l=g=>{const p={};for(const[j,v]of g)p[j]=v;return p},c=(g,p,j=0,v)=>{const y=g.querySelectorAll(":scope > sequence > element, :scope > sequence > xs\\:element, :scope > sequence > xsd\\:element, :scope > element, :scope > xs\\:element, :scope > xsd\\:element"),w=[];y.forEach(N=>{const b=N.getAttribute("name"),C=N.getAttribute("type"),S=N.getAttribute("ref"),P=N.getAttribute("maxOccurs"),A=P==="unbounded"||P&&parseInt(P)>1;if(b||S){const F=b||(S==null?void 0:S.split(":").pop())||"",O=A?`${F}[]`:F;let _;const $=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if($){const I={};c($,I,j+1,v),_=I}else if(C)_=o(C,v);else if(S){const I=S.split(":").pop()||"";for(const k of v){const T=k.querySelector(`element[name="${I}"], xs\\:element[name="${I}"], xsd\\:element[name="${I}"]`);if(T){const M=T.getAttribute("type");M&&(_=o(M,v));break}}_||(_="string")}else _="string";w.push([O,_])}});for(const[N,b]of w)p[N]=b},d=n.querySelectorAll("schema, xs\\:schema, xsd\\:schema");n.querySelectorAll("message, wsdl\\:message").forEach(g=>{g.querySelectorAll("part, wsdl\\:part").forEach(j=>{const v=j.getAttribute("element");if(v){const y=v.split(":").pop();for(const w of d){const N=w.querySelector(`element[name="${y}"], xs\\:element[name="${y}"], xsd\\:element[name="${y}"]`);if(N){const b=N.getAttribute("type");if(b){const C=o(b,d);typeof C=="object"?a.push([y,C]):a.push([y,{value:C}])}else{const C=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(C){const S={};c(C,S,0,d),a.push([y,S])}}break}}}})}),a.length===0&&d.forEach(g=>{g.querySelectorAll(":scope > element, :scope > xs\\:element, :scope > xsd\\:element").forEach(j=>{const v=j.getAttribute("name");if(v){const y=j.getAttribute("type");if(y){const w=o(y,d);typeof w=="object"?a.push([v,w]):a.push([v,{value:w}])}else{const w=j.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(w){const N={};c(w,N,0,d),a.push([v,N])}}}})});const h=l(a),f=n.querySelectorAll("operation, wsdl\\:operation");let x=null;if(f.length>0){const g=f[0],p=!!g.querySelector("input, wsdl\\:input"),j=!!g.querySelector("output, wsdl\\:output"),v=!!g.querySelector("fault, wsdl\\:fault");x={hasInput:p,hasOutput:j,hasFault:v,isSynchronous:p&&j,messageTypes:[]},p&&x.messageTypes.push("input"),j&&x.messageTypes.push("output"),v&&x.messageTypes.push("fault")}return Object.keys(h).length>0?{structure:h,operationInfo:x}:null}catch(t){return console.error("Error parsing WSDL:",t),null}},FO=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return console.error("WSDL parsing error:",r),{names:[],hasMultiple:!1};const a=n.documentElement;console.log("WSDL root element:",a.tagName,"namespace:",a.namespaceURI);const i=[],o=n.getElementsByTagName("*");for(let d=0;d<o.length;d++){const u=o[d];(u.localName==="portType"||u.tagName==="portType"||u.tagName==="wsdl:portType")&&i.push(u)}console.log("Found portTypes:",i.length);const l=[];i.forEach(d=>{const u=d.getElementsByTagName("*");for(let h=0;h<u.length;h++){const f=u[h];(f.localName==="operation"||f.tagName==="operation"||f.tagName==="wsdl:operation")&&f.parentElement===d&&l.push(f)}});const c=[];if(console.log("Found operations in portType:",l.length),l.forEach(d=>{const u=d.getAttribute("name");console.log("Operation element:",d.tagName,"name attribute:",u),u&&!c.includes(u)&&(c.push(u),console.log("Added operation:",u))}),c.length===0){console.log("No operations in portType, checking binding elements...");const d=[];for(let u=0;u<o.length;u++){const h=o[u];(h.localName==="binding"||h.tagName==="binding"||h.tagName==="wsdl:binding")&&d.push(h)}console.log("Found bindings:",d.length),d.forEach(u=>{const h=u.getElementsByTagName("*");for(let f=0;f<h.length;f++){const x=h[f];if((x.localName==="operation"||x.tagName==="operation"||x.tagName==="wsdl:operation")&&x.parentElement===u){const g=x.getAttribute("name");g&&!c.includes(g)&&(c.push(g),console.log("Found operation in binding:",g))}}})}return{names:c,hasMultiple:c.length>1}}catch(t){return console.error("Error extracting WSDL operations:",t),{names:[],hasMultiple:!1}}},gG=e=>{try{const{names:t,hasMultiple:n}=FO(e);return console.log("WSDL operation extraction result:",{names:t,hasMultiple:n}),t.length===1?t[0]:(t.length>1,null)}catch(t){return console.error("Error extracting WSDL part name:",t),null}},vG=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=n.documentElement,i=a.getAttribute("targetNamespace")||"",o=n.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";o.length>0&&(l=o[0].getAttribute("location")||"");let c="";for(let d=0;d<a.attributes.length;d++){const u=a.attributes[d];if(u.name.startsWith("xmlns:")&&u.value===i){c=u.name.replace("xmlns:","");break}}return{uri:i,prefix:c,targetNamespace:i,schemaLocation:l}}catch{return null}},$p=e=>{const t={};return e.forEach(n=>{n.children&&n.children.length>0?t[n.name]=$p(n.children):t[n.name]=n.type}),t};class yG{async createStructure(t){return te.post("/structures",t)}async getStructures(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&(Array.isArray(i)?i.forEach(o=>n.append(a,o.toString())):n.append(a,i.toString()))});const r=`/structures${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async getStructure(t){return te.get(`/structures/${t}`)}async updateStructure(t,n){return te.put(`/structures/${t}`,n)}async deleteStructure(t){return te.delete(`/structures/${t}`)}async validateStructure(t,n){return te.post("/structures/validate",{structure:t,type:n})}async parseStructure(t,n){return te.post("/structures/parse",{content:t,type:n})}async generateSampleData(t,n){const r=`/structures/${t}/sample${n?`?format=${n}`:""}`;return te.get(r)}async getStructureUsage(t){return te.get(`/structures/${t}/usage`)}async cloneStructure(t,n){return te.post(`/structures/${t}/clone`,{name:n})}async compareStructures(t,n){return te.post("/structures/compare",{sourceId:t,targetId:n})}async getStructureMappings(t,n){return te.get(`/structures/mappings?source=${t}&target=${n}`)}async exportStructure(t,n){return te.get(`/structures/${t}/export?format=${n}`)}async searchStructures(t,n){const r=new URLSearchParams({q:t});return n&&Object.entries(n).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())}),te.get(`/structures/search?${r.toString()}`)}async getStructureVersions(t){return te.get(`/structures/${t}/versions`)}}const mo=new yG,jG=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],jd=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[a,i]=m.useState(!1),{toast:o}=mt();m.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0),console.log("Loading data structures from backend...");const f=await mo.getStructures();if(f.success&&f.data){console.log("API structures loaded:",f.data.structures||f.data);const x=f.data.structures||f.data||[];if(typeof x=="string"&&x.includes("<!DOCTYPE html>")){console.log("API endpoint not implemented yet, showing sample data"),t(jG),o({title:"Info",description:"Data structures API not available yet. Showing sample data."});return}console.log(`API returned ${x.length} structures`),t(x)}else console.log("API failed, showing empty list"),t([])}catch(f){console.error("Error loading structures, showing empty list:",f),t([])}finally{i(!1)}};return{structures:e,selectedStructure:n,setSelectedStructure:r,saveStructure:async(f,x,g,p,j,v,y,w,N,b,C)=>{if(!f)return o({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let S={},P={};if(p)S=f0(p);else if(y){const _=Lp(y);_&&typeof _=="object"&&"structure"in _?(S=_.structure,_.operationInfo&&(P.operationInfo=_.operationInfo)):S=_}else if(j)S={message:"XSD parsing not fully implemented yet"};else if(v)S={message:"EDMX parsing not fully implemented yet"};else if(w.length>0)S=$p(w);else return o({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let A,F;p?(A=p,F="json"):y?(A=y,F="xml"):j?(A=j,F="xml"):v&&(A=v,F="xml");const O={name:f,type:p?"json":y?"wsdl":j?"xsd":"custom",description:x,usage:g,structure:S,originalContent:A,originalFormat:F,businessComponentId:C,namespace:(N==="xsd"||N==="wsdl"||N==="edmx")&&b.uri?b:void 0,metadata:Object.keys(P).length>0?P:void 0};try{console.log("Saving structure to backend:",O);const _=await mo.createStructure(O);return _.success&&_.data?(console.log("Structure saved successfully:",_.data),await l(),o({title:"Structure Saved",description:`Data structure "${f}" has been created successfully`}),!0):(console.error("Failed to save structure:",_.error),o({title:"Save Failed",description:"Failed to save data structure to the backend",variant:"destructive"}),!1)}catch(_){console.error("Error saving structure:",_);let $="An error occurred while saving the data structure";return _.response?(console.error("Error response data:",_.response),_.response.detail?$=_.response.detail:_.response.message?$=_.response.message:_.response.error?$=_.response.error:typeof _.response=="string"&&($=_.response)):_.message&&($=_.message),o({title:"Save Error",description:$,variant:"destructive"}),!1}},updateStructure:async(f,x,g,p,j,v,y,w,N,b,C,S)=>{if(!x)return o({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let P={},A={};if(j)P=f0(j);else if(w){const $=Lp(w);$&&typeof $=="object"&&"structure"in $?(P=$.structure,$.operationInfo&&(A.operationInfo=$.operationInfo)):P=$}else if(v)P={message:"XSD parsing not fully implemented yet"};else if(y)P={message:"EDMX parsing not fully implemented yet"};else if(N.length>0)P=$p(N);else return o({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let F,O;j?(F=j,O="json"):w?(F=w,O="xml"):v?(F=v,O="xml"):y&&(F=y,O="xml");const _={name:x,type:j?"json":w?"wsdl":v?"xsd":"custom",description:g,usage:p,structure:P,originalContent:F,originalFormat:O,businessComponentId:S,namespace:(b==="xsd"||b==="wsdl"||b==="edmx")&&C.uri?C:void 0,metadata:Object.keys(A).length>0?A:void 0};try{console.log("Updating structure:",f,_);const $=await mo.updateStructure(f,_);return $.success&&$.data?(console.log("Structure updated successfully:",$.data),await l(),o({title:"Structure Updated",description:`Data structure "${x}" has been updated successfully`}),!0):(console.error("Failed to update structure:",$.error),o({title:"Update Failed",description:"Failed to update data structure",variant:"destructive"}),!1)}catch($){console.error("Error updating structure:",$);let I="An error occurred while updating the data structure";return $.response?(console.error("Error response data:",$.response),$.response.detail?I=$.response.detail:$.response.message?I=$.response.message:$.response.error?I=$.response.error:typeof $.response=="string"&&(I=$.response)):$.message&&(I=$.message),o({title:"Update Error",description:I,variant:"destructive"}),!1}},deleteStructure:async f=>{try{console.log("Deleting structure:",f);const x=await mo.deleteStructure(f);x.success?(console.log("Structure deleted successfully"),await l(),(n==null?void 0:n.id)===f&&r(null),o({title:"Structure Deleted",description:"Data structure has been removed"})):(console.error("Failed to delete structure:",x.error),o({title:"Delete Failed",description:"Failed to delete data structure",variant:"destructive"}))}catch(x){console.error("Error deleting structure:",x),o({title:"Delete Error",description:"An error occurred while deleting the data structure",variant:"destructive"})}},duplicateStructure:async f=>{try{console.log("Duplicating structure:",f.name);const x=await mo.cloneStructure(f.id,`${f.name} (Copy)`);x.success&&x.data?(console.log("Structure duplicated successfully:",x.data),await l(),o({title:"Structure Duplicated",description:`Created copy of "${f.name}"`})):(console.error("Failed to duplicate structure:",x.error),o({title:"Duplicate Failed",description:"Failed to duplicate data structure",variant:"destructive"}))}catch(x){console.error("Error duplicating structure:",x),o({title:"Duplicate Error",description:"An error occurred while duplicating the data structure",variant:"destructive"})}},loading:a,refreshStructures:l}};function OO({fields:e,mappings:t,side:n,selectedField:r,onToggleExpanded:a,onDragStart:i,onDragEnd:o,onDragOver:l,onDrop:c,onSelectField:d}){const u=m.useCallback((h,f)=>{const x=!h.children||h.children.length===0,g=h.type==="array"||h.name.endsWith("[]"),p=!x&&(g||h.type==="object"),j=n==="source"&&(x||p),v=n==="target"&&(x||p),y=t.some(N=>{if(n==="source"){const b=N.sourcePaths&&N.sourcePaths.includes(h.path),C=N.sourceFields&&N.sourceFields.includes(h.name);return b||C}else return N.targetPath===h.path||N.targetField===h.name}),w=(r==null?void 0:r.id)===h.id;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${w?"bg-primary/20 border-primary ring-1 ring-primary":y?"bg-primary/10 border-primary border-dotted border-2":"bg-background hover:bg-muted/50"} ${j?"cursor-grab active:cursor-grabbing":""} ${v&&!y?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${f*16}px`},draggable:j,onClick:()=>{d&&d(h)},onDragStart:N=>{j&&i&&(N.dataTransfer.effectAllowed="copy",N.dataTransfer.setData("application/json",JSON.stringify(h)),i(h))},onDragEnd:N=>{j&&o&&o()},onDragOver:v?l:void 0,onDrop:N=>{v&&(N.preventDefault(),N.stopPropagation(),c==null||c(h))},children:[!x&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>a(h.id,n==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:h.expanded?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(kn,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:h.name}),s.jsx(de,{variant:"outline",className:"text-xs",children:h.type}),y&&s.jsx(MB,{className:"h-3 w-3 text-primary"}),p&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Node"})]}),n==="source"&&j&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag "}),n==="target"&&v&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!x&&h.expanded&&h.children&&s.jsx("div",{className:"ml-4",children:h.children.map(N=>u(N,f+1))})]},h.id)},[t,n,r,a,i,o,l,c,d]);return s.jsx("div",{className:"space-y-2",children:e.map(h=>u(h,0))})}const _t=Tb,em=X4,wG=Pb,IO=m.forwardRef(({className:e,...t},n)=>s.jsx(Bh,{ref:n,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IO.displayName=Bh.displayName;const kt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(wG,{children:[s.jsx(IO,{}),s.jsxs(Hh,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(mg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Et,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kt.displayName=Hh.displayName;const Lt=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lt.displayName="DialogHeader";const ka=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ka.displayName="DialogFooter";const $t=m.forwardRef(({className:e,...t},n)=>s.jsx(zh,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));$t.displayName=zh.displayName;const Cr=m.forwardRef(({className:e,...t},n)=>s.jsx(qh,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));Cr.displayName=qh.displayName;function _O({isOpen:e,onOpenChange:t,selectedService:n,onSelectService:r,title:a,usage:i,businessComponentId:o}){var d;const{structures:l}=jd(),c=l.filter(u=>{const h=u.usage===i,f=!o||u.businessComponentId===o;return h&&f});return s.jsxs(_t,{open:e,onOpenChange:t,children:[s.jsx(em,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Select"]})}),s.jsxs(kt,{className:"max-w-2xl",children:[s.jsx(Lt,{children:s.jsx($t,{children:a})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),s.jsxs(Z,{onValueChange:r,value:n,children:[s.jsx(J,{className:"w-full",children:s.jsx(ee,{placeholder:"Choose a data structure..."})}),s.jsx(Q,{className:"bg-background border shadow-lg z-50",children:c.map(u=>s.jsx(D,{value:u.name,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:u.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.type.toUpperCase(),"  ",u.description||"No description"]})]})},u.id))})]})]}),c.length===0&&s.jsx("div",{className:"border rounded-md p-3 space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",i," usage. Please create data structures on the Data Structures page first."]})}),n&&s.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[s.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:((d=c.find(u=>u.name===n))==null?void 0:d.description)||n})]})]})]})]})}function NG({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:i,onSearchChange:o,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragStart:u,onDragEnd:h,onSelectField:f,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(E,{className:"font-semibold",children:"Source Message"}),!g&&s.jsx(_O,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Source Message",usage:"source"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No source selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(U,{placeholder:"Search source fields...",value:r,onChange:p=>o(p.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(tt,{children:s.jsx(st,{children:"Select a source data structure to view fields"})}):s.jsx(OO,{fields:e,mappings:t,side:"source",selectedField:i,onToggleExpanded:d,onDragStart:u,onDragEnd:h,onSelectField:f})})]})}function bG({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:i,onSearchChange:o,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragOver:u,onDrop:h,onSelectField:f,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(E,{className:"font-semibold",children:"Target Message"}),!g&&s.jsx(_O,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Target Message",usage:"target"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No target selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(U,{placeholder:"Search target fields...",value:r,onChange:p=>o(p.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(Ct,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(tt,{children:s.jsx(st,{children:"Select a target data structure to view fields"})}):s.jsx(OO,{fields:e,mappings:t,side:"target",selectedField:i,onToggleExpanded:d,onDragOver:u,onDrop:h,onSelectField:f})})]})}const SG=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,n=2)=>Number(e.toFixed(n)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,n)=>t+n,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,n)=>t+n,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],CG=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,n)=>n?e+n+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,n)=>e.substring(t,n),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],EG=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,n)=>e?t:n,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],TG=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],PG=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,n,r,a,i)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const n=new Date(e),r=new Date(t);return n<r?-1:n>r?1:0},javaTemplate:"compareDates({0}, {1})"}],AG=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,n)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((n,r)=>n[t]-r[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],kG=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],Rb={math:SG,text:CG,boolean:EG,conversion:TG,date:PG,node:AG,constants:kG},MG=({open:e,onClose:t,selectedFunction:n,sourceFields:r,targetField:a,onApplyMapping:i})=>{const o=m.useRef(null),l=m.useRef(null),[c,d]=m.useState({id:"function_modal",functionName:n,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,h]=m.useState([]),[f,x]=m.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[g,p]=m.useState(new Set),[j,v]=m.useState(!1),w=Object.values(Rb).flat().find(O=>O.name===n),N=m.useCallback((O,_)=>{_.preventDefault(),_.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log(" DRAG START - Field:",O.name,"Position:",{x:_.clientX,y:_.clientY}),console.log(" DRAG START - Event target:",_.target),console.log(" DRAG START - Event currentTarget:",_.currentTarget),x({isDragging:!0,draggedItem:O,startPosition:{x:_.clientX,y:_.clientY},currentPosition:{x:_.clientX,y:_.clientY}});const $=new Set;w==null||w.parameters.forEach(I=>{!I.name.toLowerCase().includes("delimiter")&&!I.name.toLowerCase().includes("separator")&&($.add(`param-${c.id}-${I.name}`),console.log(" DRAG START - Added drop target:",`param-${c.id}-${I.name}`))}),p($),console.log(" DRAG START - Total drop targets:",$.size)},[w,c.id]),b=m.useCallback(O=>{f.isDragging&&(console.log(" DRAG MOVE - Position:",{x:O.clientX,y:O.clientY}),console.log(" DRAG MOVE - Element under mouse:",document.elementFromPoint(O.clientX,O.clientY)),x(_=>({..._,currentPosition:{x:O.clientX,y:O.clientY}})))},[f.isDragging]),C=m.useCallback(O=>{if(console.log(" DRAG END - Starting mouse up handler"),console.log(" DRAG END - isDragging:",f.isDragging),console.log(" DRAG END - draggedItem:",f.draggedItem),!f.isDragging||!f.draggedItem){console.log(" DRAG END - Early return - no drag in progress");return}console.log(" DRAG END - Position:",{x:O.clientX,y:O.clientY});const _=document.elementFromPoint(O.clientX,O.clientY);console.log(" DRAG END - Element under mouse:",_),console.log(" DRAG END - Element tag:",_==null?void 0:_.tagName),console.log(" DRAG END - Element classes:",_==null?void 0:_.className),console.log(" DRAG END - Element data-param:",_==null?void 0:_.getAttribute("data-param"));const $=_==null?void 0:_.closest("[data-param]");if(console.log(" DRAG END - Drop zone found:",$),console.log(" DRAG END - Drop zone data-param:",$==null?void 0:$.getAttribute("data-param")),$){const I=$.getAttribute("data-param");if(I){console.log(" DRAG END -  SUCCESS! Dropped on parameter:",I);const k=f.draggedItem;console.log(" DRAG END - Source field:",k),d(T=>{const M={...T,sourceConnections:{...T.sourceConnections,[I]:[k.path]}};return console.log(" DRAG END - Updated function node:",M),M}),setTimeout(()=>{console.log(" DRAG END - Creating visual connection");const T=document.querySelector(`[data-field-id="${k.id}"]`),M=$;if(console.log(" DRAG END - Source element found:",T),console.log(" DRAG END - Target element found:",M),console.log(" DRAG END - Canvas ref:",o.current),T&&M&&o.current){const R=o.current.getBoundingClientRect(),L=T.getBoundingClientRect(),H=M.getBoundingClientRect();console.log(" DRAG END - Canvas rect:",R),console.log(" DRAG END - Source rect:",L),console.log(" DRAG END - Target rect:",H);const V={id:`connection_${Date.now()}`,sourceId:k.id,targetId:`${c.id}-${I}`,sourceX:L.right-R.left,sourceY:L.top+L.height/2-R.top,targetX:H.left-R.left,targetY:H.top+H.height/2-R.top};console.log(" DRAG END - Connection created:",V),h(B=>{const W=[...B,V];return console.log(" DRAG END - All connections:",W),W})}else console.log(" DRAG END -  Failed to create connection - missing elements")},100)}else console.log(" DRAG END -  No param name found on drop zone")}else console.log(" DRAG END -  No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log(" DRAG END - Resetting drag state"),x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),p(new Set),console.log(" DRAG END - Complete!")},[f,c.id]);bt.useEffect(()=>{var O;if(console.log(" DRAG STATE CHANGE - isDragging:",f.isDragging),console.log(" DRAG STATE CHANGE - draggedItem:",(O=f.draggedItem)==null?void 0:O.name),f.isDragging)return console.log(" DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",C),()=>{console.log(" DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C)}},[f.isDragging,b,C]);const S=m.useCallback(O=>{if(!a)return;O.dataTransfer.setData("text/plain","function-output"),O.dataTransfer.effectAllowed="move";const _=new Set;_.add(`target-${a.id}`),p(_)},[a]),P=m.useCallback(()=>{x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),p(new Set)},[]);m.useCallback((O,_)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",O),console.log("Event type:",_.type),_.preventDefault(),_.stopPropagation();let $=_.dataTransfer.getData("application/json");const I=_.dataTransfer.getData("text/plain"),k=_.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",$),console.log("Drag data - Name:",I),console.log("Drag data - ID:",k),!$&&I){const M=r.find(R=>R.name===I);M&&($=JSON.stringify(M))}if(!$){console.log("ERROR: No field data found in drag transfer");return}const T=JSON.parse($);console.log("Parsed source field:",T),d(M=>({...M,sourceConnections:{...M.sourceConnections,[O]:[T.path]}})),setTimeout(()=>{const M=document.querySelector(`[data-field-id="${T.id}"]`),R=document.querySelector(`[data-param="${O}"]`);if(M&&R&&o.current){const L=o.current.getBoundingClientRect(),H=M.getBoundingClientRect(),V=R.getBoundingClientRect(),B={id:`connection_${Date.now()}`,sourceId:T.id,targetId:`${c.id}-${O}`,sourceX:H.right-L.left,sourceY:H.top+H.height/2-L.top,targetX:V.left-L.left,targetY:V.top+V.height/2-L.top};h(W=>[...W,B]),console.log("Connection created:",B)}},100),P(),console.log("=== DROP COMPLETE ===")},[c.id,P,r]);const A=m.useCallback(O=>{if(O.preventDefault(),O.dataTransfer.getData("text/plain")!=="function-output"||!a)return;v(!0);const $=document.querySelector('[data-function-output="true"]'),I=document.querySelector(`[data-target-field="${a.id}"]`);if($&&I&&o.current){const k=o.current.getBoundingClientRect(),T=$.getBoundingClientRect(),M=I.getBoundingClientRect(),R={id:`connection_output_${Date.now()}`,sourceId:`${c.id}-output`,targetId:a.id,sourceX:T.right-k.left,sourceY:T.top+T.height/2-k.top,targetX:M.left-k.left,targetY:M.top+M.height/2-k.top};h(L=>[...L,R])}},[c.id,a]),F=m.useCallback(()=>{if(!w||!j||!a)return;const O=[],_=[];Object.values(c.sourceConnections).forEach(I=>{I.forEach(k=>{_.push(k),O.push(k.split(".").pop()||k)})});const $={id:`mapping_${Date.now()}`,name:`${n}_to_${a.name}`,sourceFields:O,targetField:a.name,sourcePaths:_,targetPath:a.path,functionNode:{...c,id:`function_${Date.now()}`},requiresTransformation:!0};i($),t()},[w,j,c,n,a,i,t]);return w?s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-6xl h-[80vh] p-0",children:[s.jsx(Lt,{className:"p-6 pb-0",children:s.jsxs($t,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Function Mapping: ",w.name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{onClick:F,disabled:!j||Object.keys(c.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[s.jsx(Ah,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),s.jsxs(q,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsxs("div",{ref:o,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[s.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[s.jsx("defs",{children:s.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:s.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(O=>s.jsx("path",{d:`M ${O.sourceX} ${O.sourceY} C ${O.sourceX+100} ${O.sourceY}, ${O.targetX-100} ${O.targetY}, ${O.targetX} ${O.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},O.id))]}),s.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[s.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),s.jsx("div",{className:"space-y-2",children:r.map(O=>{var _,$;return s.jsxs("div",{"data-field-id":O.id,className:le("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",f.isDragging&&((_=f.draggedItem)==null?void 0:_.id)===O.id&&"opacity-70 scale-95"),style:{cursor:f.isDragging&&(($=f.draggedItem)==null?void 0:$.id)===O.id?"grabbing":"grab"},onMouseDown:I=>{I.preventDefault(),N(O,I)},children:[s.jsx("div",{className:"font-medium text-sm pointer-events-none",children:O.name}),s.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:O.type})]},O.id)})})]})}),s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[s.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[s.jsx("div",{className:"font-medium text-sm",children:w.name}),s.jsx("div",{className:"text-xs opacity-80",children:w.description})]}),s.jsx("div",{className:"p-2 space-y-2",children:w.parameters.map(O=>{var _,$;return s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-xs",children:O.name}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:O.type}),O.name.toLowerCase().includes("delimiter")||O.name.toLowerCase().includes("separator")?s.jsx(U,{placeholder:`Enter ${O.name}`,value:c.parameters[O.name]||"",onChange:I=>d(k=>({...k,parameters:{...k.parameters,[O.name]:I.target.value}})),className:"h-8 text-xs"}):s.jsxs("div",{"data-param":O.name,className:le("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",g.has(`param-${c.id}-${O.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[(_=c.sourceConnections[O.name])==null?void 0:_.map((I,k)=>s.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:I.split(".").pop()},k)),!(($=c.sourceConnections[O.name])!=null&&$.length)&&s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},O.name)})}),s.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:S,onDragEnd:P,children:[s.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),s.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&s.jsx("div",{className:"w-72",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),s.jsxs("div",{"data-target-field":a.id,className:le("bg-background border rounded p-3 transition-all",g.has(`target-${a.id}`)&&"border-primary bg-primary/10",j&&"border-success bg-success/10"),onDragOver:O=>O.preventDefault(),onDrop:A,children:[s.jsx("div",{className:"font-medium text-sm",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),j&&s.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:" Function output connected"})]})]})})]})]}),s.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-muted-foreground",children:"Connect source  function  target"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:le("px-1.5 py-0.5 rounded",Object.keys(c.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(c.sourceConnections).length,"/",w.parameters.length]}),s.jsxs("span",{className:le("px-1.5 py-0.5 rounded",j?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",j?"Connected":"Not connected"]})]})]})})]})}):null};function ds(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ds(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var RG={value:()=>{}};function yg(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _f(n)}function _f(e){this._=e}function DG(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_f.prototype=yg.prototype={constructor:_f,on:function(e,t){var n=this._,r=DG(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=FG(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=IE(n[a],e.name,t);else if(t==null)for(a in n)n[a]=IE(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _f(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function FG(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function IE(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=RG,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var x0="http://www.w3.org/1999/xhtml";const _E={svg:"http://www.w3.org/2000/svg",xhtml:x0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jg(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_E.hasOwnProperty(t)?{space:_E[t],local:e}:e}function OG(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===x0&&t.documentElement.namespaceURI===x0?t.createElement(e):t.createElementNS(n,e)}}function IG(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function LO(e){var t=jg(e);return(t.local?IG:OG)(t)}function _G(){}function Db(e){return e==null?_G:function(){return this.querySelector(e)}}function LG(e){typeof e!="function"&&(e=Db(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),c,d,u=0;u<o;++u)(c=i[u])&&(d=e.call(c,c.__data__,u,i))&&("__data__"in c&&(d.__data__=c.__data__),l[u]=d);return new Mn(r,this._parents)}function $G(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function VG(){return[]}function $O(e){return e==null?VG:function(){return this.querySelectorAll(e)}}function UG(e){return function(){return $G(e.apply(this,arguments))}}function BG(e){typeof e=="function"?e=UG(e):e=$O(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(r.push(e.call(c,c.__data__,d,o)),a.push(c));return new Mn(r,a)}function VO(e){return function(){return this.matches(e)}}function UO(e){return function(t){return t.matches(e)}}var HG=Array.prototype.find;function zG(e){return function(){return HG.call(this.children,e)}}function qG(){return this.firstElementChild}function WG(e){return this.select(e==null?qG:zG(typeof e=="function"?e:UO(e)))}var YG=Array.prototype.filter;function KG(){return Array.from(this.children)}function XG(e){return function(){return YG.call(this.children,e)}}function GG(e){return this.selectAll(e==null?KG:XG(typeof e=="function"?e:UO(e)))}function JG(e){typeof e!="function"&&(e=VO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],c,d=0;d<o;++d)(c=i[d])&&e.call(c,c.__data__,d,i)&&l.push(c);return new Mn(r,this._parents)}function BO(e){return new Array(e.length)}function QG(){return new Mn(this._enter||this._groups.map(BO),this._parents)}function Vp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vp.prototype={constructor:Vp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ZG(e){return function(){return e}}function eJ(e,t,n,r,a,i){for(var o=0,l,c=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Vp(e,i[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function tJ(e,t,n,r,a,i,o){var l,c,d=new Map,u=t.length,h=i.length,f=new Array(u),x;for(l=0;l<u;++l)(c=t[l])&&(f[l]=x=o.call(c,c.__data__,l,t)+"",d.has(x)?a[l]=c:d.set(x,c));for(l=0;l<h;++l)x=o.call(e,i[l],l,i)+"",(c=d.get(x))?(r[l]=c,c.__data__=i[l],d.delete(x)):n[l]=new Vp(e,i[l]);for(l=0;l<u;++l)(c=t[l])&&d.get(f[l])===c&&(a[l]=c)}function sJ(e){return e.__data__}function nJ(e,t){if(!arguments.length)return Array.from(this,sJ);var n=t?tJ:eJ,r=this._parents,a=this._groups;typeof e!="function"&&(e=ZG(e));for(var i=a.length,o=new Array(i),l=new Array(i),c=new Array(i),d=0;d<i;++d){var u=r[d],h=a[d],f=h.length,x=rJ(e.call(u,u&&u.__data__,d,r)),g=x.length,p=l[d]=new Array(g),j=o[d]=new Array(g),v=c[d]=new Array(f);n(u,h,p,j,v,x,t);for(var y=0,w=0,N,b;y<g;++y)if(N=p[y]){for(y>=w&&(w=y+1);!(b=j[w])&&++w<g;);N._next=b||null}}return o=new Mn(o,r),o._enter=l,o._exit=c,o}function rJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aJ(){return new Mn(this._exit||this._groups.map(BO),this._parents)}function iJ(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function oJ(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),c=0;c<o;++c)for(var d=n[c],u=r[c],h=d.length,f=l[c]=new Array(h),x,g=0;g<h;++g)(x=d[g]||u[g])&&(f[g]=x);for(;c<a;++c)l[c]=n[c];return new Mn(l,this._parents)}function lJ(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function cJ(e){e||(e=dJ);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,c=a[i]=new Array(l),d,u=0;u<l;++u)(d=o[u])&&(c[u]=d);c.sort(t)}return new Mn(a,this._parents).order()}function dJ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uJ(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hJ(){return Array.from(this)}function mJ(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function fJ(){let e=0;for(const t of this)++e;return e}function pJ(){return!this.node()}function xJ(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function gJ(e){return function(){this.removeAttribute(e)}}function vJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yJ(e,t){return function(){this.setAttribute(e,t)}}function jJ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wJ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function NJ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bJ(e,t){var n=jg(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?vJ:gJ:typeof t=="function"?n.local?NJ:wJ:n.local?jJ:yJ)(n,t))}function HO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function SJ(e){return function(){this.style.removeProperty(e)}}function CJ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function EJ(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function TJ(e,t,n){return arguments.length>1?this.each((t==null?SJ:typeof t=="function"?EJ:CJ)(e,t,n??"")):$c(this.node(),e)}function $c(e,t){return e.style.getPropertyValue(t)||HO(e).getComputedStyle(e,null).getPropertyValue(t)}function PJ(e){return function(){delete this[e]}}function AJ(e,t){return function(){this[e]=t}}function kJ(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function MJ(e,t){return arguments.length>1?this.each((t==null?PJ:typeof t=="function"?kJ:AJ)(e,t)):this.node()[e]}function zO(e){return e.trim().split(/^|\s+/)}function Fb(e){return e.classList||new qO(e)}function qO(e){this._node=e,this._names=zO(e.getAttribute("class")||"")}qO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function WO(e,t){for(var n=Fb(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function YO(e,t){for(var n=Fb(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function RJ(e){return function(){WO(this,e)}}function DJ(e){return function(){YO(this,e)}}function FJ(e,t){return function(){(t.apply(this,arguments)?WO:YO)(this,e)}}function OJ(e,t){var n=zO(e+"");if(arguments.length<2){for(var r=Fb(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?FJ:t?RJ:DJ)(n,t))}function IJ(){this.textContent=""}function _J(e){return function(){this.textContent=e}}function LJ(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $J(e){return arguments.length?this.each(e==null?IJ:(typeof e=="function"?LJ:_J)(e)):this.node().textContent}function VJ(){this.innerHTML=""}function UJ(e){return function(){this.innerHTML=e}}function BJ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HJ(e){return arguments.length?this.each(e==null?VJ:(typeof e=="function"?BJ:UJ)(e)):this.node().innerHTML}function zJ(){this.nextSibling&&this.parentNode.appendChild(this)}function qJ(){return this.each(zJ)}function WJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YJ(){return this.each(WJ)}function KJ(e){var t=typeof e=="function"?e:LO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function XJ(){return null}function GJ(e,t){var n=typeof e=="function"?e:LO(e),r=t==null?XJ:typeof t=="function"?t:Db(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function JJ(){var e=this.parentNode;e&&e.removeChild(this)}function QJ(){return this.each(JJ)}function ZJ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eQ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tQ(e){return this.select(e?eQ:ZJ)}function sQ(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nQ(e){return function(t){e.call(this,t,this.__data__)}}function rQ(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aQ(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function iQ(e,t,n){return function(){var r=this.__on,a,i=nQ(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function oQ(e,t,n){var r=rQ(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,u;c<d;++c)for(a=0,u=l[c];a<i;++a)if((o=r[a]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?iQ:aQ,a=0;a<i;++a)this.each(l(r[a],t,n));return this}function KO(e,t,n){var r=HO(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function lQ(e,t){return function(){return KO(this,e,t)}}function cQ(e,t){return function(){return KO(this,e,t.apply(this,arguments))}}function dQ(e,t){return this.each((typeof t=="function"?cQ:lQ)(e,t))}function*uQ(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var XO=[null];function Mn(e,t){this._groups=e,this._parents=t}function tm(){return new Mn([[document.documentElement]],XO)}function hQ(){return this}Mn.prototype=tm.prototype={constructor:Mn,select:LG,selectAll:BG,selectChild:WG,selectChildren:GG,filter:JG,data:nJ,enter:QG,exit:aJ,join:iJ,merge:oJ,selection:hQ,order:lJ,sort:cJ,call:uJ,nodes:hJ,node:mJ,size:fJ,empty:pJ,each:xJ,attr:bJ,style:TJ,property:MJ,classed:OJ,text:$J,html:HJ,raise:qJ,lower:YJ,append:KJ,insert:GJ,remove:QJ,clone:tQ,datum:sQ,on:oQ,dispatch:dQ,[Symbol.iterator]:uQ};function bn(e){return typeof e=="string"?new Mn([[document.querySelector(e)]],[document.documentElement]):new Mn([[e]],XO)}function mQ(e){let t;for(;t=e.sourceEvent;)e=t;return e}function mr(e,t){if(e=mQ(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const fQ={passive:!1},Qu={capture:!0,passive:!1};function qv(e){e.stopImmediatePropagation()}function hc(e){e.preventDefault(),e.stopImmediatePropagation()}function GO(e){var t=e.document.documentElement,n=bn(e).on("dragstart.drag",hc,Qu);"onselectstart"in t?n.on("selectstart.drag",hc,Qu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function JO(e,t){var n=e.document.documentElement,r=bn(e).on("dragstart.drag",null);t&&(r.on("click.drag",hc,Qu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wm=e=>()=>e;function g0(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:c,dy:d,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}g0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function pQ(e){return!e.ctrlKey&&!e.button}function xQ(){return this.parentNode}function gQ(e,t){return t??{x:e.x,y:e.y}}function vQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function QO(){var e=pQ,t=xQ,n=gQ,r=vQ,a={},i=yg("start","drag","end"),o=0,l,c,d,u,h=0;function f(N){N.on("mousedown.drag",x).filter(r).on("touchstart.drag",j).on("touchmove.drag",v,fQ).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(N,b){if(!(u||!e.call(this,N,b))){var C=w(this,t.call(this,N,b),N,b,"mouse");C&&(bn(N.view).on("mousemove.drag",g,Qu).on("mouseup.drag",p,Qu),GO(N.view),qv(N),d=!1,l=N.clientX,c=N.clientY,C("start",N))}}function g(N){if(hc(N),!d){var b=N.clientX-l,C=N.clientY-c;d=b*b+C*C>h}a.mouse("drag",N)}function p(N){bn(N.view).on("mousemove.drag mouseup.drag",null),JO(N.view,d),hc(N),a.mouse("end",N)}function j(N,b){if(e.call(this,N,b)){var C=N.changedTouches,S=t.call(this,N,b),P=C.length,A,F;for(A=0;A<P;++A)(F=w(this,S,N,b,C[A].identifier,C[A]))&&(qv(N),F("start",N,C[A]))}}function v(N){var b=N.changedTouches,C=b.length,S,P;for(S=0;S<C;++S)(P=a[b[S].identifier])&&(hc(N),P("drag",N,b[S]))}function y(N){var b=N.changedTouches,C=b.length,S,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<C;++S)(P=a[b[S].identifier])&&(qv(N),P("end",N,b[S]))}function w(N,b,C,S,P,A){var F=i.copy(),O=mr(A||C,b),_,$,I;if((I=n.call(N,new g0("beforestart",{sourceEvent:C,target:f,identifier:P,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:F}),S))!=null)return _=I.x-O[0]||0,$=I.y-O[1]||0,function k(T,M,R){var L=O,H;switch(T){case"start":a[P]=k,H=o++;break;case"end":delete a[P],--o;case"drag":O=mr(R||M,b),H=o;break}F.call(T,N,new g0(T,{sourceEvent:M,subject:I,target:f,identifier:P,active:H,x:O[0]+_,y:O[1]+$,dx:O[0]-L[0],dy:O[1]-L[1],dispatch:F}),S)}}return f.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Wm(!!N),f):e},f.container=function(N){return arguments.length?(t=typeof N=="function"?N:Wm(N),f):t},f.subject=function(N){return arguments.length?(n=typeof N=="function"?N:Wm(N),f):n},f.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:Wm(!!N),f):r},f.on=function(){var N=i.on.apply(i,arguments);return N===i?f:N},f.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,f):Math.sqrt(h)},f}function Ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ZO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sm(){}var Zu=.7,Up=1/Zu,mc="\\s*([+-]?\\d+)\\s*",eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yQ=/^#([0-9a-f]{3,8})$/,jQ=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),wQ=new RegExp(`^rgb\\(${qr},${qr},${qr}\\)$`),NQ=new RegExp(`^rgba\\(${mc},${mc},${mc},${eh}\\)$`),bQ=new RegExp(`^rgba\\(${qr},${qr},${qr},${eh}\\)$`),SQ=new RegExp(`^hsl\\(${eh},${qr},${qr}\\)$`),CQ=new RegExp(`^hsla\\(${eh},${qr},${qr},${eh}\\)$`),LE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ob(sm,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$E,formatHex:$E,formatHex8:EQ,formatHsl:TQ,formatRgb:VE,toString:VE});function $E(){return this.rgb().formatHex()}function EQ(){return this.rgb().formatHex8()}function TQ(){return eI(this).formatHsl()}function VE(){return this.rgb().formatRgb()}function Qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yQ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UE(t):n===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ym(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ym(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jQ.exec(e))?new nn(t[1],t[2],t[3],1):(t=wQ.exec(e))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NQ.exec(e))?Ym(t[1],t[2],t[3],t[4]):(t=bQ.exec(e))?Ym(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SQ.exec(e))?zE(t[1],t[2]/100,t[3]/100,1):(t=CQ.exec(e))?zE(t[1],t[2]/100,t[3]/100,t[4]):LE.hasOwnProperty(e)?UE(LE[e]):e==="transparent"?new nn(NaN,NaN,NaN,0):null}function UE(e){return new nn(e>>16&255,e>>8&255,e&255,1)}function Ym(e,t,n,r){return r<=0&&(e=t=n=NaN),new nn(e,t,n,r)}function PQ(e){return e instanceof sm||(e=Qo(e)),e?(e=e.rgb(),new nn(e.r,e.g,e.b,e.opacity)):new nn}function v0(e,t,n,r){return arguments.length===1?PQ(e):new nn(e,t,n,r??1)}function nn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ob(nn,v0,ZO(sm,{brighter(e){return e=e==null?Up:Math.pow(Up,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(Io(this.r),Io(this.g),Io(this.b),Bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BE,formatHex:BE,formatHex8:AQ,formatRgb:HE,toString:HE}));function BE(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function AQ(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function HE(){const e=Bp(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function Bp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yo(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function zE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pr(e,t,n,r)}function eI(e){if(e instanceof pr)return new pr(e.h,e.s,e.l,e.opacity);if(e instanceof sm||(e=Qo(e)),!e)return new pr;if(e instanceof pr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new pr(o,l,c,e.opacity)}function kQ(e,t,n,r){return arguments.length===1?eI(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ob(pr,kQ,ZO(sm,{brighter(e){return e=e==null?Up:Math.pow(Up,e),new pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new nn(Wv(e>=240?e-240:e+120,a,r),Wv(e,a,r),Wv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new pr(qE(this.h),Km(this.s),Km(this.l),Bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bp(this.opacity);return`${e===1?"hsl(":"hsla("}${qE(this.h)}, ${Km(this.s)*100}%, ${Km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qE(e){return e=(e||0)%360,e<0?e+360:e}function Km(e){return Math.max(0,Math.min(1,e||0))}function Wv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ib=e=>()=>e;function MQ(e,t){return function(n){return e+n*t}}function RQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DQ(e){return(e=+e)==1?tI:function(t,n){return n-t?RQ(t,n,e):Ib(isNaN(t)?n:t)}}function tI(e,t){var n=t-e;return n?MQ(e,n):Ib(isNaN(e)?t:e)}const Hp=function e(t){var n=DQ(t);function r(a,i){var o=n((a=v0(a)).r,(i=v0(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=tI(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=e,r}(1);function FQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function OQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=pu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function _Q(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function LQ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=pu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yv=new RegExp(y0.source,"g");function $Q(e){return function(){return e}}function VQ(e){return function(t){return e(t)+""}}function sI(e,t){var n=y0.lastIndex=Yv.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=y0.exec(e))&&(a=Yv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:$r(r,a)})),n=Yv.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?VQ(c[0].x):$Q(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function pu(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ib(t):(n==="number"?$r:n==="string"?(r=Qo(t))?(t=r,Hp):sI:t instanceof Qo?Hp:t instanceof Date?_Q:OQ(t)?FQ:Array.isArray(t)?IQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LQ:$r)(e,t)}var WE=180/Math.PI,j0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nI(e,t,n,r,a,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*WE,skewX:Math.atan(c)*WE,scaleX:o,scaleY:l}}var Xm;function UQ(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?j0:nI(t.a,t.b,t.c,t.d,t.e,t.f)}function BQ(e){return e==null||(Xm||(Xm=document.createElementNS("http://www.w3.org/2000/svg","g")),Xm.setAttribute("transform",e),!(e=Xm.transform.baseVal.consolidate()))?j0:(e=e.matrix,nI(e.a,e.b,e.c,e.d,e.e,e.f))}function rI(e,t,n,r){function a(d){return d.length?d.pop()+" ":""}function i(d,u,h,f,x,g){if(d!==h||u!==f){var p=x.push("translate(",null,t,null,n);g.push({i:p-4,x:$r(d,h)},{i:p-2,x:$r(u,f)})}else(h||f)&&x.push("translate("+h+t+f+n)}function o(d,u,h,f){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),f.push({i:h.push(a(h)+"rotate(",null,r)-2,x:$r(d,u)})):u&&h.push(a(h)+"rotate("+u+r)}function l(d,u,h,f){d!==u?f.push({i:h.push(a(h)+"skewX(",null,r)-2,x:$r(d,u)}):u&&h.push(a(h)+"skewX("+u+r)}function c(d,u,h,f,x,g){if(d!==h||u!==f){var p=x.push(a(x)+"scale(",null,",",null,")");g.push({i:p-4,x:$r(d,h)},{i:p-2,x:$r(u,f)})}else(h!==1||f!==1)&&x.push(a(x)+"scale("+h+","+f+")")}return function(d,u){var h=[],f=[];return d=e(d),u=e(u),i(d.translateX,d.translateY,u.translateX,u.translateY,h,f),o(d.rotate,u.rotate,h,f),l(d.skewX,u.skewX,h,f),c(d.scaleX,d.scaleY,u.scaleX,u.scaleY,h,f),d=u=null,function(x){for(var g=-1,p=f.length,j;++g<p;)h[(j=f[g]).i]=j.x(x);return h.join("")}}}var HQ=rI(UQ,"px, ","px)","deg)"),zQ=rI(BQ,", ",")",")"),qQ=1e-12;function YE(e){return((e=Math.exp(e))+1/e)/2}function WQ(e){return((e=Math.exp(e))-1/e)/2}function YQ(e){return((e=Math.exp(2*e))-1)/(e+1)}const Lf=function e(t,n,r){function a(i,o){var l=i[0],c=i[1],d=i[2],u=o[0],h=o[1],f=o[2],x=u-l,g=h-c,p=x*x+g*g,j,v;if(p<qQ)v=Math.log(f/d)/t,j=function(S){return[l+S*x,c+S*g,d*Math.exp(t*S*v)]};else{var y=Math.sqrt(p),w=(f*f-d*d+r*p)/(2*d*n*y),N=(f*f-d*d-r*p)/(2*f*n*y),b=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(N*N+1)-N);v=(C-b)/t,j=function(S){var P=S*v,A=YE(b),F=d/(n*y)*(A*YQ(t*P+b)-WQ(b));return[l+F*x,c+F*g,d*A/YE(t*P+b)]}}return j.duration=v*1e3*t/Math.SQRT2,j}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},a}(Math.SQRT2,2,4);var Vc=0,Jd=0,$d=0,aI=1e3,zp,Qd,qp=0,Zo=0,wg=0,th=typeof performance=="object"&&performance.now?performance:Date,iI=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _b(){return Zo||(iI(KQ),Zo=th.now()+wg)}function KQ(){Zo=0}function Wp(){this._call=this._time=this._next=null}Wp.prototype=oI.prototype={constructor:Wp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_b():+n)+(t==null?0:+t),!this._next&&Qd!==this&&(Qd?Qd._next=this:zp=this,Qd=this),this._call=e,this._time=n,w0()},stop:function(){this._call&&(this._call=null,this._time=1/0,w0())}};function oI(e,t,n){var r=new Wp;return r.restart(e,t,n),r}function XQ(){_b(),++Vc;for(var e=zp,t;e;)(t=Zo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vc}function KE(){Zo=(qp=th.now())+wg,Vc=Jd=0;try{XQ()}finally{Vc=0,JQ(),Zo=0}}function GQ(){var e=th.now(),t=e-qp;t>aI&&(wg-=t,qp=e)}function JQ(){for(var e,t=zp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zp=n);Qd=e,w0(r)}function w0(e){if(!Vc){Jd&&(Jd=clearTimeout(Jd));var t=e-Zo;t>24?(e<1/0&&(Jd=setTimeout(KE,e-th.now()-wg)),$d&&($d=clearInterval($d))):($d||(qp=th.now(),$d=setInterval(GQ,aI)),Vc=1,iI(KE))}}function XE(e,t,n){var r=new Wp;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var QQ=yg("start","end","cancel","interrupt"),ZQ=[],lI=0,GE=1,N0=2,$f=3,JE=4,b0=5,Vf=6;function Ng(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;eZ(e,n,{name:t,index:r,group:a,on:QQ,tween:ZQ,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:lI})}function Lb(e,t){var n=Mr(e,t);if(n.state>lI)throw new Error("too late; already scheduled");return n}function sa(e,t){var n=Mr(e,t);if(n.state>$f)throw new Error("too late; already running");return n}function Mr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function eZ(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=oI(i,0,n.time);function i(d){n.state=GE,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var u,h,f,x;if(n.state!==GE)return c();for(u in r)if(x=r[u],x.name===n.name){if(x.state===$f)return XE(o);x.state===JE?(x.state=Vf,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[u]):+u<t&&(x.state=Vf,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[u])}if(XE(function(){n.state===$f&&(n.state=JE,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=N0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===N0){for(n.state=$f,a=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(x=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++h]=x);a.length=h+1}}function l(d){for(var u=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=b0,1),h=-1,f=a.length;++h<f;)a[h].call(e,u);n.state===b0&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Vf,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Uf(e,t){var n=e.__transition,r,a,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>N0&&r.state<b0,r.state=Vf,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function tZ(e){return this.each(function(){Uf(this,e)})}function sZ(e,t){var n,r;return function(){var a=sa(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function nZ(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=sa(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,d=a.length;c<d;++c)if(a[c].name===t){a[c]=l;break}c===d&&a.push(l)}i.tween=a}}function rZ(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Mr(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?sZ:nZ)(n,e,t))}function $b(e,t,n){var r=e._id;return e.each(function(){var a=sa(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Mr(a,r).value[t]}}function cI(e,t){var n;return(typeof t=="number"?$r:t instanceof Qo?Hp:(n=Qo(t))?(t=n,Hp):sI)(e,t)}function aZ(e){return function(){this.removeAttribute(e)}}function iZ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oZ(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function lZ(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function cZ(e,t,n){var r,a,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?i:(a=c,i=t(r=o,l)))}}function dZ(e,t,n){var r,a,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?i:(a=c,i=t(r=o,l)))}}function uZ(e,t){var n=jg(e),r=n==="transform"?zQ:cI;return this.attrTween(e,typeof t=="function"?(n.local?dZ:cZ)(n,r,$b(this,"attr."+e,t)):t==null?(n.local?iZ:aZ)(n):(n.local?lZ:oZ)(n,r,t))}function hZ(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function mZ(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fZ(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&mZ(e,i)),n}return a._value=t,a}function pZ(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&hZ(e,i)),n}return a._value=t,a}function xZ(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=jg(e);return this.tween(n,(r.local?fZ:pZ)(r,t))}function gZ(e,t){return function(){Lb(this,e).delay=+t.apply(this,arguments)}}function vZ(e,t){return t=+t,function(){Lb(this,e).delay=t}}function yZ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gZ:vZ)(t,e)):Mr(this.node(),t).delay}function jZ(e,t){return function(){sa(this,e).duration=+t.apply(this,arguments)}}function wZ(e,t){return t=+t,function(){sa(this,e).duration=t}}function NZ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jZ:wZ)(t,e)):Mr(this.node(),t).duration}function bZ(e,t){if(typeof t!="function")throw new Error;return function(){sa(this,e).ease=t}}function SZ(e){var t=this._id;return arguments.length?this.each(bZ(t,e)):Mr(this.node(),t).ease}function CZ(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sa(this,e).ease=n}}function EZ(e){if(typeof e!="function")throw new Error;return this.each(CZ(this._id,e))}function TZ(e){typeof e!="function"&&(e=VO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],c,d=0;d<o;++d)(c=i[d])&&e.call(c,c.__data__,d,i)&&l.push(c);return new Ma(r,this._parents,this._name,this._id)}function PZ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var c=t[l],d=n[l],u=c.length,h=o[l]=new Array(u),f,x=0;x<u;++x)(f=c[x]||d[x])&&(h[x]=f);for(;l<r;++l)o[l]=t[l];return new Ma(o,this._parents,this._name,this._id)}function AZ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function kZ(e,t,n){var r,a,i=AZ(t)?Lb:sa;return function(){var o=i(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function MZ(e,t){var n=this._id;return arguments.length<2?Mr(this.node(),n).on.on(e):this.each(kZ(n,e,t))}function RZ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function DZ(){return this.on("end.remove",RZ(this._id))}function FZ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Db(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,d=i[o]=new Array(c),u,h,f=0;f<c;++f)(u=l[f])&&(h=e.call(u,u.__data__,f,l))&&("__data__"in u&&(h.__data__=u.__data__),d[f]=h,Ng(d[f],t,n,f,d,Mr(u,n)));return new Ma(i,this._parents,t,n)}function OZ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$O(e));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var c=r[l],d=c.length,u,h=0;h<d;++h)if(u=c[h]){for(var f=e.call(u,u.__data__,h,c),x,g=Mr(u,n),p=0,j=f.length;p<j;++p)(x=f[p])&&Ng(x,t,n,p,f,g);i.push(f),o.push(u)}return new Ma(i,o,t,n)}var IZ=tm.prototype.constructor;function _Z(){return new IZ(this._groups,this._parents)}function LZ(e,t){var n,r,a;return function(){var i=$c(this,e),o=(this.style.removeProperty(e),$c(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function dI(e){return function(){this.style.removeProperty(e)}}function $Z(e,t,n){var r,a=n+"",i;return function(){var o=$c(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function VZ(e,t,n){var r,a,i;return function(){var o=$c(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),$c(this,e))),o===c?null:o===r&&c===a?i:(a=c,i=t(r=o,l))}}function UZ(e,t){var n,r,a,i="style."+t,o="end."+i,l;return function(){var c=sa(this,e),d=c.on,u=c.value[i]==null?l||(l=dI(t)):void 0;(d!==n||a!==u)&&(r=(n=d).copy()).on(o,a=u),c.on=r}}function BZ(e,t,n){var r=(e+="")=="transform"?HQ:cI;return t==null?this.styleTween(e,LZ(e,r)).on("end.style."+e,dI(e)):typeof t=="function"?this.styleTween(e,VZ(e,r,$b(this,"style."+e,t))).each(UZ(this._id,e)):this.styleTween(e,$Z(e,r,t),n).on("end.style."+e,null)}function HZ(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zZ(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&HZ(e,o,n)),r}return i._value=t,i}function qZ(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,zZ(e,t,n??""))}function WZ(e){return function(){this.textContent=e}}function YZ(e){return function(){var t=e(this);this.textContent=t??""}}function KZ(e){return this.tween("text",typeof e=="function"?YZ($b(this,"text",e)):WZ(e==null?"":e+""))}function XZ(e){return function(t){this.textContent=e.call(this,t)}}function GZ(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&XZ(a)),t}return r._value=e,r}function JZ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,GZ(e))}function QZ(){for(var e=this._name,t=this._id,n=uI(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var u=Mr(c,t);Ng(c,e,n,d,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ma(r,this._parents,e,n)}function ZZ(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--a===0&&i()}};n.each(function(){var d=sa(this,r),u=d.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),d.on=t}),a===0&&i()})}var eee=0;function Ma(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function uI(){return++eee}var oa=tm.prototype;Ma.prototype={constructor:Ma,select:FZ,selectAll:OZ,selectChild:oa.selectChild,selectChildren:oa.selectChildren,filter:TZ,merge:PZ,selection:_Z,transition:QZ,call:oa.call,nodes:oa.nodes,node:oa.node,size:oa.size,empty:oa.empty,each:oa.each,on:MZ,attr:uZ,attrTween:xZ,style:BZ,styleTween:qZ,text:KZ,textTween:JZ,remove:DZ,tween:rZ,delay:yZ,duration:NZ,ease:SZ,easeVarying:EZ,end:ZZ,[Symbol.iterator]:oa[Symbol.iterator]};function tee(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var see={time:null,delay:0,duration:250,ease:tee};function nee(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ree(e){var t,n;e instanceof Ma?(t=e._id,e=e._name):(t=uI(),(n=see).time=_b(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,c,d=0;d<l;++d)(c=o[d])&&Ng(c,e,t,d,o,n||nee(c,t));return new Ma(r,this._parents,e,t)}tm.prototype.interrupt=tZ;tm.prototype.transition=ree;const Gm=e=>()=>e;function aee(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function va(e,t,n){this.k=e,this.x=t,this.y=n}va.prototype={constructor:va,scale:function(e){return e===1?this:new va(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new va(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bg=new va(1,0,0);hI.prototype=va.prototype;function hI(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bg;return e.__zoom}function Kv(e){e.stopImmediatePropagation()}function Vd(e){e.preventDefault(),e.stopImmediatePropagation()}function iee(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function oee(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function QE(){return this.__zoom||bg}function lee(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cee(){return navigator.maxTouchPoints||"ontouchstart"in this}function dee(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function mI(){var e=iee,t=oee,n=dee,r=lee,a=cee,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Lf,d=yg("start","zoom","end"),u,h,f,x=500,g=150,p=0,j=10;function v(I){I.property("__zoom",QE).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",F).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(I,k,T,M){var R=I.selection?I.selection():I;R.property("__zoom",QE),I!==R?b(I,k,T,M):R.interrupt().each(function(){C(this,arguments).event(M).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},v.scaleBy=function(I,k,T,M){v.scaleTo(I,function(){var R=this.__zoom.k,L=typeof k=="function"?k.apply(this,arguments):k;return R*L},T,M)},v.scaleTo=function(I,k,T,M){v.transform(I,function(){var R=t.apply(this,arguments),L=this.__zoom,H=T==null?N(R):typeof T=="function"?T.apply(this,arguments):T,V=L.invert(H),B=typeof k=="function"?k.apply(this,arguments):k;return n(w(y(L,B),H,V),R,o)},T,M)},v.translateBy=function(I,k,T,M){v.transform(I,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,M)},v.translateTo=function(I,k,T,M,R){v.transform(I,function(){var L=t.apply(this,arguments),H=this.__zoom,V=M==null?N(L):typeof M=="function"?M.apply(this,arguments):M;return n(bg.translate(V[0],V[1]).scale(H.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof T=="function"?-T.apply(this,arguments):-T),L,o)},M,R)};function y(I,k){return k=Math.max(i[0],Math.min(i[1],k)),k===I.k?I:new va(k,I.x,I.y)}function w(I,k,T){var M=k[0]-T[0]*I.k,R=k[1]-T[1]*I.k;return M===I.x&&R===I.y?I:new va(I.k,M,R)}function N(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function b(I,k,T,M){I.on("start.zoom",function(){C(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(M).end()}).tween("zoom",function(){var R=this,L=arguments,H=C(R,L).event(M),V=t.apply(R,L),B=T==null?N(V):typeof T=="function"?T.apply(R,L):T,W=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),Y=R.__zoom,X=typeof k=="function"?k.apply(R,L):k,ne=c(Y.invert(B).concat(W/Y.k),X.invert(B).concat(W/X.k));return function(se){if(se===1)se=X;else{var ce=ne(se),pe=W/ce[2];se=new va(pe,B[0]-ce[0]*pe,B[1]-ce[1]*pe)}H.zoom(null,se)}})}function C(I,k,T){return!T&&I.__zooming||new S(I,k)}function S(I,k){this.that=I,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(I,k),this.taps=0}S.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,k){return this.mouse&&I!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var k=bn(this.that).datum();d.call(I,this.that,new aee(I,{sourceEvent:this.sourceEvent,target:v,type:I,transform:this.that.__zoom,dispatch:d}),k)}};function P(I,...k){if(!e.apply(this,arguments))return;var T=C(this,k).event(I),M=this.__zoom,R=Math.max(i[0],Math.min(i[1],M.k*Math.pow(2,r.apply(this,arguments)))),L=mr(I);if(T.wheel)(T.mouse[0][0]!==L[0]||T.mouse[0][1]!==L[1])&&(T.mouse[1]=M.invert(T.mouse[0]=L)),clearTimeout(T.wheel);else{if(M.k===R)return;T.mouse=[L,M.invert(L)],Uf(this),T.start()}Vd(I),T.wheel=setTimeout(H,g),T.zoom("mouse",n(w(y(M,R),T.mouse[0],T.mouse[1]),T.extent,o));function H(){T.wheel=null,T.end()}}function A(I,...k){if(f||!e.apply(this,arguments))return;var T=I.currentTarget,M=C(this,k,!0).event(I),R=bn(I.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",W,!0),L=mr(I,T),H=I.clientX,V=I.clientY;GO(I.view),Kv(I),M.mouse=[L,this.__zoom.invert(L)],Uf(this),M.start();function B(Y){if(Vd(Y),!M.moved){var X=Y.clientX-H,ne=Y.clientY-V;M.moved=X*X+ne*ne>p}M.event(Y).zoom("mouse",n(w(M.that.__zoom,M.mouse[0]=mr(Y,T),M.mouse[1]),M.extent,o))}function W(Y){R.on("mousemove.zoom mouseup.zoom",null),JO(Y.view,M.moved),Vd(Y),M.event(Y).end()}}function F(I,...k){if(e.apply(this,arguments)){var T=this.__zoom,M=mr(I.changedTouches?I.changedTouches[0]:I,this),R=T.invert(M),L=T.k*(I.shiftKey?.5:2),H=n(w(y(T,L),M,R),t.apply(this,k),o);Vd(I),l>0?bn(this).transition().duration(l).call(b,H,M,I):bn(this).call(v.transform,H,M,I)}}function O(I,...k){if(e.apply(this,arguments)){var T=I.touches,M=T.length,R=C(this,k,I.changedTouches.length===M).event(I),L,H,V,B;for(Kv(I),H=0;H<M;++H)V=T[H],B=mr(V,this),B=[B,this.__zoom.invert(B),V.identifier],R.touch0?!R.touch1&&R.touch0[2]!==B[2]&&(R.touch1=B,R.taps=0):(R.touch0=B,L=!0,R.taps=1+!!u);u&&(u=clearTimeout(u)),L&&(R.taps<2&&(h=B[0],u=setTimeout(function(){u=null},x)),Uf(this),R.start())}}function _(I,...k){if(this.__zooming){var T=C(this,k).event(I),M=I.changedTouches,R=M.length,L,H,V,B;for(Vd(I),L=0;L<R;++L)H=M[L],V=mr(H,this),T.touch0&&T.touch0[2]===H.identifier?T.touch0[0]=V:T.touch1&&T.touch1[2]===H.identifier&&(T.touch1[0]=V);if(H=T.that.__zoom,T.touch1){var W=T.touch0[0],Y=T.touch0[1],X=T.touch1[0],ne=T.touch1[1],se=(se=X[0]-W[0])*se+(se=X[1]-W[1])*se,ce=(ce=ne[0]-Y[0])*ce+(ce=ne[1]-Y[1])*ce;H=y(H,Math.sqrt(se/ce)),V=[(W[0]+X[0])/2,(W[1]+X[1])/2],B=[(Y[0]+ne[0])/2,(Y[1]+ne[1])/2]}else if(T.touch0)V=T.touch0[0],B=T.touch0[1];else return;T.zoom("touch",n(w(H,V,B),T.extent,o))}}function $(I,...k){if(this.__zooming){var T=C(this,k).event(I),M=I.changedTouches,R=M.length,L,H;for(Kv(I),f&&clearTimeout(f),f=setTimeout(function(){f=null},x),L=0;L<R;++L)H=M[L],T.touch0&&T.touch0[2]===H.identifier?delete T.touch0:T.touch1&&T.touch1[2]===H.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(H=mr(H,this),Math.hypot(h[0]-H[0],h[1]-H[1])<j)){var V=bn(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return v.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:Gm(+I),v):r},v.filter=function(I){return arguments.length?(e=typeof I=="function"?I:Gm(!!I),v):e},v.touchable=function(I){return arguments.length?(a=typeof I=="function"?I:Gm(!!I),v):a},v.extent=function(I){return arguments.length?(t=typeof I=="function"?I:Gm([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),v):t},v.scaleExtent=function(I){return arguments.length?(i[0]=+I[0],i[1]=+I[1],v):[i[0],i[1]]},v.translateExtent=function(I){return arguments.length?(o[0][0]=+I[0][0],o[1][0]=+I[1][0],o[0][1]=+I[0][1],o[1][1]=+I[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(I){return arguments.length?(n=I,v):n},v.duration=function(I){return arguments.length?(l=+I,v):l},v.interpolate=function(I){return arguments.length?(c=I,v):c},v.on=function(){var I=d.on.apply(d,arguments);return I===d?v:I},v.clickDistance=function(I){return arguments.length?(p=(I=+I)*I,v):Math.sqrt(p)},v.tapDistance=function(I){return arguments.length?(j=+I,v):j},v}const Gr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},sh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fI=["Enter"," ","Escape"],pI={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var el;(function(e){e.Strict="strict",e.Loose="loose"})(el||(el={}));var _o;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_o||(_o={}));var nh;(function(e){e.Partial="partial",e.Full="full"})(nh||(nh={}));const xI={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ai;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ai||(ai={}));var xr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(xr||(xr={}));var Te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Te||(Te={}));const ZE={[Te.Left]:Te.Right,[Te.Right]:Te.Left,[Te.Top]:Te.Bottom,[Te.Bottom]:Te.Top};function gI(e){return e===null?null:e?"valid":"invalid"}const vI=e=>"id"in e&&"source"in e&&"target"in e,uee=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Vb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nm=(e,t=[0,0])=>{const{width:n,height:r}=$a(e),a=e.origin??t,i=n*a[0],o=r*a[1];return{x:e.position.x-i,y:e.position.y-o}},hee=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const i=typeof a=="string";let o=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(a):Vb(a)?a:t.nodeLookup.get(a.id));const l=o?Yp(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sg(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cg(n)},rm=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const a=Yp(r);n=Sg(n,a)}}),Cg(n)},Ub=(e,t,[n,r,a]=[0,0,1],i=!1,o=!1)=>{const l={...am(t,[n,r,a]),width:t.width/a,height:t.height/a},c=[];for(const d of e.values()){const{measured:u,selectable:h=!0,hidden:f=!1}=d;if(o&&!h||f)continue;const x=u.width??d.width??d.initialWidth??null,g=u.height??d.height??d.initialHeight??null,p=rh(l,Bc(d)),j=(x??0)*(g??0),v=i&&p>0;(!d.internals.handleBounds||v||p>=j||d.dragging)&&c.push(d)}return c},mee=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function fee(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!r||r.has(a.id))&&n.set(a.id,a)}),n}async function pee({nodes:e,width:t,height:n,panZoom:r,minZoom:a,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=fee(e,o),c=rm(l),d=Bb(c,t,n,(o==null?void 0:o.minZoom)??a,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(d,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function yI({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:a,onError:i}){const o=n.get(e),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let h=o.extent||a;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",Gr.error005());else{const x=l.measured.width,g=l.measured.height;x&&g&&(h=[[c,d],[c+x,d+g]])}else l&&Hc(o.extent)&&(h=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const f=Hc(h)?tl(t,h,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",Gr.error015())),{position:{x:f.x-c+(o.measured.width??0)*u[0],y:f.y-d+(o.measured.height??0)*u[1]},positionAbsolute:f}}async function xee({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:a}){const i=new Set(e.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const x=i.has(f.id),g=!x&&f.parentId&&o.find(p=>p.id===f.parentId);(x||g)&&o.push(f)}const l=new Set(t.map(f=>f.id)),c=r.filter(f=>f.deletable!==!1),u=mee(o,c);for(const f of c)l.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!a)return{edges:u,nodes:o};const h=await a({nodes:o,edges:u});return typeof h=="boolean"?h?{edges:u,nodes:o}:{edges:[],nodes:[]}:h}const Uc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),tl=(e={x:0,y:0},t,n)=>({x:Uc(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Uc(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function jI(e,t,n){const{width:r,height:a}=$a(n),{x:i,y:o}=n.internals.positionAbsolute;return tl(e,[[i,o],[i+r,o+a]],t)}const e2=(e,t,n)=>e<t?Uc(Math.abs(e-t),1,t)/t:e>n?-Uc(Math.abs(e-n),1,t)/t:0,wI=(e,t,n=15,r=40)=>{const a=e2(e.x,r,t.width-r)*n,i=e2(e.y,r,t.height-r)*n;return[a,i]},Sg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),S0=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Cg=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Bc=(e,t=[0,0])=>{var a,i;const{x:n,y:r}=Vb(e)?e.internals.positionAbsolute:nm(e,t);return{x:n,y:r,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Yp=(e,t=[0,0])=>{var a,i;const{x:n,y:r}=Vb(e)?e.internals.positionAbsolute:nm(e,t);return{x:n,y:r,x2:n+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},NI=(e,t)=>Cg(Sg(S0(e),S0(t))),rh=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},t2=e=>gr(e.width)&&gr(e.height)&&gr(e.x)&&gr(e.y),gr=e=>!isNaN(e)&&isFinite(e),gee=(e,t)=>{},Eg=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),am=({x:e,y:t},[n,r,a],i=!1,o=[1,1])=>{const l={x:(e-n)/a,y:(t-r)/a};return i?Eg(l,o):l},Kp=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r});function Nl(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function vee(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Nl(e,n),a=Nl(e,t);return{top:r,right:a,bottom:r,left:a,x:a*2,y:r*2}}if(typeof e=="object"){const r=Nl(e.top??e.y??0,n),a=Nl(e.bottom??e.y??0,n),i=Nl(e.left??e.x??0,t),o=Nl(e.right??e.x??0,t);return{top:r,right:o,bottom:a,left:i,x:i+o,y:r+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function yee(e,t,n,r,a,i){const{x:o,y:l}=Kp(e,[t,n,r]),{x:c,y:d}=Kp({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=a-c,h=i-d;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(h)}}const Bb=(e,t,n,r,a,i)=>{const o=vee(i,t,n),l=(t-o.x)/e.width,c=(n-o.y)/e.height,d=Math.min(l,c),u=Uc(d,r,a),h=e.x+e.width/2,f=e.y+e.height/2,x=t/2-h*u,g=n/2-f*u,p=yee(e,x,g,u,t,n),j={left:Math.min(p.left-o.left,0),top:Math.min(p.top-o.top,0),right:Math.min(p.right-o.right,0),bottom:Math.min(p.bottom-o.bottom,0)};return{x:x-j.left+j.right,y:g-j.top+j.bottom,zoom:u}},Xp=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Hc(e){return e!==void 0&&e!=="parent"}function $a(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function bI(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function SI(e,t={width:0,height:0},n,r,a){const i={...e},o=r.get(n);if(o){const l=o.origin||a;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function s2(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function jee(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function wee(e){return{...pI,...e||{}}}function xu(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:a}){const{x:i,y:o}=Ur(e),l=am({x:i-((a==null?void 0:a.left)??0),y:o-((a==null?void 0:a.top)??0)},r),{x:c,y:d}=n?Eg(l,t):l;return{xSnapped:c,ySnapped:d,...l}}const Hb=e=>({width:e.offsetWidth,height:e.offsetHeight}),CI=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Nee=["INPUT","SELECT","TEXTAREA"];function EI(e){var r,a;const t=((a=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Nee.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const TI=e=>"clientX"in e,Ur=(e,t)=>{var i,o;const n=TI(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},n2=(e,t,n,r,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:a,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Hb(o)}})};function PI({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:o,targetControlY:l}){const c=e*.125+a*.375+o*.375+n*.125,d=t*.125+i*.375+l*.375+r*.125,u=Math.abs(c-e),h=Math.abs(d-t);return[c,d,u,h]}function Jm(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function r2({pos:e,x1:t,y1:n,x2:r,y2:a,c:i}){switch(e){case Te.Left:return[t-Jm(t-r,i),n];case Te.Right:return[t+Jm(r-t,i),n];case Te.Top:return[t,n-Jm(n-a,i)];case Te.Bottom:return[t,n+Jm(a-n,i)]}}function zb({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:a,targetPosition:i=Te.Top,curvature:o=.25}){const[l,c]=r2({pos:n,x1:e,y1:t,x2:r,y2:a,c:o}),[d,u]=r2({pos:i,x1:r,y1:a,x2:e,y2:t,c:o}),[h,f,x,g]=PI({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return[`M${e},${t} C${l},${c} ${d},${u} ${r},${a}`,h,f,x,g]}function AI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,i=n<e?n+a:n-a,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,a,o]}function bee({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:a=!1}){if(r!==void 0)return r;const i=a&&n?1e3:0,o=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return i+o}function See({sourceNode:e,targetNode:t,width:n,height:r,transform:a}){const i=Sg(Yp(e),Yp(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:r/a[2]};return rh(o,Cg(i))>0}const Cee=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Eee=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Gp=(e,t)=>{if(!e.source||!e.target)return t;let n;return vI(e)?n={...e}:n={...e,id:Cee(e)},Eee(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function kI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,i,o,l]=AI({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,i,o,l]}const a2={[Te.Left]:{x:-1,y:0},[Te.Right]:{x:1,y:0},[Te.Top]:{x:0,y:-1},[Te.Bottom]:{x:0,y:1}},Tee=({source:e,sourcePosition:t=Te.Bottom,target:n})=>t===Te.Left||t===Te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},i2=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Pee({source:e,sourcePosition:t=Te.Bottom,target:n,targetPosition:r=Te.Top,center:a,offset:i,stepPosition:o}){const l=a2[t],c=a2[r],d={x:e.x+l.x*i,y:e.y+l.y*i},u={x:n.x+c.x*i,y:n.y+c.y*i},h=Tee({source:d,sourcePosition:t,target:u}),f=h.x!==0?"x":"y",x=h[f];let g=[],p,j;const v={x:0,y:0},y={x:0,y:0},[,,w,N]=AI({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*c[f]===-1){f==="x"?(p=a.x??d.x+(u.x-d.x)*o,j=a.y??(d.y+u.y)/2):(p=a.x??(d.x+u.x)/2,j=a.y??d.y+(u.y-d.y)*o);const C=[{x:p,y:d.y},{x:p,y:u.y}],S=[{x:d.x,y:j},{x:u.x,y:j}];l[f]===x?g=f==="x"?C:S:g=f==="x"?S:C}else{const C=[{x:d.x,y:u.y}],S=[{x:u.x,y:d.y}];if(f==="x"?g=l.x===x?S:C:g=l.y===x?C:S,t===r){const _=Math.abs(e[f]-n[f]);if(_<=i){const $=Math.min(i-1,i-_);l[f]===x?v[f]=(d[f]>e[f]?-1:1)*$:y[f]=(u[f]>n[f]?-1:1)*$}}if(t!==r){const _=f==="x"?"y":"x",$=l[f]===c[_],I=d[_]>u[_],k=d[_]<u[_];(l[f]===1&&(!$&&I||$&&k)||l[f]!==1&&(!$&&k||$&&I))&&(g=f==="x"?C:S)}const P={x:d.x+v.x,y:d.y+v.y},A={x:u.x+y.x,y:u.y+y.y},F=Math.max(Math.abs(P.x-g[0].x),Math.abs(A.x-g[0].x)),O=Math.max(Math.abs(P.y-g[0].y),Math.abs(A.y-g[0].y));F>=O?(p=(P.x+A.x)/2,j=g[0].y):(p=g[0].x,j=(P.y+A.y)/2)}return[[e,{x:d.x+v.x,y:d.y+v.y},...g,{x:u.x+y.x,y:u.y+y.y},n],p,j,w,N]}function Aee(e,t,n,r){const a=Math.min(i2(e,t)/2,i2(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const d=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+a*d},${o}Q ${i},${o} ${i},${o+a*u}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+a*c}Q ${i},${o} ${i+a*l},${o}`}function C0({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:a,targetPosition:i=Te.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20,stepPosition:u=.5}){const[h,f,x,g,p]=Pee({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:i,center:{x:l,y:c},offset:d,stepPosition:u});return[h.reduce((v,y,w)=>{let N="";return w>0&&w<h.length-1?N=Aee(h[w-1],y,h[w+1],o):N=`${w===0?"M":"L"}${y.x} ${y.y}`,v+=N,v},""),f,x,g,p]}function o2(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function kee(e){var h;const{sourceNode:t,targetNode:n}=e;if(!o2(t)||!o2(n))return null;const r=t.internals.handleBounds||l2(t.handles),a=n.internals.handleBounds||l2(n.handles),i=c2((r==null?void 0:r.source)??[],e.sourceHandle),o=c2(e.connectionMode===el.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!o)return(h=e.onError)==null||h.call(e,"008",Gr.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Te.Bottom,c=(o==null?void 0:o.position)||Te.Top,d=ah(t,i,l),u=ah(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:c}}function l2(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function ah(e,t,n=Te.Left,r=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??$a(e);if(r)return{x:a+o/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case Te.Top:return{x:a+o/2,y:i};case Te.Right:return{x:a+o,y:i+l/2};case Te.Bottom:return{x:a+o/2,y:i+l};case Te.Left:return{x:a,y:i+l/2}}}function c2(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function E0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Mee(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:a}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||r,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const d=E0(c,t);i.has(d)||(o.push({id:d,color:c.color||n,...c}),i.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const qb={nodeOrigin:[0,0],nodeExtent:sh,elevateNodesOnSelect:!0,defaults:{}},Ree={...qb,checkEquality:!0};function Wb(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Dee(e,t,n){const r=Wb(qb,n);for(const a of e.values())if(a.parentId)Yb(a,e,t,r);else{const i=nm(a,r.nodeOrigin),o=Hc(a.extent)?a.extent:r.nodeExtent,l=tl(i,o,$a(a));a.internals.positionAbsolute=l}}function T0(e,t,n,r){var c,d;const a=Wb(Ree,r);let i=e.length>0;const o=new Map(t),l=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let h=o.get(u.id);if(a.checkEquality&&u===(h==null?void 0:h.internals.userNode))t.set(u.id,h);else{const f=nm(u,a.nodeOrigin),x=Hc(u.extent)?u.extent:a.nodeExtent,g=tl(f,x,$a(u));h={...a.defaults,...u,measured:{width:(c=u.measured)==null?void 0:c.width,height:(d=u.measured)==null?void 0:d.height},internals:{positionAbsolute:g,handleBounds:u.measured?h==null?void 0:h.internals.handleBounds:void 0,z:MI(u,l),userNode:u}},t.set(u.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(i=!1),u.parentId&&Yb(h,t,n,r)}return i}function Fee(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Yb(e,t,n,r){const{elevateNodesOnSelect:a,nodeOrigin:i,nodeExtent:o}=Wb(qb,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Fee(e,n);const d=a?1e3:0,{x:u,y:h,z:f}=Oee(e,c,i,o,d),{positionAbsolute:x}=e.internals,g=u!==x.x||h!==x.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:h}:x,z:f}})}function MI(e,t){return(gr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Oee(e,t,n,r,a){const{x:i,y:o}=t.internals.positionAbsolute,l=$a(e),c=nm(e,n),d=Hc(e.extent)?tl(c,e.extent,l):c;let u=tl({x:i+d.x,y:o+d.y},r,l);e.extent==="parent"&&(u=jI(u,l,t));const h=MI(e,a),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>=h?f+1:h}}function Kb(e,t,n,r=[0,0]){var o;const a=[],i=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const d=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??Bc(c),u=NI(d,l.rect);i.set(l.parentId,{expandedRect:u,parent:c})}return i.size>0&&i.forEach(({expandedRect:l,parent:c},d)=>{var w;const u=c.internals.positionAbsolute,h=$a(c),f=c.origin??r,x=l.x<u.x?Math.round(Math.abs(u.x-l.x)):0,g=l.y<u.y?Math.round(Math.abs(u.y-l.y)):0,p=Math.max(h.width,Math.round(l.width)),j=Math.max(h.height,Math.round(l.height)),v=(p-h.width)*f[0],y=(j-h.height)*f[1];(x>0||g>0||v||y)&&(a.push({id:d,type:"position",position:{x:c.position.x-x+v,y:c.position.y-g+y}}),(w=n.get(d))==null||w.forEach(N=>{e.some(b=>b.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+x,y:N.position.y+g}})})),(h.width<l.width||h.height<l.height||x||g)&&a.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:p+(x?f[0]*x-v:0),height:j+(g?f[1]*g-y:0)}})}),a}function Iee(e,t,n,r,a,i){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const f of e.values()){const x=t.get(f.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const g=Hb(f.nodeElement),p=x.measured.width!==g.width||x.measured.height!==g.height;if(!!(g.width&&g.height&&(p||!x.internals.handleBounds||f.force))){const v=f.nodeElement.getBoundingClientRect(),y=Hc(x.extent)?x.extent:i;let{positionAbsolute:w}=x.internals;x.parentId&&x.extent==="parent"?w=jI(w,g,t.get(x.parentId)):y&&(w=tl(w,y,g));const N={...x,measured:g,internals:{...x.internals,positionAbsolute:w,handleBounds:{source:n2("source",f.nodeElement,v,u,x.id),target:n2("target",f.nodeElement,v,u,x.id)}}};t.set(x.id,N),x.parentId&&Yb(N,t,n,{nodeOrigin:a}),l=!0,p&&(c.push({id:x.id,type:"dimensions",dimensions:g}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Bc(N,a)}))}}if(h.length>0){const f=Kb(h,t,n,a);c.push(...f)}return{changes:c,updatedInternals:l}}async function _ee({delta:e,panZoom:t,transform:n,translateExtent:r,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,i]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function d2(e,t,n,r,a,i){let o=a;const l=r.get(o)||new Map;r.set(o,l.set(n,t)),o=`${a}-${e}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,t)),i){o=`${a}-${e}-${i}`;const d=r.get(o)||new Map;r.set(o,d.set(n,t))}}function RI(e,t,n){e.clear(),t.clear();for(const r of n){const{source:a,target:i,sourceHandle:o=null,targetHandle:l=null}=r,c={edgeId:r.id,source:a,target:i,sourceHandle:o,targetHandle:l},d=`${a}-${o}--${i}-${l}`,u=`${i}-${l}--${a}-${o}`;d2("source",c,u,e,a,o),d2("target",c,d,e,i,l),t.set(r.id,r)}}function DI(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:DI(n,t):!1}function u2(e,t,n){var a;let r=e;do{if((a=r==null?void 0:r.matches)!=null&&a.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Lee(e,t,n,r){const a=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!DI(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&a.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Xv({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,l,c;const a=[];for(const[d,u]of t){const h=(o=n.get(d))==null?void 0:o.internals.userNode;h&&a.push({...h,position:u.position,dragging:r})}if(!e)return[a[0],a];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:r}:a[0],a]}function $ee({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:a}){let i={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},u=null,h=!1,f=null,x=!1,g=!1;function p({noDragClassName:v,handleSelector:y,domNode:w,isSelectable:N,nodeId:b,nodeClickDistance:C=0}){f=bn(w);function S({x:O,y:_},$){const{nodeLookup:I,nodeExtent:k,snapGrid:T,snapToGrid:M,nodeOrigin:R,onNodeDrag:L,onSelectionDrag:H,onError:V,updateNodePositions:B}=t();i={x:O,y:_};let W=!1,Y={x:0,y:0,x2:0,y2:0};if(l.size>1&&k){const X=rm(l);Y=S0(X)}for(const[X,ne]of l){if(!I.has(X))continue;let se={x:O-ne.distance.x,y:_-ne.distance.y};M&&(se=Eg(se,T));let ce=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(l.size>1&&k&&!ne.extent){const{positionAbsolute:he}=ne.internals,ye=he.x-Y.x+k[0][0],Ne=he.x+ne.measured.width-Y.x2+k[1][0],Pe=he.y-Y.y+k[0][1],Ye=he.y+ne.measured.height-Y.y2+k[1][1];ce=[[ye,Pe],[Ne,Ye]]}const{position:pe,positionAbsolute:we}=yI({nodeId:X,nextPosition:se,nodeLookup:I,nodeExtent:ce,nodeOrigin:R,onError:V});W=W||ne.position.x!==pe.x||ne.position.y!==pe.y,ne.position=pe,ne.internals.positionAbsolute=we}if(g=g||W,!!W&&(B(l,!0),$&&(r||L||!b&&H))){const[X,ne]=Xv({nodeId:b,dragItems:l,nodeLookup:I});r==null||r($,l,X,ne),L==null||L($,X,ne),b||H==null||H($,ne)}}async function P(){if(!u)return;const{transform:O,panBy:_,autoPanSpeed:$,autoPanOnNodeDrag:I}=t();if(!I){c=!1,cancelAnimationFrame(o);return}const[k,T]=wI(d,u,$);(k!==0||T!==0)&&(i.x=(i.x??0)-k/O[2],i.y=(i.y??0)-T/O[2],await _({x:k,y:T})&&S(i,null)),o=requestAnimationFrame(P)}function A(O){var W;const{nodeLookup:_,multiSelectionActive:$,nodesDraggable:I,transform:k,snapGrid:T,snapToGrid:M,selectNodesOnDrag:R,onNodeDragStart:L,onSelectionDragStart:H,unselectNodesAndEdges:V}=t();h=!0,(!R||!N)&&!$&&b&&((W=_.get(b))!=null&&W.selected||V()),N&&R&&b&&(e==null||e(b));const B=xu(O.sourceEvent,{transform:k,snapGrid:T,snapToGrid:M,containerBounds:u});if(i=B,l=Lee(_,I,B,b),l.size>0&&(n||L||!b&&H)){const[Y,X]=Xv({nodeId:b,dragItems:l,nodeLookup:_});n==null||n(O.sourceEvent,l,Y,X),L==null||L(O.sourceEvent,Y,X),b||H==null||H(O.sourceEvent,X)}}const F=QO().clickDistance(C).on("start",O=>{const{domNode:_,nodeDragThreshold:$,transform:I,snapGrid:k,snapToGrid:T}=t();u=(_==null?void 0:_.getBoundingClientRect())||null,x=!1,g=!1,$===0&&A(O),i=xu(O.sourceEvent,{transform:I,snapGrid:k,snapToGrid:T,containerBounds:u}),d=Ur(O.sourceEvent,u)}).on("drag",O=>{const{autoPanOnNodeDrag:_,transform:$,snapGrid:I,snapToGrid:k,nodeDragThreshold:T,nodeLookup:M}=t(),R=xu(O.sourceEvent,{transform:$,snapGrid:I,snapToGrid:k,containerBounds:u});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||b&&!M.has(b))&&(x=!0),!x){if(!c&&_&&h&&(c=!0,P()),!h){const L=R.xSnapped-(i.x??0),H=R.ySnapped-(i.y??0);Math.sqrt(L*L+H*H)>T&&A(O)}(i.x!==R.xSnapped||i.y!==R.ySnapped)&&l&&h&&(d=Ur(O.sourceEvent,u),S(R,O.sourceEvent))}}).on("end",O=>{if(!(!h||x)&&(c=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:_,updateNodePositions:$,onNodeDragStop:I,onSelectionDragStop:k}=t();if(g&&($(l,!1),g=!1),a||I||!b&&k){const[T,M]=Xv({nodeId:b,dragItems:l,nodeLookup:_,dragging:!1});a==null||a(O.sourceEvent,l,T,M),I==null||I(O.sourceEvent,T,M),b||k==null||k(O.sourceEvent,M)}}}).filter(O=>{const _=O.target;return!O.button&&(!v||!u2(_,`.${v}`,w))&&(!y||u2(_,y,w))});f.call(F)}function j(){f==null||f.on(".drag",null)}return{update:p,destroy:j}}function Vee(e,t,n){const r=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())rh(a,Bc(i))>0&&r.push(i);return r}const Uee=250;function Bee(e,t,n,r){var l,c;let a=[],i=1/0;const o=Vee(e,n,t+Uee);for(const d of o){const u=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((c=d.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:x}=ah(d,h,h.position,!0),g=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(x-e.y,2));g>t||(g<i?(a=[{...h,x:f,y:x}],i=g):g===i&&a.push({...h,x:f,y:x}))}}if(!a.length)return null;if(a.length>1){const d=r.type==="source"?"target":"source";return a.find(u=>u.type===d)??a[0]}return a[0]}function FI(e,t,n,r,a,i=!1){var d,u,h;const o=r.get(e);if(!o)return null;const l=a==="strict"?(d=o.internals.handleBounds)==null?void 0:d[t]:[...((u=o.internals.handleBounds)==null?void 0:u.source)??[],...((h=o.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?l==null?void 0:l.find(f=>f.id===n):l==null?void 0:l[0])??null;return c&&i?{...c,...ah(o,c,c.position,!0)}:c}function OI(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Hee(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const II=()=>!0;function zee(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:a,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:u,flowId:h,panBy:f,cancelConnection:x,onConnectStart:g,onConnect:p,onConnectEnd:j,isValidConnection:v=II,onReconnectEnd:y,updateConnection:w,getTransform:N,getFromHandle:b,autoPanSpeed:C,dragThreshold:S=1}){const P=CI(e.target);let A=0,F;const{x:O,y:_}=Ur(e),$=P==null?void 0:P.elementFromPoint(O,_),I=OI(i,$),k=l==null?void 0:l.getBoundingClientRect();let T=!1;if(!k||!I)return;const M=FI(a,I,r,c,t);if(!M)return;let R=Ur(e,k),L=!1,H=null,V=!1,B=null;function W(){if(!u||!k)return;const[he,ye]=wI(R,k,C);f({x:he,y:ye}),A=requestAnimationFrame(W)}const Y={...M,nodeId:a,type:I,position:M.position},X=c.get(a);let se={inProgress:!0,isValid:null,from:ah(X,Y,Te.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:X,to:R,toHandle:null,toPosition:ZE[Y.position],toNode:null};function ce(){T=!0,w(se),g==null||g(e,{nodeId:a,handleId:r,handleType:I})}S===0&&ce();function pe(he){if(!T){const{x:Ye,y:ze}=Ur(he),Rt=Ye-O,Zt=ze-_;if(!(Rt*Rt+Zt*Zt>S*S))return;ce()}if(!b()||!Y){we(he);return}const ye=N();R=Ur(he,k),F=Bee(am(R,ye,!1,[1,1]),n,c,Y),L||(W(),L=!0);const Ne=_I(he,{handle:F,connectionMode:t,fromNodeId:a,fromHandleId:r,fromType:o?"target":"source",isValidConnection:v,doc:P,lib:d,flowId:h,nodeLookup:c});B=Ne.handleDomNode,H=Ne.connection,V=Hee(!!F,Ne.isValid);const Pe={...se,isValid:V,to:Ne.toHandle&&V?Kp({x:Ne.toHandle.x,y:Ne.toHandle.y},ye):R,toHandle:Ne.toHandle,toPosition:V&&Ne.toHandle?Ne.toHandle.position:ZE[Y.position],toNode:Ne.toHandle?c.get(Ne.toHandle.nodeId):null};V&&F&&se.toHandle&&Pe.toHandle&&se.toHandle.type===Pe.toHandle.type&&se.toHandle.nodeId===Pe.toHandle.nodeId&&se.toHandle.id===Pe.toHandle.id&&se.to.x===Pe.to.x&&se.to.y===Pe.to.y||(w(Pe),se=Pe)}function we(he){if(T){(F||B)&&H&&V&&(p==null||p(H));const{inProgress:ye,...Ne}=se,Pe={...Ne,toPosition:se.toHandle?se.toPosition:null};j==null||j(he,Pe),i&&(y==null||y(he,Pe))}x(),cancelAnimationFrame(A),L=!1,V=!1,H=null,B=null,P.removeEventListener("mousemove",pe),P.removeEventListener("mouseup",we),P.removeEventListener("touchmove",pe),P.removeEventListener("touchend",we)}P.addEventListener("mousemove",pe),P.addEventListener("mouseup",we),P.addEventListener("touchmove",pe),P.addEventListener("touchend",we)}function _I(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:a,fromType:i,doc:o,lib:l,flowId:c,isValidConnection:d=II,nodeLookup:u}){const h=i==="target",f=t?o.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:g}=Ur(e),p=o.elementFromPoint(x,g),j=p!=null&&p.classList.contains(`${l}-flow__handle`)?p:f,v={handleDomNode:j,isValid:!1,connection:null,toHandle:null};if(j){const y=OI(void 0,j),w=j.getAttribute("data-nodeid"),N=j.getAttribute("data-handleid"),b=j.classList.contains("connectable"),C=j.classList.contains("connectableend");if(!w||!y)return v;const S={source:h?w:r,sourceHandle:h?N:a,target:h?r:w,targetHandle:h?a:N};v.connection=S;const A=b&&C&&(n===el.Strict?h&&y==="source"||!h&&y==="target":w!==r||N!==a);v.isValid=A&&d(S),v.toHandle=FI(w,y,N,u,n,!0)}return v}const P0={onPointerDown:zee,isValid:_I};function qee({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const a=bn(e);function i({translateExtent:l,width:c,height:d,zoomStep:u=10,pannable:h=!0,zoomable:f=!0,inversePan:x=!1}){const g=w=>{const N=n();if(w.sourceEvent.type!=="wheel"||!t)return;const b=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*u,C=N[2]*Math.pow(2,b);t.scaleTo(C)};let p=[0,0];const j=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(p=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},v=w=>{const N=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const b=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],C=[b[0]-p[0],b[1]-p[1]];p=b;const S=r()*Math.max(N[2],Math.log(N[2]))*(x?-1:1),P={x:N[0]-C[0]*S,y:N[1]-C[1]*S},A=[[0,0],[c,d]];t.setViewportConstrained({x:P.x,y:P.y,zoom:N[2]},A,l)},y=mI().on("start",j).on("zoom",h?v:null).on("zoom.wheel",f?g:null);a.call(y,{})}function o(){a.on("zoom",null)}return{update:i,destroy:o,pointer:mr}}const Wee=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Tg=e=>({x:e.x,y:e.y,zoom:e.k}),Gv=({x:e,y:t,zoom:n})=>bg.translate(e,t).scale(n),zl=(e,t)=>e.target.closest(`.${t}`),LI=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Yee=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Jv=(e,t=0,n=Yee,r=()=>{})=>{const a=typeof t=="number"&&t>0;return a||r(),a?e.transition().duration(t).ease(n).on("end",r):e},$I=e=>{const t=e.ctrlKey&&Xp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Kee({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return u=>{if(zl(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(u.ctrlKey&&o){const j=mr(u),v=$I(u),y=h*Math.pow(2,v);r.scaleTo(n,y,j,u);return}const f=u.deltaMode===1?20:1;let x=a===_o.Vertical?0:u.deltaX*f,g=a===_o.Horizontal?0:u.deltaY*f;!Xp()&&u.shiftKey&&a!==_o.Vertical&&(x=u.deltaY*f,g=0),r.translateBy(n,-(x/h)*i,-(g/h)*i,{internal:!0});const p=Tg(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(u,p)),e.isPanScrolling&&(c==null||c(u,p),e.panScrollTimeout=setTimeout(()=>{d==null||d(u,p),e.isPanScrolling=!1},150))}}function Xee({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,a){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,l=zl(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),o||l)return null;r.preventDefault(),n.call(this,r,a)}}function Gee({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,l;if((i=r.sourceEvent)!=null&&i.internal)return;const a=Tg(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,a))}}function Jee({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:a}){return i=>{var o,l;e.usedRightMouseButton=!!(n&&LI(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),a&&!((l=i.sourceEvent)!=null&&l.internal)&&(a==null||a(i.sourceEvent,Tg(i.transform)))}}function Qee({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:a,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&LI(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),a&&Wee(e.prevViewport,o.transform))){const c=Tg(o.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(o.sourceEvent,c)},n?150:0)}}}function Zee({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return u=>{var g;const h=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(zl(u,`${d}-flow__node`)||zl(u,`${d}-flow__edge`)))return!0;if(!r&&!h&&!a&&!i&&!n||o||zl(u,l)&&u.type==="wheel"||zl(u,c)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((g=u.touches)==null?void 0:g.length)>1)return u.preventDefault(),!1;if(!h&&!a&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&x}}function ete({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:a,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),f=mI().clickDistance(!gr(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(a),x=bn(e).call(f);w({x:i.x,y:i.y,zoom:Uc(i.zoom,t,n)},[[0,0],[h.width,h.height]],a);const g=x.on("wheel.zoom"),p=x.on("dblclick.zoom");f.wheelDelta($I);function j(_,$){return x?new Promise(I=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?pu:Lf).transform(Jv(x,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),_)}):Promise.resolve(!1)}function v({noWheelClassName:_,noPanClassName:$,onPaneContextMenu:I,userSelectionActive:k,panOnScroll:T,panOnDrag:M,panOnScrollMode:R,panOnScrollSpeed:L,preventScrolling:H,zoomOnPinch:V,zoomOnScroll:B,zoomOnDoubleClick:W,zoomActivationKeyPressed:Y,lib:X,onTransformChange:ne}){k&&!u.isZoomingOrPanning&&y();const ce=T&&!Y&&!k?Kee({zoomPanValues:u,noWheelClassName:_,d3Selection:x,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:L,zoomOnPinch:V,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):Xee({noWheelClassName:_,preventScrolling:H,d3ZoomHandler:g});if(x.on("wheel.zoom",ce,{passive:!1}),!k){const we=Gee({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:l});f.on("start",we);const he=Jee({zoomPanValues:u,panOnDrag:M,onPaneContextMenu:!!I,onPanZoom:o,onTransformChange:ne});f.on("zoom",he);const ye=Qee({zoomPanValues:u,panOnDrag:M,panOnScroll:T,onPaneContextMenu:I,onPanZoomEnd:c,onDraggingChange:d});f.on("end",ye)}const pe=Zee({zoomActivationKeyPressed:Y,panOnDrag:M,zoomOnScroll:B,panOnScroll:T,zoomOnDoubleClick:W,zoomOnPinch:V,userSelectionActive:k,noPanClassName:$,noWheelClassName:_,lib:X});f.filter(pe),W?x.on("dblclick.zoom",p):x.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function w(_,$,I){const k=Gv(_),T=f==null?void 0:f.constrain()(k,$,I);return T&&await j(T),new Promise(M=>M(T))}async function N(_,$){const I=Gv(_);return await j(I,$),new Promise(k=>k(I))}function b(_){if(x){const $=Gv(_),I=x.property("__zoom");(I.k!==_.zoom||I.x!==_.x||I.y!==_.y)&&(f==null||f.transform(x,$,null,{sync:!0}))}}function C(){const _=x?hI(x.node()):{x:0,y:0,k:1};return{x:_.x,y:_.y,zoom:_.k}}function S(_,$){return x?new Promise(I=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?pu:Lf).scaleTo(Jv(x,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),_)}):Promise.resolve(!1)}function P(_,$){return x?new Promise(I=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?pu:Lf).scaleBy(Jv(x,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>I(!0)),_)}):Promise.resolve(!1)}function A(_){f==null||f.scaleExtent(_)}function F(_){f==null||f.translateExtent(_)}function O(_){const $=!gr(_)||_<0?0:_;f==null||f.clickDistance($)}return{update:v,destroy:y,setViewport:N,setViewportConstrained:w,getViewport:C,scaleTo:S,scaleBy:P,setScaleExtent:A,setTranslateExtent:F,syncViewport:b,setClickDistance:O}}var zc;(function(e){e.Line="line",e.Handle="handle"})(zc||(zc={}));function tte({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:a,affectsY:i}){const o=e-t,l=n-r,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&a&&(c[0]=c[0]*-1),l&&i&&(c[1]=c[1]*-1),c}function ste(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:a}}function Wa(e,t){return Math.max(0,t-e)}function Ya(e,t){return Math.max(0,e-t)}function Qm(e,t,n){return Math.max(0,t-e,e-n)}function h2(e,t){return e?!t:t}function nte(e,t,n,r,a,i,o,l){let{affectsX:c,affectsY:d}=t;const{isHorizontal:u,isVertical:h}=t,f=u&&h,{xSnapped:x,ySnapped:g}=n,{minWidth:p,maxWidth:j,minHeight:v,maxHeight:y}=r,{x:w,y:N,width:b,height:C,aspectRatio:S}=e;let P=Math.floor(u?x-e.pointerX:0),A=Math.floor(h?g-e.pointerY:0);const F=b+(c?-P:P),O=C+(d?-A:A),_=-i[0]*b,$=-i[1]*C;let I=Qm(F,p,j),k=Qm(O,v,y);if(o){let R=0,L=0;c&&P<0?R=Wa(w+P+_,o[0][0]):!c&&P>0&&(R=Ya(w+F+_,o[1][0])),d&&A<0?L=Wa(N+A+$,o[0][1]):!d&&A>0&&(L=Ya(N+O+$,o[1][1])),I=Math.max(I,R),k=Math.max(k,L)}if(l){let R=0,L=0;c&&P>0?R=Ya(w+P,l[0][0]):!c&&P<0&&(R=Wa(w+F,l[1][0])),d&&A>0?L=Ya(N+A,l[0][1]):!d&&A<0&&(L=Wa(N+O,l[1][1])),I=Math.max(I,R),k=Math.max(k,L)}if(a){if(u){const R=Qm(F/S,v,y)*S;if(I=Math.max(I,R),o){let L=0;!c&&!d||c&&!d&&f?L=Ya(N+$+F/S,o[1][1])*S:L=Wa(N+$+(c?P:-P)/S,o[0][1])*S,I=Math.max(I,L)}if(l){let L=0;!c&&!d||c&&!d&&f?L=Wa(N+F/S,l[1][1])*S:L=Ya(N+(c?P:-P)/S,l[0][1])*S,I=Math.max(I,L)}}if(h){const R=Qm(O*S,p,j)/S;if(k=Math.max(k,R),o){let L=0;!c&&!d||d&&!c&&f?L=Ya(w+O*S+_,o[1][0])/S:L=Wa(w+(d?A:-A)*S+_,o[0][0])/S,k=Math.max(k,L)}if(l){let L=0;!c&&!d||d&&!c&&f?L=Wa(w+O*S,l[1][0])/S:L=Ya(w+(d?A:-A)*S,l[0][0])/S,k=Math.max(k,L)}}}A=A+(A<0?k:-k),P=P+(P<0?I:-I),a&&(f?F>O*S?A=(h2(c,d)?-P:P)/S:P=(h2(c,d)?-A:A)*S:u?(A=P/S,d=c):(P=A*S,c=d));const T=c?w+P:w,M=d?N+A:N;return{width:b+(c?-P:P),height:C+(d?-A:A),x:i[0]*P*(c?-1:1)+T,y:i[1]*A*(d?-1:1)+M}}const VI={width:0,height:0,x:0,y:0},rte={...VI,pointerX:0,pointerY:0,aspectRatio:1};function ate(e){return[[0,0],[e.measured.width,e.measured.height]]}function ite(e,t,n){const r=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=n[0]*i,c=n[1]*o;return[[r-l,a-c],[r+i-l,a+o-c]]}function ote({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:a}){const i=bn(e);function o({controlPosition:c,boundaries:d,keepAspectRatio:u,resizeDirection:h,onResizeStart:f,onResize:x,onResizeEnd:g,shouldResize:p}){let j={...VI},v={...rte};const y=ste(c);let w,N=null,b=[],C,S,P;const A=QO().on("start",F=>{const{nodeLookup:O,transform:_,snapGrid:$,snapToGrid:I,nodeOrigin:k,paneDomNode:T}=n();if(w=O.get(t),!w)return;N=(T==null?void 0:T.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:R}=xu(F.sourceEvent,{transform:_,snapGrid:$,snapToGrid:I,containerBounds:N});j={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},v={...j,pointerX:M,pointerY:R,aspectRatio:j.width/j.height},C=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(C=O.get(w.parentId),S=C&&w.extent==="parent"?ate(C):void 0),b=[],P=void 0;for(const[L,H]of O)if(H.parentId===t&&(b.push({id:L,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const V=ite(H,w,H.origin??k);P?P=[[Math.min(V[0][0],P[0][0]),Math.min(V[0][1],P[0][1])],[Math.max(V[1][0],P[1][0]),Math.max(V[1][1],P[1][1])]]:P=V}f==null||f(F,{...j})}).on("drag",F=>{const{transform:O,snapGrid:_,snapToGrid:$,nodeOrigin:I}=n(),k=xu(F.sourceEvent,{transform:O,snapGrid:_,snapToGrid:$,containerBounds:N}),T=[];if(!w)return;const{x:M,y:R,width:L,height:H}=j,V={},B=w.origin??I,{width:W,height:Y,x:X,y:ne}=nte(v,y,k,d,u,B,S,P),se=W!==L,ce=Y!==H,pe=X!==M&&se,we=ne!==R&&ce;if(!pe&&!we&&!se&&!ce)return;if((pe||we||B[0]===1||B[1]===1)&&(V.x=pe?X:j.x,V.y=we?ne:j.y,j.x=V.x,j.y=V.y,b.length>0)){const Pe=X-M,Ye=ne-R;for(const ze of b)ze.position={x:ze.position.x-Pe+B[0]*(W-L),y:ze.position.y-Ye+B[1]*(Y-H)},T.push(ze)}if((se||ce)&&(V.width=se&&(!h||h==="horizontal")?W:j.width,V.height=ce&&(!h||h==="vertical")?Y:j.height,j.width=V.width,j.height=V.height),C&&w.expandParent){const Pe=B[0]*(V.width??0);V.x&&V.x<Pe&&(j.x=Pe,v.x=v.x-(V.x-Pe));const Ye=B[1]*(V.height??0);V.y&&V.y<Ye&&(j.y=Ye,v.y=v.y-(V.y-Ye))}const he=tte({width:j.width,prevWidth:L,height:j.height,prevHeight:H,affectsX:y.affectsX,affectsY:y.affectsY}),ye={...j,direction:he};(p==null?void 0:p(F,ye))!==!1&&(x==null||x(F,ye),r(V,T))}).on("end",F=>{g==null||g(F,{...j}),a==null||a({...j})});i.call(A)}function l(){i.on(".drag",null)}return{update:o,destroy:l}}var UI={exports:{}},BI={},HI={exports:{}},zI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=m;function lte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cte=typeof Object.is=="function"?Object.is:lte,dte=qc.useState,ute=qc.useEffect,hte=qc.useLayoutEffect,mte=qc.useDebugValue;function fte(e,t){var n=t(),r=dte({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return hte(function(){a.value=n,a.getSnapshot=t,Qv(a)&&i({inst:a})},[e,n,t]),ute(function(){return Qv(a)&&i({inst:a}),e(function(){Qv(a)&&i({inst:a})})},[e]),mte(n),n}function Qv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cte(e,n)}catch{return!0}}function pte(e,t){return t()}var xte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pte:fte;zI.useSyncExternalStore=qc.useSyncExternalStore!==void 0?qc.useSyncExternalStore:xte;HI.exports=zI;var gte=HI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=m,vte=gte;function yte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jte=typeof Object.is=="function"?Object.is:yte,wte=vte.useSyncExternalStore,Nte=Pg.useRef,bte=Pg.useEffect,Ste=Pg.useMemo,Cte=Pg.useDebugValue;BI.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=Nte(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ste(function(){function c(x){if(!d){if(d=!0,u=x,x=r(x),a!==void 0&&o.hasValue){var g=o.value;if(a(g,x))return h=g}return h=x}if(g=h,jte(u,x))return g;var p=r(x);return a!==void 0&&a(g,p)?(u=x,g):(u=x,h=p)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=wte(e,i[0],i[1]);return bte(function(){o.hasValue=!0,o.value=l},[l]),Cte(l),l};UI.exports=BI;var Ete=UI.exports;const Tte=Dw(Ete),Pte={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},m2=e=>{let t;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const x=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,x))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Pte?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,a,c);return c},Ate=e=>e?m2(e):m2,{useDebugValue:kte}=bt,{useSyncExternalStoreWithSelector:Mte}=Tte,Rte=e=>e;function qI(e,t=Rte,n){const r=Mte(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return kte(r),r}const f2=(e,t)=>{const n=Ate(e),r=(a,i=t)=>qI(n,a,i);return Object.assign(r,n),r},Dte=(e,t)=>e?f2(e,t):f2;function Qt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Ag=m.createContext(null),Fte=Ag.Provider,WI=Gr.error001();function ot(e,t){const n=m.useContext(Ag);if(n===null)throw new Error(WI);return qI(n,e,t)}function zt(){const e=m.useContext(Ag);if(e===null)throw new Error(WI);return m.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const p2={display:"none"},Ote={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},YI="react-flow__node-desc",KI="react-flow__edge-desc",Ite="react-flow__aria-live",_te=e=>e.ariaLiveMessage,Lte=e=>e.ariaLabelConfig;function $te({rfId:e}){const t=ot(_te);return s.jsx("div",{id:`${Ite}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ote,children:t})}function Vte({rfId:e,disableKeyboardA11y:t}){const n=ot(Lte);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${YI}-${e}`,style:p2,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${KI}-${e}`,style:p2,children:n["edge.a11yDescription.default"]}),!t&&s.jsx($te,{rfId:e})]})}const Wc=m.forwardRef(({position:e="top-left",children:t,className:n,style:r,...a},i)=>{const o=`${e}`.split("-");return s.jsx("div",{className:ds(["react-flow__panel",n,...o]),style:r,ref:i,...a,children:t})});Wc.displayName="Panel";function Ute({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:s.jsx(Wc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Bte=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Zm=e=>e.id;function Hte(e,t){return Qt(e.selectedNodes.map(Zm),t.selectedNodes.map(Zm))&&Qt(e.selectedEdges.map(Zm),t.selectedEdges.map(Zm))}function zte({onSelectionChange:e}){const t=zt(),{selectedNodes:n,selectedEdges:r}=ot(Bte,Hte);return m.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[n,r,e]),null}const qte=e=>!!e.onSelectionChangeHandlers;function Wte({onSelectionChange:e}){const t=ot(qte);return e||t?s.jsx(zte,{onSelectionChange:e}):null}const XI=[0,0],Yte={x:0,y:0,zoom:1},Kte=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],x2=[...Kte,"rfId"],Xte=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),g2={translateExtent:sh,nodeOrigin:XI,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Gte(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=ot(Xte,Qt),u=zt();m.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=g2,l()}),[]);const h=m.useRef(g2);return m.useEffect(()=>{for(const f of x2){const x=e[f],g=h.current[f];x!==g&&(typeof e[f]>"u"||(f==="nodes"?t(x):f==="edges"?n(x):f==="minZoom"?r(x):f==="maxZoom"?a(x):f==="translateExtent"?i(x):f==="nodeExtent"?o(x):f==="paneClickDistance"?d(x):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:wee(x)}):f==="fitView"?u.setState({fitViewQueued:x}):f==="fitViewOptions"?u.setState({fitViewOptions:x}):u.setState({[f]:x})))}h.current=e},x2.map(f=>e[f])),null}function v2(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Jte(e){var r;const[t,n]=m.useState(e==="system"?null:e);return m.useEffect(()=>{if(e!=="system"){n(e);return}const a=v2(),i=()=>n(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(r=v2())!=null&&r.matches?"dark":"light"}const y2=typeof document<"u"?document:null;function ih(e=null,t={target:y2,actInsideInputWithModifier:!0}){const[n,r]=m.useState(!1),a=m.useRef(!1),i=m.useRef(new Set([])),[o,l]=m.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=d.reduce((h,f)=>h.concat(...f),[]);return[d,u]}return[[],[]]},[e]);return m.useEffect(()=>{const c=(t==null?void 0:t.target)??y2,d=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=x=>{var j,v;if(a.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!a.current||a.current&&!d)&&EI(x))return!1;const p=w2(x.code,l);if(i.current.add(x[p]),j2(o,i.current,!1)){const y=((v=(j=x.composedPath)==null?void 0:j.call(x))==null?void 0:v[0])||x.target,w=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(a.current||!w)&&x.preventDefault(),r(!0)}},h=x=>{const g=w2(x.code,l);j2(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[g]),x.key==="Meta"&&i.current.clear(),a.current=!1},f=()=>{i.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",h),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",h),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function j2(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function w2(e,t){return t.includes(e)?"code":"key"}const Qte=()=>{const e=zt();return m.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,a,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??a,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:a,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),c=Bb(t,r,a,i,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:a,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:c}=o.getBoundingClientRect(),d={x:t.x-l,y:t.y-c},u=n.snapGrid??a,h=n.snapToGrid??i;return am(d,r,h,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:i}=r.getBoundingClientRect(),o=Kp(t,n);return{x:o.x+a,y:o.y+i}}}),[])};function GI(e,t){const n=[],r=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...i};for(const c of o)Zte(c,l);n.push(l)}return a.length&&a.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Zte(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function JI(e,t){return GI(e,t)}function QI(e,t){return GI(e,t)}function co(e,t){return{id:e,type:"select",selected:t}}function ql(e,t=new Set,n=!1){const r=[];for(const[a,i]of e){const o=t.has(a);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(co(i.id,o)))}return r}function N2({items:e=[],lookup:t}){var a;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function b2(e){return{id:e.id,type:"remove"}}const S2=e=>uee(e),ese=e=>vI(e);function ZI(e){return m.forwardRef(e)}const tse=typeof window<"u"?m.useLayoutEffect:m.useEffect;function C2(e){const[t,n]=m.useState(BigInt(0)),[r]=m.useState(()=>sse(()=>n(a=>a+BigInt(1))));return tse(()=>{const a=r.get();a.length&&(e(a),r.reset())},[t]),r}function sse(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const e_=m.createContext(null);function nse({children:e}){const t=zt(),n=m.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:u,onNodesChange:h,nodeLookup:f,fitViewQueued:x}=t.getState();let g=c;for(const j of l)g=typeof j=="function"?j(g):j;const p=N2({items:g,lookup:f});u&&d(g),p.length>0?h==null||h(p):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:j,nodes:v,setNodes:y}=t.getState();j&&y(v)})},[]),r=C2(n),a=m.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:u,onEdgesChange:h,edgeLookup:f}=t.getState();let x=c;for(const g of l)x=typeof g=="function"?g(x):g;u?d(x):h&&h(N2({items:x,lookup:f}))},[]),i=C2(a),o=m.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return s.jsx(e_.Provider,{value:o,children:e})}function rse(){const e=m.useContext(e_);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const ase=e=>!!e.panZoom;function na(){const e=Qte(),t=zt(),n=rse(),r=ot(ase),a=m.useMemo(()=>{const i=h=>t.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{var v,y;const{nodeLookup:f,nodeOrigin:x}=t.getState(),g=S2(h)?h:f.get(h.id),p=g.parentId?SI(g.position,g.measured,g.parentId,f,x):g.position,j={...g,position:p,width:((v=g.measured)==null?void 0:v.width)??g.width,height:((y=g.measured)==null?void 0:y.height)??g.height};return Bc(j)},d=(h,f,x={replace:!1})=>{o(g=>g.map(p=>{if(p.id===h){const j=typeof f=="function"?f(p):f;return x.replace&&S2(j)?j:{...p,...j}}return p}))},u=(h,f,x={replace:!1})=>{l(g=>g.map(p=>{if(p.id===h){const j=typeof f=="function"?f(p):f;return x.replace&&ese(j)?j:{...p,...j}}return p}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var f;return(f=i(h))==null?void 0:f.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(f=>({...f}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const f=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...f])},addEdges:h=>{const f=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...f])},toObject:()=>{const{nodes:h=[],edges:f=[],transform:x}=t.getState(),[g,p,j]=x;return{nodes:h.map(v=>({...v})),edges:f.map(v=>({...v})),viewport:{x:g,y:p,zoom:j}}},deleteElements:async({nodes:h=[],edges:f=[]})=>{const{nodes:x,edges:g,onNodesDelete:p,onEdgesDelete:j,triggerNodeChanges:v,triggerEdgeChanges:y,onDelete:w,onBeforeDelete:N}=t.getState(),{nodes:b,edges:C}=await xee({nodesToRemove:h,edgesToRemove:f,nodes:x,edges:g,onBeforeDelete:N}),S=C.length>0,P=b.length>0;if(S){const A=C.map(b2);j==null||j(C),y(A)}if(P){const A=b.map(b2);p==null||p(b),v(A)}return(P||S)&&(w==null||w({nodes:b,edges:C})),{deletedNodes:b,deletedEdges:C}},getIntersectingNodes:(h,f=!0,x)=>{const g=t2(h),p=g?h:c(h),j=x!==void 0;return p?(x||t.getState().nodes).filter(v=>{const y=t.getState().nodeLookup.get(v.id);if(y&&!g&&(v.id===h.id||!y.internals.positionAbsolute))return!1;const w=Bc(j?v:y),N=rh(w,p);return f&&N>0||N>=w.width*w.height||N>=p.width*p.height}):[]},isNodeIntersecting:(h,f,x=!0)=>{const p=t2(h)?h:c(h);if(!p)return!1;const j=rh(p,f);return x&&j>0||j>=p.width*p.height},updateNode:d,updateNodeData:(h,f,x={replace:!1})=>{d(h,g=>{const p=typeof f=="function"?f(g):f;return x.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},x)},updateEdge:u,updateEdgeData:(h,f,x={replace:!1})=>{u(h,g=>{const p=typeof f=="function"?f(g):f;return x.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},x)},getNodesBounds:h=>{const{nodeLookup:f,nodeOrigin:x}=t.getState();return hee(h,{nodeLookup:f,nodeOrigin:x})},getHandleConnections:({type:h,id:f,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}-${h}${f?`-${f}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:h,handleId:f,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}${h?f?`-${h}-${f}`:`-${h}`:""}`))==null?void 0:g.values())??[])},fitView:async h=>{const f=t.getState().fitViewResolver??jee();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:f}),n.nodeQueue.push(x=>[...x]),f.promise}}},[]);return m.useMemo(()=>({...a,...e,viewportInitialized:r}),[r])}const E2=e=>e.selected,ise=typeof window<"u"?window:void 0;function ose({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=zt(),{deleteElements:r}=na(),a=ih(e,{actInsideInputWithModifier:!1}),i=ih(t,{target:ise});m.useEffect(()=>{if(a){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(E2),edges:o.filter(E2)}),n.setState({nodesSelectionActive:!1})}},[a]),m.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function lse(e){const t=zt();m.useEffect(()=>{const n=()=>{var a,i;if(!e.current)return!1;const r=Hb(e.current);(r.height===0||r.width===0)&&((i=(a=t.getState()).onError)==null||i.call(a,"004",Gr.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const kg={position:"absolute",width:"100%",height:"100%",top:0,left:0},cse=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function dse({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=_o.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:u,maxZoom:h,zoomActivationKeyCode:f,preventScrolling:x=!0,children:g,noWheelClassName:p,noPanClassName:j,onViewportChange:v,isControlledViewport:y,paneClickDistance:w}){const N=zt(),b=m.useRef(null),{userSelectionActive:C,lib:S}=ot(cse,Qt),P=ih(f),A=m.useRef();lse(b);const F=m.useCallback(O=>{v==null||v({x:O[0],y:O[1],zoom:O[2]}),y||N.setState({transform:O})},[v,y]);return m.useEffect(()=>{if(b.current){A.current=ete({domNode:b.current,minZoom:u,maxZoom:h,translateExtent:d,viewport:c,paneClickDistance:w,onDraggingChange:I=>N.setState({paneDragging:I}),onPanZoomStart:(I,k)=>{const{onViewportChangeStart:T,onMoveStart:M}=N.getState();M==null||M(I,k),T==null||T(k)},onPanZoom:(I,k)=>{const{onViewportChange:T,onMove:M}=N.getState();M==null||M(I,k),T==null||T(k)},onPanZoomEnd:(I,k)=>{const{onViewportChangeEnd:T,onMoveEnd:M}=N.getState();M==null||M(I,k),T==null||T(k)}});const{x:O,y:_,zoom:$}=A.current.getViewport();return N.setState({panZoom:A.current,transform:[O,_,$],domNode:b.current.closest(".react-flow")}),()=>{var I;(I=A.current)==null||I.destroy()}}},[]),m.useEffect(()=>{var O;(O=A.current)==null||O.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:j,userSelectionActive:C,noWheelClassName:p,lib:S,onTransformChange:F})},[e,t,n,r,a,i,o,l,P,x,j,C,p,S,F]),s.jsx("div",{className:"react-flow__renderer",ref:b,style:kg,children:g})}const use=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function hse(){const{userSelectionActive:e,userSelectionRect:t}=ot(use,Qt);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Zv=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},mse=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function fse({isSelecting:e,selectionKeyPressed:t,selectionMode:n=nh.Full,panOnDrag:r,selectionOnDrag:a,onSelectionStart:i,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:u,onPaneMouseMove:h,onPaneMouseLeave:f,children:x}){const g=zt(),{userSelectionActive:p,elementsSelectable:j,dragging:v,connectionInProgress:y}=ot(mse,Qt),w=j&&(e||p),N=m.useRef(null),b=m.useRef(),C=m.useRef(new Set),S=m.useRef(new Set),P=m.useRef(!1),A=m.useRef(!1),F=M=>{if(P.current||y){P.current=!1;return}l==null||l(M),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},O=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}c==null||c(M)},_=d?M=>d(M):void 0,$=M=>{var B,W;const{resetSelectedElements:R,domNode:L}=g.getState();if(b.current=L==null?void 0:L.getBoundingClientRect(),!j||!e||M.button!==0||M.target!==N.current||!b.current)return;(W=(B=M.target)==null?void 0:B.setPointerCapture)==null||W.call(B,M.pointerId),A.current=!0,P.current=!1;const{x:H,y:V}=Ur(M.nativeEvent,b.current);R(),g.setState({userSelectionRect:{width:0,height:0,startX:H,startY:V,x:H,y:V}}),i==null||i(M)},I=M=>{const{userSelectionRect:R,transform:L,nodeLookup:H,edgeLookup:V,connectionLookup:B,triggerNodeChanges:W,triggerEdgeChanges:Y,defaultEdgeOptions:X}=g.getState();if(!b.current||!R)return;P.current=!0;const{x:ne,y:se}=Ur(M.nativeEvent,b.current),{startX:ce,startY:pe}=R,we={startX:ce,startY:pe,x:ne<ce?ne:ce,y:se<pe?se:pe,width:Math.abs(ne-ce),height:Math.abs(se-pe)},he=C.current,ye=S.current;C.current=new Set(Ub(H,we,L,n===nh.Partial,!0).map(Pe=>Pe.id)),S.current=new Set;const Ne=(X==null?void 0:X.selectable)??!0;for(const Pe of C.current){const Ye=B.get(Pe);if(Ye)for(const{edgeId:ze}of Ye.values()){const Rt=V.get(ze);Rt&&(Rt.selectable??Ne)&&S.current.add(ze)}}if(!s2(he,C.current)){const Pe=ql(H,C.current,!0);W(Pe)}if(!s2(ye,S.current)){const Pe=ql(V,S.current);Y(Pe)}g.setState({userSelectionRect:we,userSelectionActive:!0,nodesSelectionActive:!1})},k=M=>{var L,H;if(M.button!==0||!A.current)return;(H=(L=M.target)==null?void 0:L.releasePointerCapture)==null||H.call(L,M.pointerId);const{userSelectionRect:R}=g.getState();!p&&R&&M.target===N.current&&(F==null||F(M)),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:C.current.size>0}),o==null||o(M),(t||a)&&(P.current=!1),A.current=!1},T=r===!0||Array.isArray(r)&&r.includes(0);return s.jsxs("div",{className:ds(["react-flow__pane",{draggable:T,dragging:v,selection:e}]),onClick:w?void 0:Zv(F,N),onContextMenu:Zv(O,N),onWheel:Zv(_,N),onPointerEnter:w?void 0:u,onPointerDown:w?$:h,onPointerMove:w?I:h,onPointerUp:w?k:void 0,onPointerLeave:f,ref:N,style:kg,children:[x,s.jsx(hse,{})]})}function A0({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:c}=t.getState(),d=l.get(e);if(!d){c==null||c("012",Gr.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):a([e])}function t_({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:i,nodeClickDistance:o}){const l=zt(),[c,d]=m.useState(!1),u=m.useRef();return m.useEffect(()=>{u.current=$ee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{A0({id:h,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),m.useEffect(()=>{var h,f;if(t)(h=u.current)==null||h.destroy();else if(e.current)return(f=u.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:o}),()=>{var x;(x=u.current)==null||x.destroy()}},[n,r,t,i,e,a]),c}const pse=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function s_(){const e=zt();return m.useCallback(n=>{const{nodeExtent:r,snapToGrid:a,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:u}=e.getState(),h=new Map,f=pse(o),x=a?i[0]:5,g=a?i[1]:5,p=n.direction.x*x*n.factor,j=n.direction.y*g*n.factor;for(const[,v]of d){if(!f(v))continue;let y={x:v.internals.positionAbsolute.x+p,y:v.internals.positionAbsolute.y+j};a&&(y=Eg(y,i));const{position:w,positionAbsolute:N}=yI({nodeId:v.id,nextPosition:y,nodeLookup:d,nodeExtent:r,nodeOrigin:u,onError:l});v.position=w,v.internals.positionAbsolute=N,h.set(v.id,v)}c(h)},[])}const Xb=m.createContext(null),xse=Xb.Provider;Xb.Consumer;const n_=()=>m.useContext(Xb),gse=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),vse=(e,t,n)=>r=>{const{connectionClickStartHandle:a,connectionMode:i,connection:o}=r,{fromHandle:l,toHandle:c,isValid:d}=o,u=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:u,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,isPossibleEndHandle:i===el.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&d}};function yse({type:e="source",position:t=Te.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:u,onTouchStart:h,...f},x){var k,T;const g=o||null,p=e==="target",j=zt(),v=n_(),{connectOnClick:y,noPanClassName:w,rfId:N}=ot(gse,Qt),{connectingFrom:b,connectingTo:C,clickConnecting:S,isPossibleEndHandle:P,connectionInProcess:A,clickConnectionInProcess:F,valid:O}=ot(vse(v,g,e),Qt);v||(T=(k=j.getState()).onError)==null||T.call(k,"010",Gr.error010());const _=M=>{const{defaultEdgeOptions:R,onConnect:L,hasDefaultEdges:H}=j.getState(),V={...R,...M};if(H){const{edges:B,setEdges:W}=j.getState();W(Gp(V,B))}L==null||L(V),l==null||l(V)},$=M=>{if(!v)return;const R=TI(M.nativeEvent);if(a&&(R&&M.button===0||!R)){const L=j.getState();P0.onPointerDown(M.nativeEvent,{autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:p,handleId:g,nodeId:v,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:_,isValidConnection:n||L.isValidConnection,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}R?u==null||u(M):h==null||h(M)},I=M=>{const{onClickConnectStart:R,onClickConnectEnd:L,connectionClickStartHandle:H,connectionMode:V,isValidConnection:B,lib:W,rfId:Y,nodeLookup:X,connection:ne}=j.getState();if(!v||!H&&!a)return;if(!H){R==null||R(M.nativeEvent,{nodeId:v,handleId:g,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:v,type:e,id:g}});return}const se=CI(M.target),ce=n||B,{connection:pe,isValid:we}=P0.isValid(M.nativeEvent,{handle:{nodeId:v,id:g,type:e},connectionMode:V,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:ce,flowId:Y,doc:se,lib:W,nodeLookup:X});we&&pe&&_(pe);const he=structuredClone(ne);delete he.inProgress,he.toPosition=he.toHandle?he.toHandle.position:null,L==null||L(M,he),j.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":g,"data-nodeid":v,"data-handlepos":t,"data-id":`${N}-${v}-${g}-${e}`,className:ds(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,d,{source:!p,target:p,connectable:r,connectablestart:a,connectableend:i,clickconnecting:S,connectingfrom:b,connectingto:C,valid:O,connectionindicator:r&&(!A||P)&&(A||F?i:a)}]),onMouseDown:$,onTouchStart:$,onClick:y?I:void 0,ref:x,...f,children:c})}const is=m.memo(ZI(yse));function jse({data:e,isConnectable:t,sourcePosition:n=Te.Bottom}){return s.jsxs(s.Fragment,{children:[e==null?void 0:e.label,s.jsx(is,{type:"source",position:n,isConnectable:t})]})}function wse({data:e,isConnectable:t,targetPosition:n=Te.Top,sourcePosition:r=Te.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(is,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,s.jsx(is,{type:"source",position:r,isConnectable:t})]})}function Nse(){return null}function bse({data:e,isConnectable:t,targetPosition:n=Te.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(is,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Jp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},T2={input:jse,default:wse,output:bse,group:Nse};function Sse(e){var t,n,r,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const Cse=e=>{const{width:t,height:n,x:r,y:a}=rm(e.nodeLookup,{filter:i=>!!i.selected});return{width:gr(t)?t:null,height:gr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${a}px)`}};function Ese({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=zt(),{width:a,height:i,transformString:o,userSelectionActive:l}=ot(Cse,Qt),c=s_(),d=m.useRef(null);if(m.useEffect(()=>{var f;n||(f=d.current)==null||f.focus({preventScroll:!0})},[n]),t_({nodeRef:d}),l||!a||!i)return null;const u=e?f=>{const x=r.getState().nodes.filter(g=>g.selected);e(f,x)}:void 0,h=f=>{Object.prototype.hasOwnProperty.call(Jp,f.key)&&(f.preventDefault(),c({direction:Jp[f.key],factor:f.shiftKey?4:1}))};return s.jsx("div",{className:ds(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:s.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:a,height:i}})})}const P2=typeof window<"u"?window:void 0,Tse=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function r_({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:u,selectionMode:h,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:g,panActivationKeyCode:p,zoomActivationKeyCode:j,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:w,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:P,defaultViewport:A,translateExtent:F,minZoom:O,maxZoom:_,preventScrolling:$,onSelectionContextMenu:I,noWheelClassName:k,noPanClassName:T,disableKeyboardA11y:M,onViewportChange:R,isControlledViewport:L}){const{nodesSelectionActive:H,userSelectionActive:V}=ot(Tse),B=ih(d,{target:P2}),W=ih(p,{target:P2}),Y=W||P,X=W||N,ne=u&&Y!==!0,se=B||V||ne;return ose({deleteKeyCode:c,multiSelectionKeyCode:g}),s.jsx(dse,{onPaneContextMenu:i,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:w,panOnScroll:X,panOnScrollSpeed:b,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:!B&&Y,defaultViewport:A,translateExtent:F,minZoom:O,maxZoom:_,zoomActivationKeyCode:j,preventScrolling:$,noWheelClassName:k,noPanClassName:T,onViewportChange:R,isControlledViewport:L,paneClickDistance:l,children:s.jsxs(fse,{onSelectionStart:f,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:Y,isSelecting:!!se,selectionMode:h,selectionKeyPressed:B,selectionOnDrag:ne,children:[e,H&&s.jsx(Ese,{onSelectionContextMenu:I,noPanClassName:T,disableKeyboardA11y:M})]})})}r_.displayName="FlowRenderer";const Pse=m.memo(r_),Ase=e=>t=>e?Ub(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function kse(e){return ot(m.useCallback(Ase(e),[e]),Qt)}const Mse=e=>e.updateNodeInternals;function Rse(){const e=ot(Mse),[t]=m.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(a=>{const i=a.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:a.target,force:!0})}),e(r)}));return m.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Dse({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const a=zt(),i=m.useRef(null),o=m.useRef(null),l=m.useRef(e.sourcePosition),c=m.useRef(e.targetPosition),d=m.useRef(t),u=n&&!!e.internals.handleBounds;return m.useEffect(()=>{i.current&&!e.hidden&&(!u||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[u,e.hidden]),m.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),m.useEffect(()=>{if(i.current){const h=d.current!==t,f=l.current!==e.sourcePosition,x=c.current!==e.targetPosition;(h||f||x)&&(d.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Fse({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:a,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:u,resizeObserver:h,noDragClassName:f,noPanClassName:x,disableKeyboardA11y:g,rfId:p,nodeTypes:j,nodeClickDistance:v,onError:y}){const{node:w,internals:N,isParent:b}=ot(ce=>{const pe=ce.nodeLookup.get(e),we=ce.parentLookup.has(e);return{node:pe,internals:pe.internals,isParent:we}},Qt);let C=w.type||"default",S=(j==null?void 0:j[C])||T2[C];S===void 0&&(y==null||y("003",Gr.error003(C)),C="default",S=(j==null?void 0:j.default)||T2.default);const P=!!(w.draggable||l&&typeof w.draggable>"u"),A=!!(w.selectable||c&&typeof w.selectable>"u"),F=!!(w.connectable||d&&typeof w.connectable>"u"),O=!!(w.focusable||u&&typeof w.focusable>"u"),_=zt(),$=bI(w),I=Dse({node:w,nodeType:C,hasDimensions:$,resizeObserver:h}),k=t_({nodeRef:I,disabled:w.hidden||!P,noDragClassName:f,handleSelector:w.dragHandle,nodeId:e,isSelectable:A,nodeClickDistance:v}),T=s_();if(w.hidden)return null;const M=$a(w),R=Sse(w),L=A||P||t||n||r||a,H=n?ce=>n(ce,{...N.userNode}):void 0,V=r?ce=>r(ce,{...N.userNode}):void 0,B=a?ce=>a(ce,{...N.userNode}):void 0,W=i?ce=>i(ce,{...N.userNode}):void 0,Y=o?ce=>o(ce,{...N.userNode}):void 0,X=ce=>{const{selectNodesOnDrag:pe,nodeDragThreshold:we}=_.getState();A&&(!pe||!P||we>0)&&A0({id:e,store:_,nodeRef:I}),t&&t(ce,{...N.userNode})},ne=ce=>{if(!(EI(ce.nativeEvent)||g)){if(fI.includes(ce.key)&&A){const pe=ce.key==="Escape";A0({id:e,store:_,unselect:pe,nodeRef:I})}else if(P&&w.selected&&Object.prototype.hasOwnProperty.call(Jp,ce.key)){ce.preventDefault();const{ariaLabelConfig:pe}=_.getState();_.setState({ariaLiveMessage:pe["node.a11yDescription.ariaLiveMessage"]({direction:ce.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),T({direction:Jp[ce.key],factor:ce.shiftKey?4:1})}}},se=()=>{var Pe;if(g||!((Pe=I.current)!=null&&Pe.matches(":focus-visible")))return;const{transform:ce,width:pe,height:we,autoPanOnNodeFocus:he,setCenter:ye}=_.getState();if(!he)return;Ub(new Map([[e,w]]),{x:0,y:0,width:pe,height:we},ce,!0).length>0||ye(w.position.x+M.width/2,w.position.y+M.height/2,{zoom:ce[2]})};return s.jsx("div",{className:ds(["react-flow__node",`react-flow__node-${C}`,{[x]:P},w.className,{selected:w.selected,selectable:A,parent:b,draggable:P,dragging:k}]),ref:I,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:L?"all":"none",visibility:$?"visible":"hidden",...w.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:V,onMouseLeave:B,onContextMenu:W,onClick:X,onDoubleClick:Y,onKeyDown:O?ne:void 0,tabIndex:O?0:void 0,onFocus:O?se:void 0,role:w.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${YI}-${p}`,"aria-label":w.ariaLabel,...w.domAttributes,children:s.jsx(xse,{value:e,children:s.jsx(S,{id:e,data:w.data,type:C,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:w.selected??!1,selectable:A,draggable:P,deletable:w.deletable??!0,isConnectable:F,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:k,dragHandle:w.dragHandle,zIndex:N.z,parentId:w.parentId,...M})})})}const Ose=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function a_(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,onError:i}=ot(Ose,Qt),o=kse(e.onlyRenderVisibleElements),l=Rse();return s.jsx("div",{className:"react-flow__nodes",style:kg,children:o.map(c=>s.jsx(Fse,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}a_.displayName="NodeRenderer";const Ise=m.memo(a_);function _se(e){return ot(m.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const r=[];if(n.width&&n.height)for(const a of n.edges){const i=n.nodeLookup.get(a.source),o=n.nodeLookup.get(a.target);i&&o&&See({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(a.id)}return r},[e]),Qt)}const Lse=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),$se=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),A2={[xr.Arrow]:Lse,[xr.ArrowClosed]:$se};function Vse(e){const t=zt();return m.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(A2,e)?A2[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Gr.error009(e)),null)},[e])}const Use=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=Vse(t);return c?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:s.jsx(c,{color:n,strokeWidth:o})}):null},i_=({defaultColor:e,rfId:t})=>{const n=ot(i=>i.edges),r=ot(i=>i.defaultEdgeOptions),a=m.useMemo(()=>Mee(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return a.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:a.map(i=>s.jsx(Use,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};i_.displayName="MarkerDefinitions";var Bse=m.memo(i_);function o_({x:e,y:t,label:n,labelStyle:r,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...u}){const[h,f]=m.useState({x:1,y:0,width:0,height:0}),x=ds(["react-flow__edge-textwrapper",d]),g=m.useRef(null);return m.useEffect(()=>{if(g.current){const p=g.current.getBBox();f({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?s.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...u,children:[a&&s.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:g,style:r,children:n}),c]}):null}o_.displayName="EdgeText";const Hse=m.memo(o_);function im({path:e,labelX:t,labelY:n,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...u}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...u,d:e,fill:"none",className:ds(["react-flow__edge-path",u.className])}),d&&s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&gr(t)&&gr(n)?s.jsx(Hse,{x:t,y:n,label:r,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function k2({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===Te.Left||e===Te.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function l_({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:a,targetPosition:i=Te.Top}){const[o,l]=k2({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,d]=k2({pos:i,x1:r,y1:a,x2:e,y2:t}),[u,h,f,x]=PI({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${o},${l} ${c},${d} ${r},${a}`,u,h,f,x]}function c_(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:i,sourcePosition:o,targetPosition:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:j,interactionWidth:v})=>{const[y,w,N]=l_({sourceX:n,sourceY:r,sourcePosition:o,targetX:a,targetY:i,targetPosition:l}),b=e.isInternal?void 0:t;return s.jsx(im,{id:b,path:y,labelX:w,labelY:N,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:j,interactionWidth:v})})}const zse=c_({isInternal:!1}),d_=c_({isInternal:!0});zse.displayName="SimpleBezierEdge";d_.displayName="SimpleBezierEdgeInternal";function u_(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:f,sourcePosition:x=Te.Bottom,targetPosition:g=Te.Top,markerEnd:p,markerStart:j,pathOptions:v,interactionWidth:y})=>{const[w,N,b]=C0({sourceX:n,sourceY:r,sourcePosition:x,targetX:a,targetY:i,targetPosition:g,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset,stepPosition:v==null?void 0:v.stepPosition}),C=e.isInternal?void 0:t;return s.jsx(im,{id:C,path:w,labelX:N,labelY:b,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:j,interactionWidth:y})})}const h_=u_({isInternal:!1}),m_=u_({isInternal:!0});h_.displayName="SmoothStepEdge";m_.displayName="SmoothStepEdgeInternal";function f_(e){return m.memo(({id:t,...n})=>{var a;const r=e.isInternal?void 0:t;return s.jsx(h_,{...n,id:r,pathOptions:m.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(a=n.pathOptions)==null?void 0:a.offset])})})}const qse=f_({isInternal:!1}),p_=f_({isInternal:!0});qse.displayName="StepEdge";p_.displayName="StepEdgeInternal";function x_(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:x,markerStart:g,interactionWidth:p})=>{const[j,v,y]=kI({sourceX:n,sourceY:r,targetX:a,targetY:i}),w=e.isInternal?void 0:t;return s.jsx(im,{id:w,path:j,labelX:v,labelY:y,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:x,markerStart:g,interactionWidth:p})})}const Wse=x_({isInternal:!1}),g_=x_({isInternal:!0});Wse.displayName="StraightEdge";g_.displayName="StraightEdgeInternal";function v_(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:i,sourcePosition:o=Te.Bottom,targetPosition:l=Te.Top,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:j,pathOptions:v,interactionWidth:y})=>{const[w,N,b]=zb({sourceX:n,sourceY:r,sourcePosition:o,targetX:a,targetY:i,targetPosition:l,curvature:v==null?void 0:v.curvature}),C=e.isInternal?void 0:t;return s.jsx(im,{id:C,path:w,labelX:N,labelY:b,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:x,style:g,markerEnd:p,markerStart:j,interactionWidth:y})})}const Yse=v_({isInternal:!1}),y_=v_({isInternal:!0});Yse.displayName="BezierEdge";y_.displayName="BezierEdgeInternal";const M2={default:y_,straight:g_,step:p_,smoothstep:m_,simplebezier:d_},R2={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Kse=(e,t,n)=>n===Te.Left?e-t:n===Te.Right?e+t:e,Xse=(e,t,n)=>n===Te.Top?e-t:n===Te.Bottom?e+t:e,D2="react-flow__edgeupdater";function F2({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:i,onMouseOut:o,type:l}){return s.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:o,className:ds([D2,`${D2}-${l}`]),cx:Kse(t,r,e),cy:Xse(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Gse({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:a,targetX:i,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:u,onReconnectEnd:h,setReconnecting:f,setUpdateHover:x}){const g=zt(),p=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:C,domNode:S,isValidConnection:P,connectionMode:A,connectionRadius:F,lib:O,onConnectStart:_,onConnectEnd:$,cancelConnection:I,nodeLookup:k,rfId:T,panBy:M,updateConnection:R}=g.getState(),L=b.type==="target",H=(W,Y)=>{f(!1),h==null||h(W,n,b.type,Y)},V=W=>d==null?void 0:d(n,W),B=(W,Y)=>{f(!0),u==null||u(N,n,b.type),_==null||_(W,Y)};P0.onPointerDown(N.nativeEvent,{autoPanOnConnect:C,connectionMode:A,connectionRadius:F,domNode:S,handleId:b.id,nodeId:b.nodeId,nodeLookup:k,isTarget:L,edgeUpdaterType:b.type,lib:O,flowId:T,cancelConnection:I,panBy:M,isValidConnection:P,onConnect:V,onConnectStart:B,onConnectEnd:$,onReconnectEnd:H,updateConnection:R,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold})},j=N=>p(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=N=>p(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>x(!0),w=()=>x(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(F2,{position:l,centerX:r,centerY:a,radius:t,onMouseDown:j,onMouseEnter:y,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&s.jsx(F2,{position:c,centerX:i,centerY:o,radius:t,onMouseDown:v,onMouseEnter:y,onMouseOut:w,type:"target"})]})}function Jse({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:a,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:x,rfId:g,edgeTypes:p,noPanClassName:j,onError:v,disableKeyboardA11y:y}){let w=ot(ye=>ye.edgeLookup.get(e));const N=ot(ye=>ye.defaultEdgeOptions);w=N?{...N,...w}:w;let b=w.type||"default",C=(p==null?void 0:p[b])||M2[b];C===void 0&&(v==null||v("011",Gr.error011(b)),b="default",C=(p==null?void 0:p.default)||M2.default);const S=!!(w.focusable||t&&typeof w.focusable>"u"),P=typeof h<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),A=!!(w.selectable||r&&typeof w.selectable>"u"),F=m.useRef(null),[O,_]=m.useState(!1),[$,I]=m.useState(!1),k=zt(),{zIndex:T,sourceX:M,sourceY:R,targetX:L,targetY:H,sourcePosition:V,targetPosition:B}=ot(m.useCallback(ye=>{const Ne=ye.nodeLookup.get(w.source),Pe=ye.nodeLookup.get(w.target);if(!Ne||!Pe)return{zIndex:w.zIndex,...R2};const Ye=kee({id:e,sourceNode:Ne,targetNode:Pe,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:ye.connectionMode,onError:v});return{zIndex:bee({selected:w.selected,zIndex:w.zIndex,sourceNode:Ne,targetNode:Pe,elevateOnSelect:ye.elevateEdgesOnSelect}),...Ye||R2}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Qt),W=m.useMemo(()=>w.markerStart?`url('#${E0(w.markerStart,g)}')`:void 0,[w.markerStart,g]),Y=m.useMemo(()=>w.markerEnd?`url('#${E0(w.markerEnd,g)}')`:void 0,[w.markerEnd,g]);if(w.hidden||M===null||R===null||L===null||H===null)return null;const X=ye=>{var ze;const{addSelectedEdges:Ne,unselectNodesAndEdges:Pe,multiSelectionActive:Ye}=k.getState();A&&(k.setState({nodesSelectionActive:!1}),w.selected&&Ye?(Pe({nodes:[],edges:[w]}),(ze=F.current)==null||ze.blur()):Ne([e])),a&&a(ye,w)},ne=i?ye=>{i(ye,{...w})}:void 0,se=o?ye=>{o(ye,{...w})}:void 0,ce=l?ye=>{l(ye,{...w})}:void 0,pe=c?ye=>{c(ye,{...w})}:void 0,we=d?ye=>{d(ye,{...w})}:void 0,he=ye=>{var Ne;if(!y&&fI.includes(ye.key)&&A){const{unselectNodesAndEdges:Pe,addSelectedEdges:Ye}=k.getState();ye.key==="Escape"?((Ne=F.current)==null||Ne.blur(),Pe({edges:[w]})):Ye([e])}};return s.jsx("svg",{style:{zIndex:T},children:s.jsxs("g",{className:ds(["react-flow__edge",`react-flow__edge-${b}`,w.className,j,{selected:w.selected,animated:w.animated,inactive:!A&&!a,updating:O,selectable:A}]),onClick:X,onDoubleClick:ne,onContextMenu:se,onMouseEnter:ce,onMouseMove:pe,onMouseLeave:we,onKeyDown:S?he:void 0,tabIndex:S?0:void 0,role:w.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":S?`${KI}-${g}`:void 0,ref:F,...w.domAttributes,children:[!$&&s.jsx(C,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:A,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:M,sourceY:R,targetX:L,targetY:H,sourcePosition:V,targetPosition:B,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:W,markerEnd:Y,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),P&&s.jsx(Gse,{edge:w,isReconnectable:P,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:x,sourceX:M,sourceY:R,targetX:L,targetY:H,sourcePosition:V,targetPosition:B,setUpdateHover:_,setReconnecting:I})]})})}const Qse=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function j_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:a,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:u,reconnectRadius:h,onEdgeDoubleClick:f,onReconnectStart:x,onReconnectEnd:g,disableKeyboardA11y:p}){const{edgesFocusable:j,edgesReconnectable:v,elementsSelectable:y,onError:w}=ot(Qse,Qt),N=_se(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(Bse,{defaultColor:e,rfId:n}),N.map(b=>s.jsx(Jse,{id:b,edgesFocusable:j,edgesReconnectable:v,elementsSelectable:y,noPanClassName:a,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:u,reconnectRadius:h,onDoubleClick:f,onReconnectStart:x,onReconnectEnd:g,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:p},b))]})}j_.displayName="EdgeRenderer";const Zse=m.memo(j_),ene=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function tne({children:e}){const t=ot(ene);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function sne(e){const t=na(),n=m.useRef(!1);m.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const nne=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function rne(e){const t=ot(nne),n=zt();return m.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function ane(e){return e.connection.inProgress?{...e.connection,to:am(e.connection.to,e.transform)}:{...e.connection}}function ine(e){return ane}function one(e){const t=ine();return ot(t,Qt)}const lne=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function cne({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:a,width:i,height:o,isValid:l,inProgress:c}=ot(lne,Qt);return!(i&&a&&c)?null:s.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:ds(["react-flow__connection",gI(l)]),children:s.jsx(w_,{style:t,type:n,CustomComponent:r,isValid:l})})})}const w_=({style:e,type:t=ai.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:a,from:i,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:u,toHandle:h,toPosition:f}=one();if(!a)return;if(n)return s.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:f,connectionStatus:gI(r),toNode:u,toHandle:h});let x="";const g={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:f};switch(t){case ai.Bezier:[x]=zb(g);break;case ai.SimpleBezier:[x]=l_(g);break;case ai.Step:[x]=C0({...g,borderRadius:0});break;case ai.SmoothStep:[x]=C0(g);break;default:[x]=kI(g)}return s.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};w_.displayName="ConnectionLine";const dne={};function O2(e=dne){m.useRef(e),zt(),m.useEffect(()=>{},[e])}function une(){zt(),m.useRef(!1),m.useEffect(()=>{},[])}function N_({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,onSelectionContextMenu:h,onSelectionStart:f,onSelectionEnd:x,connectionLineType:g,connectionLineStyle:p,connectionLineComponent:j,connectionLineContainerStyle:v,selectionKeyCode:y,selectionOnDrag:w,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:C,zoomActivationKeyCode:S,deleteKeyCode:P,onlyRenderVisibleElements:A,elementsSelectable:F,defaultViewport:O,translateExtent:_,minZoom:$,maxZoom:I,preventScrolling:k,defaultMarkerColor:T,zoomOnScroll:M,zoomOnPinch:R,panOnScroll:L,panOnScrollSpeed:H,panOnScrollMode:V,zoomOnDoubleClick:B,panOnDrag:W,onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:ne,onPaneMouseLeave:se,onPaneScroll:ce,onPaneContextMenu:pe,paneClickDistance:we,nodeClickDistance:he,onEdgeContextMenu:ye,onEdgeMouseEnter:Ne,onEdgeMouseMove:Pe,onEdgeMouseLeave:Ye,reconnectRadius:ze,onReconnect:Rt,onReconnectStart:Zt,onReconnectEnd:dt,noDragClassName:rr,noWheelClassName:to,noPanClassName:aa,disableKeyboardA11y:ke,nodeExtent:qe,rfId:rt,viewport:at,onViewportChange:ct}){return O2(e),O2(t),une(),sne(n),rne(at),s.jsx(Pse,{onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:ne,onPaneMouseLeave:se,onPaneContextMenu:pe,onPaneScroll:ce,paneClickDistance:we,deleteKeyCode:P,selectionKeyCode:y,selectionOnDrag:w,selectionMode:N,onSelectionStart:f,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:C,zoomActivationKeyCode:S,elementsSelectable:F,zoomOnScroll:M,zoomOnPinch:R,zoomOnDoubleClick:B,panOnScroll:L,panOnScrollSpeed:H,panOnScrollMode:V,panOnDrag:W,defaultViewport:O,translateExtent:_,minZoom:$,maxZoom:I,onSelectionContextMenu:h,preventScrolling:k,noDragClassName:rr,noWheelClassName:to,noPanClassName:aa,disableKeyboardA11y:ke,onViewportChange:ct,isControlledViewport:!!at,children:s.jsxs(tne,{children:[s.jsx(Zse,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:o,onReconnect:Rt,onReconnectStart:Zt,onReconnectEnd:dt,onlyRenderVisibleElements:A,onEdgeContextMenu:ye,onEdgeMouseEnter:Ne,onEdgeMouseMove:Pe,onEdgeMouseLeave:Ye,reconnectRadius:ze,defaultMarkerColor:T,noPanClassName:aa,disableKeyboardA11y:ke,rfId:rt}),s.jsx(cne,{style:p,type:g,component:j,containerStyle:v}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(Ise,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,nodeClickDistance:he,onlyRenderVisibleElements:A,noPanClassName:aa,noDragClassName:rr,disableKeyboardA11y:ke,nodeExtent:qe,rfId:rt}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}N_.displayName="GraphView";const hne=m.memo(N_),I2=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:c=.5,maxZoom:d=2,nodeOrigin:u,nodeExtent:h}={})=>{const f=new Map,x=new Map,g=new Map,p=new Map,j=r??t??[],v=n??e??[],y=u??[0,0],w=h??sh;RI(g,p,j);const N=T0(v,f,x,{nodeOrigin:y,nodeExtent:w,elevateNodesOnSelect:!1});let b=[0,0,1];if(o&&a&&i){const C=rm(f,{filter:F=>!!((F.width||F.initialWidth)&&(F.height||F.initialHeight))}),{x:S,y:P,zoom:A}=Bb(C,a,i,c,d,(l==null?void 0:l.padding)??.1);b=[S,P,A]}return{rfId:"1",width:0,height:0,transform:b,nodes:v,nodesInitialized:N,nodeLookup:f,parentLookup:x,edges:j,edgeLookup:p,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:d,translateExtent:sh,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:el.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...xI},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:gee,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:pI}},mne=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:h})=>Dte((f,x)=>{async function g(){const{nodeLookup:p,panZoom:j,fitViewOptions:v,fitViewResolver:y,width:w,height:N,minZoom:b,maxZoom:C}=x();j&&(await pee({nodes:p,width:w,height:N,panZoom:j,minZoom:b,maxZoom:C},v),y==null||y.resolve(!0),f({fitViewResolver:null}))}return{...I2({nodes:e,edges:t,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:h,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:j,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:w,fitViewQueued:N}=x(),b=T0(p,j,v,{nodeOrigin:y,nodeExtent:h,elevateNodesOnSelect:w,checkEquality:!0});N&&b?(g(),f({nodes:p,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:p,nodesInitialized:b})},setEdges:p=>{const{connectionLookup:j,edgeLookup:v}=x();RI(j,v,p),f({edges:p})},setDefaultNodesAndEdges:(p,j)=>{if(p){const{setNodes:v}=x();v(p),f({hasDefaultNodes:!0})}if(j){const{setEdges:v}=x();v(j),f({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:j,nodeLookup:v,parentLookup:y,domNode:w,nodeOrigin:N,nodeExtent:b,debug:C,fitViewQueued:S}=x(),{changes:P,updatedInternals:A}=Iee(p,v,y,w,N,b);A&&(Dee(v,y,{nodeOrigin:N,nodeExtent:b}),S?(g(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(P==null?void 0:P.length)>0&&(C&&console.log("React Flow: trigger node changes",P),j==null||j(P)))},updateNodePositions:(p,j=!1)=>{const v=[],y=[],{nodeLookup:w,triggerNodeChanges:N}=x();for(const[b,C]of p){const S=w.get(b),P=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(C!=null&&C.position)),A={id:b,type:"position",position:P?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:j};P&&S.parentId&&v.push({id:b,parentId:S.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),y.push(A)}if(v.length>0){const{parentLookup:b,nodeOrigin:C}=x(),S=Kb(v,w,b,C);y.push(...S)}N(y)},triggerNodeChanges:p=>{const{onNodesChange:j,setNodes:v,nodes:y,hasDefaultNodes:w,debug:N}=x();if(p!=null&&p.length){if(w){const b=JI(p,y);v(b)}N&&console.log("React Flow: trigger node changes",p),j==null||j(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:j,setEdges:v,edges:y,hasDefaultEdges:w,debug:N}=x();if(p!=null&&p.length){if(w){const b=QI(p,y);v(b)}N&&console.log("React Flow: trigger edge changes",p),j==null||j(p)}},addSelectedNodes:p=>{const{multiSelectionActive:j,edgeLookup:v,nodeLookup:y,triggerNodeChanges:w,triggerEdgeChanges:N}=x();if(j){const b=p.map(C=>co(C,!0));w(b);return}w(ql(y,new Set([...p]),!0)),N(ql(v))},addSelectedEdges:p=>{const{multiSelectionActive:j,edgeLookup:v,nodeLookup:y,triggerNodeChanges:w,triggerEdgeChanges:N}=x();if(j){const b=p.map(C=>co(C,!0));N(b);return}N(ql(v,new Set([...p]))),w(ql(y,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:j}={})=>{const{edges:v,nodes:y,nodeLookup:w,triggerNodeChanges:N,triggerEdgeChanges:b}=x(),C=p||y,S=j||v,P=C.map(F=>{const O=w.get(F.id);return O&&(O.selected=!1),co(F.id,!1)}),A=S.map(F=>co(F.id,!1));N(P),b(A)},setMinZoom:p=>{const{panZoom:j,maxZoom:v}=x();j==null||j.setScaleExtent([p,v]),f({minZoom:p})},setMaxZoom:p=>{const{panZoom:j,minZoom:v}=x();j==null||j.setScaleExtent([v,p]),f({maxZoom:p})},setTranslateExtent:p=>{var j;(j=x().panZoom)==null||j.setTranslateExtent(p),f({translateExtent:p})},setPaneClickDistance:p=>{var j;(j=x().panZoom)==null||j.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:j,triggerNodeChanges:v,triggerEdgeChanges:y,elementsSelectable:w}=x();if(!w)return;const N=j.reduce((C,S)=>S.selected?[...C,co(S.id,!1)]:C,[]),b=p.reduce((C,S)=>S.selected?[...C,co(S.id,!1)]:C,[]);v(N),y(b)},setNodeExtent:p=>{const{nodes:j,nodeLookup:v,parentLookup:y,nodeOrigin:w,elevateNodesOnSelect:N,nodeExtent:b}=x();p[0][0]===b[0][0]&&p[0][1]===b[0][1]&&p[1][0]===b[1][0]&&p[1][1]===b[1][1]||(T0(j,v,y,{nodeOrigin:w,nodeExtent:p,elevateNodesOnSelect:N,checkEquality:!1}),f({nodeExtent:p}))},panBy:p=>{const{transform:j,width:v,height:y,panZoom:w,translateExtent:N}=x();return _ee({delta:p,panZoom:w,transform:j,translateExtent:N,width:v,height:y})},setCenter:async(p,j,v)=>{const{width:y,height:w,maxZoom:N,panZoom:b}=x();if(!b)return Promise.resolve(!1);const C=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:N;return await b.setViewport({x:y/2-p*C,y:w/2-j*C,zoom:C},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...xI}})},updateConnection:p=>{f({connection:p})},reset:()=>f({...I2()})}},Object.is);function fne({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:a,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:c,fitView:d,nodeOrigin:u,nodeExtent:h,children:f}){const[x]=m.useState(()=>mne({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:i,fitView:d,minZoom:o,maxZoom:l,fitViewOptions:c,nodeOrigin:u,nodeExtent:h}));return s.jsx(Fte,{value:x,children:s.jsx(nse,{children:f})})}function pne({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:a,width:i,height:o,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:h,nodeExtent:f}){return m.useContext(Ag)?s.jsx(s.Fragment,{children:e}):s.jsx(fne,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:c,initialMinZoom:d,initialMaxZoom:u,nodeOrigin:h,nodeExtent:f,children:e})}const xne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function gne({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:u,onMoveStart:h,onMoveEnd:f,onConnect:x,onConnectStart:g,onConnectEnd:p,onClickConnectStart:j,onClickConnectEnd:v,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:C,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:A,onNodesDelete:F,onEdgesDelete:O,onDelete:_,onSelectionChange:$,onSelectionDragStart:I,onSelectionDrag:k,onSelectionDragStop:T,onSelectionContextMenu:M,onSelectionStart:R,onSelectionEnd:L,onBeforeDelete:H,connectionMode:V,connectionLineType:B=ai.Bezier,connectionLineStyle:W,connectionLineComponent:Y,connectionLineContainerStyle:X,deleteKeyCode:ne="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:ce=!1,selectionMode:pe=nh.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:he=Xp()?"Meta":"Control",zoomActivationKeyCode:ye=Xp()?"Meta":"Control",snapToGrid:Ne,snapGrid:Pe,onlyRenderVisibleElements:Ye=!1,selectNodesOnDrag:ze,nodesDraggable:Rt,autoPanOnNodeFocus:Zt,nodesConnectable:dt,nodesFocusable:rr,nodeOrigin:to=XI,edgesFocusable:aa,edgesReconnectable:ke,elementsSelectable:qe=!0,defaultViewport:rt=Yte,minZoom:at=.5,maxZoom:ct=2,translateExtent:Je=sh,preventScrolling:Nt=!0,nodeExtent:os,defaultMarkerColor:ae="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:Fe=!0,panOnScroll:be=!1,panOnScrollSpeed:De=.5,panOnScrollMode:_e=_o.Free,zoomOnDoubleClick:Oe=!0,panOnDrag:Ve=!0,onPaneClick:He,onPaneMouseEnter:pt,onPaneMouseMove:Dt,onPaneMouseLeave:Tt,onPaneScroll:gn,onPaneContextMenu:ar,paneClickDistance:Ua=0,nodeClickDistance:so=0,children:no,onReconnect:ro,onReconnectStart:ao,onReconnectEnd:ym,onEdgeContextMenu:uV,onEdgeDoubleClick:hV,onEdgeMouseEnter:mV,onEdgeMouseMove:fV,onEdgeMouseLeave:pV,reconnectRadius:xV=10,onNodesChange:gV,onEdgesChange:vV,noDragClassName:yV="nodrag",noWheelClassName:jV="nowheel",noPanClassName:g1="nopan",fitView:v1,fitViewOptions:y1,connectOnClick:wV,attributionPosition:NV,proOptions:bV,defaultEdgeOptions:SV,elevateNodesOnSelect:CV,elevateEdgesOnSelect:EV,disableKeyboardA11y:j1=!1,autoPanOnConnect:TV,autoPanOnNodeDrag:PV,autoPanSpeed:AV,connectionRadius:kV,isValidConnection:MV,onError:RV,style:DV,id:w1,nodeDragThreshold:FV,connectionDragThreshold:OV,viewport:IV,onViewportChange:_V,width:LV,height:$V,colorMode:VV="light",debug:UV,onScroll:jm,ariaLabelConfig:BV,...HV},zV){const Yg=w1||"1",qV=Jte(VV),WV=m.useCallback(N1=>{N1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),jm==null||jm(N1)},[jm]);return s.jsx("div",{"data-testid":"rf__wrapper",...HV,onScroll:WV,style:{...DV,...xne},ref:zV,className:ds(["react-flow",a,qV]),id:w1,role:"application",children:s.jsxs(pne,{nodes:e,edges:t,width:LV,height:$V,fitView:v1,fitViewOptions:y1,minZoom:at,maxZoom:ct,nodeOrigin:to,nodeExtent:os,children:[s.jsx(hne,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:o,connectionLineType:B,connectionLineStyle:W,connectionLineComponent:Y,connectionLineContainerStyle:X,selectionKeyCode:se,selectionOnDrag:ce,selectionMode:pe,deleteKeyCode:ne,multiSelectionKeyCode:he,panActivationKeyCode:we,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Ye,defaultViewport:rt,translateExtent:Je,minZoom:at,maxZoom:ct,preventScrolling:Nt,zoomOnScroll:ge,zoomOnPinch:Fe,zoomOnDoubleClick:Oe,panOnScroll:be,panOnScrollSpeed:De,panOnScrollMode:_e,panOnDrag:Ve,onPaneClick:He,onPaneMouseEnter:pt,onPaneMouseMove:Dt,onPaneMouseLeave:Tt,onPaneScroll:gn,onPaneContextMenu:ar,paneClickDistance:Ua,nodeClickDistance:so,onSelectionContextMenu:M,onSelectionStart:R,onSelectionEnd:L,onReconnect:ro,onReconnectStart:ao,onReconnectEnd:ym,onEdgeContextMenu:uV,onEdgeDoubleClick:hV,onEdgeMouseEnter:mV,onEdgeMouseMove:fV,onEdgeMouseLeave:pV,reconnectRadius:xV,defaultMarkerColor:ae,noDragClassName:yV,noWheelClassName:jV,noPanClassName:g1,rfId:Yg,disableKeyboardA11y:j1,nodeExtent:os,viewport:IV,onViewportChange:_V}),s.jsx(Gte,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:g,onConnectEnd:p,onClickConnectStart:j,onClickConnectEnd:v,nodesDraggable:Rt,autoPanOnNodeFocus:Zt,nodesConnectable:dt,nodesFocusable:rr,edgesFocusable:aa,edgesReconnectable:ke,elementsSelectable:qe,elevateNodesOnSelect:CV,elevateEdgesOnSelect:EV,minZoom:at,maxZoom:ct,nodeExtent:os,onNodesChange:gV,onEdgesChange:vV,snapToGrid:Ne,snapGrid:Pe,connectionMode:V,translateExtent:Je,connectOnClick:wV,defaultEdgeOptions:SV,fitView:v1,fitViewOptions:y1,onNodesDelete:F,onEdgesDelete:O,onDelete:_,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:A,onSelectionDrag:k,onSelectionDragStart:I,onSelectionDragStop:T,onMove:u,onMoveStart:h,onMoveEnd:f,noPanClassName:g1,nodeOrigin:to,rfId:Yg,autoPanOnConnect:TV,autoPanOnNodeDrag:PV,autoPanSpeed:AV,onError:RV,connectionRadius:kV,isValidConnection:MV,selectNodesOnDrag:ze,nodeDragThreshold:FV,connectionDragThreshold:OV,onBeforeDelete:H,paneClickDistance:Ua,debug:UV,ariaLabelConfig:BV}),s.jsx(Wte,{onSelectionChange:$}),no,s.jsx(Ute,{proOptions:bV,position:NV}),s.jsx(Vte,{rfId:Yg,disableKeyboardA11y:j1})]})})}var b_=ZI(gne);const vne=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function yne({children:e}){const t=ot(vne);return t?Pr.createPortal(e,t):null}function S_(e){const[t,n]=m.useState(e),r=m.useCallback(a=>n(i=>JI(a,i)),[]);return[t,n,r]}function C_(e){const[t,n]=m.useState(e),r=m.useCallback(a=>n(i=>QI(a,i)),[]);return[t,n,r]}function jne({dimensions:e,lineWidth:t,variant:n,className:r}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ds(["react-flow__background-pattern",n,r])})}function wne({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:ds(["react-flow__background-pattern","dots",t])})}var ja;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ja||(ja={}));const Nne={[ja.Dots]:1,[ja.Lines]:1,[ja.Cross]:6},bne=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function E_({id:e,variant:t=ja.Dots,gap:n=20,size:r,lineWidth:a=1,offset:i=0,color:o,bgColor:l,style:c,className:d,patternClassName:u}){const h=m.useRef(null),{transform:f,patternId:x}=ot(bne,Qt),g=r||Nne[t],p=t===ja.Dots,j=t===ja.Cross,v=Array.isArray(n)?n:[n,n],y=[v[0]*f[2]||1,v[1]*f[2]||1],w=g*f[2],N=Array.isArray(i)?i:[i,i],b=j?[w,w]:y,C=[N[0]*f[2]||1+b[0]/2,N[1]*f[2]||1+b[1]/2],S=`${x}${e||""}`;return s.jsxs("svg",{className:ds(["react-flow__background",d]),style:{...c,...kg,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[s.jsx("pattern",{id:S,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:p?s.jsx(wne,{radius:w/2,className:u}):s.jsx(jne,{dimensions:b,lineWidth:a,variant:t,className:u})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}E_.displayName="Background";const T_=m.memo(E_);function Sne(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Cne(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Ene(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Tne(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Pne(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ef({children:e,className:t,...n}){return s.jsx("button",{type:"button",className:ds(["react-flow__controls-button",t]),...n,children:e})}const Ane=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function P_({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:u,position:h="bottom-left",orientation:f="vertical","aria-label":x}){const g=zt(),{isInteractive:p,minZoomReached:j,maxZoomReached:v,ariaLabelConfig:y}=ot(Ane,Qt),{zoomIn:w,zoomOut:N,fitView:b}=na(),C=()=>{w(),i==null||i()},S=()=>{N(),o==null||o()},P=()=>{b(a),l==null||l()},A=()=>{g.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)},F=f==="horizontal"?"horizontal":"vertical";return s.jsxs(Wc,{className:ds(["react-flow__controls",F,d]),position:h,style:e,"data-testid":"rf__controls","aria-label":x??y["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(ef,{onClick:C,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:v,children:s.jsx(Sne,{})}),s.jsx(ef,{onClick:S,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:j,children:s.jsx(Cne,{})})]}),n&&s.jsx(ef,{className:"react-flow__controls-fitview",onClick:P,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:s.jsx(Ene,{})}),r&&s.jsx(ef,{className:"react-flow__controls-interactive",onClick:A,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:p?s.jsx(Pne,{}):s.jsx(Tne,{})}),u]})}P_.displayName="Controls";const A_=m.memo(P_);function kne({id:e,x:t,y:n,width:r,height:a,style:i,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:u,shapeRendering:h,selected:f,onClick:x}){const{background:g,backgroundColor:p}=i||{},j=o||g||p;return s.jsx("rect",{className:ds(["react-flow__minimap-node",{selected:f},d]),x:t,y:n,rx:u,ry:u,width:r,height:a,style:{fill:j,stroke:l,strokeWidth:c},shapeRendering:h,onClick:x?v=>x(v,e):void 0})}const Mne=m.memo(kne),Rne=e=>e.nodes.map(t=>t.id),ey=e=>e instanceof Function?e:()=>e;function Dne({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:a,nodeComponent:i=Mne,onClick:o}){const l=ot(Rne,Qt),c=ey(t),d=ey(e),u=ey(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(f=>s.jsx(One,{id:f,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:a,NodeComponent:i,onClick:o,shapeRendering:h},f))})}function Fne({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:u,y:h,width:f,height:x}=ot(g=>{const{internals:p}=g.nodeLookup.get(e),j=p.userNode,{x:v,y}=p.positionAbsolute,{width:w,height:N}=$a(j);return{node:j,x:v,y,width:w,height:N}},Qt);return!d||d.hidden||!bI(d)?null:s.jsx(l,{x:u,y:h,width:f,height:x,style:d.style,selected:!!d.selected,className:r(d),color:t(d),borderRadius:a,strokeColor:n(d),strokeWidth:i,shapeRendering:o,onClick:c,id:d.id})}const One=m.memo(Fne);var Ine=m.memo(Dne);const _ne=200,Lne=150,$ne=e=>!e.hidden,Vne=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?NI(rm(e.nodeLookup,{filter:$ne}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Une="react-flow__minimap-desc";function k_({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:u,maskStrokeWidth:h,position:f="bottom-right",onClick:x,onNodeClick:g,pannable:p=!1,zoomable:j=!1,ariaLabel:v,inversePan:y,zoomStep:w=10,offsetScale:N=5}){const b=zt(),C=m.useRef(null),{boundingRect:S,viewBB:P,rfId:A,panZoom:F,translateExtent:O,flowWidth:_,flowHeight:$,ariaLabelConfig:I}=ot(Vne,Qt),k=(e==null?void 0:e.width)??_ne,T=(e==null?void 0:e.height)??Lne,M=S.width/k,R=S.height/T,L=Math.max(M,R),H=L*k,V=L*T,B=N*L,W=S.x-(H-S.width)/2-B,Y=S.y-(V-S.height)/2-B,X=H+B*2,ne=V+B*2,se=`${Une}-${A}`,ce=m.useRef(0),pe=m.useRef();ce.current=L,m.useEffect(()=>{if(C.current&&F)return pe.current=qee({domNode:C.current,panZoom:F,getTransform:()=>b.getState().transform,getViewScale:()=>ce.current}),()=>{var Ne;(Ne=pe.current)==null||Ne.destroy()}},[F]),m.useEffect(()=>{var Ne;(Ne=pe.current)==null||Ne.update({translateExtent:O,width:_,height:$,inversePan:y,pannable:p,zoomStep:w,zoomable:j})},[p,j,y,w,O,_,$]);const we=x?Ne=>{var ze;const[Pe,Ye]=((ze=pe.current)==null?void 0:ze.pointer(Ne))||[0,0];x(Ne,{x:Pe,y:Ye})}:void 0,he=g?m.useCallback((Ne,Pe)=>{const Ye=b.getState().nodeLookup.get(Pe).internals.userNode;g(Ne,Ye)},[]):void 0,ye=v??I["minimap.ariaLabel"];return s.jsx(Wc,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:ds(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:k,height:T,viewBox:`${W} ${Y} ${X} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":se,ref:C,onClick:we,children:[ye&&s.jsx("title",{id:se,children:ye}),s.jsx(Ine,{onClick:he,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:o,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-B},${Y-B}h${X+B*2}v${ne+B*2}h${-X-B*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}k_.displayName="MiniMap";const M_=m.memo(k_),Bne=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Hne={[zc.Line]:"right",[zc.Handle]:"bottom-right"};function zne({nodeId:e,position:t,variant:n=zc.Handle,className:r,style:a=void 0,children:i,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:f,autoScale:x=!0,shouldResize:g,onResizeStart:p,onResize:j,onResizeEnd:v}){const y=n_(),w=typeof e=="string"?e:y,N=zt(),b=m.useRef(null),C=n===zc.Handle,S=ot(m.useCallback(Bne(C&&x),[C,x]),Qt),P=m.useRef(null),A=t??Hne[n];m.useEffect(()=>{if(!(!b.current||!w))return P.current||(P.current=ote({domNode:b.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:O,transform:_,snapGrid:$,snapToGrid:I,nodeOrigin:k,domNode:T}=N.getState();return{nodeLookup:O,transform:_,snapGrid:$,snapToGrid:I,nodeOrigin:k,paneDomNode:T}},onChange:(O,_)=>{const{triggerNodeChanges:$,nodeLookup:I,parentLookup:k,nodeOrigin:T}=N.getState(),M=[],R={x:O.x,y:O.y},L=I.get(w);if(L&&L.expandParent&&L.parentId){const H=L.origin??T,V=O.width??L.measured.width??0,B=O.height??L.measured.height??0,W={id:L.id,parentId:L.parentId,rect:{width:V,height:B,...SI({x:O.x??L.position.x,y:O.y??L.position.y},{width:V,height:B},L.parentId,I,H)}},Y=Kb([W],I,k,T);M.push(...Y),R.x=O.x?Math.max(H[0]*V,O.x):void 0,R.y=O.y?Math.max(H[1]*B,O.y):void 0}if(R.x!==void 0&&R.y!==void 0){const H={id:w,type:"position",position:{...R}};M.push(H)}if(O.width!==void 0&&O.height!==void 0){const V={id:w,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};M.push(V)}for(const H of _){const V={...H,type:"position"};M.push(V)}$(M)},onEnd:({width:O,height:_})=>{const $={id:w,type:"dimensions",resizing:!1,dimensions:{width:O,height:_}};N.getState().triggerNodeChanges([$])}})),P.current.update({controlPosition:A,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:u},keepAspectRatio:h,resizeDirection:f,onResizeStart:p,onResize:j,onResizeEnd:v,shouldResize:g}),()=>{var O;(O=P.current)==null||O.destroy()}},[A,l,c,d,u,h,p,j,v,g]);const F=A.split("-");return s.jsx("div",{className:ds(["react-flow__resize-control","nodrag",...F,n,r]),ref:b,style:{...a,scale:S,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:i})}m.memo(zne);const qne=({id:e,data:t})=>{const{field:n}=t,{setNodes:r,setEdges:a}=na(),i=()=>{r(o=>o.filter(l=>l.id!==e)),a(o=>o.filter(l=>l.source!==e&&l.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:i,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Cs,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:n.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:n.path,children:n.path})]}),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})};class Wne{constructor(){ft(this,"functionsCache",null);ft(this,"cacheExpiry",0);ft(this,"cacheDuration",5*60*1e3)}async getAllFunctions(){if(this.functionsCache&&Date.now()<this.cacheExpiry)return this.functionsCache;try{const n=(await Qe.get("/development/functions")).builtInFunctions.map(r=>{let a=[];if(r.parameters)a=r.parameters;else{const i=r.signature.match(/\((.*)\)/);i&&i[1]&&(a=i[1].split(",").map(l=>l.trim()).map(l=>({name:l,type:"any",required:!0})))}return{name:r.name,category:r.category,description:r.description,parameters:a,isBuiltIn:!0,execute:this.getExecuteFunction(r.name),javaTemplate:this.getJavaTemplate(r.name,a)}});return this.functionsCache=n,this.cacheExpiry=Date.now()+this.cacheDuration,n}catch(t){return console.error("Failed to fetch functions from API:",t),[]}}async getBuiltInFunctionByName(t){try{const n=await Qe.get(`/development/functions/built-in/${t}`);if(n.parameters&&typeof n.parameters=="string")try{n.parameters=JSON.parse(n.parameters)}catch(r){console.error("Failed to parse parameters:",r),n.parameters=[]}return n}catch(n){return console.error("Failed to fetch function by name:",n),null}}clearCache(){this.functionsCache=null,this.cacheExpiry=0}getExecuteFunction(t){return{add:(r,a)=>r+a,subtract:(r,a)=>r-a,multiply:(r,a)=>r*a,divide:(r,a)=>r/a,equals:(r,a)=>r===a,absolute:r=>Math.abs(r),sqrt:r=>Math.sqrt(r),square:r=>r*r,sign:r=>Math.sign(r),neg:r=>-r,inv:r=>1/r,power:(r,a)=>Math.pow(r,a),lesser:(r,a)=>r<a,greater:(r,a)=>r>a,max:(r,a)=>Math.max(r,a),min:(r,a)=>Math.min(r,a),ceil:r=>Math.ceil(r),floor:r=>Math.floor(r),round:r=>Math.round(r),counter:(r=0,a=1)=>r+a,formatNumber:(r,a,i)=>r.toFixed(i||0).padStart(a,"0"),sum:r=>r.reduce((a,i)=>a+i,0),average:r=>r.reduce((a,i)=>a+i,0)/r.length,count:r=>r.length,index:r=>r,concat:(r,a,i)=>i?`${r}${i}${a}`:`${r}${a}`,substring:(r,a,i)=>r.substring(a,i),indexOf:(r,a)=>r.indexOf(a),lastIndexOf:(r,a)=>r.lastIndexOf(a),compare:(r,a)=>r.localeCompare(a),replaceString:(r,a,i)=>r.replace(new RegExp(a,"g"),i),length:r=>r.length,endsWith:(r,a)=>r.endsWith(a),startsWith:(r,a)=>r.startsWith(a),toUpperCase:r=>r.toUpperCase(),toLowerCase:r=>r.toLowerCase(),trim:r=>r.trim(),and:(r,a)=>r&&a,or:(r,a)=>r||a,not:r=>!r,notEquals:(r,a)=>r!==a,if:(r,a,i)=>r?a:i,ifWithoutElse:(r,a)=>r?a:void 0,isNil:r=>r==null,constant:r=>r,fixValues:(r,a)=>r}[t]}getJavaTemplate(t,n){const r=n.map((a,i)=>`{${i}}`).join(", ");return`${t}(${r})`}}const R_=new Wne,Yne=({id:e,data:t})=>{const[n,r]=m.useState(t.function),[a,i]=m.useState(t.parameters),[o,l]=m.useState(!1),[c,d]=m.useState([]),[u,h]=m.useState(!1),{setNodes:f,setEdges:x}=na();m.useEffect(()=>{(async()=>{h(!0);try{const N=await R_.getAllFunctions();if(d(N),"isBuiltIn"in t.function&&t.function.isBuiltIn){const b=N.find(C=>C.name===t.function.name);b&&r(b)}}catch(N){console.error("Failed to load functions:",N)}finally{h(!1)}})()},[t.function]);const g=w=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(C=>w.name.toLowerCase().includes(C))||n.parameters.indexOf(w)===0&&w.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(C=>w.name.toLowerCase().includes(C))?!1:w.required,p=m.useMemo(()=>{const w=Object.values(Rb).flat(),N=new Map;return w.forEach(b=>{N.set(b.name,b)}),c.forEach(b=>{N.set(b.name,b)}),Array.from(N.values())},[c]),j=w=>{const N=p.find(b=>b.name===w);N&&(r(N),i({}))},v=(w,N)=>{const b={...a,[w]:N};i(b),f(C=>C.map(S=>S.id===e?{...S,data:{...S.data,parameters:b}}:S))},y=()=>{f(w=>w.filter(N=>N.id!==e)),x(w=>w.filter(N=>N.source!==e&&N.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(En,{className:"h-4 w-4 text-orange-500"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:w=>{w.preventDefault(),w.stopPropagation(),l(!o)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:s.jsx(Ht,{className:`h-3 w-3 ${o?"text-primary":""}`})})]}),t.showSelector?s.jsxs(Z,{value:n.name,onValueChange:j,disabled:u,children:[s.jsx(J,{className:"w-full text-xs",children:s.jsx(ee,{})}),s.jsx(Q,{children:(()=>{const w=p.reduce((N,b)=>{const C=b.category||"general";return N[C]||(N[C]=[]),N[C].push(b),N},{});return Object.entries(w).map(([N,b])=>s.jsxs("div",{children:[s.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:N}),b.map(C=>s.jsx(D,{value:C.name,className:"text-xs",children:C.name},C.name))]},N))})()})]}):s.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&s.jsx(Nn,{className:"h-3 w-3"}),n.name]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:n.description}),o&&s.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs font-medium",children:"Custom Java Code"}),s.jsx(Re,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:w=>v("customCode",w.target.value)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):s.jsxs(s.Fragment,{children:[s.jsx(E,{className:"text-xs font-medium",children:"Parameters"}),n.parameters.filter(w=>!g(w)).length===0?s.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):n.parameters.filter(w=>!g(w)).map(w=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs(E,{className:"text-xs",children:[w.name,w.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(U,{placeholder:`${w.type} value`,value:a[w.name]||"",onChange:N=>v(w.name,N.target.value),className:"h-6 text-xs"}),w.description&&s.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]},w.name))]})}),n.parameters.map((w,N)=>g(w)?s.jsx(is,{type:"target",position:Te.Left,id:w.name,style:{top:`${60+N*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${w.name}`):null),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},Kne=({data:e})=>{const[t,n]=m.useState(e.value),[r,a]=m.useState(e.type);return s.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(AB,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Z,{value:r,onValueChange:i=>a(i),children:[s.jsx(J,{className:"w-full h-7 text-xs",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"string",children:"String"}),s.jsx(D,{value:"number",children:"Number"}),s.jsx(D,{value:"boolean",children:"Boolean"})]})]}),r==="boolean"?s.jsxs(Z,{value:t,onValueChange:n,children:[s.jsx(J,{className:"w-full h-7 text-xs",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"true",children:"true"}),s.jsx(D,{value:"false",children:"false"})]})]}):s.jsx(U,{placeholder:`Enter ${r} value`,value:t,onChange:i=>n(i.target.value),type:r==="number"?"number":"text",className:"h-7 text-xs"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},Xne=({data:e})=>{const{field:t}=e;return s.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Bj,{className:"h-4 w-4 text-purple-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),s.jsx(is,{type:"target",position:Te.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},Gne=({data:e})=>{const[t,n]=m.useState(e.condition),[r,a]=m.useState(e.compareValue);return s.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ri,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Condition"}),s.jsxs(Z,{value:t,onValueChange:i=>n(i),children:[s.jsx(J,{className:"w-full h-7 text-xs",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"equals",children:"Equals"}),s.jsx(D,{value:"notEquals",children:"Not Equals"}),s.jsx(D,{value:"contains",children:"Contains"}),s.jsx(D,{value:"startsWith",children:"Starts With"}),s.jsx(D,{value:"endsWith",children:"Ends With"}),s.jsx(D,{value:"isEmpty",children:"Is Empty"}),s.jsx(D,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Compare Value"}),s.jsx(U,{placeholder:"Value to compare",value:r,onChange:i=>a(i.target.value),className:"h-7 text-xs"})]})]}),s.jsx(is,{type:"target",position:Te.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),s.jsx(is,{type:"source",position:Te.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),s.jsx(is,{type:"source",position:Te.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),s.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),s.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function Jne(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Gb="ScrollArea",[D_,zye]=pn(Gb),[Qne,sr]=D_(Gb),F_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[x,g]=m.useState(null),[p,j]=m.useState(null),[v,y]=m.useState(0),[w,N]=m.useState(0),[b,C]=m.useState(!1),[S,P]=m.useState(!1),A=Be(t,O=>c(O)),F=fd(a);return s.jsx(Qne,{scope:n,type:r,dir:F,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:b,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:j,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(Me.div,{dir:F,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});F_.displayName=Gb;var O_="ScrollAreaViewport",I_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:i,...o}=e,l=sr(O_,n),c=m.useRef(null),d=Be(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:lre({asChild:a,children:r},u=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});I_.displayName=O_;var ra="ScrollAreaScrollbar",Jb=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sr(ra,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Zne,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(ere,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(__,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(Qb,{...r,ref:t}):null});Jb.displayName=ra;var Zne=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sr(ra,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ys,{present:n||i,children:s.jsx(__,{"data-state":i?"visible":"hidden",...r,ref:t})})}),ere=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sr(ra,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Rg(()=>c("SCROLL_END"),100),[l,c]=Jne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const x=d[u];h!==x&&(c("SCROLL"),o()),h=x};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(ys,{present:n||l!=="hidden",children:s.jsx(Qb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),__=m.forwardRef((e,t)=>{const n=sr(ra,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=Rg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return Yc(n.viewport,c),Yc(n.content,c),s.jsx(ys,{present:r||i,children:s.jsx(Qb,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Qb=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=sr(ra,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=B_(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,x){return ire(f,o.current,l,x)}return n==="horizontal"?s.jsx(tre,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,x=_2(f,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(sre,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,x=_2(f,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),tre=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=sr(ra,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Be(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx($_,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),z_(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zp(o.paddingLeft),paddingEnd:Zp(o.paddingRight)}})}})}),sre=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=sr(ra,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Be(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx($_,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),z_(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zp(o.paddingTop),paddingEnd:Zp(o.paddingBottom)}})}})}),[nre,L_]=D_(ra),$_=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,x=sr(ra,n),[g,p]=m.useState(null),j=Be(t,A=>p(A)),v=m.useRef(null),y=m.useRef(""),w=x.viewport,N=r.content-r.viewport,b=Wt(u),C=Wt(c),S=Rg(h,10);function P(A){if(v.current){const F=A.clientX-v.current.left,O=A.clientY-v.current.top;d({x:F,y:O})}}return m.useEffect(()=>{const A=F=>{const O=F.target;(g==null?void 0:g.contains(O))&&b(F,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,g,N,b]),m.useEffect(C,[r,C]),Yc(g,S),Yc(x.content,S),s.jsx(nre,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:Wt(i),onThumbPointerUp:Wt(o),onThumbPositionChange:C,onThumbPointerDown:Wt(l),children:s.jsx(Me.div,{...f,ref:j,style:{position:"absolute",...f.style},onPointerDown:je(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:je(e.onPointerMove,P),onPointerUp:je(e.onPointerUp,A=>{const F=A.target;F.hasPointerCapture(A.pointerId)&&F.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),v.current=null})})})}),Qp="ScrollAreaThumb",V_=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=L_(Qp,e.__scopeScrollArea);return s.jsx(ys,{present:n||a.hasThumb,children:s.jsx(rre,{ref:t,...r})})}),rre=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=sr(Qp,n),o=L_(Qp,n),{onThumbPositionChange:l}=o,c=Be(t,h=>o.onThumbChange(h)),d=m.useRef(),u=Rg(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const x=ore(h,l);d.current=x,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(e.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),g=h.clientX-x.left,p=h.clientY-x.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:je(e.onPointerUp,o.onThumbPointerUp)})});V_.displayName=Qp;var Zb="ScrollAreaCorner",U_=m.forwardRef((e,t)=>{const n=sr(Zb,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(are,{...e,ref:t}):null});U_.displayName=Zb;var are=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=sr(Zb,n),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return Yc(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Yc(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Me.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zp(e){return e?parseInt(e,10):0}function B_(e,t){const n=e/t;return isNaN(n)?0:n}function Mg(e){const t=B_(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ire(e,t,n,r="ltr"){const a=Mg(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return H_([c,d],h)(e)}function _2(e,t,n="ltr"){const r=Mg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=l0(e,c);return H_([0,o],[0,l])(d)}function H_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function z_(e,t){return e>0&&e<t}var ore=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Rg(e,t){const n=Wt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yc(e,t){const n=Wt(t);gs(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function lre(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=m.Children.only(r);return m.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var q_=F_,cre=I_,dre=U_;const Jr=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(q_,{ref:r,className:le("relative overflow-hidden",e),...n,children:[s.jsx(cre,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(W_,{}),s.jsx(dre,{})]}));Jr.displayName=q_.displayName;const W_=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(Jb,{ref:r,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(V_,{className:"relative flex-1 rounded-full bg-border"})}));W_.displayName=Jb.displayName;const ure=({open:e,onClose:t,sourceFields:n,onSelectField:r,excludeFields:a=[]})=>{const[i,o]=m.useState(""),[l,c]=m.useState(new Set),d=j=>{c(v=>{const y=new Set(v);return y.has(j)?y.delete(j):y.add(j),y})},u=j=>{r(j),t(),o(""),c(new Set)},h=(j,v=0)=>{var S;const y=!j.children||j.children.length===0,w=l.has(j.id),N=a.includes(j.id),b=!i||j.name.toLowerCase().includes(i.toLowerCase())||j.path.toLowerCase().includes(i.toLowerCase())||j.type.toLowerCase().includes(i.toLowerCase()),C=(S=j.children)==null?void 0:S.some(P=>P.name.toLowerCase().includes(i.toLowerCase())||P.path.toLowerCase().includes(i.toLowerCase())||P.type.toLowerCase().includes(i.toLowerCase()));return!b&&!C?null:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":y?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${v*16}px`},onClick:()=>{y&&!N?u(j):y||d(j.id)},children:[!y&&s.jsx(q,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),d(j.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:w?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(kn,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx(Cs,{className:"h-3 w-3 text-info flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:j.name}),s.jsx(de,{variant:"outline",className:"text-xs",children:j.type}),N&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Already added"})]}),y&&!N&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!y&&w&&j.children&&s.jsx("div",{className:"ml-2",children:j.children.map(P=>h(P,v+1))})]},j.id)},f=j=>{const v=[],y=w=>{!w.children||w.children.length===0?v.push(w):w.children.forEach(y)};return j.forEach(y),v},x=n.filter(j=>!a.includes(j.id)),g=f(n).length,p=f(x).length;return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-2xl h-[80vh] flex flex-col",children:[s.jsx(Lt,{className:"flex-shrink-0",children:s.jsxs($t,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{children:"Select Source Field"}),s.jsxs(de,{variant:"outline",className:"text-xs",children:[p," of ",g," available"]})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Et,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search fields by name, path, or type...",value:i,onChange:j=>o(j.target.value),className:"pl-10"})]})}),s.jsx(Jr,{className:"flex-1",children:s.jsx("div",{className:"space-y-2 pr-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Cs,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No available source fields to add"})]}):x.map(j=>h(j))})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var eS="Tabs",[hre,qye]=pn(eS,[pd]),Y_=pd(),[mre,tS]=hre(eS),K_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=fd(l),[h,f]=Gn({prop:r,onChange:a,defaultProp:i});return s.jsx(mre,{scope:n,baseId:qn(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:s.jsx(Me.div,{dir:u,"data-orientation":o,...d,ref:t})})});K_.displayName=eS;var X_="TabsList",G_=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=tS(X_,n),o=Y_(n);return s.jsx(ib,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});G_.displayName=X_;var J_="TabsTrigger",Q_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=tS(J_,n),l=Y_(n),c=tL(o.baseId,r),d=sL(o.baseId,r),u=r===o.value;return s.jsx(ob,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:je(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:je(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(r)})})})});Q_.displayName=J_;var Z_="TabsContent",eL=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=tS(Z_,n),c=tL(l.baseId,r),d=sL(l.baseId,r),u=r===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(ys,{present:a||u,children:({present:f})=>s.jsx(Me.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});eL.displayName=Z_;function tL(e,t){return`${e}-trigger-${t}`}function sL(e,t){return`${e}-content-${t}`}var fre=K_,nL=G_,rL=Q_,aL=eL;const lt=fre,nt=m.forwardRef(({className:e,...t},n)=>s.jsx(nL,{ref:n,className:le("flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));nt.displayName=nL.displayName;const me=m.forwardRef(({className:e,...t},n)=>s.jsx(rL,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));me.displayName=rL.displayName;const ue=m.forwardRef(({className:e,...t},n)=>s.jsx(aL,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ue.displayName=aL.displayName;const pre=({open:e,onClose:t,onSelectFunction:n})=>{const[r,a]=m.useState(""),[i,o]=m.useState([]),[l,c]=m.useState(!1);m.useEffect(()=>{e&&(async()=>{c(!0);try{const p=await R_.getAllFunctions();o(p)}catch(p){console.error("Failed to load functions:",p)}finally{c(!1)}})()},[e]);const d=bt.useMemo(()=>{const g={};return Object.entries(Rb).forEach(([p,j])=>{g[p]=[...j]}),i.forEach(p=>{const j=p.category||"general";g[j]||(g[j]=[]),g[j]=g[j].filter(v=>v.name!==p.name),g[j].push(p)}),g},[i]),u=Object.entries(d).reduce((g,[p,j])=>{const v=j.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.description.toLowerCase().includes(r.toLowerCase()));return v.length>0&&(g[p]=v),g},{}),h=g=>{n(g),t(),a("")},f=Object.values(d).flat().length,x=Object.values(u).flat().length;return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(Lt,{className:"flex-shrink-0",children:s.jsxs($t,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sv,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Select Function"}),s.jsxs(de,{variant:"outline",className:"text-xs",children:[x," of ",f," functions"]})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Et,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search functions by name or description...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ct,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading functions..."})]}):Object.keys(u).length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Sv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No functions found matching your search"})]}):s.jsxs(lt,{defaultValue:Object.keys(u)[0],className:"h-full flex flex-col",children:[s.jsx(nt,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(u).length}, 1fr)`},children:Object.keys(u).map(g=>s.jsxs(me,{value:g,className:"capitalize text-xs",children:[g," (",u[g].length,")"]},g))}),Object.entries(u).map(([g,p])=>s.jsx(ue,{value:g,className:"flex-1 mt-4",children:s.jsx(Jr,{className:"h-full",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:p.map(j=>s.jsxs(K,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>h(j),children:[s.jsx(re,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Sv,{className:"h-3 w-3 text-primary"}),j.name]}),s.jsx(xe,{className:"text-xs mt-1",children:j.description})]}),s.jsx(de,{variant:"secondary",className:"text-xs ml-2",children:j.category})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.parameters.length," parameter",j.parameters.length!==1?"s":""]}),s.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},j.name))})})},g))]})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},xre=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:i,targetPosition:o,style:l={},markerEnd:c,selected:d=!1})=>{const{setEdges:u}=na(),[h,f,x]=zb({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:a,targetPosition:o}),g=p=>{p.stopPropagation(),u(j=>j.filter(v=>v.id!==e))};return s.jsxs(s.Fragment,{children:[s.jsx(im,{path:h,markerEnd:c,style:l}),d&&s.jsx(yne,{children:s.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${f}px,${x}px)`},children:s.jsx(q,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:s.jsx(Et,{className:"h-3 w-3"})})})})]})},gre={sourceField:qne,function:Yne,constant:Kne,targetField:Xne,conditional:Gne},vre={deletable:xre},yre=({open:e,onClose:t,sourceFields:n,targetField:r,onApplyMapping:a,initialMapping:i})=>{const[o,l,c]=S_([]),[d,u,h]=C_([]),[f,x]=m.useState(1),[g,p]=m.useState(!1),[j,v]=m.useState(!1);bt.useEffect(()=>{var F,O;if(e&&r){let _=[],$=[],I=1;if(i!=null&&i.visualFlowData)_=i.visualFlowData.nodes,$=i.visualFlowData.edges,I=i.visualFlowData.nodeIdCounter;else{_.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:r}});const k=(M,R,L)=>{for(const H of M){if(H.name===R||H.path===R||L&&H.path===L)return H;if(H.children&&H.children.length>0){const V=k(H.children,R,L);if(V)return V}}};i&&i.sourcePaths&&i.sourcePaths.length>0?i.sourcePaths.forEach((M,R)=>{let L=n.find(H=>H.path===M||H.name===M);if(L||(L=k(n,M,M)),!L&&i.sourceFields&&i.sourceFields[R]){const H=i.sourceFields[R];L={id:`source_${H}_${Date.now()}_${R}`,name:H,type:"string",path:M,expanded:!1}}if(L){const H=`source-${L.id}`;_.push({id:H,type:"sourceField",position:{x:50,y:50+R*100},data:{field:L}}),$.push({id:`edge-${H}-target`,source:H,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}})}}):i&&i.sourceFields&&i.sourceFields.length>0&&i.sourceFields.forEach((M,R)=>{let L=n.find(H=>H.name===M||H.path===M);if(L||(L=k(n,M,M)),L||(L={id:`source_${M}_${Date.now()}_${R}`,name:M,type:"string",path:M,expanded:!1}),L){const H=`source-${L.id}`;_.push({id:H,type:"sourceField",position:{x:50,y:50+R*100},data:{field:L}}),$.push({id:`edge-${H}-target`,source:H,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}})}}),I=2+(((F=i==null?void 0:i.sourcePaths)==null?void 0:F.length)||((O=i==null?void 0:i.sourceFields)==null?void 0:O.length)||0)}l(_),u($),x(I)}},[e,r,n,i,l,u]);const y=m.useCallback(F=>{if(F.target==="target")u(O=>{const _=O.filter(I=>I.target!=="target"),$={...F,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}};return Gp($,_)});else{const O={...F,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}};u(_=>Gp(O,_))}},[u]),w=m.useCallback(()=>{p(!0)},[]),N=m.useCallback(F=>{const O=o.filter($=>$.type==="sourceField"),_={id:`source-${F.id}`,type:"sourceField",position:{x:50,y:50+O.length*100},data:{field:F}};l($=>[...$,_])},[o,l]),b=m.useCallback(()=>{v(!0)},[]),C=m.useCallback(F=>{const O=o.filter($=>$.type==="function"),_={id:`function-${f}`,type:"function",position:{x:350,y:50+O.length*120},data:{function:F,parameters:{},showSelector:!1}};l($=>[...$,_]),x($=>$+1)},[f,o,l]),S=m.useCallback(()=>{const F=o.filter(_=>_.type==="function"&&_.data.function.name==="custom"),O={id:`custom-function-${f}`,type:"function",position:{x:350,y:50+F.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(_=>[..._,O]),x(_=>_+1)},[f,o,l]),P=m.useCallback(()=>{if(!r||(console.log(" VisualFlowEditor handleSave - saving with nodes:",o.length,"edges:",d.length),!o.find(I=>I.type==="targetField")))return;const O=[],_=[];o.forEach(I=>{I.type==="sourceField"&&d.some(T=>T.source===I.id)&&(O.push(I.data.field.path),_.push(I.data.field.name))}),console.log(" VisualFlowEditor handleSave - connectedSourcePaths:",O),console.log(" VisualFlowEditor handleSave - connectedSourceFields:",_);const $={id:(i==null?void 0:i.id)||`mapping_${Date.now()}`,name:(i==null?void 0:i.name)||`visual_flow_to_${r.name}`,sourceFields:_,targetField:r.name,sourcePaths:O,targetPath:r.path||r.name,requiresTransformation:!0,visualFlowData:{nodes:o,edges:d,nodeIdCounter:f},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log(" VisualFlowEditor handleSave - final mapping:",$),a($),t()},[o,d,f,r,i,a,t]),A=m.useMemo(()=>{const F=o.find(_=>_.type==="targetField");return F?d.some(_=>_.target===F.id):!1},[o,d]);return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[s.jsx(Lt,{className:"p-4 pb-2 border-b bg-muted/30",children:s.jsxs($t,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",s.jsx("span",{className:"font-medium text-primary",children:r.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{onClick:P,disabled:!A,className:"bg-primary text-primary-foreground",children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),s.jsxs(q,{variant:"outline",onClick:t,children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:s.jsxs(b_,{nodes:o,edges:d,onNodesChange:c,onEdgesChange:h,onConnect:y,nodeTypes:gre,edgeTypes:vre,connectionMode:el.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[s.jsx(T_,{gap:20,size:1}),s.jsx(A_,{}),s.jsx(M_,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),s.jsx(Wc,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),s.jsxs(q,{onClick:w,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Source Field"]}),s.jsxs(q,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(En,{className:"h-4 w-4 mr-2"}),"Function"]}),s.jsxs(q,{onClick:S,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),s.jsx(Wc,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-red-500"}`}),s.jsx("div",{className:"text-sm font-medium",children:A?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),s.jsx(ure,{open:g,onClose:()=>p(!1),sourceFields:n,onSelectField:N,excludeFields:o.filter(F=>F.type==="sourceField").map(F=>F.data.field.id)}),s.jsx(pre,{open:j,onClose:()=>v(!1),onSelectFunction:C})]})})};function jre({mappings:e,sourceFields:t=[],targetFields:n=[],onRemoveMapping:r,onUpdateMapping:a,onCreateMapping:i}){const[o,l]=m.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[c,d]=m.useState({open:!1,targetField:null});m.useEffect(()=>{console.log(" Modal state changed:",o)},[o]),m.useEffect(()=>{console.log(" Visual flow editor state changed:",c)},[c]);const u=x=>{console.log(" handleOpenVisualFlowEditor called with mappingId:",x),console.log(" Available mappings:",e),console.log(" Available targetFields:",n),console.log(" Target fields names:",n.map(j=>j==null?void 0:j.name));const g=e.find(j=>j.id===x);if(console.log(" Found existing mapping:",g),!g){console.log(" No existing mapping found for ID:",x);return}let p=n.find(j=>(j==null?void 0:j.name)===g.targetField);if(!p&&g.targetPath&&(p=n.find(j=>(j==null?void 0:j.path)===g.targetPath)),!p){const j=(v,y,w)=>{for(const N of v){if(N.name===y||w&&N.path===w)return N;if(N.children&&N.children.length>0){const b=j(N.children,y,w);if(b)return b}}};p=j(n,g.targetField,g.targetPath)}if(console.log(" Looking for target field with name:",g.targetField),console.log(" Looking for target field with path:",g.targetPath),console.log(" Found target field:",p),!p){console.log(" Target field not found, attempting to create a proper target field from mapping data");let j=g.targetField,v=g.targetPath||g.targetField;if(g.targetPath&&g.targetPath.includes(".")){const w=g.targetPath.split(".");j=w[w.length-1]}const y={id:`target_${j}_${Date.now()}`,name:j,type:"string",path:v,children:[],expanded:!1};console.log(" Created proper target field:",y),d({open:!0,targetField:y,existingMapping:g});return}console.log(" Opening visual flow editor with:",{targetField:p.name,existingMapping:g.id}),d({open:!0,targetField:p,existingMapping:g})},h=x=>{console.log(" handleApplyVisualFlow called with:",x),c.existingMapping?a&&a(c.existingMapping.id,{functionNode:x.functionNode,visualFlowData:x.visualFlowData,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths,name:x.name}):i&&i(x),d({open:!1,targetField:null})},f=x=>{o.existingMappingId?a&&a(o.existingMappingId,{functionNode:x.functionNode,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths}):i&&i(x),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log(" MappingArea render - mappings count:",e.length),console.log(" MappingArea render - mappings:",e),s.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(jp,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),s.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?s.jsx(tt,{className:"mt-8",children:s.jsx(st,{children:"Drag fields from source to target to create mappings"})}):s.jsx("div",{className:"space-y-3",children:e.map(x=>{var g,p;return s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"outline",className:"text-xs",children:x.sourceFields&&x.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),x.requiresTransformation===!1&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Pass-through"}),x.functionNode&&s.jsx(de,{variant:x.functionNode.functionName==="nodeMapping"?"secondary":"default",className:"text-xs",children:x.functionNode.functionName==="nodeMapping"?`Node: ${((g=x.functionNode.parameters)==null?void 0:g.sourceType)||"object"}  ${((p=x.functionNode.parameters)==null?void 0:p.targetType)||"object"}`:`Function: ${x.functionNode.functionName}`})]}),s.jsxs("div",{className:"flex gap-1",children:[x.requiresTransformation!==!1&&s.jsx(s.Fragment,{children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{console.log(" Lightning bolt clicked for mapping:",x.id),u(x.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:s.jsx(En,{className:"h-3 w-3"})})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(x.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:s.jsx(Et,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-medium text-primary",children:x.name})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Source:"}),s.jsx("span",{className:"text-muted-foreground",children:x.sourceFields?x.sourceFields.join(", "):""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jp,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium",children:"Target:"}),s.jsx("span",{className:"text-muted-foreground",children:x.targetField})]}),x.requiresTransformation!==!1&&s.jsxs(s.Fragment,{children:[x.functionNode&&s.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(En,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),s.jsx("div",{className:"text-muted-foreground",children:x.functionNode.functionName==="visual_flow"?x.visualFlowData?`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s): ${x.sourceFields?x.sourceFields.join(", "):""}`:`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s) connected`:`${x.functionNode.functionName} with ${Object.keys(x.functionNode.sourceConnections).length} parameter(s) connected`})]}),!x.functionNode&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),x.requiresTransformation===!1&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},x.id)})})}),o.open&&o.targetField&&s.jsx(MG,{open:o.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:o.selectedFunction,sourceFields:o.filteredSourceFields||t,targetField:o.targetField,onApplyMapping:f}),c.open&&c.targetField&&s.jsx(yre,{open:c.open,onClose:()=>d({open:!1,targetField:null}),sourceFields:t,targetField:c.targetField,onApplyMapping:h,initialMapping:c.existingMapping})]})}function wre({open:e,onOpenChange:t,mappings:n,mappingName:r,mappingType:a,sourceXml:i="",targetXml:o=""}){const{toast:l}=mt(),[c,d]=m.useState(""),[u,h]=m.useState(""),[f,x]=m.useState("idle"),[g,p]=m.useState(""),[j,v]=m.useState(!1),y=S=>{var A;const P=(A=S.target.files)==null?void 0:A[0];if(P){const F=new FileReader;F.onload=O=>{var $;const _=($=O.target)==null?void 0:$.result;d(_)},F.readAsText(P)}},w=async()=>{var S,P;if(!c.trim()){l({title:"Input Required",description:"Please provide input XML to test the mapping",variant:"destructive"});return}v(!0),x("testing"),p(""),h("");try{const A=await te.post("/test/field-mappings",{inputXml:c,mappings:n.map(F=>{var O;return{sourceFields:F.sourceFields,targetField:F.targetField,sourcePaths:F.sourcePaths,targetPath:F.targetPath,javaFunction:((O=F.functionNode)==null?void 0:O.functionName)==="visual_flow"?"visual_flow":F.javaFunction,functionNode:F.functionNode,visualFlowData:F.visualFlowData,requiresTransformation:F.requiresTransformation!==!1}}),mappingType:a,sourceStructureXml:i,targetStructureXml:o});if(A.data.success)h(A.data.outputXml),x("success"),l({title:"Test Successful",description:"Field mappings were applied successfully"});else throw new Error(A.data.error||"Test failed")}catch(A){x("error");const F=((P=(S=A.response)==null?void 0:S.data)==null?void 0:P.message)||A.message||"Failed to test mappings";p(F),l({title:"Test Failed",description:F,variant:"destructive"})}finally{v(!1)}},N=()=>{navigator.clipboard.writeText(u),l({title:"Copied",description:"Output XML copied to clipboard"})},b=()=>{const S=new Blob([u],{type:"text/xml"}),P=URL.createObjectURL(S),A=document.createElement("a");A.href=P,A.download=`${r}_${a}_output.xml`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(P)},C=()=>{d(`<?xml version="1.0" encoding="UTF-8"?>
<${a==="request"?"Request":a==="response"?"Response":"Fault"}>
    <!-- Add your test data here -->
    <Token>sample-token-123</Token>
    <amount>100.00</amount>
    <subClass>A</subClass>
    <tariffIndex>1</tariffIndex>
    <meterBaseDate>2024-01-01</meterBaseDate>
    <keyExpiryNumber>12345</keyExpiryNumber>
    <supplyGroupCode>SG001</supplyGroupCode>
    <keyRevisionNumber>1</keyRevisionNumber>
    <meterSerialNumber>MSN123456</meterSerialNumber>
    <encryptionAlgorithm>AES256</encryptionAlgorithm>
</${a==="request"?"Request":a==="response"?"Response":"Fault"}>`)};return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(Lt,{children:[s.jsxs($t,{children:["Test Field Mappings - ",r]}),s.jsxs(Cr,{children:["Test your ",a," field mappings with sample XML data. Upload or paste your input XML to see the transformation results."]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(lt,{defaultValue:"test",className:"h-full flex flex-col",children:[s.jsxs(nt,{children:[s.jsx(me,{value:"test",children:"Test Mappings"}),s.jsxs(me,{value:"mappings",children:["View Mappings (",n.length,")"]})]}),s.jsxs(ue,{value:"test",className:"flex-1 overflow-auto mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Input XML"}),s.jsx(xe,{children:"Provide the source XML to test the mappings"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:C,children:"Load Sample"}),s.jsx(E,{htmlFor:"file-upload",className:"cursor-pointer",children:s.jsx(q,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Ox,{className:"h-4 w-4 mr-2"}),"Upload XML"]})})}),s.jsx("input",{id:"file-upload",type:"file",accept:".xml",onChange:y,className:"hidden"})]}),s.jsx(Re,{value:c,onChange:S=>d(S.target.value),placeholder:"Paste your input XML here...",className:"font-mono text-sm h-[400px]"})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Output XML"}),s.jsx(xe,{children:"Transformed XML after applying field mappings"})]}),s.jsxs(G,{className:"space-y-4",children:[f==="success"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:N,children:[s.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Copy"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Download"]})]}),f==="idle"&&s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(st,{children:'Click "Test Mapping" to see the transformation results'})]}),f==="testing"&&s.jsx("div",{className:"flex items-center justify-center h-[400px]",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin text-primary"})}),f==="error"&&s.jsxs(tt,{variant:"destructive",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(st,{children:g})]}),f==="success"&&s.jsx(Re,{value:u,readOnly:!0,className:"font-mono text-sm h-[400px]"})]})]})]}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(q,{onClick:w,disabled:j||!c.trim(),size:"lg",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Test Mapping"]})})})]}),s.jsx(ue,{value:"mappings",className:"flex-1 overflow-auto mt-4",children:s.jsx("div",{className:"space-y-4",children:n.map((S,P)=>s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-sm",children:S.name}),s.jsxs(de,{variant:"outline",children:["Mapping ",P+1]})]})}),s.jsxs(G,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Source Fields"}),s.jsx("p",{className:"font-mono",children:S.sourceFields.join(", ")})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Target Field"}),s.jsx("p",{className:"font-mono",children:S.targetField})]})]}),S.functionNode&&s.jsxs("div",{children:[s.jsx(E,{className:"text-muted-foreground",children:"Transformation"}),s.jsx("p",{className:"font-mono text-sm",children:S.functionNode.functionName})]})]})]},S.id))})})]})})]})})}async function k0(e,t){var n;try{const r=await te.post(`/structures/${e}/convert-to-xml`,t||{});return console.log("Received XML conversion result:",{structureId:r.data.structureId,structureName:r.data.structureName,xmlContent:r.data.xmlContent}),r.data}catch(r){throw console.error("XML conversion error for structure:",e,(n=r.response)==null?void 0:n.data),r}}function ty(e){const n=new DOMParser().parseFromString(e,"text/xml");console.log("Parsing XML content:",e);const r=n.querySelector("parsererror");if(r){const o=e.split(`
`);if(console.error("XML parsing error details:",{errorText:r.textContent,lineCount:o.length,problematicLines:o.map((l,c)=>({lineNumber:c+1,content:l,length:l.length})).filter(l=>l.lineNumber>=15&&l.lineNumber<=25)}),console.error("Full line 17:",o[16]),console.error("Full line 18:",o[17]),o[17]){console.error("Line 18 character analysis around column 14:");for(let l=10;l<20&&l<o[17].length;l++)console.error(`  Position ${l}: '${o[17][l]}' (char code: ${o[17].charCodeAt(l)})`)}throw new Error("Invalid XML: "+r.textContent)}const a=n.documentElement;return[{id:`${a.tagName}_root`,name:a.tagName,type:"object",path:a.tagName,expanded:!0,children:M0(a,a.tagName)}]}function M0(e,t=""){const n=[];if(e.attributes.length>0)for(let i=0;i<e.attributes.length;i++){const o=e.attributes[i];if(!o.name.startsWith("xmlns")){const l=t?`${t}.@${o.name}`:`@${o.name}`;n.push({id:`${l}_attr_${i}`,name:`@${o.name}`,type:"attribute",path:l,expanded:!1})}}const r=new Set,a=new Map;for(let i=0;i<e.children.length;i++){const o=e.children[i],l=o.tagName;a.has(l)||a.set(l,[]),a.get(l).push(o)}console.log("Processing children in order for node:",e.tagName);for(let i=0;i<e.children.length;i++){const l=e.children[i].tagName;if(console.log(`  Child ${i}: ${l}`),r.has(l))continue;r.add(l);const c=a.get(l);if(c.length===1){const d=c[0],u=t?`${t}.${l}`:l,h=d.children.length>0||d.attributes.length>0;d.textContent&&d.children.length;const f={id:`${u}_${Date.now()}_${Math.random()}`,name:l,type:h?"object":"string",path:u,expanded:!1,children:h?M0(d,u):void 0};n.push(f)}else{const d=t?`${t}.${l}[]`:`${l}[]`,u={id:`${d}_array_${Date.now()}`,name:`${l}[]`,type:"array",path:d,expanded:!1,children:c[0].children.length>0||c[0].attributes.length>0?M0(c[0],`${d}[0]`):void 0};n.push(u)}}if(e.textContent&&e.children.length===0&&n.length===0){const i=t?`${t}._text`:"_text";n.push({id:`${i}_text`,name:"_text",type:"string",path:i,expanded:!1})}return n}function sS({onClose:e,onSave:t,initialMappingName:n="",initialMappings:r=[],sampleStructures:a=[],sourceAdapterType:i="",targetAdapterType:o="",sourceXml:l="",targetXml:c="",preConverted:d=!1,mappingType:u="request"}){const[h,f]=m.useState([]),[x,g]=m.useState([]),[p,j]=m.useState(r),[v,y]=m.useState(null),[w,N]=m.useState(""),[b,C]=m.useState(""),[S,P]=m.useState(""),[A,F]=m.useState(""),[O,_]=m.useState(!1),[$,I]=m.useState(!1),[k,T]=m.useState(n),[M,R]=m.useState(!1),[L,H]=m.useState(!1),[V,B]=m.useState(null),[W,Y]=m.useState(null),[X,ne]=m.useState(!1),{structures:se}=jd(),{toast:ce}=mt(),pe=(ke,qe)=>{try{const ct=new DOMParser().parseFromString(ke,"text/xml").documentElement,Je=document.implementation.createDocument(null,ct.tagName,null),Nt=Je.documentElement;for(let Fe=0;Fe<ct.attributes.length;Fe++){const be=ct.attributes[Fe];Nt.setAttribute(be.name,be.value)}const ae={request:["_Req_","Request","Input","input"],response:["_Resp_","Response","Output","output"],fault:["Fault","fault","Error","error","Exception"]}[qe];for(let Fe=0;Fe<ct.children.length;Fe++){const be=ct.children[Fe],De=be.tagName;if(ae.some(Oe=>De.includes(Oe)||De.toLowerCase().includes(Oe.toLowerCase()))){const Oe=Je.importNode(be,!0);Nt.appendChild(Oe)}}if(Nt.children.length===0)return console.warn(`No matching elements found for ${qe} mapping, returning original XML`),ke;if(Nt.children.length===1){const Fe=ct.tagName.toLowerCase();if(Fe==="sourcemessage"||Fe==="targetmessage"||Fe==="message"||Fe==="root"){const be=Nt.children[0],De=document.implementation.createDocument(null,be.tagName,null),_e=De.importNode(be,!0);return De.replaceChild(_e,De.documentElement),new XMLSerializer().serializeToString(De)}}return new XMLSerializer().serializeToString(Je)}catch(rt){return console.error("Error filtering XML by message type:",rt),ke}};m.useEffect(()=>{if(d&&l&&c)try{const ke=pe(l,u),qe=pe(c,u),rt=ty(ke),at=ty(qe);f(rt),g(at),P(`Pre-converted XML (${u})`),F(`Pre-converted XML (${u})`),console.log(`Filtering XML for ${u} mapping:`,{originalSource:l,filteredSource:ke,originalTarget:c,filteredTarget:qe})}catch(ke){console.error("Error parsing pre-converted XML:",ke),ce({title:"XML Parse Error",description:ke.message||"Failed to parse XML structures",variant:"destructive"})}else d||(async()=>{if(i&&o&&se.length>0&&!S&&!A){const qe=se.filter(at=>at.usage==="source"||!at.usage),rt=se.filter(at=>at.usage==="target"||!at.usage);qe.length>0&&await rr(qe[0].name,!0),rt.length>0&&await rr(rt[0].name,!1)}})()},[d,l,c,i,o,se,u]);const we=m.useCallback((ke,qe)=>{const rt=at=>at.map(ct=>ct.id===ke?{...ct,expanded:!ct.expanded}:ct.children?{...ct,children:rt(ct.children)}:ct);qe?f(rt):g(rt)},[]),he=ke=>{y(ke)},ye=()=>{y(null)},Ne=ke=>{ke.preventDefault()},Pe=ke=>{if(!v)return;const qe=v.type==="array"||v.type==="object",rt=ke.type==="array"||ke.type==="object",at=qe&&rt,ct=p.findIndex(Je=>Je.targetPath===ke.path);if(ct>=0){const Je=p[ct],Nt={...Je,sourceFields:[...Je.sourceFields,v.name],sourcePaths:[...Je.sourcePaths,v.path]},os=[...p];os[ct]=Nt,j(os)}else{const Je={id:`mapping_${Date.now()}`,name:`${v.name}_to_${ke.name}`,sourceFields:[v.name],targetField:ke.name,sourcePaths:[v.path],targetPath:ke.path,...at&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}`,functionName:"nodeMapping",parameters:{sourceType:v.type,targetType:ke.type,isArrayMapping:v.type==="array"||ke.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};j(Nt=>[...Nt,Je]),at&&ce({title:"Node Mapping Created",description:`Created ${v.type} to ${ke.type} mapping. This will map all child fields.`})}y(null)},Ye=ke=>{j(qe=>qe.filter(rt=>rt.id!==ke))},ze=()=>{j([])},Rt=ke=>ke.name.replace(/\[\]$/,"").split(".").pop()||ke.name,Zt=(ke,qe=[])=>(ke.forEach(rt=>{qe.push(rt),rt.children&&Zt(rt.children,qe)}),qe),dt=()=>{if(!h.length||!x.length){ce({title:"Cannot auto-map",description:"Please select both source and target structures first",variant:"destructive"});return}const ke=[],qe=new Set(p.map(Je=>Je.targetPath));if(V&&W){const Je=(V.type==="array"||V.type==="object")&&V.children&&V.children.length>0,Nt=(W.type==="array"||W.type==="object")&&W.children&&W.children.length>0;if(Je&&Nt){let os=0;if(!qe.has(W.path)){const be={id:`mapping_${Date.now()}_${Math.random()}`,name:`${V.name}_to_${W.name}`,sourceFields:[V.name],targetField:W.name,sourcePaths:[V.path],targetPath:W.path,javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:V.type,targetType:W.type,isArrayMapping:V.type==="array"||W.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}};ke.push(be),qe.add(W.path),os++}const ae=Zt(V.children||[]),ge=Zt(W.children||[]),Fe=new Map;ge.forEach(be=>{const De=Rt(be);Fe.has(De)||Fe.set(De,[]),Fe.get(De).push(be)}),ae.forEach(be=>{const De=Rt(be),_e=Fe.get(De)||[],Oe=_e.find(Ve=>!qe.has(Ve.path)&&Ve.type===be.type)||_e.find(Ve=>!qe.has(Ve.path));if(Oe){const Ve=(be.type==="array"||be.type==="object")&&(Oe.type==="array"||Oe.type==="object"),He={id:`mapping_${Date.now()}_${Math.random()}`,name:`${be.name}_to_${Oe.name}`,sourceFields:[be.name],targetField:Oe.name,sourcePaths:[be.path],targetPath:Oe.path,...Ve&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:be.type,targetType:Oe.type,isArrayMapping:be.type==="array"||Oe.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};ke.push(He),qe.add(Oe.path),os++}}),os>0?(j(be=>[...be,...ke]),ce({title:"Node mapping complete",description:`Created ${os} mappings for matching fields within selected nodes`})):ce({title:"No matching fields found",description:"Could not find any matching field names within the selected nodes",variant:"destructive"}),B(null),Y(null)}else if(qe.has(W.path))ce({title:"Target already mapped",description:"The selected target field is already mapped",variant:"destructive"});else{const os={id:`mapping_${Date.now()}_${Math.random()}`,name:`${V.name}_to_${W.name}`,sourceFields:[V.name],targetField:W.name,sourcePaths:[V.path],targetPath:W.path};j(ae=>[...ae,os]),ce({title:"Mapping created",description:`Mapped ${V.name} to ${W.name}`}),B(null),Y(null)}return}const rt=Zt(h),at=Zt(x),ct=new Map;at.forEach(Je=>{const Nt=Rt(Je);ct.has(Nt)||ct.set(Nt,[]),ct.get(Nt).push(Je)}),rt.forEach(Je=>{const Nt=Rt(Je),os=ct.get(Nt)||[],ae=os.find(ge=>!qe.has(ge.path)&&ge.type===Je.type)||os.find(ge=>!qe.has(ge.path));if(ae){const ge=(Je.type==="array"||Je.type==="object")&&(ae.type==="array"||ae.type==="object"),Fe={id:`mapping_${Date.now()}_${Math.random()}`,name:`${Je.name}_to_${ae.name}`,sourceFields:[Je.name],targetField:ae.name,sourcePaths:[Je.path],targetPath:ae.path,...ge&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:Je.type,targetType:ae.type,isArrayMapping:Je.type==="array"||ae.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};ke.push(Fe),qe.add(ae.path)}}),ke.length>0?(j(Je=>[...Je,...ke]),ce({title:"Auto-mapping complete",description:`Created ${ke.length} automatic mappings`})):ce({title:"No matching fields found",description:"Could not find any matching field names between source and target",variant:"destructive"})},rr=async(ke,qe)=>{const rt=se.find(at=>at.name===ke);if(!(!rt||!rt.id))try{qe?R(!0):H(!0);const ct=(await k0(rt.id,{rootElementName:rt.name.replace(/\s+/g,""),includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0,preserveNullValues:!1})).xmlContent;let Je;try{Je=ty(ct)}catch(Nt){throw console.error("Error parsing XML:",Nt),console.error("XML content that failed to parse:",ct),Nt}qe?(P(ke),f(Je),_(!1)):(F(ke),g(Je),I(!1)),ce({title:"Structure converted to XML",description:`${ke} has been converted to XML format for mapping`})}catch(at){console.error("Error converting structure to XML:",at),ce({title:"Conversion failed",description:at.message||"Failed to convert structure to XML",variant:"destructive"})}finally{qe?R(!1):H(!1)}},to=(ke,qe)=>{j(rt=>rt.map(at=>at.id===ke?{...at,...qe}:at))},aa=ke=>{j(qe=>[...qe,ke])};return s.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[s.jsx("div",{className:"border-b",children:s.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),s.jsx(U,{id:"mappingName",placeholder:"Enter mapping name",value:k,onChange:ke=>T(ke.target.value),className:"w-64"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{variant:"outline",onClick:dt,className:"hover-scale",disabled:!h.length||!x.length,children:[s.jsx(En,{className:"h-4 w-4 mr-2"}),V&&W?"Map Selected":"Map All"]}),s.jsxs(q,{variant:"outline",onClick:ze,className:"text-destructive hover:text-destructive hover-scale",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),p.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:()=>ne(!0),className:"hover-scale",children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Test Mapping"]}),s.jsxs(q,{onClick:()=>t==null?void 0:t(p,k),className:"hover-scale",disabled:!k.trim(),children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Save Mappings"]})]}),s.jsxs(q,{variant:"outline",onClick:e,className:"hover-scale",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),s.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[s.jsx(NG,{fields:h,mappings:p,selectedService:S,searchValue:w,showSelector:!d&&O,selectedField:V,onSearchChange:N,onShowSelectorChange:_,onSelectService:ke=>rr(ke,!0),onToggleExpanded:we,onDragStart:he,onDragEnd:ye,onSelectField:B,isLoading:M,hideSelector:d}),s.jsx(jre,{mappings:p,sourceFields:h,targetFields:x,onRemoveMapping:Ye,onUpdateMapping:to,onCreateMapping:aa}),s.jsx(bG,{fields:x,mappings:p,selectedService:A,searchValue:b,showSelector:!d&&$,selectedField:W,onSearchChange:C,onShowSelectorChange:I,onSelectService:ke=>rr(ke,!1),onToggleExpanded:we,onDragOver:Ne,onDrop:Pe,onSelectField:Y,isLoading:L,hideSelector:d})]}),s.jsx(wre,{open:X,onOpenChange:ne,mappings:p,mappingName:k,mappingType:u,sourceXml:l,targetXml:c})]})}const sy=e=>{const t=e.toUpperCase();return t.includes("JDBC")?Cs:t.includes("HTTP")||t.includes("REST")?xa:t.includes("SOAP")?Nn:t.includes("MAIL")?kh:t.includes("FILE")||t.includes("FTP")?Zs:Fx};function L2(){var os;Xs();const e=Fn(),{flowId:t}=eb(),{navigateBack:n,isDirectNavigation:r}=vd(),{toast:a}=mt(),{user:i}=ta(),[o,l]=m.useState(!1),c=((os=e.state)==null?void 0:os.flow)||null,[d,u]=m.useState(""),[h,f]=m.useState(""),[x,g]=m.useState(""),[p,j]=m.useState(""),[v,y]=m.useState(""),[w,N]=m.useState(""),[b,C]=m.useState(""),[S,P]=m.useState(""),[A,F]=m.useState(!0),[O,_]=m.useState(!1),[$,I]=m.useState([]),[k,T]=m.useState(!0),[M,R]=m.useState([]),[L,H]=m.useState(null),[V,B]=m.useState(""),[W,Y]=m.useState([]),[X,ne]=m.useState([]),[se,ce]=m.useState([]),[pe,we]=m.useState(!0),[he,ye]=m.useState(!1),[Ne,Pe]=m.useState(!1),[Ye,ze]=m.useState(""),[Rt,Zt]=m.useState(""),[dt,rr]=m.useState("request");PO(()=>{u(""),f(""),g(""),j(""),y(""),N(""),C(""),P(""),F(!0),I([]),T(!0),R([]),l(!1),ze(""),Zt("")}),m.useEffect(()=>{console.log("Business components state updated:",W)},[W]),m.useEffect(()=>{A&&_(!1)},[A]),m.useEffect(()=>{aa()},[]),m.useEffect(()=>{(c||t)&&ke()},[c,t]),m.useEffect(()=>{const ae=async ge=>{var Fe;if(ge&&!e.pathname.includes("/edit"))try{const be=se.find(_e=>_e.id===ge);if(!be||be.type!=="wsdl")return;const De=await te.get(`/structures/${ge}`);if(console.log("Structure response:",De.data),De.data){let _e=null;if(typeof De.data.structure=="string"&&De.data.structure.includes("wsdl:"))_e=De.data.structure;else if(De.data.namespace)De.data.namespace.schemaLocation&&De.data.namespace.schemaLocation.includes("wsdl:")?_e=De.data.namespace.schemaLocation:typeof De.data.namespace=="string"&&De.data.namespace.includes("wsdl:")&&(_e=De.data.namespace);else if(De.data.tags&&Array.isArray(De.data.tags)){const Oe=De.data.tags.find(Ve=>Ve.includes("wsdl:"));Oe&&(_e=Oe)}if((Fe=De.data.metadata)!=null&&Fe.operationInfo){const Oe=De.data.metadata.operationInfo;if(H(Oe),Oe.isSynchronous){T(!1),a({title:"Synchronous Service Detected",description:`This WSDL structure defines a synchronous service with ${Oe.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Ve=[];Oe.hasOutput&&Ve.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),Oe.hasFault&&Ve.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Ve.length>0&&M.length===0&&(R(Ve),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Ve.map(He=>He.name).join(" and ")}. Please configure each mapping.`}));return}}else if(!_e&&De.data.structure&&typeof De.data.structure=="object"){const Oe=Object.keys(De.data.structure),Ve=Oe.some(Dt=>Dt.toLowerCase().includes("req")||Dt.toLowerCase().includes("request")||Dt.toLowerCase().includes("_mt")),He=Oe.some(Dt=>Dt.toLowerCase().includes("resp")||Dt.toLowerCase().includes("response")),pt=Oe.some(Dt=>Dt.toLowerCase().includes("fault")||Dt.toLowerCase().includes("error"));if(Ve&&He){H({hasInput:Ve,hasOutput:He,hasFault:pt,isSynchronous:!0,messageTypes:["input","output",...pt?["fault"]:[]]}),T(!1),a({title:"Synchronous Service Detected",description:"This structure appears to define a synchronous service with request and response messages. The flow has been switched to synchronous mode."});const Dt=[];He&&Dt.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),pt&&Dt.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Dt.length>0&&M.length===0&&(R(Dt),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Dt.map(Tt=>Tt.name).join(" and ")}. Please configure each mapping.`}));return}}if(_e){const Oe=Lp(_e);if(Oe&&Oe.operationInfo&&(H(Oe.operationInfo),Oe.operationInfo.isSynchronous)){T(!1),a({title:"Synchronous Service Detected",description:`This WSDL defines a synchronous service with ${Oe.operationInfo.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Ve=[];Oe.operationInfo.hasOutput&&Ve.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),Oe.operationInfo.hasFault&&Ve.push({id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Ve.length>0&&M.length===0&&(R(Ve),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Ve.map(He=>He.name).join(" and ")}. Please configure each mapping.`}))}}}}catch(be){console.error("Error analyzing WSDL structure:",be)}};b&&ae(b),S&&ae(S)},[b,S,se,a]),m.useEffect(()=>{console.log("State updated - additionalMappings:",M),M.forEach((ae,ge)=>{var Fe;console.log(`  Mapping ${ge}: messageType=${ae.messageType}, fieldMappings.length=${((Fe=ae.fieldMappings)==null?void 0:Fe.length)||0}`)}),console.log("State updated - isAsynchronous:",k),console.log("State updated - mappingRequired:",A)},[M,k,A]);const aa=async()=>{try{we(!0);const ae=await ga.getAllBusinessComponents();console.log("Business components result:",ae),ae.success&&ae.data?(Y(ae.data),console.log("Set business components:",ae.data)):(console.error("Failed to load business components:",ae.error),console.error("Business result full object:",ae));try{const ge=await te.get("/adapters");ge.data&&ne(ge.data)}catch(ge){console.warn("Could not load adapters:",ge),ne([])}try{const ge=await te.get("/structures");if(ge.data){const Fe=Array.isArray(ge.data)?ge.data:ge.data.structures||[];ce(Fe)}}catch(ge){console.warn("Could not load data structures:",ge),ce([])}}catch(ae){console.error("Error loading component data:",ae),a({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{we(!1)}},ke=async()=>{try{let ae=c;if(!ae&&t){const ge=await te.get(`/flows/${t}`);ge.data&&(ae=ge.data)}if(ae){u(ae.name||""),f(ae.description||""),ae.businessComponentId&&(g(ae.businessComponentId),j(ae.businessComponentId));try{if(ae.configuration){const ge=JSON.parse(ae.configuration);console.log("Flow configuration:",ge),ge.sourceBusinessComponentId&&(console.log("Setting source business component from config:",ge.sourceBusinessComponentId),g(ge.sourceBusinessComponentId)),ge.targetBusinessComponentId&&(console.log("Setting target business component from config:",ge.targetBusinessComponentId),j(ge.targetBusinessComponentId))}}catch(ge){console.error("Error parsing flow configuration:",ge)}ae.sourceAdapterId&&y(ae.sourceAdapterId),ae.targetAdapterId&&N(ae.targetAdapterId),ae.sourceStructureId&&C(ae.sourceStructureId),ae.targetStructureId&&P(ae.targetStructureId),ae.mappingMode==="PASS_THROUGH"?T(!0):T(!1),ae.mappingMode==="WITH_MAPPING"&&F(!0);try{const ge=await te.get(`/flows/${ae.id}/transformations`);if(ge.data&&Array.isArray(ge.data)){const Fe=ge.data.sort((De,_e)=>De.executionOrder-_e.executionOrder),be=[];for(let De=0;De<Fe.length;De++){const _e=Fe[De];if(_e.type==="FIELD_MAPPING"){const Oe=await te.get(`/transformations/${_e.id}/mappings`);if(Oe.data&&Array.isArray(Oe.data)){let Ve,He={};try{He=JSON.parse(_e.configuration||"{}"),console.log("Transformation config:",He),He.mappingType?Ve=He.mappingType:De===0?Ve="request":ae.mappingMode==="PASS_THROUGH"?Ve="fault":Ve=De===1?"response":"fault"}catch(Tt){console.error("Error parsing transformation config:",Tt),Ve=De===0?"request":De===1?"response":"fault"}let pt=_e.name||"";console.log(`Transformation ${De}: name="${_e.name}", executionOrder=${_e.executionOrder}, messageType: ${Ve}`);const Dt=Oe.data.map(Tt=>{try{const gn={...Tt,sourceFields:typeof Tt.sourceFields=="string"?JSON.parse(Tt.sourceFields):Tt.sourceFields||[]};if(Tt.visualFlowData)try{gn.visualFlowData=typeof Tt.visualFlowData=="string"?JSON.parse(Tt.visualFlowData):Tt.visualFlowData}catch(ar){console.error("Error parsing visualFlowData:",ar)}if(Tt.functionNode)try{gn.functionNode=typeof Tt.functionNode=="string"?JSON.parse(Tt.functionNode):Tt.functionNode}catch(ar){console.error("Error parsing functionNode:",ar)}return gn}catch(gn){return console.error("Error parsing sourceFields for mapping:",Tt,gn),{...Tt,sourceFields:[]}}});Ve==="request"?(I(Dt),B(pt||"Request Mapping")):be.push({id:_e.id,name:pt||(Ve==="response"?"Response Mapping":"Fault Mapping"),fieldMappings:Dt,messageType:Ve})}}}be.length>0&&R(be)}}catch(ge){console.error("Error loading transformations and mappings:",ge)}}}catch(ae){console.error("Error loading flow data:",ae),a({title:"Error",description:"Failed to load flow data for editing.",variant:"destructive"})}},qe=ae=>{y(ae);const ge=X.find(be=>be.id===ae);if(!ge)return;const Fe=ge.configuration;if(Fe&&typeof Fe=="object"){const be=Fe.transformationConfig;(be==null?void 0:be.mode)==="passthrough"?(F(!1),C(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):be!=null&&be.dataStructureId&&(C(be.dataStructureId),F(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}at(ge,w)},rt=ae=>{N(ae);const ge=X.find(be=>be.id===ae);if(!ge)return;const Fe=ge.configuration;if(Fe&&typeof Fe=="object"){const be=Fe.transformationConfig;(be==null?void 0:be.mode)==="passthrough"?(F(!1),P(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):be!=null&&be.dataStructureId&&(P(be.dataStructureId),F(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}at(v,ge)},at=(ae,ge)=>{var Oe,Ve;const Fe=typeof ae=="string"?X.find(He=>He.id===ae):ae,be=typeof ge=="string"?X.find(He=>He.id===ge):ge;if(!Fe||!be)return;const De=(Oe=Fe.type)==null?void 0:Oe.toUpperCase(),_e=(Ve=be.type)==null?void 0:Ve.toUpperCase();if(["HTTP","HTTPS","REST"].includes(De)||["HTTP","HTTPS","REST"].includes(_e)){const He=Fe.configuration,pt=be.configuration;(He!=null&&He.expectsResponse||pt!=null&&pt.expectsResponse)&&(T(!1),a({title:"Synchronous Mode Detected",description:"Flow mode set to synchronous based on adapter configuration."}))}},ct=()=>{n("/dashboard")},Je=async(ae,ge)=>{var Fe,be,De;if(!d.trim()){a({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!v||!w){a({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}if(A&&$.length>0&&!V.trim()){a({title:"Validation Error",description:"Please provide a name for the request mapping.",variant:"destructive"});return}if(!k&&M.length>0&&M.filter(Oe=>{var Ve;return!((Ve=Oe.name)!=null&&Ve.trim())}).length>0){a({title:"Validation Error",description:"Please provide names for all mappings.",variant:"destructive"});return}try{ye(!0);const _e=A&&(ae||$)?(ae||$).map((He,pt)=>{var Dt,Tt,gn,ar,Ua,so,no,ro,ao;return{sourceFields:JSON.stringify(He.sourceFields||[]),targetField:He.targetField||He.targetPath||"",javaFunction:He.javaFunction||((Dt=He.functionNode)==null?void 0:Dt.javaFunction)||null,mappingRule:He.mappingRule||null,functionName:((Tt=He.functionNode)==null?void 0:Tt.functionName)||null,isActive:!0,isArrayMapping:((gn=He.functionNode)==null?void 0:gn.functionName)==="nodeMapping"||!1,arrayContextPath:((Ua=(ar=He.functionNode)==null?void 0:ar.parameters)==null?void 0:Ua.arrayContextPath)||null,sourceXPath:((no=(so=He.functionNode)==null?void 0:so.parameters)==null?void 0:no.sourceXPath)||null,targetXPath:((ao=(ro=He.functionNode)==null?void 0:ro.parameters)==null?void 0:ao.targetXPath)||null,visualFlowData:He.visualFlowData?JSON.stringify(He.visualFlowData):null,functionNode:He.functionNode?JSON.stringify(He.functionNode):null,mappingOrder:pt}}):[],Oe={flowName:d.trim(),description:h.trim(),sourceBusinessComponentId:x||null,targetBusinessComponentId:p||null,sourceAdapterId:v,targetAdapterId:w,sourceStructureId:b||null,targetStructureId:S||null,createdBy:(i==null?void 0:i.id)||(i==null?void 0:i.username)||"unknown",skipXmlConversion:O,requestMappingName:V||(d?`${d} Request`:"Request Mapping"),fieldMappings:_e,additionalMappings:!k&&M.length>0?M.map(He=>({name:He.name,fieldMappings:He.fieldMappings.map((pt,Dt)=>{var Tt,gn,ar,Ua,so,no,ro,ao,ym;return{sourceFields:JSON.stringify(pt.sourceFields||[]),targetField:pt.targetField||pt.targetPath||"",javaFunction:pt.javaFunction||((Tt=pt.functionNode)==null?void 0:Tt.javaFunction)||null,mappingRule:pt.mappingRule||null,functionName:((gn=pt.functionNode)==null?void 0:gn.functionName)||null,isActive:!0,isArrayMapping:((ar=pt.functionNode)==null?void 0:ar.functionName)==="nodeMapping"||!1,arrayContextPath:((so=(Ua=pt.functionNode)==null?void 0:Ua.parameters)==null?void 0:so.arrayContextPath)||null,sourceXPath:((ro=(no=pt.functionNode)==null?void 0:no.parameters)==null?void 0:ro.sourceXPath)||null,targetXPath:((ym=(ao=pt.functionNode)==null?void 0:ao.parameters)==null?void 0:ym.targetXPath)||null,visualFlowData:pt.visualFlowData?JSON.stringify(pt.visualFlowData):null,functionNode:pt.functionNode?JSON.stringify(pt.functionNode):null,mappingOrder:Dt}})})):[]};console.log("Sending flow request:",JSON.stringify(Oe,null,2)),(await te.post("/flow-composition/direct-mapping",Oe)).data&&(a({title:"Success",description:`Integration flow "${d}" has been created successfully.`}),n("/dashboard"))}catch(_e){console.error("Error saving flow:",_e),console.error("Error response:",_e.response),_e.response&&(console.error("Response status:",_e.response.status),console.error("Response data:",_e.response.data),console.error("Response headers:",_e.response.headers)),a({title:"Save Failed",description:((be=(Fe=_e.response)==null?void 0:Fe.data)==null?void 0:be.message)||((De=_e.response)==null?void 0:De.data)||"Failed to save the integration flow. Please try again.",variant:"destructive"})}finally{ye(!1)}},Nt=async(ae="request")=>{var ge,Fe,be,De,_e;if(!b||!S){a({title:"Validation Error",description:"Please select both source and target data structures.",variant:"destructive"});return}try{Pe(!0),rr(ae);const[Oe,Ve]=await Promise.all([k0(b,{rootElementName:"SourceMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0}),k0(S,{rootElementName:"TargetMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0})]);ze(Oe.xmlContent),Zt(Ve.xmlContent),l(!0)}catch(Oe){console.error("Error converting structures:",Oe);const Ve=((Fe=(ge=Oe.response)==null?void 0:ge.data)==null?void 0:Fe.details)||((De=(be=Oe.response)==null?void 0:be.data)==null?void 0:De.error)||Oe.message||"Failed to convert structures to XML";console.error("Error details:",(_e=Oe.response)==null?void 0:_e.data),a({title:"Conversion Failed",description:Ve,variant:"destructive"})}finally{Pe(!1)}};return o?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"w-full px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"gap-2",children:[s.jsx(Vj,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",d]}),s.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",v," and ",w]})]})]})})}),s.jsx(sS,{onClose:()=>l(!1),onSave:(ae,ge)=>{if(dt==="request")I(ae),ge&&B(ge);else{const Fe=dt==="response"?"response":dt;R(be=>{const De=be.findIndex(_e=>_e.messageType===Fe);if(De>=0){const _e=[...be];return _e[De]={..._e[De],fieldMappings:ae,name:ge||_e[De].name},_e}return be})}l(!1),a({title:"Mappings Saved",description:`${ae.length} ${dt} mappings have been configured.`})},initialMappingName:(()=>{if(dt==="request")return V||(d?`${d} Request`:"");{const ae=M.find(ge=>ge.messageType===(dt==="response"?"response":"fault"));return(ae==null?void 0:ae.name)||(d?`${d} ${dt.charAt(0).toUpperCase()+dt.slice(1)}`:"")}})(),initialMappings:(()=>{if(dt==="request")return $;const ae=dt==="response"?"response":dt,ge=M.find(Fe=>Fe.messageType===ae);return(ge==null?void 0:ge.fieldMappings)||[]})(),sourceAdapterType:v,targetAdapterType:w,sourceXml:Ye,targetXml:Rt,preConverted:!0,mappingType:dt})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:ct,className:"gap-2",children:[s.jsx(Vj,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t?"Edit Integration Flow":"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:t?"Modify the configuration of your integration flow":"Design and configure a new message integration flow"})]})]})})}),s.jsx("div",{className:"h-full w-full px-6 md:px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(K,{className:"animate-scale-in",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Flow Details"}),s.jsx(xe,{children:"Configure the basic information for your integration flow"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"flowName",children:"Flow Name *"}),s.jsx(U,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:d,onChange:ae=>{const ge=ae.target.value;u(ge),(!V||V===`${d} Request`||V==="Request Mapping")&&B(ge?`${ge} Request`:"")},className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",placeholder:"Describe what this integration flow does...",value:h,onChange:ae=>f(ae.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"async-mode",className:"text-base",children:"Processing Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k?"Asynchronous - Process messages in the background":"Synchronous - Wait for processing to complete before responding"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm ${k?"text-muted-foreground":"font-medium"}`,children:"Sync"}),s.jsx(St,{id:"async-mode",checked:k,onCheckedChange:T}),s.jsx("span",{className:`text-sm ${k?"font-medium":"text-muted-foreground"}`,children:"Async"})]})]}),!k&&s.jsx("div",{className:"mt-3 p-3 bg-muted rounded-md",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Synchronous mode allows multiple field mappings to be configured for complex transformations."]})})]})]})]}),s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Source & Target Configuration"}),s.jsx(xe,{children:"Select the source and target systems for your integration"})]}),s.jsx(G,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Business Component *"}),s.jsxs(Z,{value:x,onValueChange:g,disabled:pe,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select source business component"})}),s.jsx(Q,{children:W.map(ae=>s.jsx(D,{value:ae.id,children:ae.name},ae.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Adapter *"}),s.jsxs(Z,{value:v,onValueChange:qe,disabled:pe,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select source system"})}),s.jsx(Q,{children:X.filter(ae=>ae.mode==="SENDER").map(ae=>{const ge=sy(ae.type||ae.name);return s.jsx(D,{value:ae.id||ae.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{className:"h-4 w-4"}),ae.name]})},ae.id||ae.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Source Data Structure *"}),s.jsxs(Z,{value:b,onValueChange:C,disabled:pe||!x,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select source structure"})}),s.jsx(Q,{children:(Array.isArray(se)?se:[]).filter(ae=>ae.usage==="source"||!ae.usage).map(ae=>s.jsx(D,{value:ae.id,children:ae.name},ae.id))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Business Component *"}),s.jsxs(Z,{value:p,onValueChange:j,disabled:pe,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select target business component"})}),s.jsx(Q,{children:W.map(ae=>s.jsx(D,{value:ae.id,children:ae.name},ae.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Adapter *"}),s.jsxs(Z,{value:w,onValueChange:rt,disabled:pe,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select target system"})}),s.jsx(Q,{children:X.filter(ae=>ae.mode==="RECEIVER").map(ae=>{const ge=sy(ae.type||ae.name);return s.jsx(D,{value:ae.id||ae.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{className:"h-4 w-4"}),ae.name]})},ae.id||ae.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Target Data Structure *"}),s.jsxs(Z,{value:S,onValueChange:P,disabled:pe||!p,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:pe?"Loading...":"Select target structure"})}),s.jsx(Q,{children:(Array.isArray(se)?se:[]).filter(ae=>ae.usage==="target"||!ae.usage).map(ae=>s.jsx(D,{value:ae.id,children:ae.name},ae.id))})]})]})]})]})]})})]}),s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Transformations"}),s.jsx(xe,{children:"Configure field mapping between source and target"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"mapping-required",className:"text-base",children:"Mapping Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if field mapping is needed between source and target"})]}),s.jsx(St,{id:"mapping-required",checked:A,onCheckedChange:F})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"skip-xml-conversion",className:"text-base",children:"Direct File Passthrough"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip XML conversion for direct file transfers (improved performance)"})]}),s.jsx(St,{id:"skip-xml-conversion",checked:O,onCheckedChange:_,disabled:A})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t pt-6",children:s.jsx("div",{className:"space-y-4",children:k?s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Field Mapping"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$.length>0?`${$.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:Nt,disabled:!A||!x||!p||!v||!w||!b||!S||Ne,children:"Configure"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Request Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Request"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$.length>0?`${$.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>Nt("request"),disabled:!A||!x||!p||!v||!w||!b||!S||Ne,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Response Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Response"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{var ge;const ae=M.find(Fe=>Fe.messageType==="response");return((ge=ae==null?void 0:ae.fieldMappings)==null?void 0:ge.length)>0?`${ae.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{if(!M.find(ge=>ge.messageType==="response")){const ge={id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"};R([...M,ge])}Nt("response")},disabled:!A||!x||!p||!v||!w||!b||!S||Ne,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Fault Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-destructive/10 text-destructive rounded-md mr-2",children:"Fault"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{var ge;const ae=M.find(Fe=>Fe.messageType==="fault");return((ge=ae==null?void 0:ae.fieldMappings)==null?void 0:ge.length)>0?`${ae.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{if(!M.find(ge=>ge.messageType==="fault")){const ge={id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"};R([...M,ge])}Nt("fault")},disabled:!A||!x||!p||!v||!w||!b||!S||Ne,children:"Configure"})]})})]})})}),A?(!b||!S)&&s.jsx("p",{className:"text-sm text-orange-600 text-center",children:"Please select both source and target data structures to enable mapping"}):s.jsx("p",{className:"text-sm text-blue-600 text-center",children:"Mapping is disabled in passthrough mode. Data will be transferred without transformation."})]}),!A&&s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"Pass-through mode enabled - data will flow without transformation"})})]})]})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(fG,{onSaveFlow:()=>Je(),isLoading:he,disabled:pe||!d.trim()||!v||!w}),s.jsx(pG,{sourceAdapter:v,targetAdapter:w,sourceStructure:b,targetStructure:S,selectedTransformations:[],adapters:X.map(ae=>({id:ae.id||ae.name,name:ae.name,icon:sy(ae.type||ae.name),category:ae.type||"General"})),sampleStructures:se}),s.jsx(xG,{}),pe&&s.jsx(K,{children:s.jsx(G,{className:"flex items-center justify-center py-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ct,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}var nS="Checkbox",[Nre,Wye]=pn(nS),[bre,Sre]=Nre(nS),iL=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,x]=m.useState(null),g=Be(t,N=>x(N)),p=m.useRef(!1),j=f?u||!!f.closest("form"):!0,[v=!1,y]=Gn({prop:a,defaultProp:i,onChange:d}),w=m.useRef(v);return m.useEffect(()=>{const N=f==null?void 0:f.form;if(N){const b=()=>y(w.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[f,y]),s.jsxs(bre,{scope:n,state:v,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":ki(v)?"mixed":v,"aria-required":o,"data-state":cL(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:je(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:je(e.onClick,N=>{y(b=>ki(b)?!0:!b),j&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),j&&s.jsx(Cre,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ki(i)?!1:i})]})});iL.displayName=nS;var oL="CheckboxIndicator",lL=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=Sre(oL,n);return s.jsx(ys,{present:r||ki(i.state)||i.state===!0,children:s.jsx(Me.span,{"data-state":cL(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});lL.displayName=oL;var Cre=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=cg(n),c=$x(t);m.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&x){const g=new Event("click",{bubbles:r});u.indeterminate=ki(n),x.call(u,ki(n)?!1:n),u.dispatchEvent(g)}},[l,n,r]);const d=m.useRef(ki(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ki(e){return e==="indeterminate"}function cL(e){return ki(e)?"indeterminate":e?"checked":"unchecked"}var dL=iL,Ere=lL;const ht=m.forwardRef(({className:e,...t},n)=>s.jsx(dL,{ref:n,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Ere,{className:le("flex items-center justify-center text-current"),children:s.jsx(Ah,{className:"h-4 w-4"})})}));ht.displayName=dL.displayName;class Tre{async getAdapters(t){try{const n=t?`/adapter-monitoring?businessComponentId=${t}`:"/adapter-monitoring";return await te.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapters"}}}async getAdapterById(t){try{return await te.get(`/adapter-monitoring/${t}`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter"}}}async createAdapter(t){try{return await te.post("/adapter-monitoring",t)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to create adapter"}}}async updateAdapter(t,n){try{return await te.put(`/adapter-monitoring/${t}`,n)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to update adapter"}}}async deleteAdapter(t){try{return await te.delete(`/adapter-monitoring/${t}`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to delete adapter"}}}async getAdapterLogs(t,n){var r,a;try{const i=new URLSearchParams;i.append("page","0"),i.append("size",((r=n==null?void 0:n.limit)==null?void 0:r.toString())||"50"),(a=n==null?void 0:n.level)!=null&&a.length&&i.append("level",n.level.join(",")),n!=null&&n.dateFrom&&i.append("dateFrom",n.dateFrom),n!=null&&n.dateTo&&i.append("dateTo",n.dateTo),n!=null&&n.search&&i.append("search",n.search);const o=i.toString()?`?${i.toString()}`:"",l=await te.get(`/adapter-monitoring/${t}/logs${o}`);return l.success&&l.data?{success:!0,data:l.data.content||[]}:l}catch(i){return{success:!1,error:i instanceof Error?i.message:"Failed to fetch adapter logs"}}}async getAvailableAdapterTypes(){try{return await te.get("/admin/adapter-types")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapter types"}}}async testAdapterConnection(t){try{return await te.post(`/adapter-monitoring/${t}/test`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to test adapter connection"}}}}const fc=new Tre,Ji=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{console.log("Loading businessComponent data...");const[d,u]=await Promise.all([ga.getAllBusinessComponents(),fc.getAvailableAdapterTypes()]);let h=!1;if(d.success&&d.data){console.log("API businessComponents loaded:",d.data);const f=Array.isArray(d.data)?d.data:[];console.log(`API returned ${f.length} business components`),t(f),h=!0}if(u.success&&u.data)if(console.log("API adapters loaded:",u.data),typeof u.data=="string"&&u.data.includes("<!DOCTYPE html>"))console.log("Adapters API endpoint not implemented, using empty array"),r([]);else{const f=Array.isArray(u.data)?u.data:[];r(f)}else r([]);h||(console.log("API failed, showing empty business components list"),t([]))}catch(d){console.error("Error loading data, showing empty list:",d),t([]),r([])}finally{i(!1)}};return{businessComponents:e,adapters:n,loading:a,getAdaptersForBusinessComponent:async d=>{try{const u=await fc.getAdapters(d);if(u.success&&u.data&&Array.isArray(u.data)){const h=u.data.map(f=>f==null?void 0:f.id).filter(f=>f!=null);return[...new Set(h)]}}catch(u){console.error("Error getting adapters for business component:",u)}return[]},getStructuresForBusinessComponent:async d=>{try{const u=await mo.getStructures();if(u.success&&u.data){const h=u.data.structures||u.data;return Array.isArray(h)?h.filter(f=>!f||typeof f!="object"?(console.warn("Invalid structure object:",f),!1):f.businessComponentId===d).map(f=>f.id).filter(f=>f!=null):(console.warn("Structures is not an array:",h),[])}}catch(u){console.error("Error getting structures for business component:",u)}return[]},refreshData:o}},Pre=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:i,targetAdapterActive:o,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:c,onSourceAdapterChange:d,onTargetAdapterChange:u,onSourceAdapterActiveChange:h,onTargetAdapterActiveChange:f})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:i,targetAdapterActive:o});const{businessComponents:x,loading:g,getAdaptersForBusinessComponent:p}=Ji();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:x.length,loading:g});const j=S=>e.find(P=>P.id===S),[v,y]=m.useState([]);m.useEffect(()=>{t&&w(t)},[t]);const w=async S=>{const P=await p(S);y(P)},N=S=>S?e.filter(P=>v.includes(P.id)):e,b=async S=>{console.log("[AdapterConfigurationCard] Source business component changing:",S);try{l(S);const P=await p(S);console.log("[AdapterConfigurationCard] Available adapters for business component:",P),r&&!P.includes(r)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),d(""))}catch(P){console.error("[AdapterConfigurationCard] Error handling source business component change:",P)}},C=async S=>{c(S);const P=await p(S);a&&!P.includes(a)&&u("")};return s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Source & Target Configuration"}),s.jsx(xe,{children:"Select the source and target systems for your integration"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Source Business Component *"}),s.jsxs(Z,{value:t,onValueChange:b,disabled:g,children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:"Select source business component"})}),s.jsx(Q,{children:x.map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(de,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Source Adapter *"}),s.jsxs(Z,{value:r,onValueChange:d,disabled:!t,children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:"Select source system"})}),s.jsx(Q,{children:N(t).map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(de,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),r&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:j(r)&&s.jsx(s.Fragment,{children:(()=>{const S=j(r),P=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(P,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),r&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"sourceAdapterActive",checked:i,onCheckedChange:S=>h(S===!0)}),s.jsxs(E,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",s.jsx(de,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Target Business Component *"}),s.jsxs(Z,{value:n,onValueChange:C,disabled:g,children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:"Select target business component"})}),s.jsx(Q,{children:x.map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(de,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Target Adapter *"}),s.jsxs(Z,{value:a,onValueChange:u,disabled:!n,children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:"Select target system"})}),s.jsx(Q,{children:N(n).map(S=>s.jsx(D,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(de,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),a&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:j(a)&&s.jsx(s.Fragment,{children:(()=>{const S=j(a),P=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(P,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"targetAdapterActive",checked:o,onCheckedChange:S=>f(S===!0)}),s.jsxs(E,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",s.jsx(de,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]})]}),r&&a&&s.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:j(r)&&s.jsx(s.Fragment,{children:(()=>{const S=j(r),P=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(P,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})}),s.jsx(jp,{className:"h-6 w-6 text-primary animate-pulse"}),s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:j(a)&&s.jsx(s.Fragment,{children:(()=>{const S=j(a),P=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(P,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})]})})]})]})},Are=e=>{switch(e){case"start-process":return Ia;case"http-sender":case"http-receiver":return xa;case"soap-sender":case"soap-receiver":return Mh;case"rest-sender":case"rest-receiver":return wt;default:return oR}},kre=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Fs=({id:e,data:t,selected:n})=>{var S,P,A,F,O;console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[r,a]=m.useState(!1),{setNodes:i,setEdges:o}=na(),[l,c]=m.useState(((S=t.adapterConfig)==null?void 0:S.sourceBusinessComponent)||""),[d,u]=m.useState(((P=t.adapterConfig)==null?void 0:P.targetBusinessComponent)||""),[h,f]=m.useState(t.adapterType),[x,g]=m.useState(((A=t.adapterConfig)==null?void 0:A.targetAdapter)||""),[p,j]=m.useState(((F=t.adapterConfig)==null?void 0:F.sourceAdapterActive)||!0),[v,y]=m.useState(((O=t.adapterConfig)==null?void 0:O.targetAdapterActive)||!1),w=Are(t.adapterType),N=kre(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:r});const C=()=>{i(_=>_.filter($=>$.id!==e)),o(_=>_.filter($=>$.source!==e&&$.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:C,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsx(re,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-5 w-5 text-white"}),s.jsx(ie,{className:"text-sm font-medium text-white",children:N})]}),s.jsx(de,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:_=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),_.stopPropagation(),_.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch($){console.error("[AdapterNode] Error opening dialog:",$)}},onMouseDown:_=>{console.log("[AdapterNode] Configure button mousedown"),_.stopPropagation()},children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(is,{type:"target",position:Te.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(_t,{open:r,onOpenChange:_=>{console.log("[AdapterNode] Dialog state changing:",{open:_,id:e}),a(_)},children:s.jsxs(kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(Lt,{children:s.jsxs($t,{children:["Configure ",N]})}),s.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),s.jsx(Pre,{adapters:[{id:t.adapterType,name:N,icon:w,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:d,sourceAdapter:h,targetAdapter:x,sourceAdapterActive:p,targetAdapterActive:v,onSourceBusinessComponentChange:_=>{console.log("[AdapterNode] Source business component changed:",_),c(_)},onTargetBusinessComponentChange:_=>{console.log("[AdapterNode] Target business component changed:",_),u(_)},onSourceAdapterChange:_=>{console.log("[AdapterNode] Source adapter changed:",_),f(_)},onTargetAdapterChange:_=>{console.log("[AdapterNode] Target adapter changed:",_),g(_)},onSourceAdapterActiveChange:_=>{console.log("[AdapterNode] Source adapter active changed:",_),j(_)},onTargetAdapterActiveChange:_=>{console.log("[AdapterNode] Target adapter active changed:",_),y(_)}}))})]})})]})},Mre=({id:e,data:t,selected:n})=>{var S;const[r,a]=m.useState(!1),{setNodes:i,setEdges:o}=na(),[l,c]=m.useState(t.senderComponent||""),[d,u]=m.useState(t.sourceAdapter||""),[h,f]=m.useState(t.isAsync??!0),[x,g]=m.useState([]),{businessComponents:p,adapters:j,getAdaptersForBusinessComponent:v}=Ji(),y=t.senderComponent&&t.sourceAdapter;m.useEffect(()=>{(async()=>{if(l){const A=await v(l);g(A)}else g([])})()},[l,v]);const w=()=>{i(P=>P.filter(A=>A.id!==e)),o(P=>P.filter(A=>A.source!==e&&A.target!==e))},N=async P=>{c(P);const A=await v(P),F=A.includes(d)?d:"";A.includes(d)||u(""),t.onConfigChange({senderComponent:P,sourceAdapter:F,isAsync:h,payload:t.payload})},b=P=>{u(P),t.onConfigChange({senderComponent:l,sourceAdapter:P,isAsync:h,payload:t.payload})},C=P=>{f(P),t.onConfigChange({senderComponent:l,sourceAdapter:d,isAsync:P,payload:t.payload})};return s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:w,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsx(re,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ia,{className:"h-5 w-5 text-white"}),s.jsx(ie,{className:"text-sm font-medium text-white",children:"Start Process"})]}),s.jsx(de,{variant:y?"default":"secondary",className:"text-xs bg-white text-black",children:y?"Configured":"Setup Required"})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:P=>{P.stopPropagation(),P.preventDefault(),a(!0)},onMouseDown:P=>P.stopPropagation(),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(_t,{open:r,onOpenChange:a,children:s.jsxs(kt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(Lt,{children:s.jsx($t,{children:"Configure Start Process"})}),s.jsxs("div",{className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sender-component",children:"Sender Component"}),s.jsxs(Z,{value:l,onValueChange:N,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a business component..."})}),s.jsx(Q,{children:p.map(P=>s.jsx(D,{value:P.id,children:P.name},P.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"source-adapter",children:"Source Adapter"}),s.jsxs(Z,{value:d,onValueChange:b,disabled:!l,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select an adapter..."})}),s.jsx(Q,{children:x.map(P=>{const A=j.find(F=>F.id===P);return A?s.jsx(D,{value:A.id,children:A.name},A.id):null})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"execution-mode",children:"Execution Mode"}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-sm",children:h?"Asynchronous":"Synchronous"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:h?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),s.jsx(St,{checked:h,onCheckedChange:C,"aria-label":"Toggle execution mode"})]})]}),y&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",(S=j.find(P=>P.id===d))==null?void 0:S.name," adapter."]})]})]})]})})]})},Rre=e=>{switch(e){case"field-mapping":return ac;case"custom-function":return Nn;case"filter":return ul;case"enrichment":return vs;default:return ac}},Dre=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},Ge=({id:e,data:t,selected:n})=>{const[r,a]=m.useState(!1),{setNodes:i,setEdges:o}=na(),l=Rre(t.transformationType),c=Dre(t.transformationType),d=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{i(h=>h.filter(f=>f.id!==e)),o(h=>h.filter(f=>f.source!==e&&f.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsx(re,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:"h-5 w-5 text-white"}),s.jsx(ie,{className:"text-sm font-medium text-white",children:c})]}),s.jsx(de,{variant:d?"default":"secondary",className:"text-xs bg-white text-black",children:d?"Configured":"Setup Required"})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:h=>{h.stopPropagation(),h.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:h=>h.stopPropagation(),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(is,{type:"target",position:Te.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),s.jsx(is,{type:"source",position:Te.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?s.jsx(_t,{open:r,onOpenChange:a,children:s.jsx(kt,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:s.jsx(sS,{onClose:()=>a(!1),onSave:h=>{t.onConfigChange({fieldMappings:h}),a(!1)},initialMappingName:`${c} - ${e}`,sampleStructures:[]})})}):s.jsx(_t,{open:r,onOpenChange:a,children:s.jsxs(kt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(Lt,{children:s.jsxs($t,{children:["Configure ",c]})}),s.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," configuration panel coming soon..."]})})]})})]})},vn=({id:e,data:t,selected:n})=>{const[r,a]=m.useState(!1),[i,o]=m.useState(t.routingType||"conditional"),[l,c]=m.useState(t.conditions||[]),{setNodes:d,setEdges:u}=na(),h=()=>{d(v=>v.filter(y=>y.id!==e)),u(v=>v.filter(y=>y.source!==e&&y.target!==e))},f=()=>{c([...l,{field:"",operator:"equals",value:"",route:""}])},x=(v,y,w)=>{const N=[...l];N[v]={...N[v],[y]:w},c(N)},g=v=>{c(l.filter((y,w)=>w!==v))},p=()=>{var v;(v=t.onConfigChange)==null||v.call(t,e,{routingType:i,conditions:l}),a(!1)},j=t.conditions&&t.conditions.length>0;return s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:h,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:s.jsx(Et,{className:"h-3 w-3"})}),s.jsx(re,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kf,{className:"h-5 w-5 text-white"}),s.jsx(ie,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),s.jsx(de,{variant:j?"default":"secondary",className:"text-xs bg-white text-black",children:j?"Configured":"Setup Required"})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs(q,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:v=>{v.stopPropagation(),v.preventDefault(),a(!0)},onMouseDown:v=>v.stopPropagation(),children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(is,{type:"target",position:Te.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),s.jsx(is,{type:"source",position:Te.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),s.jsx(is,{type:"source",position:Te.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),s.jsx(is,{type:"source",position:Te.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),s.jsx(_t,{open:r,onOpenChange:a,children:s.jsxs(kt,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(Lt,{children:s.jsx($t,{children:"Configure Routing Logic"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"routingType",children:"Routing Type"}),s.jsxs(Z,{value:i,onValueChange:o,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select routing type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"conditional",children:"Conditional Routing"}),s.jsx(D,{value:"content-based",children:"Content-Based Routing"}),s.jsx(D,{value:"load-balance",children:"Load Balancing"}),s.jsx(D,{value:"round-robin",children:"Round Robin"})]})]})]}),i==="conditional"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"Routing Conditions"}),s.jsx(q,{onClick:f,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((v,y)=>s.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Field"}),s.jsx(U,{placeholder:"Field name",value:v.field,onChange:w=>x(y,"field",w.target.value)})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Operator"}),s.jsxs(Z,{value:v.operator,onValueChange:w=>x(y,"operator",w),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"equals",children:"Equals"}),s.jsx(D,{value:"contains",children:"Contains"}),s.jsx(D,{value:"starts-with",children:"Starts With"}),s.jsx(D,{value:"greater-than",children:"Greater Than"}),s.jsx(D,{value:"less-than",children:"Less Than"})]})]})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Value"}),s.jsx(U,{placeholder:"Condition value",value:v.value,onChange:w=>x(y,"value",w.target.value)})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-xs",children:"Route"}),s.jsxs(Z,{value:v.route,onValueChange:w=>x(y,"route",w),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"default",children:"Default"}),s.jsx(D,{value:"route1",children:"Route 1"}),s.jsx(D,{value:"route2",children:"Route 2"})]})]})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>g(y),children:s.jsx(Et,{className:"h-3 w-3"})})]},y))]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(q,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(q,{onClick:p,children:"Save Configuration"})]})]})]})})]})},Fre=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:Hl,nodes:[{type:"start-process",label:"Start Process",icon:Ia},{type:"end-process",label:"End Process",icon:zB},{type:"start-event",label:"Start Event",icon:Hl},{type:"end-event",label:"End Event",icon:Hl},{type:"intermediate-event",label:"Intermediate Event",icon:Hl},{type:"timer-event",label:"Timer Event",icon:qB},{type:"message-event",label:"Message Event",icon:sn},{type:"error-event",label:"Error Event",icon:Jn}]},{category:"BPMN Activities",icon:Ht,nodes:[{type:"task",label:"Task",icon:Ht},{type:"service-task",label:"Service Task",icon:En},{type:"user-task",label:"User Task",icon:qs},{type:"script-task",label:"Script Task",icon:Nn},{type:"manual-task",label:"Manual Task",icon:Bj},{type:"business-rule-task",label:"Business Rule Task",icon:Cv},{type:"receive-task",label:"Receive Task",icon:sn},{type:"send-task",label:"Send Task",icon:sn}]},{category:"BPMN Gateways",icon:vl,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:vl},{type:"parallel-gateway",label:"Parallel Gateway",icon:vl},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:vl},{type:"event-gateway",label:"Event Gateway",icon:vl},{type:"complex-gateway",label:"Complex Gateway",icon:vl}]},{category:"Mapping & Transformation",icon:ac,nodes:[{type:"field-mapping",label:"Field Mapping",icon:ac},{type:"data-transformation",label:"Data Transformation",icon:wt},{type:"format-conversion",label:"Format Conversion",icon:ac},{type:"value-mapping",label:"Value Mapping",icon:dn},{type:"structure-mapping",label:"Structure Mapping",icon:Mh},{type:"conditional-mapping",label:"Conditional Mapping",icon:ri},{type:"aggregation",label:"Aggregation",icon:$C},{type:"split-mapping",label:"Split Mapping",icon:ri}]},{category:"File Transformations",icon:Zs,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:Zs},{type:"json-to-xml",label:"JSON to XML",icon:Zs},{type:"xml-to-json",label:"XML to JSON",icon:Zs},{type:"excel-to-csv",label:"Excel to CSV",icon:Zs},{type:"pdf-extractor",label:"PDF Extractor",icon:Zs},{type:"file-splitter",label:"File Splitter",icon:ri},{type:"file-merger",label:"File Merger",icon:$C},{type:"file-validator",label:"File Validator",icon:Hn}]},{category:"Scripts & Functions",icon:Nn,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:Nn},{type:"groovy-script",label:"Groovy Script",icon:Nn},{type:"xslt-transformation",label:"XSLT Transformation",icon:Nn},{type:"custom-function",label:"Custom Function",icon:En},{type:"lookup-function",label:"Lookup Function",icon:dn},{type:"calculation-function",label:"Calculation Function",icon:Bj},{type:"validation-function",label:"Validation Function",icon:Hn},{type:"enrichment-function",label:"Enrichment Function",icon:En}]},{category:"Flow Routing",icon:kf,nodes:[{type:"content-router",label:"Content Router",icon:kf},{type:"recipient-list",label:"Recipient List",icon:qs},{type:"message-filter",label:"Message Filter",icon:ul},{type:"dynamic-router",label:"Dynamic Router",icon:kf},{type:"load-balancer",label:"Load Balancer",icon:ri},{type:"failover-router",label:"Failover Router",icon:wt},{type:"multicast",label:"Multicast",icon:ri},{type:"wire-tap",label:"Wire Tap",icon:dn}]},{category:"Security",icon:Hn,nodes:[{type:"encryption",label:"Encryption",icon:_i},{type:"decryption",label:"Decryption",icon:Wo},{type:"digital-signature",label:"Digital Signature",icon:Cv},{type:"authentication",label:"Authentication",icon:qs},{type:"authorization",label:"Authorization",icon:Hn},{type:"certificate-validation",label:"Certificate Validation",icon:Cv},{type:"secure-transport",label:"Secure Transport",icon:_i},{type:"access-control",label:"Access Control",icon:Wo}]},{category:"Adapters & Connectors",icon:xa,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:xa},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:aR},{type:"database-adapter",label:"Database Adapter",icon:Cs},{type:"mail-adapter",label:"Mail Adapter",icon:kh},{type:"file-adapter",label:"File Adapter",icon:Zs},{type:"jms-adapter",label:"JMS Adapter",icon:sn},{type:"soap-adapter",label:"SOAP Adapter",icon:xa},{type:"rest-adapter",label:"REST Adapter",icon:xa}]}];return s.jsxs(K,{className:"w-64 h-full",children:[s.jsx(re,{className:"pb-3",children:s.jsx(ie,{className:"text-sm",children:"Process Steps"})}),s.jsx(G,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(n=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[s.jsx(n.icon,{className:"h-3 w-3"}),n.category]}),s.jsx("div",{className:"grid gap-1",children:n.nodes.map(r=>s.jsxs(q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(r.type,n.category),children:[s.jsx(r.icon,{className:"h-3 w-3 mr-2"}),r.label]},r.type))}),s.jsx(xt,{})]},n.category))})]})},Ore=({selectedNode:e,flowStats:t})=>{const n=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,r=a=>{switch(a){case"Low":return"bg-green-100 text-success";case"Medium":return"bg-yellow-100 text-warning";case"High":return"bg-red-100 text-destructive";default:return"bg-gray-100 text-muted-foreground"}};return s.jsxs("div",{className:"w-64 space-y-4",children:[s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs(ie,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Properties"]})}),s.jsx(G,{className:"space-y-3",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),s.jsx(de,{variant:"secondary",className:"text-xs",children:n(e.type||"unknown")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Position"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?s.jsx(de,{variant:"default",className:"text-xs",children:"Configured"}):s.jsx(de,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):s.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs(ie,{className:"text-sm flex items-center gap-2",children:[s.jsx(zs,{className:"h-4 w-4"}),"Flow Status"]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),s.jsx(xt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),s.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),s.jsx(de,{className:`text-xs ${r(t.complexity)}`,children:t.complexity})]})]})]})]})},Ire={"start-process":Mre,"end-process":Fs,"start-event":Fs,"end-event":Fs,"intermediate-event":Fs,"timer-event":Fs,"message-event":Fs,"error-event":Fs,task:Ge,"service-task":Ge,"user-task":Ge,"script-task":Ge,"manual-task":Ge,"business-rule-task":Ge,"receive-task":Ge,"send-task":Ge,"exclusive-gateway":vn,"parallel-gateway":vn,"inclusive-gateway":vn,"event-gateway":vn,"complex-gateway":vn,"field-mapping":Ge,"data-transformation":Ge,"format-conversion":Ge,"value-mapping":Ge,"structure-mapping":Ge,"conditional-mapping":Ge,aggregation:Ge,"split-mapping":Ge,"csv-to-xml":Ge,"json-to-xml":Ge,"xml-to-json":Ge,"excel-to-csv":Ge,"pdf-extractor":Ge,"file-splitter":Ge,"file-merger":Ge,"file-validator":Ge,"javascript-script":Ge,"groovy-script":Ge,"xslt-transformation":Ge,"custom-function":Ge,"lookup-function":Ge,"calculation-function":Ge,"validation-function":Ge,"enrichment-function":Ge,"content-router":vn,"recipient-list":vn,"message-filter":vn,"dynamic-router":vn,"load-balancer":vn,"failover-router":vn,multicast:vn,"wire-tap":vn,encryption:Ge,decryption:Ge,"digital-signature":Ge,authentication:Ge,authorization:Ge,"certificate-validation":Ge,"secure-transport":Ge,"access-control":Ge,"http-adapter":Fs,"ftp-adapter":Fs,"database-adapter":Fs,"mail-adapter":Fs,"file-adapter":Fs,"jms-adapter":Fs,"soap-adapter":Fs,"rest-adapter":Fs},_re=()=>[{id:"start-process-1",type:"start-process",position:{x:100,y:200},data:{senderComponent:"",sourceAdapter:"",isAsync:!0,configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}},{id:"end-process-1",type:"end-process",position:{x:500,y:200},data:{adapterType:"end-process",configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}}],Lre=()=>[{id:"start-to-end",source:"start-process-1",target:"end-process-1",type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}}];function $re({flowId:e,onFlowChange:t}){const[n,r,a]=S_(_re()),[i,o,l]=C_(Lre()),[c,d]=m.useState(null),[u,h]=m.useState(null),f=m.useMemo(()=>n.filter(v=>v.selected).map(v=>v.id),[n]);m.useEffect(()=>{if(t){const v=n.map(y=>({id:y.id,type:y.type,position:y.position,data:y.data}));t({steps:v})}},[n,i,t]);const x=m.useCallback(v=>{const y={...v,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:xr.ArrowClosed,color:"hsl(var(--primary))"}};o(w=>Gp(y,w))},[o]),g=m.useCallback((v,y)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:y.id,nodeType:y.type}),d(y),h(y.id),setTimeout(()=>h(null),3e3)},[]),p=m.useCallback((v,y)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:v,category:y});const w=`${v}-${Date.now()}`,N={id:w,type:v,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:v,transformationType:v,routingType:v,configured:!1,showDeleteButton:!1,onConfigChange:b=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:w,config:b}),r(C=>C.map(S=>S.id===w?{...S,data:{...S.data,...b,configured:!0}}:S))}}};console.log("[VisualOrchestrationEditor] Created new node:",N),r(b=>{const C=b.concat(N);return console.log("[VisualOrchestrationEditor] Updated nodes list:",C),C})},[r]);m.useCallback(()=>{r(v=>v.filter(y=>!y.selected)),o(v=>v.filter(y=>!f.includes(y.source)&&!f.includes(y.target)))},[f,r,o]);const j=m.useMemo(()=>{const v=n.length,y=i.length;let w="Low";v>10||y>15?w="High":(v>5||y>8)&&(w="Medium");const N=v*100+y*50,b=N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`;return{totalNodes:v,totalConnections:y,estimatedExecutionTime:b,complexity:w}},[n,i]);return s.jsxs("div",{className:"h-full w-full flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Fre,{onAddNode:p})}),s.jsx("div",{className:"flex-1 relative",children:s.jsxs(b_,{nodes:n.map(v=>({...v,data:{...v.data,showDeleteButton:u===v.id}})),edges:i,onNodesChange:a,onEdgesChange:l,onConnect:x,onNodeClick:g,nodeTypes:Ire,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[s.jsx(A_,{showInteractive:!1}),s.jsx(M_,{}),s.jsx(T_,{variant:ja.Dots,gap:12,size:1})]})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ore,{selectedNode:c,flowStats:j})})]})}function Vre(){Xs();const{navigateBack:e}=vd(),{toast:t}=mt(),{user:n}=ta(),[r,a]=m.useState(!0),[i,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(""),[x,g]=m.useState(""),[p,j]=m.useState(""),[v,y]=m.useState(""),[w,N]=m.useState([]),[b,C]=m.useState([]),[S,P]=m.useState([]),[A,F]=m.useState(!0),[O,_]=m.useState(!1);m.useState(!1),PO(()=>{o(""),c(""),u(""),f(""),g(""),j(""),y(""),a(!0)}),m.useEffect(()=>{I()},[]);const I=async()=>{try{F(!0);const T=await ga.getAllBusinessComponents();T.success&&T.data&&C(T.data);try{const M=await te.get("/adapters");M.data&&P(M.data)}catch(M){console.warn("Could not load adapters:",M),P([])}}catch(T){console.error("Error loading component data:",T),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{F(!1)}},k=async()=>{var T,M;if(!l.trim()){t({title:"Validation Error",description:"Unique Flow ID is required.",variant:"destructive"});return}try{_(!0);const R={flowId:l.trim(),flowName:l.trim(),description:d.trim()||`Orchestration flow with ID: ${l.trim()}`,sourceBusinessComponentId:h||null,targetBusinessComponentId:x||null,sourceAdapterId:p||null,targetAdapterId:v||null,orchestrationSteps:w,createdBy:(n==null?void 0:n.id)||(n==null?void 0:n.username)||"unknown"};(await te.post("/flow-composition/orchestration",R)).data&&(t({title:"Success",description:`Orchestration flow "${l}" has been created successfully.`}),e("/dashboard"))}catch(R){console.error("Error saving orchestration flow:",R),t({title:"Save Failed",description:((M=(T=R.response)==null?void 0:T.data)==null?void 0:M.message)||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{_(!1)}};return r?s.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[s.jsxs("div",{className:"h-24 border-b border-border px-6 flex flex-col justify-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[s.jsx(Vj,{className:"h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Visual Orchestration Editor"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:k,disabled:O||!l.trim(),className:"flex items-center gap-2",children:[O?s.jsx(Ct,{className:"h-4 w-4 animate-spin"}):s.jsx(jr,{className:"h-4 w-4"}),"Save Flow"]}),s.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4"}),"Cancel"]})]}),s.jsxs(tt,{className:"max-w-md",children:[s.jsx(bB,{className:"h-4 w-4"}),s.jsx(st,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 max-w-md",children:[s.jsx(E,{htmlFor:"uniqueFlowId",className:"text-sm font-medium whitespace-nowrap",children:"Unique Flow ID:"}),s.jsx(U,{id:"uniqueFlowId",placeholder:"Enter unique orchestration flow ID",value:l,onChange:T=>c(T.target.value),className:"flex-1"})]})]}),s.jsx("div",{className:"h-[calc(100vh-96px)]",children:s.jsx($re,{flowId:l,onFlowChange:T=>{N(T.steps||[])}})})]}):null}var $2=1,Ure=.9,Bre=.8,Hre=.17,ny=.1,ry=.999,zre=.9999,qre=.99,Wre=/[\\\/_+.#"@\[\(\{&]/,Yre=/[\\\/_+.#"@\[\(\{&]/g,Kre=/[\s-]/,uL=/[\s-]/g;function R0(e,t,n,r,a,i,o){if(i===t.length)return a===e.length?$2:qre;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(i),d=n.indexOf(c,a),u=0,h,f,x,g;d>=0;)h=R0(e,t,n,r,d+1,i+1,o),h>u&&(d===a?h*=$2:Wre.test(e.charAt(d-1))?(h*=Bre,x=e.slice(a,d-1).match(Yre),x&&a>0&&(h*=Math.pow(ry,x.length))):Kre.test(e.charAt(d-1))?(h*=Ure,g=e.slice(a,d-1).match(uL),g&&a>0&&(h*=Math.pow(ry,g.length))):(h*=Hre,a>0&&(h*=Math.pow(ry,d-a))),e.charAt(d)!==t.charAt(i)&&(h*=zre)),(h<ny&&n.charAt(d-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(d-1)!==r.charAt(i))&&(f=R0(e,t,n,r,d+1,i+2,o),f*ny>h&&(h=f*ny)),h>u&&(u=h),d=n.indexOf(c,d+1);return o[l]=u,u}function V2(e){return e.toLowerCase().replace(uL," ")}function Xre(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,R0(e,t,V2(e),V2(t),0,0,{})}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(null,arguments)}function pc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Gre(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function hL(...e){return t=>e.forEach(n=>Gre(n,t))}function om(...e){return m.useCallback(hL(...e),e)}function Jre(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:f,children:x,...g}=h,p=(f==null?void 0:f[e][c])||l,j=m.useMemo(()=>g,Object.values(g));return m.createElement(p.Provider,{value:j},x)}function u(h,f){const x=(f==null?void 0:f[e][c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Qre(a,...t)]}function Qre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}const D0=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Zre=Nh.useId||(()=>{});let eae=0;function ay(e){const[t,n]=m.useState(Zre());return D0(()=>{e||n(r=>r??String(eae++))},[e]),e||(t?`radix-${t}`:"")}function sl(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function tae({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=sae({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=sl(n),c=m.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function sae({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,a=m.useRef(r),i=sl(t);return m.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}const rS=m.forwardRef((e,t)=>{const{children:n,...r}=e,a=m.Children.toArray(n),i=a.find(rae);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return m.createElement(F0,Ws({},r,{ref:t}),m.isValidElement(o)?m.cloneElement(o,void 0,l):null)}return m.createElement(F0,Ws({},r,{ref:t}),n)});rS.displayName="Slot";const F0=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...aae(r,n.props),ref:t?hL(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});F0.displayName="SlotClone";const nae=({children:e})=>m.createElement(m.Fragment,null,e);function rae(e){return m.isValidElement(e)&&e.type===nae}function aae(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}const iae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nr=iae.reduce((e,t)=>{const n=m.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?rS:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(l,Ws({},o,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function oae(e,t){e&&Pr.flushSync(()=>e.dispatchEvent(t))}function lae(e,t=globalThis==null?void 0:globalThis.document){const n=sl(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const O0="dismissableLayer.update",cae="dismissableLayer.pointerDownOutside",dae="dismissableLayer.focusOutside";let U2;const uae=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hae=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=m.useContext(uae),[h,f]=m.useState(null),x=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=m.useState({}),p=om(t,P=>f(P)),j=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=j.indexOf(v),w=h?j.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=w>=y,C=mae(P=>{const A=P.target,F=[...u.branches].some(O=>O.contains(A));!b||F||(i==null||i(P),l==null||l(P),P.defaultPrevented||c==null||c())},x),S=fae(P=>{const A=P.target;[...u.branches].some(O=>O.contains(A))||(o==null||o(P),l==null||l(P),P.defaultPrevented||c==null||c())},x);return lae(P=>{w===u.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},x),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U2=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),B2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=U2)}},[h,x,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),B2())},[h,u]),m.useEffect(()=>{const P=()=>g({});return document.addEventListener(O0,P),()=>document.removeEventListener(O0,P)},[]),m.createElement(nr.div,Ws({},d,{ref:p,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:pc(e.onFocusCapture,S.onFocusCapture),onBlurCapture:pc(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pc(e.onPointerDownCapture,C.onPointerDownCapture)}))});function mae(e,t=globalThis==null?void 0:globalThis.document){const n=sl(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){mL(cae,n,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fae(e,t=globalThis==null?void 0:globalThis.document){const n=sl(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&mL(dae,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B2(){const e=new CustomEvent(O0);document.dispatchEvent(e)}function mL(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?oae(a,i):a.dispatchEvent(i)}const iy="focusScope.autoFocusOnMount",oy="focusScope.autoFocusOnUnmount",H2={bubbles:!1,cancelable:!0},pae=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=sl(a),u=sl(i),h=m.useRef(null),f=om(t,p=>c(p)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(C){if(x.paused||!l)return;const S=C.target;l.contains(S)?h.current=S:Ga(h.current,{select:!0})},w=function(C){if(x.paused||!l)return;const S=C.relatedTarget;S!==null&&(l.contains(S)||Ga(h.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Ga(l)};var p=y,j=w,v=N;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),b.disconnect()}}},[r,l,x.paused]),m.useEffect(()=>{if(l){q2.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(iy,H2);l.addEventListener(iy,d),l.dispatchEvent(v),v.defaultPrevented||(xae(wae(fL(l)),{select:!0}),document.activeElement===p&&Ga(l))}return()=>{l.removeEventListener(iy,d),setTimeout(()=>{const v=new CustomEvent(oy,H2);l.addEventListener(oy,u),l.dispatchEvent(v),v.defaultPrevented||Ga(p??document.body,{select:!0}),l.removeEventListener(oy,u),q2.remove(x)},0)}}},[l,d,u,x]);const g=m.useCallback(p=>{if(!n&&!r||x.paused)return;const j=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(j&&v){const y=p.currentTarget,[w,N]=gae(y);w&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Ga(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&Ga(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return m.createElement(nr.div,Ws({tabIndex:-1},o,{ref:f,onKeyDown:g}))});function xae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ga(r,{select:t}),document.activeElement!==n)return}function gae(e){const t=fL(e),n=z2(t,e),r=z2(t.reverse(),e);return[n,r]}function fL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function z2(e,t){for(const n of e)if(!vae(n,{upTo:t}))return n}function vae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yae(e){return e instanceof HTMLInputElement&&"select"in e}function Ga(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&yae(e)&&t&&e.select()}}const q2=jae();function jae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=W2(e,t),e.unshift(t)},remove(t){var n;e=W2(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function W2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function wae(e){return e.filter(t=>t.tagName!=="A")}const Nae=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?PN.createPortal(m.createElement(nr.div,Ws({},a,{ref:t})),r):null});function bae(e,t){return m.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const Dg=e=>{const{present:t,children:n}=e,r=Sae(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=om(r.ref,a.ref);return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};Dg.displayName="Presence";function Sae(e){const[t,n]=m.useState(),r=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=bae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=tf(r.current);i.current=l==="mounted"?d:"none"},[l]),D0(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,x=tf(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),D0(()=>{if(t){const d=h=>{const x=tf(r.current).includes(h.animationName);h.target===t&&x&&Pr.flushSync(()=>c("ANIMATION_END"))},u=h=>{h.target===t&&(i.current=tf(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function tf(e){return(e==null?void 0:e.animationName)||"none"}let ly=0;function Cae(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Y2()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Y2()),ly++,()=>{ly===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ly--}},[])}function Y2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var pL=db(),cy=function(){},Fg=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:cy,onWheelCapture:cy,onTouchMoveCapture:cy}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,x=e.noIsolation,g=e.inert,p=e.allowPinchZoom,j=e.as,v=j===void 0?"div":j,y=tg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,N=cb([n,t]),b=ns(ns({},y),a);return m.createElement(m.Fragment,null,u&&m.createElement(w,{sideCar:pL,removeScrollBar:d,shards:h,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n}),o?m.cloneElement(m.Children.only(l),ns(ns({},b),{ref:N})):m.createElement(v,ns({},b,{className:c,ref:N}),l))});Fg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fg.classNames={fullWidth:cc,zeroRight:lc};var I0=!1;if(typeof window<"u")try{var sf=Object.defineProperty({},"passive",{get:function(){return I0=!0,!0}});window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{I0=!1}var bl=I0?{passive:!1}:!1,Eae=function(e){return e.tagName==="TEXTAREA"},xL=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Eae(e)&&n[t]==="visible")},Tae=function(e){return xL(e,"overflowY")},Pae=function(e){return xL(e,"overflowX")},K2=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=gL(e,n);if(r){var a=vL(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Aae=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kae=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gL=function(e,t){return e==="v"?Tae(t):Pae(t)},vL=function(e,t){return e==="v"?Aae(t):kae(t)},Mae=function(e,t){return e==="h"&&t==="rtl"?-1:1},Rae=function(e,t,n,r,a){var i=Mae(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var x=vL(e,l),g=x[0],p=x[1],j=x[2],v=p-j-i*g;(g||v)&&gL(e,l)&&(h+=v,f+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(h===0||!a)||!u&&(f===0||!a))&&(d=!0),d},nf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},X2=function(e){return[e.deltaX,e.deltaY]},G2=function(e){return e&&"current"in e?e.current:e},Dae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Oae=0,Sl=[];function Iae(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(Oae++)[0],i=m.useState(function(){return ng()})[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=lb([e.lockRef.current],(e.shards||[]).map(G2),!0).filter(Boolean);return p.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,j){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var v=nf(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,C=p.target,S=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&C.type==="range")return!1;var P=K2(S,C);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=K2(S,C)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||N)&&(r.current=b),!b)return!0;var A=r.current||b;return Rae(A,j,p,A==="h"?w:N,!0)},[]),c=m.useCallback(function(p){var j=p;if(!(!Sl.length||Sl[Sl.length-1]!==i)){var v="deltaY"in j?X2(j):nf(j),y=t.current.filter(function(b){return b.name===j.type&&b.target===j.target&&Dae(b.delta,v)})[0];if(y&&y.should){j.cancelable&&j.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(G2).filter(Boolean).filter(function(b){return b.contains(j.target)}),N=w.length>0?l(j,w[0]):!o.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),d=m.useCallback(function(p,j,v,y){var w={name:p,delta:j,target:v,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=m.useCallback(function(p){n.current=nf(p),r.current=void 0},[]),h=m.useCallback(function(p){d(p.type,X2(p),p.target,l(p,e.lockRef.current))},[]),f=m.useCallback(function(p){d(p.type,nf(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Sl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,bl),document.addEventListener("touchmove",c,bl),document.addEventListener("touchstart",u,bl),function(){Sl=Sl.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,bl),document.removeEventListener("touchmove",c,bl),document.removeEventListener("touchstart",u,bl)}},[]);var x=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:Fae(a)}):null,x?m.createElement(hb,{gapMode:"margin"}):null)}const _ae=ub(pL,Iae);var yL=m.forwardRef(function(e,t){return m.createElement(Fg,ns({},e,{ref:t,sideCar:_ae}))});yL.classNames=Fg.classNames;const jL="Dialog",[wL,Yye]=Jre(jL),[Lae,fl]=wL(jL),$ae=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=tae({prop:r,defaultProp:a,onChange:i});return m.createElement(Lae,{scope:t,triggerRef:l,contentRef:c,contentId:ay(),titleId:ay(),descriptionId:ay(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o},n)},NL="DialogPortal",[Vae,bL]=wL(NL,{forceMount:void 0}),Uae=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=fl(NL,t);return m.createElement(Vae,{scope:t,forceMount:n},m.Children.map(r,o=>m.createElement(Dg,{present:n||i.open},m.createElement(Nae,{asChild:!0,container:a},o))))},_0="DialogOverlay",Bae=m.forwardRef((e,t)=>{const n=bL(_0,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=fl(_0,e.__scopeDialog);return i.modal?m.createElement(Dg,{present:r||i.open},m.createElement(Hae,Ws({},a,{ref:t}))):null}),Hae=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=fl(_0,n);return m.createElement(yL,{as:rS,allowPinchZoom:!0,shards:[a.contentRef]},m.createElement(nr.div,Ws({"data-state":CL(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),oh="DialogContent",zae=m.forwardRef((e,t)=>{const n=bL(oh,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=fl(oh,e.__scopeDialog);return m.createElement(Dg,{present:r||i.open},i.modal?m.createElement(qae,Ws({},a,{ref:t})):m.createElement(Wae,Ws({},a,{ref:t})))}),qae=m.forwardRef((e,t)=>{const n=fl(oh,e.__scopeDialog),r=m.useRef(null),a=om(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return _h(i)},[]),m.createElement(SL,Ws({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pc(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:pc(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:pc(e.onFocusOutside,i=>i.preventDefault())}))}),Wae=m.forwardRef((e,t)=>{const n=fl(oh,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return m.createElement(SL,Ws({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),SL=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=fl(oh,n),c=m.useRef(null),d=om(t,c);return Cae(),m.createElement(m.Fragment,null,m.createElement(pae,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i},m.createElement(hae,Ws({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":CL(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function CL(e){return e?"open":"closed"}const Yae=$ae,Kae=Uae,Xae=Bae,Gae=zae;var Ud='[cmdk-group=""]',dy='[cmdk-group-items=""]',Jae='[cmdk-group-heading=""]',aS='[cmdk-item=""]',J2=`${aS}:not([aria-disabled="true"])`,L0="cmdk-item-select",fo="data-value",Qae=(e,t,n)=>Xre(e,t,n),EL=m.createContext(void 0),lm=()=>m.useContext(EL),TL=m.createContext(void 0),iS=()=>m.useContext(TL),PL=m.createContext(void 0),AL=m.forwardRef((e,t)=>{let n=kl(()=>{var B,W;return{search:"",value:(W=(B=e.value)!=null?B:e.defaultValue)!=null?W:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=kl(()=>new Set),a=kl(()=>new Map),i=kl(()=>new Map),o=kl(()=>new Set),l=kL(e),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:x,loop:g,disablePointerSelection:p=!1,vimBindings:j=!0,...v}=e,y=m.useId(),w=m.useId(),N=m.useId(),b=m.useRef(null),C=cie();nl(()=>{if(u!==void 0){let B=u.trim();n.current.value=B,S.emit()}},[u]),nl(()=>{C(6,$)},[]);let S=m.useMemo(()=>({subscribe:B=>(o.current.add(B),()=>o.current.delete(B)),snapshot:()=>n.current,setState:(B,W,Y)=>{var X,ne,se;if(!Object.is(n.current[B],W)){if(n.current[B]=W,B==="search")_(),F(),C(1,O);else if(B==="value"&&(Y||C(5,$),((X=l.current)==null?void 0:X.value)!==void 0)){let ce=W??"";(se=(ne=l.current).onValueChange)==null||se.call(ne,ce);return}S.emit()}},emit:()=>{o.current.forEach(B=>B())}}),[]),P=m.useMemo(()=>({value:(B,W,Y)=>{var X;W!==((X=i.current.get(B))==null?void 0:X.value)&&(i.current.set(B,{value:W,keywords:Y}),n.current.filtered.items.set(B,A(W,Y)),C(2,()=>{F(),S.emit()}))},item:(B,W)=>(r.current.add(B),W&&(a.current.has(W)?a.current.get(W).add(B):a.current.set(W,new Set([B]))),C(3,()=>{_(),F(),n.current.value||O(),S.emit()}),()=>{i.current.delete(B),r.current.delete(B),n.current.filtered.items.delete(B);let Y=I();C(4,()=>{_(),(Y==null?void 0:Y.getAttribute("id"))===B&&O(),S.emit()})}),group:B=>(a.current.has(B)||a.current.set(B,new Set),()=>{i.current.delete(B),a.current.delete(B)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:N,labelId:w,listInnerRef:b}),[]);function A(B,W){var Y,X;let ne=(X=(Y=l.current)==null?void 0:Y.filter)!=null?X:Qae;return B?ne(B,n.current.search,W):0}function F(){if(!n.current.search||l.current.shouldFilter===!1)return;let B=n.current.filtered.items,W=[];n.current.filtered.groups.forEach(X=>{let ne=a.current.get(X),se=0;ne.forEach(ce=>{let pe=B.get(ce);se=Math.max(pe,se)}),W.push([X,se])});let Y=b.current;k().sort((X,ne)=>{var se,ce;let pe=X.getAttribute("id"),we=ne.getAttribute("id");return((se=B.get(we))!=null?se:0)-((ce=B.get(pe))!=null?ce:0)}).forEach(X=>{let ne=X.closest(dy);ne?ne.appendChild(X.parentElement===ne?X:X.closest(`${dy} > *`)):Y.appendChild(X.parentElement===Y?X:X.closest(`${dy} > *`))}),W.sort((X,ne)=>ne[1]-X[1]).forEach(X=>{let ne=b.current.querySelector(`${Ud}[${fo}="${encodeURIComponent(X[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function O(){let B=k().find(Y=>Y.getAttribute("aria-disabled")!=="true"),W=B==null?void 0:B.getAttribute(fo);S.setState("value",W||void 0)}function _(){var B,W,Y,X;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ne=0;for(let se of r.current){let ce=(W=(B=i.current.get(se))==null?void 0:B.value)!=null?W:"",pe=(X=(Y=i.current.get(se))==null?void 0:Y.keywords)!=null?X:[],we=A(ce,pe);n.current.filtered.items.set(se,we),we>0&&ne++}for(let[se,ce]of a.current)for(let pe of ce)if(n.current.filtered.items.get(pe)>0){n.current.filtered.groups.add(se);break}n.current.filtered.count=ne}function $(){var B,W,Y;let X=I();X&&(((B=X.parentElement)==null?void 0:B.firstChild)===X&&((Y=(W=X.closest(Ud))==null?void 0:W.querySelector(Jae))==null||Y.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function I(){var B;return(B=b.current)==null?void 0:B.querySelector(`${aS}[aria-selected="true"]`)}function k(){var B;return Array.from((B=b.current)==null?void 0:B.querySelectorAll(J2))}function T(B){let W=k()[B];W&&S.setState("value",W.getAttribute(fo))}function M(B){var W;let Y=I(),X=k(),ne=X.findIndex(ce=>ce===Y),se=X[ne+B];(W=l.current)!=null&&W.loop&&(se=ne+B<0?X[X.length-1]:ne+B===X.length?X[0]:X[ne+B]),se&&S.setState("value",se.getAttribute(fo))}function R(B){let W=I(),Y=W==null?void 0:W.closest(Ud),X;for(;Y&&!X;)Y=B>0?oie(Y,Ud):lie(Y,Ud),X=Y==null?void 0:Y.querySelector(J2);X?S.setState("value",X.getAttribute(fo)):M(B)}let L=()=>T(k().length-1),H=B=>{B.preventDefault(),B.metaKey?L():B.altKey?R(1):M(1)},V=B=>{B.preventDefault(),B.metaKey?T(0):B.altKey?R(-1):M(-1)};return m.createElement(nr.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:B=>{var W;if((W=v.onKeyDown)==null||W.call(v,B),!B.defaultPrevented)switch(B.key){case"n":case"j":{j&&B.ctrlKey&&H(B);break}case"ArrowDown":{H(B);break}case"p":case"k":{j&&B.ctrlKey&&V(B);break}case"ArrowUp":{V(B);break}case"Home":{B.preventDefault(),T(0);break}case"End":{B.preventDefault(),L();break}case"Enter":if(!B.nativeEvent.isComposing&&B.keyCode!==229){B.preventDefault();let Y=I();if(Y){let X=new Event(L0);Y.dispatchEvent(X)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:uie},c),Og(e,B=>m.createElement(TL.Provider,{value:S},m.createElement(EL.Provider,{value:P},B))))}),Zae=m.forwardRef((e,t)=>{var n,r;let a=m.useId(),i=m.useRef(null),o=m.useContext(PL),l=lm(),c=kL(e),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;nl(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=ML(a,i,[e.value,e.children,i],e.keywords),h=iS(),f=rl(C=>C.value&&C.value===u.current),x=rl(C=>d||l.filter()===!1?!0:C.search?C.filtered.items.get(a)>0:!0);m.useEffect(()=>{let C=i.current;if(!(!C||e.disabled))return C.addEventListener(L0,g),()=>C.removeEventListener(L0,g)},[x,e.onSelect,e.disabled]);function g(){var C,S;p(),(S=(C=c.current).onSelect)==null||S.call(C,u.current)}function p(){h.setState("value",u.current,!0)}if(!x)return null;let{disabled:j,value:v,onSelect:y,forceMount:w,keywords:N,...b}=e;return m.createElement(nr.div,{ref:lh([i,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!f,"data-disabled":!!j,"data-selected":!!f,onPointerMove:j||l.disablePointerSelection?void 0:p,onClick:j?void 0:g},e.children)}),eie=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...i}=e,o=m.useId(),l=m.useRef(null),c=m.useRef(null),d=m.useId(),u=lm(),h=rl(x=>a||u.filter()===!1?!0:x.search?x.filtered.groups.has(o):!0);nl(()=>u.group(o),[]),ML(o,l,[e.value,e.heading,c]);let f=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(nr.div,{ref:lh([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),Og(e,x=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},m.createElement(PL.Provider,{value:f},x))))}),tie=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=m.useRef(null),i=rl(o=>!o.search);return!n&&!i?null:m.createElement(nr.div,{ref:lh([a,t]),...r,"cmdk-separator":"",role:"separator"})}),sie=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,i=iS(),o=rl(u=>u.search),l=rl(u=>u.value),c=lm(),d=m.useMemo(()=>{var u;let h=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${aS}[${fo}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(nr.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),nie=m.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,i=m.useRef(null),o=m.useRef(null),l=lm();return m.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let f=c.offsetHeight;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(u),h.unobserve(c)}}},[]),m.createElement(nr.div,{ref:lh([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},Og(e,c=>m.createElement("div",{ref:lh([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),rie=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:o,...l}=e;return m.createElement(Yae,{open:n,onOpenChange:r},m.createElement(Kae,{container:o},m.createElement(Xae,{"cmdk-overlay":"",className:a}),m.createElement(Gae,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(AL,{ref:t,...l}))))}),aie=m.forwardRef((e,t)=>rl(n=>n.filtered.count===0)?m.createElement(nr.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),iie=m.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...i}=e;return m.createElement(nr.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Og(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),xn=Object.assign(AL,{List:nie,Item:Zae,Input:sie,Group:eie,Separator:tie,Dialog:rie,Empty:aie,Loading:iie});function oie(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function lie(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function kL(e){let t=m.useRef(e);return nl(()=>{t.current=e}),t}var nl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function kl(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function lh(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function rl(e){let t=iS(),n=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,n,n)}function ML(e,t,n,r=[]){let a=m.useRef(),i=lm();return nl(()=>{var o;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(fo,l),a.current=l}),a}var cie=()=>{let[e,t]=m.useState(),n=kl(()=>new Map);return nl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function die(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Og({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(die(t),{ref:t.ref},n(t.props.children)):n(t)}var uie={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const RL=m.forwardRef(({className:e,...t},n)=>s.jsx(xn,{ref:n,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));RL.displayName=xn.displayName;const DL=m.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(dn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(xn.Input,{ref:n,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));DL.displayName=xn.Input.displayName;const FL=m.forwardRef(({className:e,...t},n)=>s.jsx(xn.List,{ref:n,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));FL.displayName=xn.List.displayName;const OL=m.forwardRef((e,t)=>s.jsx(xn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));OL.displayName=xn.Empty.displayName;const IL=m.forwardRef(({className:e,...t},n)=>s.jsx(xn.Group,{ref:n,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));IL.displayName=xn.Group.displayName;const hie=m.forwardRef(({className:e,...t},n)=>s.jsx(xn.Separator,{ref:n,className:le("-mx-1 h-px bg-border",e),...t}));hie.displayName=xn.Separator.displayName;const _L=m.forwardRef(({className:e,...t},n)=>s.jsx(xn.Item,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));_L.displayName=xn.Item.displayName;function Mi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Q2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function LL(...e){return t=>{let n=!1;const r=e.map(a=>{const i=Q2(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Q2(e[a],null)}}}}function Qi(...e){return m.useCallback(LL(...e),e)}function $L(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=h=>{var v;const{scope:f,children:x,...g}=h,p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:j,children:x})};d.displayName=i+"Provider";function u(h,f){var p;const x=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,mie(a,...t)]}function mie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function VL(e){const t=fie(e),n=m.forwardRef((r,a)=>{const{children:i,...o}=r,l=m.Children.toArray(i),c=l.find(xie);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function fie(e){const t=m.forwardRef((n,r)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=vie(a),l=gie(i,a.props);return a.type!==m.Fragment&&(l.ref=r?LL(r,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pie=Symbol("radix.slottable");function xie(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pie}function gie(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function vie(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Va=yie.reduce((e,t)=>{const n=VL(`Primitive.${t}`),r=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jie(e,t){e&&Pr.flushSync(()=>e.dispatchEvent(t))}function Kc(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wie(e,t=globalThis==null?void 0:globalThis.document){const n=Kc(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Nie="DismissableLayer",$0="dismissableLayer.update",bie="dismissableLayer.pointerDownOutside",Sie="dismissableLayer.focusOutside",Z2,UL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BL=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(UL),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),g=Qi(t,S=>h(S)),p=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(j),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,b=Tie(S=>{const P=S.target,A=[...d.branches].some(F=>F.contains(P));!N||A||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=Pie(S=>{const P=S.target;[...d.branches].some(F=>F.contains(P))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return wie(S=>{y===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Z2=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),eT(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Z2)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),eT())},[u,d]),m.useEffect(()=>{const S=()=>x({});return document.addEventListener($0,S),()=>document.removeEventListener($0,S)},[]),s.jsx(Va.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:Mi(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Mi(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Mi(e.onPointerDownCapture,b.onPointerDownCapture)})});BL.displayName=Nie;var Cie="DismissableLayerBranch",Eie=m.forwardRef((e,t)=>{const n=m.useContext(UL),r=m.useRef(null),a=Qi(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Va.div,{...e,ref:a})});Eie.displayName=Cie;function Tie(e,t=globalThis==null?void 0:globalThis.document){const n=Kc(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){HL(bie,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pie(e,t=globalThis==null?void 0:globalThis.document){const n=Kc(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&HL(Sie,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eT(){const e=new CustomEvent($0);document.dispatchEvent(e)}function HL(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?jie(a,i):a.dispatchEvent(i)}var uy=0;function Aie(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tT()),document.body.insertAdjacentElement("beforeend",e[1]??tT()),uy++,()=>{uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uy--}},[])}function tT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hy="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",sT={bubbles:!1,cancelable:!0},kie="FocusScope",zL=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Kc(a),u=Kc(i),h=m.useRef(null),f=Qi(t,p=>c(p)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(w){if(x.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Ja(h.current,{select:!0})},j=function(w){if(x.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Ja(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&Ja(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",j);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",j),y.disconnect()}}},[r,l,x.paused]),m.useEffect(()=>{if(l){rT.add(x);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(hy,sT);l.addEventListener(hy,d),l.dispatchEvent(v),v.defaultPrevented||(Mie(Iie(qL(l)),{select:!0}),document.activeElement===p&&Ja(l))}return()=>{l.removeEventListener(hy,d),setTimeout(()=>{const v=new CustomEvent(my,sT);l.addEventListener(my,u),l.dispatchEvent(v),v.defaultPrevented||Ja(p??document.body,{select:!0}),l.removeEventListener(my,u),rT.remove(x)},0)}}},[l,d,u,x]);const g=m.useCallback(p=>{if(!n&&!r||x.paused)return;const j=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(j&&v){const y=p.currentTarget,[w,N]=Rie(y);w&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Ja(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&Ja(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,x.paused]);return s.jsx(Va.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});zL.displayName=kie;function Mie(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ja(r,{select:t}),document.activeElement!==n)return}function Rie(e){const t=qL(e),n=nT(t,e),r=nT(t.reverse(),e);return[n,r]}function qL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nT(e,t){for(const n of e)if(!Die(n,{upTo:t}))return n}function Die(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fie(e){return e instanceof HTMLInputElement&&"select"in e}function Ja(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Fie(e)&&t&&e.select()}}var rT=Oie();function Oie(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=aT(e,t),e.unshift(t)},remove(t){var n;e=aT(e,t),(n=e[0])==null||n.resume()}}}function aT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Iie(e){return e.filter(t=>t.tagName!=="A")}var Hi=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},_ie=Nh[" useId ".trim().toString()]||(()=>{}),Lie=0;function $ie(e){const[t,n]=m.useState(_ie());return Hi(()=>{e||n(r=>r??String(Lie++))},[e]),e||(t?`radix-${t}`:"")}var Vie="Arrow",WL=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Va.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});WL.displayName=Vie;var Uie=WL;function Bie(e){const[t,n]=m.useState(void 0);return Hi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var oS="Popper",[YL,KL]=$L(oS),[Hie,XL]=YL(oS),GL=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(Hie,{scope:t,anchor:r,onAnchorChange:a,children:n})};GL.displayName=oS;var JL="PopperAnchor",QL=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=XL(JL,n),o=m.useRef(null),l=Qi(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Va.div,{...a,ref:l})});QL.displayName=JL;var lS="PopperContent",[zie,qie]=YL(lS),ZL=m.forwardRef((e,t)=>{var se,ce,pe,we,he,ye;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,j=XL(lS,n),[v,y]=m.useState(null),w=Qi(t,Ne=>y(Ne)),[N,b]=m.useState(null),C=Bie(N),S=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,A=r+(i!=="center"?"-"+i:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],_=O.length>0,$={padding:F,boundary:O.filter(Yie),altBoundary:_},{refs:I,floatingStyles:k,placement:T,isPositioned:M,middlewareData:R}=AR({strategy:"fixed",placement:A,whileElementsMounted:(...Ne)=>TR(...Ne,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[kR({mainAxis:a+P,alignmentAxis:o}),c&&MR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?RR():void 0,...$}),c&&DR({...$}),FR({...$,apply:({elements:Ne,rects:Pe,availableWidth:Ye,availableHeight:ze})=>{const{width:Rt,height:Zt}=Pe.reference,dt=Ne.floating.style;dt.setProperty("--radix-popper-available-width",`${Ye}px`),dt.setProperty("--radix-popper-available-height",`${ze}px`),dt.setProperty("--radix-popper-anchor-width",`${Rt}px`),dt.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),N&&IR({element:N,padding:l}),Kie({arrowWidth:S,arrowHeight:P}),f&&OR({strategy:"referenceHidden",...$})]}),[L,H]=s$(T),V=Kc(g);Hi(()=>{M&&(V==null||V())},[M,V]);const B=(se=R.arrow)==null?void 0:se.x,W=(ce=R.arrow)==null?void 0:ce.y,Y=((pe=R.arrow)==null?void 0:pe.centerOffset)!==0,[X,ne]=m.useState();return Hi(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:M?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(we=R.transformOrigin)==null?void 0:we.x,(he=R.transformOrigin)==null?void 0:he.y].join(" "),...((ye=R.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(zie,{scope:n,placedSide:L,onArrowChange:b,arrowX:B,arrowY:W,shouldHideArrow:Y,children:s.jsx(Va.div,{"data-side":L,"data-align":H,...p,ref:w,style:{...p.style,animation:M?void 0:"none"}})})})});ZL.displayName=lS;var e$="PopperArrow",Wie={top:"bottom",right:"left",bottom:"top",left:"right"},t$=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=qie(e$,r),o=Wie[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Uie,{...a,ref:n,style:{...a.style,display:"block"}})})});t$.displayName=e$;function Yie(e){return e!==null}var Kie=e=>({name:"transformOrigin",options:e,fn(t){var j,v,y;const{placement:n,rects:r,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=s$(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,x=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):d==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?h:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${x}px`),{data:{x:g,y:p}}}});function s$(e){const[t,n="center"]=e.split("-");return[t,n]}var Xie=GL,n$=QL,Gie=ZL,Jie=t$,Qie="Portal",r$=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=m.useState(!1);Hi(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PN.createPortal(s.jsx(Va.div,{...r,ref:t}),o):null});r$.displayName=Qie;function Zie(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var cS=e=>{const{present:t,children:n}=e,r=eoe(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Qi(r.ref,toe(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};cS.displayName="Presence";function eoe(e){const[t,n]=m.useState(),r=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Zie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=rf(r.current);i.current=l==="mounted"?d:"none"},[l]),Hi(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,x=rf(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Hi(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=x=>{const p=rf(r.current).includes(x.animationName);if(x.target===t&&p&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},f=x=>{x.target===t&&(i.current=rf(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function rf(e){return(e==null?void 0:e.animationName)||"none"}function toe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var soe=Nh[" useInsertionEffect ".trim().toString()]||Hi;function noe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=roe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=m.useCallback(u=>{var h;if(l){const f=aoe(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,e,i,o]);return[c,d]}function roe({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),a=m.useRef(n),i=m.useRef(t);return soe(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function aoe(e){return typeof e=="function"}var a$=db(),fy=function(){},Ig=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:fy,onWheelCapture:fy,onTouchMoveCapture:fy}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,x=e.noRelative,g=e.noIsolation,p=e.inert,j=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,N=tg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,C=cb([n,t]),S=ns(ns({},N),a);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:a$,removeScrollBar:d,shards:h,noRelative:x,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(l),ns(ns({},S),{ref:C})):m.createElement(y,ns({},S,{className:c,ref:C}),l))});Ig.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ig.classNames={fullWidth:cc,zeroRight:lc};var V0=!1;if(typeof window<"u")try{var af=Object.defineProperty({},"passive",{get:function(){return V0=!0,!0}});window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{V0=!1}var Cl=V0?{passive:!1}:!1,ioe=function(e){return e.tagName==="TEXTAREA"},i$=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ioe(e)&&n[t]==="visible")},ooe=function(e){return i$(e,"overflowY")},loe=function(e){return i$(e,"overflowX")},iT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=o$(e,r);if(a){var i=l$(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},coe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},doe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},o$=function(e,t){return e==="v"?ooe(t):loe(t)},l$=function(e,t){return e==="v"?coe(t):doe(t)},uoe=function(e,t){return e==="h"&&t==="rtl"?-1:1},hoe=function(e,t,n,r,a){var i=uoe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var x=l$(e,l),g=x[0],p=x[1],j=x[2],v=p-j-i*g;(g||v)&&o$(e,l)&&(h+=v,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},of=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oT=function(e){return[e.deltaX,e.deltaY]},lT=function(e){return e&&"current"in e?e.current:e},moe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},foe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},poe=0,El=[];function xoe(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(poe++)[0],i=m.useState(ng)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=lb([e.lockRef.current],(e.shards||[]).map(lT),!0).filter(Boolean);return p.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,j){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=of(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],b,C=p.target,S=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&C.type==="range")return!1;var P=iT(S,C);if(!P)return!0;if(P?b=S:(b=S==="v"?"h":"v",P=iT(S,C)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||N)&&(r.current=b),!b)return!0;var A=r.current||b;return hoe(A,j,p,A==="h"?w:N,!0)},[]),c=m.useCallback(function(p){var j=p;if(!(!El.length||El[El.length-1]!==i)){var v="deltaY"in j?oT(j):of(j),y=t.current.filter(function(b){return b.name===j.type&&(b.target===j.target||j.target===b.shadowParent)&&moe(b.delta,v)})[0];if(y&&y.should){j.cancelable&&j.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(lT).filter(Boolean).filter(function(b){return b.contains(j.target)}),N=w.length>0?l(j,w[0]):!o.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),d=m.useCallback(function(p,j,v,y){var w={name:p,delta:j,target:v,should:y,shadowParent:goe(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=m.useCallback(function(p){n.current=of(p),r.current=void 0},[]),h=m.useCallback(function(p){d(p.type,oT(p),p.target,l(p,e.lockRef.current))},[]),f=m.useCallback(function(p){d(p.type,of(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return El.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Cl),document.addEventListener("touchmove",c,Cl),document.addEventListener("touchstart",u,Cl),function(){El=El.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Cl),document.removeEventListener("touchmove",c,Cl),document.removeEventListener("touchstart",u,Cl)}},[]);var x=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:foe(a)}):null,x?m.createElement(hb,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function goe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const voe=ub(a$,xoe);var c$=m.forwardRef(function(e,t){return m.createElement(Ig,ns({},e,{ref:t,sideCar:voe}))});c$.classNames=Ig.classNames;var _g="Popover",[d$,Kye]=$L(_g,[KL]),cm=KL(),[yoe,Zi]=d$(_g),u$=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=cm(t),c=m.useRef(null),[d,u]=m.useState(!1),[h,f]=noe({prop:r,defaultProp:a??!1,onChange:i,caller:_g});return s.jsx(Xie,{...l,children:s.jsx(yoe,{scope:t,contentId:$ie(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:n})})};u$.displayName=_g;var h$="PopoverAnchor",joe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zi(h$,n),i=cm(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(n$,{...i,...r,ref:t})});joe.displayName=h$;var m$="PopoverTrigger",f$=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zi(m$,n),i=cm(n),o=Qi(t,a.triggerRef),l=s.jsx(Va.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":y$(a.open),...r,ref:o,onClick:Mi(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(n$,{asChild:!0,...i,children:l})});f$.displayName=m$;var dS="PopoverPortal",[woe,Noe]=d$(dS,{forceMount:void 0}),p$=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=Zi(dS,t);return s.jsx(woe,{scope:t,forceMount:n,children:s.jsx(cS,{present:n||i.open,children:s.jsx(r$,{asChild:!0,container:a,children:r})})})};p$.displayName=dS;var Xc="PopoverContent",x$=m.forwardRef((e,t)=>{const n=Noe(Xc,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=Zi(Xc,e.__scopePopover);return s.jsx(cS,{present:r||i.open,children:i.modal?s.jsx(Soe,{...a,ref:t}):s.jsx(Coe,{...a,ref:t})})});x$.displayName=Xc;var boe=VL("PopoverContent.RemoveScroll"),Soe=m.forwardRef((e,t)=>{const n=Zi(Xc,e.__scopePopover),r=m.useRef(null),a=Qi(t,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return _h(o)},[]),s.jsx(c$,{as:boe,allowPinchZoom:!0,children:s.jsx(g$,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mi(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Mi(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Mi(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Coe=m.forwardRef((e,t)=>{const n=Zi(Xc,e.__scopePopover),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(g$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),g$=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=Zi(Xc,n),x=cm(n);return Aie(),s.jsx(zL,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(BL,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Gie,{"data-state":y$(f.open),role:"dialog",id:f.contentId,...x,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),v$="PopoverClose",Eoe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zi(v$,n);return s.jsx(Va.button,{type:"button",...r,ref:t,onClick:Mi(e.onClick,()=>a.onOpenChange(!1))})});Eoe.displayName=v$;var Toe="PopoverArrow",Poe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=cm(n);return s.jsx(Jie,{...a,...r,ref:t})});Poe.displayName=Toe;function y$(e){return e?"open":"closed"}var Aoe=u$,koe=f$,Moe=p$,j$=x$;const U0=Aoe,B0=koe,ex=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(Moe,{children:s.jsx(j$,{ref:a,align:t,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ex.displayName=j$.displayName;function Roe({options:e,value:t,onValueChange:n,placeholder:r="Select option...",searchPlaceholder:a="Search...",emptyMessage:i="No option found.",className:o}){const[l,c]=m.useState(!1),d=e.find(u=>u.value===t);return s.jsxs(U0,{open:l,onOpenChange:c,children:[s.jsx(B0,{asChild:!0,children:s.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":l,className:le("w-full justify-between",o),children:[d?s.jsxs("div",{className:"flex items-center gap-2",children:[d.icon&&s.jsx(d.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"truncate",children:d.label}),d.category&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",d.category,")"]})]}):r,s.jsx(jB,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(ex,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:s.jsxs(RL,{children:[s.jsx(DL,{placeholder:a}),s.jsxs(FL,{children:[s.jsx(OL,{children:i}),s.jsx(IL,{children:e.map(u=>s.jsxs(_L,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{n==null||n(u.value),c(!1)},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&s.jsx(u.icon,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:u.label}),u.category&&s.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&s.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),s.jsx(Ah,{className:le("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function Doe(e,t={}){const{minLength:n=8,requireUppercase:r=!1,requireLowercase:a=!1,requireNumbers:i=!1,requireSpecialChars:o=!1,allowEmpty:l=!0}=t,c=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<n&&c.push(`Password must be at least ${n} characters long`),r&&!/[A-Z]/.test(e)&&c.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&c.push("Password must contain at least one lowercase letter"),i&&!/\d/.test(e)&&c.push("Password must contain at least one number"),o&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&c.push("Password must contain at least one special character"),{isValid:c.length===0,errors:c})}function Foe(e){return Doe(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const Ns=m.forwardRef(({name:e,label:t,placeholder:n,required:r,value:a,onValueChange:i,className:o,showConfirmation:l=!0,validator:c=Foe},d)=>{const[u,h]=m.useState(a||""),[f,x]=m.useState(""),[g,p]=m.useState(!1),[j,v]=m.useState(!1),[y,w]=m.useState(!1),[N,b]=m.useState({isValid:!0,errors:[]});m.useEffect(()=>{a!==u&&h(a||"")},[a]);const C=u===f,S=y&&f.length>0&&!C,P=!N.isValid&&u.length>0,A=O=>{h(O),b(c(O)),i(O)},F=O=>{x(O),!y&&O.length>0&&w(!0)};return s.jsxs("div",{ref:d,className:le("space-y-3",o),children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:e,className:"flex items-center gap-1",children:[t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(U,{id:e,type:g?"text":"password",placeholder:n,value:u,onChange:O=>A(O.target.value),className:le("pr-10 transition-all duration-300 focus:scale-[1.01]",P&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:g?s.jsx(BC,{className:"h-4 w-4"}):s.jsx(Ea,{className:"h-4 w-4"})})]})]}),P&&s.jsx("div",{className:"space-y-1",children:N.errors.map((O,_)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(Bt,{className:"h-4 w-4"}),O]},_))}),N.isValid&&u.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(U,{id:`${e}_confirm`,type:j?"text":"password",placeholder:`Confirm ${n||t.toLowerCase()}`,value:f,onChange:O=>F(O.target.value),className:le("pr-10 transition-all duration-300 focus:scale-[1.01]",S&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>v(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:j?s.jsx(BC,{className:"h-4 w-4"}):s.jsx(Ea,{className:"h-4 w-4"})})]})]}),S&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});Ns.displayName="PasswordConfirmation";const Ooe=({selectedJarId:e,onJarSelect:t,label:n="Select JAR File",placeholder:r="Choose a driver JAR file...",driverTypeFilter:a})=>{const i=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],o=a?i.filter(c=>c.driverType===a):i,l=i.find(c=>c.id===e);return s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm font-medium",children:n}),s.jsxs(Z,{value:e,onValueChange:t,children:[s.jsx(J,{className:"w-full",children:s.jsx(ee,{placeholder:r,children:l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),s.jsx("span",{children:l.name}),s.jsxs(de,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),s.jsxs(Q,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[o.map(c=>s.jsx(D,{value:c.id,children:s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx(Bu,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.fileName})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(de,{variant:"secondary",className:"text-xs",children:["v",c.version]}),s.jsx(de,{variant:"outline",className:"text-xs",children:c.driverType})]})]})},c.id)),o.length===0&&s.jsxs(D,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},Ioe=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:n,loading:r}=Ji();return s.jsxs(K,{className:"animate-scale-in",children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(xe,{children:"Select the business component this adapter belongs to"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const i=n.find(o=>o.id===a)||null;t(i)},disabled:r,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsx(Q,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(a=>s.jsx(D,{value:a.id,children:a.name},a.id))})]})]})})]})},Qn=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",e),...t})}));Qn.displayName="Table";const Zn=m.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:le("[&_tr]:border-b",e),...t}));Zn.displayName="TableHeader";const er=m.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:le("[&_tr:last-child]:border-0",e),...t}));er.displayName="TableBody";const _oe=m.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_oe.displayName="TableFooter";const Kt=m.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Kt.displayName="TableRow";const Ce=m.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ce.displayName="TableHead";const Ee=m.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableCell";const Loe=m.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",e),...t}));Loe.displayName="TableCaption";const uS=({config:e,onChange:t})=>{const[n,r]=m.useState({fieldName:"",length:0}),a=(c,d)=>{t({...e,[c]:d})},i=()=>{if(n.fieldName&&n.length>0){const c=e.fieldLengths||{},d=e.fieldOrder||[];t({...e,fieldLengths:{...c,[n.fieldName]:n.length},fieldOrder:[...d,n.fieldName]}),r({fieldName:"",length:0})}},o=c=>{const{[c]:d,...u}=e.fieldLengths||{},h=(e.fieldOrder||[]).filter(f=>f!==c);t({...e,fieldLengths:u,fieldOrder:h})},l=()=>{switch(e.fileFormat){case"CSV":return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"CSV Configuration"}),s.jsx(xe,{children:"Configure CSV file format settings"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"delimiter",children:"Delimiter"}),s.jsx(U,{id:"delimiter",value:e.delimiter||",",onChange:c=>a("delimiter",c.target.value),placeholder:",",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"quoteCharacter",children:"Quote Character"}),s.jsx(U,{id:"quoteCharacter",value:e.quoteCharacter||'"',onChange:c=>a("quoteCharacter",c.target.value),placeholder:'"',maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(Z,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"\\n",children:"LF (\\n)"}),s.jsx(D,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(D,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(Z,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"includeHeaders",checked:e.includeHeaders!==!1,onCheckedChange:c=>a("includeHeaders",c)}),s.jsx(E,{htmlFor:"includeHeaders",children:"Include Headers"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"quoteAllFields",checked:e.quoteAllFields===!0,onCheckedChange:c=>a("quoteAllFields",c)}),s.jsx(E,{htmlFor:"quoteAllFields",children:"Quote All Fields"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"skipEmptyLines",checked:e.skipEmptyLines===!0,onCheckedChange:c=>a("skipEmptyLines",c)}),s.jsx(E,{htmlFor:"skipEmptyLines",children:"Skip Empty Lines"})]})]})]})]});case"FIXED":return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Fixed-Length Configuration"}),s.jsx(xe,{children:"Define field positions and lengths"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"padCharacter",children:"Pad Character"}),s.jsx(U,{id:"padCharacter",value:e.padCharacter||" ",onChange:c=>a("padCharacter",c.target.value),placeholder:" ",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"padDirection",children:"Pad Direction"}),s.jsxs(Z,{value:e.padDirection||"RIGHT",onValueChange:c=>a("padDirection",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"LEFT",children:"Left"}),s.jsx(D,{value:"RIGHT",children:"Right"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(Z,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"\\n",children:"LF (\\n)"}),s.jsx(D,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(D,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(Z,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(E,{children:"Field Definitions"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{placeholder:"Field Name",value:n.fieldName,onChange:c=>r({...n,fieldName:c.target.value})}),s.jsx(U,{type:"number",placeholder:"Length",value:n.length||"",onChange:c=>r({...n,length:parseInt(c.target.value)||0}),className:"w-32"}),s.jsx(q,{onClick:i,size:"sm",children:s.jsx(vs,{className:"h-4 w-4"})})]}),e.fieldOrder&&e.fieldOrder.length>0&&s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Field Name"}),s.jsx(Ce,{children:"Length"}),s.jsx(Ce,{children:"Start Position"}),s.jsx(Ce,{className:"w-16"})]})}),s.jsx(er,{children:e.fieldOrder.map((c,d)=>{var h;const u=e.fieldOrder.slice(0,d).reduce((f,x)=>{var g;return f+(((g=e.fieldLengths)==null?void 0:g[x])||0)},1);return s.jsxs(Kt,{children:[s.jsx(Ee,{children:c}),s.jsx(Ee,{children:(h=e.fieldLengths)==null?void 0:h[c]}),s.jsx(Ee,{children:u}),s.jsx(Ee,{children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>o(c),children:s.jsx(tr,{className:"h-4 w-4"})})})]},c)})})]})]})]})})]})]});case"JSON":return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"JSON Configuration"}),s.jsx(xe,{children:"Configure JSON file format settings"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"dateFormat",children:"Date Format"}),s.jsx(U,{id:"dateFormat",value:e.dateFormat||"yyyy-MM-dd'T'HH:mm:ss.SSSZ",onChange:c=>a("dateFormat",c.target.value),placeholder:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(Z,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"prettyPrint",checked:e.prettyPrint!==!1,onCheckedChange:c=>a("prettyPrint",c)}),s.jsx(E,{htmlFor:"prettyPrint",children:"Pretty Print"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"includeNullValues",checked:e.includeNullValues===!0,onCheckedChange:c=>a("includeNullValues",c)}),s.jsx(E,{htmlFor:"includeNullValues",children:"Include Null Values"})]})]})]})]});case"XML":return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"XML Configuration"}),s.jsx(xe,{children:"XML format is handled in the XML Conversion tab"})]}),s.jsx(G,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please configure XML-specific settings in the XML Conversion tab."})})]});default:return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Plain Text Configuration"}),s.jsx(xe,{children:"Basic text file settings"})]}),s.jsx(G,{children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(Z,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"UTF-16",children:"UTF-16"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]})]})})]})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"File Format Type"}),s.jsx(xe,{children:"Select the format of files this adapter will process"})]}),s.jsx(G,{children:s.jsxs(Z,{value:e.fileFormat||"TEXT",onValueChange:c=>a("fileFormat",c),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"CSV",children:"CSV (Comma-Separated Values)"}),s.jsx(D,{value:"FIXED",children:"Fixed-Length"}),s.jsx(D,{value:"JSON",children:"JSON"}),s.jsx(D,{value:"XML",children:"XML"}),s.jsx(D,{value:"TEXT",children:"Plain Text"})]})]})})]}),l(),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Sample Preview"}),s.jsx(xe,{children:"Example of how your file format will look"})]}),s.jsx(G,{children:s.jsxs("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto",children:[e.fileFormat==="CSV"&&(e.includeHeaders!==!1?`orderId${e.delimiter||","}customer${e.delimiter||","}amount
12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`:`12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`),e.fileFormat==="FIXED"&&e.fieldOrder&&(e.fieldOrder.map(c=>{var d;return c.padEnd(((d=e.fieldLengths)==null?void 0:d[c])||0,e.padCharacter||" ")}).join("")||"Define fields above to see preview"),e.fileFormat==="JSON"&&(e.prettyPrint!==!1?`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99${e.includeNullValues?`,
  "discount": null`:""}
}`:`{"orderId":"12345","customer":"John Doe","amount":99.99${e.includeNullValues?',"discount":null':""}}`),(e.fileFormat==="XML"||e.fileFormat==="TEXT"||!e.fileFormat)&&"Sample data based on selected format will appear here"]})})]})]})},pl=({mode:e,config:t,onChange:n})=>{const r=(a,i)=>{n({...t,[a]:i})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(tt,{children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{children:e==="SENDER"?"Configure how incoming data is converted to XML for mapping":"Configure how XML is converted back to the target format after mapping"})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Basic Settings"}),s.jsx(xe,{children:"Core XML conversion configuration"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"rootElementName",children:"Root Element Name"}),s.jsx(U,{id:"rootElementName",value:t.rootElementName||"Message",onChange:a=>r("rootElementName",a.target.value),placeholder:"Message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The root element that wraps the converted data"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"encoding",children:"Encoding"}),s.jsx(U,{id:"encoding",value:t.encoding||"UTF-8",onChange:a=>r("encoding",a.target.value),placeholder:"UTF-8"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"includeXmlDeclaration",checked:t.includeXmlDeclaration!==!1,onCheckedChange:a=>r("includeXmlDeclaration",a)}),s.jsx(E,{htmlFor:"includeXmlDeclaration",children:"Include XML Declaration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"prettyPrint",checked:t.prettyPrint!==!1,onCheckedChange:a=>r("prettyPrint",a)}),s.jsx(E,{htmlFor:"prettyPrint",children:"Pretty Print (Format with indentation)"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Namespace Configuration"}),s.jsx(xe,{children:"Optional XML namespace settings"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"targetNamespace",children:"Target Namespace"}),s.jsx(U,{id:"targetNamespace",value:t.targetNamespace||"",onChange:a=>r("targetNamespace",a.target.value),placeholder:"http://example.com/integration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"XML namespace URI (optional)"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(E,{htmlFor:"namespacePrefix",children:"Namespace Prefix"}),s.jsx(U,{id:"namespacePrefix",value:t.namespacePrefix||"",onChange:a=>r("namespacePrefix",a.target.value),placeholder:"ns"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prefix for namespace (e.g., ns:Element)"})]})]})})]}),e==="RECEIVER"&&s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Receiver Options"}),s.jsx(xe,{children:"Settings for converting XML back to target format"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"removeRootElement",checked:t.removeRootElement===!0,onCheckedChange:a=>r("removeRootElement",a)}),s.jsx(E,{htmlFor:"removeRootElement",children:"Remove Root Element"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Strip the wrapper element when converting from XML"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"handleNamespaces",checked:t.handleNamespaces!==!1,onCheckedChange:a=>r("handleNamespaces",a)}),s.jsx(E,{htmlFor:"handleNamespaces",children:"Handle Namespaces"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Process namespace declarations and prefixes"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(St,{id:"preserveAttributes",checked:t.preserveAttributes===!0,onCheckedChange:a=>r("preserveAttributes",a)}),s.jsx(E,{htmlFor:"preserveAttributes",children:"Preserve Attributes"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Keep XML attributes as separate fields (instead of converting to elements)"})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Example"}),s.jsx(xe,{children:"How your data will be converted"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"json",className:"w-full",children:[s.jsxs(nt,{children:[s.jsx(me,{value:"json",children:"JSON to XML"}),s.jsx(me,{value:"csv",children:"CSV to XML"}),s.jsx(me,{value:"sql",children:"SQL to XML"})]}),s.jsx(ue,{value:"json",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"Original JSON"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99
}`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <orderId>12345</orderId>
  <customer>John Doe</customer>
  <amount>99.99</amount>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(ue,{value:"csv",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"Original CSV"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`orderId,customer,amount
12345,John Doe,99.99
12346,Jane Smith,149.99`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <record>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </record>
  <record>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </record>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(ue,{value:"sql",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"SQL Result"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`SELECT * FROM orders
-----------------
orderId | customer    | amount
12345   | John Doe    | 99.99
12346   | Jane Smith  | 149.99`})]}),s.jsxs("div",{children:[s.jsx(E,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <row>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </row>
  <row>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </row>
</${t.rootElementName||"Message"}>`})]})]})})]})})]})]})},$oe=({mode:e,onConfigChange:t})=>{const[n,r]=m.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0}}),a=c=>{const d={...n,...c};r(d),t==null||t(d)},i=()=>{const c=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},o=(c,d,u)=>{const h=[...n.advancedEntries];h[c]={...h[c],[d]:u},a({advancedEntries:h})},l=c=>{if(n.advancedEntries.length>1){const d=n.advancedEntries.filter((u,h)=>h!==c);a({advancedEntries:d})}};return s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsxs(ie,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your FTP ",e," adapter settings"]})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-4",children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"fileFormat",children:"File Format"}),s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(ue,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(U,{id:"sourceDirectory",value:n.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(U,{id:"fileName",value:n.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(Z,{value:n.sorting,onValueChange:c=>a({sorting:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select sorting option"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(D,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(D,{value:"file-size",children:"File Size"}),s.jsx(D,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(U,{id:"exclusionMask",value:n.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:i,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((c,d)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(U,{value:c.directory,onChange:u=>o(d,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(U,{value:c.fileName,onChange:u=>o(d,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(U,{value:c.exclusionMask,onChange:u=>o(d,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(d),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},d))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(U,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(U,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(Z,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection security"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(D,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(D,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(U,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(Z,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(ue,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(U,{id:"targetDirectory",value:n.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(U,{id:"targetFileName",value:n.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(U,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(U,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(Z,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection security"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(D,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(D,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(U,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(Z,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(xt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(U,{id:"pollingInterval",value:n.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(Z,{value:n.processingMode,onValueChange:c=>a({processingMode:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select processing mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(Z,{value:n.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty file handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"do-not-create",children:"Do not create message"}),s.jsx(D,{value:"process-empty",children:"Process empty files"}),s.jsx(D,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(Z,{value:n.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file construction mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(Z,{value:n.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file placement"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(Z,{value:n.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty message handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(U,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(U,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),s.jsx(ue,{value:"fileFormat",className:"mt-6",children:s.jsx(uS,{config:n.fileFormatConfig||{},onChange:c=>a({fileFormatConfig:c})})}),s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:c=>a({xmlConversion:c})})})]})})]})},Voe=({mode:e,onConfigChange:t})=>{const[n,r]=m.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0}}),a=d=>{const u={...n,...d};r(u),t==null||t(u)},i=()=>{const d=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},o=(d,u,h)=>{const f=[...n.advancedEntries];f[d]={...f[d],[u]:h},a({advancedEntries:f})},l=d=>{if(n.advancedEntries.length>1){const u=n.advancedEntries.filter((h,f)=>f!==d);a({advancedEntries:u})}},c=()=>{switch(n.authenticationType){case"public-key":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(Z,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a key pair from system"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(D,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(D,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(D,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(D,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(D,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"username-password":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(U,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})})]});case"dual":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"userName",children:"User Name *"}),s.jsx(U,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(Z,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a key pair from system"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(D,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(D,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(D,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(D,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(D,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ns,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"dynamic":return s.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsxs(ie,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your SFTP ",e," adapter settings"]})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-4",children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"fileFormat",children:"File Format"}),s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(ue,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(U,{id:"sourceDirectory",value:n.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(U,{id:"fileName",value:n.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(U,{id:"exclusionMask",value:n.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:i,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((d,u)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(U,{value:d.directory,onChange:h=>o(u,"directory",h.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(U,{value:d.fileName,onChange:h=>o(u,"fileName",h.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(U,{value:d.exclusionMask,onChange:h=>o(u,"exclusionMask",h.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(U,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(U,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(Z,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"public-key",children:"Public Key"}),s.jsx(D,{value:"username-password",children:"User Name/Password"}),s.jsx(D,{value:"dual",children:"Dual"}),s.jsx(D,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(U,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryConnection",children:"Retry Connection"}),s.jsx(U,{id:"retryConnection",value:n.retryConnection,onChange:d=>a({retryConnection:d.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),s.jsx(U,{id:"retryConnectionDelay",value:n.retryConnectionDelay,onChange:d=>a({retryConnectionDelay:d.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(Z,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(ue,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(U,{id:"targetDirectory",value:n.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(U,{id:"targetFileName",value:n.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(U,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout"}),s.jsx(U,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(Z,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"public-key",children:"Public Key"}),s.jsx(D,{value:"username-password",children:"User Name/Password"}),s.jsx(D,{value:"dual",children:"Dual"}),s.jsx(D,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(Z,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"permanently",children:"Permanently"}),s.jsx(D,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsx(ue,{value:"processing",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(xt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),s.jsx(U,{id:"pollingInterval",value:n.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(Z,{value:n.processingMode,onValueChange:d=>a({processingMode:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select processing mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"keep-file",children:"Keep File"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(Z,{value:n.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty file handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"do-not-create-message",children:"Do not create message"}),s.jsx(D,{value:"process-empty-files",children:"Process empty files"}),s.jsx(D,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),s.jsx(U,{id:"duplicateMessageAlertThreshold",value:n.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(Z,{value:n.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file construction mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(Z,{value:n.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file placement"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(Z,{value:n.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty message handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(U,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})}),s.jsx(ue,{value:"fileFormat",className:"mt-6",children:s.jsx(uS,{config:n.fileFormatConfig||{},onChange:d=>a({fileFormatConfig:d})})}),s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:d=>a({xmlConversion:d})})})]})})]})},w$=m.forwardRef(({value:e,onValueChange:t,options:n,className:r,size:a="md",disabled:i=!1},o)=>{const l={sm:"h-8 text-xs",md:"h-10 text-sm",lg:"h-12 text-base"},c=d=>{i||t(d.value)};return s.jsx("div",{ref:o,className:le("inline-flex rounded-lg bg-muted p-1 text-muted-foreground",l[a],i&&"opacity-50 cursor-not-allowed",r),children:n.map(d=>s.jsxs("button",{type:"button",onClick:()=>c(d),disabled:i,className:le("relative inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e===d.value?"bg-background text-foreground shadow-sm":"hover:text-foreground","flex-1"),children:[d.icon&&s.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.value))})});w$.displayName="SegmentedControl";const dm=({config:e,onChange:t,adapterType:n,dataStructures:r=[],disabled:a=!1})=>{const i=[{value:"transform",label:"Transform Data"},{value:"passthrough",label:"Passthrough"}],o=h=>{const f={...e,mode:h};h==="passthrough"?(f.dataStructureId=void 0,f.requiresStructure=!1):f.requiresStructure=c(n),t(f)},l=h=>{t({...e,dataStructureId:h})},c=h=>["FILE","FTP","SFTP","REST","HTTP","HTTPS","JSON","XML"].includes(h.toUpperCase()),d=()=>{const h=n.toUpperCase();return["REST","HTTP","HTTPS"].includes(h)?s.jsxs(tt,{className:"mt-4",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(st,{children:"For REST/HTTP adapters with transformation enabled, you must define the payload structure. The payload will be automatically converted to XML for mapping."})]}):["FILE","FTP","SFTP"].includes(h)?s.jsxs(tt,{className:"mt-4",children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{children:"File adapters require an XML data structure when transformation is enabled. The file content will be converted to/from XML for processing."})]}):h==="SOAP"?s.jsxs(tt,{className:"mt-4",children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{children:"SOAP adapters always require a WSDL which defines the data structures."})]}):null},u=r.filter(h=>["REST","HTTP","HTTPS"].includes(n.toUpperCase())?["JSON","XML"].includes(h.type):h.type==="XML");return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Transformation"}),s.jsx(xe,{children:"Choose whether to transform data or pass it through unchanged"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Transformation Mode"}),s.jsx(w$,{value:e.mode,onValueChange:o,options:i,disabled:a})]}),e.mode==="transform"&&e.requiresStructure&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Data Structure *"}),s.jsxs(Z,{value:e.dataStructureId,onValueChange:l,disabled:a,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a data structure"})}),s.jsx(Q,{children:u.map(h=>s.jsxs(D,{value:h.id,children:[h.name," (",h.type,")"]},h.id))})]}),u.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No compatible data structures found. Please create one first."})]}),e.mode==="passthrough"&&s.jsxs(tt,{children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{children:"Passthrough mode transfers data without any transformation or XML conversion. This is ideal for binary files or when you need to preserve the exact file format."})]}),e.mode==="transform"&&d()]})]})},Uoe=({mode:e,onConfigChange:t})=>{var c,d;const[n,r]=m.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"transform",requiresStructure:!0}}),a=u=>{const h={...n,...u};r(h),t==null||t(h)},i=()=>{const u=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:u})},o=(u,h,f)=>{const x=[...n.advancedEntries];x[u]={...x[u],[h]:f},a({advancedEntries:x})},l=u=>{if(n.advancedEntries.length>1){const h=n.advancedEntries.filter((f,x)=>x!==u);a({advancedEntries:h})}};return s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsxs(ie,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(xe,{children:["Configure your File ",e," adapter settings"]})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"fileFormat",children:"File Format"}),s.jsx(me,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsx(ue,{value:"source",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(U,{id:"sourceDirectory",value:n.sourceDirectory,onChange:u=>a({sourceDirectory:u.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileName",children:"File Name *"}),s.jsx(U,{id:"fileName",value:n.fileName,onChange:u=>a({fileName:u.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(Z,{value:n.sorting,onValueChange:u=>a({sorting:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select sorting option"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(D,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(D,{value:"file-size",children:"File Size"}),s.jsx(D,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:u=>a({advancedSelection:u===!0})}),s.jsx(E,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(U,{id:"exclusionMask",value:n.exclusionMask,onChange:u=>a({exclusionMask:u.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(E,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:i,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((u,h)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Directory"}),s.jsx(U,{value:u.directory,onChange:f=>o(h,"directory",f.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"File Name"}),s.jsx(U,{value:u.fileName,onChange:f=>o(h,"fileName",f.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(U,{value:u.exclusionMask,onChange:f=>o(h,"exclusionMask",f.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(h),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},h))]})]})]})}),e==="receiver"&&s.jsx(ue,{value:"target",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(U,{id:"targetDirectory",value:n.targetDirectory,onChange:u=>a({targetDirectory:u.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(U,{id:"targetFileName",value:n.targetFileName,onChange:u=>a({targetFileName:u.target.value}),placeholder:"Enter file name"})]})]})]})}),s.jsxs(ue,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(xt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(U,{id:"pollingInterval",value:n.pollingInterval,onChange:u=>a({pollingInterval:u.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(Z,{value:n.processingMode,onValueChange:u=>a({processingMode:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select processing mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"archive",children:"Archive"}),s.jsx(D,{value:"delete",children:"Delete"}),s.jsx(D,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(Z,{value:n.emptyFileHandling,onValueChange:u=>a({emptyFileHandling:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty file handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"do-not-create",children:"Do not create message"}),s.jsx(D,{value:"process-empty",children:"Process empty files"}),s.jsx(D,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:u=>a({createFileDirectory:u===!0})}),s.jsx(E,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:u=>a({overwriteExistingFile:u===!0})}),s.jsx(E,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(Z,{value:n.fileConstructionMode,onValueChange:u=>a({fileConstructionMode:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file construction mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"create",children:"Create"}),s.jsx(D,{value:"append",children:"Append"}),s.jsx(D,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(Z,{value:n.filePlacement,onValueChange:u=>a({filePlacement:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select file placement"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(D,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(Z,{value:n.emptyMessageHandling_receiver,onValueChange:u=>a({emptyMessageHandling_receiver:u}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select empty message handling"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(D,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(U,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:u=>a({maxConcurrentConnections:u.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(xt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:u=>a({enableDuplicateHandling:u===!0})}),s.jsx(E,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(U,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:u=>a({duplicateMessageAlertThreshold:u.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:u=>a({disableChannelOnExceed:u===!0})}),s.jsx(E,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),s.jsx(ue,{value:"transformation",className:"mt-6",children:s.jsx(dm,{config:n.transformationConfig||{mode:"transform"},onChange:u=>a({transformationConfig:u}),adapterType:"FILE",disabled:!1})}),((c=n.transformationConfig)==null?void 0:c.mode)==="transform"&&s.jsx(ue,{value:"fileFormat",className:"mt-6",children:s.jsx(uS,{config:n.fileFormatConfig||{},onChange:u=>a({fileFormatConfig:u})})}),((d=n.transformationConfig)==null?void 0:d.mode)==="transform"&&s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:u=>a({xmlConversion:u})})})]})})]})},Lg=({config:e,onChange:t,adapterType:n,mode:r,disabled:a=!1})=>{m.useState(!1);const[i,o]=m.useState(""),l=g=>{const p=[];try{JSON.parse(g)}catch(j){p.push(`Invalid JSON: ${j.message}`)}return p},c=g=>{const p=[];try{new DOMParser().parseFromString(g,"text/xml").querySelector("parsererror")&&p.push("Invalid XML format")}catch(j){p.push(`XML parsing error: ${j.message}`)}return p},d=g=>{const p={...e,samplePayload:g};if(g){const j=e.format==="JSON"?l(g):c(g);if(p.validationErrors=j,e.format==="JSON"&&j.length===0)try{const v=JSON.parse(g),y=u(v);o(y),p.convertedXml=y}catch(v){console.error("Error converting to XML preview:",v)}}t(p)},u=g=>{const p=(j,v="")=>{let y="";return Array.isArray(j)?j.forEach(w=>{y+=`${v}<item>
${p(w,v+"  ")}${v}</item>
`}):typeof j=="object"&&j!==null?Object.entries(j).forEach(([w,N])=>{const b=w.replace(/[^a-zA-Z0-9_-]/g,"_");typeof N=="object"&&N!==null?y+=`${v}<${b}>
${p(N,v+"  ")}${v}</${b}>
`:y+=`${v}<${b}>${h(String(N))}</${b}>
`}):y+=`${v}${h(String(j))}
`,y};return`<?xml version="1.0" encoding="UTF-8"?>
<Message>
${p(g,"  ")}</Message>`},h=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),f=()=>{if(!(!e.samplePayload||e.format!=="JSON"))try{const g=JSON.parse(e.samplePayload),p=x(g);t({...e,jsonSchema:JSON.stringify(p,null,2)})}catch(g){console.error("Error generating schema:",g)}},x=g=>{const p={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{}},j=v=>{if(v===null)return{type:"null"};if(typeof v=="string")return{type:"string"};if(typeof v=="number")return{type:"number"};if(typeof v=="boolean")return{type:"boolean"};if(Array.isArray(v))return v.length>0?{type:"array",items:j(v[0])}:{type:"array"};if(typeof v=="object"){const y={type:"object",properties:{}};return Object.entries(v).forEach(([w,N])=>{y.properties[w]=j(N)}),y}return{type:"string"}};return Object.entries(g).forEach(([v,y])=>{p.properties[v]=j(y)}),p};return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Payload Structure Definition"}),s.jsxs(xe,{children:["Define the structure of ",r==="sender"?"incoming":"outgoing"," payloads for your ",n," adapter"]})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(st,{children:["For REST/HTTP adapters, the payload structure will be automatically converted to XML for mapping.",e.format==="JSON"&&" JSON payloads will be transformed to XML with appropriate element names."]})]}),s.jsxs(lt,{defaultValue:"sample",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-3",children:[s.jsx(me,{value:"sample",children:"Sample Payload"}),s.jsx(me,{value:"schema",children:"Schema Definition"}),s.jsx(me,{value:"preview",disabled:!e.samplePayload||e.format!=="JSON",children:"XML Preview"})]}),s.jsxs(ue,{value:"sample",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{children:["Sample ",e.format," Payload"]}),s.jsx(Re,{placeholder:e.format==="JSON"?`{
  "orderId": "12345",
  "customer": {
    "name": "John Doe",
    "email": "john@example.com"
  },
  "items": [...]
}`:`<Order>
  <OrderId>12345</OrderId>
  <Customer>
    <Name>John Doe</Name>
  </Customer>
</Order>`,className:"font-mono text-sm min-h-[300px]",value:e.samplePayload||"",onChange:g=>d(g.target.value),disabled:a}),e.validationErrors&&e.validationErrors.length>0&&s.jsx("div",{className:"space-y-1",children:e.validationErrors.map((g,p)=>s.jsx("p",{className:"text-sm text-destructive",children:g},p))}),e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[s.jsx(Bs,{className:"h-3 w-3"}),"Valid ",e.format," payload"]})]}),e.format==="JSON"&&e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs(q,{variant:"outline",size:"sm",onClick:f,disabled:a,children:[s.jsx(ON,{className:"h-4 w-4 mr-2"}),"Generate JSON Schema"]})]}),s.jsx(ue,{value:"schema",className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{children:[e.format," Schema"]}),s.jsx(Re,{placeholder:e.format==="JSON"?"JSON Schema (optional)":"XSD Schema (optional)",className:"font-mono text-sm min-h-[300px]",value:e.format==="JSON"?e.jsonSchema:e.xmlSchema,onChange:g=>t({...e,[e.format==="JSON"?"jsonSchema":"xmlSchema"]:g.target.value}),disabled:a}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema definition is optional but helps with validation and documentation"})]})}),s.jsxs(ue,{value:"preview",className:"space-y-4",children:[s.jsxs(tt,{children:[s.jsx(NB,{className:"h-4 w-4"}),s.jsx(st,{children:"This preview shows how your JSON payload will be converted to XML for mapping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"XML Conversion Preview"}),s.jsx(Re,{className:"font-mono text-sm min-h-[300px] bg-muted",value:i,readOnly:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This XML structure will be used in the mapping screen"})]})]})]})]})]})};function Boe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=Ji(),{structures:a}=jd(),[i,o]=m.useState(""),[l,c]=m.useState([]),[d,u]=m.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[h,f]=m.useState(e.payloadStructureConfig||{format:"JSON"});m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),m.useEffect(()=>{if(i){const p=a.filter(j=>j.usage==="source");c(p)}else c([])},[i,a]);const x=p=>{u(p),t("transformationConfig",p)},g=p=>{f(p),t("payloadStructureConfig",p)};return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"HTTP Sender Configuration"}),s.jsx(xe,{children:"Configure your HTTP sender adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsx(ue,{value:"source",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"endpointUrl",children:"Endpoint URL"}),s.jsx(U,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:p=>t("endpointUrl",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(Z,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select HTTP method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"}),s.jsx(D,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(Z,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select media type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),s.jsx(Re,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:p=>t("sslConfig",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(U,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),s.jsx(U,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:p=>t("rateLimits",p.target.value)})]})]})}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(U,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:p=>t("asyncResponseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:p=>t("asyncResponseFormat",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select response format"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(U,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:p=>t("asyncCallbackUrl",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(Z,{value:i,onValueChange:p=>{o(p),t("businessComponentId",p)},disabled:r,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsx(Q,{className:"bg-background border z-50",children:n.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(Z,{value:e.requestPayloadFormat||"",onValueChange:p=>t("requestPayloadFormat",p),disabled:!i||l.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select request structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(Z,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!i||l.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select response structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(Re,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"}),s.jsx(D,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(U,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(Ns,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:p=>t("basicPassword",p),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&s.jsx("div",{className:"space-y-2",children:s.jsx(Ns,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:p=>t("bearerToken",p),showConfirmation:!1})}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(U,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(Ns,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:p=>t("apiKeyValue",p),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jwtToken",children:"JWT Token"}),s.jsx(Re,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:p=>t("jwtToken",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),s.jsxs(Z,{value:e.jwtAlgorithm||"",onValueChange:p=>t("jwtAlgorithm",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select JWT algorithm"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"HS256",children:"HS256"}),s.jsx(D,{value:"HS384",children:"HS384"}),s.jsx(D,{value:"HS512",children:"HS512"}),s.jsx(D,{value:"RS256",children:"RS256"}),s.jsx(D,{value:"RS384",children:"RS384"}),s.jsx(D,{value:"RS512",children:"RS512"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Re,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Re,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:p=>t("retryPolicy",p.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(ue,{value:"transformation",className:"mt-6",children:s.jsx(dm,{config:d,onChange:x,adapterType:"HTTP",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(ue,{value:"payload",className:"mt-6",children:s.jsx(Lg,{config:h,onChange:g,adapterType:"HTTP",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}class Hoe{async getAllCertificates(t){const n=t?`?businessComponentId=${t}`:"";return te.get(`/certificates${n}`)}async getCertificateById(t){return te.get(`/certificates/${t}`)}async createCertificate(t){return te.post("/certificates",t)}async updateCertificate(t,n){return te.put(`/certificates/${t}`,n)}async deleteCertificate(t){return te.delete(`/certificates/${t}`)}async uploadCertificate(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("type",n.type),r.append("usage",n.usage),te.post("/certificates/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadCertificate(t){const n=await fetch(`${te.baseURL}/certificates/${t}/download`,{method:"GET",headers:te.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download certificate");return n.blob()}async getCertificatesByBusinessComponent(t){return te.get(`/business-components/${t}/certificates`)}async validateCertificate(t){return te.get(`/certificates/${t}/validate`)}async getExpiringCertificates(t=30){return te.get(`/certificates/expiring?days=${t}`)}}const N$=new Hoe,hS=({id:e,label:t,value:n,onChange:r,businessComponentId:a,placeholder:i="Select certificate",required:o=!1})=>{const[l,c]=m.useState([]),[d,u]=m.useState(!0);m.useEffect(()=>{(async()=>{try{u(!0);const x=await N$.getAllCertificates(a);x.success&&x.data?c(x.data):(console.error("Failed to fetch certificates:",x.error),c([]))}catch(x){console.error("Error fetching certificates:",x),c([]),toast({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{u(!1)}})()},[a]);const h=l.filter(f=>f.status==="active");return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:e,className:"flex items-center gap-1",children:[t,o&&s.jsx("span",{className:"text-destructive",children:"*"})]}),d?s.jsx(Ze,{className:"h-10 w-full"}):s.jsxs(Z,{value:n,onValueChange:r,children:[s.jsx(J,{id:e,children:s.jsx(ee,{placeholder:i})}),s.jsx(Q,{children:h.length===0?s.jsxs(D,{value:"",disabled:!0,children:["No certificates available ",a?"for this business component":""]}):h.map(f=>s.jsx(D,{value:f.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:f.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.type,"  ",f.issuer]})]})},f.id))})]})]})};function zoe({configuration:e,onConfigurationChange:t,businessComponentId:n}){const[r,a]=m.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[i,o]=m.useState(e.payloadStructureConfig||{format:"JSON"}),l=d=>{a(d),t("transformationConfig",d)},c=d=>{o(d),t("payloadStructureConfig",d)};return m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"HTTP Receiver Configuration"}),s.jsx(xe,{children:"Configure your HTTP receiver adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:r.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:r.mode!=="transform",children:"XML Conversion"})]}),s.jsx(ue,{value:"target",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(U,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:d=>t("targetEndpointUrl",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(Z,{value:e.httpMethod||"",onValueChange:d=>t("httpMethod",d),children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select HTTP method"})}),s.jsxs(Q,{className:"bg-background border z-50",children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"}),s.jsx(D,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),s.jsx(U,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:d=>t("connectionTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"readTimeout",children:"Read Timeout"}),s.jsx(U,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:d=>t("readTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:d=>t("useProxy",d)}),s.jsx(E,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyServer",children:"Server"}),s.jsx(U,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:d=>t("proxyServer",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyPort",children:"Port"}),s.jsx(U,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:d=>t("proxyPort",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyUsername",children:"User Name"}),s.jsx(U,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:d=>t("proxyUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxyPassword",children:"Password"}),s.jsx(U,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:d=>t("proxyPassword",d.target.value)})]})]})]})]})}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:d=>t("processingMode",d?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(U,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:d=>t("responseTimeout",parseInt(d.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:d=>t("waitForResponse",d)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(U,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:d=>t("asyncCorrelationId",d.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:e.authenticationType||"",onValueChange:d=>t("authenticationType",d),children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select authentication method"})}),s.jsxs(Q,{className:"bg-background border z-50",children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic"}),s.jsx(D,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),s.jsx(D,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(U,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:d=>t("basicUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(U,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:d=>t("basicPassword",d.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(U,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:d=>t("clientId",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(U,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:d=>t("clientSecret",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(U,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:d=>t("tokenUrl",d.target.value)})]})]}),e.authenticationType==="client-certificate"&&s.jsx("div",{className:"space-y-4",children:s.jsx(hS,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:d=>t("certificateId",d),businessComponentId:n,placeholder:"Select client certificate",required:!0})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestHeaders",children:"Request Headers"}),s.jsx(Re,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:d=>t("requestHeaders",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsx(Re,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:d=>t("requestPayloadFormat",d.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseHandling",children:"Response Handling"}),s.jsx(Re,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:d=>t("responseHandling",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Re,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:d=>t("retryPolicy",d.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(ue,{value:"transformation",className:"mt-6",children:s.jsx(dm,{config:r,onChange:l,adapterType:"HTTP",disabled:!1})}),r.mode==="transform"&&s.jsx(ue,{value:"payload",className:"mt-6",children:s.jsx(Lg,{config:i,onChange:c,adapterType:"HTTP",mode:"receiver",disabled:!1})}),r.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:d=>t("xmlConversion",d)})})]})})]})}const qoe=["TCP/IP","Gateway"];function Woe({configuration:e,onConfigurationChange:t}){return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"IDOC Sender Configuration"}),s.jsx(xe,{children:"Configure your IDOC sender adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(U,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(U,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(U,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(U,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(U,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(U,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(U,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(Z,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection type"})}),s.jsx(Q,{children:qoe.map(n=>s.jsx(D,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(U,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(U,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(U,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(U,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(U,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(U,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageType",children:"Message Type"}),s.jsx(U,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processCode",children:"Process Code"}),s.jsx(U,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(Re,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}const Yoe=["TCP/IP","Gateway"];function Koe({configuration:e,onConfigurationChange:t}){return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"IDOC Receiver Configuration"}),s.jsx(xe,{children:"Configure your IDOC receiver adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(U,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(U,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(U,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(U,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(U,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(U,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(U,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(Z,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection type"})}),s.jsx(Q,{children:Yoe.map(n=>s.jsx(D,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(U,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(U,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(U,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(U,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(U,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(U,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageType",children:"Message Type"}),s.jsx(U,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"processCode",children:"Process Code"}),s.jsx(U,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(Re,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}function Xoe({adapter:e,onUpdate:t}){const n=(r,a)=>{t({...e,configuration:{...e.configuration,[r]:a}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing Details"})]}),s.jsx(ue,{value:"source",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Connection Details"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(U,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:r=>n("connectionFactoryClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(U,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:r=>n("queueClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(U,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:r=>n("queueManager",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(U,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:r=>n("host",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:r=>n("port",parseInt(r.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(U,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:r=>n("channel",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(U,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:r=>n("connectionFactory",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(Z,{value:e.configuration.transportType||"CLIENT",onValueChange:r=>n("transportType",r),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select transport type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(D,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"User Name"}),s.jsx(U,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:r=>n("username",r.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:r=>n("password",r)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:r=>n("useSSL",r)}),s.jsx(E,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),s.jsx(U,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:r=>n("sslKeystore",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),s.jsx(U,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:r=>n("sslPassword",r.target.value)})]})]})]})]})}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Processing Details"})}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(U,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:r=>n("queueName",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(Z,{value:e.configuration.destinationType||"",onValueChange:r=>n("destinationType",r),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select destination type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"Queue",children:"Queue"}),s.jsx(D,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(U,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:r=>n("messageSelector",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(U,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:r=>n("clientId",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(Z,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:r=>n("ackMode",r),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select acknowledgement mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(D,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function Goe({adapter:e,onUpdate:t,businessComponentId:n}){const r=(a,i)=>{t({...e,configuration:{...e.configuration,[a]:i}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing Details"})]}),s.jsx(ue,{value:"target",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Connection Details"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(U,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>r("connectionFactoryClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(U,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>r("queueClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(U,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>r("queueManager",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(U,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>r("host",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"port",children:"Port *"}),s.jsx(U,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>r("port",parseInt(a.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(U,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>r("channel",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(U,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>r("connectionFactory",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(Z,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>r("transportType",a),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select transport type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(D,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"User Name"}),s.jsx(U,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>r("username",a.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(Ns,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>r("password",a)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>r("useSSL",a)}),s.jsx(E,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsx("div",{className:"space-y-4",children:s.jsx(hS,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>r("sslCertificateId",a),businessComponentId:n,placeholder:"Select SSL certificate",required:!0})})]})]})}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Processing Details"})}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(U,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>r("queueName",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(Z,{value:e.configuration.destinationType||"",onValueChange:a=>r("destinationType",a),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select destination type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"Queue",children:"Queue"}),s.jsx(D,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(U,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>r("messageSelector",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(U,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>r("clientId",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(Z,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>r("ackMode",a),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select acknowledgement mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(D,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function Joe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=Ji(),{structures:a}=jd(),[i,o]=m.useState(""),[l,c]=m.useState([]),[d,u]=m.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[h,f]=m.useState(e.payloadStructureConfig||{format:"JSON"});m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),m.useEffect(()=>{if(i){const p=a.filter(j=>j.usage==="source");c(p)}else c([])},[i,a]);const x=p=>{u(p),t("transformationConfig",p)},g=p=>{f(p),t("payloadStructureConfig",p)};return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"REST Sender Configuration"}),s.jsx(xe,{children:"Configure your REST sender adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(ue,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),s.jsx(U,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:p=>t("baseEndpointUrl",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(U,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:p=>t("resourcePath",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(U,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(Z,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select HTTP method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(Z,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select media type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(Z,{value:e.acceptType||"",onValueChange:p=>t("acceptType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select expected response type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/plain",children:"text/plain"}),s.jsx(D,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(Re,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:p=>t("queryParameters",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(U,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:p=>t("timeoutSettings",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(U,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:p=>t("asyncResponseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:p=>t("asyncResponseFormat",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select response format"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(U,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:p=>t("asyncCallbackUrl",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(U,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(U,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:p=>t("basicPassword",p.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(U,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:p=>t("bearerToken",p.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(U,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(U,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:p=>t("apiKeyValue",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(Z,{value:i,onValueChange:p=>{o(p),t("businessComponentId",p)},disabled:r,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsx(Q,{className:"bg-background border z-50",children:n.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayload",children:"Request Payload"}),s.jsxs(Z,{value:e.requestPayload||"",onValueChange:p=>t("requestPayload",p),disabled:!i||l.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select request structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(Z,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!i||l.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select response structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:l.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Headers"}),s.jsx(Re,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Re,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),s.jsx(U,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:p=>t("rateLimiting",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]}),s.jsx(ue,{value:"transformation",className:"mt-6",children:s.jsx(dm,{config:d,onChange:x,adapterType:"REST",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(ue,{value:"payload",className:"mt-6",children:s.jsx(Lg,{config:h,onChange:g,adapterType:"REST",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}function Qoe({configuration:e,onConfigurationChange:t}){const[n,r]=m.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[a,i]=m.useState(e.payloadStructureConfig||{format:"JSON"}),o=p=>{r(p),t("transformationConfig",p)},l=p=>{i(p),t("payloadStructureConfig",p)},{businessComponents:c,loading:d}=Ji(),{structures:u}=jd(),[h,f]=m.useState(""),[x,g]=m.useState([]);return m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),m.useEffect(()=>{if(h){const p=u.filter(j=>j.usage==="target");g(p)}else g([])},[h,u]),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"REST Receiver Configuration"}),s.jsx(xe,{children:"Configure your REST receiver adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"}),s.jsx(me,{value:"transformation",children:"Transformation"}),s.jsx(me,{value:"payload",disabled:n.mode!=="transform",children:"Payload Structure"}),s.jsx(me,{value:"xmlConversion",disabled:n.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(ue,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(U,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:p=>t("targetEndpointUrl",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(U,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:p=>t("resourcePath",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(U,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:p=>t("apiVersion",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(Z,{value:e.httpMethod||"",onValueChange:p=>t("httpMethod",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select HTTP method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"POST",children:"POST"}),s.jsx(D,{value:"PUT",children:"PUT"}),s.jsx(D,{value:"GET",children:"GET"}),s.jsx(D,{value:"DELETE",children:"DELETE"}),s.jsx(D,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(Z,{value:e.contentType||"",onValueChange:p=>t("contentType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select media type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(D,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(Z,{value:e.acceptType||"",onValueChange:p=>t("acceptType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select expected response type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"application/json",children:"application/json"}),s.jsx(D,{value:"application/xml",children:"application/xml"}),s.jsx(D,{value:"text/plain",children:"text/plain"}),s.jsx(D,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(Re,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:p=>t("queryParameters",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(U,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:p=>t("timeoutSettings",p.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"proxySettings",children:"Proxy Settings"}),s.jsx(Re,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:p=>t("proxySettings",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:p=>t("processingMode",p?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(U,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:p=>t("responseTimeout",parseInt(p.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:p=>t("waitForResponse",p)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(U,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:p=>t("asyncCorrelationId",p.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:e.authenticationType||"",onValueChange:p=>t("authenticationType",p),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication method"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicUsername",children:"Username"}),s.jsx(U,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:p=>t("basicUsername",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"basicPassword",children:"Password"}),s.jsx(U,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:p=>t("basicPassword",p.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(U,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:p=>t("bearerToken",p.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(U,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:p=>t("apiKeyName",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(U,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:p=>t("apiKeyValue",p.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(Z,{value:h,onValueChange:p=>{f(p),t("businessComponentId",p)},disabled:d,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsx(Q,{className:"bg-background border z-50",children:c.map(p=>s.jsx(D,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(Z,{value:e.requestPayloadFormat||"",onValueChange:p=>t("requestPayloadFormat",p),disabled:!h||x.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select request structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:x.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(Z,{value:e.responseFormat||"",onValueChange:p=>t("responseFormat",p),disabled:!h||x.length===0,children:[s.jsx(J,{className:"bg-background",children:s.jsx(ee,{placeholder:"Select response structure"})}),s.jsx(Q,{className:"bg-background border z-50",children:x.map(p=>s.jsxs(D,{value:p.id,children:[p.name," (",p.type,")"]},p.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(Re,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:p=>t("customHeaders",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Re,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:p=>t("errorHandling",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Re,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:p=>t("retryPolicy",p.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]}),s.jsx(ue,{value:"transformation",className:"mt-6",children:s.jsx(dm,{config:n,onChange:o,adapterType:"REST",disabled:!1})}),n.mode==="transform"&&s.jsx(ue,{value:"payload",className:"mt-6",children:s.jsx(Lg,{config:a,onChange:l,adapterType:"REST",mode:"receiver",disabled:!1})}),n.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",className:"mt-6",children:s.jsx(pl,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:p=>t("xmlConversion",p)})})]})})]})}function Zoe({configuration:e,onConfigurationChange:t,businessComponentId:n}){const[r,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState({});m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),m.useEffect(()=>{n&&d()},[n]),m.useEffect(()=>{e.selectedWsdl&&u(e.selectedWsdl)},[e.selectedWsdl]);const d=async()=>{try{o(!0);const h=await te.get("/structures",{params:{type:"wsdl",usage:"source",businessComponentId:n,limit:100}});if(h.data&&h.data.structures){console.log("SOAP Sender - Raw structures from API:",h.data.structures);const f=h.data.structures.filter(x=>{var v,y,w;const g=((v=x.type)==null?void 0:v.toLowerCase())==="wsdl",p=x.usage==="source"||((y=x.metadata)==null?void 0:y.usage)==="source"||!x.usage,j=g&&p;return console.log(`SOAP Sender - Structure ${x.name}: type=${x.type}, usage=${x.usage}, metadata.usage=${(w=x.metadata)==null?void 0:w.usage}, included=${j}`),j}).map(x=>{var g;return{id:x.id,name:x.name,endpointUrl:((g=x.metadata)==null?void 0:g.endpointUrl)||""}});console.log("SOAP Sender - Filtered WSDL list:",f),a(f)}else a([])}catch(h){console.error("Error fetching WSDLs:",h),a([])}finally{o(!1)}},u=async h=>{var f,x,g,p,j,v,y,w,N,b,C,S,P,A,F,O,_,$,I,k,T,M,R,L,H,V,B;try{const W=await te.get(`/structures/${h}`);if(W.data){const Y=W.data;console.log("SOAP Sender - WSDL Structure:",Y),console.log("SOAP Sender - WSDL Metadata:",Y.metadata);const X={};((f=Y.metadata)!=null&&f.requestStructure||(g=(x=Y.metadata)==null?void 0:x.operationInfo)!=null&&g.request)&&(X.request=((p=Y.metadata)==null?void 0:p.requestStructure)||((v=(j=Y.metadata)==null?void 0:j.operationInfo)==null?void 0:v.request)),((y=Y.metadata)!=null&&y.responseStructure||(N=(w=Y.metadata)==null?void 0:w.operationInfo)!=null&&N.response)&&(X.response=((b=Y.metadata)==null?void 0:b.responseStructure)||((S=(C=Y.metadata)==null?void 0:C.operationInfo)==null?void 0:S.response)),((P=Y.metadata)!=null&&P.faultStructure||(F=(A=Y.metadata)==null?void 0:A.operationInfo)!=null&&F.fault)&&(X.fault=((O=Y.metadata)==null?void 0:O.faultStructure)||(($=(_=Y.metadata)==null?void 0:_.operationInfo)==null?void 0:$.fault)),c(X),console.log("SOAP Sender - Extracted structures:",X);const ne=((I=Y.metadata)==null?void 0:I.hasInput)||((T=(k=Y.metadata)==null?void 0:k.operationInfo)==null?void 0:T.hasInput),se=((M=Y.metadata)==null?void 0:M.hasOutput)||((L=(R=Y.metadata)==null?void 0:R.operationInfo)==null?void 0:L.hasOutput),ce=((H=Y.metadata)==null?void 0:H.hasFault)||((B=(V=Y.metadata)==null?void 0:V.operationInfo)==null?void 0:B.hasFault);console.log(`SOAP Sender - WSDL Analysis: hasInput=${ne}, hasOutput=${se}, hasFault=${ce}`),ne&&se&&ce?(console.log("SOAP Sender - Setting mode to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Sender - Setting mode to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}}catch(W){console.error("Error checking WSDL structure:",W),t("processingMode","ASYNCHRONOUS"),c({})}};return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"SOAP Sender Configuration"}),s.jsx(xe,{children:"Configure your SOAP sender adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"service-endpoint",children:"Endpoint URL"}),s.jsx(U,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:h=>t("serviceEndpointUrl",h.target.value),placeholder:"https://api.yourdomain.com/soap/service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-action",children:"SOAP Action"}),s.jsx(U,{id:"soap-action",value:e.soapAction||"",onChange:h=>t("soapAction",h.target.value),placeholder:"urn:getOrderDetails"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(Z,{value:e.contentType||"",onValueChange:h=>t("contentType",h),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select content type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(Z,{value:e.soapVersion||"",onValueChange:h=>t("soapVersion",h),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select SOAP version"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"1.1",children:"SOAP 1.1"}),s.jsx(D,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Source Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"source-wsdl",children:"Select WSDL"}),s.jsxs(Z,{value:e.selectedWsdl||"",onValueChange:h=>t("selectedWsdl",h),disabled:i||!n,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:n?i?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(Q,{children:r.map(h=>s.jsx(D,{value:h.id,children:h.name},h.id))})]})]})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:h=>t("processingMode",h?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(U,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:h=>t("asyncResponseTimeout",parseInt(h.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(Z,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:h=>t("asyncResponseFormat",h),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select response format"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(D,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(U,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:h=>t("asyncCallbackUrl",h.target.value)})]})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response-message",children:"Response Message"}),s.jsx(Re,{id:"response-message",value:e.responseMessage||"",onChange:h=>t("responseMessage",h.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(Re,{id:"error-handling",value:e.errorHandling||"",onChange:h=>t("errorHandling",h.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(U,{id:"timeout",type:"number",value:e.timeout||"",onChange:h=>t("timeout",h.target.value),placeholder:"60"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Custom Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),s.jsx(Re,{id:"custom-headers",value:e.customHeaders||"",onChange:h=>t("customHeaders",h.target.value),placeholder:"Additional SOAP headers in XML format (e.g., WS-Addressing, Custom security headers)",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter custom SOAP headers that will be included in the request envelope"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Additional Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-count",children:"Retry Count"}),s.jsx(U,{id:"retry-count",type:"number",value:e.retryCount||"",onChange:h=>t("retryCount",h.target.value),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-interval",children:"Retry Interval (seconds)"}),s.jsx(U,{id:"retry-interval",type:"number",value:e.retryInterval||"",onChange:h=>t("retryInterval",h.target.value),placeholder:"5"})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),l.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.request=="string"?l.request:JSON.stringify(l.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&l.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.response=="string"?l.response:JSON.stringify(l.response,null,2)})})]}),l.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.fault=="string"?l.fault:JSON.stringify(l.fault,null,2)})})]}),!l.request&&!l.response&&!l.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}function ele({configuration:e,onConfigurationChange:t,businessComponentId:n}){var j;const[r,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState({});m.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),m.useEffect(()=>{n&&h()},[n]),m.useEffect(()=>{e.selectedWsdl&&f(e.selectedWsdl)},[e.selectedWsdl]);const h=async()=>{try{o(!0);const v=await te.get("/structures",{params:{type:"wsdl",usage:"target",businessComponentId:n,limit:100}});if(v.data&&v.data.structures){const y=v.data.structures.filter(w=>{var S,P,A;const N=((S=w.type)==null?void 0:S.toLowerCase())==="wsdl",b=w.usage==="target"||((P=w.metadata)==null?void 0:P.usage)==="target"||!w.usage,C=N&&b;return console.log(`SOAP Receiver - Structure ${w.name}: type=${w.type}, usage=${w.usage}, metadata.usage=${(A=w.metadata)==null?void 0:A.usage}, included=${C}`),C}).map(w=>{var N;return{id:w.id,name:w.name,endpointUrl:((N=w.metadata)==null?void 0:N.endpointUrl)||""}});a(y)}else a([])}catch(v){console.error("Error fetching WSDLs:",v),a([])}finally{o(!1)}},f=async v=>{var y,w,N,b,C,S,P,A,F,O,_,$,I,k,T,M,R,L,H,V,B,W,Y,X,ne,se,ce,pe,we;try{const he=await te.get(`/structures/${v}`);if(he.data){c(he.data),console.log("SOAP Receiver - WSDL Structure:",he.data),console.log("SOAP Receiver - WSDL Metadata:",he.data.metadata),console.log("SOAP Receiver - WSDL Namespace:",he.data.namespace),console.log("SOAP Receiver - Full response data:",JSON.stringify(he.data,null,2));const ye={};if(((y=he.data.metadata)!=null&&y.requestStructure||(N=(w=he.data.metadata)==null?void 0:w.operationInfo)!=null&&N.request)&&(ye.request=((b=he.data.metadata)==null?void 0:b.requestStructure)||((S=(C=he.data.metadata)==null?void 0:C.operationInfo)==null?void 0:S.request)),((P=he.data.metadata)!=null&&P.responseStructure||(F=(A=he.data.metadata)==null?void 0:A.operationInfo)!=null&&F.response)&&(ye.response=((O=he.data.metadata)==null?void 0:O.responseStructure)||(($=(_=he.data.metadata)==null?void 0:_.operationInfo)==null?void 0:$.response)),((I=he.data.metadata)!=null&&I.faultStructure||(T=(k=he.data.metadata)==null?void 0:k.operationInfo)!=null&&T.fault)&&(ye.fault=((M=he.data.metadata)==null?void 0:M.faultStructure)||((L=(R=he.data.metadata)==null?void 0:R.operationInfo)==null?void 0:L.fault)),u(ye),console.log("SOAP Receiver - Extracted structures:",ye),(H=he.data.metadata)!=null&&H.endpointUrl)t("targetEndpointUrl",he.data.metadata.endpointUrl),console.log("SOAP Receiver - Using endpoint URL from metadata:",he.data.metadata.endpointUrl);else if((V=he.data.namespace)!=null&&V.schemaLocation)t("targetEndpointUrl",he.data.namespace.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from namespace.schemaLocation:",he.data.namespace.schemaLocation);else if(he.data.namespace&&typeof he.data.namespace=="string")try{const ze=JSON.parse(he.data.namespace);ze.schemaLocation&&(t("targetEndpointUrl",ze.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from parsed namespace:",ze.schemaLocation))}catch{console.log("SOAP Receiver - Could not parse namespace string")}else if(he.data.originalContent)try{const Zt=new DOMParser().parseFromString(he.data.originalContent,"text/xml").querySelectorAll('address, soap\\:address, soap12\\:address, wsdl\\:address, *[name()="soap:address"], *[name()="soap12:address"]');if(Zt.length>0){const dt=Zt[0].getAttribute("location");dt&&(t("targetEndpointUrl",dt),console.log("SOAP Receiver - Extracted endpoint URL from WSDL:",dt))}}catch(ze){console.error("Error parsing WSDL for endpoint URL:",ze)}const Ne=((B=he.data.metadata)==null?void 0:B.hasInput)||((Y=(W=he.data.metadata)==null?void 0:W.operationInfo)==null?void 0:Y.hasInput),Pe=((X=he.data.metadata)==null?void 0:X.hasOutput)||((se=(ne=he.data.metadata)==null?void 0:ne.operationInfo)==null?void 0:se.hasOutput),Ye=((ce=he.data.metadata)==null?void 0:ce.hasFault)||((we=(pe=he.data.metadata)==null?void 0:pe.operationInfo)==null?void 0:we.hasFault);console.log(`SOAP Receiver - WSDL Analysis: hasInput=${Ne}, hasOutput=${Pe}, hasFault=${Ye}`),Ne&&Pe&&Ye?(console.log("SOAP Receiver - Setting mode to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Receiver - Setting mode to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}}catch(he){console.error("Error fetching WSDL details:",he),t("processingMode","ASYNCHRONOUS"),u({})}},x=v=>{t("authentication.type",v),t("authentication.credentials",{})},g=(v,y)=>{var N;const w={...((N=e.authentication)==null?void 0:N.credentials)||{}};w[v]=y,t("authentication.credentials",w)},p=()=>{var w,N;const v=(w=e.authentication)==null?void 0:w.type,y=((N=e.authentication)==null?void 0:N.credentials)||{};switch(v){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-username",children:"Username"}),s.jsx(U,{id:"auth-username",value:y.username||"",onChange:b=>g("username",b.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-password",children:"Password"}),s.jsx(U,{id:"auth-password",type:"password",value:y.password||"",onChange:b=>g("password",b.target.value),placeholder:"Enter password"})]})]});case"ws-security":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-username",children:"Username"}),s.jsx(U,{id:"auth-username",value:y.username||"",onChange:b=>g("username",b.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-password",children:"Password"}),s.jsx(U,{id:"auth-password",type:"password",value:y.password||"",onChange:b=>g("password",b.target.value),placeholder:"Enter password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password-type",children:"Password Type"}),s.jsxs(Z,{value:y.passwordType||"digest",onValueChange:b=>g("passwordType",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select password type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"digest",children:"Password Digest"}),s.jsx(D,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-policy",children:"Security Policy"}),s.jsxs(Z,{value:y.securityPolicy||"",onValueChange:b=>g("securityPolicy",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select security policy"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"usernametoken",children:"Username Token Only"}),s.jsx(D,{value:"timestamp",children:"Timestamp"}),s.jsx(D,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),s.jsx(D,{value:"sign",children:"Digital Sign"}),s.jsx(D,{value:"encrypt",children:"Encrypt"}),s.jsx(D,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ws-addressing",children:"WS-Addressing"}),s.jsxs(Z,{value:y.wsAddressing||"disabled",onValueChange:b=>g("wsAddressing",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select WS-Addressing"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"disabled",children:"Disabled"}),s.jsx(D,{value:"optional",children:"Optional"}),s.jsx(D,{value:"required",children:"Required"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),s.jsx(U,{id:"timestamp-ttl",type:"number",value:y.timestampTTL||"",onChange:b=>g("timestampTTL",b.target.value),placeholder:"300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-algorithm",children:"Security Algorithm"}),s.jsxs(Z,{value:y.securityAlgorithm||"",onValueChange:b=>g("securityAlgorithm",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select algorithm"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"aes128",children:"AES-128"}),s.jsx(D,{value:"aes256",children:"AES-256"}),s.jsx(D,{value:"3des",children:"Triple DES"}),s.jsx(D,{value:"rsa15",children:"RSA 1.5"}),s.jsx(D,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(hS,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:b=>t("certificateId",b),businessComponentId:n,placeholder:"Select SOAP certificate",required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),s.jsxs(Z,{value:e.verifyServerCertificate||"true",onValueChange:b=>t("verifyServerCertificate",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select verification"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"true",children:"Yes"}),s.jsx(D,{value:"false",children:"No"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"custom-policy",children:"Custom Security Policy"}),s.jsx(Re,{id:"custom-policy",value:y.customPolicy||"",onChange:b=>g("customPolicy",b.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"security-token-reference",children:"Security Token Reference"}),s.jsxs(Z,{value:y.securityTokenReference||"binarySecurityToken",onValueChange:b=>g("securityTokenReference",b),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select token reference"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"binarySecurityToken",children:"Binary Security Token"}),s.jsx(D,{value:"keyIdentifier",children:"Key Identifier"}),s.jsx(D,{value:"x509Data",children:"X509 Data"}),s.jsx(D,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-client-id",children:"Client ID"}),s.jsx(U,{id:"auth-client-id",value:y.clientId||"",onChange:b=>g("clientId",b.target.value),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-client-secret",children:"Client Secret"}),s.jsx(U,{id:"auth-client-secret",type:"password",value:y.clientSecret||"",onChange:b=>g("clientSecret",b.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"SOAP Receiver Configuration"}),s.jsx(xe,{children:"Configure your SOAP receiver adapter settings"})]}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),s.jsx(U,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:v=>t("targetEndpointUrl",v.target.value),placeholder:"https://api.thirdparty.com/soap/service"}),e.selectedWsdl&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-populated from selected WSDL"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-action",children:"SOAP Action"}),s.jsx(U,{id:"soap-action",value:e.soapAction||"",onChange:v=>t("soapAction",v.target.value),placeholder:"urn:submitOrder"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(Z,{value:e.contentType||"",onValueChange:v=>t("contentType",v),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select content type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"text/xml",children:"text/xml"}),s.jsx(D,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(Z,{value:e.soapVersion||"",onValueChange:v=>t("soapVersion",v),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select SOAP version"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"1.1",children:"SOAP 1.1"}),s.jsx(D,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Target Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"target-wsdl",children:"Select WSDL"}),s.jsxs(Z,{value:e.selectedWsdl||"",onValueChange:v=>t("selectedWsdl",v),disabled:i||!n,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:n?i?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(Q,{children:r.map(v=>s.jsx(D,{value:v.id,children:v.name},v.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),s.jsx(U,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:v=>t("connectionTimeout",parseInt(v.target.value)||0),placeholder:"30"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),s.jsx(U,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:v=>t("readTimeout",parseInt(v.target.value)||0),placeholder:"30"})]})]})]})]}),s.jsxs(ue,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(St,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:v=>t("processingMode",v?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(U,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:v=>t("responseTimeout",parseInt(v.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:v=>t("waitForResponse",v)}),s.jsx(E,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(U,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:v=>t("asyncCorrelationId",v.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"auth-type",children:"Authentication Type"}),s.jsxs(Z,{value:((j=e.authentication)==null?void 0:j.type)||"none",onValueChange:x,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select authentication type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"ws-security",children:"WS-Security UsernameToken"}),s.jsx(D,{value:"oauth",children:"OAuth"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),s.jsxs(Z,{value:e.wsSecurityPolicyType||"",onValueChange:v=>t("wsSecurityPolicyType",v),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Define Parameter"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),p()]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response-message",children:"Response Message"}),s.jsx(Re,{id:"response-message",value:e.responseMessage||"",onChange:v=>t("responseMessage",v.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(Re,{id:"error-handling",value:e.errorHandling||"",onChange:v=>t("errorHandling",v.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"retry-policy",children:"Retry Policy"}),s.jsx(Re,{id:"retry-policy",value:e.retryPolicy||"",onChange:v=>t("retryPolicy",v.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),d.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof d.request=="string"?d.request:JSON.stringify(d.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&d.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof d.response=="string"?d.response:JSON.stringify(d.response,null,2)})})]}),d.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof d.fault=="string"?d.fault:JSON.stringify(d.fault,null,2)})})]}),!d.request&&!d.response&&!d.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}const tle=({configuration:e,onConfigurationChange:t})=>{var r;const n=()=>{var i,o,l,c,d,u,h,f,x,g,p,j,v,y,w,N,b;switch(((i=e.authentication)==null?void 0:i.type)||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(U,{id:"username",value:((l=(o=e.authentication)==null?void 0:o.credentials)==null?void 0:l.username)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,username:C.target.value}})},placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Password"}),s.jsx(U,{id:"password",type:"password",value:((d=(c=e.authentication)==null?void 0:c.credentials)==null?void 0:d.password)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,password:C.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(U,{id:"clientId",value:((h=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:h.clientId)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientId:C.target.value}})},placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(U,{id:"clientSecret",type:"password",value:((x=(f=e.authentication)==null?void 0:f.credentials)==null?void 0:x.clientSecret)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientSecret:C.target.value}})},placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(U,{id:"tokenUrl",value:((p=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:p.tokenUrl)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,tokenUrl:C.target.value}})},placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"scope",children:"Scope"}),s.jsx(U,{id:"scope",value:((v=(j=e.authentication)==null?void 0:j.credentials)==null?void 0:v.scope)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,scope:C.target.value}})},placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKey",children:"API Key"}),s.jsx(U,{id:"apiKey",type:"password",value:((w=(y=e.authentication)==null?void 0:y.credentials)==null?void 0:w.apiKey)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKey:C.target.value}})},placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(U,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKeyHeader:C.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(ue,{value:"target",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Service Connection"}),s.jsx(xe,{children:"Configure OData service connection parameters"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(U,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(U,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Products, Orders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(Z,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select OData version"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"v2",children:"v2"}),s.jsx(D,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:((r=e.authentication)==null?void 0:r.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2",children:"OAuth2"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"queryOptions",children:"Query Options"}),s.jsx(Re,{id:"queryOptions",value:e.queryOptions||"",onChange:a=>t("queryOptions",a.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(U,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Handling"}),s.jsx(xe,{children:"Configure data processing and validation"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Re,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map ProductID to id",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(Re,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},sle=({configuration:e,onConfigurationChange:t})=>{var r;const n=()=>{var i,o,l,c,d,u,h,f,x,g,p,j,v,y,w,N,b;switch(((i=e.authentication)==null?void 0:i.type)||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(U,{id:"username",value:((l=(o=e.authentication)==null?void 0:o.credentials)==null?void 0:l.username)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,username:C.target.value}})},placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Password"}),s.jsx(U,{id:"password",type:"password",value:((d=(c=e.authentication)==null?void 0:c.credentials)==null?void 0:d.password)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,password:C.target.value}})},placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientId",children:"Client ID"}),s.jsx(U,{id:"clientId",value:((h=(u=e.authentication)==null?void 0:u.credentials)==null?void 0:h.clientId)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientId:C.target.value}})},placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(U,{id:"clientSecret",type:"password",value:((x=(f=e.authentication)==null?void 0:f.credentials)==null?void 0:x.clientSecret)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,clientSecret:C.target.value}})},placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(U,{id:"tokenUrl",value:((p=(g=e.authentication)==null?void 0:g.credentials)==null?void 0:p.tokenUrl)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,tokenUrl:C.target.value}})},placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"scope",children:"Scope"}),s.jsx(U,{id:"scope",value:((v=(j=e.authentication)==null?void 0:j.credentials)==null?void 0:v.scope)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,scope:C.target.value}})},placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKey",children:"API Key"}),s.jsx(U,{id:"apiKey",type:"password",value:((w=(y=e.authentication)==null?void 0:y.credentials)==null?void 0:w.apiKey)||"",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKey:C.target.value}})},placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(U,{id:"apiKeyHeader",value:((b=(N=e.authentication)==null?void 0:N.credentials)==null?void 0:b.apiKeyHeader)||"X-API-Key",onChange:C=>{var S;return t("authentication",{...e.authentication,credentials:{...(S=e.authentication)==null?void 0:S.credentials,apiKeyHeader:C.target.value}})},placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(ue,{value:"source",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Service Connection"}),s.jsx(xe,{children:"Configure OData service connection parameters"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(U,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:a=>t("baseUrl",a.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(U,{id:"entitySetName",value:e.entitySetName||"",onChange:a=>t("entitySetName",a.target.value),placeholder:"Orders, Customers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(Z,{value:e.apiVersion||"",onValueChange:a=>t("apiVersion",a),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select OData version"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"v2",children:"v2"}),s.jsx(D,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(Z,{value:((r=e.authentication)==null?void 0:r.type)||"none",onValueChange:a=>t("authentication",{type:a,credentials:{}}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"none",children:"None"}),s.jsx(D,{value:"basic",children:"Basic Auth"}),s.jsx(D,{value:"oauth2",children:"OAuth2"}),s.jsx(D,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(U,{id:"timeout",type:"number",value:e.timeout||"",onChange:a=>t("timeout",parseInt(a.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Preparation"}),s.jsx(xe,{children:"Configure data processing and validation before sending"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Re,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:a=>t("dataMappingRules",a.target.value),placeholder:"Map OrderID to OrderId",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(Re,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:a=>t("dataValidationRules",a.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},nle=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"target",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"target",children:"Target"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"target",className:"space-y-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"SAP System Identification"}),s.jsx(xe,{children:"SAP system connection details"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(U,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(U,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(U,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Connection Details"}),s.jsx(xe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(U,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(U,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(U,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(U,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(Z,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"TCP",children:"TCP/IP"}),s.jsx(D,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Authentication"}),s.jsx(xe,{children:"SAP user credentials"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(U,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(U,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value),placeholder:"secret"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"RFC Configuration"}),s.jsx(xe,{children:"RFC-specific settings"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(U,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(U,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value),placeholder:"RfcReceiverService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Handling"}),s.jsx(xe,{children:"Configuration for handling received RFC data"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Re,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(Re,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),rle=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"source",className:"space-y-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"SAP System Identification"}),s.jsx(xe,{children:"SAP system connection details"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(U,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(U,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(U,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Connection Details"}),s.jsx(xe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(U,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(U,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(U,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(U,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(Z,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select connection type"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"TCP",children:"TCP/IP"}),s.jsx(D,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Authentication"}),s.jsx(xe,{children:"SAP user credentials"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(U,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ns,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:n=>t("sapPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"RFC Configuration"}),s.jsx(xe,{children:"RFC-specific settings"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(U,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"callerServiceName",children:"Caller Service Name"}),s.jsx(U,{id:"callerServiceName",value:e.callerServiceName||"",onChange:n=>t("callerServiceName",n.target.value),placeholder:"RfcSenderService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Data Preparation"}),s.jsx(xe,{children:"Configuration for preparing data before sending to SAP"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Re,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map OrderID to VBELN",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(Re,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),ale=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsxs(ue,{value:"source",className:"space-y-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Mail Server Connection"}),s.jsx(xe,{children:"Configure connection to the incoming mail server"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailServerHost",children:"Mail Server Host"}),s.jsx(U,{id:"mailServerHost",value:e.mailServerHost||"",onChange:n=>t("mailServerHost",n.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailServerPort",children:"Mail Server Port"}),s.jsx(U,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:n=>t("mailServerPort",n.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailProtocol",children:"Protocol"}),s.jsxs(Z,{value:e.mailProtocol||"",onValueChange:n=>t("mailProtocol",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select mail protocol"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"IMAP",children:"IMAP"}),s.jsx(D,{value:"POP3",children:"POP3"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailUsername",children:"Username"}),s.jsx(U,{id:"mailUsername",value:e.mailUsername||"",onChange:n=>t("mailUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ns,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:n=>t("mailPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:n=>t("useSSLTLS",n)}),s.jsx(E,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"folderName",children:"Folder Name"}),s.jsx(U,{id:"folderName",value:e.folderName||"INBOX",onChange:n=>t("folderName",n.target.value),placeholder:"INBOX"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),s.jsx(U,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:n=>t("pollingInterval",n.target.value),placeholder:"60000"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Message Filtering and Fetching"}),s.jsx(xe,{children:"Configure email search criteria and limits"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"searchCriteria",children:"Search Criteria"}),s.jsx(U,{id:"searchCriteria",value:e.searchCriteria||"",onChange:n=>t("searchCriteria",n.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"maxMessages",children:"Max Messages"}),s.jsx(U,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:n=>t("maxMessages",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Message Processing"}),s.jsx(xe,{children:"Configure how emails are processed after retrieval"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"contentHandling",children:"Content Handling"}),s.jsx(Re,{id:"contentHandling",value:e.contentHandling||"",onChange:n=>t("contentHandling",n.target.value),placeholder:"Save attachments, parse body text",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"mailEncoding",children:"Encoding"}),s.jsxs(Z,{value:e.mailEncoding||"",onValueChange:n=>t("mailEncoding",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select encoding"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:n=>t("deleteAfterFetch",n)}),s.jsx(E,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),ile=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(lt,{defaultValue:"source",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsx(me,{value:"source",children:"Source"}),s.jsx(me,{value:"processing",children:"Processing"})]}),s.jsx(ue,{value:"source",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"SMTP Server Connection"}),s.jsx(xe,{children:"Configure connection to the SMTP server for sending emails"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),s.jsx(U,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:n=>t("smtpServerHost",n.target.value),placeholder:"smtp.mailserver.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),s.jsx(U,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:n=>t("smtpServerPort",n.target.value),placeholder:"587 (TLS), 465 (SSL)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[s.jsx(ht,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:n=>t("smtpUseSSLTLS",n)}),s.jsx(E,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"smtpUsername",children:"Username"}),s.jsx(U,{id:"smtpUsername",value:e.smtpUsername||"",onChange:n=>t("smtpUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ns,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:n=>t("smtpPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),s.jsx(U,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:n=>t("connectionTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),s.jsx(U,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:n=>t("readTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),s.jsx(ue,{value:"processing",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Message Preparation"}),s.jsx(xe,{children:"Configure email content and recipients"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fromAddress",children:"From Address"}),s.jsx(U,{id:"fromAddress",value:e.fromAddress||"",onChange:n=>t("fromAddress",n.target.value),placeholder:"sender@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"toAddresses",children:"To Addresses"}),s.jsx(Re,{id:"toAddresses",value:e.toAddresses||"",onChange:n=>t("toAddresses",n.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"ccAddresses",children:"CC Addresses"}),s.jsx(Re,{id:"ccAddresses",value:e.ccAddresses||"",onChange:n=>t("ccAddresses",n.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"bccAddresses",children:"BCC Addresses"}),s.jsx(Re,{id:"bccAddresses",value:e.bccAddresses||"",onChange:n=>t("bccAddresses",n.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailSubject",children:"Subject"}),s.jsx(U,{id:"emailSubject",value:e.emailSubject||"",onChange:n=>t("emailSubject",n.target.value),placeholder:"Order Confirmation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailBody",children:"Body"}),s.jsx(Re,{id:"emailBody",value:e.emailBody||"",onChange:n=>t("emailBody",n.target.value),placeholder:"Email content - plain text or HTML",rows:6}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailAttachments",children:"Attachments"}),s.jsx(Re,{id:"emailAttachments",value:e.emailAttachments||"",onChange:n=>t("emailAttachments",n.target.value),placeholder:"PDF, images, etc.",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"emailEncoding",children:"Encoding"}),s.jsxs(Z,{value:e.emailEncoding||"",onValueChange:n=>t("emailEncoding",n),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select encoding"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTF-8",children:"UTF-8"}),s.jsx(D,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(D,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class ole{async createAdapter(t){return te.post("/adapters",t)}async getAdapters(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&n.append(a,i.toString())});const r=`/adapters${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async getAdapter(t){return te.get(`/adapters/${t}`)}async updateAdapter(t,n){return te.put(`/adapters/${t}`,n)}async deleteAdapter(t){return te.delete(`/adapters/${t}`)}async cloneAdapter(t,n){return te.post(`/adapters/${t}/clone`,{name:n})}}class lle{async testAdapter(t,n){return te.post(`/adapters/${t}/test`,{testData:n})}async testAdapterConfiguration(t,n){return te.post("/adapters/test-config",{configuration:t,type:n})}async validateAdapterConfig(t,n){return te.post("/adapters/validate-config",{type:t,configuration:n})}}let cle=class{constructor(){ft(this,"websocket",null);ft(this,"reconnectAttempts",0);ft(this,"maxReconnectAttempts",5);ft(this,"reconnectInterval",3e3);ft(this,"logListeners",[]);ft(this,"statsListeners",[])}async getAdapterStats(t,n){const r=`/adapters/${t}/stats${n?`?timeRange=${n}`:""}`;return te.get(r)}async getAdapterLogs(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([i,o])=>{o!==void 0&&r.append(i,o.toString())});const a=`/adapters/${t}/logs${r.toString()?`?${r.toString()}`:""}`;return te.get(a)}connectWebSocket(t){var r;if(((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN)return;const n=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(n),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=a=>{try{const i=JSON.parse(a.data);i.type==="new_log"?this.logListeners.forEach(o=>o(i.log)):i.type==="stats_update"&&this.statsListeners.forEach(o=>o(i.stats))}catch(i){console.error("Error parsing WebSocket message:",i)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=a=>{console.error("WebSocket error:",a)}}catch(a){console.error("Failed to create WebSocket connection:",a)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const n=this.logListeners.indexOf(t);n>-1&&this.logListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){var r;((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}};class dle{async getAdapterTypes(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&n.append(a,i.toString())});const r=`/adapters/types${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async getAdapterType(t){return te.get(`/adapters/types/${t}`)}async createAdapterType(t){return te.post("/adapters/types",t)}async updateAdapterType(t,n){return te.put(`/adapters/types/${t}`,n)}async deleteAdapterType(t){return te.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,n){return te.post(`/adapters/types/${t}/clone`,{name:n})}async getAdapterTypesByCategory(t){return te.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,n){return te.patch(`/adapters/types/${t}/status`,{isActive:n})}async validateAdapterTypeConfiguration(t,n){return te.post("/adapters/types/validate",{configuration:t,category:n})}async searchAdapterTypes(t,n){const r=new URLSearchParams({q:t,...(n==null?void 0:n.category)&&{category:n.category},...(n==null?void 0:n.isActive)!==void 0&&{isActive:n.isActive.toString()},page:((n==null?void 0:n.page)||1).toString(),limit:((n==null?void 0:n.limit)||50).toString()});return te.get(`/adapters/types/search?${r}`)}async getAdapterTypeUsage(t){return te.get(`/adapters/types/${t}/usage`)}}class ule{constructor(){ft(this,"mockServers",new Map)}async validateAdapter(t){const n=Date.now(),r=[],a=[],i=[];try{const o=this.validateConfiguration(t);o.isValid||(r.push(...o.errors),a.push(...o.warnings)),await this.setupMockServers(t.adapterType);for(const c of t.testScenarios){const d=await this.runTestScenario(t,c);i.push(d),d.status==="failed"&&r.push(`Test '${c.name}' failed: ${d.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-n;return yp({title:"Adapter Validation Complete",description:`${i.length} tests completed in ${l}ms`,variant:i.some(c=>c.status==="failed")?"destructive":"default"}),{isValid:r.length===0,errors:r,warnings:a,testResults:i}}catch(o){return r.push(`Validation failed: ${o instanceof Error?o.message:"Unknown error"}`),{isValid:!1,errors:r,warnings:a,testResults:i}}}validateConfiguration(t){const n=[],r=[],a=this.getRequiredFields(t.adapterType);for(const i of a)t.configuration[i]||n.push(`Required field '${i}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,n,r);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,n,r);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,n,r);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,n,r);break}return{isValid:n.length===0,errors:n,warnings:r}}validateHttpConfiguration(t,n,r){if(t.url)try{new URL(t.url)}catch{n.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&n.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&r.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,n,r){t.host||n.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&n.push("Invalid port number"),t.username||r.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,n,r){t.connectionUrl||n.push("JDBC connection URL is required"),t.driverClass||n.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&n.push("Invalid JDBC URL format")}validateSoapConfiguration(t,n,r){if(!t.wsdlUrl&&!t.endpointUrl&&n.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{n.push("Invalid WSDL URL format")}}async runTestScenario(t,n){const r=Date.now();try{switch(n.type){case"connection":return await this.testConnection(t,n);case"authentication":return await this.testAuthentication(t,n);case"data_transmission":return await this.testDataTransmission(t,n);case"error_handling":return await this.testErrorHandling(t,n);default:throw new Error(`Unknown test scenario type: ${n.type}`)}}catch(a){return{testName:n.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-r}}}async testConnection(t,n){const r=Date.now();await new Promise(o=>setTimeout(o,1e3));const a=this.mockServers.get(t.adapterType),i=(a==null?void 0:a.isRunning())??!0;return{testName:n.name,status:i?"passed":"failed",message:i?"Connection successful":"Connection failed",duration:Date.now()-r}}async testAuthentication(t,n){const r=Date.now();await new Promise(i=>setTimeout(i,800));const a=t.configuration.username&&t.configuration.password;return{testName:n.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-r}}async testDataTransmission(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:n.name,status:"passed",message:"Data transmission successful",duration:Date.now()-r}}async testErrorHandling(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:n.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-r}}async setupMockServers(t){const n=new hle(t);await n.start(),this.mockServers.set(t,n)}async cleanupMockServers(t){const n=this.mockServers.get(t);n&&(await n.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class hle{constructor(t){ft(this,"running",!1);this.adapterType=t}async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const b$=new ule;class mle{constructor(){ft(this,"api");ft(this,"testing");ft(this,"monitoring");ft(this,"types");this.api=new ole,this.testing=new lle,this.monitoring=new cle,this.types=new dle}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return b$.validateAdapter(t)}}const jo=new mle,fle=({adapterType:e,configuration:t,children:n})=>{var p,j,v;const[r,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState(0),h=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],f=async()=>{if(!t||Object.keys(t).length===0){yp({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}o(!0),u(0),c(null);try{const y={adapterType:e,configuration:t,testScenarios:h},w=setInterval(()=>{u(b=>Math.min(b+20,90))},500),N=await b$.validateAdapter(y);clearInterval(w),u(100),c(N)}catch(y){yp({title:"Validation Failed",description:y instanceof Error?y.message:"Unknown error occurred",variant:"destructive"})}finally{o(!1),setTimeout(()=>u(0),1e3)}},x=y=>{switch(y){case"passed":return s.jsx(Bs,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(Hs,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(Jn,{className:"h-4 w-4 text-warning"});default:return null}},g=y=>{const w={passed:"default",failed:"destructive",warning:"secondary"};return s.jsx(de,{variant:w[y]||"outline",children:y})};return s.jsxs(_t,{open:r,onOpenChange:a,children:[s.jsx(em,{asChild:!0,children:n}),s.jsxs(kt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Lt,{children:s.jsxs($t,{className:"flex items-center gap-2",children:[s.jsx(UC,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{className:"text-lg",children:"Validation Controls"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),s.jsx(q,{onClick:f,disabled:i,className:"flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(UC,{className:"h-4 w-4"}),"Run Validation"]})})]}),i&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Validation Progress"}),s.jsxs("span",{children:[d,"%"]})]}),s.jsx(Ai,{value:d,className:"h-2"})]})]})]}),l&&s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[l.isValid?s.jsx(Bs,{className:"h-5 w-5 text-success"}):s.jsx(Hs,{className:"h-5 w-5 text-destructive"}),"Validation Results"]})}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"summary",className:"w-full",children:[s.jsxs(nt,{children:[s.jsx(me,{value:"summary",children:"Summary"}),s.jsx(me,{value:"tests",children:"Test Results"}),s.jsx(me,{value:"errors",children:"Issues"})]}),s.jsxs(ue,{value:"summary",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(K,{children:s.jsxs(G,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center",children:((p=l.testResults)==null?void 0:p.filter(y=>y.status==="passed").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),s.jsx(K,{children:s.jsxs(G,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-destructive",children:((j=l.testResults)==null?void 0:j.filter(y=>y.status==="failed").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),s.jsx(K,{children:s.jsxs(G,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-warning",children:l.warnings.length}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),s.jsx(tt,{children:s.jsx(st,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),s.jsx(ue,{value:"tests",className:"space-y-4",children:(v=l.testResults)==null?void 0:v.map((y,w)=>s.jsx(K,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[x(y.status),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:y.testName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.message})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g(y.status),y.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.duration,"ms"]})]})]})})},w))}),s.jsxs(ue,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-destructive",children:"Errors"}),l.errors.map((y,w)=>s.jsxs(tt,{variant:"destructive",children:[s.jsx(Hs,{className:"h-4 w-4"}),s.jsx(st,{children:y})]},w))]}),l.warnings.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-warning",children:"Warnings"}),l.warnings.map((y,w)=>s.jsxs(tt,{children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx(st,{children:y})]},w))]}),l.errors.length===0&&l.warnings.length===0&&s.jsxs(tt,{children:[s.jsx(Bs,{className:"h-4 w-4"}),s.jsx(st,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},cT=[{id:"sms-gateway",name:"SMS Gateway",icon:HB,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:Zs,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:iR,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:_i,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:Yo,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:xa,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:Dx,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:sn,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:Fo,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:TB,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:Cs,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:vB,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:eR,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:ad,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:kh,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],dT=()=>{Xs();const e=Fn(),{navigateBack:t}=vd(),[n,r]=m.useState(null),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState("sender"),[u,h]=m.useState(""),[f,x]=m.useState(!0),[g,p]=m.useState({}),[j,v]=m.useState(!1),[y,w]=m.useState("idle"),[N,b]=m.useState(!1),[C,S]=m.useState(!1),[P,A]=m.useState(null),{toast:F}=mt(),O=cT.find(T=>T.id===a);m.useEffect(()=>{var T,M;if((T=e.state)!=null&&T.adapter&&((M=e.state)!=null&&M.isEdit)){const R=e.state.adapter;console.log("[CreateCommunicationAdapter] Loading adapter for edit:",R),S(!0),A(R.id),l(R.name||""),h(R.description||""),x(R.active!==!1);const L=R.mode==="SENDER"?"sender":"receiver";d(L);const H=R.type.toLowerCase();if(i(H),R.configJson)try{const V=JSON.parse(R.configJson);p(V)}catch(V){console.error("Error parsing adapter configuration:",V)}R.businessComponentId&&r({id:R.businessComponentId,name:R.businessComponentName||"",description:""})}},[e.state]);const _=T=>{switch(T){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},$=(T,M)=>{console.log("[CreateCommunicationAdapter] Configuration change:",T,"=",M),p(R=>{const L={...R,[T]:M};return console.log("[CreateCommunicationAdapter] New configuration state:",L),L})},I=async()=>{if(!a){F({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}v(!0),w("idle");try{await new Promise(M=>setTimeout(M,2e3)),Math.random()>.3?(w("success"),F({title:"Connection Successful",description:`Successfully connected to ${O==null?void 0:O.name}`,variant:"default"})):(w("error"),F({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{w("error"),F({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{v(!1)}},k=async()=>{var L,H,V,B,W;if(!n||!n.id){F({title:"Validation Error",description:"Business Component is required. Please select a business component for this adapter.",variant:"destructive"});return}if(!o||!a||!c){F({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}if(console.log("[CreateCommunicationAdapter] Validating adapter:",{name:o,type:a,mode:c,businessComponent:n.id,configuration:g}),c==="receiver"){if(a==="rest"){if(!g.targetEndpointUrl){F({title:"Validation Error",description:"Target Endpoint URL is required for REST Receiver adapter",variant:"destructive"});return}if(!g.httpMethod){F({title:"Validation Error",description:"HTTP Method is required for REST Receiver adapter",variant:"destructive"});return}if(!g.contentType){F({title:"Validation Error",description:"Content Type is required for REST Receiver adapter",variant:"destructive"});return}}}else if(c==="sender"){if(a==="rest"){if(!g.port){F({title:"Validation Error",description:"Port is required for REST Sender adapter",variant:"destructive"});return}}else if(a==="soap"&&!g.serviceEndpointUrl){F({title:"Validation Error",description:"Endpoint URL is required for SOAP Sender adapter",variant:"destructive"});return}}if(a!=="rest"&&a!=="soap"){const X=((O==null?void 0:O.fields.filter(ne=>!(!ne.required||ne.conditionalField==="receiver"&&c==="sender"||ne.conditionalField==="sender"&&c==="receiver"||ne.parentField&&ne.parentValue&&g[ne.parentField]!==ne.parentValue)))||[]).filter(ne=>!g[ne.name]);if(X.length>0){console.log("[CreateCommunicationAdapter] Missing required fields:",X),F({title:"Missing Required Fields",description:`Please fill in: ${X.map(ne=>ne.label).join(", ")}`,variant:"destructive"});return}}const T=c==="sender"?"SENDER":"RECEIVER",M=c==="sender"?"OUTBOUND":"INBOUND",R={name:o,type:a.toUpperCase(),mode:T,direction:M,description:u,active:f,businessComponentId:n.id,configJson:JSON.stringify(g)};try{console.log("[CreateCommunicationAdapter] Sending adapter data to backend:",R);const Y=C&&P?await jo.updateAdapter(P,R):await jo.createAdapter(R);Y.success?(F({title:C?"Adapter Updated Successfully":"Adapter Saved Successfully",description:`Communication adapter "${o}" has been ${C?"updated":"created"}`,variant:"default"}),setTimeout(()=>{t("/communication-adapters")},500)):(console.log("[CreateCommunicationAdapter] Error response from backend:",Y),F({title:"Save Failed",description:Y.error||"Failed to save adapter configuration",variant:"destructive"}))}catch(Y){console.error("[CreateCommunicationAdapter] Error saving adapter:",Y),console.error("[CreateCommunicationAdapter] Error details:",{message:Y==null?void 0:Y.message,response:Y==null?void 0:Y.response,data:(L=Y==null?void 0:Y.response)==null?void 0:L.data});const X=((V=(H=Y==null?void 0:Y.response)==null?void 0:H.data)==null?void 0:V.message)||((W=(B=Y==null?void 0:Y.response)==null?void 0:B.data)==null?void 0:W.error)||(Y==null?void 0:Y.message)||"An error occurred while saving the adapter";F({title:"Save Error",description:X,variant:"destructive"})}};return s.jsx(TO,{children:s.jsxs(s.Fragment,{children:[N&&s.jsx(sS,{onClose:()=>b(!1)}),s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(IN,{className:"h-8 w-8"}),C?"Edit":"Create"," Communication Adapter"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Ioe,{selectedBusinessComponent:n,setSelectedBusinessComponent:r}),s.jsxs(K,{className:"animate-scale-in",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Adapter Details"}),s.jsx(xe,{children:"Basic information for your communication adapter"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterName",children:"Adapter Name *"}),s.jsx(U,{id:"adapterName",placeholder:"e.g., Production Email Server",value:o,onChange:T=>l(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:u,onChange:T=>h(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"isActive",checked:f,onCheckedChange:T=>x(T===!0)}),s.jsxs(E,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",s.jsx(de,{variant:f?"default":"secondary",className:"text-xs",children:f?"Active":"Inactive"})]})]})]})]}),s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Adapter Type Selection"}),s.jsx(xe,{children:"Choose the type of communication adapter to configure"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterType",children:"Adapter Type *"}),s.jsx(Roe,{options:cT.map(T=>({value:T.id,label:T.name,icon:T.icon,category:T.category,description:T.description})),value:a,onValueChange:T=>{i(T),console.log("[CreateCommunicationAdapter] Adapter type changed to:",T),a&&a!==T&&(console.log("[CreateCommunicationAdapter] Clearing configuration due to adapter type change"),p({}))},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),O&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(O.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:O.name}),s.jsx(de,{variant:"outline",className:"text-xs",children:O.category})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"adapterMode",children:"Adapter Mode *"}),s.jsxs(Z,{value:c,onValueChange:T=>{d(T),console.log("[CreateCommunicationAdapter] Adapter mode changed to:",T)},children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:"Select adapter mode"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"sender",children:"Sender"}),s.jsx(D,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),O&&c&&s.jsx(s.Fragment,{children:a==="ftp"?s.jsx($oe,{mode:c,onConfigChange:p}):a==="sftp"?s.jsx(Voe,{mode:c,onConfigChange:p}):a==="file"?s.jsx(Uoe,{mode:c,onConfigChange:p}):a==="http"&&c==="sender"?s.jsx(Boe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="http"&&c==="receiver"?s.jsx(zoe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="idoc"&&c==="sender"?s.jsx(Woe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="idoc"&&c==="receiver"?s.jsx(Koe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="jms"&&c==="sender"?s.jsx(Xoe,{adapter:{name:"",type:"jms",mode:"outbound",configuration:g,status:"inactive"},onUpdate:T=>p(T.configuration)}):a==="jms"&&c==="receiver"?s.jsx(Goe,{adapter:{name:"",type:"jms",mode:"inbound",configuration:g,status:"inactive"},onUpdate:T=>p(T.configuration)}):a==="rest"&&c==="sender"?s.jsx(Joe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="rest"&&c==="receiver"?s.jsx(Qoe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="soap"&&c==="sender"?s.jsx(Zoe,{configuration:g,onConfigurationChange:(T,M)=>$(T,M),businessComponentId:n==null?void 0:n.id}):a==="soap"&&c==="receiver"?s.jsx(ele,{configuration:g,onConfigurationChange:(T,M)=>$(T,M),businessComponentId:n==null?void 0:n.id}):a==="odata"&&c==="sender"?s.jsx(sle,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="odata"&&c==="receiver"?s.jsx(tle,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="rfc"&&c==="sender"?s.jsx(rle,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="rfc"&&c==="receiver"?s.jsx(nle,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="mail"&&c==="sender"?s.jsx(ile,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):a==="mail"&&c==="receiver"?s.jsx(ale,{configuration:g,onConfigurationChange:(T,M)=>$(T,M)}):s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(O.icon,{className:"h-5 w-5"}),O.name," Configuration"]}),s.jsx(xe,{children:"Configure the connection parameters and authentication"})]}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.fields.filter(T=>!(T.conditionalField==="receiver"&&c==="sender"||T.conditionalField==="sender"&&c==="receiver"||T.parentField&&T.parentValue&&g[T.parentField]!==T.parentValue)).map(T=>{var M;return s.jsx("div",{className:T.name==="url"||T.name==="webhookUrl"||T.name==="customHeaders"||T.type==="password"?"md:col-span-2":"",children:T.type==="jar-selector"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ooe,{selectedJarId:g[T.name]||"",onJarSelect:R=>$(T.name,R),label:"",placeholder:`Choose ${T.label}`,driverTypeFilter:T.driverTypeFilter||void 0})]}):T.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Z,{value:g[T.name]||"",onValueChange:R=>$(T.name,R),children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:`Select ${T.label}`})}),s.jsx(Q,{className:"bg-card border-border shadow-lg z-50",children:(M=T.options)==null?void 0:M.map(R=>s.jsx(D,{value:R,children:R},R))})]})]}):T.type==="textarea"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Re,{id:T.name,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>$(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):T.type==="checkbox"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:T.name,type:"checkbox",checked:g[T.name]==="true"||g[T.name]===!0||g[T.name]==="on",onChange:R=>$(T.name,R.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),s.jsx(E,{htmlFor:T.name,className:"text-sm font-normal",children:T.label})]}):T.type==="password"?s.jsx(Ns,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:g[T.name]||"",onValueChange:R=>$(T.name,R)}):s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(U,{id:T.name,type:T.type,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>$(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)}),g.authType&&g.authType!=="None"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(xt,{className:"my-4"}),s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[g.authType," Configuration"]})]}),_(g.authType).map(T=>{var M;return s.jsx("div",{className:T.name.includes("Url")||T.name.includes("url")||T.type==="password"?"md:col-span-2":"",children:T.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Z,{value:g[T.name]||"",onValueChange:R=>$(T.name,R),children:[s.jsx(J,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(ee,{placeholder:`Select ${T.label}`})}),s.jsx(Q,{className:"bg-card border-border shadow-lg z-50",children:(M=T.options)==null?void 0:M.map(R=>s.jsx(D,{value:R,children:R},R))})]})]}):T.type==="password"?s.jsx(Ns,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:g[T.name]||"",onValueChange:R=>$(T.name,R)}):s.jsxs(s.Fragment,{children:[s.jsxs(E,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(U,{id:T.name,type:T.type,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>$(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)})]})]})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Connection Testing"}),s.jsx(xe,{children:"Test your adapter configuration"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx(q,{onClick:I,disabled:!a||j,className:"w-full bg-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Mf,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),a==="soap"&&s.jsxs(q,{onClick:()=>b(!0),className:"w-full bg-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[s.jsx(eR,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),y!=="idle"&&s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${y==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[y==="success"?s.jsx(Bs,{className:"h-4 w-4"}):s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:y==="success"?"Connection Successful":"Connection Failed"})]}),s.jsx(xt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fle,{adapterType:(O==null?void 0:O.id)||"",configuration:g,children:s.jsxs(q,{variant:"outline",className:"w-full",disabled:!O,children:[s.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>t("/communication-adapters"),className:"flex-1",children:"Cancel"}),s.jsxs(q,{onClick:k,className:"flex-1 bg-primary hover:opacity-90 transition-all duration-300",children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),C?"Update":"Save"," Adapter"]})]})]})]})]}),s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(re,{children:s.jsx(ie,{children:"Configuration Summary"})}),s.jsx(G,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(de,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:(O==null?void 0:O.name)||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),s.jsx("span",{children:c||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"}),s.jsx("span",{children:(O==null?void 0:O.category)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),s.jsx(de,{variant:y==="success"?"default":y==="error"?"destructive":"secondary",children:y==="success"?"Verified":y==="error"?"Failed":"Not tested"})]})]})})]}),s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(re,{children:s.jsx(ie,{children:"Security Notes"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Hn,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(zs,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Test connections before using in production"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wo,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})})},ple=["FILE","FTP","HTTP","IDOC","JDBC","JMS","MAIL","ODATA","REST","RFC","SFTP","SOAP"],xle=["SENDER","RECEIVER"];function gle(){const e=Xs(),{toast:t}=mt(),{isDevelopment:n}=gd(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(""),[x,g]=m.useState("all"),[p,j]=m.useState("all"),[v,y]=m.useState("all"),[w,N]=m.useState(!1),[b,C]=m.useState(null),[S,P]=m.useState(null);m.useEffect(()=>{A(),F()},[]),m.useEffect(()=>{O()},[r,h,x,p,v]);const A=async()=>{try{u(!0),console.log("Fetching adapters...");const V=await te.get("/adapters");console.log("Adapters response:",V),V.success&&V.data?a(Array.isArray(V.data)?V.data:[]):(console.warn("No adapter data in response"),a([]))}catch(V){console.error("Error fetching adapters:",V),t({title:"Error",description:"Failed to load communication adapters",variant:"destructive"}),a([])}finally{u(!1)}},F=async()=>{try{console.log("Fetching business components...");const V=await te.get("/business-components");console.log("Business components response:",V),V.success&&V.data?c(Array.isArray(V.data)?V.data:[]):c([])}catch(V){console.error("Error fetching business components:",V),c([])}},O=()=>{let V=[...r];h&&(V=V.filter(B=>{var W;return B.name.toLowerCase().includes(h.toLowerCase())||((W=B.description)==null?void 0:W.toLowerCase().includes(h.toLowerCase()))})),x!=="all"&&(V=V.filter(B=>B.businessComponentId===x)),p!=="all"&&(V=V.filter(B=>B.type===p)),v!=="all"&&(V=V.filter(B=>B.mode===v)),o(V)},_=()=>{A(),t({title:"Success",description:"Adapters refreshed"})},$=V=>{e(`/communication-adapters/${V}`)},I=V=>{e("/create-communication-adapter",{state:{adapter:V,isEdit:!0}})},k=async V=>{try{const B=await jo.cloneAdapter(V.id,`${V.name} (Copy)`);if(B.success)t({title:"Success",description:"Adapter cloned successfully"}),A();else throw new Error(B.error||"Failed to clone adapter")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to clone adapter",variant:"destructive"})}},T=async()=>{if(b)try{const V=await jo.deleteAdapter(b.id);if(V.success)t({title:"Success",description:"Adapter deleted successfully"}),a(r.filter(B=>B.id!==b.id)),N(!1),C(null);else throw new Error(V.error||"Failed to delete adapter")}catch(V){t({title:"Error",description:V instanceof Error?V.message:"Failed to delete adapter",variant:"destructive"})}},M=async V=>{try{P(V.id);const B=await jo.testAdapter(V.id,"{}");if(B.success&&B.data)t({title:"Success",description:B.data.message||"Connection test successful"});else throw new Error(B.error||"Connection test failed")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to test adapter connection",variant:"destructive"})}finally{P(null)}},R=async V=>{try{const B={...V,active:!V.active},W=await jo.updateAdapter(V.id,B);if(W.success)t({title:"Success",description:`Adapter ${V.active?"deactivated":"activated"} successfully`}),A();else throw new Error(W.error||"Failed to update adapter")}catch(B){t({title:"Error",description:B instanceof Error?B.message:"Failed to update adapter status",variant:"destructive"})}},L=V=>s.jsx(de,{variant:V?"success":"secondary",children:V?"Active":"Inactive"}),H=V=>{const B={SENDER:"Sender (Inbound)",RECEIVER:"Receiver (Outbound)"};return s.jsx(de,{variant:V==="SENDER"?"info":"secondary",className:V==="RECEIVER"?"bg-purple-600 text-white border-purple-600":"",children:B[V]||V})};return s.jsxs(Zh,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Communication Adapters"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and monitor all communication adapters"})]}),n&&s.jsxs(q,{onClick:()=>e("/create-communication-adapter"),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Create Adapter"]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(U,{placeholder:"Search by name...",value:h,onChange:V=>f(V.target.value),className:"pl-10"})]}),s.jsxs(Z,{value:x,onValueChange:g,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All Business Components"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Business Components"}),l.map(V=>s.jsx(D,{value:V.id,children:V.name},V.id))]})]}),s.jsxs(Z,{value:p,onValueChange:j,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All Types"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Types"}),ple.map(V=>s.jsx(D,{value:V,children:V},V))]})]}),s.jsxs(Z,{value:v,onValueChange:y,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All Modes"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Modes"}),xle.map(V=>s.jsx(D,{value:V,children:V},V))]})]})]})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(IN,{className:"h-5 w-5"}),"Adapters (",i.length,")"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:_,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(G,{children:d?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading adapters..."})}):i.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No adapters found"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Type"}),s.jsx(Ce,{children:"Mode"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Business Component"}),s.jsx(Ce,{children:"Created"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:i.map(V=>{var B;return s.jsxs(Kt,{children:[s.jsx(Ee,{className:"font-medium",children:V.name}),s.jsx(Ee,{children:s.jsx(de,{variant:"outline",children:V.type})}),s.jsx(Ee,{children:H(V.mode)}),s.jsx(Ee,{children:L(V.active)}),s.jsx(Ee,{children:((B=l.find(W=>W.id===V.businessComponentId))==null?void 0:B.name)||"-"}),s.jsx(Ee,{children:new Date(V.createdAt).toLocaleDateString()}),s.jsx(Ee,{children:s.jsxs(og,{children:[s.jsx(lg,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(rR,{className:"h-4 w-4"})})}),s.jsxs(Vh,{align:"end",children:[s.jsx(wb,{children:"Actions"}),s.jsx(Pi,{}),s.jsx(ps,{onClick:()=>$(V.id),children:"View Details"}),n&&s.jsxs(s.Fragment,{children:[s.jsxs(ps,{onClick:()=>I(V),children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(ps,{onClick:()=>M(V),disabled:S===V.id,children:[S===V.id?s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),s.jsx(ps,{onClick:()=>R(V),children:V.active?s.jsxs(s.Fragment,{children:[s.jsx(UB,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(BB,{className:"h-4 w-4 mr-2"}),"Activate"]})}),s.jsxs(ps,{onClick:()=>k(V),children:[s.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Clone"]}),s.jsx(Pi,{}),s.jsxs(ps,{onClick:()=>{C(V),N(!0)},className:"text-red-600",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},V.id)})})]})})})]}),s.jsx(_t,{open:w,onOpenChange:N,children:s.jsxs(kt,{children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Delete Adapter"}),s.jsxs(Cr,{children:['Are you sure you want to delete "',b==null?void 0:b.name,'"? This action cannot be undone.']})]}),s.jsxs(ka,{children:[s.jsx(q,{variant:"outline",onClick:()=>{N(!1),C(null)},children:"Cancel"}),s.jsx(q,{variant:"destructive",onClick:T,children:"Delete"})]})]})})]})}const vle=()=>{const{toast:e}=mt();gg("Data Structures"),vg("Manage data structures for your integration flows. Define JSON, XML, XSD, WSDL, and custom formats for seamless data transformation in Integrix Flow Bridge.");const t=Xs(),{isDevelopment:n}=gd(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(!0),[h,f]=m.useState(""),[x,g]=m.useState("all"),[p,j]=m.useState("all"),[v,y]=m.useState(!1),[w,N]=m.useState(null);m.useEffect(()=>{b(),C()},[]),m.useEffect(()=>{S()},[r,h,x,p]);const b=async()=>{try{u(!0),console.log("Fetching data structures...");const k=await te.get("/structures");if(console.log("Structures response:",k),k.success&&k.data){const T=k.data.structures||k.data||[];a(Array.isArray(T)?T:[])}else a([])}catch(k){console.error("Error fetching structures:",k),e({title:"Error",description:"Failed to fetch data structures",variant:"destructive"}),a([])}finally{u(!1)}},C=async()=>{try{const k=await te.get("/business-components");k.success&&k.data&&c(Array.isArray(k.data)?k.data:[])}catch(k){console.error("Error fetching business components:",k),c([])}},S=()=>{let k=[...r];h&&(k=k.filter(T=>{var M,R;return T.name.toLowerCase().includes(h.toLowerCase())||((M=T.description)==null?void 0:M.toLowerCase().includes(h.toLowerCase()))||((R=T.tags)==null?void 0:R.some(L=>L.toLowerCase().includes(h.toLowerCase())))})),x!=="all"&&(k=k.filter(T=>T.businessComponentId===x)),p!=="all"&&(k=k.filter(T=>T.usage===p||T.usage==="both")),o(k)},P=()=>{b(),e({title:"Success",description:"Data structures refreshed"})},A=k=>{t(`/data-structures/${k}`)},F=k=>{t(`/data-structures/${k.id}`,{state:{structure:k,isEdit:!0}})},O=k=>{N(k),y(!0)},_=async()=>{if(w)try{(await te.delete(`/structures/${w.id}`)).success?(e({title:"Success",description:"Data structure deleted successfully"}),b()):e({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}catch(k){console.error("Error deleting structure:",k),e({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}finally{y(!1),N(null)}},$=k=>{const T={json:"bg-green-500",xml:"bg-blue-500",xsd:"bg-purple-500",wsdl:"bg-orange-500",edmx:"bg-pink-500",custom:"bg-gray-500"};return s.jsx(de,{className:`${T[k]||"bg-gray-500"} text-white`,children:k.toUpperCase()})},I=k=>{const T={source:"bg-blue-500",target:"bg-purple-500",both:"bg-green-500"},M={source:"Source",target:"Target",both:"Source & Target"};return s.jsx(de,{variant:"outline",className:`${T[k]||""}`,children:M[k]||k})};return s.jsxs(Zh,{children:[s.jsx(xg,{title:"Data Structures",description:"Manage and view all data structures",icon:s.jsx(Fo,{}),actions:n&&s.jsxs(q,{onClick:()=>t("/create-data-structure"),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Create Structure"]})}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search by name or tags...",value:h,onChange:k=>f(k.target.value),className:"pl-10"})]}),s.jsxs(Z,{value:x,onValueChange:g,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All Business Components"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Business Components"}),l.map(k=>s.jsx(D,{value:k.id,children:k.name},k.id))]})]}),s.jsxs(Z,{value:p,onValueChange:j,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All Types"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Types"}),s.jsx(D,{value:"source",children:"Source"}),s.jsx(D,{value:"target",children:"Target"})]})]})]})})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),"Structures (",i.length,")"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:P,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(G,{children:d?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})}):i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No data structures found"}),n&&s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>t("/create-data-structure"),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Create your first structure"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Type"}),s.jsx(Ce,{children:"Usage"}),s.jsx(Ce,{children:"Business Component"}),s.jsx(Ce,{children:"Tags"}),s.jsx(Ce,{children:"Created"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:i.map(k=>{var T;return s.jsxs(Kt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>A(k.id),children:[s.jsx(Ee,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("p",{children:k.name}),k.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]})}),s.jsx(Ee,{children:$(k.type)}),s.jsx(Ee,{children:I(k.usage)}),s.jsx(Ee,{children:k.businessComponentName||"-"}),s.jsx(Ee,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(T=k.tags)==null?void 0:T.map((M,R)=>s.jsx(de,{variant:"secondary",className:"text-xs",children:M},R))})}),s.jsx(Ee,{children:new Date(k.createdAt).toLocaleDateString()}),s.jsx(Ee,{onClick:M=>M.stopPropagation(),children:s.jsxs(og,{children:[s.jsx(lg,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(CB,{className:"h-4 w-4"})})}),s.jsxs(Vh,{align:"end",children:[s.jsx(ps,{onClick:()=>A(k.id),children:"View Details"}),n&&s.jsxs(s.Fragment,{children:[s.jsxs(ps,{onClick:()=>F(k),children:[s.jsx(LB,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(Pi,{}),s.jsxs(ps,{onClick:()=>O(k),className:"text-destructive",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},k.id)})})]})})})]}),s.jsx(fg,{open:v,onOpenChange:y,children:s.jsxs(Yh,{children:[s.jsxs(Kh,{children:[s.jsx(Gh,{children:"Delete Data Structure"}),s.jsxs(Jh,{children:['Are you sure you want to delete "',w==null?void 0:w.name,'"? This action cannot be undone.']})]}),s.jsxs(Xh,{children:[s.jsx(pg,{children:"Cancel"}),s.jsx(Qh,{onClick:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var mS="Radio",[yle,S$]=pn(mS),[jle,wle]=yle(mS),C$=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,f]=m.useState(null),x=Be(t,j=>f(j)),g=m.useRef(!1),p=h?d||!!h.closest("form"):!0;return s.jsxs(jle,{scope:n,checked:a,disabled:o,children:[s.jsx(Me.button,{type:"button",role:"radio","aria-checked":a,"data-state":P$(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:x,onClick:je(e.onClick,j=>{a||c==null||c(),p&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),p&&s.jsx(Nle,{control:h,bubbles:!g.current,name:r,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});C$.displayName=mS;var E$="RadioIndicator",T$=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=wle(E$,n);return s.jsx(ys,{present:r||i.checked,children:s.jsx(Me.span,{"data-state":P$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});T$.displayName=E$;var Nle=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=cg(n),l=$x(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P$(e){return e?"checked":"unchecked"}var ble=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fS="RadioGroup",[Sle,Gye]=pn(fS,[pd,S$]),A$=pd(),k$=S$(),[Cle,Ele]=Sle(fS),M$=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=e,x=A$(n),g=fd(d),[p,j]=Gn({prop:i,defaultProp:a,onChange:h});return s.jsx(Cle,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:j,children:s.jsx(ib,{asChild:!0,...x,orientation:c,dir:g,loop:u,children:s.jsx(Me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});M$.displayName=fS;var R$="RadioGroupItem",D$=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=Ele(R$,n),o=i.disabled||r,l=A$(n),c=k$(n),d=m.useRef(null),u=Be(t,d),h=i.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const x=p=>{ble.includes(p.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),s.jsx(ob,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(C$,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:je(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:je(a.onFocus,()=>{var x;f.current&&((x=d.current)==null||x.click())})})})});D$.displayName=R$;var Tle="RadioGroupIndicator",F$=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=k$(n);return s.jsx(T$,{...a,...r,ref:t})});F$.displayName=Tle;var O$=M$,I$=D$,Ple=F$;const H0=m.forwardRef(({className:e,...t},n)=>s.jsx(O$,{className:le("grid gap-2",e),...t,ref:n}));H0.displayName=O$.displayName;const Zd=m.forwardRef(({className:e,...t},n)=>s.jsx(I$,{ref:n,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Ple,{className:"flex items-center justify-center",children:s.jsx(Hl,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Zd.displayName=I$.displayName;var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},al=typeof window>"u"||"Deno"in globalThis;function Ls(){}function Ale(e,t){return typeof e=="function"?e(t):e}function z0(e){return typeof e=="number"&&e>=0&&e!==1/0}function _$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ri(e,t){return typeof e=="function"?e(t):e}function $n(e,t){return typeof e=="function"?e(t):e}function uT(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==pS(o,t.options))return!1}else if(!ch(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function hT(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(il(t.options.mutationKey)!==il(i))return!1}else if(!ch(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function pS(e,t){return((t==null?void 0:t.queryKeyHashFn)||il)(e)}function il(e){return JSON.stringify(e,(t,n)=>q0(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function ch(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ch(e[n],t[n])):!1}function L$(e,t){if(e===t)return e;const n=mT(e)&&mT(t);if(n||q0(e)&&q0(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let d=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=L$(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function tx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function mT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function q0(e){if(!fT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fT(e){return Object.prototype.toString.call(e)==="[object Object]"}function kle(e){return new Promise(t=>{setTimeout(t,e)})}function W0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L$(e,t):t}function Mle(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Rle(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var xS=Symbol();function $$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function V$(e,t){return typeof e=="function"?e(...t):!!e}var bo,ii,gc,iA,Dle=(iA=class extends wd{constructor(){super();Ie(this,bo);Ie(this,ii);Ie(this,gc);Se(this,gc,t=>{if(!al&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ii)||this.setEventListener(z(this,gc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ii))==null||t.call(this),Se(this,ii,void 0))}setEventListener(t){var n;Se(this,gc,t),(n=z(this,ii))==null||n.call(this),Se(this,ii,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,bo)!==t&&(Se(this,bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,bo)=="boolean"?z(this,bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bo=new WeakMap,ii=new WeakMap,gc=new WeakMap,iA),gS=new Dle,vc,oi,yc,oA,Fle=(oA=class extends wd{constructor(){super();Ie(this,vc,!0);Ie(this,oi);Ie(this,yc);Se(this,yc,t=>{if(!al&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,oi)||this.setEventListener(z(this,yc))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,oi))==null||t.call(this),Se(this,oi,void 0))}setEventListener(t){var n;Se(this,yc,t),(n=z(this,oi))==null||n.call(this),Se(this,oi,t(this.setOnline.bind(this)))}setOnline(t){z(this,vc)!==t&&(Se(this,vc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,vc)}},vc=new WeakMap,oi=new WeakMap,yc=new WeakMap,oA),sx=new Fle;function Y0(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Ole(e){return Math.min(1e3*2**e,3e4)}function U$(e){return(e??"online")==="online"?sx.isOnline():!0}var B$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function py(e){return e instanceof B$}function H$(e){let t=!1,n=0,r=!1,a;const i=Y0(),o=p=>{var j;r||(f(new B$(p)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>gS.isFocused()&&(e.networkMode==="always"||sx.isOnline())&&e.canRun(),u=()=>U$(e.networkMode)&&e.canRun(),h=p=>{var j;r||(r=!0,(j=e.onSuccess)==null||j.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var j;r||(r=!0,(j=e.onError)==null||j.call(e,p),a==null||a(),i.reject(p))},x=()=>new Promise(p=>{var j;a=v=>{(r||d())&&p(v)},(j=e.onPause)==null||j.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(r)return;let p;const j=n===0?e.initialPromise:void 0;try{p=j??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{var C;if(r)return;const y=e.retry??(al?0:3),w=e.retryDelay??Ole,N=typeof w=="function"?w(n,v):w,b=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!b){f(v);return}n++,(C=e.onFail)==null||C.call(e,n,v),kle(N).then(()=>d()?void 0:x()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),i)}}var Ile=e=>setTimeout(e,0);function _le(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=Ile;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var hs=_le(),So,lA,z$=(lA=class{constructor(){Ie(this,So)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z0(this.gcTime)&&Se(this,So,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(al?1/0:5*60*1e3))}clearGcTimeout(){z(this,So)&&(clearTimeout(z(this,So)),Se(this,So,void 0))}},So=new WeakMap,lA),jc,Co,Ln,Eo,Ps,gh,To,dr,ca,cA,Lle=(cA=class extends z${constructor(t){super();Ie(this,dr);Ie(this,jc);Ie(this,Co);Ie(this,Ln);Ie(this,Eo);Ie(this,Ps);Ie(this,gh);Ie(this,To);Se(this,To,!1),Se(this,gh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Eo,t.client),Se(this,Ln,z(this,Eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,jc,$le(this.options)),this.state=t.state??z(this,jc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Ps))==null?void 0:t.promise}setOptions(t){this.options={...z(this,gh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Ln).remove(this)}setData(t,n){const r=W0(this.state.data,t,this.options);return Xe(this,dr,ca).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Xe(this,dr,ca).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=z(this,Ps))==null?void 0:r.promise;return(a=z(this,Ps))==null||a.cancel(t),n?n.then(Ls).catch(Ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,jc))}isActive(){return this.observers.some(t=>$n(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ri(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_$(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ps))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ps))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Ln).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Ps)&&(z(this,To)?z(this,Ps).cancel({revert:!0}):z(this,Ps).cancelRetry()),this.scheduleGc()),z(this,Ln).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,dr,ca).call(this,{type:"invalidate"})}fetch(t,n){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Ps))return z(this,Ps).continueRetry(),z(this,Ps).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,To,!0),r.signal)})},i=()=>{const f=$$(this.options,n),g=(()=>{const p={client:z(this,Eo),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Se(this,To,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Eo),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),Se(this,Co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Xe(this,dr,ca).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var x,g,p,j;py(f)&&f.silent||Xe(this,dr,ca).call(this,{type:"error",error:f}),py(f)||((g=(x=z(this,Ln).config).onError)==null||g.call(x,f,this),(j=(p=z(this,Ln).config).onSettled)==null||j.call(p,this.state.data,f,this)),this.scheduleGc()};return Se(this,Ps,H$({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var x,g,p,j;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){c(v);return}(g=(x=z(this,Ln).config).onSuccess)==null||g.call(x,f,this),(j=(p=z(this,Ln).config).onSettled)==null||j.call(p,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,x)=>{Xe(this,dr,ca).call(this,{type:"failed",failureCount:f,error:x})},onPause:()=>{Xe(this,dr,ca).call(this,{type:"pause"})},onContinue:()=>{Xe(this,dr,ca).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,Ps).start()}},jc=new WeakMap,Co=new WeakMap,Ln=new WeakMap,Eo=new WeakMap,Ps=new WeakMap,gh=new WeakMap,To=new WeakMap,dr=new WeakSet,ca=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...q$(r.data,this.options),fetchMeta:t.meta??null};case"success":return Se(this,Co,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return py(a)&&a.revert&&z(this,Co)?{...z(this,Co),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),hs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Ln).notify({query:this,type:"updated",action:t})})},cA);function q$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $le(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ir,dA,Vle=(dA=class extends wd{constructor(t={}){super();Ie(this,Ir);this.config=t,Se(this,Ir,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??pS(a,n);let o=this.get(i);return o||(o=new Lle({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){z(this,Ir).has(t.queryHash)||(z(this,Ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Ir).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Ir).get(t)}getAll(){return[...z(this,Ir).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>uT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>uT(t,r)):n}notify(t){hs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){hs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ir=new WeakMap,dA),_r,Os,Po,Lr,Qa,uA,Ule=(uA=class extends z${constructor(t){super();Ie(this,Lr);Ie(this,_r);Ie(this,Os);Ie(this,Po);this.mutationId=t.mutationId,Se(this,Os,t.mutationCache),Se(this,_r,[]),this.state=t.state||W$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,_r).includes(t)||(z(this,_r).push(t),this.clearGcTimeout(),z(this,Os).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,_r,z(this,_r).filter(n=>n!==t)),this.scheduleGc(),z(this,Os).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,_r).length||(this.state.status==="pending"?this.scheduleGc():z(this,Os).remove(this))}continue(){var t;return((t=z(this,Po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,f,x,g,p,j,v,y,w,N,b,C,S,P;const n=()=>{Xe(this,Lr,Qa).call(this,{type:"continue"})};Se(this,Po,H$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,F)=>{Xe(this,Lr,Qa).call(this,{type:"failed",failureCount:A,error:F})},onPause:()=>{Xe(this,Lr,Qa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Os).canRun(this)}));const r=this.state.status==="pending",a=!z(this,Po).canStart();try{if(r)n();else{Xe(this,Lr,Qa).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=z(this,Os).config).onMutate)==null?void 0:o.call(i,t,this));const F=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));F!==this.state.context&&Xe(this,Lr,Qa).call(this,{type:"pending",context:F,variables:t,isPaused:a})}const A=await z(this,Po).start();return await((u=(d=z(this,Os).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,A,t,this.state.context)),await((g=(x=z(this,Os).config).onSettled)==null?void 0:g.call(x,A,null,this.state.variables,this.state.context,this)),await((j=(p=this.options).onSettled)==null?void 0:j.call(p,A,null,t,this.state.context)),Xe(this,Lr,Qa).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(v=z(this,Os).config).onError)==null?void 0:y.call(v,A,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,A,t,this.state.context)),await((C=(b=z(this,Os).config).onSettled)==null?void 0:C.call(b,void 0,A,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,A,t,this.state.context)),A}finally{Xe(this,Lr,Qa).call(this,{type:"error",error:A})}}finally{z(this,Os).runNext(this)}}},_r=new WeakMap,Os=new WeakMap,Po=new WeakMap,Lr=new WeakSet,Qa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),hs.batch(()=>{z(this,_r).forEach(r=>{r.onMutationUpdate(t)}),z(this,Os).notify({mutation:this,type:"updated",action:t})})},uA);function W$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ha,ur,vh,hA,Ble=(hA=class extends wd{constructor(t={}){super();Ie(this,ha);Ie(this,ur);Ie(this,vh);this.config=t,Se(this,ha,new Set),Se(this,ur,new Map),Se(this,vh,0)}build(t,n,r){const a=new Ule({mutationCache:this,mutationId:++wm(this,vh)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){z(this,ha).add(t);const n=lf(t);if(typeof n=="string"){const r=z(this,ur).get(n);r?r.push(t):z(this,ur).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,ha).delete(t)){const n=lf(t);if(typeof n=="string"){const r=z(this,ur).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&z(this,ur).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=lf(t);if(typeof n=="string"){const r=z(this,ur).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=lf(t);if(typeof n=="string"){const a=(r=z(this,ur).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hs.batch(()=>{z(this,ha).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,ha).clear(),z(this,ur).clear()})}getAll(){return Array.from(z(this,ha))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hT(n,r))}findAll(t={}){return this.getAll().filter(n=>hT(t,n))}notify(t){hs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return hs.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ls))))}},ha=new WeakMap,ur=new WeakMap,vh=new WeakMap,hA);function lf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function pT(e){return{onFetch:(t,n)=>{var u,h,f,x,g;const r=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const j=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=$$(t.options,t.fetchOptions),y=async(w,N,b)=>{if(p)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};return j(O),O})(),P=await v(S),{maxPages:A}=t.options,F=b?Rle:Mle;return{pages:F(w.pages,P,A),pageParams:F(w.pageParams,N,A)}};if(a&&i.length){const w=a==="backward",N=w?Hle:xT,b={pages:i,pageParams:o},C=N(r,b);l=await y(b,C,w)}else{const w=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:xT(r,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,j;return(j=(p=t.options).persister)==null?void 0:j.call(p,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function xT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Hle(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var es,li,ci,wc,Nc,di,bc,Sc,mA,Y$=(mA=class{constructor(e={}){Ie(this,es);Ie(this,li);Ie(this,ci);Ie(this,wc);Ie(this,Nc);Ie(this,di);Ie(this,bc);Ie(this,Sc);Se(this,es,e.queryCache||new Vle),Se(this,li,e.mutationCache||new Ble),Se(this,ci,e.defaultOptions||{}),Se(this,wc,new Map),Se(this,Nc,new Map),Se(this,di,0)}mount(){wm(this,di)._++,z(this,di)===1&&(Se(this,bc,gS.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,es).onFocus())})),Se(this,Sc,sx.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,es).onOnline())})))}unmount(){var e,t;wm(this,di)._--,z(this,di)===0&&((e=z(this,bc))==null||e.call(this),Se(this,bc,void 0),(t=z(this,Sc))==null||t.call(this),Se(this,Sc,void 0))}isFetching(e){return z(this,es).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,li).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,es).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,es).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ri(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,es).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=z(this,es).get(r.queryHash),i=a==null?void 0:a.state.data,o=Ale(t,i);if(o!==void 0)return z(this,es).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return hs.batch(()=>z(this,es).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,es).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,es);hs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,es);return hs.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=hs.batch(()=>z(this,es).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Ls).catch(Ls)}invalidateQueries(e,t={}){return hs.batch(()=>(z(this,es).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=hs.batch(()=>z(this,es).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ls)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ls)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,es).build(this,t);return n.isStaleByTime(Ri(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ls).catch(Ls)}fetchInfiniteQuery(e){return e.behavior=pT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ls).catch(Ls)}ensureInfiniteQueryData(e){return e.behavior=pT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sx.isOnline()?z(this,li).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,es)}getMutationCache(){return z(this,li)}getDefaultOptions(){return z(this,ci)}setDefaultOptions(e){Se(this,ci,e)}setQueryDefaults(e,t){z(this,wc).set(il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,wc).values()],n={};return t.forEach(r=>{ch(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,Nc).set(il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Nc).values()],n={};return t.forEach(r=>{ch(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,ci).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,ci).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,es).clear(),z(this,li).clear()}},es=new WeakMap,li=new WeakMap,ci=new WeakMap,wc=new WeakMap,Nc=new WeakMap,di=new WeakMap,bc=new WeakMap,Sc=new WeakMap,mA),Js,it,yh,Is,Ao,Cc,ui,hi,jh,Ec,Tc,ko,Mo,mi,Pc,gt,eu,K0,X0,G0,J0,Q0,Z0,ew,K$,fA,zle=(fA=class extends wd{constructor(t,n){super();Ie(this,gt);Ie(this,Js);Ie(this,it);Ie(this,yh);Ie(this,Is);Ie(this,Ao);Ie(this,Cc);Ie(this,ui);Ie(this,hi);Ie(this,jh);Ie(this,Ec);Ie(this,Tc);Ie(this,ko);Ie(this,Mo);Ie(this,mi);Ie(this,Pc,new Set);this.options=n,Se(this,Js,t),Se(this,hi,null),Se(this,ui,Y0()),this.options.experimental_prefetchInRender||z(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,it).addObserver(this),gT(z(this,it),this.options)?Xe(this,gt,eu).call(this):this.updateResult(),Xe(this,gt,J0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tw(z(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tw(z(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,gt,Q0).call(this),Xe(this,gt,Z0).call(this),z(this,it).removeObserver(this)}setOptions(t){const n=this.options,r=z(this,it);if(this.options=z(this,Js).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $n(this.options.enabled,z(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,gt,ew).call(this),z(this,it).setOptions(this.options),n._defaulted&&!tx(this.options,n)&&z(this,Js).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,it),observer:this});const a=this.hasListeners();a&&vT(z(this,it),r,this.options,n)&&Xe(this,gt,eu).call(this),this.updateResult(),a&&(z(this,it)!==r||$n(this.options.enabled,z(this,it))!==$n(n.enabled,z(this,it))||Ri(this.options.staleTime,z(this,it))!==Ri(n.staleTime,z(this,it)))&&Xe(this,gt,K0).call(this);const i=Xe(this,gt,X0).call(this);a&&(z(this,it)!==r||$n(this.options.enabled,z(this,it))!==$n(n.enabled,z(this,it))||i!==z(this,mi))&&Xe(this,gt,G0).call(this,i)}getOptimisticResult(t){const n=z(this,Js).getQueryCache().build(z(this,Js),t),r=this.createResult(n,t);return Wle(this,r)&&(Se(this,Is,r),Se(this,Cc,this.options),Se(this,Ao,z(this,it).state)),r}getCurrentResult(){return z(this,Is)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(r,a))})}trackProp(t){z(this,Pc).add(t)}getCurrentQuery(){return z(this,it)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=z(this,Js).defaultQueryOptions(t),r=z(this,Js).getQueryCache().build(z(this,Js),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Xe(this,gt,eu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Is)))}createResult(t,n){var A;const r=z(this,it),a=this.options,i=z(this,Is),o=z(this,Ao),l=z(this,Cc),d=t!==r?t.state:z(this,yh),{state:u}=t;let h={...u},f=!1,x;if(n._optimisticResults){const F=this.hasListeners(),O=!F&&gT(t,n),_=F&&vT(t,r,n,a);(O||_)&&(h={...h,...q$(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:j}=h;x=h.data;let v=!1;if(n.placeholderData!==void 0&&x===void 0&&j==="pending"){let F;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(F=i.data,v=!0):F=typeof n.placeholderData=="function"?n.placeholderData((A=z(this,Tc))==null?void 0:A.state.data,z(this,Tc)):n.placeholderData,F!==void 0&&(j="success",x=W0(i==null?void 0:i.data,F,n),f=!0)}if(n.select&&x!==void 0&&!v)if(i&&x===(o==null?void 0:o.data)&&n.select===z(this,jh))x=z(this,Ec);else try{Se(this,jh,n.select),x=n.select(x),x=W0(i==null?void 0:i.data,x,n),Se(this,Ec,x),Se(this,hi,null)}catch(F){Se(this,hi,F)}z(this,hi)&&(g=z(this,hi),x=z(this,Ec),p=Date.now(),j="error");const y=h.fetchStatus==="fetching",w=j==="pending",N=j==="error",b=w&&y,C=x!==void 0,P={status:j,fetchStatus:h.fetchStatus,isPending:w,isSuccess:j==="success",isError:N,isInitialLoading:b,isLoading:b,data:x,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&C,isStale:vS(t,n),refetch:this.refetch,promise:z(this,ui),isEnabled:$n(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=$=>{P.status==="error"?$.reject(P.error):P.data!==void 0&&$.resolve(P.data)},O=()=>{const $=Se(this,ui,P.promise=Y0());F($)},_=z(this,ui);switch(_.status){case"pending":t.queryHash===r.queryHash&&F(_);break;case"fulfilled":(P.status==="error"||P.data!==_.value)&&O();break;case"rejected":(P.status!=="error"||P.error!==_.reason)&&O();break}}return P}updateResult(){const t=z(this,Is),n=this.createResult(z(this,it),this.options);if(Se(this,Ao,z(this,it).state),Se(this,Cc,this.options),z(this,Ao).data!==void 0&&Se(this,Tc,z(this,it)),tx(n,t))return;Se(this,Is,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!z(this,Pc).size)return!0;const o=new Set(i??z(this,Pc));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,Is)).some(l=>{const c=l;return z(this,Is)[c]!==t[c]&&o.has(c)})};Xe(this,gt,K$).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,gt,J0).call(this)}},Js=new WeakMap,it=new WeakMap,yh=new WeakMap,Is=new WeakMap,Ao=new WeakMap,Cc=new WeakMap,ui=new WeakMap,hi=new WeakMap,jh=new WeakMap,Ec=new WeakMap,Tc=new WeakMap,ko=new WeakMap,Mo=new WeakMap,mi=new WeakMap,Pc=new WeakMap,gt=new WeakSet,eu=function(t){Xe(this,gt,ew).call(this);let n=z(this,it).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ls)),n},K0=function(){Xe(this,gt,Q0).call(this);const t=Ri(this.options.staleTime,z(this,it));if(al||z(this,Is).isStale||!z0(t))return;const r=_$(z(this,Is).dataUpdatedAt,t)+1;Se(this,ko,setTimeout(()=>{z(this,Is).isStale||this.updateResult()},r))},X0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,it)):this.options.refetchInterval)??!1},G0=function(t){Xe(this,gt,Z0).call(this),Se(this,mi,t),!(al||$n(this.options.enabled,z(this,it))===!1||!z0(z(this,mi))||z(this,mi)===0)&&Se(this,Mo,setInterval(()=>{(this.options.refetchIntervalInBackground||gS.isFocused())&&Xe(this,gt,eu).call(this)},z(this,mi)))},J0=function(){Xe(this,gt,K0).call(this),Xe(this,gt,G0).call(this,Xe(this,gt,X0).call(this))},Q0=function(){z(this,ko)&&(clearTimeout(z(this,ko)),Se(this,ko,void 0))},Z0=function(){z(this,Mo)&&(clearInterval(z(this,Mo)),Se(this,Mo,void 0))},ew=function(){const t=z(this,Js).getQueryCache().build(z(this,Js),this.options);if(t===z(this,it))return;const n=z(this,it);Se(this,it,t),Se(this,yh,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},K$=function(t){hs.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(z(this,Is))}),z(this,Js).getQueryCache().notify({query:z(this,it),type:"observerResultsUpdated"})})},fA);function qle(e,t){return $n(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gT(e,t){return qle(e,t)||e.state.data!==void 0&&tw(e,t,t.refetchOnMount)}function tw(e,t,n){if($n(t.enabled,e)!==!1&&Ri(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&vS(e,t)}return!1}function vT(e,t,n,r){return(e!==t||$n(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&vS(e,n)}function vS(e,t){return $n(t.enabled,e)!==!1&&e.isStaleByTime(Ri(t.staleTime,e))}function Wle(e,t){return!tx(e.getCurrentResult(),t)}var fi,pi,Qs,ma,wa,Bf,sw,pA,Yle=(pA=class extends wd{constructor(n,r){super();Ie(this,wa);Ie(this,fi);Ie(this,pi);Ie(this,Qs);Ie(this,ma);Se(this,fi,n),this.setOptions(r),this.bindMethods(),Xe(this,wa,Bf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=z(this,fi).defaultMutationOptions(n),tx(this.options,r)||z(this,fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Qs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&il(r.mutationKey)!==il(this.options.mutationKey)?this.reset():((a=z(this,Qs))==null?void 0:a.state.status)==="pending"&&z(this,Qs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,Qs))==null||n.removeObserver(this)}onMutationUpdate(n){Xe(this,wa,Bf).call(this),Xe(this,wa,sw).call(this,n)}getCurrentResult(){return z(this,pi)}reset(){var n;(n=z(this,Qs))==null||n.removeObserver(this),Se(this,Qs,void 0),Xe(this,wa,Bf).call(this),Xe(this,wa,sw).call(this)}mutate(n,r){var a;return Se(this,ma,r),(a=z(this,Qs))==null||a.removeObserver(this),Se(this,Qs,z(this,fi).getMutationCache().build(z(this,fi),this.options)),z(this,Qs).addObserver(this),z(this,Qs).execute(n)}},fi=new WeakMap,pi=new WeakMap,Qs=new WeakMap,ma=new WeakMap,wa=new WeakSet,Bf=function(){var r;const n=((r=z(this,Qs))==null?void 0:r.state)??W$();Se(this,pi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},sw=function(n){hs.batch(()=>{var r,a,i,o,l,c,d,u;if(z(this,ma)&&this.hasListeners()){const h=z(this,pi).variables,f=z(this,pi).context;(n==null?void 0:n.type)==="success"?((a=(r=z(this,ma)).onSuccess)==null||a.call(r,n.data,h,f),(o=(i=z(this,ma)).onSettled)==null||o.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=z(this,ma)).onError)==null||c.call(l,n.error,h,f),(u=(d=z(this,ma)).onSettled)==null||u.call(d,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(z(this,pi))})})},pA),X$=m.createContext(void 0),yS=e=>{const t=m.useContext(X$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Kle=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(X$.Provider,{value:e,children:t})),G$=m.createContext(!1),Xle=()=>m.useContext(G$);G$.Provider;function Gle(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Jle=m.createContext(Gle()),Qle=()=>m.useContext(Jle),Zle=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ece=e=>{m.useEffect(()=>{e.clearReset()},[e])},tce=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||V$(n,[e.error,r])),sce=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nce=(e,t)=>e.isLoading&&e.isFetching&&!t,rce=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ace(e,t,n){var h,f,x,g,p;const r=Xle(),a=Qle(),i=yS(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",sce(o),Zle(o,a),ece(a);const l=!i.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(j=>{const v=u?c.subscribe(hs.batchCalls(j)):Ls;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),rce(o,d))throw yT(o,c,a);if(tce({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||g.call(x,o,d),o.experimental_prefetchInRender&&!al&&nce(d,r)){const j=l?yT(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;j==null||j.catch(Ls).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function nw(e,t){return ace(e,zle)}function gu(e,t){const n=yS(),[r]=m.useState(()=>new Yle(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const a=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(hs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,l)=>{r.mutate(o,l).catch(Ls)},[r]);if(a.error&&V$(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function ice({isOpen:e,onClose:t}){const[n,r]=m.useState("SOURCE"),[a,i]=m.useState("SYNCHRONOUS"),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState(""),[f,x]=m.useState(""),[g,p]=m.useState(""),[j,v]=m.useState(""),[y,w]=m.useState(null),[N,b]=m.useState(""),[C,S]=m.useState(!1),{data:P=[],isLoading:A}=nw({queryKey:["xml-data-structures"],queryFn:async()=>(await Qe.get("/wsdl/structures/xml")).data,enabled:e}),F=gu({mutationFn:async k=>(await Qe.post("/wsdl/generate",k)).data,onSuccess:k=>{w(k),toast({title:"Success",description:"WSDL generated successfully"})},onError:k=>{var T,M;toast({title:"Error",description:((M=(T=k.response)==null?void 0:T.data)==null?void 0:M.message)||"Failed to generate WSDL",variant:"destructive"})}});gu({mutationFn:async k=>(await Qe.post("/wsdl/validate",k)).data}),m.useEffect(()=>{o&&P.find(k=>k.id===o)},[o,P]);const O=async()=>{if(!f||!g||!j||!o){toast({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}if(a==="SYNCHRONOUS"&&!c){toast({title:"Error",description:"Response structure is required for synchronous WSDL",variant:"destructive"});return}const k={mode:n,type:a,requestStructureId:o,responseStructureId:a==="SYNCHRONOUS"?c:void 0,faultStructureId:u||void 0,serviceName:f,namespace:g,operationName:j};F.mutate(k)},_=async()=>{if(y)try{const k=await Qe.get(`/wsdl/preview/${y.wsdlId}`,{responseType:"text"});b(k.data),S(!0)}catch{toast({title:"Error",description:"Failed to preview WSDL",variant:"destructive"})}},$=()=>{if(!y)return;const k=document.createElement("a");k.href=`/api${y.downloadUrl}`,k.download=`${f}.wsdl`,document.body.appendChild(k),k.click(),document.body.removeChild(k)},I=()=>{r("SOURCE"),i("SYNCHRONOUS"),l(""),d(""),h(""),x(""),p(""),v(""),w(null),b(""),S(!1),t()};return s.jsxs(s.Fragment,{children:[s.jsx(_t,{open:e&&!C,onOpenChange:I,children:s.jsxs(kt,{className:"max-w-2xl",children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Generate WSDL"}),s.jsx(Cr,{children:"Generate a WSDL 1.1 file from existing XML/XSD data structures"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"WSDL Mode"}),s.jsxs(H0,{value:n,onValueChange:k=>r(k),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{value:"SOURCE",id:"source"}),s.jsx(E,{htmlFor:"source",children:"Source (Outbound service)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{value:"TARGET",id:"target"}),s.jsx(E,{htmlFor:"target",children:"Target (Inbound service)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"WSDL Type"}),s.jsxs(H0,{value:a,onValueChange:k=>i(k),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{value:"SYNCHRONOUS",id:"sync"}),s.jsx(E,{htmlFor:"sync",children:"Synchronous (Request/Response)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{value:"ASYNCHRONOUS",id:"async"}),s.jsx(E,{htmlFor:"async",children:"Asynchronous (Request only)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"request",children:"Request Structure *"}),s.jsxs(Z,{value:o,onValueChange:l,children:[s.jsx(J,{id:"request",children:s.jsx(ee,{placeholder:"Select request structure"})}),s.jsx(Q,{children:P.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))})]})]}),a==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"response",children:"Response Structure *"}),s.jsxs(Z,{value:c,onValueChange:d,children:[s.jsx(J,{id:"response",children:s.jsx(ee,{placeholder:"Select response structure"})}),s.jsx(Q,{children:P.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"fault",children:"Fault Structure (Optional)"}),s.jsxs(Z,{value:u,onValueChange:h,children:[s.jsx(J,{id:"fault",children:s.jsx(ee,{placeholder:"Select fault structure (optional)"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"",children:"None"}),P.map(k=>s.jsxs(D,{value:k.id,children:[k.name," ",k.description&&`- ${k.description}`]},k.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"service-name",children:"Service Name *"}),s.jsx(U,{id:"service-name",value:f,onChange:k=>x(k.target.value),placeholder:"e.g., CustomerService"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"namespace",children:"Namespace *"}),s.jsx(U,{id:"namespace",value:g,onChange:k=>p(k.target.value),placeholder:"e.g., http://example.com/services/customer"}),!g&&o&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter namespace or it will be extracted from request structure if available"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"operation",children:"Operation Name *"}),s.jsx(U,{id:"operation",value:j,onChange:k=>v(k.target.value),placeholder:"e.g., getCustomer"})]}),y&&s.jsx(tt,{children:s.jsxs(st,{children:["WSDL generated successfully! ",y.createdStructures.length," data structures were created."]})})]}),s.jsxs(ka,{children:[s.jsx(q,{variant:"outline",onClick:I,children:"Cancel"}),y?s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:_,children:[s.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(q,{onClick:$,children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Download"]})]}):s.jsxs(q,{onClick:O,disabled:F.isPending||A,children:[F.isPending&&s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate WSDL"]})]})]})}),s.jsx(_t,{open:C,onOpenChange:S,children:s.jsxs(kt,{className:"max-w-4xl max-h-[80vh]",children:[s.jsx(Lt,{children:s.jsx($t,{children:"WSDL Preview"})}),s.jsx("div",{className:"overflow-auto",children:s.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded",children:N})}),s.jsxs(ka,{children:[s.jsx(q,{variant:"outline",onClick:()=>S(!1),children:"Close"}),s.jsxs(q,{onClick:$,children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const oce=({structureName:e,setStructureName:t,structureDescription:n,setStructureDescription:r,structureUsage:a="source",setStructureUsage:i,isEditMode:o=!1})=>{const[l,c]=m.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"animate-scale-in",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{children:[o?"Edit":"Create"," Data Structure"]}),s.jsx(xe,{children:"Import existing schemas or create custom structures"})]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"gap-2",children:[s.jsx(EB,{className:"h-4 w-4"}),"Generate WSDL"]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"structureName",children:"Structure Name *"}),s.jsx(U,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:d=>t(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:n,onChange:d=>r(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),i&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"usage",children:"Usage"}),s.jsxs(Z,{value:a,onValueChange:d=>{const u=d;if(i(u),e){let h=e;(h.endsWith("_Out")||h.endsWith("_In"))&&(h=h.substring(0,h.length-4)),t(h+(u==="source"?"_Out":"_In"))}},children:[s.jsx(J,{id:"usage",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"source",children:"Source (Outbound)"}),s.jsx(D,{value:"target",children:"Target (Inbound)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Source structures are used by Sender Adapters (outbound - receive FROM external systems). Target structures are used by Receiver Adapters (inbound - send TO external systems)"})]})]})})]}),s.jsx(ice,{isOpen:l,onClose:()=>c(!1)})]})},lce=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const[n,r]=m.useState([]),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const l=await ga.getAllBusinessComponents();if(l.success&&l.data){const c=Array.isArray(l.data)?l.data:[];r(c)}}catch(l){console.error("Error loading business components:",l),r([])}finally{i(!1)}};return s.jsxs(K,{className:"animate-scale-in",children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(xe,{children:"Select the business component this data structure belongs to"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:l=>{const c=n.find(d=>d.id===l)||null;t(c)},disabled:a,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsx(Q,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(l=>s.jsx(D,{value:l.id,children:l.name},l.id))})]})]})})]})},$g=({icon:e,title:t,description:n,acceptTypes:r,dragOver:a,onDrop:i,onDragOver:o,onDragLeave:l,onFileSelect:c,uploadId:d,buttonText:u})=>s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:i,onDragOver:o,onDragLeave:l,children:[s.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n}),s.jsx("input",{type:"file",accept:r,onChange:h=>{var f;return((f=h.target.files)==null?void 0:f[0])&&c(h.target.files[0])},className:"hidden",id:d}),s.jsxs(q,{variant:"outline",onClick:()=>{var h;return(h=document.getElementById(d))==null?void 0:h.click()},children:[s.jsx(Ox,{className:"h-4 w-4 mr-2"}),u]})]}),cce=({jsonInput:e,setJsonInput:t,onResetAllFields:n})=>{const[r,a]=m.useState(!1),{toast:i}=mt(),o=d=>{const u=new FileReader;u.onload=h=>{var x;const f=(x=h.target)==null?void 0:x.result;try{const g=JSON.parse(f);t(JSON.stringify(g,null,2)),i({title:"JSON File Loaded",description:`Successfully loaded ${d.name}`})}catch{i({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},u.readAsText(d)},l=d=>{d.preventDefault(),a(!1);const u=Array.from(d.dataTransfer.files);u.length>0&&o(u[0])},c=()=>{n(),i({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx($g,{icon:ON,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:r,onDrop:l,onDragOver:d=>{d.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onFileSelect:o,uploadId:"json-upload",buttonText:"Upload JSON File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"JSON Structure"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:c,className:"text-destructive hover:text-destructive",children:[s.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),s.jsx(Re,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:d=>t(d.target.value),className:"font-mono text-sm",rows:8})]})]})},jS=({type:e,namespaceConfig:t,setNamespaceConfig:n,hideSchemaLocation:r=!1})=>{const a=e==="wsdl";return s.jsxs(K,{className:"p-4 bg-muted/30",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),a?"WSDL":"XML"," Namespace Configuration"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:a?"Service Namespace *":"Namespace URI *"}),s.jsx(U,{placeholder:a?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:i=>n({...t,uri:i.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:a?"Service Prefix":"Namespace Prefix"}),s.jsx(U,{placeholder:a?"svc":"ns1",value:t.prefix,onChange:i=>n({...t,prefix:i.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:"Target Namespace"}),s.jsx(U,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:i=>n({...t,targetNamespace:i.target.value}),className:"text-sm"})]}),!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-xs",children:a?"WSDL Location":"Schema Location"}),s.jsx(U,{placeholder:a?"http://example.com/service.wsdl":"http://example.com/schema.xsd",value:t.schemaLocation,onChange:i=>n({...t,schemaLocation:i.target.value}),className:"text-sm"})]})]})]})},dce=({xsdInput:e,setXsdInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a})=>{const[i,o]=m.useState(!1),{toast:l}=mt(),c=h=>{const f=new FileReader;f.onload=x=>{var p;const g=(p=x.target)==null?void 0:p.result;t(g),l({title:"XSD File Loaded",description:`Successfully loaded ${h.name}`})},f.readAsText(h)},d=h=>{h.preventDefault(),o(!1);const f=Array.from(h.dataTransfer.files);f.length>0&&c(f[0])},u=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(jS,{type:"xml",namespaceConfig:n,setNamespaceConfig:r}),!e.trim()&&s.jsx($g,{icon:Dx,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:i,onDrop:d,onDragOver:h=>{h.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onFileSelect:c,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"XSD/SOAP Content"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:[s.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),s.jsx(Re,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:h=>t(h.target.value),className:"font-mono text-sm",rows:8})]})]})},uce=({wsdlInput:e,setWsdlInput:t,namespaceConfig:n,setNamespaceConfig:r,onWsdlAnalyzed:a,onResetAllFields:i,onFileUploaded:o})=>{const[l,c]=m.useState(!1),[d,u]=m.useState(null),{toast:h}=mt(),f=j=>{const{names:v,hasMultiple:y}=FO(j);y?(u(v),h({title:"Multiple Operations Detected",description:`This WSDL contains ${v.length} operations. Please enter a structure name manually.`,variant:"default"})):u(null);const w=gG(j),N=vG(j);N&&r(N),a&&a(w,N)},x=j=>{const v=new FileReader;v.onload=y=>{var N;const w=(N=y.target)==null?void 0:N.result;t(w),f(w),h({title:"WSDL File Loaded",description:`Successfully loaded ${j.name}`})},v.readAsText(j)},g=j=>{j.preventDefault(),c(!1);const v=Array.from(j.dataTransfer.files);v.length>0&&x(v[0])},p=()=>{i(),h({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[d&&s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(yd,{children:"Multiple Operations Found"}),s.jsxs(st,{children:["This WSDL contains ",d.length," operations: ",d.join(", "),". Please enter a structure name manually in the form above."]})]}),s.jsx(jS,{type:"wsdl",namespaceConfig:n,setNamespaceConfig:r,hideSchemaLocation:!0}),!e.trim()&&s.jsx($g,{icon:Dx,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:l,onDrop:g,onDragOver:j=>{j.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onFileSelect:x,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"WSDL Content"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:p,className:"text-destructive hover:text-destructive",children:[s.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),s.jsx(Re,{placeholder:"Paste your WSDL definition here...",value:e,onChange:j=>{const v=j.target.value;t(v),v.trim()&&f(v)},className:"font-mono text-sm",rows:8})]})]})},hce=({edmxInput:e,setEdmxInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a})=>{const[i,o]=m.useState(!1),{toast:l}=mt(),c=x=>{x.preventDefault(),o(!1);const g=x.dataTransfer.files;g[0]&&h(g[0])},d=x=>{x.preventDefault(),o(!0)},u=()=>{o(!1)},h=x=>{const g=new FileReader;g.onload=p=>{var v;const j=(v=p.target)==null?void 0:v.result;t(j),l({title:"EDMX File Loaded",description:`Successfully loaded ${x.name}`})},g.readAsText(x)},f=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx($g,{icon:Dx,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:i,onDrop:c,onDragOver:d,onDragLeave:u,onFileSelect:h,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),s.jsx(Re,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:x=>t(x.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),s.jsx(jS,{type:"xml",namespaceConfig:n,setNamespaceConfig:r})]})},mce=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],fce=({field:e,canHaveChildren:t,isExpanded:n,onToggleExpanded:r,onUpdate:a,onRemove:i,depth:o})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[s.jsx("div",{className:"col-span-1 flex items-center",children:t&&s.jsx(q,{onClick:r,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:n?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(kn,{className:"h-3 w-3"})})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Field Name"}),s.jsx(U,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(E,{className:"text-xs",children:"Type"}),s.jsxs(Z,{value:e.type,onValueChange:l=>a({type:l}),children:[s.jsx(J,{className:"text-sm",children:s.jsx(ee,{})}),s.jsx(Q,{children:mce.map(l=>s.jsx(D,{value:l,children:l},l))})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Description"}),s.jsx(U,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),s.jsx("span",{children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(q,{onClick:i,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:s.jsx(tr,{className:"h-3 w-3"})})})]}),pce=({field:e,canHaveChildren:t,onUpdate:n,onAddChild:r})=>{var a;return s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[s.jsx("div",{className:"col-span-1"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:i=>n({isComplexType:i.target.checked}),className:"rounded"}),s.jsx("span",{children:"Complex Type"})]})}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(E,{className:"text-xs",children:"Min Occurs"}),s.jsx(U,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:i=>n({minOccurs:parseInt(i.target.value)||0}),className:"text-sm"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(E,{className:"text-xs",children:"Max Occurs"}),s.jsxs(Z,{value:((a=e.maxOccurs)==null?void 0:a.toString())||"1",onValueChange:i=>n({maxOccurs:i==="unbounded"?"unbounded":parseInt(i)}),children:[s.jsx(J,{className:"text-sm",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"1",children:"1"}),s.jsx(D,{value:"2",children:"2"}),s.jsx(D,{value:"5",children:"5"}),s.jsx(D,{value:"10",children:"10"}),s.jsx(D,{value:"unbounded",children:"Unbounded"})]})]})]}),s.jsx("div",{className:"col-span-3",children:t&&s.jsxs(q,{onClick:r,size:"sm",variant:"outline",className:"w-full hover-scale",children:[s.jsx(vs,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]})},xce=({field:e,canHaveChildren:t,isExpanded:n,hasChildren:r,depth:a,path:i,onUpdateChild:o,onRemoveChild:l,onAddGrandChild:c,FieldBuilderComponent:d})=>!t||!n||!r?null:s.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[s.jsx(E,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,h)=>s.jsx(d,{field:u,index:h,onUpdate:o,onRemove:l,onAddChild:c,depth:a+1,path:[...i,h]},h))]}),gce=(e,t,n,r,a)=>{const i=m.useCallback(u=>{if(u.maxOccurs!==void 0){const h=u.maxOccurs;typeof h=="number"&&h>1||h==="unbounded"?u.type="array":h===1&&e.type==="array"&&(u.type="string")}n(t,u)},[t,n,e.type]),o=m.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&n(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,n,a]),l=m.useCallback(u=>{r(u)},[r]),c=m.useCallback((u,h)=>{n(u,h)},[n]),d=m.useCallback(u=>{a(u)},[a]);return{handleUpdate:i,handleAddChild:o,handleRemoveChild:l,handleUpdateChild:c,handleAddGrandChild:d}},J$=({field:e,index:t,onUpdate:n,onRemove:r,onAddChild:a,depth:i,path:o})=>{const[l,c]=bt.useState(!0),d=e.children&&e.children.length>0,u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:h,handleAddChild:f,handleRemoveChild:x,handleUpdateChild:g,handleAddGrandChild:p}=gce(e,o,n,r,a);return s.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${i>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(fce,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>c(!l),onUpdate:h,onRemove:()=>r(o),depth:i}),s.jsx(pce,{field:e,canHaveChildren:u,onUpdate:h,onAddChild:f})]}),s.jsx(xce,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:d,depth:i,path:o,onUpdateChild:g,onRemoveChild:x,onAddGrandChild:p,FieldBuilderComponent:J$})]})},vce=(e,t)=>{const n=m.useCallback((o,l)=>{const c={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&o!==void 0){const d=[...e];d[l].children[o].children||(d[l].children[o].children=[]),d[l].children[o].children.push(c),t(d)}else if(o!==void 0){const d=[...e];d[o].children||(d[o].children=[]),d[o].children.push(c),t(d)}else t([...e,c])},[e,t]),r=m.useCallback((o,l)=>{console.log("updateFieldAtPath called:",{path:o,field:l});const c=[...e];let d=c;for(let h=0;h<o.length-1;h++){const f=o[h];d[f].children||(d[f].children=[]),d=d[f].children}const u=o[o.length-1];if(d[u]){if(l.maxOccurs!==void 0){const h=l.maxOccurs;typeof h=="number"&&h>1||h==="unbounded"?l.type="array":h===1&&d[u].type==="array"&&(l.type="string")}d[u]={...d[u],...l},console.log("Updated field at path:",o,d[u])}t(c)},[e,t]),a=m.useCallback(o=>{const l=[...e];if(o.length===1)t(l.filter((c,d)=>d!==o[0]));else{let c=l;for(let h=0;h<o.length-2;h++){const f=o[h];if(!c[f].children)return;c=c[f].children}const d=o[o.length-2],u=o[o.length-1];c[d]&&c[d].children&&(c[d].children=c[d].children.filter((h,f)=>f!==u)),t(l)}},[e,t]),i=m.useCallback(o=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},c=[...e];let d=c;for(let u=0;u<o.length;u++){const h=o[u];d[h].children||(d[h].children=[]),u===o.length-1?d[h].children.push(l):d=d[h].children}t(c)},[e,t]);return{addCustomField:n,updateFieldAtPath:r,removeFieldAtPath:a,addChildAtPath:i}},nx=e=>{const t={};return e.forEach(n=>{if(n.name){const r=n.type==="array"||typeof n.maxOccurs=="number"&&n.maxOccurs>1||n.maxOccurs==="unbounded";n.isComplexType||n.children&&n.children.length>0?r?t[n.name]=[nx(n.children)]:t[n.name]=nx(n.children):t[n.name]=n.type==="integer"?0:""}}),t},yce=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const n=e[0],r={[n.name]:nx(n.children||[])};return JSON.stringify(r,null,2)}const t={root:nx(e)};return JSON.stringify(t,null,2)},jce=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(n=>{var r;if(n.name)if(n.isComplexType||n.children&&n.children.length>0)t+=`
        <xs:element name="${n.name}">
          <xs:complexType>
            <xs:sequence>`,(r=n.children)==null||r.forEach(a=>{var i;if(a.name){const o=a.minOccurs||(a.required?1:0),l=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,c=`minOccurs="${o}" maxOccurs="${l}"`;a.isComplexType||a.children&&a.children.length>0?(t+=`
              <xs:element name="${a.name}">
                <xs:complexType>
                  <xs:sequence>`,(i=a.children)==null||i.forEach(d=>{if(d.name){const u=d.minOccurs||(d.required?1:0),h=d.maxOccurs==="unbounded"?"unbounded":d.maxOccurs||1,f=`minOccurs="${u}" maxOccurs="${h}"`;t+=`
                    <xs:element name="${d.name}" type="xs:${d.type==="array"?"string":d.type}" ${f}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${a.name}" type="xs:${a.type==="array"?"string":a.type}" ${c}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const a=n.minOccurs||(n.required?1:0),i=n.maxOccurs==="unbounded"?"unbounded":n.maxOccurs||1,o=`minOccurs="${a}" maxOccurs="${i}"`;t+=`
        <xs:element name="${n.name}" type="xs:${n.type==="array"?"string":n.type}" ${o}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},wce=(e,t="        ")=>{var r;let n="";return(e.isComplexType||e.children&&e.children.length>0)&&(n+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,(r=e.children)==null||r.forEach(a=>{if(a.name){const i=a.minOccurs||(a.required?1:0),o=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${i}" maxOccurs="${o}"`;if(a.isComplexType||a.children&&a.children.length>0)n+=`
${t}    <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const c=a.type==="array"?"string":a.type==="integer"?"int":a.type;n+=`
${t}    <xsd:element name="${a.name}" type="xsd:${c}" ${l}/>`}}}),n+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),n},Nce=(e,t="DataService",n="ProcessData")=>{if(e.length===0)return"";let r=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${n}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const i=a.minOccurs||(a.required?1:0),o=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${i}" maxOccurs="${o}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const c=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
            <xsd:element name="${a.name}" type="xsd:${c}" ${l}/>`}}}),r+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${n}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${n}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(r+=`
      
      ${wce(a)}`)}),r+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${n}RequestMessage">
    <part name="parameters" element="tns:${n}Request"/>
  </message>
  
  <message name="${n}ResponseMessage">
    <part name="parameters" element="tns:${n}Response"/>
  </message>
  
  <message name="${n}FaultMessage">
    <part name="fault" element="tns:${n}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${n}">
      <documentation>Process data operation</documentation>
      <input message="tns:${n}RequestMessage"/>
      <output message="tns:${n}ResponseMessage"/>
      <fault name="${n}Fault" message="tns:${n}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${n}">
      <soap:operation soapAction="http://example.com/service/${n}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${n}Fault">
        <soap:fault name="${n}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,r},bce=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return yce(e);case"xml":case"xsd":return jce(e);case"wsdl":return Nce(e);default:return JSON.stringify(e,null,2)}},Sce=({fields:e,schemaType:t})=>e.length===0?null:s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs(E,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),s.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:bce(e,t)})]}),Cce=({customFields:e,setCustomFields:t,selectedStructureType:n,setSelectedStructureType:r,onResetAllFields:a})=>{const[i,o]=m.useState(""),{toast:l}=mt(),{addCustomField:c,updateFieldAtPath:d,removeFieldAtPath:u,addChildAtPath:h}=vce(e,t),f=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"customStructureType",children:"Structure Type"}),s.jsxs(Z,{value:i,onValueChange:o,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select structure type to build"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"json",children:"JSON Schema"}),s.jsx(D,{value:"xsd",children:"XSD Schema"}),s.jsx(D,{value:"xml",children:"XML Schema"}),s.jsx(D,{value:"wsdl",children:"WSDL Schema"})]})]})]}),i?e.length===0?s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(Cs,{className:"h-12 w-12 mx-auto text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",i.toUpperCase()," Structure"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",i.toUpperCase()," data structure"]}),s.jsxs(q,{onClick:()=>c(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(E,{children:["Structure Definition (",i.toUpperCase(),")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:()=>c(),size:"sm",variant:"outline",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Field"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(Et,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((x,g)=>s.jsx(J$,{field:x,index:g,onUpdate:d,onRemove:u,onAddChild:h,depth:0,path:[g]},g)),s.jsx(Sce,{fields:e,schemaType:i})]}):s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(Cs,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},Ece=({customFields:e,setCustomFields:t,jsonInput:n,setJsonInput:r,xsdInput:a,setXsdInput:i,edmxInput:o,setEdmxInput:l,wsdlInput:c,setWsdlInput:d,selectedStructureType:u,setSelectedStructureType:h,namespaceConfig:f,setNamespaceConfig:x,onSave:g,onWsdlAnalyzed:p,onResetAllFields:j,onFileUploaded:v})=>{const y=Xs(),w=()=>{y("/data-structures")};return s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Define Structure"}),s.jsx(xe,{children:"Choose your preferred method to define the data structure"})]}),s.jsxs(G,{children:[s.jsxs(lt,{value:u,className:"w-full",onValueChange:N=>h(N),children:[s.jsxs(nt,{className:"grid w-full grid-cols-5",children:[s.jsx(me,{value:"json",children:"JSON Schema"}),s.jsx(me,{value:"xsd",children:"XSD/XML"}),s.jsx(me,{value:"wsdl",children:"WSDL"}),s.jsx(me,{value:"edmx",children:"EDMX"}),s.jsx(me,{value:"custom",children:"Custom Builder"})]}),s.jsx(ue,{value:"json",children:s.jsx(cce,{jsonInput:n,setJsonInput:r,onResetAllFields:j,onFileUploaded:v})}),s.jsx(ue,{value:"xsd",children:s.jsx(dce,{xsdInput:a,setXsdInput:i,namespaceConfig:f,setNamespaceConfig:x,onResetAllFields:j,onFileUploaded:v})}),s.jsx(ue,{value:"wsdl",children:s.jsx(uce,{wsdlInput:c,setWsdlInput:d,namespaceConfig:f,setNamespaceConfig:x,onWsdlAnalyzed:p,onResetAllFields:j,onFileUploaded:v})}),s.jsx(ue,{value:"edmx",children:s.jsx(hce,{edmxInput:o,setEdmxInput:l,namespaceConfig:f,setNamespaceConfig:x,onResetAllFields:j,onFileUploaded:v})}),s.jsx(ue,{value:"custom",children:s.jsx(Cce,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:h,onResetAllFields:j})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t flex gap-4",children:[s.jsxs(q,{onClick:w,variant:"outline",className:"flex-1",children:[s.jsx(Et,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(q,{onClick:g,className:"flex-1 bg-gradient-primary hover:opacity-90",children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})]})]})]})},Q$=(e,t=0)=>e?s.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([n,r])=>s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-primary",children:n}),s.jsx("span",{className:"text-muted-foreground",children:": "}),typeof r=="string"?s.jsx(de,{variant:"outline",className:"text-xs",children:r}):s.jsx("div",{className:"mt-1",children:Q$(r,t+1)})]},n)):s.jsx(de,{variant:"outline",className:"text-xs",children:String(e)})}):null,Tce=({selectedStructure:e})=>s.jsxs(K,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-5 w-5"}),"Structure Preview"]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&s.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),s.jsx(xt,{}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx(E,{className:"text-xs font-medium",children:"Structure Definition"}),s.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:Q$(e.structure)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),jT=()=>{try{const{id:e}=eb(),t=Xs(),n=Fn(),{saveStructure:r,updateStructure:a,loading:i}=jd();console.log("CreateDataStructure component rendering, loading:",i);const{toast:o}=mt(),[l,c]=m.useState(!1),[d,u]=m.useState(null),[h,f]=m.useState("source"),[x,g]=m.useState(""),[p,j]=m.useState(""),[v,y]=m.useState(null),[w,N]=m.useState([]),[b,C]=m.useState(""),[S,P]=m.useState(""),[A,F]=m.useState(""),[O,_]=m.useState(""),[$,I]=m.useState("json"),[k,T]=m.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:""});m.useEffect(()=>{(async()=>{var W,Y;if(e)try{console.log("[CreateDataStructure] Loading structure for edit:",e);const X=await mo.getStructure(e);if(X.success&&X.data){const ne=X.data;c(!0),u(ne.id),g(ne.name||""),j(ne.description||""),f(ne.usage||"source"),I(ne.type||"json"),ne.type==="json"?C(JSON.stringify(ne.structure,null,2)):ne.type==="wsdl"?ne.originalContent&&ne.originalFormat==="xml"?_(ne.originalContent):_(JSON.stringify(ne.structure,null,2)):ne.type==="xsd"?ne.originalContent&&ne.originalFormat==="xml"?P(ne.originalContent):P(JSON.stringify(ne.structure,null,2)):ne.type,ne.namespace&&T(ne.namespace),ne.businessComponent&&y({id:ne.businessComponent.id,name:ne.businessComponent.name,description:ne.businessComponent.description||""})}}catch(X){console.error("Error loading structure:",X),o({title:"Error",description:"Failed to load data structure",variant:"destructive"}),t("/data-structures")}else if((W=n.state)!=null&&W.structure&&((Y=n.state)!=null&&Y.isEdit)){const X=n.state.structure;console.log("[CreateDataStructure] Loading structure from navigation state:",X),c(!0),u(X.id),g(X.name||""),j(X.description||""),f(X.usage||"source"),I(X.type||"json"),X.type==="json"?C(JSON.stringify(X.structure,null,2)):X.type==="wsdl"?_(JSON.stringify(X.structure,null,2)):X.type==="xsd"&&P(JSON.stringify(X.structure,null,2)),X.namespace&&T(X.namespace),X.businessComponent&&y({id:X.businessComponent.id,name:X.businessComponent.name,description:X.businessComponent.description||""})}})()},[e,n.state,t,o]);const M=m.useMemo(()=>{if(!x)return null;let B={};if($==="json"&&b)B=f0(b);else if($==="wsdl"&&O){const W=Lp(O);B=(W==null?void 0:W.structure)||W}else $==="xsd"&&S?B={message:"XSD parsing not fully implemented yet"}:$==="edmx"&&A?B={message:"EDMX parsing not fully implemented yet"}:$==="custom"&&w.length>0&&(B=$p(w));return!B||Object.keys(B).length===0?null:{id:"preview",name:x,type:$,description:p,structure:B,createdAt:new Date().toISOString().split("T")[0],usage:h,namespace:($==="xsd"||$==="wsdl"||$==="edmx")&&k.uri?k:void 0}},[x,p,$,b,S,A,O,w,k]),R=B=>{if(!B)return B;let W=B;return(W.endsWith("_Out")||W.endsWith("_In"))&&(W=W.substring(0,W.length-4)),W+(h==="source"?"_Out":"_In")},L=(B,W)=>{B&&!x&&g(R(B)),W&&T(W)},H=async()=>{if(!v){o({title:"Validation Error",description:"Please select a business component",variant:"destructive"});return}let B=!1;l&&d?B=await a(d,x,p,h,b,S,A,O,w,$,k,v==null?void 0:v.id):B=await r(x,p,h,b,S,A,O,w,$,k,v==null?void 0:v.id),B&&(l?t("/data-structures"):(g(""),j(""),y(null),C(""),P(""),F(""),_(""),N([]),T({uri:"",prefix:"",targetNamespace:"",schemaLocation:""})))},V=()=>{g(""),j(""),y(null),C(""),P(""),F(""),_(""),N([]),T({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),I("json")};return i?s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Fo,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-muted rounded-lg"})})})})]}):s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Fo,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:"Define and manage data structures for source and target messages"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(lce,{selectedBusinessComponent:v,setSelectedBusinessComponent:y}),s.jsx(oce,{structureName:x,setStructureName:g,structureDescription:p,setStructureDescription:j,structureUsage:h,setStructureUsage:f,isEditMode:l}),s.jsx(Ece,{customFields:w,setCustomFields:N,jsonInput:b,setJsonInput:C,xsdInput:S,setXsdInput:P,edmxInput:A,setEdmxInput:F,wsdlInput:O,setWsdlInput:_,selectedStructureType:$,setSelectedStructureType:I,namespaceConfig:k,setNamespaceConfig:T,onSave:H,onWsdlAnalyzed:L,onResetAllFields:V,onFileUploaded:B=>{if(!x&&B){const W=B.replace(/\.[^/.]+$/,"");g(R(W))}}}),M&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(Tce,{selectedStructure:M})})]})]})}catch(e){return console.error("Error rendering DataStructures component:",e),s.jsx("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center justify-center gap-3",children:[s.jsx(Fo,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"There was an error loading the data structures page. Please check the browser console for details."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})})}};function xl({icon:e,title:t,description:n,action:r,className:a}){return s.jsxs("div",{className:le("flex flex-col items-center justify-center p-8 text-center",a),children:[e&&s.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:s.jsx(e,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-1",children:t}),n&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:n}),r&&s.jsxs(q,{onClick:r.onClick,size:"sm",className:"mt-2",children:[r.icon&&s.jsx(r.icon,{className:"h-4 w-4 mr-2"}),r.label]})]})}const Pce=({action:e,children:t,fallback:n,showMessage:r=!0})=>{const{permissions:a,environmentInfo:i}=gd();return bt.useMemo(()=>{switch(e){case"flow.create":return(a==null?void 0:a.canCreateFlows)??!1;case"adapter.create":return(a==null?void 0:a.canCreateAdapters)??!1;case"adapter.updateConfig":return(a==null?void 0:a.canModifyAdapterConfig)??!0;case"flow.import":return(a==null?void 0:a.canImportFlows)??!0;case"flow.deploy":return(a==null?void 0:a.canDeployFlows)??!0;case"businessComponent.create":return(a==null?void 0:a.canCreateBusinessComponents)??!1;case"dataStructure.create":return(a==null?void 0:a.canCreateDataStructures)??!1;case"admin.access":return(a==null?void 0:a.isAdmin)??!1;default:return!0}},[a,e])?s.jsx(s.Fragment,{children:t}):n?s.jsx(s.Fragment,{children:n}):r?s.jsxs(tt,{variant:"destructive",children:[s.jsx(_i,{className:"h-4 w-4"}),s.jsxs(st,{children:["This action is not available in ",(i==null?void 0:i.displayName)||"this"," environment.",(i==null?void 0:i.type)!=="DEVELOPMENT"&&s.jsx("span",{className:"block mt-1 text-sm",children:"Only available in development environment."})]})]}):null},Ace=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:f}=mt(),{permissions:x}=gd();m.useEffect(()=>{g()},[]);const g=async()=>{const N=await ga.getAllBusinessComponents();N.success&&N.data?t(N.data):f({title:"Error",description:N.error||"Failed to load businessComponents",variant:"destructive"}),r(!1)},p=async()=>{if(!u.name.trim()){f({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await ga.createBusinessComponent(u);N.success&&N.data?(t(b=>[...b,N.data]),i(!1),h({name:"",description:"",contactEmail:"",contactPhone:""}),f({title:"Success",description:"BusinessComponent created successfully"})):f({title:"Error",description:N.error||"Failed to create businessComponent",variant:"destructive"})},j=async()=>{if(!c||!u.name.trim()){f({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await ga.updateBusinessComponent({id:c.id,...u});N.success&&N.data?(t(b=>b.map(C=>C.id===c.id?N.data:C)),l(!1),d(null),h({name:"",description:"",contactEmail:"",contactPhone:""}),f({title:"Success",description:"BusinessComponent updated successfully"})):f({title:"Error",description:N.error||"Failed to update businessComponent",variant:"destructive"})},v=async N=>{const b=await ga.deleteBusinessComponent(N.id);b.success?(t(C=>C.filter(S=>S.id!==N.id)),f({title:"Success",description:"BusinessComponent deleted successfully"})):f({title:"Error",description:b.error||"Failed to delete businessComponent",variant:"destructive"})},y=N=>{d(N),h({name:N.name,description:N.description||"",contactEmail:N.contactEmail||"",contactPhone:N.contactPhone||""}),l(!0)},w=()=>{h({name:"",description:"",contactEmail:"",contactPhone:""}),d(null)};return n?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx("div",{className:"h-48 bg-muted rounded"},N))})]})}):s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(wp,{className:"h-8 w-8"}),"BusinessComponent Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),s.jsx(Pce,{action:"businessComponent.create",showMessage:!1,children:s.jsxs(_t,{open:a,onOpenChange:i,children:[s.jsx(em,{asChild:!0,children:s.jsxs(q,{onClick:()=>w(),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),s.jsxs(kt,{children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Create New BusinessComponent"}),s.jsx(Cr,{children:"Add a new businessComponent to your system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(E,{htmlFor:"name",children:"BusinessComponent Name *"}),s.jsx(U,{id:"name",value:u.name,onChange:N=>h({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",value:u.description,onChange:N=>h({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"email",children:"Contact Email"}),s.jsx(U,{id:"email",type:"email",value:u.contactEmail,onChange:N=>h({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"phone",children:"Contact Phone"}),s.jsx(U,{id:"phone",value:u.contactPhone,onChange:N=>h({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(q,{onClick:p,children:"Create BusinessComponent"})]})]})]})]})})]}),e.length===0?s.jsx(xl,{icon:s.jsx(wp,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:x!=null&&x.canCreateBusinessComponents?{label:"Add BusinessComponent",onClick:()=>i(!0)}:void 0}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&Array.isArray(e)&&e.map(N=>s.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-lg",children:N.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>y(N),children:s.jsx(Ta,{className:"h-4 w-4"})}),s.jsxs(fg,{children:[s.jsx(_X,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(tr,{className:"h-4 w-4"})})}),s.jsxs(Yh,{children:[s.jsxs(Kh,{children:[s.jsx(Gh,{children:"Delete BusinessComponent"}),s.jsxs(Jh,{children:['Are you sure you want to delete "',N.name,'"? This action cannot be undone.']})]}),s.jsxs(Xh,{children:[s.jsx(pg,{children:"Cancel"}),s.jsx(Qh,{onClick:()=>v(N),children:"Delete"})]})]})]})]})]}),N.description&&s.jsx(xe,{children:N.description})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[N.contactEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(kh,{className:"h-4 w-4"}),N.contactEmail]}),N.contactPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(VB,{className:"h-4 w-4"}),N.contactPhone]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(N.createdAt).toLocaleDateString()]})]})})]},N.id))}),s.jsx(_t,{open:o,onOpenChange:l,children:s.jsxs(kt,{children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Edit BusinessComponent"}),s.jsx(Cr,{children:"Update businessComponent information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),s.jsx(U,{id:"edit-name",value:u.name,onChange:N=>h({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-description",children:"Description"}),s.jsx(Re,{id:"edit-description",value:u.description,onChange:N=>h({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-email",children:"Contact Email"}),s.jsx(U,{id:"edit-email",type:"email",value:u.contactEmail,onChange:N=>h({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(E,{htmlFor:"edit-phone",children:"Contact Phone"}),s.jsx(U,{id:"edit-phone",value:u.contactPhone,onChange:N=>h({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(q,{onClick:j,children:"Update BusinessComponent"})]})]})]})})]})};class kce{constructor(){ft(this,"websocket",null);ft(this,"reconnectAttempts",0);ft(this,"maxReconnectAttempts",5);ft(this,"reconnectInterval",3e3);ft(this,"messageListeners",[]);ft(this,"statsListeners",[])}async getMessages(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&(Array.isArray(i)?n.append(a,i.join(",")):n.append(a,i.toString()))});const r=`/messages${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async getMessage(t){return te.get(`/messages/${t}`)}async getMessageStats(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&(Array.isArray(i)?n.append(a,i.join(",")):n.append(a,i.toString()))});const r=`/messages/stats${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async reprocessMessage(t){return te.post(`/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([i,o])=>{o!==void 0&&(Array.isArray(o)?r.append(i,o.join(",")):r.append(i,o.toString()))});const a=`/api/business-components/${t}/messages${r.toString()?`?${r.toString()}`:""}`;return te.get(a)}connectWebSocket(t){var c;if(((c=this.websocket)==null?void 0:c.readyState)===WebSocket.OPEN)return;const n=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,a=window.location.port||"8080",i=`${n}//${r}:${a}`,o=t?`?businessComponentId=${t}`:"",l=`${i}/ws/messages${o}`;try{this.websocket=new WebSocket(l),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=d=>{try{const u=JSON.parse(d.data);u.type==="message_update"?this.messageListeners.forEach(h=>h(u.message)):u.type==="stats_update"&&this.statsListeners.forEach(h=>h(u.stats))}catch(u){console.error("Error parsing WebSocket message:",u)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=d=>{console.error("WebSocket error:",d)}}catch(d){console.error("Failed to create WebSocket connection:",d)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const n=this.messageListeners.indexOf(t);n>-1&&this.messageListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){var r;((r=this.websocket)==null?void 0:r.readyState)===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}}const Fr=new kce,Mce=e=>{const[t,n]=m.useState([]),[r,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState(!1),{toast:d}=mt(),u=m.useCallback(async j=>{o(!0);try{const v=e?await Fr.getBusinessComponentMessages(e,j):await Fr.getMessages(j);v.success&&v.data?n(v.data.messages||[]):n([])}catch{d({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{o(!1)}},[e,d]),h=m.useCallback(async j=>{try{const v=await Fr.getMessageStats(j);v.success&&v.data&&a(v.data)}catch(v){console.error("Failed to load message stats:",v)}},[]);m.useEffect(()=>{Fr.connectWebSocket(e),c(!0);const j=Fr.onMessageUpdate(y=>{n(w=>{const N=w.findIndex(b=>b.id===y.id);if(N>=0){const b=[...w];return b[N]=y,b}else return[y,...w]}),y.status==="failed"&&d({title:"Message Failed",description:`Message ${y.id} failed processing`,variant:"destructive"})}),v=Fr.onStatsUpdate(y=>{a(y)});return u(),h(),()=>{j(),v(),Fr.disconnectWebSocket(),c(!1)}},[e,u,h,d]);const f=m.useCallback(async j=>{try{const v=await Fr.reprocessMessage(j);if(v.success)d({title:"Success",description:"Message queued for reprocessing"});else throw new Error(v.error||"Failed to reprocess message")}catch{d({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[d]),x=m.useCallback(j=>{u(j),h(j)},[u,h]),g=m.useCallback(j=>{Fr.sendCommand("subscribe",{messageType:j})},[]),p=m.useCallback(j=>{Fr.sendCommand("unsubscribe",{messageType:j})},[]);return{messages:t,stats:r,loading:i,connected:l,loadMessages:u,loadStats:h,reprocessMessage:f,refreshData:x,subscribeToMessageType:g,unsubscribeFromMessageType:p}},Rce=({messages:e,stats:t,isBusinessComponentSelected:n,onStatusFilter:r,statusFilter:a,loading:i=!1})=>{const o=e||[],l=(t==null?void 0:t.successful)??o.filter(p=>p.status==="success").length,c=(t==null?void 0:t.processing)??o.filter(p=>p.status==="processing").length,d=(t==null?void 0:t.failed)??o.filter(p=>p.status==="failed").length,u=(t==null?void 0:t.total)??o.length,h=(t==null?void 0:t.successRate)??(u>0?l/u*100:0),f=(t==null?void 0:t.avgProcessingTime)??(()=>{const p=o.filter(j=>j.status!=="processing"&&j.processingTime!=="-");return p.length>0?Math.round(p.reduce((j,v)=>{const y=parseFloat(v.processingTime.replace(/[^\d.]/g,""));return j+(isNaN(y)?0:y)},0)/p.length):0})(),x=()=>n?`of ${u} business component messages`:"across all messages",g=p=>{r&&r(p)};return i?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((p,j)=>s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(re,{className:"pb-2",children:s.jsx(Ze,{className:"h-4 w-32"})}),s.jsxs(G,{children:[s.jsx(Ze,{className:"h-8 w-16 mb-2"}),s.jsx(Ze,{className:"h-3 w-24"})]})]},j))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(K,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>g("success"),children:[s.jsx(re,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-success",children:l}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(K,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>g("processing"),children:[s.jsx(re,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-warning",children:c}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(K,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>g("failed"),children:[s.jsx(re,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(K,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(re,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold text-success",children:[h.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(K,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(re,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold text-info",children:[f,"ms"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]})]})},Dce=(e,t)=>{if(!e||!Array.isArray(e))return[];const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(t){case"today":return e.filter(l=>new Date(l.timestamp)>=r);case"yesterday":const a=new Date(r.getTime()-24*60*60*1e3);return e.filter(l=>{const c=new Date(l.timestamp);return c>=a&&c<r});case"last-7-days":const i=new Date(n.getTime()-7*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=i);case"last-30-days":const o=new Date(n.getTime()-30*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=o);case"all":default:return e}},Fce=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,Oce=({value:e,onValueChange:t})=>s.jsxs(Z,{value:e,onValueChange:t,children:[s.jsx(J,{className:"w-48",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"today",children:"Today"}),s.jsx(D,{value:"today-00",children:"Today 00:00 - 00:59"}),s.jsx(D,{value:"today-01",children:"Today 01:00 - 01:59"}),s.jsx(D,{value:"today-02",children:"Today 02:00 - 02:59"}),s.jsx(D,{value:"today-03",children:"Today 03:00 - 03:59"}),s.jsx(D,{value:"today-04",children:"Today 04:00 - 04:59"}),s.jsx(D,{value:"today-05",children:"Today 05:00 - 05:59"}),s.jsx(D,{value:"today-06",children:"Today 06:00 - 06:59"}),s.jsx(D,{value:"today-07",children:"Today 07:00 - 07:59"}),s.jsx(D,{value:"today-08",children:"Today 08:00 - 08:59"}),s.jsx(D,{value:"today-09",children:"Today 09:00 - 09:59"}),s.jsx(D,{value:"today-10",children:"Today 10:00 - 10:59"}),s.jsx(D,{value:"today-11",children:"Today 11:00 - 11:59"}),s.jsx(D,{value:"today-12",children:"Today 12:00 - 12:59"}),s.jsx(D,{value:"today-13",children:"Today 13:00 - 13:59"}),s.jsx(D,{value:"today-14",children:"Today 14:00 - 14:59"}),s.jsx(D,{value:"today-15",children:"Today 15:00 - 15:59"}),s.jsx(D,{value:"today-16",children:"Today 16:00 - 16:59"}),s.jsx(D,{value:"today-17",children:"Today 17:00 - 17:59"}),s.jsx(D,{value:"today-18",children:"Today 18:00 - 18:59"}),s.jsx(D,{value:"today-19",children:"Today 19:00 - 19:59"}),s.jsx(D,{value:"today-20",children:"Today 20:00 - 20:59"}),s.jsx(D,{value:"today-21",children:"Today 21:00 - 21:59"}),s.jsx(D,{value:"today-22",children:"Today 22:00 - 22:59"}),s.jsx(D,{value:"today-23",children:"Today 23:00 - 23:59"}),s.jsx(D,{value:"yesterday",children:"Yesterday"}),s.jsx(D,{value:"last-7-days",children:"Past 7 Days"}),s.jsx(D,{value:"last-30-days",children:"Past 30 Days"}),s.jsx(D,{value:"all",children:"All Messages"})]})]});var wS="Collapsible",[Ice,Qye]=pn(wS),[_ce,NS]=Ice(wS),Z$=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Gn({prop:r,defaultProp:a,onChange:o});return s.jsx(_ce,{scope:n,disabled:i,contentId:qn(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Me.div,{"data-state":SS(c),"data-disabled":i?"":void 0,...l,ref:t})})});Z$.displayName=wS;var e3="CollapsibleTrigger",t3=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=NS(e3,n);return s.jsx(Me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":SS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:je(e.onClick,a.onOpenToggle)})});t3.displayName=e3;var bS="CollapsibleContent",s3=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=NS(bS,e.__scopeCollapsible);return s.jsx(ys,{present:n||a.open,children:({present:i})=>s.jsx(Lce,{...r,ref:t,present:i})})});s3.displayName=bS;var Lce=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=NS(bS,n),[l,c]=m.useState(r),d=m.useRef(null),u=Be(t,d),h=m.useRef(0),f=h.current,x=m.useRef(0),g=x.current,p=o.open||l,j=m.useRef(p),v=m.useRef();return m.useEffect(()=>{const y=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(y)},[]),gs(()=>{const y=d.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();h.current=w.height,x.current=w.width,j.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(r)}},[o.open,r]),s.jsx(Me.div,{"data-state":SS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function SS(e){return e?"open":"closed"}var $ce=Z$;const tu=$ce,rw=t3,aw=s3,Vce=e=>{switch(e){case"success":return s.jsx(Bs,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(Hs,{className:"h-4 w-4 text-destructive"});case"processing":return s.jsx(Ds,{className:"h-4 w-4 text-warning animate-spin"});default:return s.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})}},Uce=e=>{switch(e.toUpperCase()){case"SUCCESS":return s.jsx(Bs,{className:"h-3 w-3 text-success"});case"ERROR":return s.jsx(Hs,{className:"h-3 w-3 text-destructive"});case"WARN":return s.jsx(Jn,{className:"h-3 w-3 text-warning"});default:return s.jsx(zs,{className:"h-3 w-3 text-info"})}},Bce=({message:e})=>{const[t,n]=m.useState(!1);return s.jsx(K,{className:"bg-gradient-secondary border-border/50 hover-scale",children:s.jsxs(tu,{open:t,onOpenChange:n,children:[s.jsx(rw,{asChild:!0,children:s.jsx(q,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:s.jsx(re,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Vce(e.status),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.id}),s.jsx(de,{variant:"outline",className:"text-xs",children:e.type})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source,"  ",e.target]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-right",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:e.timestamp}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime,"  ",e.size]})]}),t?s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),s.jsx(aw,{children:s.jsx(G,{className:"pt-0",children:s.jsxs("div",{className:"border-t border-border/50 pt-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center gap-2",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Processing Logs"]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs.map((r,a)=>s.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[Uce(r.level),s.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:r.timestamp.split(" ")[1]}),s.jsx("span",{className:"text-foreground",children:r.message})]},a))})]})})})]})})},Hce=({messages:e,isBusinessComponentSelected:t,statusFilter:n,loading:r=!1})=>{const[a,i]=m.useState("today");let o=Dce(e||[],a);return n&&(o=o.filter(l=>l.status===n)),o.sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime()),s.jsxs("div",{className:"space-y-4",children:[s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsxs(re,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Zs,{className:"h-5 w-5"}),"Message History"]}),s.jsx(Oce,{value:a,onValueChange:i})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Fce(a,o.length)})]})}),s.jsx("div",{className:"space-y-3",children:r?Array.from({length:5}).map((l,c)=>s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ze,{className:"h-6 w-6 rounded-full"}),s.jsxs("div",{children:[s.jsx(Ze,{className:"h-4 w-32 mb-2"}),s.jsx(Ze,{className:"h-3 w-48"})]})]}),s.jsxs("div",{children:[s.jsx(Ze,{className:"h-3 w-24 mb-1"}),s.jsx(Ze,{className:"h-3 w-16"})]})]})})},c)):o.length===0?s.jsx(xl,{icon:s.jsx(Cs,{className:"h-12 w-12"}),title:"No Messages Found",description:n?`No ${n} messages found for the selected time period.`:"No messages found for the selected time period."}):o.map(l=>s.jsx(Bce,{message:l},l.id))})]})},zce=({selectedBusinessComponent:e,businessComponents:t,loading:n,onBusinessComponentChange:r})=>s.jsxs(K,{className:"animate-scale-in",children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5"}),"Business Component Filter"]}),s.jsx(xe,{children:"Filter channels by business component"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(Z,{value:(e==null?void 0:e.id)||"",onValueChange:a=>{const i=t.find(o=>o.id===a)||null;r(i)},disabled:n,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a business component to filter channels"})}),s.jsx(Q,{children:t.map(a=>s.jsx(D,{value:a.id,children:a.name},a.id))})]})]})})]}),qce=()=>{gg("Messages"),vg("Track and monitor all integration messages, view processing status, and analyze message flow through your Integrix Flow Bridge system.");const[e,t]=m.useState(null),[n,r]=m.useState(null),{businessComponents:a,loading:i}=Ji(),{messages:o,stats:l,loading:c,connected:d,refreshData:u}=Mce(e==null?void 0:e.id),h=n?o.filter(p=>p.status===n):o,f=()=>{u()},x=p=>{r(n===p?null:p)},g=p=>{t(p),r(null)};return s.jsxs(Zh,{children:[s.jsx(xg,{title:"Message Monitor",description:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{children:"Track and analyze integration message flows"}),s.jsxs(de,{variant:d?"success":"destructive",className:"flex items-center gap-1",children:[d?s.jsx(YB,{className:"h-3 w-3"}):s.jsx(WB,{className:"h-3 w-3"}),d?"Live":"Disconnected"]})]}),icon:s.jsx(sn,{}),actions:s.jsxs(q,{variant:"outline",size:"sm",onClick:f,disabled:c,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})}),s.jsx(Rce,{messages:h,stats:l,isBusinessComponentSelected:!!e,onStatusFilter:x,statusFilter:n,loading:c}),s.jsx(zce,{selectedBusinessComponent:e,businessComponents:a,loading:i,onBusinessComponentChange:g}),s.jsx(Hce,{messages:h,isBusinessComponentSelected:!!e,statusFilter:n,loading:c})]})};function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function $s(e,t){const n=Ue(e);return isNaN(t)?fn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Er(e,t){const n=Ue(e);if(isNaN(t))return fn(e,NaN);if(!t)return n;const r=n.getDate(),a=fn(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const CS=6048e5,Wce=864e5,cf=43200,wT=1440;let Yce={};function Nd(){return Yce}function Qr(e,t){var l,c,d,u;const n=Nd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ue(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ol(e){return Qr(e,{weekStartsOn:1})}function n3(e){const t=Ue(e),n=t.getFullYear(),r=fn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=ol(r),i=fn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ol(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Gc(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function Jc(e){const t=Ue(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Br(e,t){const n=Gc(e),r=Gc(t),a=+n-Jc(n),i=+r-Jc(r);return Math.round((a-i)/Wce)}function Kce(e){const t=n3(e),n=fn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ol(n)}function iw(e,t){const n=t*7;return $s(e,n)}function Xce(e,t){return Er(e,t*12)}function Gce(e){let t;return e.forEach(function(n){const r=Ue(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Jce(e){let t;return e.forEach(n=>{const r=Ue(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Hf(e,t){const n=Ue(e),r=Ue(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Qce(e){return fn(e,Date.now())}function rn(e,t){const n=Gc(e),r=Gc(t);return+n==+r}function ES(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zce(e){if(!ES(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function Qc(e,t){const n=Ue(e),r=Ue(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function ede(e,t,n){const r=Qr(e,n),a=Qr(t,n),i=+r-Jc(r),o=+a-Jc(a);return Math.round((i-o)/CS)}function tde(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function sde(e,t){return+Ue(e)-+Ue(t)}function nde(e){const t=Ue(e);return t.setHours(23,59,59,999),t}function Vg(e){const t=Ue(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function rde(e){const t=Ue(e);return+nde(t)==+Vg(t)}function ade(e,t){const n=Ue(e),r=Ue(t),a=Hf(n,r),i=Math.abs(Qc(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=Hf(n,r)===-a;rde(Ue(e))&&i===1&&Hf(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function ide(e,t,n){const r=sde(e,t)/1e3;return tde(n==null?void 0:n.roundingMethod)(r)}function mn(e){const t=Ue(e);return t.setDate(1),t.setHours(0,0,0,0),t}function r3(e){const t=Ue(e),n=fn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TS(e,t){var l,c,d,u;const n=Nd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ue(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function a3(e){return TS(e,{weekStartsOn:1})}const ode={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lde=(e,t,n)=>{let r;const a=ode[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ude={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hde={date:xy({formats:cde,defaultWidth:"full"}),time:xy({formats:dde,defaultWidth:"full"}),dateTime:xy({formats:ude,defaultWidth:"full"})},mde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fde=(e,t,n,r)=>mde[e];function Bd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const pde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wde=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Nde={ordinalNumber:wde,era:Bd({values:pde,defaultWidth:"wide"}),quarter:Bd({values:xde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bd({values:gde,defaultWidth:"wide"}),day:Bd({values:vde,defaultWidth:"wide"}),dayPeriod:Bd({values:yde,defaultWidth:"wide",formattingValues:jde,defaultFormattingWidth:"wide"})};function Hd(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Sde(l,h=>h.test(o)):bde(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function bde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Sde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Cde(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ede=/^(\d+)(th|st|nd|rd)?/i,Tde=/\d+/i,Pde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ade={any:[/^b/i,/^(a|c)/i]},kde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mde={any:[/1/i,/2/i,/3/i,/4/i]},Rde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ode={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ide={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_de={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lde={ordinalNumber:Cde({matchPattern:Ede,parsePattern:Tde,valueCallback:e=>parseInt(e,10)}),era:Hd({matchPatterns:Pde,defaultMatchWidth:"wide",parsePatterns:Ade,defaultParseWidth:"any"}),quarter:Hd({matchPatterns:kde,defaultMatchWidth:"wide",parsePatterns:Mde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hd({matchPatterns:Rde,defaultMatchWidth:"wide",parsePatterns:Dde,defaultParseWidth:"any"}),day:Hd({matchPatterns:Fde,defaultMatchWidth:"wide",parsePatterns:Ode,defaultParseWidth:"any"}),dayPeriod:Hd({matchPatterns:Ide,defaultMatchWidth:"any",parsePatterns:_de,defaultParseWidth:"any"})},PS={code:"en-US",formatDistance:lde,formatLong:hde,formatRelative:fde,localize:Nde,match:Lde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $de(e){const t=Ue(e);return Br(t,r3(t))+1}function i3(e){const t=Ue(e),n=+ol(t)-+Kce(t);return Math.round(n/CS)+1}function o3(e,t){var u,h,f,x;const n=Ue(e),r=n.getFullYear(),a=Nd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(f=a.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??1,o=fn(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Qr(o,t),c=fn(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Qr(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Vde(e,t){var l,c,d,u;const n=Nd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=o3(e,t),i=fn(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Qr(i,t)}function l3(e,t){const n=Ue(e),r=+Qr(n,t)-+Vde(n,t);return Math.round(r/CS)+1}function yt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ka={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return yt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):yt(n+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return yt(a,t.length)}},Tl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NT={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ka.y(e,t)},Y:function(e,t,n,r){const a=o3(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return yt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):yt(i,t.length)},R:function(e,t){const n=n3(e);return yt(n,t.length)},u:function(e,t){const n=e.getFullYear();return yt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ka.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=l3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):yt(a,t.length)},I:function(e,t,n){const r=i3(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ka.d(e,t)},D:function(e,t,n){const r=$de(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return yt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return yt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return yt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Tl.noon:r===0?a=Tl.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Tl.evening:r>=12?a=Tl.afternoon:r>=4?a=Tl.morning:a=Tl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ka.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ka.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ka.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ka.s(e,t)},S:function(e,t){return Ka.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ST(r);case"XXXX":case"XX":return uo(r);case"XXXXX":case"XXX":default:return uo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ST(r);case"xxxx":case"xx":return uo(r);case"xxxxx":case"xxx":default:return uo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bT(r,":");case"OOOO":default:return"GMT"+uo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bT(r,":");case"zzzz":default:return"GMT"+uo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return yt(r,t.length)},T:function(e,t,n){const r=e.getTime();return yt(r,t.length)}};function bT(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+yt(i,2)}function ST(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):uo(e,t)}function uo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=yt(Math.trunc(r/60),2),i=yt(r%60,2);return n+a+t+i}const CT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},c3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ude=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return CT(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CT(r,t)).replace("{{time}}",c3(a,t))},Bde={p:c3,P:Ude},Hde=/^D+$/,zde=/^Y+$/,qde=["D","DD","YY","YYYY"];function Wde(e){return Hde.test(e)}function Yde(e){return zde.test(e)}function Kde(e,t,n){const r=Xde(e,t,n);if(console.warn(r),qde.includes(e))throw new RangeError(r)}function Xde(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qde=/^'([^]*?)'?$/,Zde=/''/g,eue=/[a-zA-Z]/;function Ra(e,t,n){var u,h,f,x,g,p,j,v;const r=Nd(),a=(n==null?void 0:n.locale)??r.locale??PS,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(f=r.locale)==null?void 0:f.options)==null?void 0:x.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(j=r.locale)==null?void 0:j.options)==null?void 0:v.weekStartsOn)??0,l=Ue(e);if(!Zce(l))throw new RangeError("Invalid time value");let c=t.match(Jde).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=Bde[w];return N(y,a.formatLong)}return y}).join("").match(Gde).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:tue(y)};if(NT[w])return{isToken:!0,value:y};if(w.match(eue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Yde(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Wde(w))&&Kde(w,t,String(e));const N=NT[w[0]];return N(l,w,a.localize,d)}).join("")}function tue(e){const t=e.match(Qde);return t?t[1].replace(Zde,"'"):e}function sue(e,t,n){const r=Nd(),a=(n==null?void 0:n.locale)??r.locale??PS,i=2520,o=Hf(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Ue(t),d=Ue(e)):(c=Ue(e),d=Ue(t));const u=ide(d,c),h=(Jc(d)-Jc(c))/1e3,f=Math.round((u-h)/60);let x;if(f<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<wT){const g=Math.round(f/60);return a.formatDistance("aboutXHours",g,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<cf){const g=Math.round(f/wT);return a.formatDistance("xDays",g,l)}else if(f<cf*2)return x=Math.round(f/cf),a.formatDistance("aboutXMonths",x,l)}if(x=ade(d,c),x<12){const g=Math.round(f/cf);return a.formatDistance("xMonths",g,l)}else{const g=x%12,p=Math.trunc(x/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function d3(e,t){return sue(e,Qce(e),t)}function nue(e){const t=Ue(e),n=t.getFullYear(),r=t.getMonth(),a=fn(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function rue(e){return Math.trunc(+Ue(e)/1e3)}function aue(e){const t=Ue(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function iue(e,t){return ede(aue(e),mn(e),t)+1}function ow(e,t){const n=Ue(e),r=Ue(t);return n.getTime()>r.getTime()}function u3(e,t){const n=Ue(e),r=Ue(t);return+n<+r}function AS(e,t){const n=Ue(e),r=Ue(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function oue(e,t){const n=Ue(e),r=Ue(t);return n.getFullYear()===r.getFullYear()}function gy(e,t){return $s(e,-t)}function vy(e,t){const n=Ue(e),r=n.getFullYear(),a=n.getDate(),i=fn(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=nue(i);return n.setMonth(t,Math.min(a,o)),n}function ET(e,t){const n=Ue(e);return isNaN(+n)?fn(e,NaN):(n.setFullYear(t),n)}const lue=({adapterId:e,adapterName:t,logs:n,loading:r=!1,onRefresh:a,onExport:i,realTimeEnabled:o=!1})=>{const[l,c]=m.useState(""),[d,u]=m.useState("all"),[h,f]=m.useState(new Set),[x,g]=m.useState([]);m.useEffect(()=>{let b=n;l&&(b=b.filter(C=>{var S,P;return C.message.toLowerCase().includes(l.toLowerCase())||((S=C.adapterName)==null?void 0:S.toLowerCase().includes(l.toLowerCase()))||((P=C.correlationId)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))})),d!=="all"&&(b=b.filter(C=>C.level===d)),g(b)},[n,l,d]);const p=b=>{switch(b){case"error":return s.jsx(Bt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(Jn,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(zs,{className:"h-4 w-4 text-info"});case"debug":return s.jsx(gB,{className:"h-4 w-4 text-muted-foreground"})}},j=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline"}},v=b=>{f(C=>{const S=new Set(C);return S.has(b)?S.delete(b):S.add(b),S})},y=b=>{const C=new Date(b);return{time:C.toLocaleTimeString(),relative:d3(C,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return n.forEach(C=>b[C.level]++),b})();return s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Channel Logs",o&&s.jsx(de,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),s.jsxs(xe,{children:["Real-time activity and execution logs for ",channelName]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[i&&s.jsxs(q,{variant:"outline",size:"sm",onClick:i,children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&s.jsxs(q,{variant:"outline",size:"sm",onClick:a,disabled:r,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s.jsx("div",{className:"flex items-center gap-4 pt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(de,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),s.jsxs(de,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),s.jsxs(de,{variant:"default",className:"text-xs",children:[N.info," Info"]}),s.jsxs(de,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),s.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search logs...",value:l,onChange:b=>c(b.target.value),className:"pl-10"})]})}),s.jsxs(Z,{value:d,onValueChange:b=>u(b),children:[s.jsxs(J,{className:"w-32",children:[s.jsx(ul,{className:"h-4 w-4 mr-2"}),s.jsx(ee,{})]}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Levels"}),s.jsx(D,{value:"error",children:"Error"}),s.jsx(D,{value:"warn",children:"Warning"}),s.jsx(D,{value:"info",children:"Info"}),s.jsx(D,{value:"debug",children:"Debug"})]})]})]})]}),s.jsx(G,{children:s.jsx(Jr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||d!=="all"?"No logs match the current filters":"No logs available"}):x.map(b=>{const C=h.has(b.id),S=y(b.timestamp);return s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[p(b.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(de,{variant:j(b.level),className:"text-xs",children:(b.level||"info").toUpperCase()}),b.adapterName&&s.jsx(de,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&s.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),s.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{children:S.time}),s.jsx("span",{children:S.relative})]})]})]}),b.details&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>v(b.id),className:"ml-2",children:C?s.jsx(Nr,{className:"h-4 w-4"}):s.jsx(kn,{className:"h-4 w-4"})})]}),C&&b.details&&s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"my-2"}),s.jsx("div",{className:"bg-muted/50 rounded p-2",children:s.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})},cue=(e,t,n=!1)=>{const[r,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(null);m.useEffect(()=>{e&&n&&d()},[e,t,n]);const d=async()=>{if(e){o(!0),c(null);try{const u=await fc.getAdapterLogs(e,t);u.success&&u.data?a(u.data):(c(u.error||"Failed to load adapter logs"),a([]))}catch(u){c(u instanceof Error?u.message:"An unexpected error occurred"),a([])}finally{o(!1)}}};return{logs:r,loading:i,error:l,refreshLogs:d,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},due=({adapter:e,onUpdate:t,onDelete:n})=>{const[r,a]=m.useState(!1),[i,o]=m.useState(!1),{logs:l,loading:c,connected:d,refreshLogs:u,exportLogs:h}=cue(e.id,{limit:50},r);m.useEffect(()=>{r&&u()},[r]);const f=g=>{switch(g){case"running":return"bg-success";case"idle":return"bg-warning";case"stopped":return"bg-destructive";default:return"bg-muted-foreground"}},x=g=>{switch(g){case"running":return"default";case"idle":return"secondary";case"stopped":return"destructive";default:return"outline"}};return s.jsx(K,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${f(e.status)}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:e.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.type," - ",e.mode]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(de,{variant:x(e.status),className:"text-xs",children:e.status})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[s.jsxs("div",{className:"flex-1 max-w-xs",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Load"}),s.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),s.jsx(Ai,{value:e.load,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-8 ml-8",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(En,{className:"h-4 w-4 text-warning"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.messagesProcessed||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"messages"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.lastActivityTime||"Never"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_N,{className:"h-4 w-4 text-success"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:"100%"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4 text-destructive"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.errorsCount||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`${e.status==="running"?"Stopping":"Starting"} adapter ${e.id}`),t&&t({status:e.status==="running"?"stopped":"running"})},children:[e.status==="running"?s.jsx(_B,{className:"h-4 w-4 mr-2"}):s.jsx(Ia,{className:"h-4 w-4 mr-2"}),e.status==="running"?"Stop":"Start"]}),s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`Opening settings for adapter ${e.id}`)},children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Settings"]}),s.jsx(tu,{open:r,onOpenChange:a,children:s.jsx(rw,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(Ea,{className:"h-4 w-4 mr-2"}),"View Logs",r?s.jsx(Nr,{className:"h-4 w-4 ml-2"}):s.jsx(kn,{className:"h-4 w-4 ml-2"})]})})}),s.jsx(tu,{open:i,onOpenChange:o,children:s.jsx(rw,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(sR,{className:"h-4 w-4 mr-2"}),"Detailed Metrics",i?s.jsx(Nr,{className:"h-4 w-4 ml-2"}):s.jsx(kn,{className:"h-4 w-4 ml-2"})]})})}),s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ad,{className:"h-4 w-4 mr-2"}),"Live"]}),d&&s.jsx(de,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),s.jsx(tu,{open:r,onOpenChange:a,children:s.jsx(aw,{className:"mt-4",children:s.jsx(lue,{adapterId:e.id,adapterName:e.name,logs:l,loading:c,onRefresh:u,onExport:h,realTimeEnabled:d})})}),s.jsx(tu,{open:i,onOpenChange:o,children:s.jsx(aw,{className:"mt-4",children:s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(re,{children:s.jsx(ie,{className:"text-lg",children:"Detailed Metrics"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fx,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.type," - ",e.mode]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:(e.messagesProcessed||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:e.errorsCount||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:e.businessComponentName||"N/A"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Component"})]}),s.jsx(de,{variant:x(e.status),children:e.status})]})]})})})]})})})]})})};function uue({selectedStatus:e,onStatusChange:t}){const n=[{value:null,label:"All"},{value:"active",label:"Active"},{value:"running",label:"Running"},{value:"stopped",label:"Stopped"},{value:"error",label:"Error"}];return s.jsxs(K,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Filter by Status"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.map(r=>s.jsx(q,{variant:e===r.value?"default":"secondary",size:"sm",onClick:()=>t(r.value),children:r.label},r.value||"all"))})]})}function hue(){const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null),{businessComponents:u,loading:h}=Ji(),{toast:f}=mt();m.useEffect(()=>{const N=async()=>{try{d(null),l(!0);const C=await fc.getAdapters(e==null?void 0:e.id);C.success&&C.data?i(C.data):(d(C.error||"Failed to fetch adapters"),f({variant:"destructive",title:"Error",description:C.error||"Failed to fetch adapters"}))}catch(C){console.error("Error fetching adapters:",C),d("Failed to load adapters"),f({variant:"destructive",title:"Error",description:"Failed to load adapters"})}finally{l(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e,f]);const x=async(N,b)=>{try{const C=await fc.updateAdapter(N,b);C.success&&C.data?(i(S=>S.map(P=>P.id===N?C.data:P)),f({title:"Success",description:"Adapter updated successfully"})):f({variant:"destructive",title:"Error",description:C.error||"Failed to update adapter"})}catch(C){console.error("Error updating adapter:",C),f({variant:"destructive",title:"Error",description:"Failed to update adapter"})}},g=async N=>{try{const b=await fc.deleteAdapter(N);b.success?(i(C=>C.filter(S=>S.id!==N)),f({title:"Success",description:"Adapter deleted successfully"})):f({variant:"destructive",title:"Error",description:b.error||"Failed to delete adapter"})}catch(b){console.error("Error deleting adapter:",b),f({variant:"destructive",title:"Error",description:"Failed to delete adapter"})}},p=a.filter(N=>!(n&&N.status!==n)),j=a.length,v=a.filter(N=>N.status==="running"||N.status==="active").length,y=a.filter(N=>N.status==="error").length,w=a.length>0?Math.round(a.reduce((N,b)=>N+(b.load||0),0)/a.length):0;return s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Adapter Monitoring"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage your communication adapters"})]}),s.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[s.jsx(E,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(Z,{value:(e==null?void 0:e.id)||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=u.find(C=>C.id===N);t(b||null)}},disabled:h,children:[s.jsx(J,{id:"business-component",className:"w-[280px]",children:s.jsx(ee,{placeholder:"Select a business component"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"all",children:"All Components"}),u.map(N=>s.jsx(D,{value:N.id,children:N.name},N.id))]})]})]}),c&&s.jsx("div",{className:"mb-6 bg-destructive/10 text-destructive p-4 rounded-lg",children:c}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs(K,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Adapters"}),s.jsx("p",{className:"text-2xl font-bold",children:j})]}),s.jsxs(K,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Adapters"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:v})]}),s.jsxs(K,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Adapters with Errors"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:y})]}),s.jsxs(K,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Load"}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Ai,{value:w,className:"h-2"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[w,"%"]})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(uue,{selectedStatus:n,onStatusChange:r})}),o?s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin"})}):p.length===0?s.jsx(K,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:n?`No adapters found with status: ${n}`:e?`No adapters found for ${e.name}`:"No adapters found"})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:p.map(N=>s.jsx(due,{adapter:N,onUpdate:b=>x(N.id,b),onDelete:()=>g(N.id)},N.id))})]})}class mue{async createFlow(t){return te.post("/flows",t)}async getFlows(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&n.append(a,i.toString())});const r=`/flows${n.toString()?`?${n.toString()}`:""}`;return te.get(r)}async getFlow(t){return te.get(`/flows/${t}`)}async updateFlow(t,n){return te.put(`/flows/${t}`,n)}async deleteFlow(t){return te.delete(`/flows/${t}`)}async testFlow(t,n){return te.post(`/flows/${t}/test`,{testData:n})}async updateFlowStatus(t,n){return te.patch(`/flows/${t}/status`,{status:n})}async getFlowExecutions(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([i,o])=>{o!==void 0&&r.append(i,o.toString())});const a=`/flows/${t}/executions${r.toString()?`?${r.toString()}`:""}`;return te.get(a)}async saveFieldMappings(t,n){return te.post(`/flows/${t}/field-mappings`,{mappings:n})}async cloneFlow(t,n){return te.post(`/flows/${t}/clone`,{name:n})}async validateFlow(t){return te.post("/flows/validate",t)}}const lw=new mue;function fue(){var p,j,v,y,w,N,b;const{flowId:e}=eb(),t=Xs(),{toast:n}=mt(),[r,a]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(null);m.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{a(!0);const C=await lw.getFlow(e);if(C.success&&C.data){o(C.data);const S={flowId:C.data.id,status:C.data.status,endpoints:[],metadata:{}};c(S)}}catch{n({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{a(!1)}},u=(C,S)=>{navigator.clipboard.writeText(C),n({title:"Copied!",description:`${S} copied to clipboard`})},h=()=>{var C;(C=l==null?void 0:l.metadata)!=null&&C.wsdlUrl&&window.open(l.metadata.wsdlUrl,"_blank")};if(r)return s.jsx("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin"})})});if(!i||!l)return s.jsx("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:s.jsx(K,{children:s.jsxs(G,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),s.jsx(q,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const f=((p=l.metadata)==null?void 0:p.adapterType)||"Unknown",x=["HTTP","REST","SOAP"].includes(f),g=f==="SOAP";return s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:i.name}),s.jsxs(de,{variant:"success",className:"text-lg px-4 py-2",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),s.jsx("p",{className:"text-gray-600",children:i.description})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Deployment Information"}),s.jsx(xe,{children:"Details about the deployed interface"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Deployed At"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:new Date(l.deployedAt).toLocaleString()})]})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Deployed By"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:l.deployedBy||"System"})]})]})]}),s.jsx(xt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),s.jsx(de,{variant:"outline",children:f})]})]})]}),x&&s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Endpoint Information"}),s.jsx(xe,{children:"Connection details for external systems"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"endpoint",children:"API Endpoint"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{id:"endpoint",value:l.endpoint,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>u(l.endpoint,"Endpoint"),children:s.jsx(Uu,{className:"h-4 w-4"})})]})]}),g&&((j=l.metadata)==null?void 0:j.wsdlUrl)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"wsdl",children:"WSDL URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{id:"wsdl",value:l.metadata.wsdlUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>u(l.metadata.wsdlUrl,"WSDL URL"),children:s.jsx(Uu,{className:"h-4 w-4"})}),s.jsx(q,{size:"icon",variant:"outline",onClick:h,children:s.jsx(Ii,{className:"h-4 w-4"})})]})]}),f==="REST"&&((v=l.metadata)==null?void 0:v.apiDocsUrl)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"apidocs",children:"API Documentation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{id:"apidocs",value:l.metadata.apiDocsUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>window.open(l.metadata.apiDocsUrl,"_blank"),children:s.jsx(xa,{className:"h-4 w-4"})})]})]}),((y=l.metadata)==null?void 0:y.httpMethods)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Supported Methods"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.httpMethods})]}),((w=l.metadata)==null?void 0:w.contentType)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Content Types"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(f)&&s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"File Configuration"}),s.jsx(xe,{children:"File handling settings for this interface"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Polling"}),s.jsx("p",{className:"mt-1",children:(N=l.metadata)!=null&&N.pollingEnabled?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"File Pattern"}),s.jsx("p",{className:"mt-1 font-mono text-sm",children:((b=l.metadata)==null?void 0:b.filePattern)||"*.*"})]})]})})]}),s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Integration Details"}),s.jsx(xe,{children:"Configuration and mapping information"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),s.jsx(de,{variant:i.mappingMode==="PASS_THROUGH"?"outline":"default",children:i.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),s.jsxs("div",{children:[s.jsx(E,{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(de,{variant:"success",children:i.status})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>t("/interfaces"),children:"Back to Interfaces"}),s.jsxs(q,{variant:"outline",onClick:()=>t(`/flows/${e}/edit`),children:[s.jsx(Zs,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})}const pue=({users:e,roles:t,certificates:n,jarFiles:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[s.jsxs(K,{className:"hover-scale",children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(qs,{className:"h-4 w-4"}),"Total Users"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),s.jsxs(K,{className:"hover-scale",children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Roles"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),s.jsxs(K,{className:"hover-scale",children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wo,{className:"h-4 w-4"}),"Certificates"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),s.jsxs(K,{className:"hover-scale",children:[s.jsx(re,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Connection Drivers"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]});class xue{async getAllUsers(t=0,n=50){return te.get(`/users?page=${t}&limit=${n}`)}async getUserById(t){return te.get(`/users/${t}`)}async createUser(t){const n={...t,password:t.password||this.generateDefaultPassword()};return te.post("/auth/register",n)}async updateUser(t,n){return te.put(`/users/${t}`,n)}async deleteUser(t){return te.delete(`/users/${t}`)}async updateUserStatus(t,n){return te.patch(`/users/${t}/status`,{status:n})}async resetUserPassword(t){return te.post(`/users/${t}/reset-password`)}async assignRole(t,n,r={}){return te.patch(`/users/${t}/role`,{role:n,permissions:r})}async getUserPermissions(t){return te.get(`/users/${t}/permissions`)}async updateUserPermissions(t,n){return te.patch(`/users/${t}/permissions`,{permissions:n})}async searchUsers(t,n){const r=new URLSearchParams({q:t,...(n==null?void 0:n.role)&&{role:n.role},...(n==null?void 0:n.status)&&{status:n.status},page:((n==null?void 0:n.page)||1).toString(),limit:((n==null?void 0:n.limit)||50).toString()});return te.get(`/users/search?${r}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let n="";for(let r=0;r<12;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const Wl=new xue,gue=({open:e,onOpenChange:t,onUserCreated:n})=>{const[r,a]=m.useState(!1),[i,o]=m.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=mt(),c=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",i);const h=await Wl.createUser(i);h.success?(l({title:"User Created Successfully",description:`User ${i.username} has been created with role ${i.role}.`}),o({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),n==null||n()):l({title:"Error Creating User",description:h.error||"An error occurred while creating the user.",variant:"destructive"})}catch(h){console.error("User creation error:",h),l({title:"Error Creating User",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},d=u=>h=>{o(f=>({...f,[u]:h}))};return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"sm:max-w-[425px]",children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Create New User"}),s.jsx(Cr,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(U,{id:"firstName",value:i.firstName,onChange:u=>d("firstName")(u.target.value),placeholder:"John",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(U,{id:"lastName",value:i.lastName,onChange:u=>d("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:r})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"username",children:"Username"}),s.jsx(U,{id:"username",value:i.username,onChange:u=>d("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(U,{id:"email",type:"email",value:i.email,onChange:u=>d("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"password",children:"Temporary Password"}),s.jsx(U,{id:"password",type:"password",value:i.password,onChange:u=>d("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"role",children:"Role"}),s.jsxs(Z,{value:i.role,onValueChange:d("role"),disabled:r,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a role"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"administrator",children:"Administrator"}),s.jsx(D,{value:"integrator",children:"Integrator"}),s.jsx(D,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"status",children:"Status"}),s.jsxs(Z,{value:i.status,onValueChange:d("status"),disabled:r,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select status"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"active",children:"Active"}),s.jsx(D,{value:"inactive",children:"Inactive"}),s.jsx(D,{value:"pending",children:"Pending"})]})]})]}),s.jsxs(ka,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),s.jsxs(q,{type:"submit",disabled:r,children:[r&&s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},vue=[{key:"flows",label:"Flows",icon:Ht,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:HC,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:Cs,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:qs,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:Hn,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:sn,permissions:["read"]},{key:"channels",label:"Channels",icon:HC,permissions:["read"]},{key:"certificates",label:"Certificates",icon:Hn,permissions:["create","read","update","delete"]}],yue=({open:e,onOpenChange:t,user:n,onUserUpdated:r})=>{const[a,i]=m.useState(!1),[o,l]=m.useState({}),[c,d]=m.useState({}),[u,h]=m.useState(!1),{toast:f}=mt();m.useEffect(()=>{if(n)if(l({email:n.email,firstName:n.first_name,lastName:n.last_name,role:n.role,status:n.status}),n.permissions&&Object.keys(n.permissions).length>0)d(n.permissions),h(!0);else{const v=Wl.getRolePermissions(n.role);d(v),h(!1)}},[n]);const x=async v=>{if(v.preventDefault(),!!n){i(!0);try{const y={...o,permissions:u?c:void 0};console.log("Updating user with data:",y);const w=await Wl.updateUser(n.id,y);w.success?(f({title:"User Updated Successfully",description:`User ${n.username} has been updated.`}),t(!1),r==null||r()):f({title:"Error Updating User",description:w.error||"An error occurred while updating the user.",variant:"destructive"})}catch(y){console.error("User update error:",y),f({title:"Error Updating User",description:y.message||"An unexpected error occurred.",variant:"destructive"})}finally{i(!1)}}},g=v=>y=>{if(l(w=>({...w,[v]:y})),v==="role"){const w=Wl.getRolePermissions(y);u||d(w)}},p=(v,y)=>{d(w=>{const N=w[v]||[],b=N.includes(y);return{...w,[v]:b?N.filter(C=>C!==y):[...N,y]}})},j=()=>{if(o.role){const v=Wl.getRolePermissions(o.role);d(v),h(!1)}};return n?s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(Lt,{children:[s.jsxs($t,{children:["Edit User: ",n.username]}),s.jsx(Cr,{children:"Update user information and customize their permissions."})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(U,{id:"firstName",value:o.firstName||"",onChange:v=>g("firstName")(v.target.value),disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(U,{id:"lastName",value:o.lastName||"",onChange:v=>g("lastName")(v.target.value),disabled:a})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(U,{id:"email",type:"email",value:o.email||"",onChange:v=>g("email")(v.target.value),disabled:a})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"role",children:"Role"}),s.jsxs(Z,{value:o.role||"",onValueChange:g("role"),disabled:a,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select a role"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"administrator",children:"Administrator"}),s.jsx(D,{value:"integrator",children:"Integrator"}),s.jsx(D,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"status",children:"Status"}),s.jsxs(Z,{value:o.status||"",onValueChange:g("status"),disabled:a,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select status"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"active",children:"Active"}),s.jsx(D,{value:"inactive",children:"Inactive"}),s.jsx(D,{value:"pending",children:"Pending"})]})]})]})]})]}),s.jsx(xt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"useCustomPermissions",checked:u,onCheckedChange:v=>h(v===!0),disabled:a}),s.jsx(E,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&s.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:j,disabled:a,children:"Reset to Role Defaults"})]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(xe,{children:u?"Customize individual permissions for this user":`Using default permissions for ${o.role||"selected"} role`})}),s.jsx(G,{children:s.jsx("div",{className:"grid gap-4",children:vue.map(v=>{const y=c[v.key]||[],w=v.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(E,{className:"font-medium",children:v.label})]}),s.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:v.permissions.map(N=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:`${v.key}-${N}`,checked:y.includes(N),onCheckedChange:()=>p(v.key,N),disabled:a||!u}),s.jsx(E,{htmlFor:`${v.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},v.key)})})})]})]}),s.jsxs(ka,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsxs(q,{type:"submit",disabled:a,children:[a&&s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},jue=({users:e,isLoading:t=!1,onRefresh:n})=>{const[r,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(null),d=h=>{switch(h){case"administrator":return s.jsx(FN,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(Ht,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(cR,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(qs,{className:"h-4 w-4"})}},u=h=>{switch(h){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"User Management"}),s.jsx(xe,{children:"Manage system users and their access levels"})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsxs(q,{variant:"outline",onClick:n,disabled:t,children:[s.jsx(wt,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),s.jsxs(q,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),s.jsx(G,{children:t?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((h,f)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ze,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Ze,{className:"h-4 w-[200px]"}),s.jsx(Ze,{className:"h-4 w-[150px]"})]}),s.jsx(Ze,{className:"h-8 w-20"}),s.jsx(Ze,{className:"h-8 w-8"})]},f))}):e.length===0?s.jsx(xl,{icon:s.jsx(qs,{className:"h-12 w-12"}),title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Qn,{className:"w-full",children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Username"}),s.jsx(Ce,{children:"Email"}),s.jsx(Ce,{children:"Role"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Last Login"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:e.map(h=>s.jsxs(Kt,{children:[s.jsx(Ee,{className:"font-medium",children:h.username}),s.jsx(Ee,{children:h.email}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(h.role),s.jsx("span",{className:"capitalize",children:h.role})]})}),s.jsx(Ee,{children:s.jsx(de,{variant:u(h.status),children:h.status})}),s.jsx(Ee,{className:"text-muted-foreground",children:h.last_login_at||"Never"}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{c(h),o(!0)},children:s.jsx(Ta,{className:"h-4 w-4"})}),s.jsx(q,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(tr,{className:"h-4 w-4"})})]})})]},h.id))})]})})}),s.jsx(gue,{open:r,onOpenChange:a,onUserCreated:()=>{a(!1),n==null||n()}}),s.jsx(yue,{open:i,onOpenChange:o,user:l,onUserUpdated:()=>{o(!1),c(null),n==null||n()}})]})},wue=({roles:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"administrator":return s.jsx(FN,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(Ht,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(cR,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(qs,{className:"h-4 w-4"})}};return s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Role Management"}),s.jsx(xe,{children:"Define and manage user roles and permissions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(q,{className:"bg-gradient-primary",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})]})}),s.jsx(G,{children:s.jsx("div",{className:"grid gap-4",children:t?Array.from({length:3}).map((a,i)=>s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ze,{className:"h-4 w-4 rounded-full"}),s.jsxs("div",{children:[s.jsx(Ze,{className:"h-5 w-32 mb-2"}),s.jsx(Ze,{className:"h-4 w-48"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-6 w-16"}),s.jsx(Ze,{className:"h-8 w-8"})]})]})}),s.jsx(G,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:4}).map((o,l)=>s.jsx(Ze,{className:"h-6 w-20"},l))})})]},i)):e.length===0?s.jsx(xl,{icon:s.jsx(Hn,{className:"h-12 w-12"}),title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(a=>s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r(a.name),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg capitalize",children:a.name}),s.jsx(xe,{children:a.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(de,{variant:"outline",children:[a.userCount," users"]}),s.jsx(q,{variant:"outline",size:"sm",children:s.jsx(Ta,{className:"h-4 w-4"})})]})]})}),s.jsx(G,{children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.permissions.map(i=>s.jsx(de,{variant:"secondary",className:"text-xs",children:i.replace("_"," ")},i))})]})})]},a.id))})})]})},Nue=({certificates:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Certificate Management"}),s.jsx(xe,{children:"Manage SSL certificates and authentication keys"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(q,{className:"bg-gradient-primary",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})]})}),s.jsx(G,{children:t?s.jsx("div",{className:"rounded-md border",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Type"}),s.jsx(Ce,{children:"Issuer"}),s.jsx(Ce,{children:"Valid Period"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Usage"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:Array.from({length:3}).map((a,i)=>s.jsxs(Kt,{children:[s.jsx(Ee,{children:s.jsx(Ze,{className:"h-4 w-32"})}),s.jsx(Ee,{children:s.jsx(Ze,{className:"h-4 w-24"})}),s.jsx(Ee,{children:s.jsx(Ze,{className:"h-4 w-28"})}),s.jsx(Ee,{children:s.jsx(Ze,{className:"h-4 w-40"})}),s.jsx(Ee,{children:s.jsx(Ze,{className:"h-6 w-16"})}),s.jsx(Ee,{children:s.jsx(Ze,{className:"h-4 w-36"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ze,{className:"h-8 w-8"}),s.jsx(Ze,{className:"h-8 w-8"})]})})]},i))})]})}):e.length===0?s.jsx(xl,{icon:s.jsx(Wo,{className:"h-12 w-12"}),title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Type"}),s.jsx(Ce,{children:"Issuer"}),s.jsx(Ce,{children:"Valid Period"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Usage"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:e.map(a=>s.jsxs(Kt,{children:[s.jsx(Ee,{className:"font-medium",children:a.name}),s.jsx(Ee,{children:a.type}),s.jsx(Ee,{children:a.issuer}),s.jsxs(Ee,{className:"text-sm",children:[a.validFrom," to ",a.validTo]}),s.jsx(Ee,{children:s.jsx(de,{variant:r(a.status),children:a.status})}),s.jsx(Ee,{className:"text-muted-foreground text-sm",children:a.usage}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(Ta,{className:"h-4 w-4"})}),s.jsx(q,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(tr,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})},bue=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=m.useState(null),[i,o]=m.useState(!1),[l,c]=m.useState({databaseType:"",name:"",version:""}),{toast:d}=mt(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],h=g=>{var j;const p=(j=g.target.files)==null?void 0:j[0];if(p){if(!p.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(p);const v=p.name.replace(".jar","");c(y=>({...y,name:v,version:y.version||"1.0.0"}))}},f=async()=>{var g,p;if(!r||!l.databaseType){d({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}o(!0);try{await new Promise(v=>setTimeout(v,2e3));const j={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${(g=u.find(v=>v.value===l.databaseType))==null?void 0:g.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(j),a(null),c({databaseType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JDBC driver for ${(p=u.find(v=>v.value===l.databaseType))==null?void 0:p.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{o(!1)}},x=()=>{a(null),c({databaseType:"",name:"",version:""})};return s.jsx(_t,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(kt,{className:"sm:max-w-[425px]",children:[s.jsx(Lt,{children:s.jsx($t,{children:"Add JDBC Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"database-type",children:"Database Type *"}),s.jsxs(Z,{value:l.databaseType,onValueChange:g=>c(p=>({...p,databaseType:g})),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select database type"})}),s.jsx(Q,{children:u.map(g=>s.jsx(D,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{id:"jdbc-file",type:"file",accept:".jar",onChange:h,className:"cursor-pointer"}),s.jsx(q,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(U,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(p=>({...p,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-version",children:"Version"}),s.jsx(U,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(p=>({...p,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(q,{onClick:f,disabled:i||!r||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(Ox,{className:"h-4 w-4 mr-2"}),i?"Uploading...":"Upload Driver"]})]})]})})},Sue=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=m.useState(null),[i,o]=m.useState(!1),[l,c]=m.useState({brokerType:"",name:"",version:""}),{toast:d}=mt(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],h=g=>{var j;const p=(j=g.target.files)==null?void 0:j[0];if(p){if(!p.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(p);const v=p.name.replace(".jar","");c(y=>({...y,name:v,version:y.version||"1.0.0"}))}},f=async()=>{var g,p;if(!r||!l.brokerType){d({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}o(!0);try{await new Promise(v=>setTimeout(v,2e3));const j={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${(g=u.find(v=>v.value===l.brokerType))==null?void 0:g.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(j),a(null),c({brokerType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JMS driver for ${(p=u.find(v=>v.value===l.brokerType))==null?void 0:p.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{o(!1)}},x=()=>{a(null),c({brokerType:"",name:"",version:""})};return s.jsx(_t,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(kt,{className:"sm:max-w-[425px]",children:[s.jsx(Lt,{children:s.jsx($t,{children:"Add JMS Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"broker-type",children:"Message Broker Type *"}),s.jsxs(Z,{value:l.brokerType,onValueChange:g=>c(p=>({...p,brokerType:g})),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select broker type"})}),s.jsx(Q,{children:u.map(g=>s.jsx(D,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"jms-file",children:"JMS Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(U,{id:"jms-file",type:"file",accept:".jar",onChange:h,className:"cursor-pointer"}),s.jsx(q,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(U,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(p=>({...p,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"driver-version",children:"Version"}),s.jsx(U,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(p=>({...p,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(q,{onClick:f,disabled:i||!r||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(Ox,{className:"h-4 w-4 mr-2"}),i?"Uploading...":"Upload Driver"]})]})]})})},Cue=({jarFiles:e,isLoading:t=!1,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>{const[i,o]=m.useState(!1),[l,c]=m.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs(K,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>o(!0),children:[s.jsxs(re,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Cs,{className:"h-8 w-8 text-info dark:text-info"})}),s.jsx(ie,{className:"text-xl",children:"JDBC Driver"}),s.jsx(xe,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),s.jsx(G,{className:"text-center pt-0",children:s.jsx(q,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),s.jsxs(K,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>c(!0),children:[s.jsxs(re,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(sn,{className:"h-8 w-8 text-success dark:text-success"})}),s.jsx(ie,{className:"text-xl",children:"JMS Driver"}),s.jsx(xe,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),s.jsx(G,{className:"text-center pt-0",children:s.jsx(q,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]}),n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(wt,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})]}),t?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((d,u)=>s.jsxs(K,{children:[s.jsxs(re,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5 rounded"}),s.jsx(Ze,{className:"h-5 w-32"})]}),s.jsx(Ze,{className:"h-4 w-48 mt-1"})]}),s.jsxs(G,{className:"pt-0",children:[s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((h,f)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Ze,{className:"h-4 w-16"}),s.jsx(Ze,{className:"h-4 w-20"})]},f))}),s.jsx(Ze,{className:"h-8 w-full mt-3"})]})]},u))}):e.length===0?s.jsx(xl,{icon:s.jsx(Bu,{className:"h-12 w-12"}),title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>s.jsxs(K,{children:[s.jsxs(re,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d.driver_type==="JDBC"?s.jsx(Cs,{className:"h-5 w-5 text-info"}):s.jsx(sn,{className:"h-5 w-5 text-success"}),s.jsx(ie,{className:"text-base",children:d.name})]}),s.jsx(xe,{className:"text-xs",children:d.file_name})]}),s.jsxs(G,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Version:"}),s.jsx("span",{children:d.version})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:d.driver_type})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Size:"}),s.jsx("span",{children:d.size_bytes?`${Math.round(d.size_bytes/1024)} KB`:"N/A"})]})]}),s.jsx(q,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>a(d.id),children:"Remove"})]})]},d.id))})]}),s.jsx(bue,{open:i,onOpenChange:o,onDriverAdded:r}),s.jsx(Sue,{open:l,onOpenChange:c,onDriverAdded:r})]})},Eue=({jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>s.jsx(Cue,{jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a}),kS=(e={})=>{const[t,n]=m.useState([]),[r,a]=m.useState({adapters:[],channels:[],flows:[]}),[i,o]=m.useState(!1),[l,c]=m.useState(),d=async()=>{var f;try{const x=await jo.getAdapters();a({adapters:x.success?((f=x.data)==null?void 0:f.adapters)||[]:[],channels:[],flows:[]})}catch(x){console.error("Failed to fetch sources:",x)}},u=async()=>{o(!0),c(void 0);try{const f=new URLSearchParams;e.source&&f.append("source",e.source),e.sourceId&&f.append("sourceId",e.sourceId),e.sourceName&&f.append("sourceName",e.sourceName),e.level&&f.append("level",e.level),e.search&&f.append("search",e.search),e.startDate&&f.append("startDate",e.startDate),e.endDate&&f.append("endDate",e.endDate),e.domainType&&f.append("domainType",e.domainType),e.domainReferenceId&&f.append("domainReferenceId",e.domainReferenceId);const x=`/logs/system${f.toString()?`?${f.toString()}`:""}`,g=await te.get(x);if(g.success&&g.data)n(g.data);else{const p=await If.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});n(p)}}catch{try{const x=await If.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});n(x)}catch(x){c(x instanceof Error?x.message:"Failed to fetch logs"),n([])}}finally{o(!1)}},h=()=>{u()};return m.useEffect(()=>{d()},[]),m.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),m.useEffect(()=>{if(e.autoRefresh){const f=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(f)}},[e.autoRefresh,e.refreshInterval]),m.useEffect(()=>If.onLogUpdate(()=>{u()}),[]),{logs:t,sources:r,loading:i,error:l,refetch:h}},Pl=e=>{const[t,n]=m.useState([]),[r,a]=m.useState(!1),[i,o]=m.useState(),{logs:l,loading:c,error:d}=kS({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),o(void 0);try{const f=new URLSearchParams;f.append("domainType",e.domainType),f.append("level","error"),e.referenceId&&f.append("domainReferenceId",e.referenceId);const x=`/logs/system?${f.toString()}`,g=await te.get(x);g.success&&g.data?n(g.data):(n([]),console.log(`No domain errors found for ${e.domainType}`))}catch(f){n([]),o(`Failed to fetch domain errors for ${e.domainType}`),console.error(`Failed to fetch domain errors for ${e.domainType}:`,f)}finally{a(!1)}},h=()=>{u()};return m.useEffect(()=>{u()},[e.domainType,e.referenceId]),m.useEffect(()=>{if(e.autoRefresh){const f=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(f)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t||[],systemLogs:e.includeSystemLogs?l||[]:[],loading:r||(e.includeSystemLogs?c:!1),error:i||(e.includeSystemLogs?d:void 0),refetch:h}},Tue=({logs:e,loading:t,error:n,selectedSource:r})=>{const[a,i]=m.useState(new Set),o=Array.isArray(e)?e:[],l=f=>{const x=new Set(a);x.has(f)?x.delete(f):x.add(f),i(x)},c=f=>{switch(f){case"error":return s.jsx(Bt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(Jn,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(zs,{className:"h-4 w-4 text-success"});default:return s.jsx(qC,{className:"h-4 w-4 text-muted-foreground"})}},d=f=>{switch(f){case"error":return s.jsx(de,{variant:"destructive",children:"Error"});case"warn":return s.jsx(de,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return s.jsx(de,{variant:"outline",children:"Info"});case"debug":return s.jsx(de,{variant:"secondary",children:"Debug"});default:return s.jsx(de,{variant:"outline",children:f})}},u=(f,x)=>{const g=x||f;switch(f){case"adapter":return s.jsx(de,{variant:"default",children:g});case"channel":return s.jsx(de,{variant:"secondary",children:g});case"system":return s.jsx(de,{variant:"outline",children:"System"});case"flow":return s.jsxs(de,{variant:"default",children:["Flow: ",g]});case"api":return s.jsx(de,{variant:"destructive",children:"API"});default:return s.jsx(de,{variant:"outline",children:g})}},h=f=>new Date(f).toLocaleString();return t?s.jsx(K,{className:"bg-secondary border-border/50",children:s.jsx(G,{className:"p-8 text-center",children:s.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):n?s.jsx(K,{className:"bg-secondary border-border/50",children:s.jsx(G,{className:"p-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",n]})})}):e.length===0?s.jsx(K,{className:"bg-secondary border-border/50",children:s.jsx(G,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:r?"No logs found for the selected filters":"No system logs available"})})}):s.jsxs(K,{className:"bg-secondary border-border/50",children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(qC,{className:"h-5 w-5"}),"System Logs (",o.length,")"]})}),s.jsx(G,{children:s.jsx(Jr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:o.map(f=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c(f.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(f.level),u(f.source,f.sourceName),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Ds,{className:"h-3 w-3"}),h(f.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:f.message}),f.details&&s.jsxs("div",{className:"mt-2",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>l(f.id),className:"text-xs",children:a.has(f.id)?"Hide Details":"Show Details"}),a.has(f.id)&&s.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof f.details=="string"?f.details:JSON.stringify(f.details,null,2)})})]})]})]})}),f!==e[e.length-1]&&s.jsx(xt,{className:"mt-3"})]},f.id))})})})]})},TT={success:"text-success",error:"text-destructive",warning:"text-warning",info:"text-info",active:"text-primary",inactive:"text-muted-foreground",pending:"text-warning",processing:"text-info",debug:"text-muted-foreground",warn:"text-warning",critical:"text-destructive",default:"text-foreground",muted:"text-muted-foreground"},su=e=>TT[e]||TT.default,Pue=e=>su({success:"success",completed:"success",active:"success",acknowledged:"success",error:"error",failed:"error",rejected:"error",warning:"warning",pending:"pending",expired:"warning",processing:"processing",running:"processing",requeued:"processing",info:"info",paused:"info",stopped:"muted",inactive:"muted",default:"default"}[e.toLowerCase()]||"default"),Al=({domainType:e,domainErrors:t,systemLogs:n,loading:r,error:a,referenceId:i,referenceName:o})=>{const[l,c]=m.useState(new Set),[d,u]=m.useState(new Set),h=y=>{const w=new Set(l);w.has(y)?w.delete(y):w.add(y),c(w)},f=y=>{const w=new Set(d);w.has(y)?w.delete(y):w.add(y),u(w)},x=y=>{const N={UserManagement:Li,FlowEngine:Mh,AdapterManagement:Yo,DataStructures:Cs,ChannelManagement:Ht,MessageProcessing:sn}[y];return s.jsx(N,{className:"h-4 w-4"})},g=y=>{const w={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(w).find(C=>y.includes(C))||"default",b=w[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return s.jsx(de,{variant:"secondary",className:b,children:y})},p=y=>{const w=y.toLowerCase(),N=su(w==="error"?"error":w==="warn"?"warning":w==="info"?"info":"debug");switch(w){case"error":return s.jsx(Hs,{className:`h-4 w-4 ${N}`});case"warn":return s.jsx(Jn,{className:`h-4 w-4 ${N}`});case"info":return s.jsx(zs,{className:`h-4 w-4 ${N}`});case"debug":return s.jsx(Ht,{className:`h-4 w-4 ${N}`});default:return s.jsx(zs,{className:`h-4 w-4 ${N}`})}},j=y=>new Date(y).toLocaleString(),v=y=>{try{const w=JSON.parse(y);return JSON.stringify(w,null,2)}catch{return y}};return r?s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?s.jsxs(tt,{variant:"destructive",children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx(st,{children:a})]}):s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[x(e),e," Logs",o&&s.jsx(de,{variant:"outline",children:o})]})}),s.jsx(G,{children:s.jsxs(lt,{defaultValue:"errors",className:"w-full",children:[s.jsxs(nt,{className:"grid w-full grid-cols-2",children:[s.jsxs(me,{value:"errors",children:["User-Friendly Errors (",(t==null?void 0:t.length)||0,")"]}),s.jsxs(me,{value:"system",children:["System Logs (",(n==null?void 0:n.length)||0,")"]})]}),s.jsx(ue,{value:"errors",children:s.jsx(Jr,{className:"h-[600px] w-full",children:!t||t.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):s.jsx("div",{className:"space-y-4",children:t.map(y=>s.jsx(K,{className:"border-l-4 border-l-red-500",children:s.jsx(G,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(y.action),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(Ds,{className:"h-3 w-3 inline mr-1"}),j(y.createdAt)]})]}),y.description&&s.jsx("p",{className:"text-sm font-medium",children:y.description}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>h(y.id),className:"h-6 px-2",children:[l.has(y.id)?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(kn,{className:"h-3 w-3"}),"Show Details"]})}),l.has(y.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:v(y.payload)})]}),y.systemLogId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),s.jsx(de,{variant:"outline",className:"text-xs",children:y.systemLogId})]})]})]})})})},y.id))})})}),s.jsx(ue,{value:"system",children:s.jsx(Jr,{className:"h-[600px] w-full",children:!n||n.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):s.jsx("div",{className:"space-y-4",children:n.map(y=>s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[p(y.level),s.jsx(de,{variant:y.level==="error"?"destructive":"secondary",children:(y.level||"info").toUpperCase()}),y.source&&s.jsx(de,{variant:"outline",children:y.source}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(Ds,{className:"h-3 w-3 inline mr-1"}),j(y.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium",children:y.message}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>f(y.id),className:"h-6 px-2",children:[d.has(y.id)?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(kn,{className:"h-3 w-3"}),"Show Details"]})}),d.has(y.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[y.details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof y.details=="string"?y.details:JSON.stringify(y.details,null,2)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[y.sourceName&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source Name:"}),s.jsx("p",{className:"text-muted-foreground",children:y.sourceName})]}),y.sourceId&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source ID:"}),s.jsx("p",{className:"text-muted-foreground",children:y.sourceId})]})]})]})]})})})},y.id))})})})]})})]})};var $e=function(){return $e=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$e.apply(this,arguments)};function Aue(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function h3(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function um(e){return e.mode==="multiple"}function hm(e){return e.mode==="range"}function Ug(e){return e.mode==="single"}var kue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Mue(e,t){return Ra(e,"LLLL y",t)}function Rue(e,t){return Ra(e,"d",t)}function Due(e,t){return Ra(e,"LLLL",t)}function Fue(e){return"".concat(e)}function Oue(e,t){return Ra(e,"cccccc",t)}function Iue(e,t){return Ra(e,"yyyy",t)}var _ue=Object.freeze({__proto__:null,formatCaption:Mue,formatDay:Rue,formatMonthCaption:Due,formatWeekNumber:Fue,formatWeekdayName:Oue,formatYearCaption:Iue}),Lue=function(e,t,n){return Ra(e,"do MMMM (EEEE)",n)},$ue=function(){return"Month: "},Vue=function(){return"Go to next month"},Uue=function(){return"Go to previous month"},Bue=function(e,t){return Ra(e,"cccc",t)},Hue=function(e){return"Week n. ".concat(e)},zue=function(){return"Year: "},que=Object.freeze({__proto__:null,labelDay:Lue,labelMonthDropdown:$ue,labelNext:Vue,labelPrevious:Uue,labelWeekNumber:Hue,labelWeekday:Bue,labelYearDropdown:zue});function Wue(){var e="buttons",t=kue,n=PS,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:_ue,labels:que,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Yue(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=mn(r):t&&(i=new Date(t,0,1)),a?o=Vg(a):n&&(o=new Date(n,11,31)),{fromDate:i?Gc(i):void 0,toDate:o?Gc(o):void 0}}var m3=m.createContext(void 0);function Kue(e){var t,n=e.initialProps,r=Wue(),a=Yue(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Ug(n)||um(n)||hm(n))&&(c=n.onSelect);var d=$e($e($e({},r),n),{captionLayout:l,classNames:$e($e({},r.classNames),n.classNames),components:$e({},n.components),formatters:$e($e({},r.formatters),n.formatters),fromDate:i,labels:$e($e({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:$e($e({},r.modifiers),n.modifiers),modifiersClassNames:$e($e({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:$e($e({},r.styles),n.styles),toDate:o});return s.jsx(m3.Provider,{value:d,children:e.children})}function Mt(){var e=m.useContext(m3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function f3(e){var t=Mt(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function Xue(e){return s.jsx("svg",$e({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function p3(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Mt(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:Xue;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Gue(e){var t,n=Mt(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(oue(r,a))for(var f=mn(r),x=r.getMonth();x<=a.getMonth();x++)h.push(vy(f,x));else for(var f=mn(new Date),x=0;x<=11;x++)h.push(vy(f,x));var g=function(j){var v=Number(j.target.value),y=vy(mn(e.displayMonth),v);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:p3;return s.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(j){return s.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function Jue(e){var t,n=e.displayMonth,r=Mt(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var x=a.getFullYear(),g=i.getFullYear(),p=x;p<=g;p++)f.push(ET(r3(new Date),p));var j=function(y){var w=ET(mn(n),Number(y.target.value));e.onChange(w)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:p3;return s.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:j,value:n.getFullYear(),caption:u(n,{locale:o}),children:f.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function Que(e,t){var n=m.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function Zue(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Qc(i,a)<0){var d=-1*(c-1);a=Er(i,d)}return o&&Qc(a,o)<0&&(a=o),mn(a)}function ehe(){var e=Mt(),t=Zue(e),n=Que(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=mn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function the(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=mn(e),i=mn(Er(a,r)),o=Qc(i,a),l=[],c=0;c<o;c++){var d=Er(a,c);l.push(d)}return n&&(l=l.reverse()),l}function she(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=mn(e);if(!n)return Er(l,o);var c=Qc(n,e);if(!(c<i))return Er(l,o)}}function nhe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=mn(e);if(!n)return Er(l,-o);var c=Qc(l,n);if(!(c<=0))return Er(l,-o)}}var x3=m.createContext(void 0);function rhe(e){var t=Mt(),n=ehe(),r=n[0],a=n[1],i=the(r,t),o=she(r,t),l=nhe(r,t),c=function(h){return i.some(function(f){return AS(h,f)})},d=function(h,f){c(h)||(f&&u3(h,f)?a(Er(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(x3.Provider,{value:u,children:e.children})}function mm(){var e=m.useContext(x3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function PT(e){var t,n=Mt(),r=n.classNames,a=n.styles,i=n.components,o=mm().goToMonth,l=function(u){o(Er(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:f3,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(Gue,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Jue,{onChange:l,displayMonth:e.displayMonth})]})}function ahe(e){return s.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ihe(e){return s.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rx=m.forwardRef(function(e,t){var n=Mt(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=$e($e({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",$e({},e,{ref:t,type:"button",className:o,style:l}))});function ohe(e){var t,n,r=Mt(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=d(e.previousMonth,{locale:i}),x=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),j=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:ihe,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:ahe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(rx,{name:"previous-month","aria-label":f,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(rx,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function AT(e){var t=Mt().numberOfMonths,n=mm(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(g){return AS(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){r&&i(r)},x=function(){a&&i(a)};return s.jsx(ohe,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:x})}function lhe(e){var t,n=Mt(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:f3,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(PT,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(PT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(AT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(AT,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:d})}function che(e){var t=Mt(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function dhe(e,t,n){for(var r=n?ol(new Date):Qr(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=$s(r,i);a.push(o)}return a}function uhe(){var e=Mt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=dhe(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function hhe(){var e,t=Mt(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:uhe;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function mhe(e){var t=Mt(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var MS=m.createContext(void 0);function fhe(e){if(!um(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(MS.Provider,{value:t,children:e.children})}return s.jsx(phe,{initialProps:e.initialProps,children:e.children})}function phe(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(d,u,h){var f,x;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var g=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var p=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var j=r?h3([],r):[];if(u.selected){var v=j.findIndex(function(y){return rn(d,y)});j.splice(v,1)}else j.push(d);(x=t.onSelect)===null||x===void 0||x.call(t,j,d,u,h)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,h=r.some(function(f){return rn(f,d)});return!!(u&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(MS.Provider,{value:c,children:n})}function RS(){var e=m.useContext(MS);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function xhe(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?rn(a,e)&&rn(r,e)?void 0:rn(a,e)?{from:a,to:void 0}:rn(r,e)?void 0:ow(r,e)?{from:e,to:a}:{from:r,to:e}:a?ow(e,a)?{from:a,to:e}:{from:e,to:a}:r?u3(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var DS=m.createContext(void 0);function ghe(e){if(!hm(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(DS.Provider,{value:t,children:e.children})}return s.jsx(vhe,{initialProps:e.initialProps,children:e.children})}function vhe(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(x,g,p){var j,v;(j=t.onDayClick)===null||j===void 0||j.call(t,x,g,p);var y=xhe(x,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,x,g,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],rn(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:gy(i,l-1),before:$s(i,l-1)}),i&&o&&u.disabled.push({after:i,before:$s(i,l-1)}),!i&&o&&u.disabled.push({after:gy(o,l-1),before:$s(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:$s(i,-c+1)}),u.disabled.push({after:$s(i,c-1)})),i&&o){var h=Br(o,i)+1,f=c-h;u.disabled.push({before:gy(i,f)}),u.disabled.push({after:$s(o,f)})}!i&&o&&(u.disabled.push({before:$s(o,-c+1)}),u.disabled.push({after:$s(o,c-1)}))}return s.jsx(DS.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function FS(){var e=m.useContext(DS);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function zf(e){return Array.isArray(e)?h3([],e):e!==void 0?[e]:[]}function yhe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=zf(a)}),t}var Tr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Tr||(Tr={}));var jhe=Tr.Selected,la=Tr.Disabled,whe=Tr.Hidden,Nhe=Tr.Today,yy=Tr.RangeEnd,jy=Tr.RangeMiddle,wy=Tr.RangeStart,bhe=Tr.Outside;function She(e,t,n){var r,a=(r={},r[jhe]=zf(e.selected),r[la]=zf(e.disabled),r[whe]=zf(e.hidden),r[Nhe]=[e.today],r[yy]=[],r[jy]=[],r[wy]=[],r[bhe]=[],r);return e.fromDate&&a[la].push({before:e.fromDate}),e.toDate&&a[la].push({after:e.toDate}),um(e)?a[la]=a[la].concat(t.modifiers[la]):hm(e)&&(a[la]=a[la].concat(n.modifiers[la]),a[wy]=n.modifiers[wy],a[jy]=n.modifiers[jy],a[yy]=n.modifiers[yy]),a}var g3=m.createContext(void 0);function Che(e){var t=Mt(),n=RS(),r=FS(),a=She(t,n,r),i=yhe(t.modifiers),o=$e($e({},a),i);return s.jsx(g3.Provider,{value:o,children:e.children})}function v3(){var e=m.useContext(g3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Ehe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function The(e){return!!(e&&typeof e=="object"&&"from"in e)}function Phe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ahe(e){return!!(e&&typeof e=="object"&&"before"in e)}function khe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Mhe(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Br(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Br(e,r)>=0&&Br(a,e)>=0;return o}return a?rn(a,e):r?rn(r,e):!1}function Rhe(e){return ES(e)}function Dhe(e){return Array.isArray(e)&&e.every(ES)}function Fhe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Rhe(n))return rn(e,n);if(Dhe(n))return n.includes(e);if(The(n))return Mhe(e,n);if(khe(n))return n.dayOfWeek.includes(e.getDay());if(Ehe(n)){var r=Br(n.before,e),a=Br(n.after,e),i=r>0,o=a<0,l=ow(n.before,n.after);return l?o&&i:i||o}return Phe(n)?Br(e,n.after)>0:Ahe(n)?Br(n.before,e)>0:typeof n=="function"?n(e):!1})}function OS(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return Fhe(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!AS(e,n)&&(a.outside=!0),a}function Ohe(e,t){for(var n=mn(e[0]),r=Vg(e[e.length-1]),a,i,o=n;o<=r;){var l=OS(o,t),c=!l.disabled&&!l.hidden;if(!c){o=$s(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=$s(o,1)}return i||a}var Ihe=365;function y3(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,f={day:$s,week:iw,month:Er,year:Xce,startOfWeek:function(j){return a.ISOWeek?ol(j):Qr(j,{locale:h,weekStartsOn:c})},endOfWeek:function(j){return a.ISOWeek?a3(j):TS(j,{locale:h,weekStartsOn:c})}},x=f[n](e,r==="after"?1:-1);r==="before"&&d?x=Gce([d,x]):r==="after"&&u&&(x=Jce([u,x]));var g=!0;if(i){var p=OS(x,i);g=!p.disabled&&!p.hidden}return g?x:l.count>Ihe?l.lastFocused:y3(x,{moveBy:n,direction:r,context:a,modifiers:i,retry:$e($e({},l),{count:l.count+1})})}var j3=m.createContext(void 0);function _he(e){var t=mm(),n=v3(),r=m.useState(),a=r[0],i=r[1],o=m.useState(),l=o[0],c=o[1],d=Ohe(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},f=function(j){i(j)},x=Mt(),g=function(j,v){if(a){var y=y3(a,{moveBy:j,direction:v,context:x,modifiers:n});rn(a,y)||(t.goToDate(y,a),f(y))}},p={focusedDay:a,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(j3.Provider,{value:p,children:e.children})}function IS(){var e=m.useContext(j3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Lhe(e,t){var n=v3(),r=OS(e,n,t);return r}var _S=m.createContext(void 0);function $he(e){if(!Ug(e.initialProps)){var t={selected:void 0};return s.jsx(_S.Provider,{value:t,children:e.children})}return s.jsx(Vhe,{initialProps:e.initialProps,children:e.children})}function Vhe(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(_S.Provider,{value:a,children:n})}function w3(){var e=m.useContext(_S);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Uhe(e,t){var n=Mt(),r=w3(),a=RS(),i=FS(),o=IS(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,x=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,j=o.focusYearAfter,v=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(M){var R,L,H,V;Ug(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,M):um(n)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,t,M):hm(n)?(H=i.onDayClick)===null||H===void 0||H.call(i,e,t,M):(V=n.onDayClick)===null||V===void 0||V.call(n,e,t,M)},N=function(M){var R;f(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,M)},b=function(M){var R;h(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,M)},C=function(M){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,M)},S=function(M){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,M)},P=function(M){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,M)},A=function(M){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,M)},F=function(M){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,M)},O=function(M){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,M)},_=function(M){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,M)},$=function(M){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,M)},I=function(M){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,M)},k=function(M){var R;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),d();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),u();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?p():x();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?j():g();break;case"Home":M.preventDefault(),M.stopPropagation(),v();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,M)},T={onClick:w,onFocus:N,onBlur:b,onKeyDown:k,onKeyUp:I,onMouseEnter:C,onMouseLeave:S,onPointerEnter:P,onPointerLeave:A,onTouchCancel:F,onTouchEnd:O,onTouchMove:_,onTouchStart:$};return T}function Bhe(){var e=Mt(),t=w3(),n=RS(),r=FS(),a=Ug(e)?t.selected:um(e)?n.selected:hm(e)?r.selected:void 0;return a}function Hhe(e){return Object.values(Tr).includes(e)}function zhe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(Hhe(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function qhe(e,t){var n=$e({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=$e($e({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Whe(e,t,n){var r,a,i,o=Mt(),l=IS(),c=Lhe(e,t),d=Uhe(e,c),u=Bhe(),h=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var C;c.outside||l.focusedDay&&h&&rn(l.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[l.focusedDay,e,n,h,c.outside]);var f=zhe(o,c).join(" "),x=qhe(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:mhe,j=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),v={style:x,className:f,children:j,role:"gridcell"},y=l.focusTarget&&rn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&rn(l.focusedDay,e),N=$e($e($e({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||y?0:-1,r)),d),b={isButton:h,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:v};return b}function Yhe(e){var t=m.useRef(null),n=Whe(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(rx,$e({name:"day",ref:t},n.buttonProps)):s.jsx("div",$e({},n.divProps))}function Khe(e){var t=e.number,n=e.dates,r=Mt(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(x){a(t,n,x)};return s.jsx(rx,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function Xhe(e){var t,n,r=Mt(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Yhe,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Khe,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},rue(h))})]})}function kT(e,t,n){for(var r=n!=null&&n.ISOWeek?a3(t):TS(t,n),a=n!=null&&n.ISOWeek?ol(e):Qr(e,n),i=Br(r,a),o=[],l=0;l<=i;l++)o.push($s(a,l));var c=o.reduce(function(d,u){var h=n!=null&&n.ISOWeek?i3(u):l3(u,n),f=d.find(function(x){return x.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function Ghe(e,t){var n=kT(mn(e),Vg(e),t);if(t!=null&&t.useFixedWeeks){var r=iue(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=iw(i,6-r),l=kT(iw(i,1),o,t);n.push.apply(n,l)}}return n}function Jhe(e){var t,n,r,a=Mt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,x=a.ISOWeek,g=Ghe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:x,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:hhe,j=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:Xhe,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:che;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(y){return s.jsx(j,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function Qhe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Zhe=Qhe()?m.useLayoutEffect:m.useEffect,Ny=!1,eme=0;function MT(){return"react-day-picker-".concat(++eme)}function tme(e){var t,n=e??(Ny?MT():null),r=m.useState(n),a=r[0],i=r[1];return Zhe(function(){a===null&&i(MT())},[]),m.useEffect(function(){Ny===!1&&(Ny=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function sme(e){var t,n,r=Mt(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=mm().displayMonths,d=tme(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,x=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!x&&!g;a==="rtl"&&(t=[x,g],g=t[0],x=t[1]),x&&(h.push(i.caption_start),f=$e($e({},f),o.caption_start)),g&&(h.push(i.caption_end),f=$e($e({},f),o.caption_end)),p&&(h.push(i.caption_between),f=$e($e({},f),o.caption_between));var j=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:lhe;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(j,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Jhe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function nme(e){var t=Mt(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function rme(e){var t,n,r=e.initialProps,a=Mt(),i=IS(),o=mm(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=$e($e({},a.styles.root),a.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var j;return $e($e({},g),(j={},j[p]=r[p],j))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:nme;return s.jsx("div",$e({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(x,{children:o.displayMonths.map(function(g,p){return s.jsx(sme,{displayIndex:p,displayMonth:g},p)})})}))}function ame(e){var t=e.children,n=Aue(e,["children"]);return s.jsx(Kue,{initialProps:n,children:s.jsx(rhe,{children:s.jsx($he,{initialProps:n,children:s.jsx(fhe,{initialProps:n,children:s.jsx(ghe,{initialProps:n,children:s.jsx(Che,{children:s.jsx(_he,{children:t})})})})})})})}function ime(e){return s.jsx(ame,$e({},e,{children:s.jsx(rme,{initialProps:e})}))}function cw({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(ime,{showOutsideDays:n,className:le("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(Xu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(Xu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(nR,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(kn,{className:"h-4 w-4"})},...r})}cw.displayName="Calendar";const ome=({onFilterChange:e})=>{const[t,n]=m.useState(),[r,a]=m.useState(),i=()=>{e({dateRange:{start:t==null?void 0:t.toISOString(),end:r==null?void 0:r.toISOString()}})},o=()=>{n(void 0),a(void 0),e({dateRange:{}})},l=c=>{const d=new Date,u=new Date;u.setDate(d.getDate()-c),n(u),a(d),e({dateRange:{start:u.toISOString(),end:d.toISOString()}})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{className:"text-sm font-medium",children:"Date Range:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||r)&&s.jsx(q,{variant:"ghost",size:"sm",onClick:o,children:s.jsx(Et,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"Start Date"}),s.jsxs(U0,{children:[s.jsx(B0,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:le("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(VC,{className:"mr-2 h-4 w-4"}),t?Ra(t,"PPP"):"Pick start date"]})}),s.jsx(ex,{className:"w-auto p-0",align:"start",children:s.jsx(cw,{mode:"single",selected:t,onSelect:c=>{n(c),c&&r&&i()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"End Date"}),s.jsxs(U0,{children:[s.jsx(B0,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:le("w-[200px] justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[s.jsx(VC,{className:"mr-2 h-4 w-4"}),r?Ra(r,"PPP"):"Pick end date"]})}),s.jsx(ex,{className:"w-auto p-0",align:"start",children:s.jsx(cw,{mode:"single",selected:r,onSelect:c=>{a(c),t&&c&&i()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},lme=({adapterId:e})=>{const[t,n]=m.useState(!1),[r,a]=m.useState("csv"),[i,o]=m.useState(!1),{logs:l}=kS({sourceId:e}),{toast:c}=mt(),d=async()=>{if(!e){c({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}o(!0);try{let u,h,f;if(r==="csv"){const j=["Timestamp","Level","Message","Details"],v=l.map(y=>[y.timestamp,y.level,`"${y.message.replace(/"/g,'""')}"`,y.details?`"${JSON.stringify(y.details).replace(/"/g,'""')}"`:""]);u=[j.join(","),...v.map(y=>y.join(","))].join(`
`),h=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,f="text/csv"}else u=JSON.stringify(l,null,2),h=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,f="application/json";const x=new Blob([u],{type:f}),g=URL.createObjectURL(x),p=document.createElement("a");p.href=g,p.download=h,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g),c({title:"Export Successful",description:`Logs exported as ${h}`}),n(!1)}catch{c({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{o(!1)}};return s.jsxs(_t,{open:t,onOpenChange:n,children:[s.jsx(em,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Export"]})}),s.jsxs(kt,{children:[s.jsx(Lt,{children:s.jsx($t,{children:"Export Adapter Logs"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),s.jsxs(Z,{value:r,onValueChange:u=>a(u),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"csv",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-4 w-4"}),"CSV Format"]})}),s.jsx(D,{value:"json",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ON,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(q,{onClick:d,disabled:i||!e,children:i?"Exporting...":"Export"})]})]})]})]})},cme=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState({}),[u,h]=m.useState("system"),{logs:f,loading:x,error:g,refetch:p,sources:j}=kS({source:e||void 0,sourceId:n||void 0,level:a||void 0,search:o,startDate:c.start,endDate:c.end}),v=Pl({domainType:"UserManagement",includeSystemLogs:!1}),y=Pl({domainType:"FlowEngine",includeSystemLogs:!1}),w=Pl({domainType:"AdapterManagement",includeSystemLogs:!1}),N=Pl({domainType:"DataStructures",includeSystemLogs:!1}),b=Pl({domainType:"ChannelManagement",includeSystemLogs:!1}),C=Pl({domainType:"MessageProcessing",includeSystemLogs:!1}),S=()=>{p(),v.refetch(),y.refetch(),w.refetch(),N.refetch(),b.refetch(),C.refetch()},P=A=>{i(A.level),d(A.dateRange)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Hu,{className:"h-7 w-7"}),"System Logs"]}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(lme,{adapterId:n}),s.jsxs(q,{variant:"outline",size:"sm",onClick:S,className:"hover-scale",children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(K,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Filters"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),s.jsxs(Z,{value:e,onValueChange:A=>t(A),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All sources"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"system",children:"System"}),s.jsx(D,{value:"adapter",children:"Adapters"}),s.jsx(D,{value:"channel",children:"Channels"}),s.jsx(D,{value:"flow",children:"Flows"}),s.jsx(D,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),s.jsxs(Z,{value:n,onValueChange:r,children:[s.jsx(J,{children:s.jsx(ee,{placeholder:`Select ${e}`})}),s.jsxs(Q,{children:[e==="adapter"&&j.adapters.map(A=>s.jsx(D,{value:A.id,children:A.name},A.id)),e==="channel"&&j.channels.map(A=>s.jsx(D,{value:A.id,children:A.name},A.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),s.jsxs(Z,{value:a,onValueChange:A=>i(A),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"All levels"})}),s.jsxs(Q,{children:[s.jsx(D,{value:"debug",children:"Debug"}),s.jsx(D,{value:"info",children:"Info"}),s.jsx(D,{value:"warn",children:"Warning"}),s.jsx(D,{value:"error",children:"Error"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search logs...",value:o,onChange:A=>l(A.target.value),className:"pl-10"})]})]})]}),s.jsx(ome,{onFilterChange:P})]})]}),f.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),s.jsx(de,{variant:"outline",children:"24h"})]})})}),s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:f.filter(A=>A.level==="error").length})]}),s.jsx(de,{variant:"destructive",children:"Error"})]})})}),s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),s.jsx("p",{className:"text-2xl font-bold text-warning",children:f.filter(A=>A.level==="warn").length})]}),s.jsx(de,{variant:"secondary",children:"Warning"})]})})}),s.jsx(K,{className:"bg-gradient-secondary border-border/50",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),s.jsx("p",{className:"text-2xl font-bold text-success",children:f.filter(A=>A.level==="info").length})]}),s.jsx(de,{variant:"outline",children:"Info"})]})})})]}),s.jsxs(lt,{value:u,onValueChange:h,children:[s.jsxs(nt,{className:"grid w-full grid-cols-7",children:[s.jsxs(me,{value:"system",className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-4 w-4"}),"System Logs"]}),s.jsxs(me,{value:"user",className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),"Users"]}),s.jsxs(me,{value:"flow",className:"flex items-center gap-2",children:[s.jsx(Mh,{className:"h-4 w-4"}),"Flows"]}),s.jsxs(me,{value:"adapter",className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4"}),"Adapters"]}),s.jsxs(me,{value:"structure",className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4"}),"Structures"]}),s.jsxs(me,{value:"channel",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(me,{value:"message",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Messages"]})]}),s.jsx(ue,{value:"system",children:s.jsx(Tue,{logs:f,loading:x,error:g,selectedSource:e})}),s.jsx(ue,{value:"user",children:s.jsx(Al,{domainType:"UserManagement",domainErrors:v.domainErrors,systemLogs:v.systemLogs,loading:v.loading,error:v.error})}),s.jsx(ue,{value:"flow",children:s.jsx(Al,{domainType:"FlowEngine",domainErrors:y.domainErrors,systemLogs:y.systemLogs,loading:y.loading,error:y.error})}),s.jsx(ue,{value:"adapter",children:s.jsx(Al,{domainType:"AdapterManagement",domainErrors:w.domainErrors,systemLogs:w.systemLogs,loading:w.loading,error:w.error})}),s.jsx(ue,{value:"structure",children:s.jsx(Al,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),s.jsx(ue,{value:"channel",children:s.jsx(Al,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),s.jsx(ue,{value:"message",children:s.jsx(Al,{domainType:"MessageProcessing",domainErrors:C.domainErrors,systemLogs:C.systemLogs,loading:C.loading,error:C.error})})]})]})},dme=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],RT=[{value:"network",icon:Yo},{value:"shield",icon:Hn},{value:"folder",icon:aR},{value:"message-square",icon:sn},{value:"database",icon:Cs},{value:"globe",icon:xa},{value:"mail",icon:kh},{value:"file-text",icon:Zs},{value:"cpu",icon:SB},{value:"activity",icon:ad},{value:"cloud",icon:wB},{value:"inbox",icon:oR},{value:"download",icon:Ii},{value:"hard-drive",icon:iR},{value:"zap",icon:En}],ume=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=mt(),[d,u]=m.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});m.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const y=await fetch("/api/admin/adapter-types");if(y.ok){const w=await y.json();t(w||[])}else if(y.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(y){console.log("API not available yet, starting with empty data:",y),t([])}finally{r(!1)}},f=async y=>{y.preventDefault();try{const w={...d,configurationSchema:d.configurationSchema?JSON.parse(d.configurationSchema):null},N=o?`/api/admin/adapter-types/${o.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok)c({title:"Success",description:`Adapter type ${o?"updated":"created"} successfully`}),i(!1),p(),h();else throw new Error(`Failed to ${o?"update":"create"} adapter type`)}catch(w){c({title:"Error",description:`Failed to ${o?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",w)}},x=y=>{l(y),u({name:y.name,displayName:y.displayName,description:y.description,category:y.category,iconName:y.iconName,isActive:y.isActive,supportsSender:y.supportsSender,supportsReceiver:y.supportsReceiver,configurationSchema:y.configurationSchema?JSON.stringify(y.configurationSchema,null,2):""}),i(!0)},g=async y=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${y}`,{method:"DELETE"})).ok)c({title:"Success",description:"Adapter type deleted successfully"}),h();else throw new Error("Failed to delete adapter type")}catch(w){c({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",w)}},p=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},j=y=>{const w=RT.find(N=>N.value===y);return w?w.icon:Yo},v=y=>{const w={FILE_TRANSFER:"bg-blue-100 text-info",MESSAGING:"bg-green-100 text-success",DATABASE:"bg-purple-100 text-primary",WEB_SERVICE:"bg-orange-100 text-warning",MAIL:"bg-red-100 text-destructive",OTHER:"bg-gray-100 text-muted-foreground"};return w[y]||w.OTHER};return s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Adapter Types Management"}),s.jsx(xe,{children:"Manage available adapter types for communication channels"})]}),s.jsxs(_t,{open:a,onOpenChange:i,children:[s.jsx(em,{asChild:!0,children:s.jsxs(q,{onClick:p,children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),s.jsxs(kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Lt,{children:[s.jsx($t,{children:o?"Edit Adapter Type":"Add New Adapter Type"}),s.jsx(Cr,{children:"Configure the adapter type settings and capabilities"})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"name",children:"Name (Internal)*"}),s.jsx(U,{id:"name",value:d.name,onChange:y=>u({...d,name:y.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"displayName",children:"Display Name*"}),s.jsx(U,{id:"displayName",value:d.displayName,onChange:y=>u({...d,displayName:y.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",value:d.description,onChange:y=>u({...d,description:y.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"category",children:"Category*"}),s.jsxs(Z,{value:d.category,onValueChange:y=>u({...d,category:y}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select category"})}),s.jsx(Q,{children:dme.map(y=>s.jsx(D,{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"iconName",children:"Icon"}),s.jsxs(Z,{value:d.iconName,onValueChange:y=>u({...d,iconName:y}),children:[s.jsx(J,{children:s.jsx(ee,{placeholder:"Select icon"})}),s.jsx(Q,{children:RT.map(y=>{const w=y.icon;return s.jsx(D,{value:y.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-4 w-4"}),y.value]})},y.value)})})]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"isActive",checked:d.isActive,onCheckedChange:y=>u({...d,isActive:y===!0})}),s.jsx(E,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"supportsSender",checked:d.supportsSender,onCheckedChange:y=>u({...d,supportsSender:y===!0})}),s.jsx(E,{htmlFor:"supportsSender",children:"Supports Sender"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{id:"supportsReceiver",checked:d.supportsReceiver,onCheckedChange:y=>u({...d,supportsReceiver:y===!0})}),s.jsx(E,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),s.jsx(Re,{id:"configurationSchema",value:d.configurationSchema,onChange:y=>u({...d,configurationSchema:y.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),s.jsxs(ka,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(q,{type:"submit",children:[o?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),s.jsx(G,{children:n?s.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?s.jsx(xl,{icon:s.jsx(Yo,{className:"h-12 w-12"}),title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Icon"}),s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Category"}),s.jsx(Ce,{children:"Support"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:e.map(y=>{const w=j(y.iconName);return s.jsxs(Kt,{children:[s.jsx(Ee,{children:s.jsx(w,{className:"h-5 w-5"})}),s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:y.displayName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:y.name})]})}),s.jsx(Ee,{children:s.jsx(de,{className:v(y.category),children:y.category.replace("_"," ")})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-1",children:[y.supportsSender&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Sender"}),y.supportsReceiver&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),s.jsx(Ee,{children:s.jsx(de,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(y),children:s.jsx($B,{className:"h-4 w-4"})}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>g(y.id),children:s.jsx(tr,{className:"h-4 w-4"})})]})})]},y.id)})})]})})]})},hme=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),u=async()=>{try{i(!0);const p=await te.get("/admin/system-configuration/environment");p.success&&p.data?(t(p.data),r(p.data),d(!1)):toast({title:"Error",description:"Failed to load environment configuration",variant:"destructive"})}catch(p){console.error("Error fetching environment configuration:",p),toast({title:"Error",description:"Error loading environment configuration",variant:"destructive"})}finally{i(!1)}},h=async()=>{if(e)try{if(l(!0),!(await te.put("/admin/system-configuration/environment/type",{environmentType:e.environmentType})).success){toast({title:"Error",description:"Failed to update environment type",variant:"destructive"});return}if(!(await te.put("/admin/system-configuration/environment/enforce-restrictions",{enforceRestrictions:e.enforceRestrictions})).success){toast({title:"Error",description:"Failed to update enforce restrictions",variant:"destructive"});return}if(!(await te.put("/admin/system-configuration/environment/restriction-message",{restrictionMessage:e.restrictionMessage})).success){toast({title:"Error",description:"Failed to update restriction message",variant:"destructive"});return}toast({title:"Success",description:"Environment configuration saved successfully"}),r(e),d(!1),setTimeout(()=>{window.location.reload()},1500)}catch(p){console.error("Error saving environment configuration:",p),toast({title:"Error",description:"Error saving environment configuration",variant:"destructive"})}finally{l(!1)}},f=p=>{if(!e)return;const j={...e,...p};t(j);const v=JSON.stringify(j)!==JSON.stringify(n);d(v)},x=p=>{switch(p){case"DEVELOPMENT":return{color:"text-info",bgColor:"bg-blue-100",label:"Development"};case"QUALITY_ASSURANCE":return{color:"text-warning",bgColor:"bg-yellow-100",label:"Quality Assurance"};case"PRODUCTION":return{color:"text-destructive",bgColor:"bg-red-100",label:"Production"};default:return{color:"text-muted-foreground",bgColor:"bg-gray-100",label:"Unknown"}}};if(m.useEffect(()=>{u()},[]),a)return s.jsx(K,{children:s.jsx(G,{className:"flex items-center justify-center h-64",children:s.jsx(wt,{className:"h-8 w-8 animate-spin"})})});if(!e)return s.jsx(K,{children:s.jsx(G,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Failed to load configuration"}),s.jsx(q,{variant:"outline",size:"sm",onClick:u,className:"mt-2",children:"Retry"})]})})});const g=x(e.environmentType);return s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Fo,{className:"h-5 w-5"}),"Environment Configuration"]}),s.jsx(xe,{children:"Configure the system environment type and restrictions"})]}),s.jsx(de,{className:`${g.bgColor} ${g.color}`,children:g.label})]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"environment-type",children:"Environment Type"}),s.jsxs(Z,{value:e.environmentType,onValueChange:p=>f({environmentType:p}),children:[s.jsx(J,{id:"environment-type",children:s.jsx(ee,{})}),s.jsx(Q,{children:e.availableTypes.map(p=>{const j=x(p);return s.jsx(D,{value:p,children:s.jsx("span",{className:j.color,children:j.label})},p)})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controls which features are available in the system"})]}),s.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"enforce-restrictions",children:"Enforce Restrictions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, environment restrictions will be applied"})]}),s.jsx(St,{id:"enforce-restrictions",checked:e.enforceRestrictions,onCheckedChange:p=>f({enforceRestrictions:p})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"restriction-message",children:"Restriction Message"}),s.jsx(U,{id:"restriction-message",value:e.restrictionMessage,onChange:p=>f({restrictionMessage:p.target.value}),placeholder:"Enter custom restriction message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Message shown when users try to perform restricted actions. Use %s for environment name."})]}),s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(yd,{children:"Environment Restrictions"}),s.jsxs(st,{className:"space-y-2 mt-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Development:"})," All features enabled"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Quality Assurance:"})," Limited to adapter configuration, import/export, and deployment"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Production:"})," Limited to adapter configuration, import/export, and deployment"]})]})]}),c&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Bt,{className:"h-4 w-4"}),"You have unsaved changes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{t(n),d(!1)},children:"Cancel"}),s.jsx(q,{size:"sm",onClick:h,disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),!c&&n&&JSON.stringify(e)===JSON.stringify(n)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-success",children:[s.jsx(qo,{className:"h-4 w-4"}),"Configuration saved successfully"]})]})]})},mme=({})=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[a,i]=m.useState("all"),[o,l]=m.useState(!0),[c,d]=m.useState(!1),[u,h]=m.useState({}),f=async()=>{try{l(!0);const b=await Qe.get("/system-settings");console.log("Fetched system settings:",b),t(b);const C=[...new Set(b.map(S=>S.category||"Uncategorized").filter(Boolean))];r(["all",...C])}catch(b){console.error("Error fetching system settings:",b),toast({title:"Error",description:"Failed to load system settings",variant:"destructive"})}finally{l(!1)}},x=async()=>{},g=async()=>{try{await Qe.post("/system-settings/initialize"),toast({title:"Success",description:"Default settings initialized"}),f()}catch(b){console.error("Error initializing settings:",b),toast({title:"Error",description:"Error initializing settings",variant:"destructive"})}},p=async(b,C)=>{try{d(!0);const S=e.find(F=>F.settingKey===b);if(!S)return;const P={...S,settingValue:C,updatedBy:"admin"},A=await Qe.put(`/system-settings/${b}`,P);t(F=>F.map(O=>O.settingKey===b?A:O)),h(F=>{const O={...F};return delete O[b],O}),toast({title:"Success",description:`Setting "${b}" updated successfully`})}catch(S){console.error("Error saving setting:",S),toast({title:"Error",description:"Error saving setting",variant:"destructive"})}finally{d(!1)}},j=(b,C)=>{h(S=>({...S,[b]:C}))},v=b=>u[b.settingKey]??b.settingValue,y=b=>u[b.settingKey]!==void 0&&u[b.settingKey]!==b.settingValue,w=a==="all"?e:e.filter(b=>b.category===a);m.useEffect(()=>{f(),x()},[]);const N=b=>s.jsxs(K,{className:"mb-4",children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[b.settingKey,b.isReadonly&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Readonly"}),b.isEncrypted&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Encrypted"}),y(b)&&s.jsx(de,{variant:"destructive",className:"text-xs",children:"Modified"})]}),s.jsx(xe,{className:"text-xs",children:b.description})]}),s.jsx(de,{variant:"outline",className:"text-xs",children:b.category})]})}),s.jsx(G,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(E,{htmlFor:`setting-${b.id}`,className:"text-xs",children:["Value (",b.dataType,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{id:`setting-${b.id}`,value:v(b),onChange:C=>j(b.settingKey,C.target.value),disabled:b.isReadonly,type:b.dataType==="PASSWORD"?"password":b.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:b.settingValue}),y(b)&&s.jsx(q,{size:"sm",onClick:()=>p(b.settingKey,u[b.settingKey]),disabled:c,className:"px-3",children:c?s.jsx(wt,{className:"h-3 w-3 animate-spin"}):s.jsx(jr,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Created: ",new Date(b.createdAt).toLocaleString()]}),s.jsxs("span",{children:["Updated: ",new Date(b.updatedAt).toLocaleString()]})]}),(b.createdBy||b.updatedBy)&&s.jsxs("div",{className:"flex justify-between",children:[b.createdBy&&s.jsxs("span",{children:["Created by: ",b.createdBy]}),b.updatedBy&&s.jsxs("span",{children:["Updated by: ",b.updatedBy]})]})]})]})})]},b.id);return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(wt,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ht,{className:"h-6 w-6"}),"System Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:f,disabled:o,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(q,{variant:"outline",size:"sm",onClick:g,children:"Initialize Defaults"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(hme,{})}),s.jsx(xt,{className:"my-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"General System Settings"}),Object.keys(u).length>0&&s.jsx(K,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:s.jsxs(re,{className:"pb-3",children:[s.jsxs(ie,{className:"text-sm flex items-center gap-2 text-warning dark:text-warning",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Unsaved Changes"]}),s.jsxs(xe,{className:"text-warning dark:text-warning",children:["You have ",Object.keys(u).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),s.jsxs(lt,{value:a,onValueChange:i,children:[s.jsx(nt,{className:"grid w-full grid-cols-auto max-w-fit",children:n.map(b=>s.jsxs(me,{value:b,className:"capitalize",children:[b==="all"?"All Settings":b||"Uncategorized",b!=="all"&&s.jsx(de,{variant:"secondary",className:"ml-2 text-xs",children:e.filter(C=>C.category===b).length})]},b))}),s.jsx(ue,{value:a,className:"space-y-4",children:w.length===0?s.jsx(K,{children:s.jsx(G,{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ht,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),s.jsx(q,{variant:"outline",size:"sm",onClick:g,className:"mt-2",children:"Initialize Default Settings"})]})})}):s.jsx("div",{className:"grid gap-4",children:w.map(N)})})]})]})]})};class fme{async getAllRoles(t=0,n=50){return te.get(`/roles?page=${t}&limit=${n}`)}async getRoleById(t){return te.get(`/roles/${t}`)}async createRole(t){return te.post("/roles",t)}async updateRole(t,n){return te.put(`/roles/${t}`,n)}async deleteRole(t){return te.delete(`/roles/${t}`)}async addPermission(t,n){return te.post(`/roles/${t}/permissions`,{permission:n})}async removePermission(t,n){return te.delete(`/roles/${t}/permissions/${n}`)}async updatePermissions(t,n){return te.put(`/roles/${t}/permissions`,{permissions:n})}async getRolePermissions(t){return te.get(`/roles/${t}/permissions`)}async searchRoles(t,n){const r=new URLSearchParams({q:t,...(n==null?void 0:n.hasPermission)&&{hasPermission:n.hasPermission},page:((n==null?void 0:n.page)||1).toString(),limit:((n==null?void 0:n.limit)||50).toString()});return te.get(`/roles/search?${r}`)}async getRoleUsers(t){return te.get(`/roles/${t}/users`)}async cloneRole(t,n){return te.post(`/roles/${t}/clone`,{name:n})}async getAvailablePermissions(){return te.get("/roles/available-permissions")}async validatePermissions(t){return te.post("/roles/validate-permissions",{permissions:t})}}const pme=new fme;class xme{async getAllJarFiles(t){const n=new URLSearchParams;t!=null&&t.driverType&&n.append("driverType",t.driverType),(t==null?void 0:t.isActive)!==void 0&&n.append("isActive",t.isActive.toString());const r=n.toString();return te.get(`/jar-files${r?`?${r}`:""}`)}async getJarFileById(t){return te.get(`/jar-files/${t}`)}async createJarFile(t){return te.post("/jar-files",t)}async updateJarFile(t,n){return te.put(`/jar-files/${t}`,n)}async deleteJarFile(t){return te.delete(`/jar-files/${t}`)}async uploadJarFile(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("version",n.version),r.append("description",n.description),r.append("driverType",n.driverType),n.vendor&&r.append("vendor",n.vendor),te.post("/jar-files/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadJarFile(t){const n=await fetch(`${te.baseURL}/jar-files/${t}/download`,{method:"GET",headers:te.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download JAR file");return n.blob()}async toggleJarFileStatus(t,n){return te.put(`/jar-files/${t}/status`,{isActive:n})}async getJarFilesByDriverType(t){return te.get(`/jar-files/driver-type/${t}`)}async validateJarFile(t){return te.get(`/jar-files/${t}/validate`)}async getDriverTypes(){return te.get("/jar-files/driver-types")}}const gme=new xme,vme=()=>{const{toast:e}=mt(),[t,n]=m.useState([]),[r,a]=m.useState(!0),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState([]),[h,f]=m.useState(!0),[x,g]=m.useState([]),[p,j]=m.useState(!0),[v,y]=m.useState("users"),w=async()=>{try{a(!0);const A=await Wl.getAllUsers();if(console.log("User fetch response:",A),A.success&&A.data){const F=Array.isArray(A.data)?A.data:A.data.users;n(F||[])}else console.error("Failed to fetch users:",A.error),console.log("API not available, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}catch(A){console.error("Error fetching users:",A),console.log("API error, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}},N=async()=>{try{c(!0);const A=await pme.getAllRoles();if(console.log("Role fetch response:",A),A.success&&A.data){const F=Array.isArray(A.data)?A.data:[];o(F)}else console.error("Failed to fetch roles:",A.error),o([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}catch(A){console.error("Error fetching roles:",A),o([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}finally{c(!1)}},b=async()=>{try{f(!0);const A=await N$.getAllCertificates();console.log("Certificate fetch response:",A),A.success&&A.data?u(A.data):(console.error("Failed to fetch certificates:",A.error),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"}))}catch(A){console.error("Error fetching certificates:",A),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{f(!1)}},C=async()=>{try{j(!0);const A=await gme.getAllJarFiles();console.log("JAR files fetch response:",A),A.success&&A.data?g(A.data):(console.error("Failed to fetch JAR files:",A.error),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"}))}catch(A){console.error("Error fetching JAR files:",A),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"})}finally{j(!1)}};m.useEffect(()=>{w(),N(),b(),C()},[]);const S=A=>{g(F=>[...F,A])},P=A=>{g(F=>F.filter(O=>O.id!==A))};return s.jsxs("div",{className:"w-full p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(qs,{className:"h-8 w-8"}),"Admin Panel"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),s.jsx(pue,{users:t,roles:i,certificates:d,jarFiles:x}),s.jsxs(lt,{value:v,onValueChange:y,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[s.jsxs(nt,{className:"grid w-full grid-cols-7",children:[s.jsxs(me,{value:"users",className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-4 w-4"}),"Users"]}),s.jsxs(me,{value:"roles",className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Roles"]}),s.jsxs(me,{value:"certificates",className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"h-4 w-4"}),"Certificates"]}),s.jsxs(me,{value:"jar-files",className:"flex items-center gap-2",children:[s.jsx(Bu,{className:"h-4 w-4"}),"Connection Drivers"]}),s.jsxs(me,{value:"adapter-types",className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4"}),"Adapter Types"]}),s.jsxs(me,{value:"system-settings",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"System Settings"]}),s.jsxs(me,{value:"system-logs",className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-4 w-4"}),"System Logs"]})]}),s.jsx(ue,{value:"users",className:"space-y-4",children:s.jsx(jue,{users:t,isLoading:r,onRefresh:w})}),s.jsx(ue,{value:"roles",className:"space-y-4",children:s.jsx(wue,{roles:i,isLoading:l,onRefresh:N})}),s.jsx(ue,{value:"certificates",className:"space-y-4",children:s.jsx(Nue,{certificates:d,isLoading:h,onRefresh:b})}),s.jsx(ue,{value:"jar-files",className:"space-y-4",children:s.jsx(Eue,{jarFiles:x,isLoading:p,onRefresh:C,onJarFileAdded:S,onJarFileDeleted:P})}),s.jsx(ue,{value:"adapter-types",className:"space-y-4",children:s.jsx(ume,{})}),s.jsx(ue,{value:"system-settings",className:"space-y-4",children:s.jsx(mme,{})}),s.jsx(ue,{value:"system-logs",className:"space-y-4",children:s.jsx(cme,{})})]})]})},DT=e=>{let t;const n=new Set,r=(d,u)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const f=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,f))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,a,l);return l},yme=e=>e?DT(e):DT,jme=e=>e;function wme(e,t=jme){const n=bt.useSyncExternalStore(e.subscribe,bt.useCallback(()=>t(e.getState()),[e,t]),bt.useCallback(()=>t(e.getInitialState()),[e,t]));return bt.useDebugValue(n),n}const FT=e=>{const t=yme(e),n=r=>wme(t,r);return Object.assign(n,t),n},N3=e=>e?FT(e):FT;function Nme(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>n.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>n.removeItem(a)}}const dw=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return dw(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return dw(r)(n)}}}},bme=(e,t)=>(n,r,a)=>{let i={storage:Nme(()=>localStorage),partialize:p=>p,version:0,merge:(p,j)=>({...j,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,a);const u=()=>{const p=i.partialize({...r()});return d.setItem(i.name,{state:p,version:i.version})},h=a.setState;a.setState=(p,j)=>{h(p,j),u()};const f=e((...p)=>{n(...p),u()},r,a);a.getInitialState=()=>f;let x;const g=()=>{var p,j;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=r())!=null?w:f)});const v=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(p=r())!=null?p:f))||void 0;return dw(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(N=>[!0,N]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[N,b]=y;if(x=i.merge(b,(w=r())!=null?w:f),n(x,!0),N)return u()}).then(()=>{v==null||v(x,void 0),x=r(),o=!0,c.forEach(y=>y(x))}).catch(y=>{v==null||v(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||g(),x||f},Sme=bme,OT={theme:"dark",sidebarState:"expanded",compactMode:!1,showLineNumbers:!0,autoSave:!0,animationsEnabled:!0},ax=N3()(Sme(e=>({...OT,activeModal:null,modalData:null,globalLoading:!1,loadingMessage:null,breadcrumbs:[],setTheme:t=>{e({theme:t}),t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setSidebarState:t=>e({sidebarState:t}),toggleSidebar:()=>e(t=>({sidebarState:t.sidebarState==="expanded"?"collapsed":"expanded"})),setCompactMode:t=>e({compactMode:t}),setShowLineNumbers:t=>e({showLineNumbers:t}),setAutoSave:t=>e({autoSave:t}),setAnimationsEnabled:t=>e({animationsEnabled:t}),openModal:(t,n=null)=>e({activeModal:t,modalData:n}),closeModal:()=>e({activeModal:null,modalData:null}),setGlobalLoading:(t,n=null)=>e({globalLoading:t,loadingMessage:n}),setBreadcrumbs:t=>e({breadcrumbs:t}),addBreadcrumb:t=>e(n=>({breadcrumbs:[...n.breadcrumbs,t]})),resetPreferences:()=>e(OT)}),{name:"ui-preferences",partialize:e=>({theme:e.theme,sidebarState:e.sidebarState,compactMode:e.compactMode,showLineNumbers:e.showLineNumbers,autoSave:e.autoSave,animationsEnabled:e.animationsEnabled})})),b3=()=>{const e=ax(t=>t.animationsEnabled);return{enabled:e,duration:e?"duration-200":"duration-0",transition:e?"transition-all":""}},Cme=()=>{gg("Settings"),vg("Configure your Integrix Flow Bridge preferences, manage security settings, customize notifications, and control system-wide configurations.");const{user:e}=ta(),{toast:t}=mt(),[n,r]=m.useState("profile");m.useState(!1);const[a,i]=m.useState(!1),o=ax(v=>v.theme),l=ax(v=>v.setTheme),[c,d]=m.useState({theme:o,language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"12h",emailNotifications:!0,browserNotifications:!1,soundAlerts:!0,compactView:!1,showHelperText:!0}),[u,h]=m.useState({firstName:(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:"",department:"",title:""}),[f,x]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),g=async()=>{try{i(!0),t({title:"Profile Updated",description:"Your profile has been updated successfully"})}catch{t({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1)}},p=async()=>{try{i(!0),localStorage.setItem("userPreferences",JSON.stringify(c)),t({title:"Preferences Saved",description:"Your preferences have been saved successfully"})}catch{t({title:"Error",description:"Failed to save preferences",variant:"destructive"})}finally{i(!1)}},j=async()=>{if(f.newPassword!==f.confirmPassword){t({title:"Error",description:"New passwords do not match",variant:"destructive"});return}try{i(!0),t({title:"Password Changed",description:"Your password has been changed successfully"}),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch{t({title:"Error",description:"Failed to change password",variant:"destructive"})}finally{i(!1)}};return m.useEffect(()=>{const v=localStorage.getItem("userPreferences");v&&d(JSON.parse(v))},[]),s.jsxs("div",{className:"w-full p-6 space-y-6 animate-fade-in",children:[s.jsx(xg,{title:"User Settings",description:"Manage your profile and personal preferences",icon:s.jsx(Ht,{})}),s.jsxs(lt,{value:n,onValueChange:r,className:"space-y-6",children:[s.jsxs(nt,{className:"grid grid-cols-4 w-full",children:[s.jsxs(me,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),"Profile"]}),s.jsxs(me,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(OB,{className:"h-4 w-4"}),"Preferences"]}),s.jsxs(me,{value:"notifications",className:"flex items-center gap-2",children:[s.jsx(tR,{className:"h-4 w-4"}),"Notifications"]}),s.jsxs(me,{value:"security",className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"Security"]})]}),s.jsx(ue,{value:"profile",className:"space-y-6",children:s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Profile Information"}),s.jsx(xe,{children:"Update your personal information and contact details"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"firstName",children:"First Name"}),s.jsx(U,{id:"firstName",name:"firstName",autoComplete:"given-name",value:u.firstName,onChange:v=>h({...u,firstName:v.target.value}),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"lastName",children:"Last Name"}),s.jsx(U,{id:"lastName",name:"lastName",autoComplete:"family-name",value:u.lastName,onChange:v=>h({...u,lastName:v.target.value}),placeholder:"Enter last name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"email",children:"Email"}),s.jsx(U,{id:"email",name:"email",type:"email",autoComplete:"email",value:u.email,onChange:v=>h({...u,email:v.target.value}),placeholder:"Enter email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"phone",children:"Phone"}),s.jsx(U,{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:u.phone,onChange:v=>h({...u,phone:v.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"department",children:"Department"}),s.jsx(U,{id:"department",name:"department",autoComplete:"organization",value:u.department,onChange:v=>h({...u,department:v.target.value}),placeholder:"Enter department"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"title",children:"Job Title"}),s.jsx(U,{id:"title",value:u.title,onChange:v=>h({...u,title:v.target.value}),placeholder:"Enter job title"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:g,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})})]})]})}),s.jsx(ue,{value:"preferences",className:"space-y-6",children:s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Display Preferences"}),s.jsx(xe,{children:"Customize how the application looks and behaves for you"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"theme",children:"Theme"}),s.jsxs(Z,{value:o,onValueChange:v=>{l(v),d({...c,theme:v})},children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"light",children:"Light"}),s.jsx(D,{value:"dark",children:"Dark"}),s.jsx(D,{value:"system",children:"System"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"language",children:"Language"}),s.jsxs(Z,{value:c.language,onValueChange:v=>d({...c,language:v}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"en",children:"English"}),s.jsx(D,{value:"es",children:"Spanish"}),s.jsx(D,{value:"fr",children:"French"}),s.jsx(D,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(Z,{value:c.timezone,onValueChange:v=>d({...c,timezone:v}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"UTC",children:"UTC"}),s.jsx(D,{value:"America/New_York",children:"Eastern Time"}),s.jsx(D,{value:"America/Chicago",children:"Central Time"}),s.jsx(D,{value:"America/Denver",children:"Mountain Time"}),s.jsx(D,{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx(D,{value:"Europe/London",children:"London"}),s.jsx(D,{value:"Europe/Paris",children:"Paris"}),s.jsx(D,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs(Z,{value:c.dateFormat,onValueChange:v=>d({...c,dateFormat:v}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx(D,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx(D,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"timeFormat",children:"Time Format"}),s.jsxs(Z,{value:c.timeFormat,onValueChange:v=>d({...c,timeFormat:v}),children:[s.jsx(J,{children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"12h",children:"12 Hour"}),s.jsx(D,{value:"24h",children:"24 Hour"})]})]})]})]}),s.jsx(xt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Interface Options"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"compactView",children:"Compact View"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use a more condensed layout"})]}),s.jsx(St,{id:"compactView",checked:c.compactView,onCheckedChange:v=>d({...c,compactView:v})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"showHelperText",children:"Show Helper Text"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display helpful tooltips and descriptions"})]}),s.jsx(St,{id:"showHelperText",checked:c.showHelperText,onCheckedChange:v=>d({...c,showHelperText:v})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:p,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsx(ue,{value:"notifications",className:"space-y-6",children:s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Notification Preferences"}),s.jsx(xe,{children:"Choose how you want to be notified about important events"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs(tt,{children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{children:"These settings control personal notifications. System-wide notification settings are managed by administrators."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),s.jsx(St,{id:"emailNotifications",checked:c.emailNotifications,onCheckedChange:v=>d({...c,emailNotifications:v})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"browserNotifications",children:"Browser Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show desktop notifications"})]}),s.jsx(St,{id:"browserNotifications",checked:c.browserNotifications,onCheckedChange:v=>d({...c,browserNotifications:v})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(E,{htmlFor:"soundAlerts",children:"Sound Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for important events"})]}),s.jsx(St,{id:"soundAlerts",checked:c.soundAlerts,onCheckedChange:v=>d({...c,soundAlerts:v})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:p,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsxs(ue,{value:"security",className:"space-y-6",children:[s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Change Password"}),s.jsx(xe,{children:"Update your account password"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(U,{id:"currentPassword",type:"password",value:f.currentPassword,onChange:v=>x({...f,currentPassword:v.target.value}),placeholder:"Enter current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"newPassword",children:"New Password"}),s.jsx(U,{id:"newPassword",type:"password",value:f.newPassword,onChange:v=>x({...f,newPassword:v.target.value}),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(U,{id:"confirmPassword",type:"password",value:f.confirmPassword,onChange:v=>x({...f,confirmPassword:v.target.value}),placeholder:"Confirm new password"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:j,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_i,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})]}),s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Active Sessions"}),s.jsx(xe,{children:"Manage your active login sessions"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Current Session"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(Ds,{className:"h-3 w-3 inline mr-1"}),"Last active: Just now"]})]}),s.jsx(de,{variant:"secondary",children:"Active"})]})})})]}),s.jsxs(K,{className:"w-full",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"API Keys"}),s.jsx(xe,{children:"Manage your personal API keys for integrations"})]}),s.jsx(G,{children:s.jsxs(tt,{children:[s.jsx(Wo,{className:"h-4 w-4"}),s.jsx(st,{children:"No API keys generated yet. Contact your administrator if you need API access."})]})})]})]})]})]})},Eme=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState("policies"),{toast:c}=mt();m.useEffect(()=>{d()},[o]);const d=async()=>{i(!0);try{if(o==="policies"){const f=await Qe.get("/retry-management/policies");t(f.data)}else if(o==="dlq"){const f=await Qe.get("/retry-management/dead-letter-queue");r(f.data)}}catch{c({title:"Error",description:"Failed to fetch data",variant:"destructive"})}finally{i(!1)}},u=async f=>{try{await Qe.post(`/retry-management/dead-letter-queue/${f}/reprocess`),c({title:"Success",description:"Message queued for reprocessing"}),d()}catch{c({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},h=f=>{const x=[];let g=f.initialDelayMs;for(let p=1;p<=f.maxAttempts;p++)x.push(`${g}ms`),g=Math.min(g*f.multiplier,f.maxDelayMs);return x.join("  ")};return s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(wt,{className:"h-8 w-8"}),"Retry Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure retry policies and manage failed messages"})]}),s.jsxs(q,{onClick:d,variant:"outline",children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Active Policies"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(f=>f.isActive).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total configured"})]})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Messages in DLQ"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.filter(f=>!f.reprocessed).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting resolution"})]})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Retry Success Rate"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(K,{children:[s.jsx(re,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Avg Retry Delay"})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"2.5s"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all policies"})]})]})]}),s.jsxs(lt,{value:o,onValueChange:l,className:"space-y-4",children:[s.jsxs(nt,{children:[s.jsxs(me,{value:"policies",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Retry Policies"]}),s.jsxs(me,{value:"dlq",className:"flex items-center gap-2",children:[s.jsx(PB,{className:"h-4 w-4"}),"Dead Letter Queue"]}),s.jsxs(me,{value:"statistics",className:"flex items-center gap-2",children:[s.jsx(_N,{className:"h-4 w-4"}),"Statistics"]})]}),s.jsx(ue,{value:"policies",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Retry Policies"}),s.jsx(xe,{children:"Configure how failed messages are retried for each adapter"})]}),s.jsx(G,{children:a?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):e.length===0?s.jsxs(tt,{children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx(st,{children:"No retry policies configured. Default policy will be used."})]}):s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Adapter"}),s.jsx(Ce,{children:"Policy Name"}),s.jsx(Ce,{children:"Max Attempts"}),s.jsx(Ce,{children:"Delay Pattern"}),s.jsx(Ce,{children:"Retry On"}),s.jsx(Ce,{children:"Status"})]})}),s.jsx(er,{children:e.map(f=>s.jsxs(Kt,{children:[s.jsx(Ee,{className:"font-medium",children:f.adapterName||"Unknown"}),s.jsx(Ee,{children:f.name}),s.jsx(Ee,{children:f.maxAttempts}),s.jsx(Ee,{className:"text-xs font-mono",children:h(f)}),s.jsx(Ee,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:f.retryOnErrors.map(x=>s.jsx(de,{variant:"secondary",className:"text-xs",children:x},x))})}),s.jsx(Ee,{children:s.jsx(de,{variant:f.isActive?"default":"secondary",children:f.isActive?"Active":"Inactive"})})]},f.id))})]})})]})}),s.jsx(ue,{value:"dlq",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Dead Letter Queue"}),s.jsx(xe,{children:"Messages that failed after all retry attempts"})]}),s.jsx(G,{children:a?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):n.length===0?s.jsxs(tt,{children:[s.jsx(Bs,{className:"h-4 w-4 text-green-600"}),s.jsx(st,{children:"No messages in the dead letter queue. Great job!"})]}):s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Message ID"}),s.jsx(Ce,{children:"Adapter"}),s.jsx(Ce,{children:"Business Component"}),s.jsx(Ce,{children:"Error Type"}),s.jsx(Ce,{children:"Attempts"}),s.jsx(Ce,{children:"Last Error"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:n.map(f=>s.jsxs(Kt,{children:[s.jsxs(Ee,{className:"font-mono text-xs",children:[f.originalMessageId.substring(0,8),"..."]}),s.jsx(Ee,{children:f.adapterName}),s.jsx(Ee,{children:f.businessComponentName}),s.jsx(Ee,{children:s.jsx(de,{variant:"destructive",children:f.errorType})}),s.jsx(Ee,{children:f.totalRetryAttempts}),s.jsx(Ee,{className:"text-xs",children:d3(new Date(f.lastErrorAt),{addSuffix:!0})}),s.jsx(Ee,{children:s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>u(f.id),disabled:f.reprocessed,children:[s.jsx(Ia,{className:"h-3 w-3 mr-1"}),"Reprocess"]})})]},f.id))})]})})]})}),s.jsx(ue,{value:"statistics",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Retry Statistics"}),s.jsx(xe,{children:"Performance metrics and trends for retry operations"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Statistics visualization coming soon..."})})]})})]})]})},Tme=()=>{const[e,t]=m.useState(null),[n,r]=m.useState([]),[a,i]=m.useState(""),[o,l]=m.useState(!0);m.useEffect(()=>{c();const p=setInterval(c,5e3);return()=>clearInterval(p)},[]);const c=async()=>{try{const p=await Qe.get("/api/message-acknowledgments/statistics");t(p.data),l(!1)}catch(p){console.error("Failed to fetch acknowledgment statistics:",p),toast({title:"Error",description:"Failed to load acknowledgment statistics",variant:"destructive"})}},d=async p=>{try{const j=await Qe.get(`/api/message-acknowledgments/message/${p}/history`);r(j.data),i(p)}catch(j){console.error("Failed to fetch message history:",j),toast({title:"Error",description:"Failed to load message acknowledgment history",variant:"destructive"})}},u=async()=>{try{await Qe.post("/api/message-acknowledgments/cleanup"),toast({title:"Success",description:"Cleanup triggered successfully"}),c()}catch(p){console.error("Failed to trigger cleanup:",p),toast({title:"Error",description:"Failed to trigger cleanup",variant:"destructive"})}},h=async()=>{try{await Qe.post("/api/message-acknowledgments/handle-expired"),toast({title:"Success",description:"Expired acknowledgments handled"}),c()}catch(p){console.error("Failed to handle expired acknowledgments:",p),toast({title:"Error",description:"Failed to handle expired acknowledgments",variant:"destructive"})}},f=p=>{const j=Pue(p);switch(p){case"ACKNOWLEDGED":return s.jsx(qo,{className:`h-4 w-4 ${j}`});case"REJECTED":return s.jsx(Hs,{className:`h-4 w-4 ${j}`});case"PENDING":return s.jsx(Ds,{className:`h-4 w-4 ${j}`});case"REQUEUED":return s.jsx(wt,{className:`h-4 w-4 ${j}`});case"EXPIRED":return s.jsx(Bt,{className:`h-4 w-4 ${j}`});case"FAILED":return s.jsx(Hs,{className:`h-4 w-4 ${j}`});default:return null}},x=p=>{switch(p){case"ACKNOWLEDGED":return"success";case"REJECTED":case"FAILED":return"destructive";case"PENDING":return"warning";case"REQUEUED":return"default";case"EXPIRED":return"secondary";default:return"outline"}};if(o)return s.jsx("div",{className:"p-8",children:"Loading..."});const g=e?e.pending+e.acknowledged+e.rejected+e.requeued+e.expired+e.failed:0;return s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Message Acknowledgments"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage message acknowledgment status"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.pending)||0})]}),s.jsx(Ds,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx(Ai,{value:((e==null?void 0:e.pending)||0)/g*100,className:"mt-3 h-2"})]})}),s.jsx(K,{children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Acknowledged"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.acknowledged)||0})]}),s.jsx(qo,{className:"h-8 w-8 text-green-500"})]}),s.jsx(Ai,{value:((e==null?void 0:e.acknowledged)||0)/g*100,className:"mt-3 h-2"})]})}),s.jsx(K,{children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Failed/Rejected"}),s.jsx("p",{className:"text-2xl font-bold",children:((e==null?void 0:e.rejected)||0)+((e==null?void 0:e.failed)||0)})]}),s.jsx(Hs,{className:"h-8 w-8 text-red-500"})]}),s.jsx(Ai,{value:(((e==null?void 0:e.rejected)||0)+((e==null?void 0:e.failed)||0))/g*100,className:"mt-3 h-2"})]})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.activeChannels)||0})]}),s.jsx(sR,{className:"h-8 w-8 text-blue-500"})]})})})]}),s.jsxs(lt,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(nt,{children:[s.jsx(me,{value:"overview",children:"Overview"}),s.jsx(me,{value:"history",children:"Message History"}),s.jsx(me,{value:"maintenance",children:"Maintenance"})]}),s.jsx(ue,{value:"overview",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Acknowledgment Status Distribution"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:Object.entries(e||{}).map(([p,j])=>p==="activeChannels"?null:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(p.toUpperCase()),s.jsx("span",{className:"capitalize font-medium",children:p})]}),s.jsx(de,{variant:x(p.toUpperCase()),children:j})]},p))})})]})}),s.jsx(ue,{value:"history",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Message Acknowledgment History"}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:"Enter message ID to view history...",className:"w-full px-4 py-2 border rounded-lg",value:a,onChange:p=>i(p.target.value),onKeyPress:p=>{p.key==="Enter"&&a&&d(a)}})})]}),s.jsx(G,{children:n.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Delivery Tag"}),s.jsx(Ce,{children:"Retry Count"}),s.jsx(Ce,{children:"Created"}),s.jsx(Ce,{children:"Processed"}),s.jsx(Ce,{children:"Error"})]})}),s.jsx(er,{children:n.map(p=>s.jsxs(Kt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[f(p.status),s.jsx(de,{variant:x(p.status),children:p.status})]})}),s.jsx(Ee,{children:p.deliveryTag}),s.jsx(Ee,{children:p.retryCount}),s.jsx(Ee,{children:new Date(p.createdAt).toLocaleString()}),s.jsxs(Ee,{children:[p.acknowledgedAt&&new Date(p.acknowledgedAt).toLocaleString(),p.rejectedAt&&new Date(p.rejectedAt).toLocaleString()]}),s.jsx(Ee,{className:"max-w-xs truncate",children:p.errorMessage})]},p.id))})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Enter a message ID to view its acknowledgment history"})})]})}),s.jsx(ue,{value:"maintenance",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Maintenance Actions"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Handle Expired Acknowledgments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Process acknowledgments that have exceeded the timeout period"})]}),s.jsxs(q,{onClick:h,variant:"outline",size:"sm",children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Handle Expired"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Cleanup Old Records"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove acknowledged and rejected records older than retention period"})]}),s.jsxs(q,{onClick:u,variant:"outline",size:"sm",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Cleanup"]})]})]})]})})]})]})};function Pme(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){Pme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ame(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function kme(e,t){if(e==null)return{};var n=Ame(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mme(e,t){return Rme(e)||Dme(e,t)||Fme(e,t)||Ome()}function Rme(e){if(Array.isArray(e))return e}function Dme(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Fme(e,t){if(e){if(typeof e=="string")return LT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(e,t)}}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ime(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){Ime(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(a,i){return i(a)},r)}}function nu(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function ix(e){return{}.toString.call(e).includes("Object")}function Lme(e){return!Object.keys(e).length}function dh(e){return typeof e=="function"}function $me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vme(e,t){return ix(t)||Di("changeType"),Object.keys(t).some(function(n){return!$me(e,n)})&&Di("changeField"),t}function Ume(e){dh(e)||Di("selectorType")}function Bme(e){dh(e)||ix(e)||Di("handlerType"),ix(e)&&Object.values(e).some(function(t){return!dh(t)})&&Di("handlersType")}function Hme(e){e||Di("initialIsRequired"),ix(e)||Di("initialType"),Lme(e)&&Di("initialContent")}function zme(e,t){throw new Error(e[t]||e.default)}var qme={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Di=nu(zme)(qme),df={changes:Vme,selector:Ume,handler:Bme,initial:Hme};function Wme(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};df.initial(e),df.handler(t);var n={current:e},r=nu(Xme)(n,t),a=nu(Kme)(n),i=nu(df.changes)(e),o=nu(Yme)(n);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return df.selector(d),d(n.current)}function c(d){_me(r,a,i,o)(d)}return[l,c]}function Yme(e,t){return dh(t)?t(e.current):t}function Kme(e,t){return e.current=VT(VT({},e.current),t),t}function Xme(e,t,n){return dh(t)?t(e.current):Object.keys(n).forEach(function(r){var a;return(a=t[r])===null||a===void 0?void 0:a.call(t,e.current[r])}),n}var Gme={create:Wme},Jme={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Qme(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function Zme(e){return{}.toString.call(e).includes("Object")}function efe(e){return e||UT("configIsRequired"),Zme(e)||UT("configType"),e.urls?(tfe(),{paths:{vs:e.urls.monacoBase}}):e}function tfe(){console.warn(S3.deprecation)}function sfe(e,t){throw new Error(e[t]||e.default)}var S3={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},UT=Qme(sfe)(S3),nfe={config:efe},rfe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){return n.reduceRight(function(i,o){return o(i)},a)}};function C3(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],C3(e[n],t[n]))}),_T(_T({},e),t)}var afe={type:"cancelation",msg:"operation is manually canceled"};function by(e){var t=!1,n=new Promise(function(r,a){e.then(function(i){return t?a(afe):r(i)}),e.catch(a)});return n.cancel=function(){return t=!0},n}var ife=Gme.create({config:Jme,isInitialized:!1,resolve:null,reject:null,monaco:null}),E3=Mme(ife,2),fm=E3[0],Bg=E3[1];function ofe(e){var t=nfe.config(e),n=t.monaco,r=kme(t,["monaco"]);Bg(function(a){return{config:C3(a.config,r),monaco:n}})}function lfe(){var e=fm(function(t){var n=t.monaco,r=t.isInitialized,a=t.resolve;return{monaco:n,isInitialized:r,resolve:a}});if(!e.isInitialized){if(Bg({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),by(Sy);if(window.monaco&&window.monaco.editor)return T3(window.monaco),e.resolve(window.monaco),by(Sy);rfe(cfe,ufe)(hfe)}return by(Sy)}function cfe(e){return document.body.appendChild(e)}function dfe(e){var t=document.createElement("script");return e&&(t.src=e),t}function ufe(e){var t=fm(function(r){var a=r.config,i=r.reject;return{config:a,reject:i}}),n=dfe("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function hfe(){var e=fm(function(n){var r=n.config,a=n.resolve,i=n.reject;return{config:r,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){T3(n),e.resolve(n)},function(n){e.reject(n)})}function T3(e){fm().monaco||Bg({monaco:e})}function mfe(){return fm(function(e){var t=e.monaco;return t})}var Sy=new Promise(function(e,t){return Bg({resolve:e,reject:t})}),P3={config:ofe,init:lfe,__getMonacoInstance:mfe},ffe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Cy=ffe,pfe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xfe=pfe;function gfe({children:e}){return bt.createElement("div",{style:xfe.container},e)}var vfe=gfe,yfe=vfe;function jfe({width:e,height:t,isEditorReady:n,loading:r,_ref:a,className:i,wrapperProps:o}){return bt.createElement("section",{style:{...Cy.wrapper,width:e,height:t},...o},!n&&bt.createElement(yfe,null,r),bt.createElement("div",{ref:a,style:{...Cy.fullWidth,...!n&&Cy.hide},className:i}))}var wfe=jfe,A3=m.memo(wfe);function Nfe(e){m.useEffect(e,[])}var k3=Nfe;function bfe(e,t,n=!0){let r=m.useRef(!0);m.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var jn=bfe;function vu(){}function Yl(e,t,n,r){return Sfe(e,r)||Cfe(e,t,n,r)}function Sfe(e,t){return e.editor.getModel(M3(e,t))}function Cfe(e,t,n,r){return e.editor.createModel(t,n,r?M3(e,r):void 0)}function M3(e,t){return e.Uri.parse(t)}function Efe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:a,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:h={},height:f="100%",width:x="100%",className:g,wrapperProps:p={},beforeMount:j=vu,onMount:v=vu}){let[y,w]=m.useState(!1),[N,b]=m.useState(!0),C=m.useRef(null),S=m.useRef(null),P=m.useRef(null),A=m.useRef(v),F=m.useRef(j),O=m.useRef(!1);k3(()=>{let k=P3.init();return k.then(T=>(S.current=T)&&b(!1)).catch(T=>(T==null?void 0:T.type)!=="cancelation"&&console.error("Monaco initialization: error:",T)),()=>C.current?I():k.cancel()}),jn(()=>{if(C.current&&S.current){let k=C.current.getOriginalEditor(),T=Yl(S.current,e||"",r||n||"text",i||"");T!==k.getModel()&&k.setModel(T)}},[i],y),jn(()=>{if(C.current&&S.current){let k=C.current.getModifiedEditor(),T=Yl(S.current,t||"",a||n||"text",o||"");T!==k.getModel()&&k.setModel(T)}},[o],y),jn(()=>{let k=C.current.getModifiedEditor();k.getOption(S.current.editor.EditorOption.readOnly)?k.setValue(t||""):t!==k.getValue()&&(k.executeEdits("",[{range:k.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),k.pushUndoStop())},[t],y),jn(()=>{var k,T;(T=(k=C.current)==null?void 0:k.getModel())==null||T.original.setValue(e||"")},[e],y),jn(()=>{let{original:k,modified:T}=C.current.getModel();S.current.editor.setModelLanguage(k,r||n||"text"),S.current.editor.setModelLanguage(T,a||n||"text")},[n,r,a],y),jn(()=>{var k;(k=S.current)==null||k.editor.setTheme(d)},[d],y),jn(()=>{var k;(k=C.current)==null||k.updateOptions(h)},[h],y);let _=m.useCallback(()=>{var M;if(!S.current)return;F.current(S.current);let k=Yl(S.current,e||"",r||n||"text",i||""),T=Yl(S.current,t||"",a||n||"text",o||"");(M=C.current)==null||M.setModel({original:k,modified:T})},[n,t,a,e,r,i,o]),$=m.useCallback(()=>{var k;!O.current&&P.current&&(C.current=S.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...h}),_(),(k=S.current)==null||k.editor.setTheme(d),w(!0),O.current=!0)},[h,d,_]);m.useEffect(()=>{y&&A.current(C.current,S.current)},[y]),m.useEffect(()=>{!N&&!y&&$()},[N,y,$]);function I(){var T,M,R,L;let k=(T=C.current)==null?void 0:T.getModel();l||((M=k==null?void 0:k.original)==null||M.dispose()),c||((R=k==null?void 0:k.modified)==null||R.dispose()),(L=C.current)==null||L.dispose()}return bt.createElement(A3,{width:x,height:f,isEditorReady:y,loading:u,_ref:P,className:g,wrapperProps:p})}var Tfe=Efe;m.memo(Tfe);function Pfe(e){let t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}var Afe=Pfe,uf=new Map;function kfe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:a,path:i,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:h=!0,keepCurrentModel:f=!1,width:x="100%",height:g="100%",className:p,wrapperProps:j={},beforeMount:v=vu,onMount:y=vu,onChange:w,onValidate:N=vu}){let[b,C]=m.useState(!1),[S,P]=m.useState(!0),A=m.useRef(null),F=m.useRef(null),O=m.useRef(null),_=m.useRef(y),$=m.useRef(v),I=m.useRef(),k=m.useRef(r),T=Afe(i),M=m.useRef(!1),R=m.useRef(!1);k3(()=>{let V=P3.init();return V.then(B=>(A.current=B)&&P(!1)).catch(B=>(B==null?void 0:B.type)!=="cancelation"&&console.error("Monaco initialization: error:",B)),()=>F.current?H():V.cancel()}),jn(()=>{var B,W,Y,X;let V=Yl(A.current,e||r||"",t||a||"",i||n||"");V!==((B=F.current)==null?void 0:B.getModel())&&(h&&uf.set(T,(W=F.current)==null?void 0:W.saveViewState()),(Y=F.current)==null||Y.setModel(V),h&&((X=F.current)==null||X.restoreViewState(uf.get(i))))},[i],b),jn(()=>{var V;(V=F.current)==null||V.updateOptions(d)},[d],b),jn(()=>{!F.current||r===void 0||(F.current.getOption(A.current.editor.EditorOption.readOnly)?F.current.setValue(r):r!==F.current.getValue()&&(R.current=!0,F.current.executeEdits("",[{range:F.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),F.current.pushUndoStop(),R.current=!1))},[r],b),jn(()=>{var B,W;let V=(B=F.current)==null?void 0:B.getModel();V&&a&&((W=A.current)==null||W.editor.setModelLanguage(V,a))},[a],b),jn(()=>{var V;l!==void 0&&((V=F.current)==null||V.revealLine(l))},[l],b),jn(()=>{var V;(V=A.current)==null||V.editor.setTheme(o)},[o],b);let L=m.useCallback(()=>{var V;if(!(!O.current||!A.current)&&!M.current){$.current(A.current);let B=i||n,W=Yl(A.current,r||e||"",t||a||"",B||"");F.current=(V=A.current)==null?void 0:V.editor.create(O.current,{model:W,automaticLayout:!0,...d},u),h&&F.current.restoreViewState(uf.get(B)),A.current.editor.setTheme(o),l!==void 0&&F.current.revealLine(l),C(!0),M.current=!0}},[e,t,n,r,a,i,d,u,h,o,l]);m.useEffect(()=>{b&&_.current(F.current,A.current)},[b]),m.useEffect(()=>{!S&&!b&&L()},[S,b,L]),k.current=r,m.useEffect(()=>{var V,B;b&&w&&((V=I.current)==null||V.dispose(),I.current=(B=F.current)==null?void 0:B.onDidChangeModelContent(W=>{R.current||w(F.current.getValue(),W)}))},[b,w]),m.useEffect(()=>{if(b){let V=A.current.editor.onDidChangeMarkers(B=>{var Y;let W=(Y=F.current.getModel())==null?void 0:Y.uri;if(W&&B.find(X=>X.path===W.path)){let X=A.current.editor.getModelMarkers({resource:W});N==null||N(X)}});return()=>{V==null||V.dispose()}}return()=>{}},[b,N]);function H(){var V,B;(V=I.current)==null||V.dispose(),f?h&&uf.set(i,F.current.saveViewState()):(B=F.current.getModel())==null||B.dispose(),F.current.dispose()}return bt.createElement(A3,{width:x,height:g,isEditorReady:b,loading:c,_ref:O,className:p,wrapperProps:j})}var Mfe=kfe,Rfe=m.memo(Mfe),Dfe=Rfe;function Ffe({functionName:e,code:t,language:n,onChange:r,onSave:a,onCompile:i,onTest:o,readOnly:l=!1,errors:c=[],warnings:d=[],isCompiling:u=!1,isSaving:h=!1}){const f=x=>{switch(x){case"JAVA":return"java";case"JAVASCRIPT":return"javascript";case"GROOVY":return"java";case"PYTHON":return"python";default:return"plaintext"}};return s.jsxs(K,{className:"h-full flex flex-col",children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-5 w-5"}),e]}),s.jsxs("div",{className:"flex gap-2",children:[n==="JAVA"&&i&&s.jsx(q,{variant:"outline",size:"sm",onClick:i,disabled:u||l,children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Compiling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Compile"]})}),o&&s.jsxs(q,{variant:"outline",size:"sm",onClick:o,disabled:l||c.length>0,children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Test"]}),a&&s.jsx(q,{size:"sm",onClick:a,disabled:h||l||c.length>0,children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jr,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})}),s.jsxs(G,{className:"flex-1 flex flex-col p-0",children:[c.length>0&&s.jsxs(tt,{variant:"destructive",className:"mx-6 mb-3",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(st,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Compilation Errors:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:c.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),d.length>0&&s.jsxs(tt,{className:"mx-6 mb-3",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsxs(st,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Warnings:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:d.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),c.length===0&&d.length===0&&u===!1&&n==="JAVA"&&s.jsxs(tt,{className:"mx-6 mb-3 border-green-200 bg-green-50 text-success",children:[s.jsx(qo,{className:"h-4 w-4"}),s.jsx(st,{children:"Code compiled successfully!"})]}),s.jsx("div",{className:"flex-1 border-t",children:s.jsx(Dfe,{height:"100%",language:f(n),value:t,onChange:x=>r(x||""),options:{readOnly:l,minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderLineHighlight:"all",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,wordWrap:"on",theme:"vs-light"}})})]})]})}function BT(e){try{const t=e.match(/^(\w+)\s*\((.*)\)$/);if(!t)return null;const n=t[1],r=t[2].trim();if(!r)return{functionName:n,parameters:[]};const a=[];let i="",o=0;for(let l=0;l<r.length;l++){const c=r[l];if(c==="("?o++:c===")"&&o--,c===","&&o===0){const d=HT(i.trim());d&&a.push(d),i=""}else i+=c}if(i.trim()){const l=HT(i.trim());l&&a.push(l)}return{functionName:n,parameters:a}}catch(t){return console.error("Error parsing function signature:",t),null}}function HT(e){if(!e)return null;const t=e.match(/^(\w+)\s*:\s*(\w+)$/);if(t){const[,n,r]=t;return{name:n,type:Ofe(r),required:!0}}return{name:e,type:"any",required:!0}}function Ofe(e){return{string:"string",number:"number",boolean:"boolean",array:"array",bool:"boolean",int:"number",float:"number",double:"number",text:"string",str:"string"}[e.toLowerCase()]||"any"}function zT(e,t){return t.map(n=>{const r=n.name;return e.includes(`${r} +`)||e.includes(`${r} -`)||e.includes(`${r} *`)||e.includes(`${r} /`)||e.includes("Math.")&&e.includes(r)?{...n,type:"number"}:e.includes(`${r}.length`)||e.includes(`${r}.substring`)||e.includes(`${r}.indexOf`)||e.includes(`${r}.toUpperCase`)||e.includes(`${r}.toLowerCase`)?{...n,type:"string"}:e.includes(`!${r}`)||e.includes(`${r} &&`)||e.includes(`${r} ||`)||e.includes(`${r} ?`)?{...n,type:"boolean"}:e.includes(`${r}.length`)||e.includes(`${r}[`)||e.includes(`${r}.map`)||e.includes(`${r}.filter`)||e.includes(`${r}.reduce`)?{...n,type:"array"}:n})}const Ife=[{value:"String",label:"String"},{value:"int",label:"int"},{value:"Integer",label:"Integer"},{value:"long",label:"long"},{value:"Long",label:"Long"},{value:"double",label:"double"},{value:"Double",label:"Double"},{value:"float",label:"float"},{value:"Float",label:"Float"},{value:"boolean",label:"boolean"},{value:"Boolean",label:"Boolean"},{value:"Object",label:"Object"},{value:"List",label:"List"},{value:"Map",label:"Map"},{value:"Date",label:"Date"},{value:"LocalDateTime",label:"LocalDateTime"},{value:"BigDecimal",label:"BigDecimal"},{value:"byte[]",label:"byte[]"},{value:"any",label:"Any (Object)"}];function _fe({parameters:e,onChange:t,readOnly:n=!1}){const r=()=>{const l={name:`param${e.length+1}`,type:"String",required:!0};t([...e,l])},a=l=>{const c=e.filter((d,u)=>u!==l);t(c)},i=(l,c,d)=>{const u=[...e];u[l]={...u[l],[c]:d},t(u)},o=()=>e.length===0?"functionName()":`functionName(${e.map(c=>`${c.type} ${c.name}`).join(", ")})`;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(E,{children:"Function Parameters"}),!n&&s.jsxs(q,{type:"button",variant:"outline",size:"sm",onClick:r,className:"h-8",children:[s.jsx(vs,{className:"h-3 w-3 mr-1"}),"Add Parameter"]})]}),e.length===0?s.jsx(K,{className:"p-4 border-dashed",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'No parameters defined. Click "Add Parameter" to add one.'})}):s.jsx("div",{className:"space-y-2",children:e.map((l,c)=>s.jsxs(K,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Parameter Name"}),s.jsx(U,{value:l.name,onChange:d=>i(c,"name",d.target.value),placeholder:"paramName",disabled:n,className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Java Type"}),s.jsxs(Z,{value:l.type,onValueChange:d=>i(c,"type",d),disabled:n,children:[s.jsx(J,{className:"h-8 text-sm",children:s.jsx(ee,{})}),s.jsx(Q,{children:Ife.map(d=>s.jsx(D,{value:d.value,className:"text-sm",children:d.label},d.value))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(E,{className:"text-xs",children:"Required"}),s.jsxs(Z,{value:l.required?"true":"false",onValueChange:d=>i(c,"required",d==="true"),disabled:n,children:[s.jsx(J,{className:"h-8 text-sm",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"true",className:"text-sm",children:"Required"}),s.jsx(D,{value:"false",className:"text-sm",children:"Optional"})]})]})]})]}),!n&&s.jsx(q,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(Et,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(U,{value:l.description||"",onChange:d=>i(c,"description",d.target.value),placeholder:"Parameter description (optional)",disabled:n,className:"h-8 text-sm"})})]},c))}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsx(E,{className:"text-xs text-muted-foreground mb-1 block",children:"Generated Signature Preview"}),s.jsx("code",{className:"text-sm font-mono",children:o()})]})]})}function Lfe({functionId:e,functionName:t,parameters:n,onTest:r}){const[a,i]=m.useState({}),[o,l]=m.useState(!1),[c,d]=m.useState(null),u=(p,j)=>{i(v=>({...v,[p]:j}))},h=(p,j)=>{if(!p&&j!=="String")return null;try{switch(j){case"int":case"Integer":return parseInt(p,10);case"long":case"Long":return parseInt(p,10);case"double":case"Double":return parseFloat(p);case"float":case"Float":return parseFloat(p);case"boolean":case"Boolean":return p.toLowerCase()==="true";case"List":try{const v=JSON.parse(p);return Array.isArray(v)?v:[p]}catch{return p.split(",").map(v=>v.trim())}case"Map":case"Object":try{return JSON.parse(p)}catch{return p}default:return p}}catch(v){return console.error(`Error parsing ${j} value:`,v),p}},f=async()=>{l(!0),d(null);try{const p={};for(const w of n){const N=a[w.name]||"";p[w.name]=h(N,w.type)}const j=Date.now(),v=await r(e,p),y=Date.now()-j;d({...v,executionTime:y})}catch(p){d({success:!1,error:p instanceof Error?p.message:"Test execution failed"})}finally{l(!1)}},x=p=>{switch(p.type){case"int":case"Integer":case"long":case"Long":return"e.g., 42";case"double":case"Double":case"float":case"Float":return"e.g., 3.14";case"boolean":case"Boolean":return"true or false";case"List":return"e.g., [1, 2, 3] or 1,2,3";case"Map":case"Object":return'e.g., {"key": "value"}';case"Date":case"LocalDateTime":return"e.g., 2024-01-01 or 2024-01-01T10:30:00";default:return"Enter value..."}},g=p=>{if(p==null)return"null";if(typeof p=="object")try{return JSON.stringify(p,null,2)}catch{return String(p)}return String(p)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(E,{children:"Test Inputs"}),n.length===0?s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(st,{children:'This function has no parameters. Click "Run Test" to execute it.'})]}):s.jsx("div",{className:"space-y-3",children:n.map(p=>s.jsx(K,{className:"p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs(E,{className:"text-sm",children:[p.name,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-mono bg-muted px-1 py-0.5 rounded",children:p.type}),p.description&&s.jsx("span",{children:p.description})]})]})}),s.jsx(U,{value:a[p.name]||"",onChange:j=>u(p.name,j.target.value),placeholder:x(p),className:"font-mono text-sm"})]})},p.name))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(q,{onClick:f,disabled:o,className:"w-full sm:w-auto",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Test..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Run Test"]})})}),c&&s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:c.success?s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"h-5 w-5 text-success"}),s.jsx("span",{className:"font-semibold text-success",children:"Test Passed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Hs,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"font-semibold text-destructive",children:"Test Failed"})]})}),c.executionTime!==void 0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.executionTime,"ms"]})]}),c.success&&c.output!==void 0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{className:"text-sm",children:"Output"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:s.jsx("code",{children:g(c.output)})})]}),!c.success&&c.error&&s.jsxs(tt,{variant:"destructive",children:[s.jsx(Hs,{className:"h-4 w-4"}),s.jsx(st,{className:"font-mono text-sm",children:c.error})]})]})})]})}function $fe({open:e,onOpenChange:t,function:n,mode:r,onSave:a,onCompile:i,onTest:o,isBuiltIn:l=!1,developmentMode:c=!1}){const[d,u]=m.useState({name:"",description:"",category:"general",language:"JAVA",functionSignature:"",functionBody:"",isSafe:!0,isPublic:!0,performanceClass:"NORMAL"}),[h,f]=m.useState([]),[x,g]=m.useState([]),[p,j]=m.useState([]),[v,y]=m.useState(!1),[w,N]=m.useState(!1),[b,C]=m.useState(!1),[S,P]=m.useState([]);m.useEffect(()=>{if(n){if(u({name:n.name||"",description:n.description||"",category:n.category||"general",language:n.language||"JAVA",functionSignature:n.functionSignature||"",functionBody:n.functionBody||"",isSafe:n.isSafe??!0,isPublic:n.isPublic??!0,performanceClass:n.performanceClass||"NORMAL"}),C(!1),g([]),j([]),n.parameters)try{const k=typeof n.parameters=="string"?JSON.parse(n.parameters):n.parameters;f(k),P(k)}catch(k){if(console.error("Failed to parse parameters:",k),n.functionSignature){const T=BT(n.functionSignature);if(T){const M=zT(n.functionBody||"",T.parameters);f(M),P(M)}}}else if(n.functionSignature){const k=BT(n.functionSignature);if(k){const T=zT(n.functionBody||"",k.parameters);f(T),P(T)}}}},[n]);const A=async()=>{if(!(!i||d.language!=="JAVA")){y(!0),g([]),j([]);try{const k=await i(d.functionBody);k.success?(C(!0),j(k.warnings||[])):g(k.errors||["Compilation failed"])}catch(k){g(["Failed to compile: "+k])}finally{y(!1)}}},F=async()=>{if(a){if(d.language==="JAVA"&&!b&&r!=="view"){g(["Please compile the Java code before saving"]);return}N(!0);try{const k=I(d.name,h),T={...d,functionSignature:k,parameters:h};await a(T),t(!1)}catch(k){console.error("Failed to save:",k)}finally{N(!1)}}},O=r==="edit"||r==="create",_=O&&c,$=k=>{f(k),P(k),C(!1)},I=(k,T)=>{if(T.length===0)return`${k}()`;const M=T.map(R=>`${R.type} ${R.name}`).join(", ");return`${k}(${M})`};return s.jsx(_t,{open:e,onOpenChange:t,children:s.jsxs(kt,{className:"max-w-6xl max-h-[90vh] p-0",children:[s.jsxs(Lt,{className:"px-6 pt-6",children:[s.jsx($t,{children:r==="create"?"Create New Function":r==="edit"?"Edit Function":"View Function"}),s.jsx(Cr,{children:r==="create"?"Create a new transformation function":r==="edit"?"Modify the function implementation":"View function details and implementation"})]}),s.jsxs(lt,{defaultValue:"details",className:"flex-1",children:[s.jsxs(nt,{className:"mx-6",children:[s.jsx(me,{value:"details",children:"Details"}),s.jsx(me,{value:"code",children:"Code"}),n&&s.jsx(me,{value:"test",children:"Test"})]}),s.jsxs(Jr,{className:"h-[60vh]",children:[s.jsx(ue,{value:"details",className:"px-6 space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"name",children:"Function Name"}),s.jsx(U,{id:"name",value:d.name,onChange:k=>u({...d,name:k.target.value}),readOnly:!O||l&&r==="edit",placeholder:"e.g., calculateTax"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"category",children:"Category"}),s.jsxs(Z,{value:d.category,onValueChange:k=>u({...d,category:k}),disabled:!O,children:[s.jsx(J,{id:"category",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"math",children:"Math"}),s.jsx(D,{value:"text",children:"Text"}),s.jsx(D,{value:"date",children:"Date"}),s.jsx(D,{value:"boolean",children:"Boolean"}),s.jsx(D,{value:"conversion",children:"Conversion"}),s.jsx(D,{value:"node",children:"Node"}),s.jsx(D,{value:"constants",children:"Constants"}),s.jsx(D,{value:"general",children:"General"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"description",children:"Description"}),s.jsx(Re,{id:"description",value:d.description,onChange:k=>u({...d,description:k.target.value}),readOnly:!O,placeholder:"Describe what this function does...",rows:3})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(_fe,{parameters:h,onChange:$,readOnly:!O||l&&!c}),O&&r==="create"&&s.jsxs(tt,{children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx(st,{className:"text-xs",children:"Define your function parameters above. The signature will be generated automatically."})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"language",children:"Language"}),s.jsxs(Z,{value:d.language,onValueChange:k=>{u({...d,language:k}),C(!1),g([]),j([])},disabled:!O||l&&r==="edit",children:[s.jsx(J,{id:"language",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"JAVA",children:"Java"}),!l&&s.jsxs(s.Fragment,{children:[s.jsx(D,{value:"GROOVY",children:"Groovy"}),s.jsx(D,{value:"JAVASCRIPT",children:"JavaScript"}),s.jsx(D,{value:"PYTHON",children:"Python"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{htmlFor:"performance",children:"Performance Class"}),s.jsxs(Z,{value:d.performanceClass,onValueChange:k=>u({...d,performanceClass:k}),disabled:!O,children:[s.jsx(J,{id:"performance",children:s.jsx(ee,{})}),s.jsxs(Q,{children:[s.jsx(D,{value:"FAST",children:"Fast"}),s.jsx(D,{value:"NORMAL",children:"Normal"}),s.jsx(D,{value:"SLOW",children:"Slow"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E,{children:"Flags"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[d.isPublic&&s.jsx(de,{variant:"secondary",children:"Public"}),d.isSafe&&s.jsx(de,{variant:"secondary",children:"Safe"}),l&&s.jsx(de,{children:"Built-in"})]})]})]})]})}),s.jsx(ue,{value:"code",className:"h-full",children:s.jsx("div",{className:"h-[50vh] px-6",children:s.jsx(Ffe,{functionName:d.name,code:d.functionBody,language:d.language,onChange:k=>{u({...d,functionBody:k}),C(!1)},onCompile:d.language==="JAVA"?A:void 0,readOnly:!O,errors:x,warnings:p,isCompiling:v})})}),s.jsx(ue,{value:"test",className:"px-6",children:s.jsx(Lfe,{functionId:(n==null?void 0:n.functionId)||"",functionName:d.name,parameters:h,onTest:o||(async()=>({success:!1,error:"Test handler not provided"}))})})]})]}),s.jsxs(ka,{className:"px-6 pb-6",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),_&&s.jsx(q,{onClick:F,disabled:w||x.length>0,children:w?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Function"})]})]})})}const Vfe=()=>{const[e,t]=m.useState(""),[n,r]=m.useState("all"),[a,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState("view"),u=yS(),{data:h}=nw({queryKey:["development-mode"],queryFn:async()=>await Qe.get("/development/functions/development-mode")}),{data:f,isLoading:x}=nw({queryKey:["development-functions"],queryFn:async()=>await Qe.get("/development/functions")}),g=async T=>await Qe.get(`/development/functions/${T}`),p=gu({mutationFn:async T=>await Qe.post("/development/functions",T),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function created successfully"}),i(!1)},onError:T=>{var M,R;toast({title:"Error",description:((R=(M=T.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to create function",variant:"destructive"})}}),j=gu({mutationFn:async({functionId:T,data:M})=>await Qe.put(`/development/functions/${T}`,M),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function updated successfully"}),i(!1)},onError:T=>{var M,R;toast({title:"Error",description:((R=(M=T.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to update function",variant:"destructive"})}}),v=gu({mutationFn:async T=>{await Qe.delete(`/development/functions/${T}`)},onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function deleted successfully"})},onError:T=>{var M,R;toast({title:"Error",description:((R=(M=T.response)==null?void 0:M.data)==null?void 0:R.message)||"Failed to delete function",variant:"destructive"})}}),y=async T=>{var M;try{return await Qe.post("/development/functions/compile",{functionName:(o==null?void 0:o.name)||"TestFunction",code:T})}catch(R){throw((M=R.response)==null?void 0:M.data)||R}},w=async(T,M)=>{var R;try{return await Qe.post(`/development/functions/${T}/test`,M)}catch(L){throw((R=L.response)==null?void 0:R.data)||L}},N=(f==null?void 0:f.builtInFunctions.filter(T=>{const M=T.name.toLowerCase().includes(e.toLowerCase())||T.description.toLowerCase().includes(e.toLowerCase()),R=n==="all"||T.category===n;return M&&R}))||[],b=(f==null?void 0:f.customFunctions.content.filter(T=>{const M=T.name.toLowerCase().includes(e.toLowerCase())||T.description.toLowerCase().includes(e.toLowerCase()),R=n==="all"||T.category===n;return M&&R}))||[],C=["all",...new Set((f==null?void 0:f.builtInFunctions.map(T=>T.category))||[])],S=(h==null?void 0:h.developmentMode)||!1,P=()=>{l(null),d("create"),i(!0)},A=async(T,M=!1)=>{try{const R=await g(T);l(R),d("view"),i(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},F=async(T,M=!1)=>{try{const R=await g(T);l(R),d("edit"),i(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},O=async T=>{c==="create"?p.mutate(T):c==="edit"&&o&&j.mutate({functionId:o.functionId,data:T})},_=async T=>{confirm("Are you sure you want to delete this function?")&&v.mutate(T)},$=T=>{switch(T){case"FAST":return s.jsx(En,{className:"h-3 w-3 text-green-500"});case"SLOW":return s.jsx(Ds,{className:"h-3 w-3 text-orange-500"});default:return s.jsx(qo,{className:"h-3 w-3 text-blue-500"})}},I=async T=>{try{return await Qe.get(`/development/functions/built-in/${T}`)}catch(M){return console.error("Error finding built-in function:",M),null}},k=async T=>{try{const M=await I(T.name);M?(l(M),d(S?"edit":"view"),i(!0)):toast({title:"Error",description:"Function details not found",variant:"destructive"})}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}};return x?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})}):s.jsxs("div",{className:"h-full w-full px-6 md:px-8 py-6 space-y-6 overflow-auto animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Nn,{className:"h-8 w-8"}),"Development Functions"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and test transformation functions for visual flow and orchestration editors"})]}),S&&s.jsxs(q,{className:"gap-2",onClick:P,children:[s.jsx(vs,{className:"h-4 w-4"}),"Create Function"]})]}),!S&&s.jsxs(tt,{children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx(yd,{children:"Read-Only Mode"}),s.jsxs(st,{children:["Function creation and editing is only available in development mode. Current profile: ",(h==null?void 0:h.developmentMode)===!1?"Production/QA":"Unknown"]})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Search Functions"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(U,{placeholder:"Search by name or description...",value:e,onChange:T=>t(T.target.value),className:"pl-10"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:C.map(T=>s.jsx(de,{variant:n===T?"default":"outline",className:"cursor-pointer",onClick:()=>r(T),children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]})]}),s.jsxs(lt,{defaultValue:"builtin",className:"space-y-4",children:[s.jsxs(nt,{children:[s.jsxs(me,{value:"builtin",children:["Built-in Functions (",N.length,")"]}),s.jsxs(me,{value:"custom",children:["Custom Functions (",b.length,")"]})]}),s.jsx(ue,{value:"builtin",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Built-in Functions"}),s.jsx(xe,{children:"Pre-configured functions available in all environments"})]}),s.jsx(G,{children:s.jsx(Jr,{className:"h-[600px]",children:s.jsx("div",{className:"space-y-2",children:N.map((T,M)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>k(T),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:T.name}),s.jsx(de,{variant:"secondary",className:"text-xs",children:T.category}),s.jsx(de,{className:"text-xs",children:"Built-in"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:T.signature})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(q,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),k(T)},children:S?s.jsx(Ta,{className:"h-4 w-4"}):s.jsx(Ea,{className:"h-4 w-4"})})})]})},`${T.category}-${T.name}`))})})})]})}),s.jsx(ue,{value:"custom",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Custom Functions"}),s.jsx(xe,{children:"User-defined functions for specialized transformations"})]}),s.jsx(G,{children:s.jsx(Jr,{className:"h-[600px]",children:s.jsxs("div",{className:"space-y-2",children:[b.filter(T=>!T.isBuiltIn).map(T=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>A(T.functionId),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:T.name}),s.jsx(de,{variant:"secondary",className:"text-xs",children:T.language}),s.jsxs("div",{className:"flex items-center gap-1",children:[$(T.performanceClass),s.jsx("span",{className:"text-xs text-muted-foreground",children:T.performanceClass})]}),T.isSafe?s.jsxs(de,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(qo,{className:"h-3 w-3"}),"Safe"]}):s.jsxs(de,{variant:"destructive",className:"text-xs gap-1",children:[s.jsx(Bt,{className:"h-3 w-3"}),"Unsafe"]}),T.isPublic?s.jsxs(de,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(RB,{className:"h-3 w-3"}),"Public"]}):s.jsxs(de,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(_i,{className:"h-3 w-3"}),"Private"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:T.functionSignature}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Version ",T.version,"  Created by ",T.createdBy]})]}),S&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{size:"sm",variant:"ghost",onClick:M=>{M.stopPropagation(),A(T.functionId)},children:s.jsx(Ea,{className:"h-4 w-4"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:M=>{M.stopPropagation(),F(T.functionId)},children:s.jsx(Ta,{className:"h-4 w-4"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:M=>{M.stopPropagation(),_(T.functionId)},children:s.jsx(tr,{className:"h-4 w-4"})})]})]})},T.functionId)),b.filter(T=>!T.isBuiltIn).length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No custom functions found"})]})})})]})})]}),s.jsx($fe,{open:a,onOpenChange:i,function:o,mode:c,onSave:O,onCompile:y,onTest:w,isBuiltIn:(o==null?void 0:o.isBuiltIn)||!1,developmentMode:S})]})};class Ufe{async deployFlow(t){try{return await te.post(`/flows/${t}/deployment/deploy`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to deploy flow"}}}async undeployFlow(t){try{return{success:(await te.post(`/flows/${t}/deployment/undeploy`)).success}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to undeploy flow"}}}async getDeploymentInfo(t){try{return await te.get(`/flows/${t}/deployment`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch deployment info"}}}}const Bfe=new Ufe;function Hfe(){const e=Xs(),{toast:t}=mt(),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,x]=m.useState("all"),[g,p]=m.useState(null);m.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const A=await lw.getFlows();if(A.success&&A.data){const F=Array.isArray(A.data)?A.data:A.data.flows||[];r(F)}}catch{t({variant:"destructive",title:"Error",description:"Failed to fetch interfaces"})}finally{i(!1)}},v=()=>{j(),t({title:"Success",description:"Interfaces refreshed"})},y=A=>{h(A),d(!0)},w=async()=>{if(u)try{const A=await lw.deleteFlow(u.id);if(A.success)t({title:"Success",description:"Interface deleted successfully"}),j();else throw new Error(A.error||"Failed to delete interface")}catch(A){t({variant:"destructive",title:"Error",description:A instanceof Error?A.message:"Failed to delete interface"})}finally{d(!1),h(null)}},N=async A=>{try{p(A.id);const F=await Bfe.deployFlow(A.id);F.success?(t({title:"Success",description:`Interface "${A.name}" has been deployed successfully`}),j()):t({variant:"destructive",title:"Deployment Failed",description:F.error||"Failed to deploy interface"})}catch{t({variant:"destructive",title:"Error",description:"An error occurred during deployment"})}finally{p(null)}},C=(()=>{let A=n.filter(F=>{var O;return F.name.toLowerCase().includes(o.toLowerCase())||((O=F.description)==null?void 0:O.toLowerCase().includes(o.toLowerCase()))});switch(f){case"undeployed":return A.filter(F=>F.status==="DEVELOPED_INACTIVE"||F.status==="DRAFT"||F.status==="INACTIVE");case"deployed":return A.filter(F=>F.status==="DEPLOYED_ACTIVE"||F.status==="ACTIVE");default:return A}})(),S=A=>{const F={DEPLOYED_ACTIVE:"bg-green-500",DRAFT:"bg-blue-500",INACTIVE:"bg-gray-500",ERROR:"bg-red-500",DEVELOPED_INACTIVE:"bg-yellow-500"};return s.jsx(de,{className:`${F[A]||"bg-gray-500"} text-white`,children:A.replace("_"," ")})},P=A=>s.jsx(de,{variant:"outline",children:A==="WITH_MAPPING"?"Direct Mapping":"Orchestration"});return a?s.jsx("div",{className:"h-full w-full px-6 md:px-8 py-6 overflow-auto animate-fade-in",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(Ct,{className:"h-8 w-8 animate-spin"})})}):s.jsxs(Zh,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Interface Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage all your integration flows in one place"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:()=>e("/create-direct-mapping-flow"),children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),s.jsx(ri,{className:"h-4 w-4 mr-2"}),"Direct Mapping"]}),s.jsxs(q,{onClick:()=>e("/create-orchestration-flow"),variant:"outline",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),s.jsx(Mh,{className:"h-4 w-4 mr-2"}),"Orchestration Flow"]})]})]}),s.jsxs(lt,{value:f,onValueChange:x,className:"space-y-4",children:[s.jsxs(nt,{className:"grid w-full grid-cols-3",children:[s.jsx(me,{value:"all",children:"All Interfaces"}),s.jsx(me,{value:"undeployed",children:"Undeployed"}),s.jsx(me,{value:"deployed",children:"Deployed"})]}),s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(G,{children:s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(U,{placeholder:"Search by name...",value:o,onChange:A=>l(A.target.value),className:"pl-10"})]})})]}),s.jsx(ue,{value:f,children:s.jsxs(K,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-5 w-5"}),f==="all"&&`All Interfaces (${C.length})`,f==="undeployed"&&`Undeployed Interfaces (${C.length})`,f==="deployed"&&`Deployed Interfaces (${C.length})`]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:v,children:[s.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(G,{children:a?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading interfaces..."})}):C.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Bt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:o?"No interfaces found matching your search.":f==="deployed"?"No deployed interfaces found.":f==="undeployed"?"No undeployed interfaces found.":"No interfaces created yet."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qn,{children:[s.jsx(Zn,{children:s.jsxs(Kt,{children:[s.jsx(Ce,{children:"Name"}),s.jsx(Ce,{children:"Type"}),s.jsx(Ce,{children:"Source  Target"}),s.jsx(Ce,{children:"Status"}),s.jsx(Ce,{children:"Created"}),s.jsx(Ce,{children:"Actions"})]})}),s.jsx(er,{children:C.map(A=>{const F=g===A.id;return s.jsxs(Kt,{children:[s.jsx(Ee,{className:"font-medium",children:A.name}),s.jsx(Ee,{children:P(A.mappingMode||"PASS_THROUGH")}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(de,{variant:"outline",children:A.sourceAdapterType||"Unknown"}),s.jsx("span",{children:""}),s.jsx(de,{variant:"outline",children:A.targetAdapterType||"Unknown"})]})}),s.jsx(Ee,{children:S(A.status)}),s.jsx(Ee,{children:new Date(A.createdAt).toLocaleDateString()}),s.jsx(Ee,{children:s.jsxs(og,{children:[s.jsx(lg,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(rR,{className:"h-4 w-4"})})}),s.jsxs(Vh,{align:"end",children:[s.jsx(wb,{children:"Actions"}),s.jsx(Pi,{}),f==="undeployed"?s.jsxs(ps,{onClick:()=>N(A),disabled:F||A.status==="DRAFT",children:[F?s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(zC,{className:"h-4 w-4 mr-2"}),"Deploy"]}):s.jsxs(s.Fragment,{children:[s.jsxs(ps,{onClick:()=>e(`/flows/${A.id}/edit`),children:[s.jsx(Ea,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(ps,{onClick:()=>e(`/flows/${A.id}/edit`),children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Edit"]}),f==="all"&&(A.status==="DEVELOPED_INACTIVE"||A.status==="DRAFT"||A.status==="INACTIVE")&&s.jsxs(s.Fragment,{children:[s.jsx(Pi,{}),s.jsxs(ps,{onClick:()=>N(A),disabled:F||A.status==="DRAFT",children:[F?s.jsx(Ct,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(zC,{className:"h-4 w-4 mr-2"}),"Deploy"]})]}),s.jsx(Pi,{}),s.jsxs(ps,{onClick:()=>y(A),className:"text-red-600",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},A.id)})})]})})})]})})]}),s.jsx(_t,{open:c,onOpenChange:d,children:s.jsxs(kt,{children:[s.jsxs(Lt,{children:[s.jsx($t,{children:"Delete Interface"}),s.jsxs(Cr,{children:['Are you sure you want to delete "',u==null?void 0:u.name,'"? This action cannot be undone.']})]}),s.jsxs(ka,{children:[s.jsx(q,{variant:"outline",onClick:()=>{d(!1),h(null)},children:"Cancel"}),s.jsx(q,{variant:"destructive",onClick:w,children:"Delete"})]})]})})]})}const zfe=()=>{const e=Fn();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary",children:s.jsxs(K,{className:"w-full max-w-md shadow-elegant text-center",children:[s.jsxs(re,{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center",children:s.jsx(Jn,{className:"h-6 w-6 text-primary-foreground"})})}),s.jsx(ie,{className:"text-4xl font-bold text-foreground",children:"404"}),s.jsx(xe,{className:"text-xl",children:"Oops! Page not found"})]}),s.jsxs(G,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(q,{asChild:!0,className:"bg-primary hover:opacity-90",children:s.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})};new Y$({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,refetchOnWindowFocus:!1},mutations:{retry:!1}}});const qfe=new Y$,Wfe=({children:e})=>s.jsxs(Kle,{client:qfe,children:[e,!1]});class Yfe extends m.Component{constructor(){super(...arguments);ft(this,"state",{hasError:!1,error:null,errorInfo:null});ft(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});ft(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r}),console.error("React Error Boundary triggered:",{error:n.message,stack:n.stack,componentStack:r.componentStack}),this.props.onError&&this.props.onError(n,r),console.error("Production error:",{error:n.toString(),componentStack:r.componentStack,stack:n.stack})}render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(K,{className:"w-full max-w-lg",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-6 w-6 text-destructive"}),s.jsx(ie,{children:"Something went wrong"})]}),s.jsx(xe,{children:"An unexpected error occurred. Don't worry, we've logged this issue."})]}),s.jsxs(G,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:this.handleReset,variant:"default",children:[s.jsx(wt,{className:"mr-2 h-4 w-4"}),"Try Again"]}),s.jsxs(q,{onClick:this.handleGoHome,variant:"outline",children:[s.jsx(Uj,{className:"mr-2 h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}const Kfe=5e3,R3=N3((e,t)=>({notifications:[],addNotification:n=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a={...n,id:r,duration:n.duration??Kfe,dismissible:n.dismissible??!0};e(i=>({notifications:[...i.notifications,a]})),a.duration&&a.duration>0&&setTimeout(()=>{t().removeNotification(r)},a.duration)},removeNotification:n=>{e(r=>({notifications:r.notifications.filter(a=>a.id!==n)}))},clearNotifications:()=>{e({notifications:[]})}})),LS=m.createContext({});function $S(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const VS=typeof window<"u",D3=VS?m.useLayoutEffect:m.useEffect,Hg=m.createContext(null);function US(e,t){e.indexOf(t)===-1&&e.push(t)}function BS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Da=(e,t,n)=>n>t?t:n<e?e:n;let ox=()=>{};const Fa={},F3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function O3(e){return typeof e=="object"&&e!==null}const I3=e=>/^0[^.\s]+$/u.test(e);function HS(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yn=e=>e,Xfe=(e,t)=>n=>t(e(n)),pm=(...e)=>e.reduce(Xfe),uh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class zS{constructor(){this.subscriptions=[]}add(t){return US(this.subscriptions,t),()=>BS(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wr=e=>e*1e3,Yr=e=>e/1e3;function _3(e,t){return t?e*(1e3/t):0}const L3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Gfe=1e-7,Jfe=12;function Qfe(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=L3(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Gfe&&++l<Jfe);return o}function xm(e,t,n,r){if(e===t&&n===r)return Yn;const a=i=>Qfe(i,0,1,e,n);return i=>i===0||i===1?i:L3(a(i),t,r)}const $3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V3=e=>t=>1-e(1-t),U3=xm(.33,1.53,.69,.99),qS=V3(U3),B3=$3(qS),H3=e=>(e*=2)<1?.5*qS(e):.5*(2-Math.pow(2,-10*(e-1))),WS=e=>1-Math.sin(Math.acos(e)),z3=V3(WS),q3=$3(WS),Zfe=xm(.42,0,1,1),epe=xm(0,0,.58,1),W3=xm(.42,0,.58,1),tpe=e=>Array.isArray(e)&&typeof e[0]!="number",Y3=e=>Array.isArray(e)&&typeof e[0]=="number",qT={linear:Yn,easeIn:Zfe,easeInOut:W3,easeOut:epe,circIn:WS,circInOut:q3,circOut:z3,backIn:qS,backInOut:B3,backOut:U3,anticipate:H3},spe=e=>typeof e=="string",WT=e=>{if(Y3(e)){ox(e.length===4);const[t,n,r,a]=e;return xm(t,n,r,a)}else if(spe(e))return ox(qT[e]!==void 0),qT[e];return e},hf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],YT={value:null,addProjectionMetrics:null};function npe(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,f=!1,x=!1)=>{const p=x&&a?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&YT.value&&YT.value.frameloop[t].push(c),c=0,n.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const rpe=40;function K3(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=hf.reduce((w,N)=>(w[N]=npe(i,t?N:void 0),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:x,postRender:g}=o,p=()=>{const w=Fa.useManualTiming?a.timestamp:performance.now();n=!1,Fa.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,rpe),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),x.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},j=()=>{n=!0,r=!0,a.isProcessing||e(p)};return{schedule:hf.reduce((w,N)=>{const b=o[N];return w[N]=(C,S=!1,P=!1)=>(n||j(),b.schedule(C,S,P)),w},{}),cancel:w=>{for(let N=0;N<hf.length;N++)o[hf[N]].cancel(w)},state:a,steps:o}}const{schedule:Ut,cancel:zi,state:ws,steps:Ey}=K3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let qf;function ape(){qf=void 0}const an={now:()=>(qf===void 0&&an.set(ws.isProcessing||Fa.useManualTiming?ws.timestamp:performance.now()),qf),set:e=>{qf=e,queueMicrotask(ape)}},X3=e=>t=>typeof t=="string"&&t.startsWith(e),YS=X3("--"),ipe=X3("var(--"),KS=e=>ipe(e)?ope.test(e.split("/*")[0].trim()):!1,ope=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hh={...bd,transform:e=>Da(0,1,e)},mf={...bd,default:1},yu=e=>Math.round(e*1e5)/1e5,XS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lpe(e){return e==null}const cpe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GS=(e,t)=>n=>!!(typeof n=="string"&&cpe.test(n)&&n.startsWith(e)||t&&!lpe(n)&&Object.prototype.hasOwnProperty.call(n,t)),G3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(XS);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dpe=e=>Da(0,255,e),Ty={...bd,transform:e=>Math.round(dpe(e))},wo={test:GS("rgb","red"),parse:G3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ty.transform(e)+", "+Ty.transform(t)+", "+Ty.transform(n)+", "+yu(hh.transform(r))+")"};function upe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const uw={test:GS("#"),parse:upe,transform:wo.transform},gm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Za=gm("deg"),Kr=gm("%"),Le=gm("px"),hpe=gm("vh"),mpe=gm("vw"),KT={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},Kl={test:GS("hsl","hue"),parse:G3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Kr.transform(yu(t))+", "+Kr.transform(yu(n))+", "+yu(hh.transform(r))+")"},ls={test:e=>wo.test(e)||uw.test(e)||Kl.test(e),parse:e=>wo.test(e)?wo.parse(e):Kl.test(e)?Kl.parse(e):uw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wo.transform(e):Kl.transform(e),getAnimatableNone:e=>{const t=ls.parse(e);return t.alpha=0,ls.transform(t)}},fpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ppe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(XS))==null?void 0:t.length)||0)+(((n=e.match(fpe))==null?void 0:n.length)||0)>0}const J3="number",Q3="color",xpe="var",gpe="var(",XT="${}",vpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(vpe,c=>(ls.test(c)?(r.color.push(i),a.push(Q3),n.push(ls.parse(c))):c.startsWith(gpe)?(r.var.push(i),a.push(xpe),n.push(c)):(r.number.push(i),a.push(J3),n.push(parseFloat(c))),++i,XT)).split(XT);return{values:n,split:l,indexes:r,types:a}}function Z3(e){return mh(e).values}function e5(e){const{split:t,types:n}=mh(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===J3?i+=yu(a[o]):l===Q3?i+=ls.transform(a[o]):i+=a[o]}return i}}const ype=e=>typeof e=="number"?0:ls.test(e)?ls.getAnimatableNone(e):e;function jpe(e){const t=Z3(e);return e5(e)(t.map(ype))}const qi={test:ppe,parse:Z3,createTransformer:e5,getAnimatableNone:jpe};function Py(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=Py(c,l,e+1/3),i=Py(c,l,e),o=Py(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function lx(e,t){return n=>n>0?t:e}const Yt=(e,t,n)=>e+(t-e)*n,Ay=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Npe=[uw,wo,Kl],bpe=e=>Npe.find(t=>t.test(e));function GT(e){const t=bpe(e);if(!t)return!1;let n=t.parse(e);return t===Kl&&(n=wpe(n)),n}const JT=(e,t)=>{const n=GT(e),r=GT(t);if(!n||!r)return lx(e,t);const a={...n};return i=>(a.red=Ay(n.red,r.red,i),a.green=Ay(n.green,r.green,i),a.blue=Ay(n.blue,r.blue,i),a.alpha=Yt(n.alpha,r.alpha,i),wo.transform(a))},hw=new Set(["none","hidden"]);function Spe(e,t){return hw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Cpe(e,t){return n=>Yt(e,t,n)}function JS(e){return typeof e=="number"?Cpe:typeof e=="string"?KS(e)?lx:ls.test(e)?JT:Ppe:Array.isArray(e)?t5:typeof e=="object"?ls.test(e)?JT:Epe:lx}function t5(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>JS(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Epe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=JS(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Tpe(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;n[a]=l,r[i]++}return n}const Ppe=(e,t)=>{const n=qi.createTransformer(t),r=mh(e),a=mh(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?hw.has(e)&&!a.values.length||hw.has(t)&&!r.values.length?Spe(e,t):pm(t5(Tpe(r,a),a.values),n):lx(e,t)};function s5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Yt(e,t,n):JS(e)(e,t)}const Ape=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ut.update(t,n),stop:()=>zi(t),now:()=>ws.isProcessing?ws.timestamp:an.now()}},n5=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cx=2e4;function QS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cx;)t+=n,r=e.next(t);return t>=cx?1/0:t}function kpe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(QS(r),cx);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:Yr(a)}}const Mpe=5;function r5(e,t,n){const r=Math.max(t-Mpe,0);return _3(n-e(r),t-r)}const ts={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function Rpe({duration:e=ts.duration,bounce:t=ts.bounce,velocity:n=ts.velocity,mass:r=ts.mass}){let a,i,o=1-t;o=Da(ts.minDamping,ts.maxDamping,o),e=Da(ts.minDuration,ts.maxDuration,Yr(e)),o<1?(a=d=>{const u=d*o,h=u*e,f=u-n,x=mw(d,o),g=Math.exp(-h);return ky-f/x*g},i=d=>{const h=d*o*e,f=h*n+n,x=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),p=mw(Math.pow(d,2),o);return(-a(d)+ky>0?-1:1)*((f-x)*g)/p}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-ky+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=Fpe(a,i,l);if(e=Wr(e),isNaN(c))return{stiffness:ts.stiffness,damping:ts.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const Dpe=12;function Fpe(e,t,n){let r=n;for(let a=1;a<Dpe;a++)r=r-e(r)/t(r);return r}function mw(e,t){return e*Math.sqrt(1-t*t)}const Ope=["duration","bounce"],Ipe=["stiffness","damping","mass"];function QT(e,t){return t.some(n=>e[n]!==void 0)}function _pe(e){let t={velocity:ts.velocity,stiffness:ts.stiffness,damping:ts.damping,mass:ts.mass,isResolvedFromDuration:!1,...e};if(!QT(e,Ipe)&&QT(e,Ope))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Da(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ts.mass,stiffness:a,damping:i}}else{const n=Rpe(e);t={...t,...n,mass:ts.mass},t.isResolvedFromDuration=!0}return t}function dx(e=ts.visualDuration,t=ts.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:x}=_pe({...n,velocity:-Yr(n.velocity||0)}),g=f||0,p=d/(2*Math.sqrt(c*u)),j=o-i,v=Yr(Math.sqrt(c/u)),y=Math.abs(j)<5;r||(r=y?ts.restSpeed.granular:ts.restSpeed.default),a||(a=y?ts.restDelta.granular:ts.restDelta.default);let w;if(p<1){const b=mw(v,p);w=C=>{const S=Math.exp(-p*v*C);return o-S*((g+p*v*j)/b*Math.sin(b*C)+j*Math.cos(b*C))}}else if(p===1)w=b=>o-Math.exp(-v*b)*(j+(g+v*j)*b);else{const b=v*Math.sqrt(p*p-1);w=C=>{const S=Math.exp(-p*v*C),P=Math.min(b*C,300);return o-S*((g+p*v*j)*Math.sinh(P)+b*j*Math.cosh(P))/b}}const N={calculatedDuration:x&&h||null,next:b=>{const C=w(b);if(x)l.done=b>=h;else{let S=b===0?g:0;p<1&&(S=b===0?Wr(g):r5(w,b,C));const P=Math.abs(S)<=r,A=Math.abs(o-C)<=a;l.done=P&&A}return l.value=l.done?o:C,l},toString:()=>{const b=Math.min(QS(N),cx),C=n5(S=>N.next(b*S).value,b,30);return b+"ms "+C},toTransition:()=>{}};return N}dx.applyToOptions=e=>{const t=kpe(e,100,dx);return e.ease=t.ease,e.duration=Wr(t.duration),e.type="keyframes",e};function fw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},x=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=n*t;const j=h+p,v=o===void 0?j:o(j);v!==j&&(p=v-h);const y=P=>-p*Math.exp(-P/r),w=P=>v+y(P),N=P=>{const A=y(P),F=w(P);f.done=Math.abs(A)<=d,f.value=f.done?v:F};let b,C;const S=P=>{x(f.value)&&(b=P,C=dx({keyframes:[f.value,g(f.value)],velocity:r5(w,P,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:P=>{let A=!1;return!C&&b===void 0&&(A=!0,N(P),S(P)),b!==void 0&&P>=b?C.next(P-b):(!A&&N(P),f)}}}function Lpe(e,t,n){const r=[],a=n||Fa.mix||s5,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Yn:t;l=pm(c,l)}r.push(l)}return r}function $pe(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(ox(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Lpe(t,r,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=uh(e[h],e[h+1],u);return l[h](f)};return n?u=>d(Da(e[0],e[i-1],u)):d}function Vpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=uh(0,t,r);e.push(Yt(n,1,a))}}function Upe(e){const t=[0];return Vpe(t,e.length-1),t}function Bpe(e,t){return e.map(n=>n*t)}function Hpe(e,t){return e.map(()=>t||W3).splice(0,e.length-1)}function ju({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=tpe(r)?r.map(WT):WT(r),i={done:!1,value:t[0]},o=Bpe(n&&n.length===t.length?n:Upe(t),e),l=$pe(o,t,{ease:Array.isArray(a)?a:Hpe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const zpe=e=>e!==null;function ZS(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(zpe),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const qpe={decay:fw,inertia:fw,tween:ju,keyframes:ju,spring:dx};function a5(e){typeof e.type=="string"&&(e.type=qpe[e.type])}class e1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Wpe=e=>e/100;class t1 extends e1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==an.now()&&this.tick(an.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;a5(t);const{type:n=ju,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||ju;c!==ju&&typeof l[0]!="number"&&(this.mixKeyframes=pm(Wpe,s5(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=QS(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:x,type:g,onUpdate:p,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,N=r;if(h){const P=Math.min(this.currentTime,a)/l;let A=Math.floor(P),F=P%1;!F&&P>=1&&(F=1),F===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(F=1-F,x&&(F-=x/l)):f==="mirror"&&(N=o)),w=Da(0,1,F)*l}const b=y?{done:!1,value:u[0]}:N.next(w);i&&(b.value=i(b.value));let{done:C}=b;!y&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&g!==fw&&(b.value=ZS(u,this.options,j,this.speed)),p&&p(b.value),S&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Yr(this.calculatedDuration)}get time(){return Yr(this.currentTime)}set time(t){var n;t=Wr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(an.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Ape,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(an.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Ype(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const No=e=>e*180/Math.PI,pw=e=>{const t=No(Math.atan2(e[1],e[0]));return xw(t)},Kpe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pw,rotateZ:pw,skewX:e=>No(Math.atan(e[1])),skewY:e=>No(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xw=e=>(e=e%360,e<0&&(e+=360),e),ZT=pw,eP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xpe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eP,scaleY:tP,scale:e=>(eP(e)+tP(e))/2,rotateX:e=>xw(No(Math.atan2(e[6],e[5]))),rotateY:e=>xw(No(Math.atan2(-e[2],e[0]))),rotateZ:ZT,rotate:ZT,skewX:e=>No(Math.atan(e[4])),skewY:e=>No(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gw(e){return e.includes("scale")?1:0}function vw(e,t){if(!e||e==="none")return gw(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Xpe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Kpe,a=l}if(!a)return gw(t);const i=r[t],o=a[1].split(",").map(Jpe);return typeof i=="function"?i(o):o[i]}const Gpe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return vw(n,t)};function Jpe(e){return parseFloat(e.trim())}const Sd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cd=new Set(Sd),sP=e=>e===bd||e===Le,Qpe=new Set(["x","y","z"]),Zpe=Sd.filter(e=>!Qpe.has(e));function exe(e){const t=[];return Zpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Lo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vw(t,"x"),y:(e,{transform:t})=>vw(t,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const $o=new Set;let yw=!1,jw=!1,ww=!1;function i5(){if(jw){const e=Array.from($o).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=exe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jw=!1,yw=!1,$o.forEach(e=>e.complete(ww)),$o.clear()}function o5(){$o.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jw=!0)})}function txe(){ww=!0,o5(),i5(),ww=!1}class s1{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($o.add(this),yw||(yw=!0,Ut.read(o5),Ut.resolveKeyframes(i5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}Ype(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$o.delete(this)}cancel(){this.state==="scheduled"&&($o.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sxe=e=>e.startsWith("--");function nxe(e,t,n){sxe(t)?e.style.setProperty(t,n):e.style[t]=n}const rxe=HS(()=>window.ScrollTimeline!==void 0),axe={};function ixe(e,t){const n=HS(e);return()=>axe[t]??n()}const l5=ixe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,nP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function c5(e,t){if(e)return typeof e=="function"?l5()?n5(e,t):"ease-out":Y3(e)?ru(e):Array.isArray(e)?e.map(n=>c5(n,t)||nP.easeOut):nP[e]}function oxe(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=c5(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function d5(e){return typeof e=="function"&&"applyToOptions"in e}function lxe({type:e,...t}){return d5(e)&&l5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cxe extends e1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,ox(typeof t.type!="string");const d=lxe(t);this.animation=oxe(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=ZS(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):nxe(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yr(Number(t))}get time(){return Yr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rxe()?(this.animation.timeline=t,Yn):n(this)}}const u5={anticipate:H3,backInOut:B3,circInOut:q3};function dxe(e){return e in u5}function uxe(e){typeof e.ease=="string"&&dxe(e.ease)&&(e.ease=u5[e.ease])}const rP=10;class hxe extends cxe{constructor(t){uxe(t),a5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new t1({...o,autoplay:!1}),c=Wr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-rP).value,l.sample(c).value,rP),l.stop()}}const aP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qi.test(e)||e==="0")&&!e.startsWith("url("));function mxe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fxe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=aP(a,t),l=aP(i,t);return!o||!l?!1:mxe(e)||(n==="spring"||d5(n))&&r}function Nw(e){e.duration=0,e.type}const pxe=new Set(["opacity","clipPath","filter","transform"]),xxe=HS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gxe(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return xxe()&&n&&pxe.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const vxe=40;class yxe extends e1{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var p,j;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=an.now();const f={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},x=(u==null?void 0:u.KeyframeResolver)||s1;this.keyframeResolver=new x(l,(p,j,v)=>this.onKeyframesResolved(p,j,f,!v),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=an.now(),fxe(t,i,o,l)||((Fa.instantAnimations||!c)&&(u==null||u(ZS(t,r,n))),t[0]=t[t.length-1],Nw(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>vxe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!d&&gxe(f)?new hxe({...f,element:f.motionValue.owner.current}):new t1(f);x.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),txe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const jxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wxe(e){const t=jxe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function h5(e,t,n=1){const[r,a]=wxe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return F3(o)?parseFloat(o):o}return KS(a)?h5(a,t,n+1):a}function n1(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const m5=new Set(["width","height","top","left","right","bottom",...Sd]),Nxe={test:e=>e==="auto",parse:e=>e},f5=e=>t=>t.test(e),p5=[bd,Le,Kr,Za,mpe,hpe,Nxe],iP=e=>p5.find(f5(e));function bxe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||I3(e):!0}const Sxe=new Set(["brightness","contrast","saturate","opacity"]);function Cxe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(XS)||[];if(!r)return e;const a=n.replace(r,"");let i=Sxe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Exe=/\b([a-z-]*)\(.*?\)/gu,bw={...qi,getAnimatableNone:e=>{const t=e.match(Exe);return t?t.map(Cxe).join(" "):e}},oP={...bd,transform:Math.round},Txe={rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:Za,skewX:Za,skewY:Za,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:hh,originX:KT,originY:KT,originZ:Le},r1={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...Txe,zIndex:oP,fillOpacity:hh,strokeOpacity:hh,numOctaves:oP},Pxe={...r1,color:ls,backgroundColor:ls,outlineColor:ls,fill:ls,stroke:ls,borderColor:ls,borderTopColor:ls,borderRightColor:ls,borderBottomColor:ls,borderLeftColor:ls,filter:bw,WebkitFilter:bw},x5=e=>Pxe[e];function g5(e,t){let n=x5(e);return n!==bw&&(n=qi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Axe=new Set(["auto","none","0"]);function kxe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!Axe.has(i)&&mh(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=g5(n,a)}class Mxe extends s1{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),KS(d))){const u=h5(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!m5.has(r)||t.length!==2)return;const[a,i]=t,o=iP(a),l=iP(i);if(o!==l)if(sP(o)&&sP(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Lo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||bxe(t[a]))&&r.push(a);r.length&&kxe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Lo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Rxe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const v5=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function y5(e){return O3(e)&&"offsetHeight"in e}const lP=30,Dxe=e=>!isNaN(parseFloat(e));class Fxe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=an.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=an.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dxe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zS);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lP);return _3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zc(e,t){return new Fxe(e,t)}const{schedule:a1,cancel:Zye}=K3(queueMicrotask,!1),lr={x:!1,y:!1};function j5(){return lr.x||lr.y}function Oxe(e){return e==="x"||e==="y"?lr[e]?null:(lr[e]=!0,()=>{lr[e]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function w5(e,t){const n=Rxe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function cP(e){return!(e.pointerType==="touch"||j5())}function Ixe(e,t,n={}){const[r,a,i]=w5(e,n),o=l=>{if(!cP(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{cP(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const N5=(e,t)=>t?e===t?!0:N5(e,t.parentElement):!1,i1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_xe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lxe(e){return _xe.has(e.tagName)||e.tabIndex!==-1}const Wf=new WeakSet;function dP(e){return t=>{t.key==="Enter"&&e(t)}}function My(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $xe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=dP(()=>{if(Wf.has(n))return;My(n,"down");const a=dP(()=>{My(n,"up")}),i=()=>My(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function uP(e){return i1(e)&&!j5()}function Vxe(e,t,n={}){const[r,a,i]=w5(e,n),o=l=>{const c=l.currentTarget;if(!uP(l))return;Wf.add(c);const d=t(c,l),u=(x,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Wf.has(c)&&Wf.delete(c),uP(x)&&typeof d=="function"&&d(x,{success:g})},h=x=>{u(x,c===window||c===document||n.useGlobalTarget||N5(c,x.target))},f=x=>{u(x,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),y5(l)&&(l.addEventListener("focus",d=>$xe(d,a)),!Lxe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function b5(e){return O3(e)&&"ownerSVGElement"in e}function Uxe(e){return b5(e)&&e.tagName==="svg"}const Ms=e=>!!(e&&e.getVelocity),Bxe=[...p5,ls,qi],Hxe=e=>Bxe.find(f5(e)),o1=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zxe extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=y5(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qxe({children:e,isPresent:t,anchorX:n,root:r}){const a=m.useId(),i=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(o1);return m.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:h,right:f}=o.current;if(t||!i.current||!c||!d)return;const x=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const p=r??document.head;return p.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${u}px !important;
          }
        `),()=>{p.contains(g)&&p.removeChild(g)}},[t]),s.jsx(zxe,{isPresent:t,childRef:i,sizeRef:o,children:m.cloneElement(e,{ref:i})})}const Wxe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=$S(Yxe),u=m.useId();let h=!0,f=m.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const g of d.values())if(!g)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return i&&h&&(f={...f}),m.useMemo(()=>{d.forEach((x,g)=>d.set(g,!1))},[n]),m.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(qxe,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(Hg.Provider,{value:f,children:e})};function Yxe(){return new Map}function S5(e=!0){const t=m.useContext(Hg);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=m.useId();m.useEffect(()=>{if(e)return a(i)},[e]);const o=m.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const ff=e=>e.key||"";function hP(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const Kxe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=S5(o),h=m.useMemo(()=>hP(e),[e]),f=o&&!d?[]:h.map(ff),x=m.useRef(!0),g=m.useRef(h),p=$S(()=>new Map),[j,v]=m.useState(h),[y,w]=m.useState(h);D3(()=>{x.current=!1,g.current=h;for(let C=0;C<y.length;C++){const S=ff(y[C]);f.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[y,f.length,f.join("-")]);const N=[];if(h!==j){let C=[...h];for(let S=0;S<y.length;S++){const P=y[S],A=ff(P);f.includes(A)||(C.splice(S,0,P),N.push(P))}return i==="wait"&&N.length&&(C=N),w(hP(C)),v(h),null}const{forceRender:b}=m.useContext(LS);return s.jsx(s.Fragment,{children:y.map(C=>{const S=ff(C),P=o&&!d?!1:h===y||f.includes(S),A=()=>{if(p.has(S))p.set(S,!0);else return;let F=!0;p.forEach(O=>{O||(F=!1)}),F&&(b==null||b(),w(g.current),o&&(u==null||u()),r&&r())};return s.jsx(Wxe,{isPresent:P,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:P?void 0:A,anchorX:l,children:C},S)})})},C5=m.createContext({strict:!1}),mP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ed={};for(const e in mP)ed[e]={isEnabled:t=>mP[e].some(n=>!!t[n])};function Xxe(e){for(const t in e)ed[t]={...ed[t],...e[t]}}const Gxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ux(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gxe.has(e)}let E5=e=>!ux(e);function Jxe(e){typeof e=="function"&&(E5=t=>t.startsWith("on")?!ux(t):e(t))}try{Jxe(require("@emotion/is-prop-valid").default)}catch{}function Qxe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(E5(a)||n===!0&&ux(a)||!t&&!ux(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const zg=m.createContext({});function qg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fh(e){return typeof e=="string"||Array.isArray(e)}const l1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c1=["initial",...l1];function Wg(e){return qg(e.animate)||c1.some(t=>fh(e[t]))}function T5(e){return!!(Wg(e)||e.variants)}function Zxe(e,t){if(Wg(e)){const{initial:n,animate:r}=e;return{initial:n===!1||fh(n)?n:void 0,animate:fh(r)?r:void 0}}return e.inherit!==!1?t:{}}function ege(e){const{initial:t,animate:n}=Zxe(e,m.useContext(zg));return m.useMemo(()=>({initial:t,animate:n}),[fP(t),fP(n)])}function fP(e){return Array.isArray(e)?e.join(" "):e}const ph={};function tge(e){for(const t in e)ph[t]=e[t],YS(t)&&(ph[t].isCSSVariable=!0)}function P5(e,{layout:t,layoutId:n}){return Cd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ph[e]||e==="opacity")}const sge={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nge=Sd.length;function rge(e,t,n){let r="",a=!0;for(let i=0;i<nge;i++){const o=Sd[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=v5(l,r1[o]);if(!c){a=!1;const u=sge[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function d1(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Cd.has(c)){o=!0;continue}else if(YS(c)){a[c]=d;continue}else{const u=v5(d,r1[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=rge(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const u1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A5(e,t,n){for(const r in t)!Ms(t[r])&&!P5(r,n)&&(e[r]=t[r])}function age({transformTemplate:e},t){return m.useMemo(()=>{const n=u1();return d1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ige(e,t){const n=e.style||{},r={};return A5(r,n,e),Object.assign(r,age(e,t)),r}function oge(e,t){const n={},r=ige(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const lge={offset:"stroke-dashoffset",array:"stroke-dasharray"},cge={offset:"strokeDashoffset",array:"strokeDasharray"};function dge(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?lge:cge;e[i.offset]=Le.transform(-r);const o=Le.transform(t),l=Le.transform(n);e[i.array]=`${o} ${l}`}function k5(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(d1(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&dge(h,a,i,o,!1)}const M5=()=>({...u1(),attrs:{}}),R5=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uge(e,t,n,r){const a=m.useMemo(()=>{const i=M5();return k5(i,t,R5(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};A5(i,e.style,e),a.style={...i,...a.style}}return a}const hge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h1(e){return typeof e!="string"||e.includes("-")?!1:!!(hge.indexOf(e)>-1||/[A-Z]/u.test(e))}function mge(e,t,n,{latestValues:r},a,i=!1){const l=(h1(e)?uge:oge)(t,r,a,e),c=Qxe(t,typeof e=="string",i),d=e!==m.Fragment?{...c,...l,ref:n}:{},{children:u}=t,h=m.useMemo(()=>Ms(u)?u.get():u,[u]);return m.createElement(e,{...d,children:h})}function pP(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function m1(e,t,n,r){if(typeof t=="function"){const[a,i]=pP(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=pP(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function Yf(e){return Ms(e)?e.get():e}function fge({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:pge(n,r,a,e),renderState:t()}}function pge(e,t,n,r){const a={},i=r(e,{});for(const f in i)a[f]=Yf(i[f]);let{initial:o,animate:l}=e;const c=Wg(e),d=T5(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!qg(h)){const f=Array.isArray(h)?h:[h];for(let x=0;x<f.length;x++){const g=m1(e,f[x]);if(g){const{transitionEnd:p,transition:j,...v}=g;for(const y in v){let w=v[y];if(Array.isArray(w)){const N=u?w.length-1:0;w=w[N]}w!==null&&(a[y]=w)}for(const y in p)a[y]=p[y]}}}return a}const D5=e=>(t,n)=>{const r=m.useContext(zg),a=m.useContext(Hg),i=()=>fge(e,t,r,a);return n?i():$S(i)};function f1(e,t,n){var i;const{style:r}=e,a={};for(const o in r)(Ms(r[o])||t.style&&Ms(t.style[o])||P5(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const xge=D5({scrapeMotionValuesFromProps:f1,createRenderState:u1});function F5(e,t,n){const r=f1(e,t,n);for(const a in e)if(Ms(e[a])||Ms(t[a])){const i=Sd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const gge=D5({scrapeMotionValuesFromProps:F5,createRenderState:M5}),vge=Symbol.for("motionComponentSymbol");function Xl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yge(e,t,n){return m.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xl(n)&&(n.current=r))},[t])}const p1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jge="framerAppearId",O5="data-"+p1(jge),I5=m.createContext({});function wge(e,t,n,r,a){var p,j;const{visualElement:i}=m.useContext(zg),o=m.useContext(C5),l=m.useContext(Hg),c=m.useContext(o1).reducedMotion,d=m.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=m.useContext(I5);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Nge(d.current,n,a,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const x=n[O5],g=m.useRef(!!x&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return D3(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,x)}),g.current=!1),u.enteringChildren=void 0)}),u}function Nge(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_5(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Xl(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function _5(e){if(e)return e.options.allowProjection!==!1?e.projection:_5(e.parent)}function Ry(e,{forwardMotionProps:t=!1}={},n,r){n&&Xxe(n);const a=h1(e)?gge:xge;function i(l,c){let d;const u={...m.useContext(o1),...l,layoutId:bge(l)},{isStatic:h}=u,f=ege(l),x=a(l,h);if(!h&&VS){Sge();const g=Cge(u);d=g.MeasureLayout,f.visualElement=wge(e,x,u,r,g.ProjectionNode)}return s.jsxs(zg.Provider,{value:f,children:[d&&f.visualElement?s.jsx(d,{visualElement:f.visualElement,...u}):null,mge(e,l,yge(x,f.visualElement,c),x,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=m.forwardRef(i);return o[vge]=e,o}function bge({layoutId:e}){const t=m.useContext(LS).id;return t&&e!==void 0?t+"-"+e:e}function Sge(e,t){m.useContext(C5).strict}function Cge(e){const{drag:t,layout:n}=ed;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Ege(e,t){if(typeof Proxy>"u")return Ry;const n=new Map,r=(i,o)=>Ry(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Ry(o,void 0,e,t)),n.get(o))})}function L5({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Tge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Pge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dy(e){return e===void 0||e===1}function Sw({scale:e,scaleX:t,scaleY:n}){return!Dy(e)||!Dy(t)||!Dy(n)}function ho(e){return Sw(e)||$5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $5(e){return xP(e.x)||xP(e.y)}function xP(e){return e&&e!=="0%"}function hx(e,t,n){const r=e-n,a=t*r;return n+a}function gP(e,t,n,r,a){return a!==void 0&&(e=hx(e,a,r)),hx(e,n,r)+t}function Cw(e,t=0,n=1,r,a){e.min=gP(e.min,t,n,r,a),e.max=gP(e.max,t,n,r,a)}function V5(e,{x:t,y:n}){Cw(e.x,t.translate,t.scale,t.originPoint),Cw(e.y,n.translate,n.scale,n.originPoint)}const vP=.999999999999,yP=1.0000000000001;function Age(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,V5(e,o)),r&&ho(i.latestValues)&&Jl(e,i.latestValues))}t.x<yP&&t.x>vP&&(t.x=1),t.y<yP&&t.y>vP&&(t.y=1)}function Gl(e,t){e.min=e.min+t,e.max=e.max+t}function jP(e,t,n,r,a=.5){const i=Yt(e.min,e.max,a);Cw(e,t,n,i,r)}function Jl(e,t){jP(e.x,t.x,t.scaleX,t.scale,t.originX),jP(e.y,t.y,t.scaleY,t.scale,t.originY)}function U5(e,t){return L5(Pge(e.getBoundingClientRect(),t))}function kge(e,t,n){const r=U5(e,n),{scroll:a}=t;return a&&(Gl(r.x,a.offset.x),Gl(r.y,a.offset.y)),r}const wP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ql=()=>({x:wP(),y:wP()}),NP=()=>({min:0,max:0}),rs=()=>({x:NP(),y:NP()}),Ew={current:null},B5={current:!1};function Mge(){if(B5.current=!0,!!VS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ew.current=e.matches;e.addEventListener("change",t),t()}else Ew.current=!1}const Rge=new WeakMap;function Dge(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Ms(a))e.addValue(r,a);else if(Ms(i))e.addValue(r,Zc(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Zc(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const bP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fge{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=an.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ut.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Wg(n),this.isVariantNode=T5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const x=h[f];c[f]!==void 0&&Ms(x)&&x.set(c[f])}}mount(t){var n;this.current=t,Rge.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),B5.current||Mge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ew.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Cd.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ed){const n=ed[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bP.length;r++){const a=bP[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Dge(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(F3(r)||I3(r))?r=parseFloat(r):!Hxe(r)&&qi.test(n)&&(r=g5(t,n)),this.setBaseTarget(t,Ms(r)?r.get():r)),Ms(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=m1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ms(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){a1.render(this.render)}}class H5 extends Fge{constructor(){super(...arguments),this.KeyframeResolver=Mxe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ms(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function z5(e,{style:t,vars:n},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Oge(e){return window.getComputedStyle(e)}class Ige extends H5{constructor(){super(...arguments),this.type="html",this.renderInstance=z5}readValueFromInstance(t,n){var r;if(Cd.has(n))return(r=this.projection)!=null&&r.isProjecting?gw(n):Gpe(t,n);{const a=Oge(t),i=(YS(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return U5(t,n)}build(t,n,r){d1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return f1(t,n,r)}}const q5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _ge(e,t,n,r){z5(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(q5.has(a)?a:p1(a),t.attrs[a])}class Lge extends H5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rs}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cd.has(n)){const r=x5(n);return r&&r.default||0}return n=q5.has(n)?n:p1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return F5(t,n,r)}build(t,n,r){k5(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){_ge(t,n,r,a)}mount(t){this.isSVGTag=R5(t.tagName),super.mount(t)}}const $ge=(e,t)=>h1(e)?new Lge(t):new Ige(t,{allowProjection:e!==m.Fragment});function xc(e,t,n){const r=e.getProps();return m1(r,t,n!==void 0?n:r.custom,e)}const Tw=e=>Array.isArray(e);function Vge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zc(n))}function Uge(e){return Tw(e)?e[e.length-1]||0:e}function Bge(e,t){const n=xc(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=Uge(i[o]);Vge(e,o,l)}}function Hge(e){return!!(Ms(e)&&e.add)}function Pw(e,t){const n=e.getValue("willChange");if(Hge(n))return n.add(t);if(!n&&Fa.WillChange){const r=new Fa.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function W5(e){return e.props[O5]}const zge=e=>e!==null;function qge(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(zge),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const Wge={type:"spring",stiffness:500,damping:25,restSpeed:10},Yge=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kge={type:"keyframes",duration:.8},Xge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gge=(e,{keyframes:t})=>t.length>2?Kge:Cd.has(e)?e.startsWith("scale")?Yge(t[1]):Wge:Xge;function Jge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const x1=(e,t,n,r={},a,i)=>o=>{const l=n1(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Wr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Jge(l)||Object.assign(u,Gge(e,u)),u.duration&&(u.duration=Wr(u.duration)),u.repeatDelay&&(u.repeatDelay=Wr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Nw(u),u.delay===0&&(h=!0)),(Fa.instantAnimations||Fa.skipAnimations)&&(h=!0,Nw(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=qge(u.keyframes,l);if(f!==void 0){Ut.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new t1(u):new yxe(u)};function Qge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Y5(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&Qge(d,u))continue;const x={delay:n,...n1(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!x.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=W5(e);if(v){const y=window.MotionHandoffAnimation(v,u,Ut);y!==null&&(x.startTime=y,p=!0)}}Pw(e,u),h.start(x1(u,h,f,e.shouldReduceMotion&&m5.has(u)?{type:!1}:x,e,p));const j=h.animation;j&&c.push(j)}return o&&Promise.all(c).then(()=>{Ut.update(()=>{o&&Bge(e,o)})}),c}function K5(e,t,n,r=0,a=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:l-i*r}function Aw(e,t,n={}){var c;const r=xc(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(Y5(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return Zge(e,t,d,u,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Zge(e,t,n=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Aw(c,t,{...o,delay:n+(typeof r=="function"?0:r)+K5(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function eve(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>Aw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=Aw(e,t,n);else{const a=typeof t=="function"?xc(e,t,n.custom):t;r=Promise.all(Y5(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function X5(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const tve=c1.length;function G5(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?G5(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<tve;n++){const r=c1[n],a=e.props[r];(fh(a)||a===!1)&&(t[r]=a)}return t}const sve=[...l1].reverse(),nve=l1.length;function rve(e){return t=>Promise.all(t.map(({animation:n,options:r})=>eve(e,n,r)))}function ave(e){let t=rve(e),n=SP(),r=!0;const a=c=>(d,u)=>{var f;const h=xc(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:x,transitionEnd:g,...p}=h;d={...d,...p,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=G5(e.parent)||{},h=[],f=new Set;let x={},g=1/0;for(let j=0;j<nve;j++){const v=sve[j],y=n[v],w=d[v]!==void 0?d[v]:u[v],N=fh(w),b=v===c?y.isActive:null;b===!1&&(g=j);let C=w===u[v]&&w!==d[v]&&N;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...x},!y.isActive&&b===null||!w&&!y.prevProp||qg(w)||typeof w=="boolean")continue;const S=ive(y.prevProp,w);let P=S||v===c&&y.isActive&&!C&&N||j>g&&N,A=!1;const F=Array.isArray(w)?w:[w];let O=F.reduce(a(v),{});b===!1&&(O={});const{prevResolvedValues:_={}}=y,$={..._,...O},I=M=>{P=!0,f.has(M)&&(A=!0,f.delete(M)),y.needsAnimating[M]=!0;const R=e.getValue(M);R&&(R.liveStyle=!1)};for(const M in $){const R=O[M],L=_[M];if(x.hasOwnProperty(M))continue;let H=!1;Tw(R)&&Tw(L)?H=!X5(R,L):H=R!==L,H?R!=null?I(M):f.add(M):R!==void 0&&f.has(M)?I(M):y.protectedKeys[M]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(x={...x,...O}),r&&e.blockInitialAnimation&&(P=!1);const k=C&&S;P&&(!k||A)&&h.push(...F.map(M=>{const R={type:v};if(typeof M=="string"&&r&&!k&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,H=xc(L,M);if(L.enteringChildren&&H){const{delayChildren:V}=H.transition||{};R.delay=K5(L.enteringChildren,e,V)}}return{animation:M,options:R}}))}if(f.size){const j={};if(typeof d.initial!="boolean"){const v=xc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(j.transition=v.transition)}f.forEach(v=>{const y=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),j[v]=y??null}),h.push({animation:j})}let p=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var x;return(x=f.animationState)==null?void 0:x.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=SP(),r=!0}}}function ive(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X5(t,e):!1}function io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SP(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class eo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ove extends eo{constructor(t){super(t),t.animationState||(t.animationState=ave(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let lve=0;class cve extends eo{constructor(){super(...arguments),this.id=lve++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dve={animation:{Feature:ove},exit:{Feature:cve}};function xh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function vm(e){return{point:{x:e.pageX,y:e.pageY}}}const uve=e=>t=>i1(t)&&e(t,vm(t));function wu(e,t,n,r){return xh(e,t,uve(n),r)}const J5=1e-4,hve=1-J5,mve=1+J5,Q5=.01,fve=0-Q5,pve=0+Q5;function Vs(e){return e.max-e.min}function xve(e,t,n){return Math.abs(e-t)<=n}function CP(e,t,n,r=.5){e.origin=r,e.originPoint=Yt(t.min,t.max,e.origin),e.scale=Vs(n)/Vs(t),e.translate=Yt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hve&&e.scale<=mve||isNaN(e.scale))&&(e.scale=1),(e.translate>=fve&&e.translate<=pve||isNaN(e.translate))&&(e.translate=0)}function Nu(e,t,n,r){CP(e.x,t.x,n.x,r?r.originX:void 0),CP(e.y,t.y,n.y,r?r.originY:void 0)}function EP(e,t,n){e.min=n.min+t.min,e.max=e.min+Vs(t)}function gve(e,t,n){EP(e.x,t.x,n.x),EP(e.y,t.y,n.y)}function TP(e,t,n){e.min=t.min-n.min,e.max=e.min+Vs(t)}function bu(e,t,n){TP(e.x,t.x,n.x),TP(e.y,t.y,n.y)}function In(e){return[e("x"),e("y")]}const Z5=({current:e})=>e?e.ownerDocument.defaultView:null,PP=(e,t)=>Math.abs(e-t);function vve(e,t){const n=PP(e.x,t.x),r=PP(e.y,t.y);return Math.sqrt(n**2+r**2)}class eV{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Oy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=vve(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!g)return;const{point:p}=f,{timestamp:j}=ws;this.history.push({...p,timestamp:j});const{onStart:v,onMove:y}=this.handlers;x||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,x)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Fy(x,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(f,x)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Oy(f.type==="pointercancel"?this.lastMoveEventInfo:Fy(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),p&&p(f,v)},!i1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=vm(t),c=Fy(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=ws;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Oy(c,this.history)),this.removeListeners=pm(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Fy(e,t){return t?{point:t(e.point)}:e}function AP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oy({point:e},t){return{point:e,delta:AP(e,tV(t)),offset:AP(e,yve(t)),velocity:jve(t,.1)}}function yve(e){return e[0]}function tV(e){return e[e.length-1]}function jve(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=tV(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Wr(t)));)n--;if(!r)return{x:0,y:0};const i=Yr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wve(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Yt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Yt(n,e,r.max):Math.min(e,n)),e}function kP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nve(e,{top:t,left:n,bottom:r,right:a}){return{x:kP(e.x,n,a),y:kP(e.y,t,r)}}function MP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function bve(e,t){return{x:MP(e.x,t.x),y:MP(e.y,t.y)}}function Sve(e,t){let n=.5;const r=Vs(e),a=Vs(t);return a>r?n=uh(t.min,t.max-r,e.min):r>a&&(n=uh(e.min,e.max-a,t.min)),Da(0,1,n)}function Cve(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kw=.35;function Eve(e=kw){return e===!1?e=0:e===!0&&(e=kw),{x:RP(e,"left","right"),y:RP(e,"top","bottom")}}function RP(e,t,n){return{min:DP(e,t),max:DP(e,n)}}function DP(e,t){return typeof e=="number"?e:e[t]||0}const Tve=new WeakMap;class Pve{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vm(h).point)},o=(h,f)=>{const{drag:x,dragPropagation:g,onDragStart:p}=this.getProps();if(x&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oxe(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Kr.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[v];N&&(y=Vs(N)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&Ut.postRender(()=>p(h,f)),Pw(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:x,dragDirectionLock:g,onDirectionLock:p,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=Ave(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),j&&j(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>In(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new eV(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Z5(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ut.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!pf(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=wve(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Xl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Nve(r.layoutBox,t):this.constraints=!1,this.elastic=Eve(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&In(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Cve(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xl(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=kge(r,a.root,this.visualElement.getTransformPagePoint());let o=bve(a.layout.layoutBox,i);if(n){const l=n(Tge(o));this.hasMutatedConstraints=!!l,l&&(o=L5(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=In(u=>{if(!pf(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,x=a?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Pw(this.visualElement,t),r.start(x1(t,r,0,n,this.visualElement,!1))}stopAnimation(){In(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){In(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){In(n=>{const{drag:r}=this.getProps();if(!pf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Yt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};In(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Sve({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),In(o=>{if(!pf(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Yt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Tve.set(this.visualElement,this);const t=this.visualElement.current,n=wu(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Xl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ut.read(r);const o=xh(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(In(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=kw,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function pf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ave(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kve extends eo{constructor(t){super(t),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new Pve(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const FP=e=>(t,n)=>{e&&Ut.postRender(()=>e(t,n))};class Mve extends eo{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(t){this.session=new eV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:FP(t),onStart:FP(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Ut.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Le.test(e))e=parseFloat(e);else return e;const n=OP(e,t.target.x),r=OP(e,t.target.y);return`${n}% ${r}%`}},Rve={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=qi.parse(e);if(a.length>5)return r;const i=qi.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Yt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Iy=!1;class Dve extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;tge(Fve),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),Iy&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Iy=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ut.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),a1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Iy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sV(e){const[t,n]=S5(),r=m.useContext(LS);return s.jsx(Dve,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(I5),isPresent:t,safeToRemove:n})}const Fve={borderRadius:{...zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zd,borderTopRightRadius:zd,borderBottomLeftRadius:zd,borderBottomRightRadius:zd,boxShadow:Rve};function Ove(e,t,n){const r=Ms(e)?e:Zc(e);return r.start(x1("",r,t,n)),r.animation}const Ive=(e,t)=>e.depth-t.depth;class _ve{constructor(){this.children=[],this.isDirty=!1}add(t){US(this.children,t),this.isDirty=!0}remove(t){BS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ive),this.isDirty=!1,this.children.forEach(t)}}function Lve(e,t){const n=an.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(zi(r),e(i-t))};return Ut.setup(r,!0),()=>zi(r)}const nV=["TopLeft","TopRight","BottomLeft","BottomRight"],$ve=nV.length,IP=e=>typeof e=="string"?parseFloat(e):e,_P=e=>typeof e=="number"||Le.test(e);function Vve(e,t,n,r,a,i){a?(e.opacity=Yt(0,n.opacity??1,Uve(r)),e.opacityExit=Yt(t.opacity??1,0,Bve(r))):i&&(e.opacity=Yt(t.opacity??1,n.opacity??1,r));for(let o=0;o<$ve;o++){const l=`border${nV[o]}Radius`;let c=LP(t,l),d=LP(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||_P(c)===_P(d)?(e[l]=Math.max(Yt(IP(c),IP(d),r),0),(Kr.test(d)||Kr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Yt(t.rotate||0,n.rotate||0,r))}function LP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uve=rV(0,.5,z3),Bve=rV(.5,.95,Yn);function rV(e,t,n){return r=>r<e?0:r>t?1:n(uh(e,t,r))}function $P(e,t){e.min=t.min,e.max=t.max}function On(e,t){$P(e.x,t.x),$P(e.y,t.y)}function VP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function UP(e,t,n,r,a){return e-=t,e=hx(e,1/n,r),a!==void 0&&(e=hx(e,1/a,r)),e}function Hve(e,t=0,n=1,r=.5,a,i=e,o=e){if(Kr.test(t)&&(t=parseFloat(t),t=Yt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Yt(i.min,i.max,r);e===i&&(l-=t),e.min=UP(e.min,t,n,l,a),e.max=UP(e.max,t,n,l,a)}function BP(e,t,[n,r,a],i,o){Hve(e,t[n],t[r],t[a],t.scale,i,o)}const zve=["x","scaleX","originX"],qve=["y","scaleY","originY"];function HP(e,t,n,r){BP(e.x,t,zve,n?n.x:void 0,r?r.x:void 0),BP(e.y,t,qve,n?n.y:void 0,r?r.y:void 0)}function zP(e){return e.translate===0&&e.scale===1}function aV(e){return zP(e.x)&&zP(e.y)}function qP(e,t){return e.min===t.min&&e.max===t.max}function Wve(e,t){return qP(e.x,t.x)&&qP(e.y,t.y)}function WP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iV(e,t){return WP(e.x,t.x)&&WP(e.y,t.y)}function YP(e){return Vs(e.x)/Vs(e.y)}function KP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Yve{constructor(){this.members=[]}add(t){US(this.members,t),t.scheduleRender()}remove(t){if(BS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kve(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:x,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),x&&(r+=`skewX(${x}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const _y=["","X","Y","Z"],Xve=1e3;let Gve=0;function Ly(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=W5(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oV(r)}function lV({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Gve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zve),this.nodes.forEach(nye),this.nodes.forEach(rye),this.nodes.forEach(eye)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _ve)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=b5(o)&&!Uxe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{h=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,u&&u(),u=Lve(f,250),Kf.hasAnimatedSinceResize&&(Kf.hasAnimatedSinceResize=!1,this.nodes.forEach(JP)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||cye,{onLayoutAnimationStart:p,onLayoutAnimationComplete:j}=d.getProps(),v=!this.targetLayout||!iV(this.targetLayout,x),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...n1(g,"layout"),onPlay:p,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,y)}else h||JP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aye),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(GP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sye),this.nodes.forEach(Jve),this.nodes.forEach(Qve)):this.nodes.forEach(GP),this.clearAllSnapshots();const l=an.now();ws.delta=Da(0,1e3/60,l-ws.timestamp),ws.timestamp=l,ws.isProcessing=!0,Ey.update.process(ws),Ey.preRender.process(ws),Ey.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tye),this.sharedNodes.forEach(iye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vs(this.snapshot.measuredBox.x)&&!Vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!aV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ho(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dye(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return rs();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(uye))){const{scroll:u}=this.root;u&&(Gl(l.x,u.offset.x),Gl(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=rs();if(On(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&On(l,o),Gl(l.x,h.offset.x),Gl(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=rs();On(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Jl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ho(u.latestValues)&&Jl(c,u.latestValues)}return ho(this.latestValues)&&Jl(c,this.latestValues),c}removeTransform(o){const l=rs();On(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ho(d.latestValues))continue;Sw(d.latestValues)&&d.updateSnapshot();const u=rs(),h=d.measurePageBox();On(u,h),HP(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ho(this.latestValues)&&HP(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),bu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rs(),this.targetWithTransforms=rs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),V5(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),bu(this.relativeTargetOrigin,this.target,x.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||$5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;On(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Age(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rs());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VP(this.prevProjectionDelta.x,this.projectionDelta.x),VP(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!KP(this.projectionDelta.x,this.prevProjectionDelta.x)||!KP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ql(),this.projectionDelta=Ql(),this.projectionDeltaWithTransform=Ql()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=rs(),x=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=x!==g,j=this.getStack(),v=!j||j.members.length<=1,y=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(lye));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const b=N/1e3;QP(h.x,o.x,b),QP(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oye(this.relativeTarget,this.relativeTargetOrigin,f,b),w&&Wve(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=rs()),On(w,this.relativeTarget)),p&&(this.animationValues=u,Vve(u,d,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zc(0)),this.currentAnimation=Ove(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&cV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||rs();const h=Vs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Vs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}On(l,c),Jl(l,u),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yve),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ly("z",o,d,this.animationValues);for(let u=0;u<_y.length;u++)Ly(`rotate${_y[u]}`,o,d,this.animationValues),Ly(`skew${_y[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yf(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Kve(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:x}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in ph){if(u[g]===void 0)continue;const{correct:p,applyTo:j,isCSSVariable:v}=ph[g],y=h==="none"?u[g]:p(u[g],d);if(j){const w=j.length;for(let N=0;N<w;N++)o[j[N]]=y}else v?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=d===this?Yf(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(XP),this.root.sharedNodes.clear()}}}function Jve(e){e.updateLayout()}function Qve(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?In(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],x=Vs(f);f.min=r[h].min,f.max=f.min+x}):cV(i,t.layoutBox,r)&&In(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],x=Vs(r[h]);f.max=f.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const l=Ql();Nu(l,r,t.layoutBox);const c=Ql();o?Nu(c,e.applyTransform(a,!0),t.measuredBox):Nu(c,r,t.layoutBox);const d=!aV(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:x}=h;if(f&&x){const g=rs();bu(g,t.layoutBox,f.layoutBox);const p=rs();bu(p,r,x.layoutBox),iV(g,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Zve(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eye(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tye(e){e.clearSnapshot()}function XP(e){e.clearMeasurements()}function GP(e){e.isLayoutDirty=!1}function sye(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nye(e){e.resolveTargetDelta()}function rye(e){e.calcProjection()}function aye(e){e.resetSkewAndRotation()}function iye(e){e.removeLeadSnapshot()}function QP(e,t,n){e.translate=Yt(t.translate,0,n),e.scale=Yt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ZP(e,t,n,r){e.min=Yt(t.min,n.min,r),e.max=Yt(t.max,n.max,r)}function oye(e,t,n,r){ZP(e.x,t.x,n.x,r),ZP(e.y,t.y,n.y,r)}function lye(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cye={duration:.45,ease:[.4,0,.1,1]},eA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tA=eA("applewebkit/")&&!eA("chrome/")?Math.round:Yn;function sA(e){e.min=tA(e.min),e.max=tA(e.max)}function dye(e){sA(e.x),sA(e.y)}function cV(e,t,n){return e==="position"||e==="preserve-aspect"&&!xve(YP(t),YP(n),.2)}function uye(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hye=lV({attachResizeListener:(e,t)=>xh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$y={current:void 0},dV=lV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$y.current){const e=new hye({});e.mount(window),e.setOptions({layoutScroll:!0}),$y.current=e}return $y.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mye={pan:{Feature:Mve},drag:{Feature:kve,ProjectionNode:dV,MeasureLayout:sV}};function nA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&Ut.postRender(()=>i(t,vm(t)))}class fye extends eo{mount(){const{current:t}=this.node;t&&(this.unmount=Ixe(t,(n,r)=>(nA(this.node,r,"Start"),a=>nA(this.node,a,"End"))))}unmount(){}}class pye extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pm(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&Ut.postRender(()=>i(t,vm(t)))}class xye extends eo{mount(){const{current:t}=this.node;t&&(this.unmount=Vxe(t,(n,r)=>(rA(this.node,r,"Start"),(a,{success:i})=>rA(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mw=new WeakMap,Vy=new WeakMap,gye=e=>{const t=Mw.get(e.target);t&&t(e)},vye=e=>{e.forEach(gye)};function yye({root:e,...t}){const n=e||document;Vy.has(n)||Vy.set(n,{});const r=Vy.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(vye,{root:e,...t})),r[a]}function jye(e,t,n){const r=yye(t);return Mw.set(e,n),r.observe(e),()=>{Mw.delete(e),r.unobserve(e)}}const wye={some:0,all:1};class Nye extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:wye[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return jye(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bye(t,n))&&this.startObserver()}unmount(){}}function bye({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sye={inView:{Feature:Nye},tap:{Feature:xye},focus:{Feature:pye},hover:{Feature:fye}},Cye={layout:{ProjectionNode:dV,MeasureLayout:sV}},Eye={...dve,...Sye,...mye,...Cye},Tye=Ege(Eye,$ge),Pye=({notification:e})=>{const t=R3(o=>o.removeNotification),n=b3(),r={success:s.jsx(Bs,{className:"h-5 w-5"}),error:s.jsx(Hs,{className:"h-5 w-5"}),warning:s.jsx(Jn,{className:"h-5 w-5"}),info:s.jsx(zs,{className:"h-5 w-5"})},a={success:"bg-green-50 text-green-900 border-green-200 dark:bg-green-900/20 dark:text-green-100 dark:border-green-800",error:"bg-red-50 text-red-900 border-red-200 dark:bg-red-900/20 dark:text-red-100 dark:border-red-800",warning:"bg-yellow-50 text-yellow-900 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-100 dark:border-yellow-800",info:"bg-blue-50 text-blue-900 border-blue-200 dark:bg-blue-900/20 dark:text-blue-100 dark:border-blue-800"},i={success:"text-green-600 dark:text-green-400",error:"text-red-600 dark:text-red-400",warning:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400"};return s.jsxs(Tye.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.2}},transition:{duration:n.enabled?.3:0},className:le("flex items-start gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm",a[e.type],"min-w-[320px] max-w-[420px]"),children:[s.jsx("div",{className:le("flex-shrink-0",i[e.type]),children:r[e.type]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("h4",{className:"text-sm font-semibold",children:e.title}),e.message&&s.jsx("p",{className:"text-sm opacity-90",children:e.message}),e.action&&s.jsx(q,{variant:"link",size:"sm",onClick:e.action.onClick,className:"p-0 h-auto font-medium",children:e.action.label})]}),e.dismissible&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"flex-shrink-0 h-auto p-1 hover:bg-black/10 dark:hover:bg-white/10",children:s.jsx(Et,{className:"h-4 w-4"})})]})},Aye=()=>{const e=R3(t=>t.notifications);return b3(),s.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2","aria-live":"polite","aria-atomic":"false",children:s.jsx(Kxe,{mode:"sync",children:e.map(t=>s.jsx(Pye,{notification:t},t.id))})})};let Uy=!1,Rw=[];const aA=(e,t=null)=>{Rw.forEach(n=>{e?n.reject(e):n.resolve(t)}),Rw=[]};let By=!1;const kye=()=>{Pt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",Pt.interceptors.request.use(e=>{const t=_n.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Requested-With"]="XMLHttpRequest",e},e=>Promise.reject(e)),Pt.interceptors.response.use(e=>e,async e=>{var r,a;const t=e.config;if(!e.response||!t)return Promise.reject(e);const n=(r=t.url)==null?void 0:r.includes("/auth/");return By?Promise.reject(e):((a=e.response)==null?void 0:a.status)===401&&!t._retry&&!n?Uy?new Promise((i,o)=>{Rw.push({resolve:i,reject:o})}).then(i=>(t.headers.Authorization=`Bearer ${i}`,Pt(t))).catch(i=>Promise.reject(i)):(t._retry=!0,Uy=!0,new Promise((i,o)=>{_n.refreshToken().then(l=>{if(l.success&&l.data)_n.setToken(l.data.token),Pt.defaults.headers.common.Authorization=`Bearer ${l.data.token}`,t.headers.Authorization=`Bearer ${l.data.token}`,aA(null,l.data.token),i(Pt(t));else throw new Error("Token refresh failed")}).catch(l=>{aA(l,null),By=!0,localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.pathname!=="/login"?window.location.replace("/login"):By=!1,o(l)}).finally(()=>{Uy=!1})})):Promise.reject(e)})},Mye=()=>{const e=ax(t=>t.theme);return m.useEffect(()=>{e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),null},Rye=()=>null,Dye=()=>(m.useEffect(()=>{const e=setTimeout(()=>{kye()},100);return console.log("Application initialized",{version:"1.0.0",environment:"production"}),()=>clearTimeout(e)},[]),s.jsx(Yfe,{children:s.jsx(Wfe,{children:s.jsxs(tD,{children:[s.jsx(Mye,{}),s.jsx(AH,{}),s.jsx(Aye,{}),s.jsxs(Wq,{children:[s.jsx(Rye,{}),s.jsx(IW,{children:s.jsx(_W,{children:s.jsxs(Lq,{children:[s.jsx(vt,{path:"/login",element:s.jsx(qX,{})}),s.jsx(vt,{element:s.jsx($W,{}),children:s.jsxs(vt,{path:"/",element:s.jsx(UX,{}),children:[s.jsx(vt,{index:!0,element:s.jsx(Ap,{to:"/dashboard",replace:!0})}),s.jsx(vt,{path:"dashboard",element:s.jsx(iG,{})}),s.jsx(vt,{path:"test",element:s.jsx(oG,{})}),s.jsx(vt,{path:"create-flow",element:s.jsx(lG,{})}),s.jsx(vt,{path:"create-direct-mapping-flow",element:s.jsx(L2,{})}),s.jsx(vt,{path:"create-orchestration-flow",element:s.jsx(Vre,{})}),s.jsx(vt,{path:"flows/:flowId/edit",element:s.jsx(L2,{})}),s.jsx(vt,{path:"communication-adapters",element:s.jsx(gle,{})}),s.jsx(vt,{path:"communication-adapters/:id",element:s.jsx(dT,{})}),s.jsx(vt,{path:"create-communication-adapter",element:s.jsx(dT,{})}),s.jsx(vt,{path:"data-structures",element:s.jsx(vle,{})}),s.jsx(vt,{path:"data-structures/:id",element:s.jsx(jT,{})}),s.jsx(vt,{path:"create-data-structure",element:s.jsx(jT,{})}),s.jsx(vt,{path:"business-components",element:s.jsx(Ace,{})}),s.jsx(vt,{path:"all-interfaces",element:s.jsx(Hfe,{})}),s.jsx(vt,{path:"interfaces",element:s.jsx(Ap,{to:"/all-interfaces",replace:!0})}),s.jsx(vt,{path:"interfaces/:flowId/details",element:s.jsx(fue,{})}),s.jsx(vt,{path:"messages",element:s.jsx(qce,{})}),s.jsx(vt,{path:"adapter-monitoring",element:s.jsx(hue,{})}),s.jsx(vt,{path:"admin",element:s.jsx(vme,{})}),s.jsx(vt,{path:"settings",element:s.jsx(Cme,{})}),s.jsx(vt,{path:"retry-management",element:s.jsx(Eme,{})}),s.jsx(vt,{path:"message-acknowledgments",element:s.jsx(Tme,{})}),s.jsx(vt,{path:"development-functions",element:s.jsx(Vfe,{})}),s.jsx(vt,{path:"*",element:s.jsx(zfe,{})})]})})]})})})]})]})})}));document.documentElement.classList.add("dark");PM(document.getElementById("root")).render(s.jsx(Dye,{}));
