function L5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function yw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q2={exports:{}},cf={},Z2={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),_5=Symbol.for("react.portal"),$5=Symbol.for("react.fragment"),U5=Symbol.for("react.strict_mode"),V5=Symbol.for("react.profiler"),B5=Symbol.for("react.provider"),H5=Symbol.for("react.context"),q5=Symbol.for("react.forward_ref"),z5=Symbol.for("react.suspense"),W5=Symbol.for("react.memo"),K5=Symbol.for("react.lazy"),pS=Symbol.iterator;function Y5(e){return e===null||typeof e!="object"?null:(e=pS&&e[pS]||e["@@iterator"],typeof e=="function"?e:null)}var eP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tP=Object.assign,sP={};function nc(e,t,n){this.props=e,this.context=t,this.refs=sP,this.updater=n||eP}nc.prototype.isReactComponent={};nc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nP(){}nP.prototype=nc.prototype;function jw(e,t,n){this.props=e,this.context=t,this.refs=sP,this.updater=n||eP}var ww=jw.prototype=new nP;ww.constructor=jw;tP(ww,nc.prototype);ww.isPureReactComponent=!0;var fS=Array.isArray,rP=Object.prototype.hasOwnProperty,Nw={current:null},aP={key:!0,ref:!0,__self:!0,__source:!0};function oP(e,t,n){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)rP.call(t,r)&&!aP.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:yu,type:e,key:o,ref:i,props:a,_owner:Nw.current}}function X5(e,t){return{$$typeof:yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bw(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function G5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xS=/\/+/g;function Bx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G5(""+e.key):t.toString(36)}function hm(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case yu:case _5:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Bx(i,0):r,fS(a)?(n="",e!=null&&(n=e.replace(xS,"$&/")+"/"),hm(a,t,n,"",function(d){return d})):a!=null&&(bw(a)&&(a=X5(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(xS,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",fS(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Bx(o,l);i+=hm(o,t,n,c,a)}else if(c=Y5(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Bx(o,l++),i+=hm(o,t,n,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vh(e,t,n){if(e==null)return e;var r=[],a=0;return hm(e,r,"","",function(o){return t.call(n,o,a++)}),r}function J5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},mm={transition:null},Q5={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:mm,ReactCurrentOwner:Nw};function iP(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:vh,forEach:function(e,t,n){vh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vh(e,function(){t++}),t},toArray:function(e){return vh(e,function(t){return t})||[]},only:function(e){if(!bw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=nc;Ye.Fragment=$5;Ye.Profiler=V5;Ye.PureComponent=jw;Ye.StrictMode=U5;Ye.Suspense=z5;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q5;Ye.act=iP;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tP({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Nw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rP.call(t,c)&&!aP.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:yu,type:e.type,key:a,ref:o,props:r,_owner:i}};Ye.createContext=function(e){return e={$$typeof:H5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B5,_context:e},e.Consumer=e};Ye.createElement=oP;Ye.createFactory=function(e){var t=oP.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:q5,render:e}};Ye.isValidElement=bw;Ye.lazy=function(e){return{$$typeof:K5,_payload:{_status:-1,_result:e},_init:J5}};Ye.memo=function(e,t){return{$$typeof:W5,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=mm.transition;mm.transition={};try{e()}finally{mm.transition=t}};Ye.unstable_act=iP;Ye.useCallback=function(e,t){return Is.current.useCallback(e,t)};Ye.useContext=function(e){return Is.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Is.current.useEffect(e,t)};Ye.useId=function(){return Is.current.useId()};Ye.useImperativeHandle=function(e,t,n){return Is.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Is.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return Is.current.useReducer(e,t,n)};Ye.useRef=function(e){return Is.current.useRef(e)};Ye.useState=function(e){return Is.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return Is.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return Is.current.useTransition()};Ye.version="18.3.1";Z2.exports=Ye;var h=Z2.exports;const kt=yw(h),ju=L5({__proto__:null,default:kt},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=h,e6=Symbol.for("react.element"),t6=Symbol.for("react.fragment"),s6=Object.prototype.hasOwnProperty,n6=Z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r6={key:!0,ref:!0,__self:!0,__source:!0};function lP(e,t,n){var r,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)s6.call(t,r)&&!r6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:e6,type:e,key:o,ref:i,props:a,_owner:n6.current}}cf.Fragment=t6;cf.jsx=lP;cf.jsxs=lP;Q2.exports=cf;var s=Q2.exports,cP={exports:{}},An={},dP={exports:{}},uP={};(function(e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function t(D,$){var V=D.length;D.push($);e:for(;0<V;){var B=V-1>>>1,H=D[B];if(0<a(H,$))D[B]=$,D[V]=H,V=B;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],V=D.pop();if(V!==$){D[0]=V;e:for(var B=0,H=D.length,z=H>>>1;B<z;){var Q=2*(B+1)-1,ie=D[Q],he=Q+1,Z=D[he];if(0>a(ie,V))he<H&&0>a(Z,ie)?(D[B]=Z,D[he]=V,B=he):(D[B]=ie,D[Q]=V,B=Q);else if(he<H&&0>a(Z,V))D[B]=Z,D[he]=V,B=he;else break e}}return $}function a(D,$){var V=D.sortIndex-$.sortIndex;return V!==0?V:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,p=3,x=!1,g=!1,f=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=D)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(d)}}function N(D){if(f=!1,y(D),!g)if(n(c)!==null)g=!0,T(b);else{var $=n(d);$!==null&&R(N,$.startTime-D)}}function b(D,$){g=!1,f&&(f=!1,j(A),A=-1),x=!0;var V=p;try{for(y($),m=n(c);m!==null&&(!(m.expirationTime>$)||D&&!F());){var B=m.callback;if(typeof B=="function"){m.callback=null,p=m.priorityLevel;var H=B(m.expirationTime<=$);$=e.unstable_now(),typeof H=="function"?m.callback=H:m===n(c)&&r(c),y($)}else r(c);m=n(c)}if(m!==null)var z=!0;else{var Q=n(d);Q!==null&&R(N,Q.startTime-$),z=!1}return z}finally{m=null,p=V,x=!1}}var E=!1,S=null,A=-1,O=5,I=-1;function F(){return!(e.unstable_now()-I<O)}function L(){if(S!==null){var D=e.unstable_now();I=D;var $=!0;try{$=S(!0,D)}finally{$?U():(E=!1,S=null)}}else E=!1}var U;if(typeof v=="function")U=function(){v(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=L,U=function(){P.postMessage(null)}}else U=function(){w(L,0)};function T(D){S=D,E||(E=!0,U())}function R(D,$){A=w(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,T(b))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var V=p;p=$;try{return D()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=p;p=D;try{return $()}finally{p=V}},e.unstable_scheduleCallback=function(D,$,V){var B=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?B+V:B):V=B,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,D={id:u++,callback:$,priorityLevel:D,startTime:V,expirationTime:H,sortIndex:-1},V>B?(D.sortIndex=V,t(d,D),n(c)===null&&D===n(d)&&(f?(j(A),A=-1):f=!0,R(N,V-B))):(D.sortIndex=H,t(c,D),g||x||(g=!0,T(b))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var $=p;return function(){var V=p;p=$;try{return D.apply(this,arguments)}finally{p=V}}}})(uP);dP.exports=uP;var a6=dP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6=h,bn=a6;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hP=new Set,Cd={};function ji(e,t){Rl(e,t),Rl(e+"Capture",t)}function Rl(e,t){for(Cd[e]=t,e=0;e<t.length;e++)hP.add(t[e])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iv=Object.prototype.hasOwnProperty,i6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gS={},vS={};function l6(e){return Iv.call(vS,e)?!0:Iv.call(gS,e)?!1:i6.test(e)?vS[e]=!0:(gS[e]=!0,!1)}function c6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d6(e,t,n,r){if(t===null||typeof t>"u"||c6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ls(e,t,n,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xs[e]=new Ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xs[t]=new Ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xs[e]=new Ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xs[e]=new Ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xs[e]=new Ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xs[e]=new Ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xs[e]=new Ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xs[e]=new Ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xs[e]=new Ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function Cw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sw,Cw);xs[t]=new Ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sw,Cw);xs[t]=new Ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sw,Cw);xs[t]=new Ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xs[e]=new Ls(e,1,!1,e.toLowerCase(),null,!1,!1)});xs.xlinkHref=new Ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xs[e]=new Ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ew(e,t,n,r){var a=xs.hasOwnProperty(t)?xs[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d6(t,n,a,r)&&(n=null),r||a===null?l6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ya=o6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),Lv=Symbol.for("react.profiler"),mP=Symbol.for("react.provider"),pP=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),$v=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),fP=Symbol.for("react.offscreen"),yS=Symbol.iterator;function Ac(e){return e===null||typeof e!="object"?null:(e=yS&&e[yS]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Object.assign,Hx;function Yc(e){if(Hx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hx=t&&t[1]||""}return`
`+Hx+e}var qx=!1;function zx(e,t){if(!e||qx)return"";qx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{qx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yc(e):""}function u6(e){switch(e.tag){case 5:return Yc(e.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return e=zx(e.type,!1),e;case 11:return e=zx(e.type.render,!1),e;case 1:return e=zx(e.type,!0),e;default:return""}}function Uv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ki:return"Fragment";case Wi:return"Portal";case Lv:return"Profiler";case Tw:return"StrictMode";case _v:return"Suspense";case $v:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pP:return(e.displayName||"Context")+".Consumer";case mP:return(e._context.displayName||"Context")+".Provider";case Pw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Aw:return t=e.displayName||null,t!==null?t:Uv(e.type)||"Memo";case Oa:t=e._payload,e=e._init;try{return Uv(e(t))}catch{}}return null}function h6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uv(t);case 8:return t===Tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function no(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m6(e){var t=xP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jh(e){e._valueTracker||(e._valueTracker=m6(e))}function gP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vv(e,t){var n=t.checked;return Vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=no(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vP(e,t){t=t.checked,t!=null&&Ew(e,"checked",t,!1)}function Bv(e,t){vP(e,t);var n=no(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hv(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hv(e,t.type,no(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hv(e,t,n){(t!=="number"||zm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xc=Array.isArray;function pl(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+no(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function NS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Xc(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:no(n)}}function yP(e,t){var n=no(t.value),r=no(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wh,wP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ed(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p6=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(e){p6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ad[t]=ad[e]})});function NP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ad.hasOwnProperty(e)&&ad[e]?(""+t).trim():t+"px"}function bP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=NP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var f6=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wv(e,t){if(t){if(f6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function Kv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yv=null;function kw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xv=null,fl=null,xl=null;function SS(e){if(e=bu(e)){if(typeof Xv!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=pf(t),Xv(e.stateNode,e.type,t))}}function SP(e){fl?xl?xl.push(e):xl=[e]:fl=e}function CP(){if(fl){var e=fl,t=xl;if(xl=fl=null,SS(e),t)for(e=0;e<t.length;e++)SS(t[e])}}function EP(e,t){return e(t)}function TP(){}var Wx=!1;function PP(e,t,n){if(Wx)return e(t,n);Wx=!0;try{return EP(e,t,n)}finally{Wx=!1,(fl!==null||xl!==null)&&(TP(),CP())}}function Td(e,t){var n=e.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var Gv=!1;if(la)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{Gv=!1}function x6(e,t,n,r,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var od=!1,Wm=null,Km=!1,Jv=null,g6={onError:function(e){od=!0,Wm=e}};function v6(e,t,n,r,a,o,i,l,c){od=!1,Wm=null,x6.apply(g6,arguments)}function y6(e,t,n,r,a,o,i,l,c){if(v6.apply(this,arguments),od){if(od){var d=Wm;od=!1,Wm=null}else throw Error(xe(198));Km||(Km=!0,Jv=d)}}function wi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function AP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CS(e){if(wi(e)!==e)throw Error(xe(188))}function j6(e){var t=e.alternate;if(!t){if(t=wi(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return CS(a),e;if(o===r)return CS(a),t;o=o.sibling}throw Error(xe(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function kP(e){return e=j6(e),e!==null?RP(e):null}function RP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RP(e);if(t!==null)return t;e=e.sibling}return null}var MP=bn.unstable_scheduleCallback,ES=bn.unstable_cancelCallback,w6=bn.unstable_shouldYield,N6=bn.unstable_requestPaint,Yt=bn.unstable_now,b6=bn.unstable_getCurrentPriorityLevel,Rw=bn.unstable_ImmediatePriority,DP=bn.unstable_UserBlockingPriority,Ym=bn.unstable_NormalPriority,S6=bn.unstable_LowPriority,FP=bn.unstable_IdlePriority,df=null,Rr=null;function C6(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(df,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:P6,E6=Math.log,T6=Math.LN2;function P6(e){return e>>>=0,e===0?32:31-(E6(e)/T6|0)|0}var Nh=64,bh=4194304;function Gc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~a;l!==0?r=Gc(l):(o&=i,o!==0&&(r=Gc(o)))}else i=n&~a,i!==0?r=Gc(i):o!==0&&(r=Gc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ar(t),a=1<<n,r|=e[n],t&=~a;return r}function A6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ar(o),l=1<<i,c=a[i];c===-1?(!(l&n)||l&r)&&(a[i]=A6(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Qv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OP(){var e=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),e}function Kx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=n}function R6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ar(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function Mw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ar(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function IP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var LP,Dw,_P,$P,UP,Zv=!1,Sh=[],qa=null,za=null,Wa=null,Pd=new Map,Ad=new Map,La=[],M6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TS(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(t.pointerId)}}function Rc(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=bu(t),t!==null&&Dw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function D6(e,t,n,r,a){switch(t){case"focusin":return qa=Rc(qa,e,t,n,r,a),!0;case"dragenter":return za=Rc(za,e,t,n,r,a),!0;case"mouseover":return Wa=Rc(Wa,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pd.set(o,Rc(Pd.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ad.set(o,Rc(Ad.get(o)||null,e,t,n,r,a)),!0}return!1}function VP(e){var t=Lo(e.target);if(t!==null){var n=wi(t);if(n!==null){if(t=n.tag,t===13){if(t=AP(n),t!==null){e.blockedOn=t,UP(e.priority,function(){_P(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ey(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yv=r,n.target.dispatchEvent(r),Yv=null}else return t=bu(n),t!==null&&Dw(t),e.blockedOn=n,!1;t.shift()}return!0}function PS(e,t,n){pm(e)&&n.delete(t)}function F6(){Zv=!1,qa!==null&&pm(qa)&&(qa=null),za!==null&&pm(za)&&(za=null),Wa!==null&&pm(Wa)&&(Wa=null),Pd.forEach(PS),Ad.forEach(PS)}function Mc(e,t){e.blockedOn===t&&(e.blockedOn=null,Zv||(Zv=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,F6)))}function kd(e){function t(a){return Mc(a,e)}if(0<Sh.length){Mc(Sh[0],e);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qa!==null&&Mc(qa,e),za!==null&&Mc(za,e),Wa!==null&&Mc(Wa,e),Pd.forEach(t),Ad.forEach(t),n=0;n<La.length;n++)r=La[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<La.length&&(n=La[0],n.blockedOn===null);)VP(n),n.blockedOn===null&&La.shift()}var gl=ya.ReactCurrentBatchConfig,Gm=!0;function O6(e,t,n,r){var a=yt,o=gl.transition;gl.transition=null;try{yt=1,Fw(e,t,n,r)}finally{yt=a,gl.transition=o}}function I6(e,t,n,r){var a=yt,o=gl.transition;gl.transition=null;try{yt=4,Fw(e,t,n,r)}finally{yt=a,gl.transition=o}}function Fw(e,t,n,r){if(Gm){var a=ey(e,t,n,r);if(a===null)ng(e,t,r,Jm,n),TS(e,r);else if(D6(a,e,t,n,r))r.stopPropagation();else if(TS(e,r),t&4&&-1<M6.indexOf(e)){for(;a!==null;){var o=bu(a);if(o!==null&&LP(o),o=ey(e,t,n,r),o===null&&ng(e,t,r,Jm,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else ng(e,t,r,null,n)}}var Jm=null;function ey(e,t,n,r){if(Jm=null,e=kw(r),e=Lo(e),e!==null)if(t=wi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=AP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jm=e,null}function BP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b6()){case Rw:return 1;case DP:return 4;case Ym:case S6:return 16;case FP:return 536870912;default:return 16}default:return 16}}var Va=null,Ow=null,fm=null;function HP(){if(fm)return fm;var e,t=Ow,n=t.length,r,a="value"in Va?Va.value:Va.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===a[o-r];r++);return fm=a.slice(e,1<r?1-r:void 0)}function xm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function AS(){return!1}function kn(e){function t(n,r,a,o,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ch:AS,this.isPropagationStopped=AS,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=kn(rc),Nu=Vt({},rc,{view:0,detail:0}),L6=kn(Nu),Yx,Xx,Dc,uf=Vt({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dc&&(Dc&&e.type==="mousemove"?(Yx=e.screenX-Dc.screenX,Xx=e.screenY-Dc.screenY):Xx=Yx=0,Dc=e),Yx)},movementY:function(e){return"movementY"in e?e.movementY:Xx}}),kS=kn(uf),_6=Vt({},uf,{dataTransfer:0}),$6=kn(_6),U6=Vt({},Nu,{relatedTarget:0}),Gx=kn(U6),V6=Vt({},rc,{animationName:0,elapsedTime:0,pseudoElement:0}),B6=kn(V6),H6=Vt({},rc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q6=kn(H6),z6=Vt({},rc,{data:0}),RS=kn(z6),W6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y6[e])?!!t[e]:!1}function Lw(){return X6}var G6=Vt({},Nu,{key:function(e){if(e.key){var t=W6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lw,charCode:function(e){return e.type==="keypress"?xm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J6=kn(G6),Q6=Vt({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MS=kn(Q6),Z6=Vt({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lw}),eU=kn(Z6),tU=Vt({},rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),sU=kn(tU),nU=Vt({},uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rU=kn(nU),aU=[9,13,27,32],_w=la&&"CompositionEvent"in window,id=null;la&&"documentMode"in document&&(id=document.documentMode);var oU=la&&"TextEvent"in window&&!id,qP=la&&(!_w||id&&8<id&&11>=id),DS=" ",FS=!1;function zP(e,t){switch(e){case"keyup":return aU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function iU(e,t){switch(e){case"compositionend":return WP(t);case"keypress":return t.which!==32?null:(FS=!0,DS);case"textInput":return e=t.data,e===DS&&FS?null:e;default:return null}}function lU(e,t){if(Yi)return e==="compositionend"||!_w&&zP(e,t)?(e=HP(),fm=Ow=Va=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qP&&t.locale!=="ko"?null:t.data;default:return null}}var cU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cU[e.type]:t==="textarea"}function KP(e,t,n,r){SP(r),t=Qm(t,"onChange"),0<t.length&&(n=new Iw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ld=null,Rd=null;function dU(e){rA(e,0)}function hf(e){var t=Ji(e);if(gP(t))return e}function uU(e,t){if(e==="change")return t}var YP=!1;if(la){var Jx;if(la){var Qx="oninput"in document;if(!Qx){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),Qx=typeof IS.oninput=="function"}Jx=Qx}else Jx=!1;YP=Jx&&(!document.documentMode||9<document.documentMode)}function LS(){ld&&(ld.detachEvent("onpropertychange",XP),Rd=ld=null)}function XP(e){if(e.propertyName==="value"&&hf(Rd)){var t=[];KP(t,Rd,e,kw(e)),PP(dU,t)}}function hU(e,t,n){e==="focusin"?(LS(),ld=t,Rd=n,ld.attachEvent("onpropertychange",XP)):e==="focusout"&&LS()}function mU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hf(Rd)}function pU(e,t){if(e==="click")return hf(t)}function fU(e,t){if(e==="input"||e==="change")return hf(t)}function xU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:xU;function Md(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Iv.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function _S(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $S(e,t){var n=_S(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_S(n)}}function GP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JP(){for(var e=window,t=zm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zm(e.document)}return t}function $w(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gU(e){var t=JP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GP(n.ownerDocument.documentElement,n)){if(r!==null&&$w(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=$S(n,o);var i=$S(n,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vU=la&&"documentMode"in document&&11>=document.documentMode,Xi=null,ty=null,cd=null,sy=!1;function US(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sy||Xi==null||Xi!==zm(r)||(r=Xi,"selectionStart"in r&&$w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cd&&Md(cd,r)||(cd=r,r=Qm(ty,"onSelect"),0<r.length&&(t=new Iw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xi)))}function Eh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gi={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},Zx={},QP={};la&&(QP=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function mf(e){if(Zx[e])return Zx[e];if(!Gi[e])return e;var t=Gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QP)return Zx[e]=t[n];return e}var ZP=mf("animationend"),eA=mf("animationiteration"),tA=mf("animationstart"),sA=mf("transitionend"),nA=new Map,VS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(e,t){nA.set(e,t),ji(t,[e])}for(var eg=0;eg<VS.length;eg++){var tg=VS[eg],yU=tg.toLowerCase(),jU=tg[0].toUpperCase()+tg.slice(1);xo(yU,"on"+jU)}xo(ZP,"onAnimationEnd");xo(eA,"onAnimationIteration");xo(tA,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(sA,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jc));function BS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,y6(r,t,void 0,e),e.currentTarget=null}function rA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;BS(a,l,d),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;BS(a,l,d),o=c}}}if(Km)throw e=Jv,Km=!1,Jv=null,e}function Tt(e,t){var n=t[iy];n===void 0&&(n=t[iy]=new Set);var r=e+"__bubble";n.has(r)||(aA(t,e,2,!1),n.add(r))}function sg(e,t,n){var r=0;t&&(r|=4),aA(n,e,r,t)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[Th]){e[Th]=!0,hP.forEach(function(n){n!=="selectionchange"&&(wU.has(n)||sg(n,!1,e),sg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Th]||(t[Th]=!0,sg("selectionchange",!1,t))}}function aA(e,t,n,r){switch(BP(t)){case 1:var a=O6;break;case 4:a=I6;break;default:a=Fw}n=a.bind(null,t,n,e),a=void 0,!Gv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ng(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Lo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}PP(function(){var d=o,u=kw(n),m=[];e:{var p=nA.get(e);if(p!==void 0){var x=Iw,g=e;switch(e){case"keypress":if(xm(n)===0)break e;case"keydown":case"keyup":x=J6;break;case"focusin":g="focus",x=Gx;break;case"focusout":g="blur",x=Gx;break;case"beforeblur":case"afterblur":x=Gx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=kS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=$6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=eU;break;case ZP:case eA:case tA:x=B6;break;case sA:x=sU;break;case"scroll":x=L6;break;case"wheel":x=rU;break;case"copy":case"cut":case"paste":x=q6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=MS}var f=(t&4)!==0,w=!f&&e==="scroll",j=f?p!==null?p+"Capture":null:p;f=[];for(var v=d,y;v!==null;){y=v;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,j!==null&&(N=Td(v,j),N!=null&&f.push(Fd(v,N,y)))),w)break;v=v.return}0<f.length&&(p=new x(p,g,null,n,u),m.push({event:p,listeners:f}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==Yv&&(g=n.relatedTarget||n.fromElement)&&(Lo(g)||g[ca]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=d,g=g?Lo(g):null,g!==null&&(w=wi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(f=kS,N="onMouseLeave",j="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(f=MS,N="onPointerLeave",j="onPointerEnter",v="pointer"),w=x==null?p:Ji(x),y=g==null?p:Ji(g),p=new f(N,v+"leave",x,n,u),p.target=w,p.relatedTarget=y,N=null,Lo(u)===d&&(f=new f(j,v+"enter",g,n,u),f.target=y,f.relatedTarget=w,N=f),w=N,x&&g)t:{for(f=x,j=g,v=0,y=f;y;y=Mi(y))v++;for(y=0,N=j;N;N=Mi(N))y++;for(;0<v-y;)f=Mi(f),v--;for(;0<y-v;)j=Mi(j),y--;for(;v--;){if(f===j||j!==null&&f===j.alternate)break t;f=Mi(f),j=Mi(j)}f=null}else f=null;x!==null&&HS(m,p,x,f,!1),g!==null&&w!==null&&HS(m,w,g,f,!0)}}e:{if(p=d?Ji(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var b=uU;else if(OS(p))if(YP)b=fU;else{b=mU;var E=hU}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=pU);if(b&&(b=b(e,d))){KP(m,b,n,u);break e}E&&E(e,p,d),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Hv(p,"number",p.value)}switch(E=d?Ji(d):window,e){case"focusin":(OS(E)||E.contentEditable==="true")&&(Xi=E,ty=d,cd=null);break;case"focusout":cd=ty=Xi=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,US(m,n,u);break;case"selectionchange":if(vU)break;case"keydown":case"keyup":US(m,n,u)}var S;if(_w)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Yi?zP(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(qP&&n.locale!=="ko"&&(Yi||A!=="onCompositionStart"?A==="onCompositionEnd"&&Yi&&(S=HP()):(Va=u,Ow="value"in Va?Va.value:Va.textContent,Yi=!0)),E=Qm(d,A),0<E.length&&(A=new RS(A,e,null,n,u),m.push({event:A,listeners:E}),S?A.data=S:(S=WP(n),S!==null&&(A.data=S)))),(S=oU?iU(e,n):lU(e,n))&&(d=Qm(d,"onBeforeInput"),0<d.length&&(u=new RS("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=S))}rA(m,t)})}function Fd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qm(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Td(e,n),o!=null&&r.unshift(Fd(e,o,a)),o=Td(e,t),o!=null&&r.push(Fd(e,o,a))),e=e.return}return r}function Mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HS(e,t,n,r,a){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Td(n,o),c!=null&&i.unshift(Fd(n,c,l))):a||(c=Td(n,o),c!=null&&i.push(Fd(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var NU=/\r\n?/g,bU=/\u0000|\uFFFD/g;function qS(e){return(typeof e=="string"?e:""+e).replace(NU,`
`).replace(bU,"")}function Ph(e,t,n){if(t=qS(t),qS(e)!==t&&n)throw Error(xe(425))}function Zm(){}var ny=null,ry=null;function ay(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oy=typeof setTimeout=="function"?setTimeout:void 0,SU=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,CU=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(e){return zS.resolve(null).then(e).catch(EU)}:oy;function EU(e){setTimeout(function(){throw e})}function rg(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),kd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);kd(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function WS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Er="__reactFiber$"+ac,Od="__reactProps$"+ac,ca="__reactContainer$"+ac,iy="__reactEvents$"+ac,TU="__reactListeners$"+ac,PU="__reactHandles$"+ac;function Lo(e){var t=e[Er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ca]||n[Er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WS(e);e!==null;){if(n=e[Er])return n;e=WS(e)}return t}e=n,n=e.parentNode}return null}function bu(e){return e=e[Er]||e[ca],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function pf(e){return e[Od]||null}var ly=[],Qi=-1;function go(e){return{current:e}}function Pt(e){0>Qi||(e.current=ly[Qi],ly[Qi]=null,Qi--)}function St(e,t){Qi++,ly[Qi]=e.current,e.current=t}var ro={},Ss=go(ro),Gs=go(!1),ei=ro;function Ml(e,t){var n=e.type.contextTypes;if(!n)return ro;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Js(e){return e=e.childContextTypes,e!=null}function ep(){Pt(Gs),Pt(Ss)}function KS(e,t,n){if(Ss.current!==ro)throw Error(xe(168));St(Ss,t),St(Gs,n)}function oA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(xe(108,h6(e)||"Unknown",a));return Vt({},n,r)}function tp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ro,ei=Ss.current,St(Ss,e),St(Gs,Gs.current),!0}function YS(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=oA(e,t,ei),r.__reactInternalMemoizedMergedChildContext=e,Pt(Gs),Pt(Ss),St(Ss,e)):Pt(Gs),St(Gs,n)}var Zr=null,ff=!1,ag=!1;function iA(e){Zr===null?Zr=[e]:Zr.push(e)}function AU(e){ff=!0,iA(e)}function vo(){if(!ag&&Zr!==null){ag=!0;var e=0,t=yt;try{var n=Zr;for(yt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zr=null,ff=!1}catch(a){throw Zr!==null&&(Zr=Zr.slice(e+1)),MP(Rw,vo),a}finally{yt=t,ag=!1}}return null}var Zi=[],el=0,sp=null,np=0,In=[],Ln=0,ti=null,ea=1,ta="";function ko(e,t){Zi[el++]=np,Zi[el++]=sp,sp=e,np=t}function lA(e,t,n){In[Ln++]=ea,In[Ln++]=ta,In[Ln++]=ti,ti=e;var r=ea;e=ta;var a=32-ar(r)-1;r&=~(1<<a),n+=1;var o=32-ar(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,ea=1<<32-ar(t)+a|n<<a|r,ta=o+e}else ea=1<<o|n<<a|r,ta=e}function Uw(e){e.return!==null&&(ko(e,1),lA(e,1,0))}function Vw(e){for(;e===sp;)sp=Zi[--el],Zi[el]=null,np=Zi[--el],Zi[el]=null;for(;e===ti;)ti=In[--Ln],In[Ln]=null,ta=In[--Ln],In[Ln]=null,ea=In[--Ln],In[Ln]=null}var yn=null,vn=null,Rt=!1,tr=null;function cA(e,t){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function XS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,vn=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ti!==null?{id:ea,overflow:ta}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yn=e,vn=null,!0):!1;default:return!1}}function cy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dy(e){if(Rt){var t=vn;if(t){var n=t;if(!XS(e,t)){if(cy(e))throw Error(xe(418));t=Ka(n.nextSibling);var r=yn;t&&XS(e,t)?cA(r,n):(e.flags=e.flags&-4097|2,Rt=!1,yn=e)}}else{if(cy(e))throw Error(xe(418));e.flags=e.flags&-4097|2,Rt=!1,yn=e}}}function GS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Ah(e){if(e!==yn)return!1;if(!Rt)return GS(e),Rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ay(e.type,e.memoizedProps)),t&&(t=vn)){if(cy(e))throw dA(),Error(xe(418));for(;t;)cA(e,t),t=Ka(t.nextSibling)}if(GS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=Ka(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=yn?Ka(e.stateNode.nextSibling):null;return!0}function dA(){for(var e=vn;e;)e=Ka(e.nextSibling)}function Dl(){vn=yn=null,Rt=!1}function Bw(e){tr===null?tr=[e]:tr.push(e)}var kU=ya.ReactCurrentBatchConfig;function Fc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function kh(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JS(e){var t=e._init;return t(e._payload)}function uA(e){function t(j,v){if(e){var y=j.deletions;y===null?(j.deletions=[v],j.flags|=16):y.push(v)}}function n(j,v){if(!e)return null;for(;v!==null;)t(j,v),v=v.sibling;return null}function r(j,v){for(j=new Map;v!==null;)v.key!==null?j.set(v.key,v):j.set(v.index,v),v=v.sibling;return j}function a(j,v){return j=Ja(j,v),j.index=0,j.sibling=null,j}function o(j,v,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<v?(j.flags|=2,v):y):(j.flags|=2,v)):(j.flags|=1048576,v)}function i(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,v,y,N){return v===null||v.tag!==6?(v=hg(y,j.mode,N),v.return=j,v):(v=a(v,y),v.return=j,v)}function c(j,v,y,N){var b=y.type;return b===Ki?u(j,v,y.props.children,N,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Oa&&JS(b)===v.type)?(N=a(v,y.props),N.ref=Fc(j,v,y),N.return=j,N):(N=bm(y.type,y.key,y.props,null,j.mode,N),N.ref=Fc(j,v,y),N.return=j,N)}function d(j,v,y,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=mg(y,j.mode,N),v.return=j,v):(v=a(v,y.children||[]),v.return=j,v)}function u(j,v,y,N,b){return v===null||v.tag!==7?(v=Wo(y,j.mode,N,b),v.return=j,v):(v=a(v,y),v.return=j,v)}function m(j,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hg(""+v,j.mode,y),v.return=j,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:return y=bm(v.type,v.key,v.props,null,j.mode,y),y.ref=Fc(j,null,v),y.return=j,y;case Wi:return v=mg(v,j.mode,y),v.return=j,v;case Oa:var N=v._init;return m(j,N(v._payload),y)}if(Xc(v)||Ac(v))return v=Wo(v,j.mode,y,null),v.return=j,v;kh(j,v)}return null}function p(j,v,y,N){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(j,v,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yh:return y.key===b?c(j,v,y,N):null;case Wi:return y.key===b?d(j,v,y,N):null;case Oa:return b=y._init,p(j,v,b(y._payload),N)}if(Xc(y)||Ac(y))return b!==null?null:u(j,v,y,N,null);kh(j,y)}return null}function x(j,v,y,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(y)||null,l(v,j,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yh:return j=j.get(N.key===null?y:N.key)||null,c(v,j,N,b);case Wi:return j=j.get(N.key===null?y:N.key)||null,d(v,j,N,b);case Oa:var E=N._init;return x(j,v,y,E(N._payload),b)}if(Xc(N)||Ac(N))return j=j.get(y)||null,u(v,j,N,b,null);kh(v,N)}return null}function g(j,v,y,N){for(var b=null,E=null,S=v,A=v=0,O=null;S!==null&&A<y.length;A++){S.index>A?(O=S,S=null):O=S.sibling;var I=p(j,S,y[A],N);if(I===null){S===null&&(S=O);break}e&&S&&I.alternate===null&&t(j,S),v=o(I,v,A),E===null?b=I:E.sibling=I,E=I,S=O}if(A===y.length)return n(j,S),Rt&&ko(j,A),b;if(S===null){for(;A<y.length;A++)S=m(j,y[A],N),S!==null&&(v=o(S,v,A),E===null?b=S:E.sibling=S,E=S);return Rt&&ko(j,A),b}for(S=r(j,S);A<y.length;A++)O=x(S,j,A,y[A],N),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?A:O.key),v=o(O,v,A),E===null?b=O:E.sibling=O,E=O);return e&&S.forEach(function(F){return t(j,F)}),Rt&&ko(j,A),b}function f(j,v,y,N){var b=Ac(y);if(typeof b!="function")throw Error(xe(150));if(y=b.call(y),y==null)throw Error(xe(151));for(var E=b=null,S=v,A=v=0,O=null,I=y.next();S!==null&&!I.done;A++,I=y.next()){S.index>A?(O=S,S=null):O=S.sibling;var F=p(j,S,I.value,N);if(F===null){S===null&&(S=O);break}e&&S&&F.alternate===null&&t(j,S),v=o(F,v,A),E===null?b=F:E.sibling=F,E=F,S=O}if(I.done)return n(j,S),Rt&&ko(j,A),b;if(S===null){for(;!I.done;A++,I=y.next())I=m(j,I.value,N),I!==null&&(v=o(I,v,A),E===null?b=I:E.sibling=I,E=I);return Rt&&ko(j,A),b}for(S=r(j,S);!I.done;A++,I=y.next())I=x(S,j,A,I.value,N),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?A:I.key),v=o(I,v,A),E===null?b=I:E.sibling=I,E=I);return e&&S.forEach(function(L){return t(j,L)}),Rt&&ko(j,A),b}function w(j,v,y,N){if(typeof y=="object"&&y!==null&&y.type===Ki&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case yh:e:{for(var b=y.key,E=v;E!==null;){if(E.key===b){if(b=y.type,b===Ki){if(E.tag===7){n(j,E.sibling),v=a(E,y.props.children),v.return=j,j=v;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Oa&&JS(b)===E.type){n(j,E.sibling),v=a(E,y.props),v.ref=Fc(j,E,y),v.return=j,j=v;break e}n(j,E);break}else t(j,E);E=E.sibling}y.type===Ki?(v=Wo(y.props.children,j.mode,N,y.key),v.return=j,j=v):(N=bm(y.type,y.key,y.props,null,j.mode,N),N.ref=Fc(j,v,y),N.return=j,j=N)}return i(j);case Wi:e:{for(E=y.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(j,v.sibling),v=a(v,y.children||[]),v.return=j,j=v;break e}else{n(j,v);break}else t(j,v);v=v.sibling}v=mg(y,j.mode,N),v.return=j,j=v}return i(j);case Oa:return E=y._init,w(j,v,E(y._payload),N)}if(Xc(y))return g(j,v,y,N);if(Ac(y))return f(j,v,y,N);kh(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(j,v.sibling),v=a(v,y),v.return=j,j=v):(n(j,v),v=hg(y,j.mode,N),v.return=j,j=v),i(j)):n(j,v)}return w}var Fl=uA(!0),hA=uA(!1),rp=go(null),ap=null,tl=null,Hw=null;function qw(){Hw=tl=ap=null}function zw(e){var t=rp.current;Pt(rp),e._currentValue=t}function uy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vl(e,t){ap=e,Hw=tl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qs=!0),e.firstContext=null)}function Hn(e){var t=e._currentValue;if(Hw!==e)if(e={context:e,memoizedValue:t,next:null},tl===null){if(ap===null)throw Error(xe(308));tl=e,ap.dependencies={lanes:0,firstContext:e}}else tl=tl.next=e;return t}var _o=null;function Ww(e){_o===null?_o=[e]:_o.push(e)}function mA(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Ww(t)):(n.next=a.next,a.next=n),t.interleaved=n,da(e,r)}function da(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ia=!1;function Kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,da(e,n)}return a=r.interleaved,a===null?(t.next=t,Ww(r)):(t.next=a.next,a.next=t),r.interleaved=t,da(e,n)}function gm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mw(e,n)}}function QS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function op(e,t,n,r){var a=e.updateQueue;Ia=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,u=d=c=null,l=o;do{var p=l.lane,x=l.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,f=l;switch(p=t,x=n,f.tag){case 1:if(g=f.payload,typeof g=="function"){m=g.call(x,m,p);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=f.payload,p=typeof g=="function"?g.call(x,m,p):g,p==null)break e;m=Vt({},m,p);break e;case 2:Ia=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,i|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);ni|=i,e.lanes=i,e.memoizedState=m}}function ZS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(xe(191,a));a.call(r)}}}var Su={},Mr=go(Su),Id=go(Su),Ld=go(Su);function $o(e){if(e===Su)throw Error(xe(174));return e}function Yw(e,t){switch(St(Ld,t),St(Id,e),St(Mr,Su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zv(t,e)}Pt(Mr),St(Mr,t)}function Ol(){Pt(Mr),Pt(Id),Pt(Ld)}function fA(e){$o(Ld.current);var t=$o(Mr.current),n=zv(t,e.type);t!==n&&(St(Id,e),St(Mr,n))}function Xw(e){Id.current===e&&(Pt(Mr),Pt(Id))}var Ot=go(0);function ip(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var og=[];function Gw(){for(var e=0;e<og.length;e++)og[e]._workInProgressVersionPrimary=null;og.length=0}var vm=ya.ReactCurrentDispatcher,ig=ya.ReactCurrentBatchConfig,si=0,$t=null,ss=null,os=null,lp=!1,dd=!1,_d=0,RU=0;function gs(){throw Error(xe(321))}function Jw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Qw(e,t,n,r,a,o){if(si=o,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vm.current=e===null||e.memoizedState===null?OU:IU,e=n(r,a),dd){o=0;do{if(dd=!1,_d=0,25<=o)throw Error(xe(301));o+=1,os=ss=null,t.updateQueue=null,vm.current=LU,e=n(r,a)}while(dd)}if(vm.current=cp,t=ss!==null&&ss.next!==null,si=0,os=ss=$t=null,lp=!1,t)throw Error(xe(300));return e}function Zw(){var e=_d!==0;return _d=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?$t.memoizedState=os=e:os=os.next=e,os}function qn(){if(ss===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=ss.next;var t=os===null?$t.memoizedState:os.next;if(t!==null)os=t,ss=e;else{if(e===null)throw Error(xe(310));ss=e,e={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},os===null?$t.memoizedState=os=e:os=os.next=e}return os}function $d(e,t){return typeof t=="function"?t(e):t}function lg(e){var t=qn(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=ss,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((si&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,i=r):c=c.next=m,$t.lanes|=u,ni|=u}d=d.next}while(d!==null&&d!==o);c===null?i=r:c.next=l,lr(r,t.memoizedState)||(qs=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,$t.lanes|=o,ni|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cg(e){var t=qn(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);lr(o,t.memoizedState)||(qs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xA(){}function gA(e,t){var n=$t,r=qn(),a=t(),o=!lr(r.memoizedState,a);if(o&&(r.memoizedState=a,qs=!0),r=r.queue,eN(jA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||os!==null&&os.memoizedState.tag&1){if(n.flags|=2048,Ud(9,yA.bind(null,n,r,a,t),void 0,null),is===null)throw Error(xe(349));si&30||vA(n,t,a)}return a}function vA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yA(e,t,n,r){t.value=n,t.getSnapshot=r,wA(t)&&NA(e)}function jA(e,t,n){return n(function(){wA(t)&&NA(e)})}function wA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function NA(e){var t=da(e,1);t!==null&&or(t,e,1,-1)}function eC(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:e},t.queue=e,e=e.dispatch=FU.bind(null,$t,e),[t.memoizedState,e]}function Ud(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bA(){return qn().memoizedState}function ym(e,t,n,r){var a=Sr();$t.flags|=e,a.memoizedState=Ud(1|t,n,void 0,r===void 0?null:r)}function xf(e,t,n,r){var a=qn();r=r===void 0?null:r;var o=void 0;if(ss!==null){var i=ss.memoizedState;if(o=i.destroy,r!==null&&Jw(r,i.deps)){a.memoizedState=Ud(t,n,o,r);return}}$t.flags|=e,a.memoizedState=Ud(1|t,n,o,r)}function tC(e,t){return ym(8390656,8,e,t)}function eN(e,t){return xf(2048,8,e,t)}function SA(e,t){return xf(4,2,e,t)}function CA(e,t){return xf(4,4,e,t)}function EA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TA(e,t,n){return n=n!=null?n.concat([e]):null,xf(4,4,EA.bind(null,t,e),n)}function tN(){}function PA(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function AA(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kA(e,t,n){return si&21?(lr(n,t)||(n=OP(),$t.lanes|=n,ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qs=!0),e.memoizedState=n)}function MU(e,t){var n=yt;yt=n!==0&&4>n?n:4,e(!0);var r=ig.transition;ig.transition={};try{e(!1),t()}finally{yt=n,ig.transition=r}}function RA(){return qn().memoizedState}function DU(e,t,n){var r=Ga(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MA(e))DA(t,n);else if(n=mA(e,t,n,r),n!==null){var a=Rs();or(n,e,r,a),FA(n,t,r)}}function FU(e,t,n){var r=Ga(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MA(e))DA(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var c=t.interleaved;c===null?(a.next=a,Ww(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=mA(e,t,a,r),n!==null&&(a=Rs(),or(n,e,r,a),FA(n,t,r))}}function MA(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function DA(e,t){dd=lp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mw(e,n)}}var cp={readContext:Hn,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},OU={readContext:Hn,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Hn,useEffect:tC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ym(4194308,4,EA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ym(4194308,4,e,t)},useInsertionEffect:function(e,t){return ym(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DU.bind(null,$t,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:eC,useDebugValue:tN,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=eC(!1),t=e[0];return e=MU.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$t,a=Sr();if(Rt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),is===null)throw Error(xe(349));si&30||vA(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,tC(jA.bind(null,r,o,e),[e]),r.flags|=2048,Ud(9,yA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=is.identifierPrefix;if(Rt){var n=ta,r=ea;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_d++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IU={readContext:Hn,useCallback:PA,useContext:Hn,useEffect:eN,useImperativeHandle:TA,useInsertionEffect:SA,useLayoutEffect:CA,useMemo:AA,useReducer:lg,useRef:bA,useState:function(){return lg($d)},useDebugValue:tN,useDeferredValue:function(e){var t=qn();return kA(t,ss.memoizedState,e)},useTransition:function(){var e=lg($d)[0],t=qn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:gA,useId:RA,unstable_isNewReconciler:!1},LU={readContext:Hn,useCallback:PA,useContext:Hn,useEffect:eN,useImperativeHandle:TA,useInsertionEffect:SA,useLayoutEffect:CA,useMemo:AA,useReducer:cg,useRef:bA,useState:function(){return cg($d)},useDebugValue:tN,useDeferredValue:function(e){var t=qn();return ss===null?t.memoizedState=e:kA(t,ss.memoizedState,e)},useTransition:function(){var e=cg($d)[0],t=qn().memoizedState;return[e,t]},useMutableSource:xA,useSyncExternalStore:gA,useId:RA,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=Vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={isMounted:function(e){return(e=e._reactInternals)?wi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rs(),a=Ga(e),o=oa(r,a);o.payload=t,n!=null&&(o.callback=n),t=Ya(e,o,a),t!==null&&(or(t,e,a,r),gm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rs(),a=Ga(e),o=oa(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ya(e,o,a),t!==null&&(or(t,e,a,r),gm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rs(),r=Ga(e),a=oa(n,r);a.tag=2,t!=null&&(a.callback=t),t=Ya(e,a,r),t!==null&&(or(t,e,r,n),gm(t,e,r))}};function sC(e,t,n,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Md(n,r)||!Md(a,o):!0}function OA(e,t,n){var r=!1,a=ro,o=t.contextType;return typeof o=="object"&&o!==null?o=Hn(o):(a=Js(t)?ei:Ss.current,r=t.contextTypes,o=(r=r!=null)?Ml(e,a):ro),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function nC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function my(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Kw(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Hn(o):(o=Js(t)?ei:Ss.current,a.context=Ml(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hy(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gf.enqueueReplaceState(a,a.state,null),op(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Il(e,t){try{var n="",r=t;do n+=u6(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function dg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function py(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _U=typeof WeakMap=="function"?WeakMap:Map;function IA(e,t,n){n=oa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){up||(up=!0,Sy=r),py(e,t)},n}function LA(e,t,n){n=oa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){py(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){py(e,t),typeof r!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function rC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _U;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=QU.bind(null,e,t,n),t.then(e,e))}function aC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oC(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oa(-1,1),t.tag=2,Ya(n,t,1))),n.lanes|=1),e)}var $U=ya.ReactCurrentOwner,qs=!1;function Ts(e,t,n,r){t.child=e===null?hA(t,null,n,r):Fl(t,e.child,n,r)}function iC(e,t,n,r,a){n=n.render;var o=t.ref;return vl(t,a),r=Qw(e,t,n,r,o,a),n=Zw(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ua(e,t,a)):(Rt&&n&&Uw(t),t.flags|=1,Ts(e,t,r,a),t.child)}function lC(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!cN(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_A(e,t,o,r,a)):(e=bm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Md,n(i,r)&&e.ref===t.ref)return ua(e,t,a)}return t.flags|=1,e=Ja(o,r),e.ref=t.ref,e.return=t,t.child=e}function _A(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Md(o,r)&&e.ref===t.ref)if(qs=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(qs=!0);else return t.lanes=e.lanes,ua(e,t,a)}return fy(e,t,n,r,a)}function $A(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(nl,hn),hn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(nl,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,St(nl,hn),hn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,St(nl,hn),hn|=r;return Ts(e,t,a,n),t.child}function UA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fy(e,t,n,r,a){var o=Js(n)?ei:Ss.current;return o=Ml(t,o),vl(t,a),n=Qw(e,t,n,r,o,a),r=Zw(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ua(e,t,a)):(Rt&&r&&Uw(t),t.flags|=1,Ts(e,t,n,a),t.child)}function cC(e,t,n,r,a){if(Js(n)){var o=!0;tp(t)}else o=!1;if(vl(t,a),t.stateNode===null)jm(e,t),OA(t,n,r),my(t,n,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Hn(d):(d=Js(n)?ei:Ss.current,d=Ml(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&nC(t,i,r,d),Ia=!1;var p=t.memoizedState;i.state=p,op(t,r,i,a),c=t.memoizedState,l!==r||p!==c||Gs.current||Ia?(typeof u=="function"&&(hy(t,n,u,r),c=t.memoizedState),(l=Ia||sC(t,n,l,r,p,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,pA(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Qn(t.type,l),i.props=d,m=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=Js(n)?ei:Ss.current,c=Ml(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||p!==c)&&nC(t,i,r,c),Ia=!1,p=t.memoizedState,i.state=p,op(t,r,i,a);var g=t.memoizedState;l!==m||p!==g||Gs.current||Ia?(typeof x=="function"&&(hy(t,n,x,r),g=t.memoizedState),(d=Ia||sC(t,n,d,r,p,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return xy(e,t,n,r,o,a)}function xy(e,t,n,r,a,o){UA(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&YS(t,n,!1),ua(e,t,o);r=t.stateNode,$U.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Fl(t,e.child,null,o),t.child=Fl(t,null,l,o)):Ts(e,t,l,o),t.memoizedState=r.state,a&&YS(t,n,!0),t.child}function VA(e){var t=e.stateNode;t.pendingContext?KS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KS(e,t.context,!1),Yw(e,t.containerInfo)}function dC(e,t,n,r,a){return Dl(),Bw(a),t.flags|=256,Ts(e,t,n,r),t.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function vy(e){return{baseLanes:e,cachePool:null,transitions:null}}function BA(e,t,n){var r=t.pendingProps,a=Ot.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),St(Ot,a&1),e===null)return dy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=jf(i,r,0,null),e=Wo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vy(n),t.memoizedState=gy,e):sN(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return UU(e,t,i,r,l,a,n);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ja(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Ja(l,o):(o=Wo(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?vy(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=gy,r}return o=e.child,e=o.sibling,r=Ja(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sN(e,t){return t=jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rh(e,t,n,r){return r!==null&&Bw(r),Fl(t,e.child,null,n),e=sN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UU(e,t,n,r,a,o,i){if(n)return t.flags&256?(t.flags&=-257,r=dg(Error(xe(422))),Rh(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=jf({mode:"visible",children:r.children},a,0,null),o=Wo(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fl(t,e.child,null,i),t.child.memoizedState=vy(i),t.memoizedState=gy,o);if(!(t.mode&1))return Rh(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(xe(419)),r=dg(o,r,void 0),Rh(e,t,i,r)}if(l=(i&e.childLanes)!==0,qs||l){if(r=is,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,da(e,a),or(r,e,a,-1))}return lN(),r=dg(Error(xe(421))),Rh(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ZU.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,vn=Ka(a.nextSibling),yn=t,Rt=!0,tr=null,e!==null&&(In[Ln++]=ea,In[Ln++]=ta,In[Ln++]=ti,ea=e.id,ta=e.overflow,ti=t),t=sN(t,r.children),t.flags|=4096,t)}function uC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uy(e.return,t,n)}function ug(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function HA(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ts(e,t,r.children,n),r=Ot.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uC(e,n,t);else if(e.tag===19)uC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(St(Ot,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ip(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ug(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ip(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ug(t,!0,n,null,o);break;case"together":ug(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=Ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VU(e,t,n){switch(t.tag){case 3:VA(t),Dl();break;case 5:fA(t);break;case 1:Js(t.type)&&tp(t);break;case 4:Yw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;St(rp,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(St(Ot,Ot.current&1),t.flags|=128,null):n&t.child.childLanes?BA(e,t,n):(St(Ot,Ot.current&1),e=ua(e,t,n),e!==null?e.sibling:null);St(Ot,Ot.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return HA(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),St(Ot,Ot.current),r)break;return null;case 22:case 23:return t.lanes=0,$A(e,t,n)}return ua(e,t,n)}var qA,yy,zA,WA;qA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yy=function(){};zA=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$o(Mr.current);var o=null;switch(n){case"input":a=Vv(e,a),r=Vv(e,r),o=[];break;case"select":a=Vt({},a,{value:void 0}),r=Vt({},r,{value:void 0}),o=[];break;case"textarea":a=qv(e,a),r=qv(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zm)}Wv(n,r);var i;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cd.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=a?.[d],r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};WA=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oc(e,t){if(!Rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BU(e,t,n){var r=t.pendingProps;switch(Vw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(t),null;case 1:return Js(t.type)&&ep(),vs(t),null;case 3:return r=t.stateNode,Ol(),Pt(Gs),Pt(Ss),Gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ah(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(Ty(tr),tr=null))),yy(e,t),vs(t),null;case 5:Xw(t);var a=$o(Ld.current);if(n=t.type,e!==null&&t.stateNode!=null)zA(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return vs(t),null}if(e=$o(Mr.current),Ah(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Er]=t,r[Od]=o,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(a=0;a<Jc.length;a++)Tt(Jc[a],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":jS(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":NS(r,o),Tt("invalid",r)}Wv(n,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,l,e),a=["children",""+l]):Cd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Tt("scroll",r)}switch(n){case"input":jh(r),wS(r,o,!0);break;case"textarea":jh(r),bS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zm)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Er]=t,e[Od]=r,qA(e,t,!1,!1),t.stateNode=e;e:{switch(i=Kv(n,r),n){case"dialog":Tt("cancel",e),Tt("close",e),a=r;break;case"iframe":case"object":case"embed":Tt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Jc.length;a++)Tt(Jc[a],e);a=r;break;case"source":Tt("error",e),a=r;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),a=r;break;case"details":Tt("toggle",e),a=r;break;case"input":jS(e,r),a=Vv(e,r),Tt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Vt({},r,{value:void 0}),Tt("invalid",e);break;case"textarea":NS(e,r),a=qv(e,r),Tt("invalid",e);break;default:a=r}Wv(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?bP(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wP(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ed(e,c):typeof c=="number"&&Ed(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cd.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Tt("scroll",e):c!=null&&Ew(e,o,c,i))}switch(n){case"input":jh(e),wS(e,r,!1);break;case"textarea":jh(e),bS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+no(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?pl(e,!!r.multiple,o,!1):r.defaultValue!=null&&pl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vs(t),null;case 6:if(e&&t.stateNode!=null)WA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=$o(Ld.current),$o(Mr.current),Ah(t)){if(r=t.stateNode,n=t.memoizedProps,r[Er]=t,(o=r.nodeValue!==n)&&(e=yn,e!==null))switch(e.tag){case 3:Ph(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ph(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=t,t.stateNode=r}return vs(t),null;case 13:if(Pt(Ot),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&vn!==null&&t.mode&1&&!(t.flags&128))dA(),Dl(),t.flags|=98560,o=!1;else if(o=Ah(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(xe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[Er]=t}else Dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vs(t),o=!1}else tr!==null&&(Ty(tr),tr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ot.current&1?rs===0&&(rs=3):lN())),t.updateQueue!==null&&(t.flags|=4),vs(t),null);case 4:return Ol(),yy(e,t),e===null&&Dd(t.stateNode.containerInfo),vs(t),null;case 10:return zw(t.type._context),vs(t),null;case 17:return Js(t.type)&&ep(),vs(t),null;case 19:if(Pt(Ot),o=t.memoizedState,o===null)return vs(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Oc(o,!1);else{if(rs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ip(e),i!==null){for(t.flags|=128,Oc(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return St(Ot,Ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yt()>Ll&&(t.flags|=128,r=!0,Oc(o,!1),t.lanes=4194304)}else{if(!r)if(e=ip(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Rt)return vs(t),null}else 2*Yt()-o.renderingStartTime>Ll&&n!==1073741824&&(t.flags|=128,r=!0,Oc(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,n=Ot.current,St(Ot,r?n&1|2:n&1),t):(vs(t),null);case 22:case 23:return iN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hn&1073741824&&(vs(t),t.subtreeFlags&6&&(t.flags|=8192)):vs(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function HU(e,t){switch(Vw(t),t.tag){case 1:return Js(t.type)&&ep(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ol(),Pt(Gs),Pt(Ss),Gw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xw(t),null;case 13:if(Pt(Ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));Dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Ot),null;case 4:return Ol(),null;case 10:return zw(t.type._context),null;case 22:case 23:return iN(),null;case 24:return null;default:return null}}var Mh=!1,ys=!1,qU=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function sl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zt(e,t,r)}else n.current=null}function jy(e,t,n){try{n()}catch(r){zt(e,t,r)}}var hC=!1;function zU(e,t){if(ny=Gm,e=JP(),$w(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==n||a!==0&&m.nodeType!==3||(l=i+a),m!==o||r!==0&&m.nodeType!==3||(c=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=i),p===o&&++u===r&&(c=i),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ry={focusedElem:e,selectionRange:n},Gm=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var f=g.memoizedProps,w=g.memoizedState,j=t.stateNode,v=j.getSnapshotBeforeUpdate(t.elementType===t.type?f:Qn(t.type,f),w);j.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){zt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return g=hC,hC=!1,g}function ud(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&jy(t,n,o)}a=a.next}while(a!==r)}}function vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function KA(e){var t=e.alternate;t!==null&&(e.alternate=null,KA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Er],delete t[Od],delete t[iy],delete t[TU],delete t[PU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YA(e){return e.tag===5||e.tag===3||e.tag===4}function mC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ny(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zm));else if(r!==4&&(e=e.child,e!==null))for(Ny(e,t,n),e=e.sibling;e!==null;)Ny(e,t,n),e=e.sibling}function by(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(by(e,t,n),e=e.sibling;e!==null;)by(e,t,n),e=e.sibling}var ms=null,Zn=!1;function Sa(e,t,n){for(n=n.child;n!==null;)XA(e,t,n),n=n.sibling}function XA(e,t,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(df,n)}catch{}switch(n.tag){case 5:ys||sl(n,t);case 6:var r=ms,a=Zn;ms=null,Sa(e,t,n),ms=r,Zn=a,ms!==null&&(Zn?(e=ms,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ms.removeChild(n.stateNode));break;case 18:ms!==null&&(Zn?(e=ms,n=n.stateNode,e.nodeType===8?rg(e.parentNode,n):e.nodeType===1&&rg(e,n),kd(e)):rg(ms,n.stateNode));break;case 4:r=ms,a=Zn,ms=n.stateNode.containerInfo,Zn=!0,Sa(e,t,n),ms=r,Zn=a;break;case 0:case 11:case 14:case 15:if(!ys&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&jy(n,t,i),a=a.next}while(a!==r)}Sa(e,t,n);break;case 1:if(!ys&&(sl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){zt(n,t,l)}Sa(e,t,n);break;case 21:Sa(e,t,n);break;case 22:n.mode&1?(ys=(r=ys)||n.memoizedState!==null,Sa(e,t,n),ys=r):Sa(e,t,n);break;default:Sa(e,t,n)}}function pC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qU),t.forEach(function(r){var a=eV.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ms=l.stateNode,Zn=!1;break e;case 3:ms=l.stateNode.containerInfo,Zn=!0;break e;case 4:ms=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(ms===null)throw Error(xe(160));XA(o,i,a),ms=null,Zn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){zt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GA(t,e),t=t.sibling}function GA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),Nr(e),r&4){try{ud(3,e,e.return),vf(3,e)}catch(f){zt(e,e.return,f)}try{ud(5,e,e.return)}catch(f){zt(e,e.return,f)}}break;case 1:Xn(t,e),Nr(e),r&512&&n!==null&&sl(n,n.return);break;case 5:if(Xn(t,e),Nr(e),r&512&&n!==null&&sl(n,n.return),e.flags&32){var a=e.stateNode;try{Ed(a,"")}catch(f){zt(e,e.return,f)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&vP(a,o),Kv(l,i);var d=Kv(l,o);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?bP(a,m):u==="dangerouslySetInnerHTML"?wP(a,m):u==="children"?Ed(a,m):Ew(a,u,m,d)}switch(l){case"input":Bv(a,o);break;case"textarea":yP(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?pl(a,!!o.multiple,x,!1):p!==!!o.multiple&&(o.defaultValue!=null?pl(a,!!o.multiple,o.defaultValue,!0):pl(a,!!o.multiple,o.multiple?[]:"",!1))}a[Od]=o}catch(f){zt(e,e.return,f)}}break;case 6:if(Xn(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(xe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(f){zt(e,e.return,f)}}break;case 3:if(Xn(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kd(t.containerInfo)}catch(f){zt(e,e.return,f)}break;case 4:Xn(t,e),Nr(e);break;case 13:Xn(t,e),Nr(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(aN=Yt())),r&4&&pC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ys=(d=ys)||u,Xn(t,e),ys=d):Xn(t,e),Nr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ce=e,u=e.child;u!==null;){for(m=Ce=u;Ce!==null;){switch(p=Ce,x=p.child,p.tag){case 0:case 11:case 14:case 15:ud(4,p,p.return);break;case 1:sl(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){zt(r,n,f)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){xC(m);continue}}x!==null?(x.return=p,Ce=x):xC(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=NP("display",i))}catch(f){zt(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){zt(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Xn(t,e),Nr(e),r&4&&pC(e);break;case 21:break;default:Xn(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YA(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ed(a,""),r.flags&=-33);var o=mC(e);by(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=mC(e);Ny(e,l,i);break;default:throw Error(xe(161))}}catch(c){zt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WU(e,t,n){Ce=e,JA(e)}function JA(e,t,n){for(var r=(e.mode&1)!==0;Ce!==null;){var a=Ce,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Mh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ys;l=Mh;var d=ys;if(Mh=i,(ys=c)&&!d)for(Ce=a;Ce!==null;)i=Ce,c=i.child,i.tag===22&&i.memoizedState!==null?gC(a):c!==null?(c.return=i,Ce=c):gC(a);for(;o!==null;)Ce=o,JA(o),o=o.sibling;Ce=a,Mh=l,ys=d}fC(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ce=o):fC(e)}}function fC(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ys||vf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ys)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Qn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ZS(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ZS(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&kd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}ys||t.flags&512&&wy(t)}catch(p){zt(t,t.return,p)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function xC(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function gC(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vf(4,t)}catch(c){zt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){zt(t,a,c)}}var o=t.return;try{wy(t)}catch(c){zt(t,o,c)}break;case 5:var i=t.return;try{wy(t)}catch(c){zt(t,i,c)}}}catch(c){zt(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var KU=Math.ceil,dp=ya.ReactCurrentDispatcher,nN=ya.ReactCurrentOwner,$n=ya.ReactCurrentBatchConfig,rt=0,is=null,Qt=null,fs=0,hn=0,nl=go(0),rs=0,Vd=null,ni=0,yf=0,rN=0,hd=null,Hs=null,aN=0,Ll=1/0,Qr=null,up=!1,Sy=null,Xa=null,Dh=!1,Ba=null,hp=0,md=0,Cy=null,wm=-1,Nm=0;function Rs(){return rt&6?Yt():wm!==-1?wm:wm=Yt()}function Ga(e){return e.mode&1?rt&2&&fs!==0?fs&-fs:kU.transition!==null?(Nm===0&&(Nm=OP()),Nm):(e=yt,e!==0||(e=window.event,e=e===void 0?16:BP(e.type)),e):1}function or(e,t,n,r){if(50<md)throw md=0,Cy=null,Error(xe(185));wu(e,n,r),(!(rt&2)||e!==is)&&(e===is&&(!(rt&2)&&(yf|=n),rs===4&&_a(e,fs)),Qs(e,r),n===1&&rt===0&&!(t.mode&1)&&(Ll=Yt()+500,ff&&vo()))}function Qs(e,t){var n=e.callbackNode;k6(e,t);var r=Xm(e,e===is?fs:0);if(r===0)n!==null&&ES(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ES(n),t===1)e.tag===0?AU(vC.bind(null,e)):iA(vC.bind(null,e)),CU(function(){!(rt&6)&&vo()}),n=null;else{switch(IP(r)){case 1:n=Rw;break;case 4:n=DP;break;case 16:n=Ym;break;case 536870912:n=FP;break;default:n=Ym}n=ak(n,QA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function QA(e,t){if(wm=-1,Nm=0,rt&6)throw Error(xe(327));var n=e.callbackNode;if(yl()&&e.callbackNode!==n)return null;var r=Xm(e,e===is?fs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mp(e,r);else{t=r;var a=rt;rt|=2;var o=ek();(is!==e||fs!==t)&&(Qr=null,Ll=Yt()+500,zo(e,t));do try{GU();break}catch(l){ZA(e,l)}while(!0);qw(),dp.current=o,rt=a,Qt!==null?t=0:(is=null,fs=0,t=rs)}if(t!==0){if(t===2&&(a=Qv(e),a!==0&&(r=a,t=Ey(e,a))),t===1)throw n=Vd,zo(e,0),_a(e,r),Qs(e,Yt()),n;if(t===6)_a(e,r);else{if(a=e.current.alternate,!(r&30)&&!YU(a)&&(t=mp(e,r),t===2&&(o=Qv(e),o!==0&&(r=o,t=Ey(e,o))),t===1))throw n=Vd,zo(e,0),_a(e,r),Qs(e,Yt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:Ro(e,Hs,Qr);break;case 3:if(_a(e,r),(r&130023424)===r&&(t=aN+500-Yt(),10<t)){if(Xm(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Rs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=oy(Ro.bind(null,e,Hs,Qr),t);break}Ro(e,Hs,Qr);break;case 4:if(_a(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ar(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KU(r/1960))-r,10<r){e.timeoutHandle=oy(Ro.bind(null,e,Hs,Qr),r);break}Ro(e,Hs,Qr);break;case 5:Ro(e,Hs,Qr);break;default:throw Error(xe(329))}}}return Qs(e,Yt()),e.callbackNode===n?QA.bind(null,e):null}function Ey(e,t){var n=hd;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),e=mp(e,t),e!==2&&(t=Hs,Hs=n,t!==null&&Ty(t)),e}function Ty(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function YU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t){for(t&=~rN,t&=~yf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ar(t),r=1<<n;e[n]=-1,t&=~r}}function vC(e){if(rt&6)throw Error(xe(327));yl();var t=Xm(e,0);if(!(t&1))return Qs(e,Yt()),null;var n=mp(e,t);if(e.tag!==0&&n===2){var r=Qv(e);r!==0&&(t=r,n=Ey(e,r))}if(n===1)throw n=Vd,zo(e,0),_a(e,t),Qs(e,Yt()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ro(e,Hs,Qr),Qs(e,Yt()),null}function oN(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(Ll=Yt()+500,ff&&vo())}}function ri(e){Ba!==null&&Ba.tag===0&&!(rt&6)&&yl();var t=rt;rt|=1;var n=$n.transition,r=yt;try{if($n.transition=null,yt=1,e)return e()}finally{yt=r,$n.transition=n,rt=t,!(rt&6)&&vo()}}function iN(){hn=nl.current,Pt(nl)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,SU(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(Vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ep();break;case 3:Ol(),Pt(Gs),Pt(Ss),Gw();break;case 5:Xw(r);break;case 4:Ol();break;case 13:Pt(Ot);break;case 19:Pt(Ot);break;case 10:zw(r.type._context);break;case 22:case 23:iN()}n=n.return}if(is=e,Qt=e=Ja(e.current,null),fs=hn=t,rs=0,Vd=null,rN=yf=ni=0,Hs=hd=null,_o!==null){for(t=0;t<_o.length;t++)if(n=_o[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}n.pending=r}_o=null}return e}function ZA(e,t){do{var n=Qt;try{if(qw(),vm.current=cp,lp){for(var r=$t.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}lp=!1}if(si=0,os=ss=$t=null,dd=!1,_d=0,nN.current=null,n===null||n.return===null){rs=1,Vd=t,Qt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=fs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=aC(i);if(x!==null){x.flags&=-257,oC(x,i,l,o,t),x.mode&1&&rC(o,d,t),t=x,c=d;var g=t.updateQueue;if(g===null){var f=new Set;f.add(c),t.updateQueue=f}else g.add(c);break e}else{if(!(t&1)){rC(o,d,t),lN();break e}c=Error(xe(426))}}else if(Rt&&l.mode&1){var w=aC(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),oC(w,i,l,o,t),Bw(Il(c,l));break e}}o=c=Il(c,l),rs!==4&&(rs=2),hd===null?hd=[o]:hd.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=IA(o,c,t);QS(o,j);break e;case 1:l=c;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xa===null||!Xa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=LA(o,l,t);QS(o,N);break e}}o=o.return}while(o!==null)}sk(n)}catch(b){t=b,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function ek(){var e=dp.current;return dp.current=cp,e===null?cp:e}function lN(){(rs===0||rs===3||rs===2)&&(rs=4),is===null||!(ni&268435455)&&!(yf&268435455)||_a(is,fs)}function mp(e,t){var n=rt;rt|=2;var r=ek();(is!==e||fs!==t)&&(Qr=null,zo(e,t));do try{XU();break}catch(a){ZA(e,a)}while(!0);if(qw(),rt=n,dp.current=r,Qt!==null)throw Error(xe(261));return is=null,fs=0,rs}function XU(){for(;Qt!==null;)tk(Qt)}function GU(){for(;Qt!==null&&!w6();)tk(Qt)}function tk(e){var t=rk(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?sk(e):Qt=t,nN.current=null}function sk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=HU(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rs=6,Qt=null;return}}else if(n=BU(n,t,hn),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);rs===0&&(rs=5)}function Ro(e,t,n){var r=yt,a=$n.transition;try{$n.transition=null,yt=1,JU(e,t,n,r)}finally{$n.transition=a,yt=r}return null}function JU(e,t,n,r){do yl();while(Ba!==null);if(rt&6)throw Error(xe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(R6(e,o),e===is&&(Qt=is=null,fs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,ak(Ym,function(){return yl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var i=yt;yt=1;var l=rt;rt|=4,nN.current=null,zU(e,n),GA(n,e),gU(ry),Gm=!!ny,ry=ny=null,e.current=n,WU(n),N6(),rt=l,yt=i,$n.transition=o}else e.current=n;if(Dh&&(Dh=!1,Ba=e,hp=a),o=e.pendingLanes,o===0&&(Xa=null),C6(n.stateNode),Qs(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(up)throw up=!1,e=Sy,Sy=null,e;return hp&1&&e.tag!==0&&yl(),o=e.pendingLanes,o&1?e===Cy?md++:(md=0,Cy=e):md=0,vo(),null}function yl(){if(Ba!==null){var e=IP(hp),t=$n.transition,n=yt;try{if($n.transition=null,yt=16>e?16:e,Ba===null)var r=!1;else{if(e=Ba,Ba=null,hp=0,rt&6)throw Error(xe(331));var a=rt;for(rt|=4,Ce=e.current;Ce!==null;){var o=Ce,i=o.child;if(Ce.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ce=d;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:ud(8,u,o)}var m=u.child;if(m!==null)m.return=u,Ce=m;else for(;Ce!==null;){u=Ce;var p=u.sibling,x=u.return;if(KA(u),u===d){Ce=null;break}if(p!==null){p.return=x,Ce=p;break}Ce=x}}}var g=o.alternate;if(g!==null){var f=g.child;if(f!==null){g.child=null;do{var w=f.sibling;f.sibling=null,f=w}while(f!==null)}}Ce=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ce=i;else e:for(;Ce!==null;){if(o=Ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ud(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,Ce=j;break e}Ce=o.return}}var v=e.current;for(Ce=v;Ce!==null;){i=Ce;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Ce=y;else e:for(i=v;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vf(9,l)}}catch(b){zt(l,l.return,b)}if(l===i){Ce=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ce=N;break e}Ce=l.return}}if(rt=a,vo(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(df,e)}catch{}r=!0}return r}finally{yt=n,$n.transition=t}}return!1}function yC(e,t,n){t=Il(n,t),t=IA(e,t,1),e=Ya(e,t,1),t=Rs(),e!==null&&(wu(e,1,t),Qs(e,t))}function zt(e,t,n){if(e.tag===3)yC(e,e,n);else for(;t!==null;){if(t.tag===3){yC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){e=Il(n,e),e=LA(t,e,1),t=Ya(t,e,1),e=Rs(),t!==null&&(wu(t,1,e),Qs(t,e));break}}t=t.return}}function QU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rs(),e.pingedLanes|=e.suspendedLanes&n,is===e&&(fs&n)===n&&(rs===4||rs===3&&(fs&130023424)===fs&&500>Yt()-aN?zo(e,0):rN|=n),Qs(e,t)}function nk(e,t){t===0&&(e.mode&1?(t=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):t=1);var n=Rs();e=da(e,t),e!==null&&(wu(e,t,n),Qs(e,n))}function ZU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nk(e,n)}function eV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),nk(e,n)}var rk;rk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gs.current)qs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qs=!1,VU(e,t,n);qs=!!(e.flags&131072)}else qs=!1,Rt&&t.flags&1048576&&lA(t,np,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jm(e,t),e=t.pendingProps;var a=Ml(t,Ss.current);vl(t,n),a=Qw(null,t,r,e,a,n);var o=Zw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Js(r)?(o=!0,tp(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kw(t),a.updater=gf,t.stateNode=a,a._reactInternals=t,my(t,r,e,n),t=xy(null,t,r,!0,o,n)):(t.tag=0,Rt&&o&&Uw(t),Ts(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=sV(r),e=Qn(r,e),a){case 0:t=fy(null,t,r,e,n);break e;case 1:t=cC(null,t,r,e,n);break e;case 11:t=iC(null,t,r,e,n);break e;case 14:t=lC(null,t,r,Qn(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qn(r,a),fy(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qn(r,a),cC(e,t,r,a,n);case 3:e:{if(VA(t),e===null)throw Error(xe(387));r=t.pendingProps,o=t.memoizedState,a=o.element,pA(e,t),op(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Il(Error(xe(423)),t),t=dC(e,t,r,n,a);break e}else if(r!==a){a=Il(Error(xe(424)),t),t=dC(e,t,r,n,a);break e}else for(vn=Ka(t.stateNode.containerInfo.firstChild),yn=t,Rt=!0,tr=null,n=hA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dl(),r===a){t=ua(e,t,n);break e}Ts(e,t,r,n)}t=t.child}return t;case 5:return fA(t),e===null&&dy(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ay(r,a)?i=null:o!==null&&ay(r,o)&&(t.flags|=32),UA(e,t),Ts(e,t,i,n),t.child;case 6:return e===null&&dy(t),null;case 13:return BA(e,t,n);case 4:return Yw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fl(t,null,r,n):Ts(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qn(r,a),iC(e,t,r,a,n);case 7:return Ts(e,t,t.pendingProps,n),t.child;case 8:return Ts(e,t,t.pendingProps.children,n),t.child;case 12:return Ts(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,St(rp,r._currentValue),r._currentValue=i,o!==null)if(lr(o.value,i)){if(o.children===a.children&&!Gs.current){t=ua(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=oa(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),uy(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(xe(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uy(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ts(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,vl(t,n),a=Hn(a),r=r(a),t.flags|=1,Ts(e,t,r,n),t.child;case 14:return r=t.type,a=Qn(r,t.pendingProps),a=Qn(r.type,a),lC(e,t,r,a,n);case 15:return _A(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qn(r,a),jm(e,t),t.tag=1,Js(r)?(e=!0,tp(t)):e=!1,vl(t,n),OA(t,r,a),my(t,r,a,n),xy(null,t,r,!0,e,n);case 19:return HA(e,t,n);case 22:return $A(e,t,n)}throw Error(xe(156,t.tag))};function ak(e,t){return MP(e,t)}function tV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,n,r){return new tV(e,t,n,r)}function cN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sV(e){if(typeof e=="function")return cN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pw)return 11;if(e===Aw)return 14}return 2}function Ja(e,t){var n=e.alternate;return n===null?(n=_n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bm(e,t,n,r,a,o){var i=2;if(r=e,typeof e=="function")cN(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ki:return Wo(n.children,a,o,t);case Tw:i=8,a|=8;break;case Lv:return e=_n(12,n,t,a|2),e.elementType=Lv,e.lanes=o,e;case _v:return e=_n(13,n,t,a),e.elementType=_v,e.lanes=o,e;case $v:return e=_n(19,n,t,a),e.elementType=$v,e.lanes=o,e;case fP:return jf(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mP:i=10;break e;case pP:i=9;break e;case Pw:i=11;break e;case Aw:i=14;break e;case Oa:i=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=_n(i,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Wo(e,t,n,r){return e=_n(7,e,r,t),e.lanes=n,e}function jf(e,t,n,r){return e=_n(22,e,r,t),e.elementType=fP,e.lanes=n,e.stateNode={isHidden:!1},e}function hg(e,t,n){return e=_n(6,e,null,t),e.lanes=n,e}function mg(e,t,n){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nV(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kx(0),this.expirationTimes=Kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kx(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dN(e,t,n,r,a,o,i,l,c){return e=new nV(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_n(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kw(o),e}function rV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ok(e){if(!e)return ro;e=e._reactInternals;e:{if(wi(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(Js(n))return oA(e,n,t)}return t}function ik(e,t,n,r,a,o,i,l,c){return e=dN(n,r,!0,e,a,o,i,l,c),e.context=ok(null),n=e.current,r=Rs(),a=Ga(n),o=oa(r,a),o.callback=t??null,Ya(n,o,a),e.current.lanes=a,wu(e,a,r),Qs(e,r),e}function wf(e,t,n,r){var a=t.current,o=Rs(),i=Ga(a);return n=ok(n),t.context===null?t.context=n:t.pendingContext=n,t=oa(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ya(a,t,i),e!==null&&(or(e,a,i,o),gm(e,a,i)),i}function pp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uN(e,t){jC(e,t),(e=e.alternate)&&jC(e,t)}function aV(){return null}var lk=typeof reportError=="function"?reportError:function(e){console.error(e)};function hN(e){this._internalRoot=e}Nf.prototype.render=hN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));wf(e,t,null,null)};Nf.prototype.unmount=hN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ri(function(){wf(null,e,null,null)}),t[ca]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$P();e={blockedOn:null,target:e,priority:t};for(var n=0;n<La.length&&t!==0&&t<La[n].priority;n++);La.splice(n,0,e),n===0&&VP(e)}};function mN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wC(){}function oV(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var d=pp(i);o.call(d)}}var i=ik(t,r,e,0,null,!1,!1,"",wC);return e._reactRootContainer=i,e[ca]=i.current,Dd(e.nodeType===8?e.parentNode:e),ri(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=pp(c);l.call(d)}}var c=dN(e,0,!1,null,null,!1,!1,"",wC);return e._reactRootContainer=c,e[ca]=c.current,Dd(e.nodeType===8?e.parentNode:e),ri(function(){wf(t,c,n,r)}),c}function Sf(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=pp(i);l.call(c)}}wf(t,i,e,a)}else i=oV(n,t,e,a,r);return pp(i)}LP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gc(t.pendingLanes);n!==0&&(Mw(t,n|1),Qs(t,Yt()),!(rt&6)&&(Ll=Yt()+500,vo()))}break;case 13:ri(function(){var r=da(e,1);if(r!==null){var a=Rs();or(r,e,1,a)}}),uN(e,1)}};Dw=function(e){if(e.tag===13){var t=da(e,134217728);if(t!==null){var n=Rs();or(t,e,134217728,n)}uN(e,134217728)}};_P=function(e){if(e.tag===13){var t=Ga(e),n=da(e,t);if(n!==null){var r=Rs();or(n,e,t,r)}uN(e,t)}};$P=function(){return yt};UP=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}};Xv=function(e,t,n){switch(t){case"input":if(Bv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=pf(r);if(!a)throw Error(xe(90));gP(r),Bv(r,a)}}}break;case"textarea":yP(e,n);break;case"select":t=n.value,t!=null&&pl(e,!!n.multiple,t,!1)}};EP=oN;TP=ri;var iV={usingClientEntryPoint:!1,Events:[bu,Ji,pf,SP,CP,oN]},Ic={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lV={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kP(e),e===null?null:e.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||aV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{df=Fh.inject(lV),Rr=Fh}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iV;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mN(t))throw Error(xe(200));return rV(e,t,null,n)};An.createRoot=function(e,t){if(!mN(e))throw Error(xe(299));var n=!1,r="",a=lk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dN(e,1,!1,null,null,n,!1,r,a),e[ca]=t.current,Dd(e.nodeType===8?e.parentNode:e),new hN(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=kP(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return ri(e)};An.hydrate=function(e,t,n){if(!bf(t))throw Error(xe(200));return Sf(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!mN(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",i=lk;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ik(t,null,e,1,n??null,a,!1,o,i),e[ca]=t.current,Dd(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Nf(t)};An.render=function(e,t,n){if(!bf(t))throw Error(xe(200));return Sf(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!bf(e))throw Error(xe(40));return e._reactRootContainer?(ri(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[ca]=null})}),!0):!1};An.unstable_batchedUpdates=oN;An.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return Sf(e,t,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ck)}catch(e){console.error(e)}}ck(),cP.exports=An;var vr=cP.exports;const pN=yw(vr);var dk,NC=vr;dk=NC.createRoot,NC.hydrateRoot;const cV=1,dV=1e6;let pg=0;function uV(){return pg=(pg+1)%Number.MAX_SAFE_INTEGER,pg.toString()}const fg=new Map,bC=e=>{if(fg.has(e))return;const t=setTimeout(()=>{fg.delete(e),pd({type:"REMOVE_TOAST",toastId:e})},dV);fg.set(e,t)},hV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bC(n):e.toasts.forEach(r=>{bC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Sm=[];let Cm={toasts:[]};function pd(e){Cm=hV(Cm,e),Sm.forEach(t=>{t(Cm)})}function Tr({...e}){const t=uV(),n=a=>pd({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>pd({type:"DISMISS_TOAST",toastId:t});return pd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function He(){const[e,t]=h.useState(Cm);return h.useEffect(()=>(Sm.push(t),()=>{const n=Sm.indexOf(t);n>-1&&Sm.splice(n,1)}),[e]),{...e,toast:Tr,dismiss:n=>pd({type:"DISMISS_TOAST",toastId:n})}}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function mV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Cf(...e){return t=>e.forEach(n=>mV(n,t))}function Ue(...e){return h.useCallback(Cf(...e),e)}function pV(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:p,children:x,...g}=m,f=p?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})}function u(m,p){const x=p?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,fV(a,...t)]}function fV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var sn=h.forwardRef((e,t)=>{const{children:n,...r}=e,a=h.Children.toArray(n),o=a.find(xV);if(o){const i=o.props.children,l=a.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return s.jsx(Py,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return s.jsx(Py,{...r,ref:t,children:n})});sn.displayName="Slot";var Py=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const a=vV(n);return h.cloneElement(n,{...gV(r,n.props),ref:t?Cf(t,a):a})}return h.Children.count(n)>1?h.Children.only(null):null});Py.displayName="SlotClone";var fN=({children:e})=>s.jsx(s.Fragment,{children:e});function xV(e){return h.isValidElement(e)&&e.type===fN}function gV(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{o(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function vV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ef(e){const t=e+"CollectionProvider",[n,r]=pV(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:g,children:f}=x,w=kt.useRef(null),j=kt.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:w,children:f})};i.displayName=t;const l=e+"CollectionSlot",c=kt.forwardRef((x,g)=>{const{scope:f,children:w}=x,j=o(l,f),v=Ue(g,j.collectionRef);return s.jsx(sn,{ref:v,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",m=kt.forwardRef((x,g)=>{const{scope:f,children:w,...j}=x,v=kt.useRef(null),y=Ue(g,v),N=o(d,f);return kt.useEffect(()=>(N.itemMap.set(v,{ref:v,...j}),()=>void N.itemMap.delete(v))),s.jsx(sn,{[u]:"",ref:y,children:w})});m.displayName=d;function p(x){const g=o(e+"CollectionConsumer",x);return kt.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,b)=>j.indexOf(N.ref.current)-j.indexOf(b.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},p,r]}function yV(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function on(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=m=>{const{scope:p,children:x,...g}=m,f=p?.[e]?.[c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})};d.displayName=o+"Provider";function u(m,p){const x=p?.[e]?.[c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,jV(a,...t)]}function jV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var wV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=wV.reduce((e,t)=>{const n=h.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?sn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xN(e,t){e&&vr.flushSync(()=>e.dispatchEvent(t))}function It(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function NV(e,t=globalThis?.document){const n=It(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var bV="DismissableLayer",Ay="dismissableLayer.update",SV="dismissableLayer.pointerDownOutside",CV="dismissableLayer.focusOutside",SC,uk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(uk),[u,m]=h.useState(null),p=u?.ownerDocument??globalThis?.document,[,x]=h.useState({}),g=Ue(t,S=>m(S)),f=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=f.indexOf(w),v=u?f.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=j,b=TV(S=>{const A=S.target,O=[...d.branches].some(I=>I.contains(A));!N||O||(a?.(S),i?.(S),S.defaultPrevented||l?.())},p),E=PV(S=>{const A=S.target;[...d.branches].some(I=>I.contains(A))||(o?.(S),i?.(S),S.defaultPrevented||l?.())},p);return NV(S=>{v===d.layers.size-1&&(r?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(SC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),CC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=SC)}},[u,p,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),CC())},[u,d]),h.useEffect(()=>{const S=()=>x({});return document.addEventListener(Ay,S),()=>document.removeEventListener(Ay,S)},[]),s.jsx(Pe.div,{...c,ref:g,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,b.onPointerDownCapture)})});oc.displayName=bV;var EV="DismissableLayerBranch",hk=h.forwardRef((e,t)=>{const n=h.useContext(uk),r=h.useRef(null),a=Ue(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Pe.div,{...e,ref:a})});hk.displayName=EV;function TV(e,t=globalThis?.document){const n=It(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){mk(SV,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function PV(e,t=globalThis?.document){const n=It(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&mk(CV,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CC(){const e=new CustomEvent(Ay);document.dispatchEvent(e)}function mk(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?xN(a,o):a.dispatchEvent(o)}var AV=oc,kV=hk,cs=globalThis?.document?h.useLayoutEffect:()=>{},RV="Portal",Cu=h.forwardRef((e,t)=>{const{container:n,...r}=e,[a,o]=h.useState(!1);cs(()=>o(!0),[]);const i=n||a&&globalThis?.document?.body;return i?pN.createPortal(s.jsx(Pe.div,{...r,ref:t}),i):null});Cu.displayName=RV;function MV(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var us=e=>{const{present:t,children:n}=e,r=DV(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Ue(r.ref,FV(a));return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};us.displayName="Presence";function DV(e){const[t,n]=h.useState(),r=h.useRef({}),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=MV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Oh(r.current);o.current=l==="mounted"?d:"none"},[l]),cs(()=>{const d=r.current,u=a.current;if(u!==e){const p=o.current,x=Oh(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),cs(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=x=>{const f=Oh(r.current).includes(x.animationName);if(x.target===t&&f&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=x=>{x.target===t&&(o.current=Oh(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Oh(e){return e?.animationName||"none"}function FV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=OV({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=It(n),c=h.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[o,e,a,l]);return[i,c]}function OV({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,a=h.useRef(r),o=It(t);return h.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var IV="VisuallyHidden",Eu=h.forwardRef((e,t)=>s.jsx(Pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Eu.displayName=IV;var LV=Eu,gN="ToastProvider",[vN,_V,$V]=Ef("Toast"),[pk,Ive]=on("Toast",[$V]),[UV,Tf]=pk(gN),fk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),p=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gN}\`. Expected non-empty \`string\`.`),s.jsx(vN.Provider,{scope:t,children:s.jsx(UV,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(x=>x+1),[]),onToastRemove:h.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:i})})};fk.displayName=gN;var xk="ToastViewport",VV=["F8"],ky="toast.viewportPause",Ry="toast.viewportResume",gk=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=VV,label:a="Notifications ({hotkey})",...o}=e,i=Tf(xk,n),l=_V(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),p=Ue(t,m,i.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;h.useEffect(()=>{const w=j=>{r.length!==0&&r.every(y=>j[y]||j.code===y)&&m.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=c.current,j=m.current;if(g&&w&&j){const v=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(ky);j.dispatchEvent(E),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Ry);j.dispatchEvent(E),i.isClosePausedRef.current=!1}},N=E=>{!w.contains(E.relatedTarget)&&y()},b=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",v),w.addEventListener("focusout",N),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[g,i.isClosePausedRef]);const f=h.useCallback(({tabbingDirection:w})=>{const v=l().map(y=>{const N=y.ref.current,b=[N,...e8(N)];return w==="forwards"?b:b.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const w=m.current;if(w){const j=v=>{const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const b=document.activeElement,E=v.shiftKey;if(v.target===w&&E){d.current?.focus();return}const O=f({tabbingDirection:E?"backwards":"forwards"}),I=O.findIndex(F=>F===b);xg(O.slice(I+1))?v.preventDefault():E?d.current?.focus():u.current?.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[l,f]),s.jsxs(kV,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(My,{ref:d,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"forwards"});xg(w)}}),s.jsx(vN.Slot,{scope:n,children:s.jsx(Pe.ol,{tabIndex:-1,...o,ref:p})}),g&&s.jsx(My,{ref:u,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"backwards"});xg(w)}})]})});gk.displayName=xk;var vk="ToastFocusProxy",My=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=Tf(vk,n);return s.jsx(Eu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{const l=i.relatedTarget;!o.viewport?.contains(l)&&r()}})});My.displayName=vk;var Pf="Toast",BV="toast.swipeStart",HV="toast.swipeMove",qV="toast.swipeCancel",zV="toast.swipeEnd",yk=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=zn({prop:r,defaultProp:a,onChange:o});return s.jsx(us,{present:n||l,children:s.jsx(YV,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:It(e.onPause),onResume:It(e.onResume),onSwipeStart:ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});yk.displayName=Pf;var[WV,KV]=pk(Pf,{onClose(){}}),YV=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:x,...g}=e,f=Tf(Pf,n),[w,j]=h.useState(null),v=Ue(t,k=>j(k)),y=h.useRef(null),N=h.useRef(null),b=a||f.duration,E=h.useRef(0),S=h.useRef(b),A=h.useRef(0),{onToastAdd:O,onToastRemove:I}=f,F=It(()=>{w?.contains(document.activeElement)&&f.viewport?.focus(),i()}),L=h.useCallback(k=>{!k||k===1/0||(window.clearTimeout(A.current),E.current=new Date().getTime(),A.current=window.setTimeout(F,k))},[F]);h.useEffect(()=>{const k=f.viewport;if(k){const P=()=>{L(S.current),d?.()},T=()=>{const R=new Date().getTime()-E.current;S.current=S.current-R,window.clearTimeout(A.current),c?.()};return k.addEventListener(ky,T),k.addEventListener(Ry,P),()=>{k.removeEventListener(ky,T),k.removeEventListener(Ry,P)}}},[f.viewport,b,c,d,L]),h.useEffect(()=>{o&&!f.isClosePausedRef.current&&L(b)},[o,b,f.isClosePausedRef,L]),h.useEffect(()=>(O(),()=>I()),[O,I]);const U=h.useMemo(()=>w?Ek(w):null,[w]);return f.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(XV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(WV,{scope:n,onClose:F,children:vr.createPortal(s.jsx(vN.ItemSlot,{scope:n,children:s.jsx(AV,{asChild:!0,onEscapeKeyDown:ge(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||F(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":f.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,k=>{k.key==="Escape"&&(l?.(k.nativeEvent),k.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ge(e.onPointerDown,k=>{k.button===0&&(y.current={x:k.clientX,y:k.clientY})}),onPointerMove:ge(e.onPointerMove,k=>{if(!y.current)return;const P=k.clientX-y.current.x,T=k.clientY-y.current.y,R=!!N.current,D=["left","right"].includes(f.swipeDirection),$=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,V=D?$(0,P):0,B=D?0:$(0,T),H=k.pointerType==="touch"?10:2,z={x:V,y:B},Q={originalEvent:k,delta:z};R?(N.current=z,Ih(HV,m,Q,{discrete:!1})):EC(z,f.swipeDirection,H)?(N.current=z,Ih(BV,u,Q,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(P)>H||Math.abs(T)>H)&&(y.current=null)}),onPointerUp:ge(e.onPointerUp,k=>{const P=N.current,T=k.target;if(T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),N.current=null,y.current=null,P){const R=k.currentTarget,D={originalEvent:k,delta:P};EC(P,f.swipeDirection,f.swipeThreshold)?Ih(zV,x,D,{discrete:!0}):Ih(qV,p,D,{discrete:!0}),R.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),XV=e=>{const{__scopeToast:t,children:n,...r}=e,a=Tf(Pf,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return QV(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Cu,{asChild:!0,children:s.jsx(Eu,{...r,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},GV="ToastTitle",jk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});jk.displayName=GV;var JV="ToastDescription",wk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});wk.displayName=JV;var Nk="ToastAction",bk=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(Ck,{altText:n,asChild:!0,children:s.jsx(yN,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nk}\`. Expected non-empty \`string\`.`),null)});bk.displayName=Nk;var Sk="ToastClose",yN=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=KV(Sk,n);return s.jsx(Ck,{asChild:!0,children:s.jsx(Pe.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,a.onClose)})})});yN.displayName=Sk;var Ck=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function Ek(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ZV(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Ek(r))}}),t}function Ih(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?xN(a,o):a.dispatchEvent(o)}var EC=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function QV(e=()=>{}){const t=It(e);cs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ZV(e){return e.nodeType===e.ELEMENT_NODE}function e8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var t8=fk,Tk=gk,Pk=yk,Ak=jk,kk=wk,Rk=bk,Mk=yN;function Dk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Dk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fk(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Dk(e))&&(r&&(r+=" "),r+=t);return r}const TC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PC=Fk,Ni=(e,t)=>n=>{var r;if(t?.variants==null)return PC(e,n?.class,n?.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=n?.[d],m=o?.[d];if(u===null)return null;const p=TC(u)||TC(m);return a[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,p]=u;return p===void 0||(d[m]=p),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:p,...x}=u;return Object.entries(x).every(g=>{let[f,w]=g;return Array.isArray(w)?w.includes({...o,...l}[f]):{...o,...l}[f]===w})?[...d,m,p]:d},[]);return PC(e,i,c,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ok=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...n8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ok("lucide",a),...l},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const n=h.forwardRef(({className:r,...a},o)=>h.createElement(r8,{ref:o,iconNode:t,className:Ok(`lucide-${s8(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ce("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ce("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=ce("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=ce("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=ce("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=ce("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=ce("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=ce("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=ce("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ce("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ce("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ce("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=ce("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ce("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=ce("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ce("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=ce("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ce("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=ce("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ce("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ce("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=ce("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ce("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=ce("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ce("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=ce("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ce("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=ce("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ce("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ce("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ce("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ce("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ce("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=ce("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=ce("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=ce("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=ce("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=ce("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=ce("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ce("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),TN="-",$8=e=>{const t=V8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(TN);return l[0]===""&&l.length!==1&&l.shift(),zk(l,t)||U8(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},zk=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?zk(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(TN);return t.validators.find(({validator:i})=>i(o))?.classGroupId},LC=/^\[(.+)\]$/,U8=e=>{if(LC.test(e)){const t=LC.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},V8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return H8(Object.entries(e.classGroups),n).forEach(([o,i])=>{Oy(i,r,o,t)}),r},Oy=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:_C(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(B8(a)){Oy(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,i])=>{Oy(i,_C(t,o),n,r)})})},_C=(e,t)=>{let n=e;return t.split(TN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},B8=e=>e.isThemeGetter,H8=(e,t)=>t?e.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,a]}):e,q8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){n.has(o)?n.set(o,i):a(o,i)}}},Wk="!",z8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,m;for(let w=0;w<l.length;w++){let j=l[w];if(d===0){if(j===a&&(r||l.slice(w,w+o)===t)){c.push(l.slice(u,w)),u=w+o;continue}if(j==="/"){m=w;continue}}j==="["?d++:j==="]"&&d--}const p=c.length===0?l:l.substring(u),x=p.startsWith(Wk),g=x?p.substring(1):p,f=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:f}};return n?l=>n({className:l,parseClassName:i}):i},W8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},K8=e=>({cache:q8(e.cacheSize),parseClassName:z8(e),...$8(e)}),Y8=/\s+/,X8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(Y8);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}=n(d);let g=!!x,f=r(g?p.substring(0,x):p);if(!f){if(!g){l=d+(l.length>0?" "+l:l);continue}if(f=r(p),!f){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=W8(u).join(":"),j=m?w+Wk:w,v=j+f;if(o.includes(v))continue;o.push(v);const y=a(f,g);for(let N=0;N<y.length;++N){const b=y[N];o.push(j+b)}l=d+(l.length>0?" "+l:l)}return l};function G8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Kk(t))&&(r&&(r+=" "),r+=n);return r}const Kk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Kk(e[r]))&&(n&&(n+=" "),n+=t);return n};function J8(e,...t){let n,r,a,o=i;function i(c){const d=t.reduce((u,m)=>m(u),e());return n=K8(d),r=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=X8(c,n);return a(c,u),u}return function(){return o(G8.apply(null,arguments))}}const Et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,Q8=/^\d+\/\d+$/,Z8=new Set(["px","full","screen"]),eB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=e=>wl(e)||Z8.has(e)||Q8.test(e),Ca=e=>lc(e,"length",hB),wl=e=>!!e&&!Number.isNaN(Number(e)),yg=e=>lc(e,"number",wl),Lc=e=>!!e&&Number.isInteger(Number(e)),aB=e=>e.endsWith("%")&&wl(e.slice(0,-1)),qe=e=>Yk.test(e),Ea=e=>eB.test(e),oB=new Set(["length","size","percentage"]),iB=e=>lc(e,oB,Xk),lB=e=>lc(e,"position",Xk),cB=new Set(["image","url"]),dB=e=>lc(e,cB,pB),uB=e=>lc(e,"",mB),_c=()=>!0,lc=(e,t,n)=>{const r=Yk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},hB=e=>tB.test(e)&&!sB.test(e),Xk=()=>!1,mB=e=>nB.test(e),pB=e=>rB.test(e),fB=()=>{const e=Et("colors"),t=Et("spacing"),n=Et("blur"),r=Et("brightness"),a=Et("borderColor"),o=Et("borderRadius"),i=Et("borderSpacing"),l=Et("borderWidth"),c=Et("contrast"),d=Et("grayscale"),u=Et("hueRotate"),m=Et("invert"),p=Et("gap"),x=Et("gradientColorStops"),g=Et("gradientColorStopPositions"),f=Et("inset"),w=Et("margin"),j=Et("opacity"),v=Et("padding"),y=Et("saturate"),N=Et("scale"),b=Et("sepia"),E=Et("skew"),S=Et("space"),A=Et("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",qe,t],L=()=>[qe,t],U=()=>["",Yr,Ca],k=()=>["auto",wl,qe],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",qe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[wl,qe];return{cacheSize:500,separator:":",theme:{colors:[_c],spacing:[Yr,Ca],blur:["none","",Ea,qe],brightness:B(),borderColor:[e],borderRadius:["none","","full",Ea,qe],borderSpacing:L(),borderWidth:U(),contrast:B(),grayscale:$(),hueRotate:B(),invert:$(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[aB,Ca],inset:F(),margin:F(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:$(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Ea]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),qe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lc,qe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Lc,qe]}],"grid-cols":[{"grid-cols":[_c]}],"col-start-end":[{col:["auto",{span:["full",Lc,qe]},qe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[_c]}],"row-start-end":[{row:["auto",{span:[Lc,qe]},qe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[Ea]},Ea]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ea,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yg]}],"font-family":[{font:[_c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",wl,yg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Ca]}],"underline-offset":[{"underline-offset":["auto",Yr,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),lB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Yr,qe]}],"outline-w":[{outline:[Yr,Ca]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Yr,Ca]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ea,uB]}],"shadow-color":[{shadow:[_c]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ea,qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Lc,qe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yr,Ca,yg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xB=J8(fB);function ne(...e){return xB(Fk(e))}const gB=t8,Gk=h.forwardRef(({className:e,...t},n)=>s.jsx(Tk,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Gk.displayName=Tk.displayName;const vB=Ni("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jk=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Pk,{ref:r,className:ne(vB({variant:t}),e),...n}));Jk.displayName=Pk.displayName;const yB=h.forwardRef(({className:e,...t},n)=>s.jsx(Rk,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yB.displayName=Rk.displayName;const Qk=h.forwardRef(({className:e,...t},n)=>s.jsx(Mk,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Nt,{className:"h-4 w-4"})}));Qk.displayName=Mk.displayName;const Zk=h.forwardRef(({className:e,...t},n)=>s.jsx(Ak,{ref:n,className:ne("text-sm font-semibold",e),...t}));Zk.displayName=Ak.displayName;const eR=h.forwardRef(({className:e,...t},n)=>s.jsx(kk,{ref:n,className:ne("text-sm opacity-90",e),...t}));eR.displayName=kk.displayName;function jB(){const{toasts:e}=He();return s.jsxs(gB,{children:[e.map(function({id:t,title:n,description:r,action:a,...o}){return s.jsxs(Jk,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Zk,{children:n}),r&&s.jsx(eR,{children:r})]}),a,s.jsx(Qk,{})]},t)}),s.jsx(Gk,{})]})}var wB=ju.useId||(()=>{}),NB=0;function Un(e){const[t,n]=h.useState(wB());return cs(()=>{n(r=>r??String(NB++))},[e]),t?`radix-${t}`:""}const bB=["top","right","bottom","left"],lo=Math.min,fn=Math.max,gp=Math.round,Lh=Math.floor,co=e=>({x:e,y:e}),SB={left:"right",right:"left",bottom:"top",top:"bottom"},CB={start:"end",end:"start"};function Iy(e,t,n){return fn(e,lo(t,n))}function pa(e,t){return typeof e=="function"?e(t):e}function fa(e){return e.split("-")[0]}function cc(e){return e.split("-")[1]}function PN(e){return e==="x"?"y":"x"}function AN(e){return e==="y"?"height":"width"}function uo(e){return["top","bottom"].includes(fa(e))?"y":"x"}function kN(e){return PN(uo(e))}function EB(e,t,n){n===void 0&&(n=!1);const r=cc(e),a=kN(e),o=AN(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vp(i)),[i,vp(i)]}function TB(e){const t=vp(e);return[Ly(e),t,Ly(t)]}function Ly(e){return e.replace(/start|end/g,t=>CB[t])}function PB(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}function AB(e,t,n,r){const a=cc(e);let o=PB(fa(e),n==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Ly)))),o}function vp(e){return e.replace(/left|right|bottom|top/g,t=>SB[t])}function kB(e){return{top:0,right:0,bottom:0,left:0,...e}}function tR(e){return typeof e!="number"?kB(e):{top:e,right:e,bottom:e,left:e}}function yp(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function $C(e,t,n){let{reference:r,floating:a}=e;const o=uo(t),i=kN(t),l=AN(i),c=fa(t),d=o==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-a.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-a.width,y:m};break;default:x={x:r.x,y:r.y}}switch(cc(t)){case"start":x[i]-=p*(n&&d?-1:1);break;case"end":x[i]+=p*(n&&d?-1:1);break}return x}const RB=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=$C(d,r,c),p=r,x={},g=0;for(let f=0;f<l.length;f++){const{name:w,fn:j}=l[f],{x:v,y,data:N,reset:b}=await j({x:u,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:x,rects:d,platform:i,elements:{reference:e,floating:t}});u=v??u,m=y??m,x={...x,[w]:{...x[w],...N}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(d=b.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):b.rects),{x:u,y:m}=$C(d,p,c)),f=-1)}return{x:u,y:m,placement:p,strategy:a,middlewareData:x}};async function zd(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=pa(t,e),g=tR(x),w=l[p?m==="floating"?"reference":"floating":m],j=yp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},b=yp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(j.top-b.top+g.top)/N.y,bottom:(b.bottom-j.bottom+g.bottom)/N.y,left:(j.left-b.left+g.left)/N.x,right:(b.right-j.right+g.right)/N.x}}const MB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=pa(e,t)||{};if(d==null)return{};const m=tR(u),p={x:n,y:r},x=kN(a),g=AN(x),f=await i.getDimensions(d),w=x==="y",j=w?"top":"left",v=w?"bottom":"right",y=w?"clientHeight":"clientWidth",N=o.reference[g]+o.reference[x]-p[x]-o.floating[g],b=p[x]-o.reference[x],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let S=E?E[y]:0;(!S||!await(i.isElement==null?void 0:i.isElement(E)))&&(S=l.floating[y]||o.floating[g]);const A=N/2-b/2,O=S/2-f[g]/2-1,I=lo(m[j],O),F=lo(m[v],O),L=I,U=S-f[g]-F,k=S/2-f[g]/2+A,P=Iy(L,k,U),T=!c.arrow&&cc(a)!=null&&k!==P&&o.reference[g]/2-(k<L?I:F)-f[g]/2<0,R=T?k<L?k-L:k-U:0;return{[x]:p[x]+R,data:{[x]:P,centerOffset:k-P-R,...T&&{alignmentOffset:R}},reset:T}}}),DB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...w}=pa(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=fa(a),v=uo(l),y=fa(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=p||(y||!f?[vp(l)]:TB(l)),E=g!=="none";!p&&E&&b.push(...AB(l,f,g,N));const S=[l,...b],A=await zd(t,w),O=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(A[j]),m){const k=EB(a,i,N);O.push(A[k[0]],A[k[1]])}if(I=[...I,{placement:a,overflows:O}],!O.every(k=>k<=0)){var F,L;const k=(((F=o.flip)==null?void 0:F.index)||0)+1,P=S[k];if(P)return{data:{index:k,overflows:I},reset:{placement:P}};let T=(L=I.filter(R=>R.overflows[0]<=0).sort((R,D)=>R.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!T)switch(x){case"bestFit":{var U;const R=(U=I.filter(D=>{if(E){const $=uo(D.placement);return $===v||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:U[0];R&&(T=R);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function UC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VC(e){return bB.some(t=>e[t]>=0)}const FB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=pa(e,t);switch(r){case"referenceHidden":{const o=await zd(t,{...a,elementContext:"reference"}),i=UC(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:VC(i)}}}case"escaped":{const o=await zd(t,{...a,altBoundary:!0}),i=UC(o,n.floating);return{data:{escapedOffsets:i,escaped:VC(i)}}}default:return{}}}}};async function OB(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=fa(n),l=cc(n),c=uo(n)==="y",d=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,m=pa(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*u,y:p*d}:{x:p*d,y:x*u}}const IB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await OB(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},LB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:j,y:v}=w;return{x:j,y:v}}},...c}=pa(e,t),d={x:n,y:r},u=await zd(t,c),m=uo(fa(a)),p=PN(m);let x=d[p],g=d[m];if(o){const w=p==="y"?"top":"left",j=p==="y"?"bottom":"right",v=x+u[w],y=x-u[j];x=Iy(v,x,y)}if(i){const w=m==="y"?"top":"left",j=m==="y"?"bottom":"right",v=g+u[w],y=g-u[j];g=Iy(v,g,y)}const f=l.fn({...t,[p]:x,[m]:g});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[p]:o,[m]:i}}}}}},_B=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=pa(e,t),u={x:n,y:r},m=uo(a),p=PN(m);let x=u[p],g=u[m];const f=pa(l,t),w=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const y=p==="y"?"height":"width",N=o.reference[p]-o.floating[y]+w.mainAxis,b=o.reference[p]+o.reference[y]-w.mainAxis;x<N?x=N:x>b&&(x=b)}if(d){var j,v;const y=p==="y"?"width":"height",N=["top","left"].includes(fa(a)),b=o.reference[m]-o.floating[y]+(N&&((j=i.offset)==null?void 0:j[m])||0)+(N?0:w.crossAxis),E=o.reference[m]+o.reference[y]+(N?0:((v=i.offset)==null?void 0:v[m])||0)-(N?w.crossAxis:0);g<b?g=b:g>E&&(g=E)}return{[p]:x,[m]:g}}}},$B=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=pa(e,t),u=await zd(t,d),m=fa(a),p=cc(a),x=uo(a)==="y",{width:g,height:f}=o.floating;let w,j;m==="top"||m==="bottom"?(w=m,j=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(j=m,w=p==="end"?"top":"bottom");const v=f-u.top-u.bottom,y=g-u.left-u.right,N=lo(f-u[w],v),b=lo(g-u[j],y),E=!t.middlewareData.shift;let S=N,A=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=v),E&&!p){const I=fn(u.left,0),F=fn(u.right,0),L=fn(u.top,0),U=fn(u.bottom,0);x?A=g-2*(I!==0||F!==0?I+F:fn(u.left,u.right)):S=f-2*(L!==0||U!==0?L+U:fn(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:S});const O=await i.getDimensions(l.floating);return g!==O.width||f!==O.height?{reset:{rects:!0}}:{}}}};function kf(){return typeof window<"u"}function dc(e){return sR(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vr(e){var t;return(t=(sR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sR(e){return kf()?e instanceof Node||e instanceof Nn(e).Node:!1}function ur(e){return kf()?e instanceof Element||e instanceof Nn(e).Element:!1}function Lr(e){return kf()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function BC(e){return!kf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}function Du(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function UB(e){return["table","td","th"].includes(dc(e))}function Rf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function RN(e){const t=MN(),n=ur(e)?hr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function VB(e){let t=ho(e);for(;Lr(t)&&!_l(t);){if(RN(t))return t;if(Rf(t))return null;t=ho(t)}return null}function MN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(e){return["html","body","#document"].includes(dc(e))}function hr(e){return Nn(e).getComputedStyle(e)}function Mf(e){return ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ho(e){if(dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BC(e)&&e.host||Vr(e);return BC(t)?t.host:t}function nR(e){const t=ho(e);return _l(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&Du(t)?t:nR(t)}function Wd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=nR(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Nn(a);if(o){const l=_y(i);return t.concat(i,i.visualViewport||[],Du(a)?a:[],l&&n?Wd(l):[])}return t.concat(a,Wd(a,[],n))}function _y(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rR(e){const t=hr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Lr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,l=gp(n)!==o||gp(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function DN(e){return ur(e)?e:e.contextElement}function Nl(e){const t=DN(e);if(!Lr(t))return co(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=rR(t);let i=(o?gp(n.width):n.width)/r,l=(o?gp(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const BB=co(0);function aR(e){const t=Nn(e);return!MN()||!t.visualViewport?BB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nn(e)?!1:t}function oi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=DN(e);let i=co(1);t&&(r?ur(r)&&(i=Nl(r)):i=Nl(e));const l=HB(o,n,r)?aR(o):co(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const p=Nn(o),x=r&&ur(r)?Nn(r):r;let g=p,f=_y(g);for(;f&&r&&x!==g;){const w=Nl(f),j=f.getBoundingClientRect(),v=hr(f),y=j.left+(f.clientLeft+parseFloat(v.paddingLeft))*w.x,N=j.top+(f.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,m*=w.y,c+=y,d+=N,g=Nn(f),f=_y(g)}}return yp({width:u,height:m,x:c,y:d})}function qB(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=Vr(r),l=t?Rf(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=co(1);const u=co(0),m=Lr(r);if((m||!m&&!o)&&((dc(r)!=="body"||Du(i))&&(c=Mf(r)),Lr(r))){const p=oi(r);d=Nl(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function zB(e){return Array.from(e.getClientRects())}function $y(e,t){const n=Mf(e).scrollLeft;return t?t.left+n:oi(Vr(e)).left+n}function WB(e){const t=Vr(e),n=Mf(e),r=e.ownerDocument.body,a=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+$y(e);const l=-n.scrollTop;return hr(r).direction==="rtl"&&(i+=fn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function KB(e,t){const n=Nn(e),r=Vr(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const d=MN();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function YB(e,t){const n=oi(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Lr(e)?Nl(e):co(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function HC(e,t,n){let r;if(t==="viewport")r=KB(e,n);else if(t==="document")r=WB(Vr(e));else if(ur(t))r=YB(t,n);else{const a=aR(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return yp(r)}function oR(e,t){const n=ho(e);return n===t||!ur(n)||_l(n)?!1:hr(n).position==="fixed"||oR(n,t)}function XB(e,t){const n=t.get(e);if(n)return n;let r=Wd(e,[],!1).filter(l=>ur(l)&&dc(l)!=="body"),a=null;const o=hr(e).position==="fixed";let i=o?ho(e):e;for(;ur(i)&&!_l(i);){const l=hr(i),c=RN(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Du(i)&&!c&&oR(e,i))?r=r.filter(u=>u!==i):a=l,i=ho(i)}return t.set(e,r),r}function GB(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[...n==="clippingAncestors"?Rf(t)?[]:XB(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((d,u)=>{const m=HC(t,u,a);return d.top=fn(m.top,d.top),d.right=lo(m.right,d.right),d.bottom=lo(m.bottom,d.bottom),d.left=fn(m.left,d.left),d},HC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JB(e){const{width:t,height:n}=rR(e);return{width:t,height:n}}function QB(e,t,n){const r=Lr(t),a=Vr(t),o=n==="fixed",i=oi(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=co(0);if(r||!r&&!o)if((dc(t)!=="body"||Du(a))&&(l=Mf(t)),r){const x=oi(t,!0,o,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=$y(a));let d=0,u=0;if(a&&!r&&!o){const x=a.getBoundingClientRect();u=x.top+l.scrollTop,d=x.left+l.scrollLeft-$y(a,x)}const m=i.left+l.scrollLeft-c.x-d,p=i.top+l.scrollTop-c.y-u;return{x:m,y:p,width:i.width,height:i.height}}function jg(e){return hr(e).position==="static"}function qC(e,t){if(!Lr(e)||hr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vr(e)===n&&(n=n.ownerDocument.body),n}function iR(e,t){const n=Nn(e);if(Rf(e))return n;if(!Lr(e)){let a=ho(e);for(;a&&!_l(a);){if(ur(a)&&!jg(a))return a;a=ho(a)}return n}let r=qC(e,t);for(;r&&UB(r)&&jg(r);)r=qC(r,t);return r&&_l(r)&&jg(r)&&!RN(r)?n:r||VB(e)||n}const ZB=async function(e){const t=this.getOffsetParent||iR,n=this.getDimensions,r=await n(e.floating);return{reference:QB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eH(e){return hr(e).direction==="rtl"}const tH={convertOffsetParentRelativeRectToViewportRelativeRect:qB,getDocumentElement:Vr,getClippingRect:GB,getOffsetParent:iR,getElementRects:ZB,getClientRects:zB,getDimensions:JB,getScale:Nl,isElement:ur,isRTL:eH};function sH(e,t){let n=null,r;const a=Vr(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:d,top:u,width:m,height:p}=e.getBoundingClientRect();if(l||t(),!m||!p)return;const x=Lh(u),g=Lh(a.clientWidth-(d+m)),f=Lh(a.clientHeight-(u+p)),w=Lh(d),v={rootMargin:-x+"px "+-g+"px "+-f+"px "+-w+"px",threshold:fn(0,lo(1,c))||1};let y=!0;function N(b){const E=b[0].intersectionRatio;if(E!==c){if(!y)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(N,{...v,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,v)}n.observe(e)}return i(!0),o}function lR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=DN(e),u=a||o?[...d?Wd(d):[],...Wd(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const m=d&&l?sH(d,n):null;let p=-1,x=null;i&&(x=new ResizeObserver(j=>{let[v]=j;v&&v.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=x)==null||y.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let g,f=c?oi(e):null;c&&w();function w(){const j=oi(e);f&&(j.x!==f.x||j.y!==f.y||j.width!==f.width||j.height!==f.height)&&n(),f=j,g=requestAnimationFrame(w)}return n(),()=>{var j;u.forEach(v=>{a&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),m?.(),(j=x)==null||j.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const nH=IB,rH=LB,aH=DB,oH=$B,iH=FB,zC=MB,lH=_B,cH=(e,t,n)=>{const r=new Map,a={platform:tH,...n},o={...a.platform,_c:r};return RB(e,t,{...a,platform:o})};var Tm=typeof document<"u"?h.useLayoutEffect:h.useEffect;function jp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!jp(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!jp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function cR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WC(e,t){const n=cR(e);return Math.round(t*n)/n}function wg(e){const t=h.useRef(e);return Tm(()=>{t.current=e}),t}function dR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=h.useState(r);jp(p,r)||x(r);const[g,f]=h.useState(null),[w,j]=h.useState(null),v=h.useCallback(D=>{D!==E.current&&(E.current=D,f(D))},[]),y=h.useCallback(D=>{D!==S.current&&(S.current=D,j(D))},[]),N=o||g,b=i||w,E=h.useRef(null),S=h.useRef(null),A=h.useRef(u),O=c!=null,I=wg(c),F=wg(a),L=wg(d),U=h.useCallback(()=>{if(!E.current||!S.current)return;const D={placement:t,strategy:n,middleware:p};F.current&&(D.platform=F.current),cH(E.current,S.current,D).then($=>{const V={...$,isPositioned:L.current!==!1};k.current&&!jp(A.current,V)&&(A.current=V,vr.flushSync(()=>{m(V)}))})},[p,t,n,F,L]);Tm(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[d]);const k=h.useRef(!1);Tm(()=>(k.current=!0,()=>{k.current=!1}),[]),Tm(()=>{if(N&&(E.current=N),b&&(S.current=b),N&&b){if(I.current)return I.current(N,b,U);U()}},[N,b,U,I,O]);const P=h.useMemo(()=>({reference:E,floating:S,setReference:v,setFloating:y}),[v,y]),T=h.useMemo(()=>({reference:N,floating:b}),[N,b]),R=h.useMemo(()=>{const D={position:n,left:0,top:0};if(!T.floating)return D;const $=WC(T.floating,u.x),V=WC(T.floating,u.y);return l?{...D,transform:"translate("+$+"px, "+V+"px)",...cR(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:V}},[n,l,T.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:U,refs:P,elements:T,floatingStyles:R}),[u,U,P,T,R])}const dH=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?zC({element:r.current,padding:a}).fn(n):{}:r?zC({element:r,padding:a}).fn(n):{}}}},uR=(e,t)=>({...nH(e),options:[e,t]}),hR=(e,t)=>({...rH(e),options:[e,t]}),mR=(e,t)=>({...lH(e),options:[e,t]}),pR=(e,t)=>({...aH(e),options:[e,t]}),fR=(e,t)=>({...oH(e),options:[e,t]}),xR=(e,t)=>({...iH(e),options:[e,t]}),gR=(e,t)=>({...dH(e),options:[e,t]});var uH="Arrow",vR=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(Pe.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});vR.displayName=uH;var hH=vR;function mH(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:p,children:x,...g}=m,f=p?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})}function u(m,p){const x=p?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,pH(a,...t)]}function pH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Df(e){const[t,n]=h.useState(void 0);return cs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var FN="Popper",[yR,uc]=mH(FN),[fH,jR]=yR(FN),wR=e=>{const{__scopePopper:t,children:n}=e,[r,a]=h.useState(null);return s.jsx(fH,{scope:t,anchor:r,onAnchorChange:a,children:n})};wR.displayName=FN;var NR="PopperAnchor",bR=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=jR(NR,n),i=h.useRef(null),l=Ue(t,i);return h.useEffect(()=>{o.onAnchorChange(r?.current||i.current)}),r?null:s.jsx(Pe.div,{...a,ref:l})});bR.displayName=NR;var ON="PopperContent",[xH,gH]=yR(ON),SR=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:g,...f}=e,w=jR(ON,n),[j,v]=h.useState(null),y=Ue(t,Z=>v(Z)),[N,b]=h.useState(null),E=Df(N),S=E?.width??0,A=E?.height??0,O=r+(o!=="center"?"-"+o:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],L=F.length>0,U={padding:I,boundary:F.filter(yH),altBoundary:L},{refs:k,floatingStyles:P,placement:T,isPositioned:R,middlewareData:D}=dR({strategy:"fixed",placement:O,whileElementsMounted:(...Z)=>lR(...Z,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[uR({mainAxis:a+A,alignmentAxis:i}),c&&hR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?mR():void 0,...U}),c&&pR({...U}),fR({...U,apply:({elements:Z,rects:le,availableWidth:fe,availableHeight:be})=>{const{width:Ae,height:je}=le.reference,ke=Z.floating.style;ke.setProperty("--radix-popper-available-width",`${fe}px`),ke.setProperty("--radix-popper-available-height",`${be}px`),ke.setProperty("--radix-popper-anchor-width",`${Ae}px`),ke.setProperty("--radix-popper-anchor-height",`${je}px`)}}),N&&gR({element:N,padding:l}),jH({arrowWidth:S,arrowHeight:A}),p&&xR({strategy:"referenceHidden",...U})]}),[$,V]=TR(T),B=It(g);cs(()=>{R&&B?.()},[R,B]);const H=D.arrow?.x,z=D.arrow?.y,Q=D.arrow?.centerOffset!==0,[ie,he]=h.useState();return cs(()=>{j&&he(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:R?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(xH,{scope:n,placedSide:$,onArrowChange:b,arrowX:H,arrowY:z,shouldHideArrow:Q,children:s.jsx(Pe.div,{"data-side":$,"data-align":V,...f,ref:y,style:{...f.style,animation:R?void 0:"none"}})})})});SR.displayName=ON;var CR="PopperArrow",vH={top:"bottom",right:"left",bottom:"top",left:"right"},ER=h.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=gH(CR,r),i=vH[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(hH,{...a,ref:n,style:{...a.style,display:"block"}})})});ER.displayName=CR;function yH(e){return e!==null}var jH=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=TR(n),m={start:"0%",center:"50%",end:"100%"}[u],p=(a.arrow?.x??0)+l/2,x=(a.arrow?.y??0)+c/2;let g="",f="";return d==="bottom"?(g=i?m:`${p}px`,f=`${-c}px`):d==="top"?(g=i?m:`${p}px`,f=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,f=i?m:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,f=i?m:`${x}px`),{data:{x:g,y:f}}}});function TR(e){const[t,n="center"]=e.split("-");return[t,n]}var IN=wR,LN=bR,_N=SR,$N=ER,[Ff,Lve]=on("Tooltip",[uc]),Of=uc(),PR="TooltipProvider",wH=700,Uy="tooltip.open",[NH,UN]=Ff(PR),AR=e=>{const{__scopeTooltip:t,delayDuration:n=wH,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=h.useState(!0),c=h.useRef(!1),d=h.useRef(0);return h.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(NH,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:o})};AR.displayName=PR;var If="Tooltip",[bH,Lf]=Ff(If),kR=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=UN(If,e.__scopeTooltip),d=Of(t),[u,m]=h.useState(null),p=Un(),x=h.useRef(0),g=i??c.disableHoverableContent,f=l??c.delayDuration,w=h.useRef(!1),[j=!1,v]=zn({prop:r,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Uy))):c.onClose(),o?.(S)}}),y=h.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),N=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,v(!0)},[v]),b=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,v(!1)},[v]),E=h.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,v(!0),x.current=0},f)},[f,v]);return h.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(IN,{...d,children:s.jsx(bH,{scope:t,contentId:p,open:j,stateAttribute:y,trigger:u,onTriggerChange:m,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayed?E():N()},[c.isOpenDelayed,E,N]),onTriggerLeave:h.useCallback(()=>{g?b():(window.clearTimeout(x.current),x.current=0)},[b,g]),onOpen:N,onClose:b,disableHoverableContent:g,children:n})})};kR.displayName=If;var Vy="TooltipTrigger",RR=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Lf(Vy,n),o=UN(Vy,n),i=Of(n),l=h.useRef(null),c=Ue(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(LN,{asChild:!0,...i,children:s.jsx(Pe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ge(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ge(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ge(e.onBlur,a.onClose),onClick:ge(e.onClick,a.onClose)})})});RR.displayName=Vy;var SH="TooltipPortal",[_ve,CH]=Ff(SH,{forceMount:void 0}),$l="TooltipContent",MR=h.forwardRef((e,t)=>{const n=CH($l,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,i=Lf($l,e.__scopeTooltip);return s.jsx(us,{present:r||i.open,children:i.disableHoverableContent?s.jsx(DR,{side:a,...o,ref:t}):s.jsx(EH,{side:a,...o,ref:t})})}),EH=h.forwardRef((e,t)=>{const n=Lf($l,e.__scopeTooltip),r=UN($l,e.__scopeTooltip),a=h.useRef(null),o=Ue(t,a),[i,l]=h.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=r,p=h.useCallback(()=>{l(null),m(!1)},[m]),x=h.useCallback((g,f)=>{const w=g.currentTarget,j={x:g.clientX,y:g.clientY},v=kH(j,w.getBoundingClientRect()),y=RH(j,v),N=MH(f.getBoundingClientRect()),b=FH([...y,...N]);l(b),m(!0)},[m]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(c&&u){const g=w=>x(w,u),f=w=>x(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",f),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",f)}}},[c,u,x,p]),h.useEffect(()=>{if(i){const g=f=>{const w=f.target,j={x:f.clientX,y:f.clientY},v=c?.contains(w)||u?.contains(w),y=!DH(j,i);v?p():y&&(p(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,i,d,p]),s.jsx(DR,{...e,ref:o})}),[TH,PH]=Ff(If,{isInside:!1}),DR=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Lf($l,n),d=Of(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Uy,u),()=>document.removeEventListener(Uy,u)),[u]),h.useEffect(()=>{if(c.trigger){const m=p=>{p.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),s.jsx(oc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(_N,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(fN,{children:r}),s.jsx(TH,{scope:n,isInside:!0,children:s.jsx(LV,{id:c.contentId,role:"tooltip",children:a||r})})]})})});MR.displayName=$l;var FR="TooltipArrow",AH=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Of(n);return PH(FR,n).isInside?null:s.jsx($N,{...a,...r,ref:t})});AH.displayName=FR;function kH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function MH(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function DH(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function FH(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OH(t)}function OH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var IH=AR,LH=kR,_H=RR,OR=MR;const IR=IH,$H=LH,UH=_H,LR=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(OR,{ref:r,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));LR.displayName=OR.displayName;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}var Ha;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ha||(Ha={}));const KC="popstate";function VH(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return By("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:wp(a)}return HH(t,n,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _R(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BH(){return Math.random().toString(36).substr(2,8)}function YC(e,t){return{usr:e.state,key:e.key,idx:t}}function By(e,t,n,r){return n===void 0&&(n=null),Kd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hc(t):t,{state:n,key:t&&t.key||r||BH()})}function wp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HH(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=Ha.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Kd({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=Ha.Pop;let w=u(),j=w==null?null:w-d;d=w,c&&c({action:l,location:f.location,delta:j})}function p(w,j){l=Ha.Push;let v=By(f.location,w,j);d=u()+1;let y=YC(v,d),N=f.createHref(v);try{i.pushState(y,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(N)}o&&c&&c({action:l,location:f.location,delta:1})}function x(w,j){l=Ha.Replace;let v=By(f.location,w,j);d=u();let y=YC(v,d),N=f.createHref(v);i.replaceState(y,"",N),o&&c&&c({action:l,location:f.location,delta:0})}function g(w){let j=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:wp(w);return v=v.replace(/ $/,"%20"),Ut(j,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,j)}let f={get action(){return l},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(KC,m),c=w,()=>{a.removeEventListener(KC,m),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let j=g(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:x,go(w){return i.go(w)}};return f}var XC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(XC||(XC={}));function qH(e,t,n){return n===void 0&&(n="/"),zH(e,t,n,!1)}function zH(e,t,n,r){let a=typeof t=="string"?hc(t):t,o=Ul(a.pathname||"/",n);if(o==null)return null;let i=$R(e);WH(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=nq(o);l=tq(i[c],d,r)}return l}function $R(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Qa([r,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(Ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),$R(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:ZH(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of UR(o.path))a(o,i,c)}),t}function UR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=UR(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function WH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KH=/^:[\w-]+$/,YH=3,XH=2,GH=1,JH=10,QH=-2,GC=e=>e==="*";function ZH(e,t){let n=e.split("/"),r=n.length;return n.some(GC)&&(r+=QH),t&&(r+=XH),n.filter(a=>!GC(a)).reduce((a,o)=>a+(KH.test(o)?YH:o===""?GH:JH),r)}function eq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function tq(e,t,n){let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Qa([o,m.pathname]),pathnameBase:iq(Qa([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=Qa([o,m.pathnameBase]))}return i}function Np(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sq(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let f=l[m]||"";i=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const g=l[m];return x&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function sq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_R(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function nq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ul(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?hc(e):e;return{pathname:n?n.startsWith("/")?n:aq(n,t):t,search:lq(r),hash:cq(a)}}function aq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ng(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VN(e,t){let n=oq(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BN(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=hc(e):(a=Kd({},e),Ut(!a.pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),Ut(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),Ut(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=n;else{let m=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=rq(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Qa=e=>e.join("/").replace(/\/\/+/g,"/"),iq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VR=["post","put","patch","delete"];new Set(VR);const uq=["get",...VR];new Set(uq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}const _f=h.createContext(null),BR=h.createContext(null),ja=h.createContext(null),$f=h.createContext(null),Br=h.createContext({outlet:null,matches:[],isDataRoute:!1}),HR=h.createContext(null);function hq(e,t){let{relative:n}=t===void 0?{}:t;mc()||Ut(!1);let{basename:r,navigator:a}=h.useContext(ja),{hash:o,pathname:i,search:l}=Uf(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Qa([r,i])),a.createHref({pathname:c,search:l,hash:o})}function mc(){return h.useContext($f)!=null}function ln(){return mc()||Ut(!1),h.useContext($f).location}function qR(e){h.useContext(ja).static||h.useLayoutEffect(e)}function _s(){let{isDataRoute:e}=h.useContext(Br);return e?Tq():mq()}function mq(){mc()||Ut(!1);let e=h.useContext(_f),{basename:t,future:n,navigator:r}=h.useContext(ja),{matches:a}=h.useContext(Br),{pathname:o}=ln(),i=JSON.stringify(VN(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return qR(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=BN(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Qa([t,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[t,r,i,o,e])}const pq=h.createContext(null);function fq(e){let t=h.useContext(Br).outlet;return t&&h.createElement(pq.Provider,{value:e},t)}function HN(){let{matches:e}=h.useContext(Br),t=e[e.length-1];return t?t.params:{}}function Uf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(ja),{matches:a}=h.useContext(Br),{pathname:o}=ln(),i=JSON.stringify(VN(a,r.v7_relativeSplatPath));return h.useMemo(()=>BN(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function xq(e,t){return gq(e,t)}function gq(e,t,n,r){mc()||Ut(!1);let{navigator:a}=h.useContext(ja),{matches:o}=h.useContext(Br),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=ln(),u;if(t){var m;let w=typeof t=="string"?hc(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Ut(!1),u=w}else u=d;let p=u.pathname||"/",x=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=qH(e,{pathname:x}),f=Nq(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Qa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Qa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&f?h.createElement($f.Provider,{value:{location:Yd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ha.Pop}},f):f}function vq(){let e=Eq(),t=dq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,null)}const yq=h.createElement(vq,null);class jq extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Br.Provider,{value:this.props.routeContext},h.createElement(HR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wq(e){let{routeContext:t,match:n,children:r}=e,a=h.useContext(_f);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Br.Provider,{value:t},r)}function Nq(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);u>=0||Ut(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:p,errors:x}=n,g=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,p)=>{let x,g=!1,f=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,f=m.route.errorElement||yq,c&&(d<0&&p===0?(g=!0,w=null):d===p&&(g=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,p+1)),v=()=>{let y;return x?y=f:g?y=w:m.route.Component?y=h.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,h.createElement(wq,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:n!=null},children:y})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(jq,{location:n.location,revalidation:n.revalidation,component:f,error:x,children:v(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):v()},null)}var zR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zR||{}),bp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bp||{});function bq(e){let t=h.useContext(_f);return t||Ut(!1),t}function Sq(e){let t=h.useContext(BR);return t||Ut(!1),t}function Cq(e){let t=h.useContext(Br);return t||Ut(!1),t}function WR(e){let t=Cq(),n=t.matches[t.matches.length-1];return n.route.id||Ut(!1),n.route.id}function Eq(){var e;let t=h.useContext(HR),n=Sq(bp.UseRouteError),r=WR(bp.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Tq(){let{router:e}=bq(zR.UseNavigateStable),t=WR(bp.UseNavigateStable),n=h.useRef(!1);return qR(()=>{n.current=!0}),h.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Yd({fromRouteId:t},o)))},[e,t])}function Sp(e){let{to:t,replace:n,state:r,relative:a}=e;mc()||Ut(!1);let{future:o,static:i}=h.useContext(ja),{matches:l}=h.useContext(Br),{pathname:c}=ln(),d=_s(),u=BN(t,VN(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function KR(e){return fq(e.context)}function pt(e){Ut(!1)}function Pq(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ha.Pop,navigator:o,static:i=!1,future:l}=e;mc()&&Ut(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Yd({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=hc(r));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:g="default"}=r,f=h.useMemo(()=>{let w=Ul(u,c);return w==null?null:{location:{pathname:w,search:m,hash:p,state:x,key:g},navigationType:a}},[c,u,m,p,x,g,a]);return f==null?null:h.createElement(ja.Provider,{value:d},h.createElement($f.Provider,{children:n,value:f}))}function Aq(e){let{children:t,location:n}=e;return xq(Hy(t),n)}new Promise(()=>{});function Hy(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,a)=>{if(!h.isValidElement(r))return;let o=[...t,a];if(r.type===h.Fragment){n.push.apply(n,Hy(r.props.children,o));return}r.type!==pt&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Hy(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}function YR(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function kq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rq(e,t){return e.button===0&&(!t||t==="_self")&&!kq(e)}const Mq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Fq="6";try{window.__reactRouterVersion=Fq}catch{}const Oq=h.createContext({isTransitioning:!1}),Iq="startTransition",JC=ju[Iq];function Lq(e){let{basename:t,children:n,future:r,window:a}=e,o=h.useRef();o.current==null&&(o.current=VH({window:a,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=h.useCallback(m=>{d&&JC?JC(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.createElement(Pq,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const _q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XR=h.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,p=YR(t,Mq),{basename:x}=h.useContext(ja),g,f=!1;if(typeof d=="string"&&$q.test(d)&&(g=d,_q))try{let y=new URL(window.location.href),N=d.startsWith("//")?new URL(y.protocol+d):new URL(d),b=Ul(N.pathname,x);N.origin===y.origin&&b!=null?d=b+N.search+N.hash:f=!0}catch{}let w=hq(d,{relative:a}),j=Bq(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function v(y){r&&r(y),y.defaultPrevented||j(y)}return h.createElement("a",Cp({},p,{href:g||w,onClick:f||o?r:v,ref:n,target:c}))}),Uq=h.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=t,m=YR(t,Dq),p=Uf(c,{relative:m.relative}),x=ln(),g=h.useContext(BR),{navigator:f,basename:w}=h.useContext(ja),j=g!=null&&Hq(p)&&d===!0,v=f.encodeLocation?f.encodeLocation(p).pathname:p.pathname,y=x.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(y=y.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&w&&(N=Ul(N,w)||N);const b=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=y===v||!i&&y.startsWith(v)&&y.charAt(b)==="/",S=N!=null&&(N===v||!i&&N.startsWith(v)&&N.charAt(v.length)==="/"),A={isActive:E,isPending:S,isTransitioning:j},O=E?r:void 0,I;typeof o=="function"?I=o(A):I=[o,E?"active":null,S?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(A):l;return h.createElement(XR,Cp({},m,{"aria-current":O,className:I,ref:n,style:F,to:c,viewTransition:d}),typeof u=="function"?u(A):u)});var qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qy||(qy={}));var QC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(QC||(QC={}));function Vq(e){let t=h.useContext(_f);return t||Ut(!1),t}function Bq(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=_s(),d=ln(),u=Uf(e,{relative:i});return h.useCallback(m=>{if(Rq(m,n)){m.preventDefault();let p=r!==void 0?r:wp(d)===wp(u);c(e,{replace:p,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,r,a,n,e,o,i,l])}function Hq(e,t){t===void 0&&(t={});let n=h.useContext(Oq);n==null&&Ut(!1);let{basename:r}=Vq(qy.useViewTransitionState),a=Uf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ul(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Ul(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Np(a.pathname,i)!=null||Np(a.pathname,o)!=null}function GR(e,t){return function(){return e.apply(t,arguments)}}const{toString:qq}=Object.prototype,{getPrototypeOf:qN}=Object,{iterator:Vf,toStringTag:JR}=Symbol,Bf=(e=>t=>{const n=qq.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>Bf(t)===e),Hf=e=>t=>typeof t===e,{isArray:pc}=Array,Xd=Hf("undefined");function Fu(e){return e!==null&&!Xd(e)&&e.constructor!==null&&!Xd(e.constructor)&&Zs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QR=yr("ArrayBuffer");function zq(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QR(e.buffer),t}const Wq=Hf("string"),Zs=Hf("function"),ZR=Hf("number"),Ou=e=>e!==null&&typeof e=="object",Kq=e=>e===!0||e===!1,Pm=e=>{if(Bf(e)!=="object")return!1;const t=qN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(JR in e)&&!(Vf in e)},Yq=e=>{if(!Ou(e)||Fu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xq=yr("Date"),Gq=yr("File"),Jq=yr("Blob"),Qq=yr("FileList"),Zq=e=>Ou(e)&&Zs(e.pipe),ez=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zs(e.append)&&((t=Bf(e))==="formdata"||t==="object"&&Zs(e.toString)&&e.toString()==="[object FormData]"))},tz=yr("URLSearchParams"),[sz,nz,rz,az]=["ReadableStream","Request","Response","Headers"].map(yr),oz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Iu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),pc(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Fu(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function eM(e,t){if(Fu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,tM=e=>!Xd(e)&&e!==Uo;function zy(){const{caseless:e}=tM(this)&&this||{},t={},n=(r,a)=>{const o=e&&eM(t,a)||a;Pm(t[o])&&Pm(r)?t[o]=zy(t[o],r):Pm(r)?t[o]=zy({},r):pc(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Iu(arguments[r],n);return t}const iz=(e,t,n,{allOwnKeys:r}={})=>(Iu(t,(a,o)=>{n&&Zs(a)?e[o]=GR(a,n):e[o]=a},{allOwnKeys:r}),e),lz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cz=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dz=(e,t,n,r)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&qN(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},uz=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},hz=e=>{if(!e)return null;if(pc(e))return e;let t=e.length;if(!ZR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qN(Uint8Array)),pz=(e,t)=>{const r=(e&&e[Vf]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},fz=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},xz=yr("HTMLFormElement"),gz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),ZC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),vz=yr("RegExp"),sM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Iu(n,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(r[o]=i||a)}),Object.defineProperties(e,r)},yz=e=>{sM(e,(t,n)=>{if(Zs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Zs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jz=(e,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return pc(e)?r(e):r(String(e).split(t)),n},wz=()=>{},Nz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bz(e){return!!(e&&Zs(e.append)&&e[JR]==="FormData"&&e[Vf])}const Sz=e=>{const t=new Array(10),n=(r,a)=>{if(Ou(r)){if(t.indexOf(r)>=0)return;if(Fu(r))return r;if(!("toJSON"in r)){t[a]=r;const o=pc(r)?[]:{};return Iu(r,(i,l)=>{const c=n(i,a+1);!Xd(c)&&(o[l]=c)}),t[a]=void 0,o}}return r};return n(e,0)},Cz=yr("AsyncFunction"),Ez=e=>e&&(Ou(e)||Zs(e))&&Zs(e.then)&&Zs(e.catch),nM=((e,t)=>e?setImmediate:t?((n,r)=>(Uo.addEventListener("message",({source:a,data:o})=>{a===Uo&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Uo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Zs(Uo.postMessage)),Tz=typeof queueMicrotask<"u"?queueMicrotask.bind(Uo):typeof process<"u"&&process.nextTick||nM,Pz=e=>e!=null&&Zs(e[Vf]),oe={isArray:pc,isArrayBuffer:QR,isBuffer:Fu,isFormData:ez,isArrayBufferView:zq,isString:Wq,isNumber:ZR,isBoolean:Kq,isObject:Ou,isPlainObject:Pm,isEmptyObject:Yq,isReadableStream:sz,isRequest:nz,isResponse:rz,isHeaders:az,isUndefined:Xd,isDate:Xq,isFile:Gq,isBlob:Jq,isRegExp:vz,isFunction:Zs,isStream:Zq,isURLSearchParams:tz,isTypedArray:mz,isFileList:Qq,forEach:Iu,merge:zy,extend:iz,trim:oz,stripBOM:lz,inherits:cz,toFlatObject:dz,kindOf:Bf,kindOfTest:yr,endsWith:uz,toArray:hz,forEachEntry:pz,matchAll:fz,isHTMLForm:xz,hasOwnProperty:ZC,hasOwnProp:ZC,reduceDescriptors:sM,freezeMethods:yz,toObjectSet:jz,toCamelCase:gz,noop:wz,toFiniteNumber:Nz,findKey:eM,global:Uo,isContextDefined:tM,isSpecCompliantForm:bz,toJSONObject:Sz,isAsyncFn:Cz,isThenable:Ez,setImmediate:nM,asap:Tz,isIterable:Pz};function Be(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}oe.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const rM=Be.prototype,aM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aM[e]={value:e}});Object.defineProperties(Be,aM);Object.defineProperty(rM,"isAxiosError",{value:!0});Be.from=(e,t,n,r,a,o)=>{const i=Object.create(rM);return oe.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Be.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const Az=null;function Wy(e){return oe.isPlainObject(e)||oe.isArray(e)}function oM(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function e1(e,t,n){return e?e.concat(t).map(function(a,o){return a=oM(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function kz(e){return oe.isArray(e)&&!e.some(Wy)}const Rz=oe.toFlatObject(oe,{},null,function(t){return/^is[A-Z]/.test(t)});function qf(e,t,n){if(!oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,w){return!oe.isUndefined(w[f])});const r=n.metaTokens,a=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(t);if(!oe.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(oe.isDate(g))return g.toISOString();if(oe.isBoolean(g))return g.toString();if(!c&&oe.isBlob(g))throw new Be("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(g)||oe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,f,w){let j=g;if(g&&!w&&typeof g=="object"){if(oe.endsWith(f,"{}"))f=r?f:f.slice(0,-2),g=JSON.stringify(g);else if(oe.isArray(g)&&kz(g)||(oe.isFileList(g)||oe.endsWith(f,"[]"))&&(j=oe.toArray(g)))return f=oM(f),j.forEach(function(y,N){!(oe.isUndefined(y)||y===null)&&t.append(i===!0?e1([f],N,o):i===null?f:f+"[]",d(y))}),!1}return Wy(g)?!0:(t.append(e1(w,f,o),d(g)),!1)}const m=[],p=Object.assign(Rz,{defaultVisitor:u,convertValue:d,isVisitable:Wy});function x(g,f){if(!oe.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(g),oe.forEach(g,function(j,v){(!(oe.isUndefined(j)||j===null)&&a.call(t,j,oe.isString(v)?v.trim():v,f,p))===!0&&x(j,f?f.concat(v):[v])}),m.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return x(e),t}function t1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zN(e,t){this._pairs=[],e&&qf(e,this,t)}const iM=zN.prototype;iM.append=function(t,n){this._pairs.push([t,n])};iM.toString=function(t){const n=t?function(r){return t.call(this,r,t1)}:t1;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Mz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lM(e,t,n){if(!t)return e;const r=n&&n.encode||Mz;oe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=oe.isURLSearchParams(t)?t.toString():new zN(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class s1{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){oe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dz=typeof URLSearchParams<"u"?URLSearchParams:zN,Fz=typeof FormData<"u"?FormData:null,Oz=typeof Blob<"u"?Blob:null,Iz={isBrowser:!0,classes:{URLSearchParams:Dz,FormData:Fz,Blob:Oz},protocols:["http","https","file","blob","url","data"]},WN=typeof window<"u"&&typeof document<"u",Ky=typeof navigator=="object"&&navigator||void 0,Lz=WN&&(!Ky||["ReactNative","NativeScript","NS"].indexOf(Ky.product)<0),_z=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$z=WN&&window.location.href||"http://localhost",Uz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WN,hasStandardBrowserEnv:Lz,hasStandardBrowserWebWorkerEnv:_z,navigator:Ky,origin:$z},Symbol.toStringTag,{value:"Module"})),js={...Uz,...Iz};function Vz(e,t){return qf(e,new js.classes.URLSearchParams,{visitor:function(n,r,a,o){return js.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Bz(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hz(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function dM(e){function t(n,r,a,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&oe.isArray(a)?a.length:i,c?(oe.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!l):((!a[i]||!oe.isObject(a[i]))&&(a[i]=[]),t(n,r,a[i],o)&&oe.isArray(a[i])&&(a[i]=Hz(a[i])),!l)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const n={};return oe.forEachEntry(e,(r,a)=>{t(Bz(r),a,n,0)}),n}return null}function qz(e,t,n){if(oe.isString(e))try{return(t||JSON.parse)(e),oe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Lu={transitional:cM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=oe.isObject(t);if(o&&oe.isHTMLForm(t)&&(t=new FormData(t)),oe.isFormData(t))return a?JSON.stringify(dM(t)):t;if(oe.isArrayBuffer(t)||oe.isBuffer(t)||oe.isStream(t)||oe.isFile(t)||oe.isBlob(t)||oe.isReadableStream(t))return t;if(oe.isArrayBufferView(t))return t.buffer;if(oe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Vz(t,this.formSerializer).toString();if((l=oe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),qz(t)):t}],transformResponse:[function(t){const n=this.transitional||Lu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(oe.isResponse(t)||oe.isReadableStream(t))return t;if(t&&oe.isString(t)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{Lu.headers[e]={}});const zz=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wz=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||t[n]&&zz[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},n1=Symbol("internals");function $c(e){return e&&String(e).trim().toLowerCase()}function Am(e){return e===!1||e==null?e:oe.isArray(e)?e.map(Am):String(e)}function Kz(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Yz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bg(e,t,n,r,a){if(oe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!oe.isString(t)){if(oe.isString(r))return t.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(t)}}function Xz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Gz(e,t){const n=oe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,o,i){return this[r].call(this,t,a,o,i)},configurable:!0})})}class en{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(l,c,d){const u=$c(c);if(!u)throw new Error("header name must be a non-empty string");const m=oe.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Am(l))}const i=(l,c)=>oe.forEach(l,(d,u)=>o(d,u,c));if(oe.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(oe.isString(t)&&(t=t.trim())&&!Yz(t))i(Wz(t),n);else if(oe.isObject(t)&&oe.isIterable(t)){let l={},c,d;for(const u of t){if(!oe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?oe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=$c(t),t){const r=oe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return Kz(a);if(oe.isFunction(n))return n.call(this,a,r);if(oe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$c(t),t){const r=oe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||bg(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(i){if(i=$c(i),i){const l=oe.findKey(r,i);l&&(!n||bg(r,r[l],l,n))&&(delete r[l],a=!0)}}return oe.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||bg(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return oe.forEach(this,(a,o)=>{const i=oe.findKey(r,o);if(i){n[i]=Am(a),delete n[o];return}const l=t?Xz(o):String(o).trim();l!==o&&delete n[o],n[l]=Am(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return oe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[n1]=this[n1]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=$c(i);r[l]||(Gz(a,i),r[l]=!0)}return oe.isArray(t)?t.forEach(o):o(t),this}}en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(en.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});oe.freezeMethods(en);function Sg(e,t){const n=this||Lu,r=t||n,a=en.from(r.headers);let o=r.data;return oe.forEach(e,function(l){o=l.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function uM(e){return!!(e&&e.__CANCEL__)}function fc(e,t,n){Be.call(this,e??"canceled",Be.ERR_CANCELED,t,n),this.name="CanceledError"}oe.inherits(fc,Be,{__CANCEL__:!0});function hM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Jz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qz(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[o];i||(i=d),n[a]=c,r[a]=d;let m=o,p=0;for(;m!==a;)p+=n[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),d-i<t)return;const x=u&&d-u;return x?Math.round(p*1e3/x):void 0}}function Zz(e,t){let n=0,r=1e3/t,a,o;const i=(d,u=Date.now())=>{n=u,a=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=r?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},r-m)))},()=>a&&i(a)]}const Ep=(e,t,n=3)=>{let r=0;const a=Qz(50,250);return Zz(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,d=a(c),u=i<=l;r=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},r1=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},a1=e=>(...t)=>oe.asap(()=>e(...t)),e9=js.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,js.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(js.origin),js.navigator&&/(msie|trident)/i.test(js.navigator.userAgent)):()=>!0,t9=js.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];oe.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&i.push("path="+r),oe.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mM(e,t,n){let r=!s9(t);return e&&(r||n==!1)?n9(e,t):t}const o1=e=>e instanceof en?{...e}:e;function ii(e,t){t=t||{};const n={};function r(d,u,m,p){return oe.isPlainObject(d)&&oe.isPlainObject(u)?oe.merge.call({caseless:p},d,u):oe.isPlainObject(u)?oe.merge({},u):oe.isArray(u)?u.slice():u}function a(d,u,m,p){if(oe.isUndefined(u)){if(!oe.isUndefined(d))return r(void 0,d,m,p)}else return r(d,u,m,p)}function o(d,u){if(!oe.isUndefined(u))return r(void 0,u)}function i(d,u){if(oe.isUndefined(u)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,m){if(m in t)return r(d,u);if(m in e)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,m)=>a(o1(d),o1(u),m,!0)};return oe.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,p=m(e[u],t[u],u);oe.isUndefined(p)&&m!==l||(n[u]=p)}),n}const pM=e=>{const t=ii({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=en.from(i),t.url=lM(mM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(js.hasStandardBrowserEnv||js.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(js.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(t)),r||r!==!1&&e9(t.url))){const d=a&&o&&t9.read(o);d&&i.set(a,d)}return t},r9=typeof XMLHttpRequest<"u",a9=r9&&function(e){return new Promise(function(n,r){const a=pM(e);let o=a.data;const i=en.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,p,x,g;function f(){x&&x(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function j(){if(!w)return;const y=en.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};hM(function(S){n(S),f()},function(S){r(S),f()},b),w=null}"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(j)},w.onabort=function(){w&&(r(new Be("Request aborted",Be.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new Be("Network Error",Be.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const b=a.transitional||cM;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),r(new Be(N,b.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&oe.forEach(i.toJSON(),function(N,b){w.setRequestHeader(b,N)}),oe.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([p,g]=Ep(d,!0),w.addEventListener("progress",p)),c&&w.upload&&([m,x]=Ep(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=y=>{w&&(r(!y||y.type?new fc(null,e,w):y),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const v=Jz(a.url);if(v&&js.protocols.indexOf(v)===-1){r(new Be("Unsupported protocol "+v+":",Be.ERR_BAD_REQUEST,e));return}w.send(o||null)})},o9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof Be?u:new fc(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new Be(`timeout ${t} of ms exceeded`,Be.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},i9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},l9=async function*(e,t){for await(const n of c9(e))yield*i9(n,t)},c9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},i1=(e,t,n,r)=>{const a=l9(e,t);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(n){let p=o+=m;n(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},zf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fM=zf&&typeof ReadableStream=="function",d9=zf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),xM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},u9=fM&&xM(()=>{let e=!1;const t=new Request(js.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),l1=64*1024,Yy=fM&&xM(()=>oe.isReadableStream(new Response("").body)),Tp={stream:Yy&&(e=>e.body)};zf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tp[t]&&(Tp[t]=oe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Be(`Response type '${t}' is not supported`,Be.ERR_NOT_SUPPORT,r)})})})(new Response);const h9=async e=>{if(e==null)return 0;if(oe.isBlob(e))return e.size;if(oe.isSpecCompliantForm(e))return(await new Request(js.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(e)||oe.isArrayBuffer(e))return e.byteLength;if(oe.isURLSearchParams(e)&&(e=e+""),oe.isString(e))return(await d9(e)).byteLength},m9=async(e,t)=>{const n=oe.toFiniteNumber(e.getContentLength());return n??h9(t)},p9=zf&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:p}=pM(e);d=d?(d+"").toLowerCase():"text";let x=o9([a,o&&o.toAbortSignal()],i),g;const f=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let w;try{if(c&&u9&&n!=="get"&&n!=="head"&&(w=await m9(u,r))!==0){let b=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(oe.isFormData(r)&&(E=b.headers.get("content-type"))&&u.setContentType(E),b.body){const[S,A]=r1(w,Ep(a1(c)));r=i1(b.body,l1,S,A)}}oe.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;g=new Request(t,{...p,signal:x,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:j?m:void 0});let v=await fetch(g,p);const y=Yy&&(d==="stream"||d==="response");if(Yy&&(l||y&&f)){const b={};["status","statusText","headers"].forEach(O=>{b[O]=v[O]});const E=oe.toFiniteNumber(v.headers.get("content-length")),[S,A]=l&&r1(E,Ep(a1(l),!0))||[];v=new Response(i1(v.body,l1,S,()=>{A&&A(),f&&f()}),b)}d=d||"text";let N=await Tp[oe.findKey(Tp,d)||"text"](v,e);return!y&&f&&f(),await new Promise((b,E)=>{hM(b,E,{data:N,headers:en.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:g})})}catch(j){throw f&&f(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,e,g),{cause:j.cause||j}):Be.from(j,j&&j.code,e,g)}}),Xy={http:Az,xhr:a9,fetch:p9};oe.forEach(Xy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const c1=e=>`- ${e}`,f9=e=>oe.isFunction(e)||e===null||e===!1,gM={getAdapter:e=>{e=oe.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!f9(n)&&(r=Xy[(i=String(n)).toLowerCase()],r===void 0))throw new Be(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+o]=r}if(!r){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(c1).join(`
`):" "+c1(o[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Xy};function Cg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fc(null,e)}function d1(e){return Cg(e),e.headers=en.from(e.headers),e.data=Sg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gM.getAdapter(e.adapter||Lu.adapter)(e).then(function(r){return Cg(e),r.data=Sg.call(e,e.transformResponse,r),r.headers=en.from(r.headers),r},function(r){return uM(r)||(Cg(e),r&&r.response&&(r.response.data=Sg.call(e,e.transformResponse,r.response),r.response.headers=en.from(r.response.headers))),Promise.reject(r)})}const vM="1.11.0",Wf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const u1={};Wf.transitional=function(t,n,r){function a(o,i){return"[Axios v"+vM+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new Be(a(i," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!u1[i]&&(u1[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};Wf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function x9(e,t,n){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new Be("option "+o+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+o,Be.ERR_BAD_OPTION)}}const km={assertOptions:x9,validators:Wf},br=km.validators;class Yo{constructor(t){this.defaults=t||{},this.interceptors={request:new s1,response:new s1}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ii(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&km.assertOptions(r,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean)},!1),a!=null&&(oe.isFunction(a)?n.paramsSerializer={serialize:a}:km.assertOptions(a,{encode:br.function,serialize:br.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),km.assertOptions(n,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&oe.merge(o.common,o[n.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=en.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(c=c&&f.synchronous,l.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,p;if(!c){const g=[d1.bind(this),void 0];for(g.unshift(...l),g.push(...d),p=g.length,u=Promise.resolve(n);m<p;)u=u.then(g[m++],g[m++]);return u}p=l.length;let x=n;for(m=0;m<p;){const g=l[m++],f=l[m++];try{x=g(x)}catch(w){f.call(this,w);break}}try{u=d1.call(this,x)}catch(g){return Promise.reject(g)}for(m=0,p=d.length;m<p;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=ii(this.defaults,t);const n=mM(t.baseURL,t.url,t.allowAbsoluteUrls);return lM(n,t.params,t.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(t){Yo.prototype[t]=function(n,r){return this.request(ii(r||{},{method:t,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,l){return this.request(ii(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Yo.prototype[t]=n(),Yo.prototype[t+"Form"]=n(!0)});class KN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new fc(o,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new KN(function(a){t=a}),cancel:t}}}function g9(e){return function(n){return e.apply(null,n)}}function v9(e){return oe.isObject(e)&&e.isAxiosError===!0}const Gy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gy).forEach(([e,t])=>{Gy[t]=e});function yM(e){const t=new Yo(e),n=GR(Yo.prototype.request,t);return oe.extend(n,Yo.prototype,t,{allOwnKeys:!0}),oe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return yM(ii(e,a))},n}const bt=yM(Lu);bt.Axios=Yo;bt.CanceledError=fc;bt.CancelToken=KN;bt.isCancel=uM;bt.VERSION=vM;bt.toFormData=qf;bt.AxiosError=Be;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=g9;bt.isAxiosError=v9;bt.mergeConfig=ii;bt.AxiosHeaders=en;bt.formToJSON=e=>dM(oe.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=gM.getAdapter;bt.HttpStatusCode=Gy;bt.default=bt;class y9{client;baseURL;constructor(){this.baseURL="http://localhost:8080/api",this.client=bt.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const n=localStorage.getItem("integration_platform_token");console.log("API Request - Token present:",!!n),n&&!t.skipAuth?(t.headers.Authorization=`Bearer ${n}`,console.log("API Request - Adding Authorization header")):console.log("API Request - No token or skipAuth=true");const r=this.generateCorrelationId();return t.headers["X-Correlation-ID"]=r,window.__currentCorrelationId=r,console.log(`API Call: ${t.method?.toUpperCase()||"GET"} ${t.url||""}`),console.log("Request headers:",t.headers),t},t=>Promise.reject(this.handleError(t))),this.client.interceptors.response.use(t=>(console.log(`API Response: ${t.config.method?.toUpperCase()} ${t.config.url} - ${t.status}`),t),async t=>{const n=t.config;if(t.response?.status===401&&!n.skipAuth){const r=localStorage.getItem("integration_platform_refresh_token");if(r&&!n.url?.includes("/refresh"))try{const o=(await this.client.post("/auth/refresh",{refreshToken:r},{skipAuth:!0})).data.token;return localStorage.setItem("integration_platform_token",o),n.headers&&(n.headers.Authorization=`Bearer ${o}`),this.client(n)}catch(a){console.error("Token refresh failed:",a),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}else localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.href="/login"}return Promise.reject(this.handleError(t))})}generateCorrelationId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleError(t){return console.error(`API Error: ${t.config?.method?.toUpperCase()||"UNKNOWN"} ${t.config?.url||"unknown"}`,t),t.response?.data?{message:t.response.data.message||"An error occurred",code:t.response.data.code||t.response.status?.toString(),details:t.response.data.details,timestamp:t.response.data.timestamp||new Date().toISOString()}:t.request?{message:"No response from server. Please check your connection.",code:"NETWORK_ERROR",timestamp:new Date().toISOString()}:{message:t.message||"An unexpected error occurred",code:"UNKNOWN_ERROR",timestamp:new Date().toISOString()}}async get(t,n){return(await this.client.get(t,n)).data}async post(t,n,r){return(await this.client.post(t,n,r)).data}async put(t,n,r){return(await this.client.put(t,n,r)).data}async patch(t,n,r){return(await this.client.patch(t,n,r)).data}async delete(t,n){return(await this.client.delete(t,n)).data}async upload(t,n,r){return(await this.client.post(t,n,{...r,headers:{...r?.headers,"Content-Type":"multipart/form-data"}})).data}async download(t,n,r){const a=await this.client.get(t,{...r,responseType:"blob"}),o=new Blob([a.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=n,i.click(),window.URL.revokeObjectURL(i.href)}}const Oe=new y9;class j9{listeners=[];constructor(){window.addEventListener("error",t=>{this.logError("System Error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:t.error?.stack})}),window.addEventListener("unhandledrejection",t=>{this.logError("Unhandled Promise Rejection",{reason:t.reason,stack:t.reason?.stack})})}async logError(t,n){const r={id:`sys-${Date.now()}`,timestamp:new Date().toISOString(),level:"error",message:t,details:n,source:"system",sourceId:"error-logger",sourceName:"System Error Logger"};await this.sendLogToBackend(r),this.notifyListeners(r)}async logInfo(t,n,r="system",a,o){const i={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),level:"info",message:t,details:n,source:r,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async logWarning(t,n,r="system",a,o){const i={id:`warn-${Date.now()}`,timestamp:new Date().toISOString(),level:"warn",message:t,details:n,source:r,sourceId:a||"general",sourceName:o||"System"};await this.sendLogToBackend(i),this.notifyListeners(i)}async sendLogToBackend(t){try{const r={logs:[{level:t.level.toUpperCase(),category:t.source==="system"?"SYSTEM":"APPLICATION",message:t.message,details:t.details||{},error:t.details?.error||null,stackTrace:t.details?.stack||null,userAgent:navigator.userAgent,url:window.location.href,timestamp:t.timestamp,userId:localStorage.getItem("userId")||null,sessionId:localStorage.getItem("sessionId")||null,correlationId:t.id}]};await Oe.post("/system/logs/batch",r)}catch(n){console.error("Failed to send log to backend:",n)}}async getAllLogs(){try{return(await Oe.get("/system-logs")).data||[]}catch(t){return console.error("Failed to fetch logs from backend:",t),[]}}async getFilteredLogs(t){try{const n=new URLSearchParams;return Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())}),(await Oe.get(`/system-logs${n.toString()?`?${n.toString()}`:""}`)).data||[]}catch(n){return console.error("Failed to fetch filtered logs from backend:",n),[]}}onLogUpdate(t){return this.listeners.push(t),()=>{const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}}notifyListeners(t){this.listeners.forEach(n=>n(t))}}const Rm=new j9,jM="http://localhost:8080/api";class Eg extends Error{constructor(t,n,r){super(t),this.status=n,this.response=r,this.name="ApiError"}}function h1(){return localStorage.getItem("integration_platform_token")}function w9(){return localStorage.getItem("integration_platform_refresh_token")}function N9(){localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user")}async function b9(){const e=w9();if(!e)return!1;try{const t=await fetch(`${jM}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){const n=await t.json();return localStorage.setItem("integration_platform_token",n.token),!0}}catch(t){console.warn("Token refresh failed:",t)}return N9(),!1}async function Uc(e,t={}){const n=`${jM}${e}`,r=h1(),a={"Content-Type":"application/json"};r&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh")&&(a.Authorization=`Bearer ${r}`);const o={headers:{...a,...t.headers},...t};try{console.log("[API] Making request:",{method:o.method||"GET",url:n,body:o.body?JSON.parse(o.body):void 0});let i=await fetch(n,o);if(i.status===401&&!e.includes("/auth/login")&&!e.includes("/auth/register")&&!e.includes("/auth/refresh"))if(await b9()){const u=h1();u&&(o.headers={...o.headers,Authorization:`Bearer ${u}`},i=await fetch(n,o))}else throw window.location.href="/login",new Eg("Authentication failed",401);let l;const c=i.headers.get("content-type");if(c&&c.includes("application/json")?l=await i.json():l=await i.text(),!i.ok){const d={status:i.status,endpoint:e,data:l};console.log("[API] Error response from backend:",d),Rm.logError(`API Error: ${e} - ${i.status}`,{...d,method:t.method||"GET",url:n,timestamp:new Date().toISOString()});let u=`HTTP ${i.status}: ${i.statusText}`;throw l&&(typeof l=="string"&&l.trim()?u=l:l.message?u=l.message:l.error?u=l.error:l.detail?u=l.detail:l.title&&(u=l.title)),i.status===400&&!l?u="Bad Request - The server rejected the request. Please check your input data.":i.status===409&&(u=l?.message||"Conflict - The requested operation conflicts with existing data."),new Eg(u,i.status,l)}return typeof l=="string"&&l.includes("<!DOCTYPE html>")?(console.warn(`API endpoint ${e} returned HTML instead of JSON`),{success:!1,error:"API endpoint returned HTML instead of JSON",data:null}):{success:!0,data:l.data||l,message:l.message}}catch(i){if(i instanceof Eg)throw i;return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}const ee={get:(e,t)=>Uc(e,{method:"GET",...t}),post:(e,t,n)=>Uc(e,{method:"POST",body:JSON.stringify(t),...n}),put:(e,t,n)=>Uc(e,{method:"PUT",body:JSON.stringify(t),...n}),patch:(e,t,n)=>Uc(e,{method:"PATCH",body:JSON.stringify(t),...n}),delete:(e,t)=>Uc(e,{method:"DELETE",...t})};class S9{TOKEN_KEY="integration_platform_token";REFRESH_TOKEN_KEY="integration_platform_refresh_token";USER_KEY="integration_platform_user";async login(t){const n=await ee.post("/auth/login",t);return n.success&&n.data&&this.setAuthData(n.data),n}async register(t){return ee.post("/auth/register",t)}async logout(){try{const t=this.getRefreshToken();t&&await ee.post("/auth/logout",{refreshToken:t})}catch(t){console.warn("Logout API call failed:",t)}finally{this.clearAuthData()}return{success:!0}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};const n=await ee.post("/auth/refresh",{refreshToken:t});return n.success&&n.data&&localStorage.setItem(this.TOKEN_KEY,n.data.token),n}async getProfile(){return ee.get("/auth/profile")}async updateProfile(t){return ee.put("/auth/profile",t)}async changePassword(t,n){return ee.post("/auth/change-password",{currentPassword:t,newPassword:n})}async requestPasswordReset(t){return ee.post("/auth/forgot-password",{email:t})}async resetPassword(t,n){return ee.post("/auth/reset-password",{token:t,newPassword:n})}async verifyEmail(t){return ee.post("/auth/verify-email",{token:t})}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{return JSON.parse(atob(t.split(".")[1])).exp>Date.now()/1e3}catch{return!1}}getCurrentUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch{return null}}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}setAuthData(t){localStorage.setItem(this.TOKEN_KEY,t.token),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}clearAuthData(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}hasPermission(t){const n=this.getCurrentUser();if(!n?.permissions)return!1;let r=[];if(typeof n.permissions=="string")try{const a=JSON.parse(n.permissions);r=Array.isArray(a)?a:Object.keys(a)}catch{r=[]}else Array.isArray(n.permissions)&&(r=n.permissions);return r.includes(t)}hasRole(t){return this.getCurrentUser()?.role===t}isAdmin(){return this.hasRole("administrator")}}const un=new S9,wM=h.createContext(void 0),Hr=()=>{const e=h.useContext(wM);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},C9=({children:e})=>{const[t,n]=h.useState(null),[r,a]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(null),d=_s(),{toast:u}=He();h.useEffect(()=>{(async()=>{try{if(window.location.pathname==="/login"){console.log("AuthContext: On login page, skipping auth check"),a(!1);return}const b=un.getToken();if(!b){console.log("AuthContext: No token found, skipping initialization"),a(!1);return}try{const S=JSON.parse(atob(b.split(".")[1])).exp*1e3;if(S<Date.now()){console.log("AuthContext: Token expired, clearing auth data"),localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),a(!1);return}c(S)}catch(E){console.warn("Failed to parse token:",E),a(!1);return}try{const E=await un.getProfile();E.success&&E.data?n(E.data):console.warn("AuthContext: Profile fetch failed")}catch(E){console.warn("AuthContext: Profile fetch error:",E)}}catch(b){console.error("Auth initialization error:",b)}finally{a(!1)}})()},[]),h.useEffect(()=>{if(!l)return;const N=l-Date.now();if(N<=0){p();return}const b=setTimeout(()=>{p()},N);return()=>clearTimeout(b)},[l]);const m=async(N,b,E)=>{try{a(!0);const S=await un.login({username:N,password:b});if(S.success&&S.data){n(S.data.user);const A=Date.now()+S.data.expiresIn*1e3;return c(A),u({title:"Success",description:"Login successful"}),setTimeout(()=>{d(E||"/dashboard")},100),!0}else return u({title:"Error",description:S.error||"Login failed",variant:"destructive"}),!1}catch(S){return console.error("Login error:",S),u({title:"Error",description:"Login failed. Please try again.",variant:"destructive"}),!1}finally{a(!1)}},p=async()=>{try{n(null),c(null),un.logout().catch(N=>{console.warn("Logout API call failed:",N)}),d("/login"),u({title:"Success",description:"Logged out successfully"})}catch(N){console.error("Logout error:",N),d("/login")}},x=()=>!(!un.isAuthenticated()||l&&Date.now()>=l||!t),g=async()=>{try{if(!x())return await p(),!1;const N=await un.getProfile();if(N.success&&N.data){n(N.data);const b=un.getToken();if(b)try{const E=JSON.parse(atob(b.split(".")[1]));c(E.exp*1e3)}catch(E){console.warn("Failed to parse token expiry:",E)}return!0}else return await p(),!1}catch(N){return console.error("Session check error:",N),await p(),!1}},f=()=>o,w=async N=>{try{const b=await un.register({...N,password:"temp123"});b.success&&b.data?(i(E=>[...E,b.data]),u({title:"Success",description:"User created successfully"})):u({title:"Error",description:b.error||"Failed to create user",variant:"destructive"})}catch(b){console.error("Create user error:",b),u({title:"Error",description:"Failed to create user",variant:"destructive"})}},j=async(N,b)=>{try{i(E=>E.map(S=>S.id===N?{...S,...b}:S)),u({title:"Success",description:"User updated successfully"})}catch(E){console.error("Update user error:",E),u({title:"Error",description:"Failed to update user",variant:"destructive"})}},v=async N=>{try{i(b=>b.filter(E=>E.id!==N)),u({title:"Success",description:"User deleted successfully"})}catch(b){console.error("Delete user error:",b),u({title:"Error",description:"Failed to delete user",variant:"destructive"})}},y={user:t,login:m,logout:p,isAuthenticated:!!t&&un.isAuthenticated(),isLoading:r,tokenExpiry:l,checkSession:g,isSessionValid:x,getAllUsers:f,createUser:w,updateUser:j,deleteUser:v};return s.jsx(wM.Provider,{value:y,children:e})},NM=h.createContext(void 0);function E9({children:e}){const{toast:t}=He(),{isAuthenticated:n}=Hr(),[r,a]=h.useState(null),[o,i]=h.useState([]),[l,c]=h.useState(null),[d,u]=h.useState(null),[m,p]=h.useState(!0),x=async()=>{try{const I=await Oe.get("/tenants/current");a(I),localStorage.setItem("currentTenantId",I.id)}catch(I){console.error("Failed to load current tenant:",I)}},g=async()=>{try{const I=await Oe.get("/tenants/my-tenants");i(I)}catch(I){console.error("Failed to load user tenants:",I)}},f=async()=>{if(r)try{const I=await Oe.get(`/tenants/${r.id}/subscription`);c(I)}catch(I){console.error("Failed to load subscription:",I)}},w=async()=>{if(r)try{const I=await Oe.get(`/tenants/${r.id}/usage`);u(I)}catch(I){console.error("Failed to load usage:",I)}},j=async I=>{try{await Oe.post(`/tenants/switch/${I}`),await x(),await f(),await w(),t({title:"Success",description:"Switched tenant successfully"}),window.location.reload()}catch(F){throw t({title:"Error",description:"Failed to switch tenant",variant:"destructive"}),F}},v=async()=>{await g()},y=async()=>{await f()},N=async()=>{await w()},b=I=>l?.features?.includes(I)??!1,E=I=>{if(!d||!d.quotas)return!1;const F=d.quotas[I];return!F||F===-1?!1:A(I)>F},S=I=>{if(!d||!d.quotas)return 0;const F=d.quotas[I];if(!F||F===-1)return 0;const L=A(I);return Math.min(L/F*100,100)},A=I=>{if(!d)return 0;switch(I){case"executions_per_month":return d.executions;case"messages_per_month":return d.messages;case"api_calls_per_month":return d.apiCalls;case"storage_gb":return d.storageGb;case"users":return d.users;case"flows":return d.flows;default:return 0}};h.useEffect(()=>{n&&(async()=>(p(!0),localStorage.getItem("currentTenantId"),await Promise.all([x(),g()]),p(!1)))()},[n]),h.useEffect(()=>{r&&(f(),w())},[r]);const O={currentTenant:r,userTenants:o,subscription:l,usage:d,loading:m,switchTenant:j,refreshTenants:v,refreshSubscription:y,refreshUsage:N,hasFeature:b,isOverQuota:E,getQuotaPercentage:S};return s.jsx(NM.Provider,{value:O,children:e})}function T9(){const e=h.useContext(NM);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}const P9=()=>{const e=ln(),t=Hr?.(),n=t?.isLoading??!1,r=t?.isAuthenticated??!!t?.user??un.isAuthenticated();return n?s.jsx("div",{className:"p-6",children:"Checking session..."}):r?s.jsx(KR,{}):s.jsx(Sp,{to:"/login",replace:!0,state:{from:e}})},Gd=Ni("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const i=r?sn:"button";return s.jsx(i,{className:ne(Gd({variant:t,size:n,className:e})),ref:o,...a})});q.displayName="Button";const A9=Ni("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-100/80 dark:bg-green-900/30 dark:text-green-400",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80 dark:bg-yellow-900/30 dark:text-yellow-400",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-100/80 dark:bg-blue-900/30 dark:text-blue-400"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...n}){return s.jsx("div",{className:ne(A9({variant:t}),e),...n})}var k9=h.createContext(void 0);function xc(e){const t=h.useContext(k9);return e||t||"ltr"}var Tg=0;function YN(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m1()),document.body.insertAdjacentElement("beforeend",e[1]??m1()),Tg++,()=>{Tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tg--}},[])}function m1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pg="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",p1={bubbles:!1,cancelable:!0},R9="FocusScope",Kf=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=It(a),u=It(o),m=h.useRef(null),p=Ue(t,f=>c(f)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let f=function(y){if(x.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:Ra(m.current,{select:!0})},w=function(y){if(x.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Ra(m.current,{select:!0}))},j=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Ra(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const v=new MutationObserver(j);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){x1.add(x);const f=document.activeElement;if(!l.contains(f)){const j=new CustomEvent(Pg,p1);l.addEventListener(Pg,d),l.dispatchEvent(j),j.defaultPrevented||(M9(L9(bM(l)),{select:!0}),document.activeElement===f&&Ra(l))}return()=>{l.removeEventListener(Pg,d),setTimeout(()=>{const j=new CustomEvent(Ag,p1);l.addEventListener(Ag,u),l.dispatchEvent(j),j.defaultPrevented||Ra(f??document.body,{select:!0}),l.removeEventListener(Ag,u),x1.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(f=>{if(!n&&!r||x.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,j=document.activeElement;if(w&&j){const v=f.currentTarget,[y,N]=D9(v);y&&N?!f.shiftKey&&j===N?(f.preventDefault(),n&&Ra(y,{select:!0})):f.shiftKey&&j===y&&(f.preventDefault(),n&&Ra(N,{select:!0})):j===v&&f.preventDefault()}},[n,r,x.paused]);return s.jsx(Pe.div,{tabIndex:-1,...i,ref:p,onKeyDown:g})});Kf.displayName=R9;function M9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ra(r,{select:t}),document.activeElement!==n)return}function D9(e){const t=bM(e),n=f1(t,e),r=f1(t.reverse(),e);return[n,r]}function bM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function f1(e,t){for(const n of e)if(!F9(n,{upTo:t}))return n}function F9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function O9(e){return e instanceof HTMLInputElement&&"select"in e}function Ra(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&O9(e)&&t&&e.select()}}var x1=I9();function I9(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=g1(e,t),e.unshift(t)},remove(t){e=g1(e,t),e[0]?.resume()}}}function g1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function L9(e){return e.filter(t=>t.tagName!=="A")}function _9(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:p,children:x,...g}=m,f=p?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})}function u(m,p){const x=p?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,$9(a,...t)]}function $9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var kg="rovingFocusGroup.onEntryFocus",U9={bubbles:!1,cancelable:!0},Yf="RovingFocusGroup",[Jy,SM,V9]=Ef(Yf),[B9,gc]=_9(Yf,[V9]),[H9,q9]=B9(Yf),CM=h.forwardRef((e,t)=>s.jsx(Jy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Jy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(z9,{...e,ref:t})})}));CM.displayName=Yf;var z9=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,p=h.useRef(null),x=Ue(t,p),g=xc(o),[f=null,w]=zn({prop:i,defaultProp:l,onChange:c}),[j,v]=h.useState(!1),y=It(d),N=SM(n),b=h.useRef(!1),[E,S]=h.useState(0);return h.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(kg,y),()=>A.removeEventListener(kg,y)},[y]),s.jsx(H9,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:f,onItemFocus:h.useCallback(A=>w(A),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>S(A=>A-1),[]),children:s.jsx(Pe.div,{tabIndex:j||E===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{b.current=!0}),onFocus:ge(e.onFocus,A=>{const O=!b.current;if(A.target===A.currentTarget&&O&&!j){const I=new CustomEvent(kg,U9);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const F=N().filter(T=>T.focusable),L=F.find(T=>T.active),U=F.find(T=>T.id===f),P=[L,U,...F].filter(Boolean).map(T=>T.ref.current);PM(P,u)}}b.current=!1}),onBlur:ge(e.onBlur,()=>v(!1))})})}),EM="RovingFocusGroupItem",TM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,l=Un(),c=o||l,d=q9(EM,n),u=d.currentTabStopId===c,m=SM(n),{onFocusableItemAdd:p,onFocusableItemRemove:x}=d;return h.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),s.jsx(Jy.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Pe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ge(e.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ge(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const f=Y9(g,d.orientation,d.dir);if(f!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=m().filter(v=>v.focusable).map(v=>v.ref.current);if(f==="last")j.reverse();else if(f==="prev"||f==="next"){f==="prev"&&j.reverse();const v=j.indexOf(g.currentTarget);j=d.loop?X9(j,v+1):j.slice(v+1)}setTimeout(()=>PM(j))}})})})});TM.displayName=EM;var W9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y9(e,t,n){const r=K9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return W9[r]}function PM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function X9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var XN=CM,GN=TM,G9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fi=new WeakMap,_h=new WeakMap,$h={},Rg=0,AM=function(e){return e&&(e.host||AM(e.parentNode))},J9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=AM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Q9=function(e,t,n,r){var a=J9(t,Array.isArray(e)?e:[e]);$h[n]||($h[n]=new WeakMap);var o=$h[n],i=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))u(p);else try{var x=p.getAttribute(r),g=x!==null&&x!=="false",f=(Fi.get(p)||0)+1,w=(o.get(p)||0)+1;Fi.set(p,f),o.set(p,w),i.push(p),f===1&&g&&_h.set(p,!0),w===1&&p.setAttribute(n,"true"),g||p.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return u(t),l.clear(),Rg++,function(){i.forEach(function(m){var p=Fi.get(m)-1,x=o.get(m)-1;Fi.set(m,p),o.set(m,x),p||(_h.has(m)||m.removeAttribute(r),_h.delete(m)),x||m.removeAttribute(n)}),Rg--,Rg||(Fi=new WeakMap,Fi=new WeakMap,_h=new WeakMap,$h={})}},_u=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=G9(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Q9(r,a,n,"aria-hidden")):function(){return null}},Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wt.apply(this,arguments)};function Xf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function JN(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var bl="right-scroll-bar-position",Sl="width-before-scroll-bar",Z9="with-scroll-bars-hidden",e7="--removed-body-scroll-bar-size";function Mg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function t7(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var s7=typeof window<"u"?h.useLayoutEffect:h.useEffect,v1=new WeakMap;function QN(e,t){var n=t7(null,function(r){return e.forEach(function(a){return Mg(a,r)})});return s7(function(){var r=v1.get(n);if(r){var a=new Set(r),o=new Set(e),i=n.current;a.forEach(function(l){o.has(l)||Mg(l,null)}),o.forEach(function(l){a.has(l)||Mg(l,i)})}v1.set(n,e)},[e]),n}function n7(e){return e}function r7(e,t){t===void 0&&(t=n7);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),n}}}};return a}function ZN(e){e===void 0&&(e={});var t=r7(null);return t.options=Wt({async:!0,ssr:!1},e),t}var kM=function(e){var t=e.sideCar,n=Xf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Wt({},n))};kM.isSideCarExport=!0;function e0(e,t){return e.useMedium(t),kM}var RM=ZN(),Dg=function(){},Gf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,x=e.noIsolation,g=e.inert,f=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,v=e.gapMode,y=Xf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,b=QN([n,t]),E=Wt(Wt({},y),a);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:RM,removeScrollBar:d,shards:m,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!f,lockRef:n,gapMode:v}),i?h.cloneElement(h.Children.only(l),Wt(Wt({},E),{ref:b})):h.createElement(j,Wt({},E,{className:c,ref:b}),l))});Gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gf.classNames={fullWidth:Sl,zeroRight:bl};var a7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a7();return t&&e.setAttribute("nonce",t),e}function i7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o7())&&(i7(t,n),l7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d7=function(){var e=c7();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Jf=function(){var e=d7(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},u7={left:0,top:0,right:0,gap:0},Fg=function(e){return parseInt(e||"",10)||0},h7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Fg(n),Fg(r),Fg(a)]},m7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u7;var t=h7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},p7=Jf(),Cl="data-scroll-locked",f7=function(e,t,n,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Cl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sl," .").concat(Sl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cl,`] {
    `).concat(e7,": ").concat(l,`px;
  }
`)},y1=function(){var e=parseInt(document.body.getAttribute(Cl)||"0",10);return isFinite(e)?e:0},x7=function(){h.useEffect(function(){return document.body.setAttribute(Cl,(y1()+1).toString()),function(){var e=y1()-1;e<=0?document.body.removeAttribute(Cl):document.body.setAttribute(Cl,e.toString())}},[])},t0=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;x7();var o=h.useMemo(function(){return m7(a)},[a]);return h.createElement(p7,{styles:f7(o,!t,a,n?"":"!important")})},Qy=!1;if(typeof window<"u")try{var Uh=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",Uh,Uh),window.removeEventListener("test",Uh,Uh)}catch{Qy=!1}var Oi=Qy?{passive:!1}:!1,g7=function(e){return e.tagName==="TEXTAREA"},MM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!g7(e)&&n[t]==="visible")},v7=function(e){return MM(e,"overflowY")},y7=function(e){return MM(e,"overflowX")},j1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=DM(e,r);if(a){var o=FM(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},j7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},w7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},DM=function(e,t){return e==="v"?v7(t):y7(t)},FM=function(e,t){return e==="v"?j7(t):w7(t)},N7=function(e,t){return e==="h"&&t==="rtl"?-1:1},b7=function(e,t,n,r,a){var o=N7(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,p=0;do{var x=FM(e,l),g=x[0],f=x[1],w=x[2],j=f-w-o*g;(g||j)&&DM(e,l)&&(m+=j,p+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(p)<1||!a))&&(d=!0),d},Vh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w1=function(e){return[e.deltaX,e.deltaY]},N1=function(e){return e&&"current"in e?e.current:e},S7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E7=0,Ii=[];function T7(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(E7++)[0],o=h.useState(Jf)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=JN([e.lockRef.current],(e.shards||[]).map(N1),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(f,w){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!i.current.allowPinchZoom;var j=Vh(f),v=n.current,y="deltaX"in f?f.deltaX:v[0]-j[0],N="deltaY"in f?f.deltaY:v[1]-j[1],b,E=f.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in f&&S==="h"&&E.type==="range")return!1;var A=j1(S,E);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=j1(S,E)),!A)return!1;if(!r.current&&"changedTouches"in f&&(y||N)&&(r.current=b),!b)return!0;var O=r.current||b;return b7(O,w,f,O==="h"?y:N,!0)},[]),c=h.useCallback(function(f){var w=f;if(!(!Ii.length||Ii[Ii.length-1]!==o)){var j="deltaY"in w?w1(w):Vh(w),v=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&S7(b.delta,j)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(N1).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(f,w,j,v){var y={name:f,delta:w,target:j,should:v,shadowParent:P7(j)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=h.useCallback(function(f){n.current=Vh(f),r.current=void 0},[]),m=h.useCallback(function(f){d(f.type,w1(f),f.target,l(f,e.lockRef.current))},[]),p=h.useCallback(function(f){d(f.type,Vh(f),f.target,l(f,e.lockRef.current))},[]);h.useEffect(function(){return Ii.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Oi),document.addEventListener("touchmove",c,Oi),document.addEventListener("touchstart",u,Oi),function(){Ii=Ii.filter(function(f){return f!==o}),document.removeEventListener("wheel",c,Oi),document.removeEventListener("touchmove",c,Oi),document.removeEventListener("touchstart",u,Oi)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:C7(a)}):null,x?h.createElement(t0,{gapMode:e.gapMode}):null)}function P7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A7=e0(RM,T7);var Qf=h.forwardRef(function(e,t){return h.createElement(Gf,Wt({},e,{ref:t,sideCar:A7}))});Qf.classNames=Gf.classNames;var Zy=["Enter"," "],k7=["ArrowDown","PageUp","Home"],OM=["ArrowUp","PageDown","End"],R7=[...k7,...OM],M7={ltr:[...Zy,"ArrowRight"],rtl:[...Zy,"ArrowLeft"]},D7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[Jd,F7,O7]=Ef($u),[Si,IM]=on($u,[O7,uc,gc]),Zf=uc(),LM=gc(),[I7,Ci]=Si($u),[L7,Uu]=Si($u),_M=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=Zf(t),[c,d]=h.useState(null),u=h.useRef(!1),m=It(o),p=xc(a);return h.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(IN,{...l,children:s.jsx(I7,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(L7,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:p,modal:i,children:r})})})};_M.displayName=$u;var _7="MenuAnchor",s0=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return s.jsx(LN,{...a,...r,ref:t})});s0.displayName=_7;var n0="MenuPortal",[$7,$M]=Si(n0,{forceMount:void 0}),UM=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Ci(n0,t);return s.jsx($7,{scope:t,forceMount:n,children:s.jsx(us,{present:n||o.open,children:s.jsx(Cu,{asChild:!0,container:a,children:r})})})};UM.displayName=n0;var Vn="MenuContent",[U7,r0]=Si(Vn),VM=h.forwardRef((e,t)=>{const n=$M(Vn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Ci(Vn,e.__scopeMenu),i=Uu(Vn,e.__scopeMenu);return s.jsx(Jd.Provider,{scope:e.__scopeMenu,children:s.jsx(us,{present:r||o.open,children:s.jsx(Jd.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(V7,{...a,ref:t}):s.jsx(B7,{...a,ref:t})})})})}),V7=h.forwardRef((e,t)=>{const n=Ci(Vn,e.__scopeMenu),r=h.useRef(null),a=Ue(t,r);return h.useEffect(()=>{const o=r.current;if(o)return _u(o)},[]),s.jsx(a0,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),B7=h.forwardRef((e,t)=>{const n=Ci(Vn,e.__scopeMenu);return s.jsx(a0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a0=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:x,disableOutsideScroll:g,...f}=e,w=Ci(Vn,n),j=Uu(Vn,n),v=Zf(n),y=LM(n),N=F7(n),[b,E]=h.useState(null),S=h.useRef(null),A=Ue(t,S,w.onContentChange),O=h.useRef(0),I=h.useRef(""),F=h.useRef(0),L=h.useRef(null),U=h.useRef("right"),k=h.useRef(0),P=g?Qf:h.Fragment,T=g?{as:sn,allowPinchZoom:!0}:void 0,R=$=>{const V=I.current+$,B=N().filter(Z=>!Z.disabled),H=document.activeElement,z=B.find(Z=>Z.ref.current===H)?.textValue,Q=B.map(Z=>Z.textValue),ie=eW(Q,V,z),he=B.find(Z=>Z.textValue===ie)?.ref.current;(function Z(le){I.current=le,window.clearTimeout(O.current),le!==""&&(O.current=window.setTimeout(()=>Z(""),1e3))})(V),he&&setTimeout(()=>he.focus())};h.useEffect(()=>()=>window.clearTimeout(O.current),[]),YN();const D=h.useCallback($=>U.current===L.current?.side&&sW($,L.current?.area),[]);return s.jsx(U7,{scope:n,searchRef:I,onItemEnter:h.useCallback($=>{D($)&&$.preventDefault()},[D]),onItemLeave:h.useCallback($=>{D($)||(S.current?.focus(),E(null))},[D]),onTriggerLeave:h.useCallback($=>{D($)&&$.preventDefault()},[D]),pointerGraceTimerRef:F,onPointerGraceIntentChange:h.useCallback($=>{L.current=$},[]),children:s.jsx(P,{...T,children:s.jsx(Kf,{asChild:!0,trapped:a,onMountAutoFocus:ge(o,$=>{$.preventDefault(),S.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(oc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:p,onDismiss:x,children:s.jsx(XN,{asChild:!0,...y,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:E,onEntryFocus:ge(c,$=>{j.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(_N,{role:"menu","aria-orientation":"vertical","data-state":nD(w.open),"data-radix-menu-content":"",dir:j.dir,...v,...f,ref:A,style:{outline:"none",...f.style},onKeyDown:ge(f.onKeyDown,$=>{const B=$.target.closest("[data-radix-menu-content]")===$.currentTarget,H=$.ctrlKey||$.altKey||$.metaKey,z=$.key.length===1;B&&($.key==="Tab"&&$.preventDefault(),!H&&z&&R($.key));const Q=S.current;if($.target!==Q||!R7.includes($.key))return;$.preventDefault();const he=N().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);OM.includes($.key)&&he.reverse(),Q7(he)}),onBlur:ge(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(O.current),I.current="")}),onPointerMove:ge(e.onPointerMove,Qd($=>{const V=$.target,B=k.current!==$.clientX;if($.currentTarget.contains(V)&&B){const H=$.clientX>k.current?"right":"left";U.current=H,k.current=$.clientX}}))})})})})})})});VM.displayName=Vn;var H7="MenuGroup",o0=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{role:"group",...r,ref:t})});o0.displayName=H7;var q7="MenuLabel",BM=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{...r,ref:t})});BM.displayName=q7;var Pp="MenuItem",b1="menu.itemSelect",ex=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=h.useRef(null),i=Uu(Pp,e.__scopeMenu),l=r0(Pp,e.__scopeMenu),c=Ue(t,o),d=h.useRef(!1),u=()=>{const m=o.current;if(!n&&m){const p=new CustomEvent(b1,{bubbles:!0,cancelable:!0});m.addEventListener(b1,x=>r?.(x),{once:!0}),xN(m,p),p.defaultPrevented?d.current=!1:i.onClose()}};return s.jsx(HM,{...a,ref:c,disabled:n,onClick:ge(e.onClick,u),onPointerDown:m=>{e.onPointerDown?.(m),d.current=!0},onPointerUp:ge(e.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:ge(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||Zy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});ex.displayName=Pp;var HM=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,i=r0(Pp,n),l=LM(n),c=h.useRef(null),d=Ue(t,c),[u,m]=h.useState(!1),[p,x]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[o.children]),s.jsx(Jd.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:s.jsx(GN,{asChild:!0,...l,focusable:!r,children:s.jsx(Pe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:ge(e.onPointerMove,Qd(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,Qd(g=>i.onItemLeave(g))),onFocus:ge(e.onFocus,()=>m(!0)),onBlur:ge(e.onBlur,()=>m(!1))})})})}),z7="MenuCheckboxItem",qM=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(XM,{scope:e.__scopeMenu,checked:n,children:s.jsx(ex,{role:"menuitemcheckbox","aria-checked":Ap(n)?"mixed":n,...a,ref:t,"data-state":l0(n),onSelect:ge(a.onSelect,()=>r?.(Ap(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qM.displayName=z7;var zM="MenuRadioGroup",[W7,K7]=Si(zM,{value:void 0,onValueChange:()=>{}}),WM=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=It(r);return s.jsx(W7,{scope:e.__scopeMenu,value:n,onValueChange:o,children:s.jsx(o0,{...a,ref:t})})});WM.displayName=zM;var KM="MenuRadioItem",YM=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=K7(KM,e.__scopeMenu),o=n===a.value;return s.jsx(XM,{scope:e.__scopeMenu,checked:o,children:s.jsx(ex,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":l0(o),onSelect:ge(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});YM.displayName=KM;var i0="MenuItemIndicator",[XM,Y7]=Si(i0,{checked:!1}),GM=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=Y7(i0,n);return s.jsx(us,{present:r||Ap(o.checked)||o.checked===!0,children:s.jsx(Pe.span,{...a,ref:t,"data-state":l0(o.checked)})})});GM.displayName=i0;var X7="MenuSeparator",JM=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});JM.displayName=X7;var G7="MenuArrow",QM=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return s.jsx($N,{...a,...r,ref:t})});QM.displayName=G7;var J7="MenuSub",[$ve,ZM]=Si(J7),Qc="MenuSubTrigger",eD=h.forwardRef((e,t)=>{const n=Ci(Qc,e.__scopeMenu),r=Uu(Qc,e.__scopeMenu),a=ZM(Qc,e.__scopeMenu),o=r0(Qc,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(s0,{asChild:!0,...d,children:s.jsx(HM,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":nD(n.open),...e,ref:Cf(t,a.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,Qd(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ge(e.onPointerLeave,Qd(m=>{u();const p=n.content?.getBoundingClientRect();if(p){const x=n.content?.dataset.side,g=x==="right",f=g?-5:5,w=p[g?"left":"right"],j=p[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+f,y:m.clientY},{x:w,y:p.top},{x:j,y:p.top},{x:j,y:p.bottom},{x:w,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,m=>{const p=o.searchRef.current!=="";e.disabled||p&&m.key===" "||M7[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});eD.displayName=Qc;var tD="MenuSubContent",sD=h.forwardRef((e,t)=>{const n=$M(Vn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Ci(Vn,e.__scopeMenu),i=Uu(Vn,e.__scopeMenu),l=ZM(tD,e.__scopeMenu),c=h.useRef(null),d=Ue(t,c);return s.jsx(Jd.Provider,{scope:e.__scopeMenu,children:s.jsx(us,{present:r||o.open,children:s.jsx(Jd.Slot,{scope:e.__scopeMenu,children:s.jsx(a0,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ge(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ge(e.onKeyDown,u=>{const m=u.currentTarget.contains(u.target),p=D7[i.dir].includes(u.key);m&&p&&(o.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});sD.displayName=tD;function nD(e){return e?"open":"closed"}function Ap(e){return e==="indeterminate"}function l0(e){return Ap(e)?"indeterminate":e?"checked":"unchecked"}function Q7(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Z7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function eW(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Z7(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function tW(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,d=t[i].x,u=t[i].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function sW(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return tW(n,t)}function Qd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nW=_M,rW=s0,aW=UM,oW=VM,iW=o0,lW=BM,cW=ex,dW=qM,uW=WM,hW=YM,mW=GM,pW=JM,fW=QM,xW=eD,gW=sD,c0="DropdownMenu",[vW,Uve]=on(c0,[IM]),$s=IM(),[yW,rD]=vW(c0),aD=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=$s(t),d=h.useRef(null),[u=!1,m]=zn({prop:a,defaultProp:o,onChange:i});return s.jsx(yW,{scope:t,triggerId:Un(),triggerRef:d,contentId:Un(),open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(nW,{...c,open:u,onOpenChange:m,dir:r,modal:l,children:n})})};aD.displayName=c0;var oD="DropdownMenuTrigger",iD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=rD(oD,n),i=$s(n);return s.jsx(rW,{asChild:!0,...i,children:s.jsx(Pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Cf(t,o.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iD.displayName=oD;var jW="DropdownMenuPortal",lD=e=>{const{__scopeDropdownMenu:t,...n}=e,r=$s(t);return s.jsx(aW,{...r,...n})};lD.displayName=jW;var cD="DropdownMenuContent",dD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=rD(cD,n),o=$s(n),i=h.useRef(!1);return s.jsx(oW,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{i.current||a.triggerRef.current?.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dD.displayName=cD;var wW="DropdownMenuGroup",NW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(iW,{...a,...r,ref:t})});NW.displayName=wW;var bW="DropdownMenuLabel",uD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(lW,{...a,...r,ref:t})});uD.displayName=bW;var SW="DropdownMenuItem",hD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(cW,{...a,...r,ref:t})});hD.displayName=SW;var CW="DropdownMenuCheckboxItem",mD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(dW,{...a,...r,ref:t})});mD.displayName=CW;var EW="DropdownMenuRadioGroup",TW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(uW,{...a,...r,ref:t})});TW.displayName=EW;var PW="DropdownMenuRadioItem",pD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(hW,{...a,...r,ref:t})});pD.displayName=PW;var AW="DropdownMenuItemIndicator",fD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(mW,{...a,...r,ref:t})});fD.displayName=AW;var kW="DropdownMenuSeparator",xD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(pW,{...a,...r,ref:t})});xD.displayName=kW;var RW="DropdownMenuArrow",MW=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(fW,{...a,...r,ref:t})});MW.displayName=RW;var DW="DropdownMenuSubTrigger",gD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(xW,{...a,...r,ref:t})});gD.displayName=DW;var FW="DropdownMenuSubContent",vD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=$s(n);return s.jsx(gW,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vD.displayName=FW;var OW=aD,IW=iD,LW=lD,yD=dD,jD=uD,wD=hD,ND=mD,bD=pD,SD=fD,CD=xD,ED=gD,TD=vD;const Ei=OW,Ti=IW,_W=h.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(ED,{ref:a,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(nn,{className:"ml-auto h-4 w-4"})]}));_W.displayName=ED.displayName;const $W=h.forwardRef(({className:e,...t},n)=>s.jsx(TD,{ref:n,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$W.displayName=TD.displayName;const yo=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(LW,{children:s.jsx(yD,{ref:r,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));yo.displayName=yD.displayName;const lt=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(wD,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));lt.displayName=wD.displayName;const UW=h.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(ND,{ref:a,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SD,{children:s.jsx(Tu,{className:"h-4 w-4"})})}),t]}));UW.displayName=ND.displayName;const VW=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(bD,{ref:r,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SD,{children:s.jsx(rl,{className:"h-2 w-2 fill-current"})})}),t]}));VW.displayName=bD.displayName;const tx=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(jD,{ref:r,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));tx.displayName=jD.displayName;const Ws=h.forwardRef(({className:e,...t},n)=>s.jsx(CD,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Ws.displayName=CD.displayName;function ej(e,[t,n]){return Math.min(n,Math.max(t,e))}function sx(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var BW=[" ","Enter","ArrowUp","ArrowDown"],HW=[" ","Enter"],Vu="Select",[nx,rx,qW]=Ef(Vu),[vc,Vve]=on(Vu,[qW,uc]),ax=uc(),[zW,jo]=vc(Vu),[WW,KW]=vc(Vu),PD=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:p,required:x,form:g}=e,f=ax(t),[w,j]=h.useState(null),[v,y]=h.useState(null),[N,b]=h.useState(!1),E=xc(d),[S=!1,A]=zn({prop:r,defaultProp:a,onChange:o}),[O,I]=zn({prop:i,defaultProp:l,onChange:c}),F=h.useRef(null),L=w?g||!!w.closest("form"):!0,[U,k]=h.useState(new Set),P=Array.from(U).map(T=>T.props.value).join(";");return s.jsx(IN,{...f,children:s.jsxs(zW,{required:x,scope:t,trigger:w,onTriggerChange:j,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:Un(),value:O,onValueChange:I,open:S,onOpenChange:A,dir:E,triggerPointerDownPosRef:F,disabled:p,children:[s.jsx(nx.Provider,{scope:t,children:s.jsx(WW,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(T=>{k(R=>new Set(R).add(T))},[]),onNativeOptionRemove:h.useCallback(T=>{k(R=>{const D=new Set(R);return D.delete(T),D})},[]),children:n})}),L?s.jsxs(ZD,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:m,value:O,onChange:T=>I(T.target.value),disabled:p,form:g,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},P):null]})})};PD.displayName=Vu;var AD="SelectTrigger",kD=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,o=ax(n),i=jo(AD,n),l=i.disabled||r,c=Ue(t,i.onTriggerChange),d=rx(n),u=h.useRef("touch"),[m,p,x]=eF(f=>{const w=d().filter(y=>!y.disabled),j=w.find(y=>y.value===i.value),v=tF(w,f,j);v!==void 0&&i.onValueChange(v.value)}),g=f=>{l||(i.onOpenChange(!0),x()),f&&(i.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return s.jsx(LN,{asChild:!0,...o,children:s.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QD(i.value)?"":void 0,...a,ref:c,onClick:ge(a.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&g(f)}),onPointerDown:ge(a.onPointerDown,f=>{u.current=f.pointerType;const w=f.target;w.hasPointerCapture(f.pointerId)&&w.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(g(f),f.preventDefault())}),onKeyDown:ge(a.onKeyDown,f=>{const w=m.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&p(f.key),!(w&&f.key===" ")&&BW.includes(f.key)&&(g(),f.preventDefault())})})})});kD.displayName=AD;var RD="SelectValue",MD=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:i="",...l}=e,c=jo(RD,n),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=Ue(t,c.onValueNodeChange);return cs(()=>{d(u)},[d,u]),s.jsx(Pe.span,{...l,ref:m,style:{pointerEvents:"none"},children:QD(c.value)?s.jsx(s.Fragment,{children:i}):o})});MD.displayName=RD;var YW="SelectIcon",DD=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Pe.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});DD.displayName=YW;var XW="SelectPortal",FD=e=>s.jsx(Cu,{asChild:!0,...e});FD.displayName=XW;var li="SelectContent",OD=h.forwardRef((e,t)=>{const n=jo(li,e.__scopeSelect),[r,a]=h.useState();if(cs(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?vr.createPortal(s.jsx(ID,{scope:e.__scopeSelect,children:s.jsx(nx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(LD,{...e,ref:t})});OD.displayName=li;var Gn=10,[ID,wo]=vc(li),GW="SelectContentImpl",LD=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:g,hideWhenDetached:f,avoidCollisions:w,...j}=e,v=jo(li,n),[y,N]=h.useState(null),[b,E]=h.useState(null),S=Ue(t,Z=>N(Z)),[A,O]=h.useState(null),[I,F]=h.useState(null),L=rx(n),[U,k]=h.useState(!1),P=h.useRef(!1);h.useEffect(()=>{if(y)return _u(y)},[y]),YN();const T=h.useCallback(Z=>{const[le,...fe]=L().map(je=>je.ref.current),[be]=fe.slice(-1),Ae=document.activeElement;for(const je of Z)if(je===Ae||(je?.scrollIntoView({block:"nearest"}),je===le&&b&&(b.scrollTop=0),je===be&&b&&(b.scrollTop=b.scrollHeight),je?.focus(),document.activeElement!==Ae))return},[L,b]),R=h.useCallback(()=>T([A,y]),[T,A,y]);h.useEffect(()=>{U&&R()},[U,R]);const{onOpenChange:D,triggerPointerDownPosRef:$}=v;h.useEffect(()=>{if(y){let Z={x:0,y:0};const le=be=>{Z={x:Math.abs(Math.round(be.pageX)-($.current?.x??0)),y:Math.abs(Math.round(be.pageY)-($.current?.y??0))}},fe=be=>{Z.x<=10&&Z.y<=10?be.preventDefault():y.contains(be.target)||D(!1),document.removeEventListener("pointermove",le),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",fe,{capture:!0})}}},[y,D,$]),h.useEffect(()=>{const Z=()=>D(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[D]);const[V,B]=eF(Z=>{const le=L().filter(Ae=>!Ae.disabled),fe=le.find(Ae=>Ae.ref.current===document.activeElement),be=tF(le,Z,fe);be&&setTimeout(()=>be.ref.current.focus())}),H=h.useCallback((Z,le,fe)=>{const be=!P.current&&!fe;(v.value!==void 0&&v.value===le||be)&&(O(Z),be&&(P.current=!0))},[v.value]),z=h.useCallback(()=>y?.focus(),[y]),Q=h.useCallback((Z,le,fe)=>{const be=!P.current&&!fe;(v.value!==void 0&&v.value===le||be)&&F(Z)},[v.value]),ie=r==="popper"?tj:_D,he=ie===tj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:g,hideWhenDetached:f,avoidCollisions:w}:{};return s.jsx(ID,{scope:n,content:y,viewport:b,onViewportChange:E,itemRefCallback:H,selectedItem:A,onItemLeave:z,itemTextRefCallback:Q,focusSelectedItem:R,selectedItemText:I,position:r,isPositioned:U,searchRef:V,children:s.jsx(Qf,{as:sn,allowPinchZoom:!0,children:s.jsx(Kf,{asChild:!0,trapped:v.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ge(a,Z=>{v.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:s.jsx(oc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Z=>Z.preventDefault(),...j,...he,onPlaced:()=>k(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:ge(j.onKeyDown,Z=>{const le=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!le&&Z.key.length===1&&B(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let be=L().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Ae=Z.target,je=be.indexOf(Ae);be=be.slice(je+1)}setTimeout(()=>T(be)),Z.preventDefault()}})})})})})})});LD.displayName=GW;var JW="SelectItemAlignedPosition",_D=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,o=jo(li,n),i=wo(li,n),[l,c]=h.useState(null),[d,u]=h.useState(null),m=Ue(t,S=>u(S)),p=rx(n),x=h.useRef(!1),g=h.useRef(!0),{viewport:f,selectedItem:w,selectedItemText:j,focusSelectedItem:v}=i,y=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&f&&w&&j){const S=o.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),I=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ae=I.left-A.left,je=O.left-Ae,ke=S.left-je,De=S.width+ke,nt=Math.max(De,A.width),Ft=window.innerWidth-Gn,Gt=ej(je,[Gn,Math.max(Gn,Ft-nt)]);l.style.minWidth=De+"px",l.style.left=Gt+"px"}else{const Ae=A.right-I.right,je=window.innerWidth-O.right-Ae,ke=window.innerWidth-S.right-je,De=S.width+ke,nt=Math.max(De,A.width),Ft=window.innerWidth-Gn,Gt=ej(je,[Gn,Math.max(Gn,Ft-nt)]);l.style.minWidth=De+"px",l.style.right=Gt+"px"}const F=p(),L=window.innerHeight-Gn*2,U=f.scrollHeight,k=window.getComputedStyle(d),P=parseInt(k.borderTopWidth,10),T=parseInt(k.paddingTop,10),R=parseInt(k.borderBottomWidth,10),D=parseInt(k.paddingBottom,10),$=P+T+U+D+R,V=Math.min(w.offsetHeight*5,$),B=window.getComputedStyle(f),H=parseInt(B.paddingTop,10),z=parseInt(B.paddingBottom,10),Q=S.top+S.height/2-Gn,ie=L-Q,he=w.offsetHeight/2,Z=w.offsetTop+he,le=P+T+Z,fe=$-le;if(le<=Q){const Ae=F.length>0&&w===F[F.length-1].ref.current;l.style.bottom="0px";const je=d.clientHeight-f.offsetTop-f.offsetHeight,ke=Math.max(ie,he+(Ae?z:0)+je+R),De=le+ke;l.style.height=De+"px"}else{const Ae=F.length>0&&w===F[0].ref.current;l.style.top="0px";const ke=Math.max(Q,P+f.offsetTop+(Ae?H:0)+he)+fe;l.style.height=ke+"px",f.scrollTop=le-Q+f.offsetTop}l.style.margin=`${Gn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=L+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[p,o.trigger,o.valueNode,l,d,f,w,j,o.dir,r]);cs(()=>y(),[y]);const[N,b]=h.useState();cs(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const E=h.useCallback(S=>{S&&g.current===!0&&(y(),v?.(),g.current=!1)},[y,v]);return s.jsx(ZW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Pe.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});_D.displayName=JW;var QW="SelectPopperPosition",tj=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Gn,...o}=e,i=ax(n);return s.jsx(_N,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tj.displayName=QW;var[ZW,d0]=vc(li,{}),sj="SelectViewport",$D=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,o=wo(sj,n),i=d0(sj,n),l=Ue(t,o.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(nx.Slot,{scope:n,children:s.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ge(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=i;if(p?.current&&m){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-Gn*2,f=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),j=Math.max(f,w);if(j<g){const v=j+x,y=Math.min(g,v),N=v-y;m.style.height=y+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});$D.displayName=sj;var UD="SelectGroup",[eK,tK]=vc(UD),sK=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Un();return s.jsx(eK,{scope:n,id:a,children:s.jsx(Pe.div,{role:"group","aria-labelledby":a,...r,ref:t})})});sK.displayName=UD;var VD="SelectLabel",BD=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=tK(VD,n);return s.jsx(Pe.div,{id:a.id,...r,ref:t})});BD.displayName=VD;var kp="SelectItem",[nK,HD]=vc(kp),qD=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...i}=e,l=jo(kp,n),c=wo(kp,n),d=l.value===r,[u,m]=h.useState(o??""),[p,x]=h.useState(!1),g=Ue(t,v=>c.itemRefCallback?.(v,r,a)),f=Un(),w=h.useRef("touch"),j=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nK,{scope:n,value:r,disabled:a,textId:f,isSelected:d,onItemTextChange:h.useCallback(v=>{m(y=>y||(v?.textContent??"").trim())},[]),children:s.jsx(nx.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Pe.div,{role:"option","aria-labelledby":f,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:ge(i.onFocus,()=>x(!0)),onBlur:ge(i.onBlur,()=>x(!1)),onClick:ge(i.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:ge(i.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:ge(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:ge(i.onPointerMove,v=>{w.current=v.pointerType,a?c.onItemLeave?.():w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(i.onPointerLeave,v=>{v.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ge(i.onKeyDown,v=>{c.searchRef?.current!==""&&v.key===" "||(HW.includes(v.key)&&j(),v.key===" "&&v.preventDefault())})})})})});qD.displayName=kp;var Zc="SelectItemText",zD=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...o}=e,i=jo(Zc,n),l=wo(Zc,n),c=HD(Zc,n),d=KW(Zc,n),[u,m]=h.useState(null),p=Ue(t,j=>m(j),c.onItemTextChange,j=>l.itemTextRefCallback?.(j,c.value,c.disabled)),x=u?.textContent,g=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:f,onNativeOptionRemove:w}=d;return cs(()=>(f(g),()=>w(g)),[f,w,g]),s.jsxs(s.Fragment,{children:[s.jsx(Pe.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?vr.createPortal(o.children,i.valueNode):null]})});zD.displayName=Zc;var WD="SelectItemIndicator",KD=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return HD(WD,n).isSelected?s.jsx(Pe.span,{"aria-hidden":!0,...r,ref:t}):null});KD.displayName=WD;var nj="SelectScrollUpButton",YD=h.forwardRef((e,t)=>{const n=wo(nj,e.__scopeSelect),r=d0(nj,e.__scopeSelect),[a,o]=h.useState(!1),i=Ue(t,r.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(GD,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YD.displayName=nj;var rj="SelectScrollDownButton",XD=h.forwardRef((e,t)=>{const n=wo(rj,e.__scopeSelect),r=d0(rj,e.__scopeSelect),[a,o]=h.useState(!1),i=Ue(t,r.onScrollButtonChange);return cs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(GD,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});XD.displayName=rj;var GD=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,o=wo("SelectScrollButton",n),i=h.useRef(null),l=rx(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),cs(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Pe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ge(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ge(a.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ge(a.onPointerLeave,()=>{c()})})}),rK="SelectSeparator",JD=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Pe.div,{"aria-hidden":!0,...r,ref:t})});JD.displayName=rK;var aj="SelectArrow",aK=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ax(n),o=jo(aj,n),i=wo(aj,n);return o.open&&i.position==="popper"?s.jsx($N,{...a,...r,ref:t}):null});aK.displayName=aj;function QD(e){return e===""||e===void 0}var ZD=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=h.useRef(null),o=Ue(t,a),i=sx(n);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&u){const m=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(m)}},[i,n]),s.jsx(Eu,{asChild:!0,children:s.jsx("select",{...r,ref:o,defaultValue:n})})});ZD.displayName="BubbleSelect";function eF(e){const t=It(e),n=h.useRef(""),r=h.useRef(0),a=h.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function tF(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=oK(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function oK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iK=PD,sF=kD,lK=MD,cK=DD,dK=FD,nF=OD,uK=$D,rF=BD,aF=qD,hK=zD,mK=KD,oF=YD,iF=XD,lF=JD;const G=iK,J=lK,Y=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(sF,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(cK,{asChild:!0,children:s.jsx(cr,{className:"h-4 w-4 opacity-50"})})]}));Y.displayName=sF.displayName;const cF=h.forwardRef(({className:e,...t},n)=>s.jsx(oF,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l8,{className:"h-4 w-4"})}));cF.displayName=oF.displayName;const dF=h.forwardRef(({className:e,...t},n)=>s.jsx(iF,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(cr,{className:"h-4 w-4"})}));dF.displayName=iF.displayName;const X=h.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(dK,{children:s.jsxs(nF,{ref:a,className:ne("relative z-[10000] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(cF,{}),s.jsx(uK,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(dF,{})]})}));X.displayName=nF.displayName;const pK=h.forwardRef(({className:e,...t},n)=>s.jsx(rF,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pK.displayName=rF.displayName;const M=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(aF,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mK,{children:s.jsx(Tu,{className:"h-4 w-4"})})}),s.jsx(hK,{children:t})]}));M.displayName=aF.displayName;const fK=h.forwardRef(({className:e,...t},n)=>s.jsx(lF,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));fK.displayName=lF.displayName;function Re({className:e,...t}){return s.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}function xK(){const{currentTenant:e,userTenants:t,loading:n,switchTenant:r}=T9();if(n)return s.jsx(Re,{className:"h-10 w-48"});if(!e||t.length===0)return null;const a=i=>{switch(i){case"TENANT_OWNER":return s.jsx(jN,{className:"h-3 w-3"});case"TENANT_ADMIN":return s.jsx(io,{className:"h-3 w-3"});case"VIEWER":return s.jsx(ha,{className:"h-3 w-3"});default:return null}},o=i=>{switch(i){case"TENANT_OWNER":case"TENANT_ADMIN":return"default";case"VIEWER":return"secondary";default:return"outline"}};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(G,{value:e.id,onValueChange:r,children:[s.jsx(Y,{className:"w-48",children:s.jsx(J,{placeholder:"Select tenant"})}),s.jsx(X,{children:t.map(i=>s.jsx(M,{value:i.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:i.displayName||i.name}),i.primary&&s.jsx(ae,{variant:"outline",className:"text-xs",children:"Primary"})]}),i.userRole&&s.jsxs(ae,{variant:o(i.userRole),className:"ml-2 text-xs",children:[a(i.userRole),s.jsx("span",{className:"ml-1",children:i.userRole.replace("TENANT_","")})]})]})},i.id))})]})]})}const Og=768;function gK(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Og-1}px)`),r=()=>{t(window.innerWidth<Og)};return n.addEventListener("change",r),t(window.innerWidth<Og),()=>n.removeEventListener("change",r)},[]),!!e}const _=h.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));_.displayName="Input";var vK="Separator",S1="horizontal",yK=["horizontal","vertical"],uF=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=S1,...a}=e,o=jK(r)?r:S1,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Pe.div,{"data-orientation":o,...l,...a,ref:t})});uF.displayName=vK;function jK(e){return yK.includes(e)}var hF=uF;const mt=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(hF,{ref:a,decorative:n,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));mt.displayName=hF.displayName;var u0="Dialog",[mF,pF]=on(u0),[wK,jr]=mF(u0),fF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=zn({prop:r,defaultProp:a,onChange:o});return s.jsx(wK,{scope:t,triggerRef:l,contentRef:c,contentId:Un(),titleId:Un(),descriptionId:Un(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i,children:n})};fF.displayName=u0;var xF="DialogTrigger",gF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=jr(xF,n),o=Ue(t,a.triggerRef);return s.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":p0(a.open),...r,ref:o,onClick:ge(e.onClick,a.onOpenToggle)})});gF.displayName=xF;var h0="DialogPortal",[NK,vF]=mF(h0,{forceMount:void 0}),yF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=jr(h0,t);return s.jsx(NK,{scope:t,forceMount:n,children:h.Children.map(r,i=>s.jsx(us,{present:n||o.open,children:s.jsx(Cu,{asChild:!0,container:a,children:i})}))})};yF.displayName=h0;var Rp="DialogOverlay",jF=h.forwardRef((e,t)=>{const n=vF(Rp,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=jr(Rp,e.__scopeDialog);return o.modal?s.jsx(us,{present:r||o.open,children:s.jsx(bK,{...a,ref:t})}):null});jF.displayName=Rp;var bK=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=jr(Rp,n);return s.jsx(Qf,{as:sn,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Pe.div,{"data-state":p0(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ci="DialogContent",wF=h.forwardRef((e,t)=>{const n=vF(ci,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=jr(ci,e.__scopeDialog);return s.jsx(us,{present:r||o.open,children:o.modal?s.jsx(SK,{...a,ref:t}):s.jsx(CK,{...a,ref:t})})});wF.displayName=ci;var SK=h.forwardRef((e,t)=>{const n=jr(ci,e.__scopeDialog),r=h.useRef(null),a=Ue(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return _u(o)},[]),s.jsx(NF,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault())})}),CK=h.forwardRef((e,t)=>{const n=jr(ci,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return s.jsx(NF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),NF=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=jr(ci,n),c=h.useRef(null),d=Ue(t,c);return YN(),s.jsxs(s.Fragment,{children:[s.jsx(Kf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(oc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":p0(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(TK,{titleId:l.titleId}),s.jsx(AK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),m0="DialogTitle",bF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=jr(m0,n);return s.jsx(Pe.h2,{id:a.titleId,...r,ref:t})});bF.displayName=m0;var SF="DialogDescription",CF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=jr(SF,n);return s.jsx(Pe.p,{id:a.descriptionId,...r,ref:t})});CF.displayName=SF;var EF="DialogClose",TF=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=jr(EF,n);return s.jsx(Pe.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});TF.displayName=EF;function p0(e){return e?"open":"closed"}var PF="DialogTitleWarning",[EK,AF]=yV(PF,{contentName:ci,titleName:m0,docsSlug:"dialog"}),TK=({titleId:e})=>{const t=AF(PF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},PK="DialogDescriptionWarning",AK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AF(PK).contentName}}.`;return h.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},f0=fF,kF=gF,x0=yF,Bu=jF,Hu=wF,qu=bF,zu=CF,ox=TF;const kK=f0,RK=x0,RF=h.forwardRef(({className:e,...t},n)=>s.jsx(Bu,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));RF.displayName=Bu.displayName;const MK=Ni("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),MF=h.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(RK,{children:[s.jsx(RF,{}),s.jsxs(Hu,{ref:a,className:ne(MK({side:e}),t),...r,children:[n,s.jsxs(ox,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MF.displayName=Hu.displayName;const DK=h.forwardRef(({className:e,...t},n)=>s.jsx(qu,{ref:n,className:ne("text-lg font-semibold text-foreground",e),...t}));DK.displayName=qu.displayName;const FK=h.forwardRef(({className:e,...t},n)=>s.jsx(zu,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));FK.displayName=zu.displayName;const OK="sidebar:state",IK=60*60*24*7,LK="16rem",_K="18rem",$K="3rem",UK="b",DF=h.createContext(null);function Wu(){const e=h.useContext(DF);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const FF=h.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:o,...i},l)=>{const c=gK(),[d,u]=h.useState(!1),[m,p]=h.useState(e),x=t??m,g=h.useCallback(v=>{const y=typeof v=="function"?v(x):v;n?n(y):p(y),document.cookie=`${OK}=${y}; path=/; max-age=${IK}`},[n,x]),f=h.useCallback(()=>c?u(v=>!v):g(v=>!v),[c,g,u]);h.useEffect(()=>{const v=y=>{y.key===UK&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),f())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[f]);const w=x?"expanded":"collapsed",j=h.useMemo(()=>({state:w,open:x,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:f}),[w,x,g,c,d,u,f]);return s.jsx(DF.Provider,{value:j,children:s.jsx(IR,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":LK,"--sidebar-width-icon":$K,...a},className:ne("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});FF.displayName="SidebarProvider";const VK=h.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...o},i)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Wu();return n==="none"?s.jsx("div",{className:ne("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:a}):l?s.jsx(kK,{open:d,onOpenChange:u,...o,children:s.jsx(MF,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":_K},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ne("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ne("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});VK.displayName="Sidebar";const BK=h.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=Wu();return s.jsxs(q,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ne("h-7 w-7",e),onClick:o=>{t?.(o),a()},...n,children:[s.jsx(C8,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});BK.displayName="SidebarTrigger";const HK=h.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Wu();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ne("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});HK.displayName="SidebarRail";const qK=h.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:ne("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));qK.displayName="SidebarInset";const zK=h.forwardRef(({className:e,...t},n)=>s.jsx(_,{ref:n,"data-sidebar":"input",className:ne("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));zK.displayName="SidebarInput";const WK=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:ne("flex flex-col gap-2 p-2",e),...t}));WK.displayName="SidebarHeader";const KK=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:ne("flex flex-col gap-2 p-2",e),...t}));KK.displayName="SidebarFooter";const YK=h.forwardRef(({className:e,...t},n)=>s.jsx(mt,{ref:n,"data-sidebar":"separator",className:ne("mx-2 w-auto bg-sidebar-border",e),...t}));YK.displayName="SidebarSeparator";const XK=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:ne("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));XK.displayName="SidebarContent";const GK=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:ne("relative flex w-full min-w-0 flex-col p-2",e),...t}));GK.displayName="SidebarGroup";const JK=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?sn:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:ne("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});JK.displayName="SidebarGroupLabel";const QK=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?sn:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:ne("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});QK.displayName="SidebarGroupAction";const ZK=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:ne("w-full text-sm",e),...t}));ZK.displayName="SidebarGroupContent";const eY=h.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:ne("flex w-full min-w-0 flex-col gap-1",e),...t}));eY.displayName="SidebarMenu";const tY=h.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ne("group/menu-item relative",e),...t}));tY.displayName="SidebarMenuItem";const sY=Ni("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),nY=h.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:o,...i},l)=>{const c=e?sn:"button",{isMobile:d,state:u}=Wu(),m=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ne(sY({variant:n,size:r}),o),...i});return a?(typeof a=="string"&&(a={children:a}),s.jsxs($H,{children:[s.jsx(UH,{asChild:!0,children:m}),s.jsx(LR,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});nY.displayName="SidebarMenuButton";const rY=h.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const o=t?sn:"button";return s.jsx(o,{ref:a,"data-sidebar":"menu-action",className:ne("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});rY.displayName="SidebarMenuAction";const aY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ne("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));aY.displayName="SidebarMenuBadge";const oY=h.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ne("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Re,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Re,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});oY.displayName="SidebarMenuSkeleton";const iY=h.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ne("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));iY.displayName="SidebarMenuSub";const lY=h.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));lY.displayName="SidebarMenuSubItem";const cY=h.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},o)=>{const i=e?sn:"a";return s.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ne("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});cY.displayName="SidebarMenuSubButton";const dY=()=>{const{user:e,logout:t}=Hr(),{toggleSidebar:n}=Wu();return s.jsx("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-md transition-all duration-300",children:s.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(q,{variant:"ghost",size:"icon",onClick:n,className:"md:hidden","aria-label":"Toggle sidebar",children:s.jsx(b8,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"IFB"})}),s.jsx("h1",{className:"text-xl font-semibold app-name-gradient",children:"Integrix Flow Bridge"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xK,{}),s.jsx("div",{className:"h-6 w-px bg-border"}),s.jsxs(q,{variant:"ghost",size:"sm",className:"relative transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:[s.jsx(Lk,{className:"h-4 w-4"}),s.jsx(ae,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs animate-pulse",children:"3"})]}),s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsxs(q,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(io,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:e?.username})]})}),s.jsxs(yo,{align:"end",className:"w-56",children:[s.jsxs(lt,{children:[s.jsx(io,{className:"mr-2 h-4 w-4"}),"Profile"]}),s.jsxs(lt,{children:[s.jsx(At,{className:"mr-2 h-4 w-4"}),"Settings"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:t,className:"text-destructive",children:[s.jsx(N8,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})},Vc={getEnvironmentConfig:async()=>{try{const e=await ee.get("/system/config/environment");return e.data&&typeof e.data=="object"&&"type"in e.data?e.data:(console.warn("Invalid environment config response, using defaults"),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}})}catch(e){return console.error("Error fetching environment config:",e),{type:"DEVELOPMENT",displayName:"Development",description:"Development Environment",enforceRestrictions:!1,permissions:{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}}},getPermissions:async()=>{try{const e=await ee.get("/system/config/permissions");return e.data&&typeof e.data=="object"?e.data:(console.warn("Invalid permissions response, using defaults"),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1})}catch(e){return console.error("Error fetching permissions:",e),{canCreateFlows:!0,canCreateAdapters:!0,canModifyAdapterConfig:!0,canImportFlows:!0,canDeployFlows:!0,canCreateBusinessComponents:!0,canCreateDataStructures:!0,isAdmin:!1,canAccessAdmin:!1}}},updateEnvironmentType:async e=>(await ee.put("/system/config/environment",{environmentType:e})).data,checkPermission:async e=>(await ee.get("/system/config/check-permission",{params:{action:e}})).data.allowed,checkUIVisibility:async e=>(await ee.get("/system/config/ui-visibility",{params:{element:e}})).data.visible},yc=()=>{const[e,t]=h.useState(void 0),[n,r]=h.useState(void 0),[a,o]=h.useState(!0),i=async()=>{try{const[u,m]=await Promise.all([Vc.getEnvironmentConfig(),Vc.getPermissions()]);t(u),r(m)}catch(u){console.error("Error fetching environment data:",u),t({type:"DEVELOPMENT",name:"Development"}),r({isAdmin:!1,canWrite:!0,canRead:!0})}finally{o(!1)}};return h.useEffect(()=>{i()},[]),{environmentInfo:e,permissions:n,isLoading:a,checkPermission:async u=>{try{return await Vc.checkPermission(u)}catch{return!1}},checkUIVisibility:async u=>{try{return await Vc.checkUIVisibility(u)}catch{return!0}},updateEnvironmentType:async u=>{const m=await Vc.updateEnvironmentType(u);return await i(),m},isDevelopment:e?.type==="DEVELOPMENT",isQA:e?.type==="QUALITY_ASSURANCE",isProduction:e?.type==="PRODUCTION"}},Ig=[{name:"Dashboard",href:"/dashboard",icon:Hk,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Data Structures",href:"/data-structures",icon:Ko,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Communication Adapters",href:"/communication-adapters",icon:CN,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Business Components",href:"/business-components",icon:xp,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Integration Packages",href:"/packages",icon:SN,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Interface Management",href:"/all-interfaces",icon:qd,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Message Monitor",href:"/messages",icon:zs,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Adapter Monitoring",href:"/adapter-monitoring",icon:ic,roles:["administrator","integrator","viewer"],requiresDevEnv:!1},{name:"Retry Management",href:"/retry-management",icon:vt,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Development Functions",href:"/development-functions",icon:xn,roles:["administrator","integrator"],requiresDevEnv:!1},{name:"Admin Panel",href:"/admin",icon:Ds,roles:["administrator"],requiresDevEnv:!1},{name:"Settings",href:"/settings",icon:At,roles:["administrator"],requiresDevEnv:!1}],uY=()=>{const[e,t]=h.useState(!1),{user:n}=Hr(),{isDevelopment:r,permissions:a}=yc(),o=h.useMemo(()=>{if(!Array.isArray(Ig))return console.error("Navigation is not an array:",Ig),[];try{return Ig.filter(i=>{const l=n?.role==="administrator"?"administrator":n?.role;return!n||!l||!i.roles.includes(l)||i.requiresDevEnv&&!r?!1:i.name==="Admin Panel"||i.name==="Settings"?a?.isAdmin||l==="administrator":!0})}catch(i){return console.error("Error filtering navigation:",i),[]}},[n,r,a]);return s.jsx("div",{className:ne("h-full bg-card/80 backdrop-blur-md border-r border-border transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto flex transition-all duration-300 hover:scale-110 hover:bg-accent/50",children:e?s.jsx(nn,{className:"h-4 w-4 transition-transform duration-300"}):s.jsx(_k,{className:"h-4 w-4 transition-transform duration-300"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(i=>s.jsxs(Uq,{to:i.href,className:({isActive:l})=>ne("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 group","hover:bg-accent hover:text-accent-foreground hover:scale-[1.02] hover:shadow-soft",l?"bg-primary text-primary-foreground shadow-elegant":"text-muted-foreground hover:text-foreground"),children:[s.jsx(i.icon,{className:ne("h-4 w-4 transition-all duration-300 group-hover:scale-110",!e&&"mr-3")}),!e&&s.jsx("span",{className:"transition-all duration-300",children:i.name})]},i.name))}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsx("div",{className:ne("text-xs text-muted-foreground",e?"text-center":"space-y-1"),children:!e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Version 1.0.0"}),s.jsx("div",{children:" 2024 Integrix Flow Bridge"})]})})})]})})},Ta=[],hY=10,jc=()=>{const e=_s(),t=ln(),n=h.useRef(null);return h.useEffect(()=>{t.pathname!==n.current&&(Ta.push({pathname:t.pathname,state:t.state,timestamp:Date.now()}),Ta.length>hY&&Ta.shift(),n.current=t.pathname)},[t]),{navigateBack:(i="/dashboard")=>{const l=Ta.filter(c=>c.pathname!==t.pathname);if(l.length>0){const c=l[l.length-1];e(c.pathname,{state:c.state})}else e(i)},isDirectNavigation:()=>{if(Ta.length<2)return!0;const i=t.pathname,l=Ta[Ta.length-2]?.pathname;if(!l)return!0;const c=i.split("/")[1],d=l?.split("/")[1];return c!==d},getBreadcrumbs:()=>{const i=t.pathname.split("/").filter(Boolean),l=[{label:"Home",path:"/"}];let c="";return i.forEach(d=>{c+=`/${d}`,l.push({label:mY(d),path:c})}),l},currentPath:t.pathname,hasHistory:Ta.length>1}};function mY(e){return e==="settings"?"User Settings":e==="development-functions"?"Development Functions":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const pY=()=>{const{getBreadcrumbs:e,currentPath:t}=jc(),n=e();return t==="/login"||t==="/"?null:s.jsx("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground px-6 py-2 border-b",children:n.map((r,a)=>{const o=a===n.length-1,i=a===0;return s.jsxs("div",{className:"flex items-center",children:[!i&&s.jsx(nn,{className:"h-4 w-4 mx-1"}),o?s.jsxs("span",{className:"font-medium text-foreground flex items-center",children:[i&&s.jsx(Dy,{className:"h-4 w-4 mr-1"}),r.label]}):s.jsxs(XR,{to:r.path,className:ne("hover:text-foreground transition-colors flex items-center","hover:underline"),children:[i&&s.jsx(Dy,{className:"h-4 w-4 mr-1"}),r.label]})]},r.path)})})};var OF="AlertDialog",[fY,Bve]=on(OF,[pF]),wa=pF(),IF=e=>{const{__scopeAlertDialog:t,...n}=e,r=wa(t);return s.jsx(f0,{...r,...n,modal:!0})};IF.displayName=OF;var xY="AlertDialogTrigger",LF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=wa(n);return s.jsx(kF,{...a,...r,ref:t})});LF.displayName=xY;var gY="AlertDialogPortal",_F=e=>{const{__scopeAlertDialog:t,...n}=e,r=wa(t);return s.jsx(x0,{...r,...n})};_F.displayName=gY;var vY="AlertDialogOverlay",$F=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=wa(n);return s.jsx(Bu,{...a,...r,ref:t})});$F.displayName=vY;var El="AlertDialogContent",[yY,jY]=fY(El),UF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,o=wa(n),i=h.useRef(null),l=Ue(t,i),c=h.useRef(null);return s.jsx(EK,{contentName:El,titleName:VF,docsSlug:"alert-dialog",children:s.jsx(yY,{scope:n,cancelRef:c,children:s.jsxs(Hu,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:ge(a.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(fN,{children:r}),s.jsx(NY,{contentRef:i})]})})})});UF.displayName=El;var VF="AlertDialogTitle",BF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=wa(n);return s.jsx(qu,{...a,...r,ref:t})});BF.displayName=VF;var HF="AlertDialogDescription",qF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=wa(n);return s.jsx(zu,{...a,...r,ref:t})});qF.displayName=HF;var wY="AlertDialogAction",zF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=wa(n);return s.jsx(ox,{...a,...r,ref:t})});zF.displayName=wY;var WF="AlertDialogCancel",KF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=jY(WF,n),o=wa(n),i=Ue(t,a);return s.jsx(ox,{...o,...r,ref:i})});KF.displayName=WF;var NY=({contentRef:e})=>{const t=`\`${El}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${El}\` by passing a \`${HF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${El}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bY=IF,SY=LF,CY=_F,YF=$F,XF=UF,GF=zF,JF=KF,QF=BF,ZF=qF;const ix=bY,EY=SY,TY=CY,e4=h.forwardRef(({className:e,...t},n)=>s.jsx(YF,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));e4.displayName=YF.displayName;const Ku=h.forwardRef(({className:e,...t},n)=>s.jsxs(TY,{children:[s.jsx(e4,{}),s.jsx(XF,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ku.displayName=XF.displayName;const Yu=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});Yu.displayName="AlertDialogHeader";const Xu=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xu.displayName="AlertDialogFooter";const Gu=h.forwardRef(({className:e,...t},n)=>s.jsx(QF,{ref:n,className:ne("text-lg font-semibold",e),...t}));Gu.displayName=QF.displayName;const Ju=h.forwardRef(({className:e,...t},n)=>s.jsx(ZF,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));Ju.displayName=ZF.displayName;const Qu=h.forwardRef(({className:e,...t},n)=>s.jsx(GF,{ref:n,className:ne(Gd(),e),...t}));Qu.displayName=GF.displayName;const lx=h.forwardRef(({className:e,...t},n)=>s.jsx(JF,{ref:n,className:ne(Gd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lx.displayName=JF.displayName;const PY=()=>{const{tokenExpiry:e}=Hr(),{toast:t}=He(),[n,r]=h.useState(!1),[a,o]=h.useState(0);h.useEffect(()=>{if(!e)return;const c=()=>{const u=e-Date.now();o(u),u<=10*60*1e3&&u>0?r(!0):r(!1),u<=5*60*1e3&&u>4*60*1e3&&t({title:"Session Expiring Soon",description:"Your session will expire in 5 minutes. Please save your work.",variant:"destructive"}),u<=1*60*1e3&&u>30*1e3&&t({title:"Session Expiring",description:"Your session will expire in 1 minute.",variant:"destructive"})};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[e,t]);const i=()=>{r(!1),t({title:"Session Extended",description:"Your session has been extended."})},l=c=>{const d=Math.floor(c/6e4),u=Math.floor(c%(1e3*60)/1e3);return`${d}:${u.toString().padStart(2,"0")}`};return s.jsx(ix,{open:n&&a>0,children:s.jsxs(Ku,{children:[s.jsxs(Yu,{children:[s.jsxs(Gu,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs(Ju,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:l(a)}),s.jsx("p",{className:"text-sm",children:"Please save your work or extend your session to continue."})]})]}),s.jsx(Xu,{children:s.jsx(Qu,{onClick:i,children:"Extend Session"})})]})})},AY=()=>{const{tokenExpiry:e,checkSession:t,logout:n}=Hr(),[r,a]=h.useState(!1),[o,i]=h.useState(0);h.useEffect(()=>{if(!e)return;const d=()=>{const m=Date.now(),p=e-m,x=5*60*1e3;p<=0?n():p<=x&&!r&&(a(!0),i(Math.floor(p/1e3)))};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[e,n,r]),h.useEffect(()=>{if(!r||o<=0)return;const d=setInterval(()=>{i(u=>u<=1?(n(),0):u-1)},1e3);return()=>clearInterval(d)},[r,n]);const l=async()=>{try{await t()&&(a(!1),i(0))}catch(d){console.error("Failed to extend session:",d),n()}},c=d=>{const u=Math.floor(d/60),m=d%60;return`${u}:${m.toString().padStart(2,"0")}`};return s.jsx(ix,{open:r,onOpenChange:a,children:s.jsxs(Ku,{children:[s.jsxs(Yu,{children:[s.jsxs(Gu,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Session Expiring Soon"]}),s.jsxs(Ju,{className:"space-y-2",children:[s.jsx("p",{children:"Your session will expire in:"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:c(o)}),s.jsx("p",{className:"text-sm",children:"Would you like to extend your session or logout?"})]})]}),s.jsxs(Xu,{children:[s.jsx(lx,{onClick:n,children:"Logout"}),s.jsx(Qu,{onClick:l,children:"Extend Session"})]})]})})},kY=()=>s.jsx(FF,{children:s.jsxs("div",{className:"min-h-screen w-full bg-background flex flex-col",children:[s.jsx(dY,{}),s.jsxs("div",{className:"flex flex-1 w-full",children:[s.jsx(uY,{}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 w-full max-w-none",children:[s.jsx(pY,{}),s.jsx("main",{className:"flex-1 overflow-auto p-6 w-full",children:s.jsx(KR,{})})]})]}),s.jsx(PY,{}),s.jsx(AY,{})]})});var RY="Label",t4=h.forwardRef((e,t)=>s.jsx(Pe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));t4.displayName=RY;var s4=t4;const MY=Ni("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=h.forwardRef(({className:e,...t},n)=>s.jsx(s4,{ref:n,className:ne(MY(),e),...t}));C.displayName=s4.displayName;const W=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const te=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));te.displayName="CardHeader";const re=h.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));re.displayName="CardTitle";const pe=h.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));pe.displayName="CardDescription";const K=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));K.displayName="CardContent";const DY=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));DY.displayName="CardFooter";const FY=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,o]=h.useState(!1),{login:i,isAuthenticated:l}=Hr(),{toast:c}=He(),u=ln().state?.from?.pathname||"/dashboard";if(l)return s.jsx(Sp,{to:u,replace:!0});const m=async p=>{p.preventDefault(),o(!0),await i(e,n,u)||c({title:"Login Failed",description:"Invalid username or password",variant:"destructive"}),o(!1)};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-secondary relative overflow-hidden p-4",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-float"}),s.jsx("div",{className:"absolute -bottom-40 -right-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}})]}),s.jsx("div",{className:"w-full max-w-md relative z-10",children:s.jsxs(W,{className:"w-full shadow-elegant animate-scale-in border-border/50 bg-card/95 backdrop-blur-sm",children:[s.jsxs(te,{className:"text-center space-y-6 animate-fade-in",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-2xl bg-primary flex items-center justify-center animate-glow",children:s.jsx(ws,{className:"h-8 w-8 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{className:"text-3xl font-bold bg-primary bg-clip-text text-transparent",children:"Integrix Flow Bridge"}),s.jsx(pe,{className:"text-base",children:"Enterprise Integration Platform"})]})]}),s.jsx(K,{className:"space-y-6 animate-slide-up",children:s.jsxs("form",{onSubmit:m,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:"username",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(io,{className:"h-4 w-4"}),"Username"]}),s.jsx(_,{id:"username",type:"text",placeholder:"Enter your username",value:e,onChange:p=>t(p.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:"password",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(y8,{className:"h-4 w-4"}),"Password"]}),s.jsx(_,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:p=>r(p.target.value),className:"transition-all duration-300 focus:scale-[1.02] focus:shadow-elegant",required:!0})]}),s.jsx(q,{type:"submit",className:"w-full bg-primary hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-elegant group",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(Bd,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})})]})})]})};function OY(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:p,children:x,...g}=m,f=p?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})}function u(m,p){const x=p?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,IY(a,...t)]}function IY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var g0="Progress",v0=100,[LY,Hve]=OY(g0),[_Y,$Y]=LY(g0),n4=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:o=UY,...i}=e;(a||a===0)&&!C1(a)&&console.error(VY(`${a}`,"Progress"));const l=C1(a)?a:v0;r!==null&&!E1(r,l)&&console.error(BY(`${r}`,"Progress"));const c=E1(r,l)?r:null,d=Mp(c)?o(c,l):void 0;return s.jsx(_Y,{scope:n,value:c,max:l,children:s.jsx(Pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Mp(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":o4(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});n4.displayName=g0;var r4="ProgressIndicator",a4=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=$Y(r4,n);return s.jsx(Pe.div,{"data-state":o4(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});a4.displayName=r4;function UY(e,t){return`${Math.round(e/t*100)}%`}function o4(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Mp(e){return typeof e=="number"}function C1(e){return Mp(e)&&!isNaN(e)&&e>0}function E1(e,t){return Mp(e)&&!isNaN(e)&&e<=t&&e>=0}function VY(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v0}\`.`}function BY(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var i4=n4,HY=a4;const Zu=h.forwardRef(({className:e,value:t,...n},r)=>s.jsx(i4,{ref:r,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(HY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Zu.displayName=i4.displayName;function cx({children:e,className:t}){return s.jsx("div",{className:ne("w-full px-6 md:px-8 py-6 space-y-6 animate-fade-in",t),children:e})}const dx=({title:e,description:t,icon:n,actions:r,className:a})=>s.jsxs("div",{className:ne("flex items-center justify-between mb-6 animate-slide-up",a),children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[n&&s.jsx("span",{className:"text-primary [&>svg]:h-5 [&>svg]:w-5",children:n}),e]}),t&&s.jsx("p",{className:"text-muted-foreground mt-1",children:t})]}),r&&s.jsx("div",{className:"flex items-center gap-3",children:r})]});class qY{async getDashboardStats(t){try{const n=t?`/dashboard/stats?businessComponentId=${t}`:"/dashboard/stats";return await ee.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard stats"}}}async getDashboardMetrics(t){try{const n=t?`/dashboard/metrics?businessComponentId=${t}`:"/dashboard/metrics",r=await ee.get(n);if(r.success&&r.data){const a=r.data;return{success:!0,data:[{title:"Active Integrations",value:a.activeIntegrations?.toString()||"0",change:"+0%",icon:"Activity",color:"text-success"},{title:"Messages Today",value:a.messagesToday?.toLocaleString()||"0",change:"+0%",icon:"MessageSquare",color:"text-info"},{title:"Success Rate",value:a.successRate?`${a.successRate.toFixed(1)}%`:"0.0%",change:"+0%",icon:"CheckCircle",color:"text-success"},{title:"Avg Response Time",value:a.avgResponseTime?`${a.avgResponseTime}ms`:"0ms",change:"0ms",icon:"Zap",color:"text-warning"}]}}return{success:!1,data:[],error:"Invalid response format"}}catch(n){return console.error("Dashboard metrics error:",n),{success:!1,data:[],error:n instanceof Error?n.message:"Failed to fetch dashboard metrics"}}}async getRecentMessages(t,n=10){try{const r=t?`/messages/recent?businessComponentId=${t}&limit=${n}`:`/messages/recent?limit=${n}`;return await ee.get(r)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch recent messages"}}}async getAdapterStatuses(t){try{const n=t?`/adapter-monitoring/status?businessComponentId=${t}`:"/adapter-monitoring/status";return await ee.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter statuses"}}}async getDashboardData(t){try{const[n,r,a]=await Promise.all([this.getDashboardStats(t),this.getRecentMessages(t),this.getAdapterStatuses(t)]);if(!n.success||!r.success||!a.success)return{success:!1,error:"Failed to fetch some dashboard data"};const o=await this.getDashboardMetrics(t);return{success:!0,data:{stats:n.data,metrics:o.data||[],recentMessages:r.data||[],adapterStatuses:a.data||[]}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch dashboard data"}}}}const Lg=new qY;class zY{async getAllBusinessComponents(){try{return{success:!0,data:await Oe.get("/business-components")}}catch(t){return console.error("Failed to fetch business components:",t),{success:!1,error:"Failed to fetch business components"}}}async getBusinessComponentById(t){try{return{success:!0,data:await Oe.get(`/business-components/${t}`)}}catch(n){return console.error("Failed to fetch business component:",n),{success:!1,error:"Failed to fetch business component"}}}async createBusinessComponent(t){try{console.log("Frontend: Creating business component with data:",t);const n=await Oe.post("/business-components",t);return console.log("Frontend: Created business component:",n),{success:!0,data:n}}catch(n){return console.error("Frontend: Failed to create business component:",n),{success:!1,error:"Failed to create business component"}}}async updateBusinessComponent(t){try{return{success:!0,data:await Oe.put(`/business-components/${t.id}`,t)}}catch(n){return console.error("Failed to update business component:",n),{success:!1,error:"Failed to update business component"}}}async deleteBusinessComponent(t){try{return await Oe.delete(`/business-components/${t}`),{success:!0}}catch(n){return console.error("Failed to delete business component:",n),{success:!1,error:"Failed to delete business component"}}}}const na=new zY;function ux(e){h.useEffect(()=>{const t=document.title;return document.title=`${e} | Integrix Flow Bridge`,()=>{document.title=t}},[e])}const hx=e=>{h.useEffect(()=>{const t=document.querySelector('meta[name="description"]'),n=document.querySelector('meta[property="og:description"]');if(t){const r=t.getAttribute("content")||"";return t.setAttribute("content",e),n&&n.setAttribute("content",e),()=>{t.setAttribute("content",r),n&&r&&n.setAttribute("content",r)}}},[e])},WY=Ni("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xe=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ne(WY({variant:t}),e),...n}));Xe.displayName="Alert";const wc=h.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));wc.displayName="AlertTitle";const Ge=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));Ge.displayName="AlertDescription";function KY({title:e="Error",error:t,className:n,variant:r="destructive"}){const a=t instanceof Error?t.message:typeof t=="string"?t:"An unexpected error occurred",o=r==="destructive"?jn:xt;return s.jsxs(Xe,{variant:r,className:ne("mb-4",n),children:[s.jsx(o,{className:"h-4 w-4"}),s.jsx(wc,{children:e}),s.jsx(Ge,{children:a})]})}const YY={Activity:ic,MessageSquare:zs,CheckCircle:bs,XCircle:jn,Clock:rn,TrendingUp:EN,Server:ku,Zap:wn,Users:Ds},XY=()=>{ux("Dashboard"),hx("Monitor your integration flows, adapter status, and system performance in real-time with the Integrix Flow Bridge dashboard."),console.log("Dashboard component loading...");const[e,t]=h.useState(null),[n,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!0),[p,x]=h.useState(!0),[g,f]=h.useState(null),[w,j]=h.useState([]),[v,y]=h.useState(!0);return h.useEffect(()=>{(async()=>{try{console.log("Dashboard - loading business components...");const b=await na.getAllBusinessComponents();b.success&&b.data&&j(b.data)}catch(b){console.error("Error loading business components:",b)}finally{y(!1)}})()},[]),console.log("Dashboard - business components:",w,"loading:",v),h.useEffect(()=>{const N=async()=>{try{f(null);const E=e?.id;d(!0);const S=await Lg.getDashboardMetrics(E);console.log("Metrics response:",S),S.success&&S.data&&Array.isArray(S.data)?r(S.data):(console.error("Failed to fetch metrics:",S.error),r([])),d(!1),m(!0);const A=await Lg.getRecentMessages(E);A.success&&A.data?o(A.data):(console.error("Failed to fetch messages:",A.error),o([])),m(!1),x(!0);const O=await Lg.getAdapterStatuses(E);O.success&&O.data?l(O.data):(console.error("Failed to fetch adapters:",O.error),l([])),x(!1)}catch(E){console.error("Dashboard data fetch error:",E),f("Failed to load dashboard data"),r([]),o([]),l([]),d(!1),m(!1),x(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e]),console.log("Dashboard render - about to return JSX"),s.jsxs(cx,{className:"max-w-none px-0 md:px-0",children:[s.jsx(dx,{title:"Integration Dashboard",description:"Monitor your integration flows and system health",icon:s.jsx(Hk,{})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(C,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(G,{value:e?.id||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=w.find(E=>E.id===N);t(b||null)}},children:[s.jsx(Y,{id:"business-component",className:"w-[280px]",children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Components"}),w.map(N=>s.jsx(M,{value:N.id,children:N.name},N.id))]})]})]}),g&&s.jsx(KY,{error:g}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c?s.jsx("div",{className:"col-span-full flex justify-center p-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})}):n&&Array.isArray(n)?n.map((N,b)=>{const E=YY[N.icon]||ic,S=N.change.startsWith("+")||N.change.startsWith("-")&&N.change.includes("ms");return s.jsxs(W,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:N.title}),s.jsx(E,{className:`h-4 w-4 ${N.color}`})]}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.value}),s.jsxs("p",{className:`text-xs ${S?"text-success":"text-destructive"}`,children:[N.change," from last period"]})]})]},b)}):s.jsx("div",{className:"col-span-full",children:s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No metrics available"})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Recent Messages"}),s.jsx(pe,{children:"Latest integration messages"})]}),s.jsx(K,{children:u?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(gt,{className:"h-6 w-6 animate-spin"})}):!a||!Array.isArray(a)||a.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent messages"}):s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ae,{variant:N.status==="success"?"success":N.status==="failed"?"destructive":"secondary",children:N.status}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[N.source,"  ",N.target]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]}),N.status==="success"&&s.jsx(bs,{className:"h-4 w-4 text-success"}),N.status==="failed"&&s.jsx(jn,{className:"h-4 w-4 text-destructive"}),N.status==="processing"&&s.jsx(rn,{className:"h-4 w-4 text-warning animate-pulse"})]},N.id))})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Adapter Monitoring"}),s.jsx(pe,{children:"Active communication adapters"})]}),s.jsx(K,{children:p?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(gt,{className:"h-6 w-6 animate-spin"})}):!i||!Array.isArray(i)||i.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No active adapters"}):s.jsx("div",{className:"space-y-4",children:i.map((N,b)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ku,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:N.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",children:N.type}),s.jsx(ae,{variant:"secondary",children:N.mode}),s.jsx(ae,{variant:N.status==="running"?"success":N.status==="stopped"?"secondary":"destructive",children:N.status})]})]}),s.jsx(Zu,{value:N.load,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{children:["Load: ",N.load,"%"]}),N.messagesProcessed!==void 0&&s.jsxs("span",{children:["Messages: ",N.messagesProcessed.toLocaleString()]})]})]},b))})})]})]})]})},GY=()=>(console.log("TestPage - rendering without React Query"),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),s.jsx("p",{children:"This is a simple test page without React Query to verify navigation works."})]})),l4=({children:e,requireDevelopment:t=!0,customMessage:n})=>{const{isDevelopment:r,environmentInfo:a}=yc(),o=_s();return t&&!r?s.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:s.jsx(W,{children:s.jsx(K,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:s.jsx(oo,{className:"h-12 w-12 text-destructive"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Page Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:n||`This page is only available in development environment. 
                     The system is currently configured as ${a?.displayName||"non-development"}.`})]}),s.jsxs(Xe,{className:"mt-4",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx(wc,{children:"Why is this restricted?"}),s.jsxs(Ge,{children:["In ",a?.displayName||"this"," environment, creation and modification of flows, adapters, and data structures is disabled to prevent accidental changes. You can still import flows, modify adapter configurations, and manage deployments."]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(q,{onClick:()=>o(-1),variant:"outline",children:"Go Back"}),s.jsx(q,{onClick:()=>o("/interfaces"),children:"Interface Management"})]})]})})})}):s.jsx(s.Fragment,{children:e})};function JY(){const e=_s();return jc(),s.jsx(l4,{children:s.jsxs("div",{className:"w-full p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose the type of integration flow you want to create"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(W,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(te,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx($a,{className:"h-8 w-8 text-primary"})}),s.jsx(re,{className:"text-xl",children:"Create Orchestration Flow"}),s.jsx(pe,{className:"text-sm",children:"Design complex workflows with multiple systems, routing, and business logic"})]}),s.jsxs(K,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual workflow designer"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Message routing & transformation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Multi-system orchestration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Error handling & compensation"})]})]}),s.jsx(q,{className:"w-full",onClick:()=>e("/create-orchestration-flow"),children:"Create Orchestration Flow"})]})]}),s.jsxs(W,{className:"cursor-pointer transition-all hover:shadow-lg border-2 hover:border-primary/20",children:[s.jsxs(te,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 rounded-full bg-primary/10",children:s.jsx(jl,{className:"h-8 w-8 text-primary"})}),s.jsx(re,{className:"text-xl",children:"Create Direct Mapping Flow"}),s.jsx(pe,{className:"text-sm",children:"Create simple point-to-point integration with field mapping"})]}),s.jsxs(K,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Point-to-point integration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Visual field mapping"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Transformation functions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),s.jsx("span",{children:"Quick setup & deployment"})]})]}),s.jsx(q,{className:"w-full",onClick:()=>e("/create-direct-mapping-flow"),children:"Create Direct Mapping Flow"})]})]})]})]})})}const c4=e=>{const t=ln(),{isDirectNavigation:n}=jc(),r=h.useRef(!1),a=h.useRef(t.pathname);return h.useEffect(()=>{a.current!==t.pathname&&(a.current=t.pathname,n()?(e(),r.current=!0):r.current=!1)},[t.pathname,n,e]),{isDirectNavigation:n(),hasReset:r.current}},Ee=h.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ee.displayName="Textarea";var y0="Switch",[QY,qve]=on(y0),[ZY,eX]=QY(y0),d4=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,x]=h.useState(null),g=Ue(t,y=>x(y)),f=h.useRef(!1),w=p?u||!!p.closest("form"):!0,[j=!1,v]=zn({prop:a,defaultProp:o,onChange:d});return s.jsxs(ZY,{scope:n,checked:j,disabled:l,children:[s.jsx(Pe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":i,"data-state":m4(j),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:ge(e.onClick,y=>{v(N=>!N),w&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})}),w&&s.jsx(tX,{control:p,bubbles:!f.current,name:r,value:c,checked:j,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});d4.displayName=y0;var u4="SwitchThumb",h4=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=eX(u4,n);return s.jsx(Pe.span,{"data-state":m4(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});h4.displayName=u4;var tX=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=h.useRef(null),i=sx(n),l=Df(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const p=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(p)}},[i,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m4(e){return e?"checked":"unchecked"}var p4=d4,sX=h4;const ct=h.forwardRef(({className:e,...t},n)=>s.jsx(p4,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(sX,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ct.displayName=p4.displayName;const nX=({onSaveFlow:e,isLoading:t=!1,disabled:n=!1})=>s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Actions"}),s.jsx(pe,{children:"Save your integration flow"})]}),s.jsxs(K,{className:"space-y-3",children:[s.jsx(q,{onClick:e,className:"w-full bg-gradient-primary hover:opacity-90 transition-all duration-300",disabled:n||t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Flow"]})}),s.jsx(mt,{}),s.jsxs(q,{variant:"outline",className:"w-full",children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Duplicate Flow"]})]})]}),rX=({sourceAdapter:e,targetAdapter:t,sourceStructure:n,targetStructure:r,selectedTransformations:a,adapters:o,sampleStructures:i})=>{const l=d=>o.find(u=>u.id===d),c=d=>i.find(u=>u.id===d);return s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(te,{children:s.jsx(re,{children:"Flow Summary"})}),s.jsx(K,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(ae,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source:"}),s.jsx("span",{children:e?l(e)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),s.jsx("span",{children:n?c(n)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target:"}),s.jsx("span",{children:t?l(t)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),s.jsx("span",{children:r?c(r)?.name:"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transformations:"}),s.jsx("span",{children:a.length})]})]})})]})},aX=()=>s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(te,{children:s.jsx(re,{children:"Quick Tips"})}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Test your flow before saving to ensure connectivity"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Add transformations to modify data between systems"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary mt-2 flex-shrink-0"}),s.jsx("span",{children:"Use descriptive names for easier management"})]})]})})]}),oj=e=>{try{const t=JSON.parse(e);return ij(t)}catch{return null}},ij=e=>{if(Array.isArray(e))return e.length>0?["array",ij(e[0])]:"array";if(e!==null&&typeof e=="object"){const t={};for(const[n,r]of Object.entries(e))t[n]=ij(r);return t}else return typeof e},Dp=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=[],o=new Map,i=(g,f)=>{const w=g.split(":").pop()||"";if(o.has(w))return o.get(w);for(const j of f){const v=j.querySelector(`complexType[name="${w}"], xs\\:complexType[name="${w}"], xsd\\:complexType[name="${w}"]`);if(v){const N={};return c(v,N,0,f),o.set(w,N),N}const y=j.querySelector(`simpleType[name="${w}"], xs\\:simpleType[name="${w}"], xsd\\:simpleType[name="${w}"]`);if(y){const N=y.querySelector("restriction, xs\\:restriction, xsd\\:restriction");if(N)return(N.getAttribute("base")||"string").replace(/^(xs:|xsd:|tns:)/,"")}}return w.replace(/^(xs:|xsd:|tns:)/,"")},l=g=>{const f={};for(const[w,j]of g)f[w]=j;return f},c=(g,f,w=0,j)=>{const v=g.querySelectorAll(":scope > sequence > element, :scope > sequence > xs\\:element, :scope > sequence > xsd\\:element, :scope > element, :scope > xs\\:element, :scope > xsd\\:element"),y=[];v.forEach(N=>{const b=N.getAttribute("name"),E=N.getAttribute("type"),S=N.getAttribute("ref"),A=N.getAttribute("maxOccurs"),O=A==="unbounded"||A&&parseInt(A)>1;if(b||S){const I=b||S?.split(":").pop()||"",F=O?`${I}[]`:I;let L;const U=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(U){const k={};c(U,k,w+1,j),L=k}else if(E)L=i(E,j);else if(S){const k=S.split(":").pop()||"";for(const P of j){const T=P.querySelector(`element[name="${k}"], xs\\:element[name="${k}"], xsd\\:element[name="${k}"]`);if(T){const R=T.getAttribute("type");R&&(L=i(R,j));break}}L||(L="string")}else L="string";y.push([F,L])}});for(const[N,b]of y)f[N]=b},d=n.querySelectorAll("schema, xs\\:schema, xsd\\:schema");n.querySelectorAll("message, wsdl\\:message").forEach(g=>{g.querySelectorAll("part, wsdl\\:part").forEach(w=>{const j=w.getAttribute("element");if(j){const v=j.split(":").pop();for(const y of d){const N=y.querySelector(`element[name="${v}"], xs\\:element[name="${v}"], xsd\\:element[name="${v}"]`);if(N){const b=N.getAttribute("type");if(b){const E=i(b,d);typeof E=="object"?a.push([v,E]):a.push([v,{value:E}])}else{const E=N.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(E){const S={};c(E,S,0,d),a.push([v,S])}}break}}}})}),a.length===0&&d.forEach(g=>{g.querySelectorAll(":scope > element, :scope > xs\\:element, :scope > xsd\\:element").forEach(w=>{const j=w.getAttribute("name");if(j){const v=w.getAttribute("type");if(v){const y=i(v,d);typeof y=="object"?a.push([j,y]):a.push([j,{value:y}])}else{const y=w.querySelector("complexType, xs\\:complexType, xsd\\:complexType");if(y){const N={};c(y,N,0,d),a.push([j,N])}}}})});const m=l(a),p=n.querySelectorAll("operation, wsdl\\:operation");let x=null;if(p.length>0){const g=p[0],f=!!g.querySelector("input, wsdl\\:input"),w=!!g.querySelector("output, wsdl\\:output"),j=!!g.querySelector("fault, wsdl\\:fault");x={hasInput:f,hasOutput:w,hasFault:j,isSynchronous:f&&w,messageTypes:[]},f&&x.messageTypes.push("input"),w&&x.messageTypes.push("output"),j&&x.messageTypes.push("fault")}return Object.keys(m).length>0?{structure:m,operationInfo:x}:null}catch(t){return console.error("Error parsing WSDL:",t),null}},f4=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return console.error("WSDL parsing error:",r),{names:[],hasMultiple:!1};const a=n.documentElement;console.log("WSDL root element:",a.tagName,"namespace:",a.namespaceURI);const o=[],i=n.getElementsByTagName("*");for(let d=0;d<i.length;d++){const u=i[d];(u.localName==="portType"||u.tagName==="portType"||u.tagName==="wsdl:portType")&&o.push(u)}console.log("Found portTypes:",o.length);const l=[];o.forEach(d=>{const u=d.getElementsByTagName("*");for(let m=0;m<u.length;m++){const p=u[m];(p.localName==="operation"||p.tagName==="operation"||p.tagName==="wsdl:operation")&&p.parentElement===d&&l.push(p)}});const c=[];if(console.log("Found operations in portType:",l.length),l.forEach(d=>{const u=d.getAttribute("name");console.log("Operation element:",d.tagName,"name attribute:",u),u&&!c.includes(u)&&(c.push(u),console.log("Added operation:",u))}),c.length===0){console.log("No operations in portType, checking binding elements...");const d=[];for(let u=0;u<i.length;u++){const m=i[u];(m.localName==="binding"||m.tagName==="binding"||m.tagName==="wsdl:binding")&&d.push(m)}console.log("Found bindings:",d.length),d.forEach(u=>{const m=u.getElementsByTagName("*");for(let p=0;p<m.length;p++){const x=m[p];if((x.localName==="operation"||x.tagName==="operation"||x.tagName==="wsdl:operation")&&x.parentElement===u){const g=x.getAttribute("name");g&&!c.includes(g)&&(c.push(g),console.log("Found operation in binding:",g))}}})}return{names:c,hasMultiple:c.length>1}}catch(t){return console.error("Error extracting WSDL operations:",t),{names:[],hasMultiple:!1}}},T1=e=>{try{const{names:t,hasMultiple:n}=f4(e);return console.log("WSDL operation extraction result:",{names:t,hasMultiple:n}),t.length===1?t[0]:(t.length>1,null)}catch(t){return console.error("Error extracting WSDL part name:",t),null}},oX=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))return null;const a=n.documentElement,o=a.getAttribute("targetNamespace")||"",i=n.querySelectorAll("address, soap\\:address, soap12\\:address");let l="";i.length>0&&(l=i[0].getAttribute("location")||"");let c="";for(let d=0;d<a.attributes.length;d++){const u=a.attributes[d];if(u.name.startsWith("xmlns:")&&u.value===o){c=u.name.replace("xmlns:","");break}}return{uri:o,prefix:c,targetNamespace:o,schemaLocation:l}}catch{return null}},x4=e=>{try{const n=new DOMParser().parseFromString(e,"text/xml"),r=n.querySelector("parsererror");if(r)return console.error("WSDL parsing error:",r),[];const a=[],o=n.getElementsByTagName("*"),i=[];for(let c=0;c<o.length;c++){const d=o[c];(d.localName==="binding"||d.tagName==="binding"||d.tagName==="wsdl:binding")&&i.push(d)}return i.forEach(c=>{const d=c.getElementsByTagName("*");for(let u=0;u<d.length;u++){const m=d[u];if((m.localName==="operation"||m.tagName==="operation"||m.tagName==="wsdl:operation")&&m.parentElement===c){const p=m.getAttribute("name");if(p){const x=m.getElementsByTagName("*");for(let g=0;g<x.length;g++){const f=x[g];if(f.localName==="operation"&&(f.namespaceURI==="http://schemas.xmlsoap.org/wsdl/soap/"||f.namespaceURI==="http://schemas.xmlsoap.org/wsdl/soap12/")){const w=f.getAttribute("soapAction");w!==null&&a.push({operationName:p,soapAction:w})}}}}}}),a.filter((c,d,u)=>d===u.findIndex(m=>m.operationName===c.operationName))}catch(t){return console.error("Error extracting SOAP actions:",t),[]}},Fp=e=>{const t={};return e.forEach(n=>{n.children&&n.children.length>0?t[n.name]=Fp(n.children):t[n.name]=n.type}),t};class iX{async createStructure(t){return ee.post("/structures",t)}async getStructures(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(i=>n.append(a,i.toString())):n.append(a,o.toString()))});const r=`/structures${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async getStructure(t){return ee.get(`/structures/${t}`)}async updateStructure(t,n){return ee.put(`/structures/${t}`,n)}async deleteStructure(t){return ee.delete(`/structures/${t}`)}async validateStructure(t,n){return ee.post("/structures/validate",{structure:t,type:n})}async parseStructure(t,n){return ee.post("/structures/parse",{content:t,type:n})}async generateSampleData(t,n){const r=`/structures/${t}/sample${n?`?format=${n}`:""}`;return ee.get(r)}async getStructureUsage(t){return ee.get(`/structures/${t}/usage`)}async cloneStructure(t,n){return ee.post(`/structures/${t}/clone`,{name:n})}async compareStructures(t,n){return ee.post("/structures/compare",{sourceId:t,targetId:n})}async getStructureMappings(t,n){return ee.get(`/structures/mappings?source=${t}&target=${n}`)}async exportStructure(t,n){return ee.get(`/structures/${t}/export?format=${n}`)}async searchStructures(t,n){const r=new URLSearchParams({q:t});return n&&Object.entries(n).forEach(([a,o])=>{o!==void 0&&r.append(a,o.toString())}),ee.get(`/structures/search?${r.toString()}`)}async getStructureVersions(t){return ee.get(`/structures/${t}/versions`)}}const Oo=new iX,lX=[{id:"1",name:"Business Component Order",type:"json",description:"Standard businessComponent order structure",structure:{orderId:"string",businessComponentId:"string",items:"array",totalAmount:"decimal",orderDate:"datetime"},createdAt:"2024-01-15",usage:"source"},{id:"2",name:"Payment Response",type:"soap",description:"Payment gateway response format",structure:{transactionId:"string",status:"string",amount:"decimal",currency:"string"},createdAt:"2024-01-10",usage:"target"},{id:"3",name:"Business Component Profile",type:"json",description:"Detailed businessComponent profile with nested address information",structure:{businessComponent:{id:"string",firstName:"string",lastName:"string",email:"string",phone:"string",dateOfBirth:"date",address:{street:"string",city:"string",state:"string",zipCode:"string",country:"string"},preferences:{newsletter:"boolean",smsNotifications:"boolean",language:"string"}}},createdAt:"2024-01-12",usage:"source"},{id:"4",name:"Product Catalog",type:"json",description:"Product information with categories and pricing",structure:{products:{id:"string",name:"string",description:"string",category:{id:"string",name:"string",parentCategory:"string"},pricing:{basePrice:"decimal",currency:"string",discountPercentage:"decimal",taxRate:"decimal"},inventory:{quantity:"integer",warehouse:"string",lastUpdated:"datetime"},specifications:{weight:"decimal",dimensions:{length:"decimal",width:"decimal",height:"decimal"},color:"string",material:"string"}}},createdAt:"2024-01-08",usage:"source"},{id:"5",name:"Invoice Data",type:"xsd",description:"Standard invoice format for accounting systems",structure:{invoice:{header:{invoiceNumber:"string",invoiceDate:"date",dueDate:"date",currency:"string"},vendor:{vendorId:"string",companyName:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"},taxId:"string"},businessComponent:{businessComponentId:"string",companyName:"string",contactPerson:"string",address:{street:"string",city:"string",postalCode:"string",country:"string"}},lineItems:{item:{lineNumber:"integer",productId:"string",description:"string",quantity:"decimal",unitPrice:"decimal",taxAmount:"decimal",lineTotal:"decimal"}},totals:{subtotal:"decimal",totalTax:"decimal",totalAmount:"decimal"}}},createdAt:"2024-01-05",usage:"target"},{id:"6",name:"Sales Report",type:"json",description:"Comprehensive sales reporting structure",structure:{report:{metadata:{reportId:"string",generatedAt:"datetime",period:{startDate:"date",endDate:"date"},reportType:"string"},summary:{totalSales:"decimal",totalOrders:"integer",averageOrderValue:"decimal",topProducts:{productId:"string",productName:"string",salesCount:"integer",revenue:"decimal"}},salesData:{daily:{date:"date",orders:"integer",revenue:"decimal",customers:"integer"},byRegion:{region:"string",orders:"integer",revenue:"decimal",growthRate:"decimal"}}}},createdAt:"2024-01-03",usage:"target"},{id:"7",name:"Employee Record",type:"custom",description:"HR system employee data structure",structure:{employee:{personalInfo:{employeeId:"string",firstName:"string",lastName:"string",middleName:"string",dateOfBirth:"date",ssn:"string",address:{home:{street:"string",city:"string",state:"string",zipCode:"string"},mailing:{street:"string",city:"string",state:"string",zipCode:"string"}}},employment:{hireDate:"date",department:"string",position:"string",manager:"string",salary:{amount:"decimal",currency:"string",payFrequency:"string"},benefits:{healthInsurance:"boolean",dentalInsurance:"boolean",retirement401k:"boolean",vacationDays:"integer"}}}},createdAt:"2024-01-01",usage:"source"}],Nc=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(null),[a,o]=h.useState(!1),{toast:i}=He();h.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0),console.log("Loading data structures from backend...");const p=await Oo.getStructures();if(p.success&&p.data){console.log("API structures loaded:",p.data.structures||p.data);const x=p.data.structures||p.data||[];if(typeof x=="string"&&x.includes("<!DOCTYPE html>")){console.log("API endpoint not implemented yet, showing sample data"),t(lX),i({title:"Info",description:"Data structures API not available yet. Showing sample data."});return}console.log(`API returned ${x.length} structures`),t(x)}else console.log("API failed, showing empty list"),t([])}catch(p){console.error("Error loading structures, showing empty list:",p),t([])}finally{o(!1)}};return{structures:e,selectedStructure:n,setSelectedStructure:r,saveStructure:async(p,x,g,f,w,j,v,y,N,b,E)=>{if(!p)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let S={},A={};if(f)S=oj(f);else if(v){const L=Dp(v);L&&typeof L=="object"&&"structure"in L?(S=L.structure,L.operationInfo&&(A.operationInfo=L.operationInfo)):S=L}else if(w)S={message:"XSD parsing not fully implemented yet"};else if(j)S={message:"EDMX parsing not fully implemented yet"};else if(y.length>0)S=Fp(y);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let O,I;f?(O=f,I="json"):v?(O=v,I="xml"):w?(O=w,I="xml"):j&&(O=j,I="xml");const F={name:p,type:f?"json":v?"wsdl":w?"xsd":"custom",description:x,usage:g,structure:S,originalContent:O,originalFormat:I,businessComponentId:E,namespace:(N==="xsd"||N==="wsdl"||N==="edmx")&&b.uri?b:void 0,metadata:Object.keys(A).length>0?A:void 0};try{console.log("Saving structure to backend:",F);const L=await Oo.createStructure(F);return L.success&&L.data?(console.log("Structure saved successfully:",L.data),await l(),i({title:"Structure Saved",description:`Data structure "${p}" has been created successfully`}),!0):(console.error("Failed to save structure:",L.error),i({title:"Save Failed",description:"Failed to save data structure to the backend",variant:"destructive"}),!1)}catch(L){console.error("Error saving structure:",L);let U="An error occurred while saving the data structure";return L.response?(console.error("Error response data:",L.response),L.response.detail?U=L.response.detail:L.response.message?U=L.response.message:L.response.error?U=L.response.error:typeof L.response=="string"&&(U=L.response)):L.message&&(U=L.message),i({title:"Save Error",description:U,variant:"destructive"}),!1}},updateStructure:async(p,x,g,f,w,j,v,y,N,b,E,S)=>{if(!x)return i({title:"Validation Error",description:"Please provide a structure name",variant:"destructive"}),!1;let A={},O={};if(w)A=oj(w);else if(y){const U=Dp(y);U&&typeof U=="object"&&"structure"in U?(A=U.structure,U.operationInfo&&(O.operationInfo=U.operationInfo)):A=U}else if(j)A={message:"XSD parsing not fully implemented yet"};else if(v)A={message:"EDMX parsing not fully implemented yet"};else if(N.length>0)A=Fp(N);else return i({title:"Validation Error",description:"Please define a structure using JSON, XSD, EDMX, WSDL, or custom fields",variant:"destructive"}),!1;let I,F;w?(I=w,F="json"):y?(I=y,F="xml"):j?(I=j,F="xml"):v&&(I=v,F="xml");const L={name:x,type:w?"json":y?"wsdl":j?"xsd":"custom",description:g,usage:f,structure:A,originalContent:I,originalFormat:F,businessComponentId:S,namespace:(b==="xsd"||b==="wsdl"||b==="edmx")&&E.uri?E:void 0,metadata:Object.keys(O).length>0?O:void 0};try{console.log("Updating structure:",p,L);const U=await Oo.updateStructure(p,L);return U.success&&U.data?(console.log("Structure updated successfully:",U.data),await l(),i({title:"Structure Updated",description:`Data structure "${x}" has been updated successfully`}),!0):(console.error("Failed to update structure:",U.error),i({title:"Update Failed",description:"Failed to update data structure",variant:"destructive"}),!1)}catch(U){console.error("Error updating structure:",U);let k="An error occurred while updating the data structure";return U.response?(console.error("Error response data:",U.response),U.response.detail?k=U.response.detail:U.response.message?k=U.response.message:U.response.error?k=U.response.error:typeof U.response=="string"&&(k=U.response)):U.message&&(k=U.message),i({title:"Update Error",description:k,variant:"destructive"}),!1}},deleteStructure:async p=>{try{console.log("Deleting structure:",p);const x=await Oo.deleteStructure(p);x.success?(console.log("Structure deleted successfully"),await l(),n?.id===p&&r(null),i({title:"Structure Deleted",description:"Data structure has been removed"})):(console.error("Failed to delete structure:",x.error),i({title:"Delete Failed",description:"Failed to delete data structure",variant:"destructive"}))}catch(x){console.error("Error deleting structure:",x),i({title:"Delete Error",description:"An error occurred while deleting the data structure",variant:"destructive"})}},duplicateStructure:async p=>{try{console.log("Duplicating structure:",p.name);const x=await Oo.cloneStructure(p.id,`${p.name} (Copy)`);x.success&&x.data?(console.log("Structure duplicated successfully:",x.data),await l(),i({title:"Structure Duplicated",description:`Created copy of "${p.name}"`})):(console.error("Failed to duplicate structure:",x.error),i({title:"Duplicate Failed",description:"Failed to duplicate data structure",variant:"destructive"}))}catch(x){console.error("Error duplicating structure:",x),i({title:"Duplicate Error",description:"An error occurred while duplicating the data structure",variant:"destructive"})}},loading:a,refreshStructures:l}};function g4({fields:e,mappings:t,side:n,selectedField:r,onToggleExpanded:a,onDragStart:o,onDragEnd:i,onDragOver:l,onDrop:c,onSelectField:d}){const u=h.useCallback((m,p)=>{const x=!m.children||m.children.length===0,g=m.type==="array"||m.name.endsWith("[]"),f=!x&&(g||m.type==="object"),w=n==="source"&&(x||f),j=n==="target"&&(x||f),v=t.some(N=>{if(n==="source"){const b=N.sourcePaths&&N.sourcePaths.includes(m.path),E=N.sourceFields&&N.sourceFields.includes(m.name);return b||E}else return N.targetPath===m.path||N.targetField===m.name}),y=r?.id===m.id;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${y?"bg-primary/20 border-primary ring-1 ring-primary":v?"bg-primary/10 border-primary border-dotted border-2":"bg-background hover:bg-muted/50"} ${w?"cursor-grab active:cursor-grabbing":""} ${j&&!v?"border-dashed border-2 hover:border-primary cursor-pointer":""}`,style:{marginLeft:`${p*16}px`},draggable:w,onClick:()=>{d&&d(m)},onDragStart:N=>{w&&o&&(N.dataTransfer.effectAllowed="copy",N.dataTransfer.setData("application/json",JSON.stringify(m)),o(m))},onDragEnd:N=>{w&&i&&i()},onDragOver:j?l:void 0,onDrop:N=>{j&&(N.preventDefault(),N.stopPropagation(),c?.(m))},children:[!x&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>a(m.id,n==="source"),className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:m.expanded?s.jsx(cr,{className:"h-3 w-3"}):s.jsx(nn,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:m.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:m.type}),v&&s.jsx(j8,{className:"h-3 w-3 text-primary"}),f&&s.jsx(ae,{variant:"secondary",className:"text-xs",children:"Node"})]}),n==="source"&&w&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag "}),n==="target"&&j&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"})]}),!x&&m.expanded&&m.children&&s.jsx("div",{className:"ml-4",children:m.children.map(N=>u(N,p+1))})]},m.id)},[t,n,r,a,o,i,l,c,d]);return s.jsx("div",{className:"space-y-2",children:e.map(m=>u(m,0))})}const dt=f0,eh=kF,cX=x0,v4=h.forwardRef(({className:e,...t},n)=>s.jsx(Bu,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v4.displayName=Bu.displayName;const ot=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(cX,{children:[s.jsx(v4,{}),s.jsxs(Hu,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(ox,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ot.displayName=Hu.displayName;const ut=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ut.displayName="DialogHeader";const mr=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mr.displayName="DialogFooter";const ht=h.forwardRef(({className:e,...t},n)=>s.jsx(qu,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));ht.displayName=qu.displayName;const Fs=h.forwardRef(({className:e,...t},n)=>s.jsx(zu,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));Fs.displayName=zu.displayName;function y4({isOpen:e,onOpenChange:t,selectedService:n,onSelectService:r,title:a,usage:o,businessComponentId:i}){const{structures:l}=Nc(),c=l.filter(d=>{const u=d.usage===o,m=!i||d.businessComponentId===i;return u&&m});return s.jsxs(dt,{open:e,onOpenChange:t,children:[s.jsx(eh,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Select"]})}),s.jsxs(ot,{className:"max-w-2xl",children:[s.jsx(ut,{children:s.jsx(ht,{children:a})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Data Structure"}),s.jsxs(G,{onValueChange:r,value:n,children:[s.jsx(Y,{className:"w-full",children:s.jsx(J,{placeholder:"Choose a data structure..."})}),s.jsx(X,{className:"bg-background border shadow-lg z-50",children:c.map(d=>s.jsx(M,{value:d.name,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:d.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.type.toUpperCase(),"  ",d.description||"No description"]})]})},d.id))})]})]}),c.length===0&&s.jsx("div",{className:"border rounded-md p-3 space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["No data structures found for ",o," usage. Please create data structures on the Data Structures page first."]})}),n&&s.jsxs("div",{className:"border rounded-md p-3 space-y-2 bg-muted/20",children:[s.jsx("div",{className:"text-sm font-medium",children:"Selected Structure"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:c.find(d=>d.name===n)?.description||n})]})]})]})]})}function dX({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragStart:u,onDragEnd:m,onSelectField:p,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-r bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(C,{className:"font-semibold",children:"Source Message"}),!g&&s.jsx(y4,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Source Message",usage:"source"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No source selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(_,{placeholder:"Search source fields...",value:r,onChange:f=>i(f.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(Xe,{children:s.jsx(Ge,{children:"Select a source data structure to view fields"})}):s.jsx(g4,{fields:e,mappings:t,side:"source",selectedField:o,onToggleExpanded:d,onDragStart:u,onDragEnd:m,onSelectField:p})})]})}function uX({fields:e,mappings:t,selectedService:n,searchValue:r,showSelector:a,selectedField:o,onSearchChange:i,onShowSelectorChange:l,onSelectService:c,onToggleExpanded:d,onDragOver:u,onDrop:m,onSelectField:p,isLoading:x=!1,hideSelector:g=!1}){return s.jsxs("div",{className:"w-1/3 border-l bg-muted/20 animate-fade-in",children:[s.jsxs("div",{className:"p-4 border-b bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(C,{className:"font-semibold",children:"Target Message"}),!g&&s.jsx(y4,{isOpen:a,onOpenChange:l,selectedService:n,onSelectService:c,title:"Select Target Message",usage:"target"})]}),s.jsx("div",{className:"text-sm text-muted-foreground mb-3 p-2 bg-background border rounded",children:n||"No target selected"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(_,{placeholder:"Search target fields...",value:r,onChange:f=>i(f.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"p-4 h-[calc(100%-140px)] overflow-y-auto",children:x?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Converting structure to XML..."})]})}):e.length===0?s.jsx(Xe,{children:s.jsx(Ge,{children:"Select a target data structure to view fields"})}):s.jsx(g4,{fields:e,mappings:t,side:"target",selectedField:o,onToggleExpanded:d,onDragOver:u,onDrop:m,onSelectField:p})})]})}const hX=[{name:"add",category:"math",description:"Add two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e+t,javaTemplate:"add({0}, {1})"},{name:"subtract",category:"math",description:"Subtract two numbers",parameters:[{name:"a",type:"number",required:!0,description:"First number"},{name:"b",type:"number",required:!0,description:"Second number"}],execute:(e,t)=>e-t,javaTemplate:"subtract({0}, {1})"},{name:"multiply",category:"math",description:"Multiply two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e*t,javaTemplate:"multiply({0}, {1})"},{name:"divide",category:"math",description:"Divide two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e/t,javaTemplate:"divide({0}, {1})"},{name:"equals",category:"math",description:"Check if two numbers are equal",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"absolute",category:"math",description:"Get absolute value of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.abs(e),javaTemplate:"absolute({0})"},{name:"sqrt",category:"math",description:"Get square root of a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sqrt(e),javaTemplate:"sqrt({0})"},{name:"square",category:"math",description:"Square a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>e*e,javaTemplate:"square({0})"},{name:"sign",category:"math",description:"Get sign of a number (-1, 0, or 1)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.sign(e),javaTemplate:"sign({0})"},{name:"neg",category:"math",description:"Negate a number",parameters:[{name:"value",type:"number",required:!0}],execute:e=>-e,javaTemplate:"neg({0})"},{name:"inv",category:"math",description:"Get inverse of a number (1/x)",parameters:[{name:"value",type:"number",required:!0}],execute:e=>1/e,javaTemplate:"inv({0})"},{name:"power",category:"math",description:"Raise number to power",parameters:[{name:"base",type:"number",required:!0},{name:"exponent",type:"number",required:!0}],execute:(e,t)=>Math.pow(e,t),javaTemplate:"power({0}, {1})"},{name:"lesser",category:"math",description:"Check if first number is less than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e<t,javaTemplate:"lesser({0}, {1})"},{name:"greater",category:"math",description:"Check if first number is greater than second",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>e>t,javaTemplate:"greater({0}, {1})"},{name:"max",category:"math",description:"Get maximum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.max(e,t),javaTemplate:"max({0}, {1})"},{name:"min",category:"math",description:"Get minimum of two numbers",parameters:[{name:"a",type:"number",required:!0},{name:"b",type:"number",required:!0}],execute:(e,t)=>Math.min(e,t),javaTemplate:"min({0}, {1})"},{name:"ceil",category:"math",description:"Round number up to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.ceil(e),javaTemplate:"ceil({0})"},{name:"floor",category:"math",description:"Round number down to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.floor(e),javaTemplate:"floor({0})"},{name:"round",category:"math",description:"Round number to nearest integer",parameters:[{name:"value",type:"number",required:!0}],execute:e=>Math.round(e),javaTemplate:"round({0})"},{name:"counter",category:"math",description:"Generate incremental counter",parameters:[{name:"start",type:"number",required:!1,description:"Starting value"},{name:"step",type:"number",required:!1,description:"Increment step"}],execute:(e=1,t=1)=>e+t,javaTemplate:"counter({0}, {1})"},{name:"formatNumber",category:"math",description:"Format number with specified total digits and decimal places",parameters:[{name:"value",type:"number",required:!0,description:"Number to format"},{name:"totalDigits",type:"number",required:!0,description:"Total number of digits required (adds trailing zeros)"},{name:"decimals",type:"number",required:!1,description:"Number of decimal places"}],execute:(e,t,n=2)=>Number(e.toFixed(n)).toString().padStart(t,"0"),javaTemplate:"formatNumber({0}, {1}, {2})"},{name:"sum",category:"math",description:"Sum multiple numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers to sum"}],execute:e=>e.reduce((t,n)=>t+n,0),javaTemplate:"sum({0})"},{name:"average",category:"math",description:"Calculate average of numbers",parameters:[{name:"values",type:"array",required:!0,description:"Array of numbers"}],execute:e=>e.reduce((t,n)=>t+n,0)/e.length,javaTemplate:"average({0})"},{name:"count",category:"math",description:"Count elements in array",parameters:[{name:"values",type:"array",required:!0,description:"Array to count"}],execute:e=>e.length,javaTemplate:"count({0})"},{name:"index",category:"math",description:"Get current index in iteration",parameters:[{name:"position",type:"number",required:!0,description:"Current position"}],execute:e=>e,javaTemplate:"index({0})"}],mX=[{name:"concat",category:"text",description:"Concatenate two strings with optional delimiter",parameters:[{name:"string1",type:"string",required:!0,description:"First string to concatenate"},{name:"string2",type:"string",required:!0,description:"Second string to concatenate"},{name:"delimiter",type:"string",required:!1,description:"Optional delimiter between strings"}],execute:(e,t,n)=>n?e+n+t:e+t,javaTemplate:"concat({0}, {1}, {2})"},{name:"substring",category:"text",description:"Extract substring from text",parameters:[{name:"text",type:"string",required:!0},{name:"start",type:"number",required:!0},{name:"end",type:"number",required:!1}],execute:(e,t,n)=>e.substring(t,n),javaTemplate:"substring({0}, {1}, {2})"},{name:"equals",category:"text",description:"Check if two strings are equal",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"indexOf",category:"text",description:"Find index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.indexOf(t),javaTemplate:"indexOf({0}, {1})"},{name:"lastIndexOf",category:"text",description:"Find last index of substring",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0}],execute:(e,t)=>e.lastIndexOf(t),javaTemplate:"lastIndexOf({0}, {1})"},{name:"compare",category:"text",description:"Compare two strings lexicographically",parameters:[{name:"string1",type:"string",required:!0},{name:"string2",type:"string",required:!0}],execute:(e,t)=>e.localeCompare(t),javaTemplate:"compare({0}, {1})"},{name:"replaceString",category:"text",description:"Replace substring in text",parameters:[{name:"text",type:"string",required:!0},{name:"searchValue",type:"string",required:!0},{name:"replaceValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceString({0}, {1}, {2})"},{name:"length",category:"text",description:"Get length of string",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.length,javaTemplate:"length({0})"},{name:"endsWith",category:"text",description:"Check if string ends with specified suffix",parameters:[{name:"text",type:"string",required:!0},{name:"suffix",type:"string",required:!0}],execute:(e,t)=>e.endsWith(t),javaTemplate:"endsWith({0}, {1})"},{name:"startsWith",category:"text",description:"Check if string starts with specified prefix",parameters:[{name:"text",type:"string",required:!0},{name:"prefix",type:"string",required:!0}],execute:(e,t)=>e.startsWith(t),javaTemplate:"startsWith({0}, {1})"},{name:"toUpperCase",category:"text",description:"Convert text to uppercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toUpperCase(),javaTemplate:"toUpperCase({0})"},{name:"toLowerCase",category:"text",description:"Convert text to lowercase",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.toLowerCase(),javaTemplate:"toLowerCase({0})"},{name:"trim",category:"text",description:"Remove whitespace from both ends",parameters:[{name:"text",type:"string",required:!0}],execute:e=>e.trim(),javaTemplate:"trim({0})"}],pX=[{name:"and",category:"boolean",description:"Logical AND operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e&&t,javaTemplate:"and({0}, {1})"},{name:"or",category:"boolean",description:"Logical OR operation",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e||t,javaTemplate:"or({0}, {1})"},{name:"not",category:"boolean",description:"Logical NOT operation",parameters:[{name:"value",type:"boolean",required:!0}],execute:e=>!e,javaTemplate:"not({0})"},{name:"equals",category:"boolean",description:"Check if two boolean values are equal",parameters:[{name:"a",type:"boolean",required:!0},{name:"b",type:"boolean",required:!0}],execute:(e,t)=>e===t,javaTemplate:"equals({0}, {1})"},{name:"notEquals",category:"boolean",description:"Check if two values are not equal",parameters:[{name:"a",type:"string",required:!0},{name:"b",type:"string",required:!0}],execute:(e,t)=>e!==t,javaTemplate:"notEquals({0}, {1})"},{name:"if",category:"boolean",description:"Conditional logic with true/false branches",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0},{name:"falseValue",type:"string",required:!0}],execute:(e,t,n)=>e?t:n,javaTemplate:"if({0}, {1}, {2})"},{name:"ifWithoutElse",category:"boolean",description:"Conditional logic without else branch",parameters:[{name:"condition",type:"boolean",required:!0},{name:"trueValue",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"ifWithoutElse({0}, {1})"},{name:"isNil",category:"boolean",description:"Check if value is null or undefined",parameters:[{name:"value",type:"string",required:!0}],execute:e=>e==null,javaTemplate:"isNil({0})"}],fX=[{name:"fixValues",category:"conversion",description:"Fix and validate values according to specified format",parameters:[{name:"value",type:"string",required:!0,description:"Value to fix"},{name:"format",type:"string",required:!0,description:"Target format"}],execute:(e,t)=>e,javaTemplate:"fixValues({0}, {1})"}],xX=[{name:"currentDate",category:"date",description:"Get current date",parameters:[{name:"format",type:"string",required:!1,description:"Date format (optional)"}],execute:e=>new Date().toISOString(),javaTemplate:"currentDate({0})"},{name:"dateTrans",category:"date",description:"Transform date format",parameters:[{name:"date",type:"string",required:!0,description:"Input date"},{name:"fromFormat",type:"string",required:!0,description:"Input date format"},{name:"toFormat",type:"string",required:!0,description:"Output date format"},{name:"firstWeekday",type:"string",required:!1,description:"First day of week (Sunday, Monday, etc.)"},{name:"minDays",type:"number",required:!1,description:"Minimum days in first week"},{name:"lenient",type:"boolean",required:!1,description:"Enable lenient parsing"}],execute:(e,t,n,r,a,o)=>e,javaTemplate:"dateTrans({0}, {1}, {2}, {3}, {4}, {5})"},{name:"dateBefore",category:"date",description:"Check if first date is before second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)<new Date(t),javaTemplate:"dateBefore({0}, {1})"},{name:"dateAfter",category:"date",description:"Check if first date is after second date",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>new Date(e)>new Date(t),javaTemplate:"dateAfter({0}, {1})"},{name:"compareDates",category:"date",description:"Compare two dates (-1, 0, 1)",parameters:[{name:"date1",type:"string",required:!0},{name:"date2",type:"string",required:!0}],execute:(e,t)=>{const n=new Date(e),r=new Date(t);return n<r?-1:n>r?1:0},javaTemplate:"compareDates({0}, {1})"}],gX=[{name:"createIf",category:"node",description:"Create conditional node structure",parameters:[{name:"condition",type:"boolean",required:!0},{name:"value",type:"string",required:!0}],execute:(e,t)=>e?t:null,javaTemplate:"createIf({0}, {1})"},{name:"removeContexts",category:"node",description:"Remove context from node structure",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e,javaTemplate:"removeContexts({0})"},{name:"replaceValue",category:"node",description:"Replace value in node structure",parameters:[{name:"node",type:"string",required:!0},{name:"oldValue",type:"string",required:!0},{name:"newValue",type:"string",required:!0}],execute:(e,t,n)=>e.replace(t,n),javaTemplate:"replaceValue({0}, {1}, {2})"},{name:"exists",category:"node",description:"Check if node exists",parameters:[{name:"node",type:"string",required:!0}],execute:e=>e!=null&&e!=="",javaTemplate:"exists({0})"},{name:"getHeader",category:"node",description:"Get header value from message",parameters:[{name:"headerName",type:"string",required:!0}],execute:e=>`header_${e}`,javaTemplate:"getHeader({0})"},{name:"getProperty",category:"node",description:"Get property value",parameters:[{name:"propertyName",type:"string",required:!0}],execute:e=>`property_${e}`,javaTemplate:"getProperty({0})"},{name:"splitByValue",category:"node",description:"Split node by delimiter",parameters:[{name:"value",type:"string",required:!0},{name:"delimiter",type:"string",required:!0}],execute:(e,t)=>e.split(t),javaTemplate:"splitByValue({0}, {1})"},{name:"collapseContexts",category:"node",description:"Collapse multiple contexts into one",parameters:[{name:"contexts",type:"array",required:!0}],execute:e=>e.join(""),javaTemplate:"collapseContexts({0})"},{name:"useOneAsMany",category:"node",description:"Replicate a field that occurs once to pair with fields that occur multiple times",parameters:[{name:"singleField",type:"string",required:!0,description:"Field that occurs 1..1 (once)"},{name:"countField",type:"string",required:!0,description:"Field that determines replication count"},{name:"multipleField",type:"string",required:!0,description:"Field that occurs multiple times and provides context"}],execute:(e,t,n)=>[e],javaTemplate:"useOneAsMany({0}, {1}, {2})"},{name:"sort",category:"node",description:"Sort array of values",parameters:[{name:"values",type:"array",required:!0}],execute:e=>[...e].sort(),javaTemplate:"sort({0})"},{name:"sortByKey",category:"node",description:"Sort array by specific key",parameters:[{name:"values",type:"array",required:!0},{name:"key",type:"string",required:!0}],execute:(e,t)=>[...e].sort((n,r)=>n[t]-r[t]),javaTemplate:"sortByKey({0}, {1})"},{name:"mapWithDefault",category:"node",description:"Map value with default fallback",parameters:[{name:"value",type:"string",required:!0},{name:"defaultValue",type:"string",required:!0}],execute:(e,t)=>e||t,javaTemplate:"mapWithDefault({0}, {1})"},{name:"formatByExample",category:"node",description:"Format value using example pattern",parameters:[{name:"value",type:"string",required:!0},{name:"example",type:"string",required:!0}],execute:(e,t)=>e,javaTemplate:"formatByExample({0}, {1})"}],vX=[{name:"constant",category:"constants",description:"Set a fixed value",parameters:[{name:"value",type:"string",required:!0,description:"The constant value to return"}],execute:e=>e,javaTemplate:'constant("{0}")'}],j0={math:hX,text:mX,boolean:pX,conversion:fX,date:xX,node:gX,constants:vX},yX=({open:e,onClose:t,selectedFunction:n,sourceFields:r,targetField:a,onApplyMapping:o})=>{const i=h.useRef(null),l=h.useRef(null),[c,d]=h.useState({id:"function_modal",functionName:n,parameters:{},sourceConnections:{},position:{x:0,y:0}}),[u,m]=h.useState([]),[p,x]=h.useState({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[g,f]=h.useState(new Set),[w,j]=h.useState(!1),y=Object.values(j0).flat().find(F=>F.name===n),N=h.useCallback((F,L)=>{L.preventDefault(),L.stopPropagation(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",console.log(" DRAG START - Field:",F.name,"Position:",{x:L.clientX,y:L.clientY}),console.log(" DRAG START - Event target:",L.target),console.log(" DRAG START - Event currentTarget:",L.currentTarget),x({isDragging:!0,draggedItem:F,startPosition:{x:L.clientX,y:L.clientY},currentPosition:{x:L.clientX,y:L.clientY}});const U=new Set;y?.parameters.forEach(k=>{!k.name.toLowerCase().includes("delimiter")&&!k.name.toLowerCase().includes("separator")&&(U.add(`param-${c.id}-${k.name}`),console.log(" DRAG START - Added drop target:",`param-${c.id}-${k.name}`))}),f(U),console.log(" DRAG START - Total drop targets:",U.size)},[y,c.id]),b=h.useCallback(F=>{p.isDragging&&(console.log(" DRAG MOVE - Position:",{x:F.clientX,y:F.clientY}),console.log(" DRAG MOVE - Element under mouse:",document.elementFromPoint(F.clientX,F.clientY)),x(L=>({...L,currentPosition:{x:F.clientX,y:F.clientY}})))},[p.isDragging]),E=h.useCallback(F=>{if(console.log(" DRAG END - Starting mouse up handler"),console.log(" DRAG END - isDragging:",p.isDragging),console.log(" DRAG END - draggedItem:",p.draggedItem),!p.isDragging||!p.draggedItem){console.log(" DRAG END - Early return - no drag in progress");return}console.log(" DRAG END - Position:",{x:F.clientX,y:F.clientY});const L=document.elementFromPoint(F.clientX,F.clientY);console.log(" DRAG END - Element under mouse:",L),console.log(" DRAG END - Element tag:",L?.tagName),console.log(" DRAG END - Element classes:",L?.className),console.log(" DRAG END - Element data-param:",L?.getAttribute("data-param"));const U=L?.closest("[data-param]");if(console.log(" DRAG END - Drop zone found:",U),console.log(" DRAG END - Drop zone data-param:",U?.getAttribute("data-param")),U){const k=U.getAttribute("data-param");if(k){console.log(" DRAG END -  SUCCESS! Dropped on parameter:",k);const P=p.draggedItem;console.log(" DRAG END - Source field:",P),d(T=>{const R={...T,sourceConnections:{...T.sourceConnections,[k]:[P.path]}};return console.log(" DRAG END - Updated function node:",R),R}),setTimeout(()=>{console.log(" DRAG END - Creating visual connection");const T=document.querySelector(`[data-field-id="${P.id}"]`),R=U;if(console.log(" DRAG END - Source element found:",T),console.log(" DRAG END - Target element found:",R),console.log(" DRAG END - Canvas ref:",i.current),T&&R&&i.current){const D=i.current.getBoundingClientRect(),$=T.getBoundingClientRect(),V=R.getBoundingClientRect();console.log(" DRAG END - Canvas rect:",D),console.log(" DRAG END - Source rect:",$),console.log(" DRAG END - Target rect:",V);const B={id:`connection_${Date.now()}`,sourceId:P.id,targetId:`${c.id}-${k}`,sourceX:$.right-D.left,sourceY:$.top+$.height/2-D.top,targetX:V.left-D.left,targetY:V.top+V.height/2-D.top};console.log(" DRAG END - Connection created:",B),m(H=>{const z=[...H,B];return console.log(" DRAG END - All connections:",z),z})}else console.log(" DRAG END -  Failed to create connection - missing elements")},100)}else console.log(" DRAG END -  No param name found on drop zone")}else console.log(" DRAG END -  No drop zone found");document.body.style.userSelect="",document.body.style.webkitUserSelect="",console.log(" DRAG END - Resetting drag state"),x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),f(new Set),console.log(" DRAG END - Complete!")},[p,c.id]);kt.useEffect(()=>(console.log(" DRAG STATE CHANGE - isDragging:",p.isDragging),console.log(" DRAG STATE CHANGE - draggedItem:",p.draggedItem?.name),p.isDragging?(console.log(" DRAG STATE CHANGE - Adding global mouse listeners"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),()=>{console.log(" DRAG STATE CHANGE - Removing global mouse listeners"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E)}):()=>{}),[p.isDragging,b,E]);const S=h.useCallback(F=>{if(!a)return;F.dataTransfer.setData("text/plain","function-output"),F.dataTransfer.effectAllowed="move";const L=new Set;L.add(`target-${a.id}`),f(L)},[a]),A=h.useCallback(()=>{x({isDragging:!1,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),f(new Set)},[]);h.useCallback((F,L)=>{console.log("=== DROP EVENT ==="),console.log("Parameter:",F),console.log("Event type:",L.type),L.preventDefault(),L.stopPropagation();let U=L.dataTransfer.getData("application/json");const k=L.dataTransfer.getData("text/plain"),P=L.dataTransfer.getData("text/field-id");if(console.log("Drag data - JSON:",U),console.log("Drag data - Name:",k),console.log("Drag data - ID:",P),!U&&k){const R=r.find(D=>D.name===k);R&&(U=JSON.stringify(R))}if(!U){console.log("ERROR: No field data found in drag transfer");return}const T=JSON.parse(U);console.log("Parsed source field:",T),d(R=>({...R,sourceConnections:{...R.sourceConnections,[F]:[T.path]}})),setTimeout(()=>{const R=document.querySelector(`[data-field-id="${T.id}"]`),D=document.querySelector(`[data-param="${F}"]`);if(R&&D&&i.current){const $=i.current.getBoundingClientRect(),V=R.getBoundingClientRect(),B=D.getBoundingClientRect(),H={id:`connection_${Date.now()}`,sourceId:T.id,targetId:`${c.id}-${F}`,sourceX:V.right-$.left,sourceY:V.top+V.height/2-$.top,targetX:B.left-$.left,targetY:B.top+B.height/2-$.top};m(z=>[...z,H]),console.log("Connection created:",H)}},100),A(),console.log("=== DROP COMPLETE ===")},[c.id,A,r]);const O=h.useCallback(F=>{if(F.preventDefault(),F.dataTransfer.getData("text/plain")!=="function-output"||!a)return;j(!0);const U=document.querySelector('[data-function-output="true"]'),k=document.querySelector(`[data-target-field="${a.id}"]`);if(U&&k&&i.current){const P=i.current.getBoundingClientRect(),T=U.getBoundingClientRect(),R=k.getBoundingClientRect(),D={id:`connection_output_${Date.now()}`,sourceId:`${c.id}-output`,targetId:a.id,sourceX:T.right-P.left,sourceY:T.top+T.height/2-P.top,targetX:R.left-P.left,targetY:R.top+R.height/2-P.top};m($=>[...$,D])}},[c.id,a]),I=h.useCallback(()=>{if(!y||!w||!a)return;const F=[],L=[];Object.values(c.sourceConnections).forEach(k=>{k.forEach(P=>{L.push(P),F.push(P.split(".").pop()||P)})});const U={id:`mapping_${Date.now()}`,name:`${n}_to_${a.name}`,sourceFields:F,targetField:a.name,sourcePaths:L,targetPath:a.path,functionNode:{...c,id:`function_${Date.now()}`},requiresTransformation:!0};o(U),t()},[y,w,c,n,a,o,t]);return y?s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-6xl h-[80vh] p-0",children:[s.jsx(ut,{className:"p-6 pb-0",children:s.jsxs(ht,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Function Mapping: ",y.name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{onClick:I,disabled:!w||Object.keys(c.sourceConnections).length===0,className:"bg-primary text-primary-foreground",children:[s.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Apply Function"]}),s.jsxs(q,{variant:"outline",onClick:t,className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsxs("div",{ref:i,className:"relative w-full flex-1 bg-background/50 overflow-hidden",children:[s.jsxs("svg",{ref:l,className:"absolute inset-0 w-full h-full pointer-events-none z-10",style:{overflow:"visible"},children:[s.jsx("defs",{children:s.jsx("marker",{id:"arrowhead-modal",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:s.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"hsl(var(--primary))"})})}),u.map(F=>s.jsx("path",{d:`M ${F.sourceX} ${F.sourceY} C ${F.sourceX+100} ${F.sourceY}, ${F.targetX-100} ${F.targetY}, ${F.targetX} ${F.targetY}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead-modal)"},F.id))]}),s.jsxs("div",{className:"flex justify-between items-start px-4 pt-4 space-x-4",children:[s.jsx("div",{className:"w-72 h-60 overflow-y-auto",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm h-full",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Source Fields"}),s.jsx("div",{className:"space-y-2",children:r.map(F=>s.jsxs("div",{"data-field-id":F.id,className:ne("bg-background border-2 rounded p-3 transition-all hover:shadow-lg hover:border-primary/50 select-none",p.isDragging&&p.draggedItem?.id===F.id&&"opacity-70 scale-95"),style:{cursor:p.isDragging&&p.draggedItem?.id===F.id?"grabbing":"grab"},onMouseDown:L=>{L.preventDefault(),N(F,L)},children:[s.jsx("div",{className:"font-medium text-sm pointer-events-none",children:F.name}),s.jsx("div",{className:"text-xs text-muted-foreground pointer-events-none",children:F.type})]},F.id))})]})}),s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg overflow-visible w-60",style:{zIndex:5},children:[s.jsxs("div",{className:"bg-primary text-primary-foreground p-2 rounded-t-lg",children:[s.jsx("div",{className:"font-medium text-sm",children:y.name}),s.jsx("div",{className:"text-xs opacity-80",children:y.description})]}),s.jsx("div",{className:"p-2 space-y-2",children:y.parameters.map(F=>s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-xs",children:F.name}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:F.type}),F.name.toLowerCase().includes("delimiter")||F.name.toLowerCase().includes("separator")?s.jsx(_,{placeholder:`Enter ${F.name}`,value:c.parameters[F.name]||"",onChange:L=>d(U=>({...U,parameters:{...U.parameters,[F.name]:L.target.value}})),className:"h-8 text-xs"}):s.jsxs("div",{"data-param":F.name,className:ne("border-2 border-dashed border-muted-foreground/30 rounded p-2 text-sm transition-colors min-h-10",g.has(`param-${c.id}-${F.name}`)&&"border-primary bg-primary/10","hover:border-primary/50"),children:[c.sourceConnections[F.name]?.map((L,U)=>s.jsx("div",{className:"text-xs bg-primary/10 text-primary rounded px-1 py-0.5 mt-1 inline-block mr-1",children:L.split(".").pop()},U)),!c.sourceConnections[F.name]?.length&&s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"Drop here"})]})]},F.name))}),s.jsxs("div",{"data-function-output":"true",className:"bg-success/10 border-t border-success/20 p-2 text-center cursor-grab hover:bg-success/20 transition-colors",draggable:"true",onDragStart:S,onDragEnd:A,children:[s.jsx("div",{className:"text-xs font-medium text-success",children:"Output"}),s.jsx("div",{className:"text-xs text-success/80",children:"Drag to target"})]})]}),a&&s.jsx("div",{className:"w-72",children:s.jsxs("div",{className:"bg-card border rounded-lg p-2 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2 text-primary",children:"Target Field"}),s.jsxs("div",{"data-target-field":a.id,className:ne("bg-background border rounded p-3 transition-all",g.has(`target-${a.id}`)&&"border-primary bg-primary/10",w&&"border-success bg-success/10"),onDragOver:F=>F.preventDefault(),onDrop:O,children:[s.jsx("div",{className:"font-medium text-sm",children:a.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a.type}),w&&s.jsx("div",{className:"text-xs text-success mt-2 font-medium",children:" Function output connected"})]})]})})]})]}),s.jsx("div",{className:"border-t bg-muted/30 py-1 px-2 text-xs",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-muted-foreground",children:"Connect source  function  target"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:ne("px-1.5 py-0.5 rounded",Object.keys(c.sourceConnections).length>0?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Params: ",Object.keys(c.sourceConnections).length,"/",y.parameters.length]}),s.jsxs("span",{className:ne("px-1.5 py-0.5 rounded",w?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:["Output: ",w?"Connected":"Not connected"]})]})]})})]})}):null};function es(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=es(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var jX={value:()=>{}};function mx(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mm(n)}function Mm(e){this._=e}function wX(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mm.prototype=mx.prototype={constructor:Mm,on:function(e,t){var n=this._,r=wX(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=NX(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=P1(n[a],e.name,t);else if(t==null)for(a in n)n[a]=P1(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function NX(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function P1(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=jX,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var lj="http://www.w3.org/1999/xhtml";const A1={svg:"http://www.w3.org/2000/svg",xhtml:lj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function px(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),A1.hasOwnProperty(t)?{space:A1[t],local:e}:e}function bX(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===lj&&t.documentElement.namespaceURI===lj?t.createElement(e):t.createElementNS(n,e)}}function SX(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function j4(e){var t=px(e);return(t.local?SX:bX)(t)}function CX(){}function w0(e){return e==null?CX:function(){return this.querySelector(e)}}function EX(e){typeof e!="function"&&(e=w0(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=new Array(i),c,d,u=0;u<i;++u)(c=o[u])&&(d=e.call(c,c.__data__,u,o))&&("__data__"in c&&(d.__data__=c.__data__),l[u]=d);return new Cn(r,this._parents)}function TX(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function PX(){return[]}function w4(e){return e==null?PX:function(){return this.querySelectorAll(e)}}function AX(e){return function(){return TX(e.apply(this,arguments))}}function kX(e){typeof e=="function"?e=AX(e):e=w4(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],l=i.length,c,d=0;d<l;++d)(c=i[d])&&(r.push(e.call(c,c.__data__,d,i)),a.push(c));return new Cn(r,a)}function N4(e){return function(){return this.matches(e)}}function b4(e){return function(t){return t.matches(e)}}var RX=Array.prototype.find;function MX(e){return function(){return RX.call(this.children,e)}}function DX(){return this.firstElementChild}function FX(e){return this.select(e==null?DX:MX(typeof e=="function"?e:b4(e)))}var OX=Array.prototype.filter;function IX(){return Array.from(this.children)}function LX(e){return function(){return OX.call(this.children,e)}}function _X(e){return this.selectAll(e==null?IX:LX(typeof e=="function"?e:b4(e)))}function $X(e){typeof e!="function"&&(e=N4(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=[],c,d=0;d<i;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new Cn(r,this._parents)}function S4(e){return new Array(e.length)}function UX(){return new Cn(this._enter||this._groups.map(S4),this._parents)}function Op(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Op.prototype={constructor:Op,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function VX(e){return function(){return e}}function BX(e,t,n,r,a,o){for(var i=0,l,c=t.length,d=o.length;i<d;++i)(l=t[i])?(l.__data__=o[i],r[i]=l):n[i]=new Op(e,o[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function HX(e,t,n,r,a,o,i){var l,c,d=new Map,u=t.length,m=o.length,p=new Array(u),x;for(l=0;l<u;++l)(c=t[l])&&(p[l]=x=i.call(c,c.__data__,l,t)+"",d.has(x)?a[l]=c:d.set(x,c));for(l=0;l<m;++l)x=i.call(e,o[l],l,o)+"",(c=d.get(x))?(r[l]=c,c.__data__=o[l],d.delete(x)):n[l]=new Op(e,o[l]);for(l=0;l<u;++l)(c=t[l])&&d.get(p[l])===c&&(a[l]=c)}function qX(e){return e.__data__}function zX(e,t){if(!arguments.length)return Array.from(this,qX);var n=t?HX:BX,r=this._parents,a=this._groups;typeof e!="function"&&(e=VX(e));for(var o=a.length,i=new Array(o),l=new Array(o),c=new Array(o),d=0;d<o;++d){var u=r[d],m=a[d],p=m.length,x=WX(e.call(u,u&&u.__data__,d,r)),g=x.length,f=l[d]=new Array(g),w=i[d]=new Array(g),j=c[d]=new Array(p);n(u,m,f,w,j,x,t);for(var v=0,y=0,N,b;v<g;++v)if(N=f[v]){for(v>=y&&(y=v+1);!(b=w[y])&&++y<g;);N._next=b||null}}return i=new Cn(i,r),i._enter=l,i._exit=c,i}function WX(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KX(){return new Cn(this._exit||this._groups.map(S4),this._parents)}function YX(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function XX(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),l=new Array(a),c=0;c<i;++c)for(var d=n[c],u=r[c],m=d.length,p=l[c]=new Array(m),x,g=0;g<m;++g)(x=d[g]||u[g])&&(p[g]=x);for(;c<a;++c)l[c]=n[c];return new Cn(l,this._parents)}function GX(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function JX(e){e||(e=QX);function t(m,p){return m&&p?e(m.__data__,p.__data__):!m-!p}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],l=i.length,c=a[o]=new Array(l),d,u=0;u<l;++u)(d=i[u])&&(c[u]=d);c.sort(t)}return new Cn(a,this._parents).order()}function QX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ZX(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function eG(){return Array.from(this)}function tG(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function sG(){let e=0;for(const t of this)++e;return e}function nG(){return!this.node()}function rG(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,l;o<i;++o)(l=a[o])&&e.call(l,l.__data__,o,a);return this}function aG(e){return function(){this.removeAttribute(e)}}function oG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iG(e,t){return function(){this.setAttribute(e,t)}}function lG(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cG(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dG(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function uG(e,t){var n=px(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?oG:aG:typeof t=="function"?n.local?dG:cG:n.local?lG:iG)(n,t))}function C4(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hG(e){return function(){this.style.removeProperty(e)}}function mG(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pG(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function fG(e,t,n){return arguments.length>1?this.each((t==null?hG:typeof t=="function"?pG:mG)(e,t,n??"")):Vl(this.node(),e)}function Vl(e,t){return e.style.getPropertyValue(t)||C4(e).getComputedStyle(e,null).getPropertyValue(t)}function xG(e){return function(){delete this[e]}}function gG(e,t){return function(){this[e]=t}}function vG(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yG(e,t){return arguments.length>1?this.each((t==null?xG:typeof t=="function"?vG:gG)(e,t)):this.node()[e]}function E4(e){return e.trim().split(/^|\s+/)}function N0(e){return e.classList||new T4(e)}function T4(e){this._node=e,this._names=E4(e.getAttribute("class")||"")}T4.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function P4(e,t){for(var n=N0(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function A4(e,t){for(var n=N0(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function jG(e){return function(){P4(this,e)}}function wG(e){return function(){A4(this,e)}}function NG(e,t){return function(){(t.apply(this,arguments)?P4:A4)(this,e)}}function bG(e,t){var n=E4(e+"");if(arguments.length<2){for(var r=N0(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?NG:t?jG:wG)(n,t))}function SG(){this.textContent=""}function CG(e){return function(){this.textContent=e}}function EG(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function TG(e){return arguments.length?this.each(e==null?SG:(typeof e=="function"?EG:CG)(e)):this.node().textContent}function PG(){this.innerHTML=""}function AG(e){return function(){this.innerHTML=e}}function kG(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function RG(e){return arguments.length?this.each(e==null?PG:(typeof e=="function"?kG:AG)(e)):this.node().innerHTML}function MG(){this.nextSibling&&this.parentNode.appendChild(this)}function DG(){return this.each(MG)}function FG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OG(){return this.each(FG)}function IG(e){var t=typeof e=="function"?e:j4(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function LG(){return null}function _G(e,t){var n=typeof e=="function"?e:j4(e),r=t==null?LG:typeof t=="function"?t:w0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $G(){var e=this.parentNode;e&&e.removeChild(this)}function UG(){return this.each($G)}function VG(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BG(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HG(e){return this.select(e?BG:VG)}function qG(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zG(e){return function(t){e.call(this,t,this.__data__)}}function WG(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function KG(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function YG(e,t,n){return function(){var r=this.__on,a,o=zG(t);if(r){for(var i=0,l=r.length;i<l;++i)if((a=r[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function XG(e,t,n){var r=WG(e+""),a,o=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,u;c<d;++c)for(a=0,u=l[c];a<o;++a)if((i=r[a]).type===u.type&&i.name===u.name)return u.value}return}for(l=t?YG:KG,a=0;a<o;++a)this.each(l(r[a],t,n));return this}function k4(e,t,n){var r=C4(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function GG(e,t){return function(){return k4(this,e,t)}}function JG(e,t){return function(){return k4(this,e,t.apply(this,arguments))}}function QG(e,t){return this.each((typeof t=="function"?JG:GG)(e,t))}function*ZG(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,i;a<o;++a)(i=r[a])&&(yield i)}var R4=[null];function Cn(e,t){this._groups=e,this._parents=t}function th(){return new Cn([[document.documentElement]],R4)}function eJ(){return this}Cn.prototype=th.prototype={constructor:Cn,select:EX,selectAll:kX,selectChild:FX,selectChildren:_X,filter:$X,data:zX,enter:UX,exit:KX,join:YX,merge:XX,selection:eJ,order:GX,sort:JX,call:ZX,nodes:eG,node:tG,size:sG,empty:nG,each:rG,attr:uG,style:fG,property:yG,classed:bG,text:TG,html:RG,raise:DG,lower:OG,append:IG,insert:_G,remove:UG,clone:HG,datum:qG,on:XG,dispatch:QG,[Symbol.iterator]:ZG};function gn(e){return typeof e=="string"?new Cn([[document.querySelector(e)]],[document.documentElement]):new Cn([[e]],R4)}function tJ(e){let t;for(;t=e.sourceEvent;)e=t;return e}function er(e,t){if(e=tJ(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const sJ={passive:!1},Zd={capture:!0,passive:!1};function _g(e){e.stopImmediatePropagation()}function Tl(e){e.preventDefault(),e.stopImmediatePropagation()}function M4(e){var t=e.document.documentElement,n=gn(e).on("dragstart.drag",Tl,Zd);"onselectstart"in t?n.on("selectstart.drag",Tl,Zd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function D4(e,t){var n=e.document.documentElement,r=gn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Tl,Zd),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bh=e=>()=>e;function cj(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:i,y:l,dx:c,dy:d,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}cj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function nJ(e){return!e.ctrlKey&&!e.button}function rJ(){return this.parentNode}function aJ(e,t){return t??{x:e.x,y:e.y}}function oJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function F4(){var e=nJ,t=rJ,n=aJ,r=oJ,a={},o=mx("start","drag","end"),i=0,l,c,d,u,m=0;function p(N){N.on("mousedown.drag",x).filter(r).on("touchstart.drag",w).on("touchmove.drag",j,sJ).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(N,b){if(!(u||!e.call(this,N,b))){var E=y(this,t.call(this,N,b),N,b,"mouse");E&&(gn(N.view).on("mousemove.drag",g,Zd).on("mouseup.drag",f,Zd),M4(N.view),_g(N),d=!1,l=N.clientX,c=N.clientY,E("start",N))}}function g(N){if(Tl(N),!d){var b=N.clientX-l,E=N.clientY-c;d=b*b+E*E>m}a.mouse("drag",N)}function f(N){gn(N.view).on("mousemove.drag mouseup.drag",null),D4(N.view,d),Tl(N),a.mouse("end",N)}function w(N,b){if(e.call(this,N,b)){var E=N.changedTouches,S=t.call(this,N,b),A=E.length,O,I;for(O=0;O<A;++O)(I=y(this,S,N,b,E[O].identifier,E[O]))&&(_g(N),I("start",N,E[O]))}}function j(N){var b=N.changedTouches,E=b.length,S,A;for(S=0;S<E;++S)(A=a[b[S].identifier])&&(Tl(N),A("drag",N,b[S]))}function v(N){var b=N.changedTouches,E=b.length,S,A;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<E;++S)(A=a[b[S].identifier])&&(_g(N),A("end",N,b[S]))}function y(N,b,E,S,A,O){var I=o.copy(),F=er(O||E,b),L,U,k;if((k=n.call(N,new cj("beforestart",{sourceEvent:E,target:p,identifier:A,active:i,x:F[0],y:F[1],dx:0,dy:0,dispatch:I}),S))!=null)return L=k.x-F[0]||0,U=k.y-F[1]||0,function P(T,R,D){var $=F,V;switch(T){case"start":a[A]=P,V=i++;break;case"end":delete a[A],--i;case"drag":F=er(D||R,b),V=i;break}I.call(T,N,new cj(T,{sourceEvent:R,subject:k,target:p,identifier:A,active:V,x:F[0]+L,y:F[1]+U,dx:F[0]-$[0],dy:F[1]-$[1],dispatch:I}),S)}}return p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Bh(!!N),p):e},p.container=function(N){return arguments.length?(t=typeof N=="function"?N:Bh(N),p):t},p.subject=function(N){return arguments.length?(n=typeof N=="function"?N:Bh(N),p):n},p.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:Bh(!!N),p):r},p.on=function(){var N=o.on.apply(o,arguments);return N===o?p:N},p.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,p):Math.sqrt(m)},p}function b0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function O4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sh(){}var eu=.7,Ip=1/eu,Pl="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iJ=/^#([0-9a-f]{3,8})$/,lJ=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),cJ=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),dJ=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${tu}\\)$`),uJ=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${tu}\\)$`),hJ=new RegExp(`^hsl\\(${tu},${Dr},${Dr}\\)$`),mJ=new RegExp(`^hsla\\(${tu},${Dr},${Dr},${tu}\\)$`),k1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b0(sh,di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R1,formatHex:R1,formatHex8:pJ,formatHsl:fJ,formatRgb:M1,toString:M1});function R1(){return this.rgb().formatHex()}function pJ(){return this.rgb().formatHex8()}function fJ(){return I4(this).formatHsl()}function M1(){return this.rgb().formatRgb()}function di(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?D1(t):n===3?new Ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lJ.exec(e))?new Ks(t[1],t[2],t[3],1):(t=cJ.exec(e))?new Ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dJ.exec(e))?Hh(t[1],t[2],t[3],t[4]):(t=uJ.exec(e))?Hh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hJ.exec(e))?I1(t[1],t[2]/100,t[3]/100,1):(t=mJ.exec(e))?I1(t[1],t[2]/100,t[3]/100,t[4]):k1.hasOwnProperty(e)?D1(k1[e]):e==="transparent"?new Ks(NaN,NaN,NaN,0):null}function D1(e){return new Ks(e>>16&255,e>>8&255,e&255,1)}function Hh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ks(e,t,n,r)}function xJ(e){return e instanceof sh||(e=di(e)),e?(e=e.rgb(),new Ks(e.r,e.g,e.b,e.opacity)):new Ks}function dj(e,t,n,r){return arguments.length===1?xJ(e):new Ks(e,t,n,r??1)}function Ks(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}b0(Ks,dj,O4(sh,{brighter(e){return e=e==null?Ip:Math.pow(Ip,e),new Ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ks(Xo(this.r),Xo(this.g),Xo(this.b),Lp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F1,formatHex:F1,formatHex8:gJ,formatRgb:O1,toString:O1}));function F1(){return`#${Vo(this.r)}${Vo(this.g)}${Vo(this.b)}`}function gJ(){return`#${Vo(this.r)}${Vo(this.g)}${Vo(this.b)}${Vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function O1(){const e=Lp(this.opacity);return`${e===1?"rgb(":"rgba("}${Xo(this.r)}, ${Xo(this.g)}, ${Xo(this.b)}${e===1?")":`, ${e})`}`}function Lp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vo(e){return e=Xo(e),(e<16?"0":"")+e.toString(16)}function I1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sr(e,t,n,r)}function I4(e){if(e instanceof sr)return new sr(e.h,e.s,e.l,e.opacity);if(e instanceof sh||(e=di(e)),!e)return new sr;if(e instanceof sr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,l=o-a,c=(o+a)/2;return l?(t===o?i=(n-r)/l+(n<r)*6:n===o?i=(r-t)/l+2:i=(t-n)/l+4,l/=c<.5?o+a:2-o-a,i*=60):l=c>0&&c<1?0:i,new sr(i,l,c,e.opacity)}function vJ(e,t,n,r){return arguments.length===1?I4(e):new sr(e,t,n,r??1)}function sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}b0(sr,vJ,O4(sh,{brighter(e){return e=e==null?Ip:Math.pow(Ip,e),new sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ks($g(e>=240?e-240:e+120,a,r),$g(e,a,r),$g(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new sr(L1(this.h),qh(this.s),qh(this.l),Lp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lp(this.opacity);return`${e===1?"hsl(":"hsla("}${L1(this.h)}, ${qh(this.s)*100}%, ${qh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function L1(e){return e=(e||0)%360,e<0?e+360:e}function qh(e){return Math.max(0,Math.min(1,e||0))}function $g(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const S0=e=>()=>e;function yJ(e,t){return function(n){return e+n*t}}function jJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wJ(e){return(e=+e)==1?L4:function(t,n){return n-t?jJ(t,n,e):S0(isNaN(t)?n:t)}}function L4(e,t){var n=t-e;return n?yJ(e,n):S0(isNaN(e)?t:e)}const _p=function e(t){var n=wJ(t);function r(a,o){var i=n((a=dj(a)).r,(o=dj(o)).r),l=n(a.g,o.g),c=n(a.b,o.b),d=L4(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=e,r}(1);function NJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function bJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=xd(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(l){for(i=0;i<r;++i)o[i]=a[i](l);return o}}function CJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function EJ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=xd(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var uj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ug=new RegExp(uj.source,"g");function TJ(e){return function(){return e}}function PJ(e){return function(t){return e(t)+""}}function _4(e,t){var n=uj.lastIndex=Ug.lastIndex=0,r,a,o,i=-1,l=[],c=[];for(e=e+"",t=t+"";(r=uj.exec(e))&&(a=Ug.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),l[i]?l[i]+=o:l[++i]=o),(r=r[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:Cr(r,a)})),n=Ug.lastIndex;return n<t.length&&(o=t.slice(n),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?PJ(c[0].x):TJ(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function xd(e,t){var n=typeof t,r;return t==null||n==="boolean"?S0(t):(n==="number"?Cr:n==="string"?(r=di(t))?(t=r,_p):_4:t instanceof di?_p:t instanceof Date?CJ:bJ(t)?NJ:Array.isArray(t)?SJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EJ:Cr)(e,t)}var _1=180/Math.PI,hj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $4(e,t,n,r,a,o){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*_1,skewX:Math.atan(c)*_1,scaleX:i,scaleY:l}}var zh;function AJ(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hj:$4(t.a,t.b,t.c,t.d,t.e,t.f)}function kJ(e){return e==null||(zh||(zh=document.createElementNS("http://www.w3.org/2000/svg","g")),zh.setAttribute("transform",e),!(e=zh.transform.baseVal.consolidate()))?hj:(e=e.matrix,$4(e.a,e.b,e.c,e.d,e.e,e.f))}function U4(e,t,n,r){function a(d){return d.length?d.pop()+" ":""}function o(d,u,m,p,x,g){if(d!==m||u!==p){var f=x.push("translate(",null,t,null,n);g.push({i:f-4,x:Cr(d,m)},{i:f-2,x:Cr(u,p)})}else(m||p)&&x.push("translate("+m+t+p+n)}function i(d,u,m,p){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),p.push({i:m.push(a(m)+"rotate(",null,r)-2,x:Cr(d,u)})):u&&m.push(a(m)+"rotate("+u+r)}function l(d,u,m,p){d!==u?p.push({i:m.push(a(m)+"skewX(",null,r)-2,x:Cr(d,u)}):u&&m.push(a(m)+"skewX("+u+r)}function c(d,u,m,p,x,g){if(d!==m||u!==p){var f=x.push(a(x)+"scale(",null,",",null,")");g.push({i:f-4,x:Cr(d,m)},{i:f-2,x:Cr(u,p)})}else(m!==1||p!==1)&&x.push(a(x)+"scale("+m+","+p+")")}return function(d,u){var m=[],p=[];return d=e(d),u=e(u),o(d.translateX,d.translateY,u.translateX,u.translateY,m,p),i(d.rotate,u.rotate,m,p),l(d.skewX,u.skewX,m,p),c(d.scaleX,d.scaleY,u.scaleX,u.scaleY,m,p),d=u=null,function(x){for(var g=-1,f=p.length,w;++g<f;)m[(w=p[g]).i]=w.x(x);return m.join("")}}}var RJ=U4(AJ,"px, ","px)","deg)"),MJ=U4(kJ,", ",")",")"),DJ=1e-12;function $1(e){return((e=Math.exp(e))+1/e)/2}function FJ(e){return((e=Math.exp(e))-1/e)/2}function OJ(e){return((e=Math.exp(2*e))-1)/(e+1)}const Dm=function e(t,n,r){function a(o,i){var l=o[0],c=o[1],d=o[2],u=i[0],m=i[1],p=i[2],x=u-l,g=m-c,f=x*x+g*g,w,j;if(f<DJ)j=Math.log(p/d)/t,w=function(S){return[l+S*x,c+S*g,d*Math.exp(t*S*j)]};else{var v=Math.sqrt(f),y=(p*p-d*d+r*f)/(2*d*n*v),N=(p*p-d*d-r*f)/(2*p*n*v),b=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(N*N+1)-N);j=(E-b)/t,w=function(S){var A=S*j,O=$1(b),I=d/(n*v)*(O*OJ(t*A+b)-FJ(b));return[l+I*x,c+I*g,d*O/$1(t*A+b)]}}return w.duration=j*1e3*t/Math.SQRT2,w}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);var Bl=0,ed=0,Bc=0,V4=1e3,$p,td,Up=0,ui=0,fx=0,su=typeof performance=="object"&&performance.now?performance:Date,B4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function C0(){return ui||(B4(IJ),ui=su.now()+fx)}function IJ(){ui=0}function Vp(){this._call=this._time=this._next=null}Vp.prototype=H4.prototype={constructor:Vp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?C0():+n)+(t==null?0:+t),!this._next&&td!==this&&(td?td._next=this:$p=this,td=this),this._call=e,this._time=n,mj()},stop:function(){this._call&&(this._call=null,this._time=1/0,mj())}};function H4(e,t,n){var r=new Vp;return r.restart(e,t,n),r}function LJ(){C0(),++Bl;for(var e=$p,t;e;)(t=ui-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bl}function U1(){ui=(Up=su.now())+fx,Bl=ed=0;try{LJ()}finally{Bl=0,$J(),ui=0}}function _J(){var e=su.now(),t=e-Up;t>V4&&(fx-=t,Up=e)}function $J(){for(var e,t=$p,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:$p=n);td=e,mj(r)}function mj(e){if(!Bl){ed&&(ed=clearTimeout(ed));var t=e-ui;t>24?(e<1/0&&(ed=setTimeout(U1,e-su.now()-fx)),Bc&&(Bc=clearInterval(Bc))):(Bc||(Up=su.now(),Bc=setInterval(_J,V4)),Bl=1,B4(U1))}}function V1(e,t,n){var r=new Vp;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var UJ=mx("start","end","cancel","interrupt"),VJ=[],q4=0,B1=1,pj=2,Fm=3,H1=4,fj=5,Om=6;function xx(e,t,n,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;BJ(e,n,{name:t,index:r,group:a,on:UJ,tween:VJ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:q4})}function E0(e,t){var n=wr(e,t);if(n.state>q4)throw new Error("too late; already scheduled");return n}function qr(e,t){var n=wr(e,t);if(n.state>Fm)throw new Error("too late; already running");return n}function wr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function BJ(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=H4(o,0,n.time);function o(d){n.state=B1,n.timer.restart(i,n.delay,n.time),n.delay<=d&&i(d-n.delay)}function i(d){var u,m,p,x;if(n.state!==B1)return c();for(u in r)if(x=r[u],x.name===n.name){if(x.state===Fm)return V1(i);x.state===H1?(x.state=Om,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[u]):+u<t&&(x.state=Om,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[u])}if(V1(function(){n.state===Fm&&(n.state=H1,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=pj,n.on.call("start",e,e.__data__,n.index,n.group),n.state===pj){for(n.state=Fm,a=new Array(p=n.tween.length),u=0,m=-1;u<p;++u)(x=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++m]=x);a.length=m+1}}function l(d){for(var u=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=fj,1),m=-1,p=a.length;++m<p;)a[m].call(e,u);n.state===fj&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Om,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Im(e,t){var n=e.__transition,r,a,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}a=r.state>pj&&r.state<fj,r.state=Om,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function HJ(e){return this.each(function(){Im(this,e)})}function qJ(e,t){var n,r;return function(){var a=qr(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function zJ(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=qr(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var l={name:t,value:n},c=0,d=a.length;c<d;++c)if(a[c].name===t){a[c]=l;break}c===d&&a.push(l)}o.tween=a}}function WJ(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=wr(this.node(),n).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?qJ:zJ)(n,e,t))}function T0(e,t,n){var r=e._id;return e.each(function(){var a=qr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return wr(a,r).value[t]}}function z4(e,t){var n;return(typeof t=="number"?Cr:t instanceof di?_p:(n=di(t))?(t=n,_p):_4)(e,t)}function KJ(e){return function(){this.removeAttribute(e)}}function YJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XJ(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function GJ(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function JJ(e,t,n){var r,a,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l)))}}function QJ(e,t,n){var r,a,o;return function(){var i,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l)))}}function ZJ(e,t){var n=px(e),r=n==="transform"?MJ:z4;return this.attrTween(e,typeof t=="function"?(n.local?QJ:JJ)(n,r,T0(this,"attr."+e,t)):t==null?(n.local?YJ:KJ)(n):(n.local?GJ:XJ)(n,r,t))}function eQ(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tQ(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function sQ(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tQ(e,o)),n}return a._value=t,a}function nQ(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&eQ(e,o)),n}return a._value=t,a}function rQ(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=px(e);return this.tween(n,(r.local?sQ:nQ)(r,t))}function aQ(e,t){return function(){E0(this,e).delay=+t.apply(this,arguments)}}function oQ(e,t){return t=+t,function(){E0(this,e).delay=t}}function iQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aQ:oQ)(t,e)):wr(this.node(),t).delay}function lQ(e,t){return function(){qr(this,e).duration=+t.apply(this,arguments)}}function cQ(e,t){return t=+t,function(){qr(this,e).duration=t}}function dQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lQ:cQ)(t,e)):wr(this.node(),t).duration}function uQ(e,t){if(typeof t!="function")throw new Error;return function(){qr(this,e).ease=t}}function hQ(e){var t=this._id;return arguments.length?this.each(uQ(t,e)):wr(this.node(),t).ease}function mQ(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qr(this,e).ease=n}}function pQ(e){if(typeof e!="function")throw new Error;return this.each(mQ(this._id,e))}function fQ(e){typeof e!="function"&&(e=N4(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,l=r[a]=[],c,d=0;d<i;++d)(c=o[d])&&e.call(c,c.__data__,d,o)&&l.push(c);return new xa(r,this._parents,this._name,this._id)}function xQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),l=0;l<o;++l)for(var c=t[l],d=n[l],u=c.length,m=i[l]=new Array(u),p,x=0;x<u;++x)(p=c[x]||d[x])&&(m[x]=p);for(;l<r;++l)i[l]=t[l];return new xa(i,this._parents,this._name,this._id)}function gQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vQ(e,t,n){var r,a,o=gQ(t)?E0:qr;return function(){var i=o(this,e),l=i.on;l!==r&&(a=(r=l).copy()).on(t,n),i.on=a}}function yQ(e,t){var n=this._id;return arguments.length<2?wr(this.node(),n).on.on(e):this.each(vQ(n,e,t))}function jQ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wQ(){return this.on("end.remove",jQ(this._id))}function NQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=w0(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var l=r[i],c=l.length,d=o[i]=new Array(c),u,m,p=0;p<c;++p)(u=l[p])&&(m=e.call(u,u.__data__,p,l))&&("__data__"in u&&(m.__data__=u.__data__),d[p]=m,xx(d[p],t,n,p,d,wr(u,n)));return new xa(o,this._parents,t,n)}function bQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=w4(e));for(var r=this._groups,a=r.length,o=[],i=[],l=0;l<a;++l)for(var c=r[l],d=c.length,u,m=0;m<d;++m)if(u=c[m]){for(var p=e.call(u,u.__data__,m,c),x,g=wr(u,n),f=0,w=p.length;f<w;++f)(x=p[f])&&xx(x,t,n,f,p,g);o.push(p),i.push(u)}return new xa(o,i,t,n)}var SQ=th.prototype.constructor;function CQ(){return new SQ(this._groups,this._parents)}function EQ(e,t){var n,r,a;return function(){var o=Vl(this,e),i=(this.style.removeProperty(e),Vl(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}function W4(e){return function(){this.style.removeProperty(e)}}function TQ(e,t,n){var r,a=n+"",o;return function(){var i=Vl(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}function PQ(e,t,n){var r,a,o;return function(){var i=Vl(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Vl(this,e))),i===c?null:i===r&&c===a?o:(a=c,o=t(r=i,l))}}function AQ(e,t){var n,r,a,o="style."+t,i="end."+o,l;return function(){var c=qr(this,e),d=c.on,u=c.value[o]==null?l||(l=W4(t)):void 0;(d!==n||a!==u)&&(r=(n=d).copy()).on(i,a=u),c.on=r}}function kQ(e,t,n){var r=(e+="")=="transform"?RJ:z4;return t==null?this.styleTween(e,EQ(e,r)).on("end.style."+e,W4(e)):typeof t=="function"?this.styleTween(e,PQ(e,r,T0(this,"style."+e,t))).each(AQ(this._id,e)):this.styleTween(e,TQ(e,r,t),n).on("end.style."+e,null)}function RQ(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function MQ(e,t,n){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&RQ(e,i,n)),r}return o._value=t,o}function DQ(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,MQ(e,t,n??""))}function FQ(e){return function(){this.textContent=e}}function OQ(e){return function(){var t=e(this);this.textContent=t??""}}function IQ(e){return this.tween("text",typeof e=="function"?OQ(T0(this,"text",e)):FQ(e==null?"":e+""))}function LQ(e){return function(t){this.textContent=e.call(this,t)}}function _Q(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&LQ(a)),t}return r._value=e,r}function $Q(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_Q(e))}function UQ(){for(var e=this._name,t=this._id,n=K4(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,c,d=0;d<l;++d)if(c=i[d]){var u=wr(c,t);xx(c,e,n,d,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xa(r,this._parents,e,n)}function VQ(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var l={value:i},c={value:function(){--a===0&&o()}};n.each(function(){var d=qr(this,r),u=d.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),d.on=t}),a===0&&o()})}var BQ=0;function xa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function K4(){return++BQ}var Xr=th.prototype;xa.prototype={constructor:xa,select:NQ,selectAll:bQ,selectChild:Xr.selectChild,selectChildren:Xr.selectChildren,filter:fQ,merge:xQ,selection:CQ,transition:UQ,call:Xr.call,nodes:Xr.nodes,node:Xr.node,size:Xr.size,empty:Xr.empty,each:Xr.each,on:yQ,attr:ZJ,attrTween:rQ,style:kQ,styleTween:DQ,text:IQ,textTween:$Q,remove:wQ,tween:WJ,delay:iQ,duration:dQ,ease:hQ,easeVarying:pQ,end:VQ,[Symbol.iterator]:Xr[Symbol.iterator]};function HQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qQ={time:null,delay:0,duration:250,ease:HQ};function zQ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function WQ(e){var t,n;e instanceof xa?(t=e._id,e=e._name):(t=K4(),(n=qQ).time=C0(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],l=i.length,c,d=0;d<l;++d)(c=i[d])&&xx(c,e,t,d,i,n||zQ(c,t));return new xa(r,this._parents,e,t)}th.prototype.interrupt=HJ;th.prototype.transition=WQ;const Wh=e=>()=>e;function KQ(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ra(e,t,n){this.k=e,this.x=t,this.y=n}ra.prototype={constructor:ra,scale:function(e){return e===1?this:new ra(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ra(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gx=new ra(1,0,0);Y4.prototype=ra.prototype;function Y4(e){for(;!e.__zoom;)if(!(e=e.parentNode))return gx;return e.__zoom}function Vg(e){e.stopImmediatePropagation()}function Hc(e){e.preventDefault(),e.stopImmediatePropagation()}function YQ(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function XQ(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function q1(){return this.__zoom||gx}function GQ(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function JQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function QQ(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function X4(){var e=YQ,t=XQ,n=QQ,r=GQ,a=JQ,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Dm,d=mx("start","zoom","end"),u,m,p,x=500,g=150,f=0,w=10;function j(k){k.property("__zoom",q1).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",I).filter(a).on("touchstart.zoom",F).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(k,P,T,R){var D=k.selection?k.selection():k;D.property("__zoom",q1),k!==D?b(k,P,T,R):D.interrupt().each(function(){E(this,arguments).event(R).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},j.scaleBy=function(k,P,T,R){j.scaleTo(k,function(){var D=this.__zoom.k,$=typeof P=="function"?P.apply(this,arguments):P;return D*$},T,R)},j.scaleTo=function(k,P,T,R){j.transform(k,function(){var D=t.apply(this,arguments),$=this.__zoom,V=T==null?N(D):typeof T=="function"?T.apply(this,arguments):T,B=$.invert(V),H=typeof P=="function"?P.apply(this,arguments):P;return n(y(v($,H),V,B),D,i)},T,R)},j.translateBy=function(k,P,T,R){j.transform(k,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),i)},null,R)},j.translateTo=function(k,P,T,R,D){j.transform(k,function(){var $=t.apply(this,arguments),V=this.__zoom,B=R==null?N($):typeof R=="function"?R.apply(this,arguments):R;return n(gx.translate(B[0],B[1]).scale(V.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),$,i)},R,D)};function v(k,P){return P=Math.max(o[0],Math.min(o[1],P)),P===k.k?k:new ra(P,k.x,k.y)}function y(k,P,T){var R=P[0]-T[0]*k.k,D=P[1]-T[1]*k.k;return R===k.x&&D===k.y?k:new ra(k.k,R,D)}function N(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function b(k,P,T,R){k.on("start.zoom",function(){E(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,$=arguments,V=E(D,$).event(R),B=t.apply(D,$),H=T==null?N(B):typeof T=="function"?T.apply(D,$):T,z=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Q=D.__zoom,ie=typeof P=="function"?P.apply(D,$):P,he=c(Q.invert(H).concat(z/Q.k),ie.invert(H).concat(z/ie.k));return function(Z){if(Z===1)Z=ie;else{var le=he(Z),fe=z/le[2];Z=new ra(fe,H[0]-le[0]*fe,H[1]-le[1]*fe)}V.zoom(null,Z)}})}function E(k,P,T){return!T&&k.__zooming||new S(k,P)}function S(k,P){this.that=k,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,P),this.taps=0}S.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,P){return this.mouse&&k!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var P=gn(this.that).datum();d.call(k,this.that,new KQ(k,{sourceEvent:this.sourceEvent,target:j,type:k,transform:this.that.__zoom,dispatch:d}),P)}};function A(k,...P){if(!e.apply(this,arguments))return;var T=E(this,P).event(k),R=this.__zoom,D=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),$=er(k);if(T.wheel)(T.mouse[0][0]!==$[0]||T.mouse[0][1]!==$[1])&&(T.mouse[1]=R.invert(T.mouse[0]=$)),clearTimeout(T.wheel);else{if(R.k===D)return;T.mouse=[$,R.invert($)],Im(this),T.start()}Hc(k),T.wheel=setTimeout(V,g),T.zoom("mouse",n(y(v(R,D),T.mouse[0],T.mouse[1]),T.extent,i));function V(){T.wheel=null,T.end()}}function O(k,...P){if(p||!e.apply(this,arguments))return;var T=k.currentTarget,R=E(this,P,!0).event(k),D=gn(k.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",z,!0),$=er(k,T),V=k.clientX,B=k.clientY;M4(k.view),Vg(k),R.mouse=[$,this.__zoom.invert($)],Im(this),R.start();function H(Q){if(Hc(Q),!R.moved){var ie=Q.clientX-V,he=Q.clientY-B;R.moved=ie*ie+he*he>f}R.event(Q).zoom("mouse",n(y(R.that.__zoom,R.mouse[0]=er(Q,T),R.mouse[1]),R.extent,i))}function z(Q){D.on("mousemove.zoom mouseup.zoom",null),D4(Q.view,R.moved),Hc(Q),R.event(Q).end()}}function I(k,...P){if(e.apply(this,arguments)){var T=this.__zoom,R=er(k.changedTouches?k.changedTouches[0]:k,this),D=T.invert(R),$=T.k*(k.shiftKey?.5:2),V=n(y(v(T,$),R,D),t.apply(this,P),i);Hc(k),l>0?gn(this).transition().duration(l).call(b,V,R,k):gn(this).call(j.transform,V,R,k)}}function F(k,...P){if(e.apply(this,arguments)){var T=k.touches,R=T.length,D=E(this,P,k.changedTouches.length===R).event(k),$,V,B,H;for(Vg(k),V=0;V<R;++V)B=T[V],H=er(B,this),H=[H,this.__zoom.invert(H),B.identifier],D.touch0?!D.touch1&&D.touch0[2]!==H[2]&&(D.touch1=H,D.taps=0):(D.touch0=H,$=!0,D.taps=1+!!u);u&&(u=clearTimeout(u)),$&&(D.taps<2&&(m=H[0],u=setTimeout(function(){u=null},x)),Im(this),D.start())}}function L(k,...P){if(this.__zooming){var T=E(this,P).event(k),R=k.changedTouches,D=R.length,$,V,B,H;for(Hc(k),$=0;$<D;++$)V=R[$],B=er(V,this),T.touch0&&T.touch0[2]===V.identifier?T.touch0[0]=B:T.touch1&&T.touch1[2]===V.identifier&&(T.touch1[0]=B);if(V=T.that.__zoom,T.touch1){var z=T.touch0[0],Q=T.touch0[1],ie=T.touch1[0],he=T.touch1[1],Z=(Z=ie[0]-z[0])*Z+(Z=ie[1]-z[1])*Z,le=(le=he[0]-Q[0])*le+(le=he[1]-Q[1])*le;V=v(V,Math.sqrt(Z/le)),B=[(z[0]+ie[0])/2,(z[1]+ie[1])/2],H=[(Q[0]+he[0])/2,(Q[1]+he[1])/2]}else if(T.touch0)B=T.touch0[0],H=T.touch0[1];else return;T.zoom("touch",n(y(V,B,H),T.extent,i))}}function U(k,...P){if(this.__zooming){var T=E(this,P).event(k),R=k.changedTouches,D=R.length,$,V;for(Vg(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},x),$=0;$<D;++$)V=R[$],T.touch0&&T.touch0[2]===V.identifier?delete T.touch0:T.touch1&&T.touch1[2]===V.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(V=er(V,this),Math.hypot(m[0]-V[0],m[1]-V[1])<w)){var B=gn(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return j.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Wh(+k),j):r},j.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Wh(!!k),j):e},j.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:Wh(!!k),j):a},j.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Wh([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),j):t},j.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],j):[o[0],o[1]]},j.translateExtent=function(k){return arguments.length?(i[0][0]=+k[0][0],i[1][0]=+k[1][0],i[0][1]=+k[0][1],i[1][1]=+k[1][1],j):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},j.constrain=function(k){return arguments.length?(n=k,j):n},j.duration=function(k){return arguments.length?(l=+k,j):l},j.interpolate=function(k){return arguments.length?(c=k,j):c},j.on=function(){var k=d.on.apply(d,arguments);return k===d?j:k},j.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,j):Math.sqrt(f)},j.tapDistance=function(k){return arguments.length?(w=+k,j):w},j}const _r={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},nu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],G4=["Enter"," ","Escape"],J4={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var hi;(function(e){e.Strict="strict",e.Loose="loose"})(hi||(hi={}));var Go;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Go||(Go={}));var ru;(function(e){e.Partial="partial",e.Full="full"})(ru||(ru={}));const Q4={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ua;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ua||(Ua={}));var nr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nr||(nr={}));var Se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Se||(Se={}));const z1={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function Z4(e){return e===null?null:e?"valid":"invalid"}const eO=e=>"id"in e&&"source"in e&&"target"in e,ZQ=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),P0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nh=(e,t=[0,0])=>{const{width:n,height:r}=Na(e),a=e.origin??t,o=n*a[0],i=r*a[1];return{x:e.position.x-o,y:e.position.y-i}},eZ=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const o=typeof a=="string";let i=!t.nodeLookup&&!o?a:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(a):P0(a)?a:t.nodeLookup.get(a.id));const l=i?Bp(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return vx(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return yx(n)},rh=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const a=Bp(r);n=vx(n,a)}}),yx(n)},A0=(e,t,[n,r,a]=[0,0,1],o=!1,i=!1)=>{const l={...ah(t,[n,r,a]),width:t.width/a,height:t.height/a},c=[];for(const d of e.values()){const{measured:u,selectable:m=!0,hidden:p=!1}=d;if(i&&!m||p)continue;const x=u.width??d.width??d.initialWidth??null,g=u.height??d.height??d.initialHeight??null,f=au(l,ql(d)),w=(x??0)*(g??0),j=o&&f>0;(!d.internals.handleBounds||j||f>=w||d.dragging)&&c.push(d)}return c},tZ=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function sZ(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&(t?.includeHiddenNodes||!a.hidden)&&(!r||r.has(a.id))&&n.set(a.id,a)}),n}async function nZ({nodes:e,width:t,height:n,panZoom:r,minZoom:a,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const l=sZ(e,i),c=rh(l),d=k0(c,t,n,i?.minZoom??a,i?.maxZoom??o,i?.padding??.1);return await r.setViewport(d,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)}function tO({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:a,onError:o}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let m=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)o?.("005",_r.error005());else{const x=l.measured.width,g=l.measured.height;x&&g&&(m=[[c,d],[c+x,d+g]])}else l&&zl(i.extent)&&(m=[[i.extent[0][0]+c,i.extent[0][1]+d],[i.extent[1][0]+c,i.extent[1][1]+d]]);const p=zl(m)?mi(t,m,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&o?.("015",_r.error015()),{position:{x:p.x-c+(i.measured.width??0)*u[0],y:p.y-d+(i.measured.height??0)*u[1]},positionAbsolute:p}}async function rZ({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:a}){const o=new Set(e.map(p=>p.id)),i=[];for(const p of n){if(p.deletable===!1)continue;const x=o.has(p.id),g=!x&&p.parentId&&i.find(f=>f.id===p.parentId);(x||g)&&i.push(p)}const l=new Set(t.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),u=tZ(i,c);for(const p of c)l.has(p.id)&&!u.find(g=>g.id===p.id)&&u.push(p);if(!a)return{edges:u,nodes:i};const m=await a({nodes:i,edges:u});return typeof m=="boolean"?m?{edges:u,nodes:i}:{edges:[],nodes:[]}:m}const Hl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),mi=(e={x:0,y:0},t,n)=>({x:Hl(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Hl(e.y,t[0][1],t[1][1]-(n?.height??0))});function sO(e,t,n){const{width:r,height:a}=Na(n),{x:o,y:i}=n.internals.positionAbsolute;return mi(e,[[o,i],[o+r,i+a]],t)}const W1=(e,t,n)=>e<t?Hl(Math.abs(e-t),1,t)/t:e>n?-Hl(Math.abs(e-n),1,t)/t:0,nO=(e,t,n=15,r=40)=>{const a=W1(e.x,r,t.width-r)*n,o=W1(e.y,r,t.height-r)*n;return[a,o]},vx=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),xj=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),yx=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ql=(e,t=[0,0])=>{const{x:n,y:r}=P0(e)?e.internals.positionAbsolute:nh(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Bp=(e,t=[0,0])=>{const{x:n,y:r}=P0(e)?e.internals.positionAbsolute:nh(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},rO=(e,t)=>yx(vx(xj(e),xj(t))),au=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},K1=e=>rr(e.width)&&rr(e.height)&&rr(e.x)&&rr(e.y),rr=e=>!isNaN(e)&&isFinite(e),aZ=(e,t)=>{},jx=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ah=({x:e,y:t},[n,r,a],o=!1,i=[1,1])=>{const l={x:(e-n)/a,y:(t-r)/a};return o?jx(l,i):l},Hp=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r});function Li(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function oZ(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Li(e,n),a=Li(e,t);return{top:r,right:a,bottom:r,left:a,x:a*2,y:r*2}}if(typeof e=="object"){const r=Li(e.top??e.y??0,n),a=Li(e.bottom??e.y??0,n),o=Li(e.left??e.x??0,t),i=Li(e.right??e.x??0,t);return{top:r,right:i,bottom:a,left:o,x:o+i,y:r+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function iZ(e,t,n,r,a,o){const{x:i,y:l}=Hp(e,[t,n,r]),{x:c,y:d}=Hp({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=a-c,m=o-d;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(u),bottom:Math.floor(m)}}const k0=(e,t,n,r,a,o)=>{const i=oZ(o,t,n),l=(t-i.x)/e.width,c=(n-i.y)/e.height,d=Math.min(l,c),u=Hl(d,r,a),m=e.x+e.width/2,p=e.y+e.height/2,x=t/2-m*u,g=n/2-p*u,f=iZ(e,x,g,u,t,n),w={left:Math.min(f.left-i.left,0),top:Math.min(f.top-i.top,0),right:Math.min(f.right-i.right,0),bottom:Math.min(f.bottom-i.bottom,0)};return{x:x-w.left+w.right,y:g-w.top+w.bottom,zoom:u}},qp=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function zl(e){return e!==void 0&&e!=="parent"}function Na(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function aO(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function oO(e,t={width:0,height:0},n,r,a){const o={...e},i=r.get(n);if(i){const l=i.origin||a;o.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function Y1(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function lZ(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function cZ(e){return{...J4,...e||{}}}function gd(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:a}){const{x:o,y:i}=Ar(e),l=ah({x:o-(a?.left??0),y:i-(a?.top??0)},r),{x:c,y:d}=n?jx(l,t):l;return{xSnapped:c,ySnapped:d,...l}}const R0=e=>({width:e.offsetWidth,height:e.offsetHeight}),iO=e=>e?.getRootNode?.()||window?.document,dZ=["INPUT","SELECT","TEXTAREA"];function lO(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:dZ.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const cO=e=>"clientX"in e,Ar=(e,t)=>{const n=cO(e),r=n?e.clientX:e.touches?.[0].clientX,a=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:a-(t?.top??0)}},X1=(e,t,n,r,a)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...R0(i)}})};function dO({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+n*.125,d=t*.125+o*.375+l*.375+r*.125,u=Math.abs(c-e),m=Math.abs(d-t);return[c,d,u,m]}function Kh(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function G1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case Se.Left:return[t-Kh(t-r,o),n];case Se.Right:return[t+Kh(r-t,o),n];case Se.Top:return[t,n-Kh(n-a,o)];case Se.Bottom:return[t,n+Kh(a-n,o)]}}function M0({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:a,targetPosition:o=Se.Top,curvature:i=.25}){const[l,c]=G1({pos:n,x1:e,y1:t,x2:r,y2:a,c:i}),[d,u]=G1({pos:o,x1:r,y1:a,x2:e,y2:t,c:i}),[m,p,x,g]=dO({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return[`M${e},${t} C${l},${c} ${d},${u} ${r},${a}`,m,p,x,g]}function uO({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[o,l,a,i]}function uZ({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:a=!1}){if(r!==void 0)return r;const o=a&&n?1e3:0,i=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return o+i}function hZ({sourceNode:e,targetNode:t,width:n,height:r,transform:a}){const o=vx(Bp(e),Bp(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:r/a[2]};return au(i,yx(o))>0}const mZ=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,pZ=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),zp=(e,t)=>{if(!e.source||!e.target)return t;let n;return eO(e)?n={...e}:n={...e,id:mZ(e)},pZ(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function hO({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,i,l]=uO({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,i,l]}const J1={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},fZ=({source:e,sourcePosition:t=Se.Bottom,target:n})=>t===Se.Left||t===Se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Q1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function xZ({source:e,sourcePosition:t=Se.Bottom,target:n,targetPosition:r=Se.Top,center:a,offset:o,stepPosition:i}){const l=J1[t],c=J1[r],d={x:e.x+l.x*o,y:e.y+l.y*o},u={x:n.x+c.x*o,y:n.y+c.y*o},m=fZ({source:d,sourcePosition:t,target:u}),p=m.x!==0?"x":"y",x=m[p];let g=[],f,w;const j={x:0,y:0},v={x:0,y:0},[,,y,N]=uO({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[p]*c[p]===-1){p==="x"?(f=a.x??d.x+(u.x-d.x)*i,w=a.y??(d.y+u.y)/2):(f=a.x??(d.x+u.x)/2,w=a.y??d.y+(u.y-d.y)*i);const E=[{x:f,y:d.y},{x:f,y:u.y}],S=[{x:d.x,y:w},{x:u.x,y:w}];l[p]===x?g=p==="x"?E:S:g=p==="x"?S:E}else{const E=[{x:d.x,y:u.y}],S=[{x:u.x,y:d.y}];if(p==="x"?g=l.x===x?S:E:g=l.y===x?E:S,t===r){const L=Math.abs(e[p]-n[p]);if(L<=o){const U=Math.min(o-1,o-L);l[p]===x?j[p]=(d[p]>e[p]?-1:1)*U:v[p]=(u[p]>n[p]?-1:1)*U}}if(t!==r){const L=p==="x"?"y":"x",U=l[p]===c[L],k=d[L]>u[L],P=d[L]<u[L];(l[p]===1&&(!U&&k||U&&P)||l[p]!==1&&(!U&&P||U&&k))&&(g=p==="x"?E:S)}const A={x:d.x+j.x,y:d.y+j.y},O={x:u.x+v.x,y:u.y+v.y},I=Math.max(Math.abs(A.x-g[0].x),Math.abs(O.x-g[0].x)),F=Math.max(Math.abs(A.y-g[0].y),Math.abs(O.y-g[0].y));I>=F?(f=(A.x+O.x)/2,w=g[0].y):(f=g[0].x,w=(A.y+O.y)/2)}return[[e,{x:d.x+j.x,y:d.y+j.y},...g,{x:u.x+v.x,y:u.y+v.y},n],f,w,y,N]}function gZ(e,t,n,r){const a=Math.min(Q1(e,t)/2,Q1(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const d=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+a*d},${i}Q ${o},${i} ${o},${i+a*u}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${i+a*c}Q ${o},${i} ${o+a*l},${i}`}function gj({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:a,targetPosition:o=Se.Top,borderRadius:i=5,centerX:l,centerY:c,offset:d=20,stepPosition:u=.5}){const[m,p,x,g,f]=xZ({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:l,y:c},offset:d,stepPosition:u});return[m.reduce((j,v,y)=>{let N="";return y>0&&y<m.length-1?N=gZ(m[y-1],v,m[y+1],i):N=`${y===0?"M":"L"}${v.x} ${v.y}`,j+=N,j},""),p,x,g,f]}function Z1(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function vZ(e){const{sourceNode:t,targetNode:n}=e;if(!Z1(t)||!Z1(n))return null;const r=t.internals.handleBounds||eE(t.handles),a=n.internals.handleBounds||eE(n.handles),o=tE(r?.source??[],e.sourceHandle),i=tE(e.connectionMode===hi.Strict?a?.target??[]:(a?.target??[]).concat(a?.source??[]),e.targetHandle);if(!o||!i)return e.onError?.("008",_r.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=o?.position||Se.Bottom,c=i?.position||Se.Top,d=ou(t,o,l),u=ou(n,i,c);return{sourceX:d.x,sourceY:d.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:c}}function eE(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function ou(e,t,n=Se.Left,r=!1){const a=(t?.x??0)+e.internals.positionAbsolute.x,o=(t?.y??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Na(e);if(r)return{x:a+i/2,y:o+l/2};switch(t?.position??n){case Se.Top:return{x:a+i/2,y:o};case Se.Right:return{x:a+i,y:o+l/2};case Se.Bottom:return{x:a+i/2,y:o+l};case Se.Left:return{x:a,y:o+l/2}}}function tE(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function vj(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function yZ(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:a}){const o=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const d=vj(c,t);o.has(d)||(i.push({id:d,color:c.color||n,...c}),o.add(d))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const D0={nodeOrigin:[0,0],nodeExtent:nu,elevateNodesOnSelect:!0,defaults:{}},jZ={...D0,checkEquality:!0};function F0(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function wZ(e,t,n){const r=F0(D0,n);for(const a of e.values())if(a.parentId)O0(a,e,t,r);else{const o=nh(a,r.nodeOrigin),i=zl(a.extent)?a.extent:r.nodeExtent,l=mi(o,i,Na(a));a.internals.positionAbsolute=l}}function yj(e,t,n,r){const a=F0(jZ,r);let o=e.length>0;const i=new Map(t),l=a?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let d=i.get(c.id);if(a.checkEquality&&c===d?.internals.userNode)t.set(c.id,d);else{const u=nh(c,a.nodeOrigin),m=zl(c.extent)?c.extent:a.nodeExtent,p=mi(u,m,Na(c));d={...a.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:p,handleBounds:c.measured?d?.internals.handleBounds:void 0,z:mO(c,l),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&O0(d,t,n,r)}return o}function NZ(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function O0(e,t,n,r){const{elevateNodesOnSelect:a,nodeOrigin:o,nodeExtent:i}=F0(D0,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}NZ(e,n);const d=a?1e3:0,{x:u,y:m,z:p}=bZ(e,c,o,i,d),{positionAbsolute:x}=e.internals,g=u!==x.x||m!==x.y;(g||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:m}:x,z:p}})}function mO(e,t){return(rr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function bZ(e,t,n,r,a){const{x:o,y:i}=t.internals.positionAbsolute,l=Na(e),c=nh(e,n),d=zl(e.extent)?mi(c,e.extent,l):c;let u=mi({x:o+d.x,y:i+d.y},r,l);e.extent==="parent"&&(u=sO(u,l,t));const m=mO(e,a),p=t.internals.z??0;return{x:u.x,y:u.y,z:p>=m?p+1:m}}function I0(e,t,n,r=[0,0]){const a=[],o=new Map;for(const i of e){const l=t.get(i.parentId);if(!l)continue;const c=o.get(i.parentId)?.expandedRect??ql(l),d=rO(c,i.rect);o.set(i.parentId,{expandedRect:d,parent:l})}return o.size>0&&o.forEach(({expandedRect:i,parent:l},c)=>{const d=l.internals.positionAbsolute,u=Na(l),m=l.origin??r,p=i.x<d.x?Math.round(Math.abs(d.x-i.x)):0,x=i.y<d.y?Math.round(Math.abs(d.y-i.y)):0,g=Math.max(u.width,Math.round(i.width)),f=Math.max(u.height,Math.round(i.height)),w=(g-u.width)*m[0],j=(f-u.height)*m[1];(p>0||x>0||w||j)&&(a.push({id:c,type:"position",position:{x:l.position.x-p+w,y:l.position.y-x+j}}),n.get(c)?.forEach(v=>{e.some(y=>y.id===v.id)||a.push({id:v.id,type:"position",position:{x:v.position.x+p,y:v.position.y+x}})})),(u.width<i.width||u.height<i.height||p||x)&&a.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?m[0]*p-w:0),height:f+(x?m[1]*x-j:0)}})}),a}function SZ(e,t,n,r,a,o){const i=r?.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const p of e.values()){const x=t.get(p.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const g=R0(p.nodeElement),f=x.measured.width!==g.width||x.measured.height!==g.height;if(!!(g.width&&g.height&&(f||!x.internals.handleBounds||p.force))){const j=p.nodeElement.getBoundingClientRect(),v=zl(x.extent)?x.extent:o;let{positionAbsolute:y}=x.internals;x.parentId&&x.extent==="parent"?y=sO(y,g,t.get(x.parentId)):v&&(y=mi(y,v,g));const N={...x,measured:g,internals:{...x.internals,positionAbsolute:y,handleBounds:{source:X1("source",p.nodeElement,j,u,x.id),target:X1("target",p.nodeElement,j,u,x.id)}}};t.set(x.id,N),x.parentId&&O0(N,t,n,{nodeOrigin:a}),l=!0,f&&(c.push({id:x.id,type:"dimensions",dimensions:g}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:ql(N,a)}))}}if(m.length>0){const p=I0(m,t,n,a);c.push(...p)}return{changes:c,updatedInternals:l}}async function CZ({delta:e,panZoom:t,transform:n,translateExtent:r,width:a,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,o]],r),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function sE(e,t,n,r,a,o){let i=a;const l=r.get(i)||new Map;r.set(i,l.set(n,t)),i=`${a}-${e}`;const c=r.get(i)||new Map;if(r.set(i,c.set(n,t)),o){i=`${a}-${e}-${o}`;const d=r.get(i)||new Map;r.set(i,d.set(n,t))}}function pO(e,t,n){e.clear(),t.clear();for(const r of n){const{source:a,target:o,sourceHandle:i=null,targetHandle:l=null}=r,c={edgeId:r.id,source:a,target:o,sourceHandle:i,targetHandle:l},d=`${a}-${i}--${o}-${l}`,u=`${o}-${l}--${a}-${i}`;sE("source",c,u,e,a,i),sE("target",c,d,e,o,l),t.set(r.id,r)}}function fO(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:fO(n,t):!1}function nE(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function EZ(e,t,n,r){const a=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!fO(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(o);l&&a.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Bg({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const a=[];for(const[i,l]of t){const c=n.get(i)?.internals.userNode;c&&a.push({...c,position:l.position,dragging:r})}if(!e)return[a[0],a];const o=n.get(e)?.internals.userNode;return[o?{...o,position:t.get(e)?.position||o.position,dragging:r}:a[0],a]}function TZ({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:a}){let o={x:null,y:null},i=0,l=new Map,c=!1,d={x:0,y:0},u=null,m=!1,p=null,x=!1,g=!1;function f({noDragClassName:j,handleSelector:v,domNode:y,isSelectable:N,nodeId:b,nodeClickDistance:E=0}){p=gn(y);function S({x:F,y:L},U){const{nodeLookup:k,nodeExtent:P,snapGrid:T,snapToGrid:R,nodeOrigin:D,onNodeDrag:$,onSelectionDrag:V,onError:B,updateNodePositions:H}=t();o={x:F,y:L};let z=!1,Q={x:0,y:0,x2:0,y2:0};if(l.size>1&&P){const ie=rh(l);Q=xj(ie)}for(const[ie,he]of l){if(!k.has(ie))continue;let Z={x:F-he.distance.x,y:L-he.distance.y};R&&(Z=jx(Z,T));let le=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];if(l.size>1&&P&&!he.extent){const{positionAbsolute:Ae}=he.internals,je=Ae.x-Q.x+P[0][0],ke=Ae.x+he.measured.width-Q.x2+P[1][0],De=Ae.y-Q.y+P[0][1],nt=Ae.y+he.measured.height-Q.y2+P[1][1];le=[[je,De],[ke,nt]]}const{position:fe,positionAbsolute:be}=tO({nodeId:ie,nextPosition:Z,nodeLookup:k,nodeExtent:le,nodeOrigin:D,onError:B});z=z||he.position.x!==fe.x||he.position.y!==fe.y,he.position=fe,he.internals.positionAbsolute=be}if(g=g||z,!!z&&(H(l,!0),U&&(r||$||!b&&V))){const[ie,he]=Bg({nodeId:b,dragItems:l,nodeLookup:k});r?.(U,l,ie,he),$?.(U,ie,he),b||V?.(U,he)}}async function A(){if(!u)return;const{transform:F,panBy:L,autoPanSpeed:U,autoPanOnNodeDrag:k}=t();if(!k){c=!1,cancelAnimationFrame(i);return}const[P,T]=nO(d,u,U);(P!==0||T!==0)&&(o.x=(o.x??0)-P/F[2],o.y=(o.y??0)-T/F[2],await L({x:P,y:T})&&S(o,null)),i=requestAnimationFrame(A)}function O(F){const{nodeLookup:L,multiSelectionActive:U,nodesDraggable:k,transform:P,snapGrid:T,snapToGrid:R,selectNodesOnDrag:D,onNodeDragStart:$,onSelectionDragStart:V,unselectNodesAndEdges:B}=t();m=!0,(!D||!N)&&!U&&b&&(L.get(b)?.selected||B()),N&&D&&b&&e?.(b);const H=gd(F.sourceEvent,{transform:P,snapGrid:T,snapToGrid:R,containerBounds:u});if(o=H,l=EZ(L,k,H,b),l.size>0&&(n||$||!b&&V)){const[z,Q]=Bg({nodeId:b,dragItems:l,nodeLookup:L});n?.(F.sourceEvent,l,z,Q),$?.(F.sourceEvent,z,Q),b||V?.(F.sourceEvent,Q)}}const I=F4().clickDistance(E).on("start",F=>{const{domNode:L,nodeDragThreshold:U,transform:k,snapGrid:P,snapToGrid:T}=t();u=L?.getBoundingClientRect()||null,x=!1,g=!1,U===0&&O(F),o=gd(F.sourceEvent,{transform:k,snapGrid:P,snapToGrid:T,containerBounds:u}),d=Ar(F.sourceEvent,u)}).on("drag",F=>{const{autoPanOnNodeDrag:L,transform:U,snapGrid:k,snapToGrid:P,nodeDragThreshold:T,nodeLookup:R}=t(),D=gd(F.sourceEvent,{transform:U,snapGrid:k,snapToGrid:P,containerBounds:u});if((F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||b&&!R.has(b))&&(x=!0),!x){if(!c&&L&&m&&(c=!0,A()),!m){const $=D.xSnapped-(o.x??0),V=D.ySnapped-(o.y??0);Math.sqrt($*$+V*V)>T&&O(F)}(o.x!==D.xSnapped||o.y!==D.ySnapped)&&l&&m&&(d=Ar(F.sourceEvent,u),S(D,F.sourceEvent))}}).on("end",F=>{if(!(!m||x)&&(c=!1,m=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:L,updateNodePositions:U,onNodeDragStop:k,onSelectionDragStop:P}=t();if(g&&(U(l,!1),g=!1),a||k||!b&&P){const[T,R]=Bg({nodeId:b,dragItems:l,nodeLookup:L,dragging:!1});a?.(F.sourceEvent,l,T,R),k?.(F.sourceEvent,T,R),b||P?.(F.sourceEvent,R)}}}).filter(F=>{const L=F.target;return!F.button&&(!j||!nE(L,`.${j}`,y))&&(!v||nE(L,v,y))});p.call(I)}function w(){p?.on(".drag",null)}return{update:f,destroy:w}}function PZ(e,t,n){const r=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())au(a,ql(o))>0&&r.push(o);return r}const AZ=250;function kZ(e,t,n,r){let a=[],o=1/0;const i=PZ(e,n,t+AZ);for(const l of i){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:u,y:m}=ou(l,d,d.position,!0),p=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(m-e.y,2));p>t||(p<o?(a=[{...d,x:u,y:m}],o=p):p===o&&a.push({...d,x:u,y:m}))}}if(!a.length)return null;if(a.length>1){const l=r.type==="source"?"target":"source";return a.find(c=>c.type===l)??a[0]}return a[0]}function xO(e,t,n,r,a,o=!1){const i=r.get(e);if(!i)return null;const l=a==="strict"?i.internals.handleBounds?.[t]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&o?{...c,...ou(i,c,c.position,!0)}:c}function gO(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function RZ(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const vO=()=>!0;function MZ(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:a,edgeUpdaterType:o,isTarget:i,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:u,flowId:m,panBy:p,cancelConnection:x,onConnectStart:g,onConnect:f,onConnectEnd:w,isValidConnection:j=vO,onReconnectEnd:v,updateConnection:y,getTransform:N,getFromHandle:b,autoPanSpeed:E,dragThreshold:S=1}){const A=iO(e.target);let O=0,I;const{x:F,y:L}=Ar(e),U=A?.elementFromPoint(F,L),k=gO(o,U),P=l?.getBoundingClientRect();let T=!1;if(!P||!k)return;const R=xO(a,k,r,c,t);if(!R)return;let D=Ar(e,P),$=!1,V=null,B=!1,H=null;function z(){if(!u||!P)return;const[Ae,je]=nO(D,P,E);p({x:Ae,y:je}),O=requestAnimationFrame(z)}const Q={...R,nodeId:a,type:k,position:R.position},ie=c.get(a);let Z={inProgress:!0,isValid:null,from:ou(ie,Q,Se.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:ie,to:D,toHandle:null,toPosition:z1[Q.position],toNode:null};function le(){T=!0,y(Z),g?.(e,{nodeId:a,handleId:r,handleType:k})}S===0&&le();function fe(Ae){if(!T){const{x:nt,y:Ft}=Ar(Ae),Gt=nt-F,Cs=Ft-L;if(!(Gt*Gt+Cs*Cs>S*S))return;le()}if(!b()||!Q){be(Ae);return}const je=N();D=Ar(Ae,P),I=kZ(ah(D,je,!1,[1,1]),n,c,Q),$||(z(),$=!0);const ke=yO(Ae,{handle:I,connectionMode:t,fromNodeId:a,fromHandleId:r,fromType:i?"target":"source",isValidConnection:j,doc:A,lib:d,flowId:m,nodeLookup:c});H=ke.handleDomNode,V=ke.connection,B=RZ(!!I,ke.isValid);const De={...Z,isValid:B,to:ke.toHandle&&B?Hp({x:ke.toHandle.x,y:ke.toHandle.y},je):D,toHandle:ke.toHandle,toPosition:B&&ke.toHandle?ke.toHandle.position:z1[Q.position],toNode:ke.toHandle?c.get(ke.toHandle.nodeId):null};B&&I&&Z.toHandle&&De.toHandle&&Z.toHandle.type===De.toHandle.type&&Z.toHandle.nodeId===De.toHandle.nodeId&&Z.toHandle.id===De.toHandle.id&&Z.to.x===De.to.x&&Z.to.y===De.to.y||(y(De),Z=De)}function be(Ae){if(T){(I||H)&&V&&B&&f?.(V);const{inProgress:je,...ke}=Z,De={...ke,toPosition:Z.toHandle?Z.toPosition:null};w?.(Ae,De),o&&v?.(Ae,De)}x(),cancelAnimationFrame(O),$=!1,B=!1,V=null,H=null,A.removeEventListener("mousemove",fe),A.removeEventListener("mouseup",be),A.removeEventListener("touchmove",fe),A.removeEventListener("touchend",be)}A.addEventListener("mousemove",fe),A.addEventListener("mouseup",be),A.addEventListener("touchmove",fe),A.addEventListener("touchend",be)}function yO(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:a,fromType:o,doc:i,lib:l,flowId:c,isValidConnection:d=vO,nodeLookup:u}){const m=o==="target",p=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x,y:g}=Ar(e),f=i.elementFromPoint(x,g),w=f?.classList.contains(`${l}-flow__handle`)?f:p,j={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const v=gO(void 0,w),y=w.getAttribute("data-nodeid"),N=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!y||!v)return j;const S={source:m?y:r,sourceHandle:m?N:a,target:m?r:y,targetHandle:m?a:N};j.connection=S;const O=b&&E&&(n===hi.Strict?m&&v==="source"||!m&&v==="target":y!==r||N!==a);j.isValid=O&&d(S),j.toHandle=xO(y,v,N,u,n,!0)}return j}const jj={onPointerDown:MZ,isValid:yO};function DZ({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const a=gn(e);function o({translateExtent:l,width:c,height:d,zoomStep:u=10,pannable:m=!0,zoomable:p=!0,inversePan:x=!1}){const g=y=>{const N=n();if(y.sourceEvent.type!=="wheel"||!t)return;const b=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*u,E=N[2]*Math.pow(2,b);t.scaleTo(E)};let f=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(f=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},j=y=>{const N=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const b=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],E=[b[0]-f[0],b[1]-f[1]];f=b;const S=r()*Math.max(N[2],Math.log(N[2]))*(x?-1:1),A={x:N[0]-E[0]*S,y:N[1]-E[1]*S},O=[[0,0],[c,d]];t.setViewportConstrained({x:A.x,y:A.y,zoom:N[2]},O,l)},v=X4().on("start",w).on("zoom",m?j:null).on("zoom.wheel",p?g:null);a.call(v,{})}function i(){a.on("zoom",null)}return{update:o,destroy:i,pointer:er}}const FZ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,wx=e=>({x:e.x,y:e.y,zoom:e.k}),Hg=({x:e,y:t,zoom:n})=>gx.translate(e,t).scale(n),al=(e,t)=>e.target.closest(`.${t}`),jO=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),OZ=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,qg=(e,t=0,n=OZ,r=()=>{})=>{const a=typeof t=="number"&&t>0;return a||r(),a?e.transition().duration(t).ease(n).on("end",r):e},wO=e=>{const t=e.ctrlKey&&qp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function IZ({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:a,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return u=>{if(al(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(u.ctrlKey&&i){const w=er(u),j=wO(u),v=m*Math.pow(2,j);r.scaleTo(n,v,w,u);return}const p=u.deltaMode===1?20:1;let x=a===Go.Vertical?0:u.deltaX*p,g=a===Go.Horizontal?0:u.deltaY*p;!qp()&&u.shiftKey&&a!==Go.Vertical&&(x=u.deltaY*p,g=0),r.translateBy(n,-(x/m)*o,-(g/m)*o,{internal:!0});const f=wx(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l?.(u,f)),e.isPanScrolling&&(c?.(u,f),e.panScrollTimeout=setTimeout(()=>{d?.(u,f),e.isPanScrolling=!1},150))}}function LZ({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,a){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,l=al(r,e);if(r.ctrlKey&&o&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),n.call(this,r,a)}}function _Z({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const a=wx(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=a,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,a)}}function $Z({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:a}){return o=>{e.usedRightMouseButton=!!(n&&jO(t,e.mouseButton??0)),o.sourceEvent?.sync||r([o.transform.x,o.transform.y,o.transform.k]),a&&!o.sourceEvent?.internal&&a?.(o.sourceEvent,wx(o.transform))}}function UZ({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:a,onPaneContextMenu:o}){return i=>{if(!i.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,o&&jO(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),a&&FZ(e.prevViewport,i.transform))){const l=wx(i.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a?.(i.sourceEvent,l)},n?150:0)}}}function VZ({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:a,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:d}){return u=>{const m=e||t,p=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(al(u,`${d}-flow__node`)||al(u,`${d}-flow__edge`)))return!0;if(!r&&!m&&!a&&!o&&!n||i||al(u,l)&&u.type==="wheel"||al(u,c)&&(u.type!=="wheel"||a&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!m&&!a&&!p&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&x}}function BZ({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:a,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=X4().clickDistance(!rr(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(a),x=gn(e).call(p);y({x:o.x,y:o.y,zoom:Hl(o.zoom,t,n)},[[0,0],[m.width,m.height]],a);const g=x.on("wheel.zoom"),f=x.on("dblclick.zoom");p.wheelDelta(wO);function w(L,U){return x?new Promise(k=>{p?.interpolate(U?.interpolate==="linear"?xd:Dm).transform(qg(x,U?.duration,U?.ease,()=>k(!0)),L)}):Promise.resolve(!1)}function j({noWheelClassName:L,noPanClassName:U,onPaneContextMenu:k,userSelectionActive:P,panOnScroll:T,panOnDrag:R,panOnScrollMode:D,panOnScrollSpeed:$,preventScrolling:V,zoomOnPinch:B,zoomOnScroll:H,zoomOnDoubleClick:z,zoomActivationKeyPressed:Q,lib:ie,onTransformChange:he}){P&&!u.isZoomingOrPanning&&v();const le=T&&!Q&&!P?IZ({zoomPanValues:u,noWheelClassName:L,d3Selection:x,d3Zoom:p,panOnScrollMode:D,panOnScrollSpeed:$,zoomOnPinch:B,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):LZ({noWheelClassName:L,preventScrolling:V,d3ZoomHandler:g});if(x.on("wheel.zoom",le,{passive:!1}),!P){const be=_Z({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:l});p.on("start",be);const Ae=$Z({zoomPanValues:u,panOnDrag:R,onPaneContextMenu:!!k,onPanZoom:i,onTransformChange:he});p.on("zoom",Ae);const je=UZ({zoomPanValues:u,panOnDrag:R,panOnScroll:T,onPaneContextMenu:k,onPanZoomEnd:c,onDraggingChange:d});p.on("end",je)}const fe=VZ({zoomActivationKeyPressed:Q,panOnDrag:R,zoomOnScroll:H,panOnScroll:T,zoomOnDoubleClick:z,zoomOnPinch:B,userSelectionActive:P,noPanClassName:U,noWheelClassName:L,lib:ie});p.filter(fe),z?x.on("dblclick.zoom",f):x.on("dblclick.zoom",null)}function v(){p.on("zoom",null)}async function y(L,U,k){const P=Hg(L),T=p?.constrain()(P,U,k);return T&&await w(T),new Promise(R=>R(T))}async function N(L,U){const k=Hg(L);return await w(k,U),new Promise(P=>P(k))}function b(L){if(x){const U=Hg(L),k=x.property("__zoom");(k.k!==L.zoom||k.x!==L.x||k.y!==L.y)&&p?.transform(x,U,null,{sync:!0})}}function E(){const L=x?Y4(x.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function S(L,U){return x?new Promise(k=>{p?.interpolate(U?.interpolate==="linear"?xd:Dm).scaleTo(qg(x,U?.duration,U?.ease,()=>k(!0)),L)}):Promise.resolve(!1)}function A(L,U){return x?new Promise(k=>{p?.interpolate(U?.interpolate==="linear"?xd:Dm).scaleBy(qg(x,U?.duration,U?.ease,()=>k(!0)),L)}):Promise.resolve(!1)}function O(L){p?.scaleExtent(L)}function I(L){p?.translateExtent(L)}function F(L){const U=!rr(L)||L<0?0:L;p?.clickDistance(U)}return{update:j,destroy:v,setViewport:N,setViewportConstrained:y,getViewport:E,scaleTo:S,scaleBy:A,setScaleExtent:O,setTranslateExtent:I,syncViewport:b,setClickDistance:F}}var Wl;(function(e){e.Line="line",e.Handle="handle"})(Wl||(Wl={}));function HZ({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:a,affectsY:o}){const i=e-t,l=n-r,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&o&&(c[1]=c[1]*-1),c}function qZ(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:a}}function Pa(e,t){return Math.max(0,t-e)}function Aa(e,t){return Math.max(0,e-t)}function Yh(e,t,n){return Math.max(0,t-e,e-n)}function rE(e,t){return e?!t:t}function zZ(e,t,n,r,a,o,i,l){let{affectsX:c,affectsY:d}=t;const{isHorizontal:u,isVertical:m}=t,p=u&&m,{xSnapped:x,ySnapped:g}=n,{minWidth:f,maxWidth:w,minHeight:j,maxHeight:v}=r,{x:y,y:N,width:b,height:E,aspectRatio:S}=e;let A=Math.floor(u?x-e.pointerX:0),O=Math.floor(m?g-e.pointerY:0);const I=b+(c?-A:A),F=E+(d?-O:O),L=-o[0]*b,U=-o[1]*E;let k=Yh(I,f,w),P=Yh(F,j,v);if(i){let D=0,$=0;c&&A<0?D=Pa(y+A+L,i[0][0]):!c&&A>0&&(D=Aa(y+I+L,i[1][0])),d&&O<0?$=Pa(N+O+U,i[0][1]):!d&&O>0&&($=Aa(N+F+U,i[1][1])),k=Math.max(k,D),P=Math.max(P,$)}if(l){let D=0,$=0;c&&A>0?D=Aa(y+A,l[0][0]):!c&&A<0&&(D=Pa(y+I,l[1][0])),d&&O>0?$=Aa(N+O,l[0][1]):!d&&O<0&&($=Pa(N+F,l[1][1])),k=Math.max(k,D),P=Math.max(P,$)}if(a){if(u){const D=Yh(I/S,j,v)*S;if(k=Math.max(k,D),i){let $=0;!c&&!d||c&&!d&&p?$=Aa(N+U+I/S,i[1][1])*S:$=Pa(N+U+(c?A:-A)/S,i[0][1])*S,k=Math.max(k,$)}if(l){let $=0;!c&&!d||c&&!d&&p?$=Pa(N+I/S,l[1][1])*S:$=Aa(N+(c?A:-A)/S,l[0][1])*S,k=Math.max(k,$)}}if(m){const D=Yh(F*S,f,w)/S;if(P=Math.max(P,D),i){let $=0;!c&&!d||d&&!c&&p?$=Aa(y+F*S+L,i[1][0])/S:$=Pa(y+(d?O:-O)*S+L,i[0][0])/S,P=Math.max(P,$)}if(l){let $=0;!c&&!d||d&&!c&&p?$=Pa(y+F*S,l[1][0])/S:$=Aa(y+(d?O:-O)*S,l[0][0])/S,P=Math.max(P,$)}}}O=O+(O<0?P:-P),A=A+(A<0?k:-k),a&&(p?I>F*S?O=(rE(c,d)?-A:A)/S:A=(rE(c,d)?-O:O)*S:u?(O=A/S,d=c):(A=O*S,c=d));const T=c?y+A:y,R=d?N+O:N;return{width:b+(c?-A:A),height:E+(d?-O:O),x:o[0]*A*(c?-1:1)+T,y:o[1]*O*(d?-1:1)+R}}const NO={width:0,height:0,x:0,y:0},WZ={...NO,pointerX:0,pointerY:0,aspectRatio:1};function KZ(e){return[[0,0],[e.measured.width,e.measured.height]]}function YZ(e,t,n){const r=t.position.x+e.position.x,a=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,l=n[0]*o,c=n[1]*i;return[[r-l,a-c],[r+o-l,a+i-c]]}function XZ({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:a}){const o=gn(e);function i({controlPosition:c,boundaries:d,keepAspectRatio:u,resizeDirection:m,onResizeStart:p,onResize:x,onResizeEnd:g,shouldResize:f}){let w={...NO},j={...WZ};const v=qZ(c);let y,N=null,b=[],E,S,A;const O=F4().on("start",I=>{const{nodeLookup:F,transform:L,snapGrid:U,snapToGrid:k,nodeOrigin:P,paneDomNode:T}=n();if(y=F.get(t),!y)return;N=T?.getBoundingClientRect()??null;const{xSnapped:R,ySnapped:D}=gd(I.sourceEvent,{transform:L,snapGrid:U,snapToGrid:k,containerBounds:N});w={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},j={...w,pointerX:R,pointerY:D,aspectRatio:w.width/w.height},E=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(E=F.get(y.parentId),S=E&&y.extent==="parent"?KZ(E):void 0),b=[],A=void 0;for(const[$,V]of F)if(V.parentId===t&&(b.push({id:$,position:{...V.position},extent:V.extent}),V.extent==="parent"||V.expandParent)){const B=YZ(V,y,V.origin??P);A?A=[[Math.min(B[0][0],A[0][0]),Math.min(B[0][1],A[0][1])],[Math.max(B[1][0],A[1][0]),Math.max(B[1][1],A[1][1])]]:A=B}p?.(I,{...w})}).on("drag",I=>{const{transform:F,snapGrid:L,snapToGrid:U,nodeOrigin:k}=n(),P=gd(I.sourceEvent,{transform:F,snapGrid:L,snapToGrid:U,containerBounds:N}),T=[];if(!y)return;const{x:R,y:D,width:$,height:V}=w,B={},H=y.origin??k,{width:z,height:Q,x:ie,y:he}=zZ(j,v,P,d,u,H,S,A),Z=z!==$,le=Q!==V,fe=ie!==R&&Z,be=he!==D&&le;if(!fe&&!be&&!Z&&!le)return;if((fe||be||H[0]===1||H[1]===1)&&(B.x=fe?ie:w.x,B.y=be?he:w.y,w.x=B.x,w.y=B.y,b.length>0)){const De=ie-R,nt=he-D;for(const Ft of b)Ft.position={x:Ft.position.x-De+H[0]*(z-$),y:Ft.position.y-nt+H[1]*(Q-V)},T.push(Ft)}if((Z||le)&&(B.width=Z&&(!m||m==="horizontal")?z:w.width,B.height=le&&(!m||m==="vertical")?Q:w.height,w.width=B.width,w.height=B.height),E&&y.expandParent){const De=H[0]*(B.width??0);B.x&&B.x<De&&(w.x=De,j.x=j.x-(B.x-De));const nt=H[1]*(B.height??0);B.y&&B.y<nt&&(w.y=nt,j.y=j.y-(B.y-nt))}const Ae=HZ({width:w.width,prevWidth:$,height:w.height,prevHeight:V,affectsX:v.affectsX,affectsY:v.affectsY}),je={...w,direction:Ae};f?.(I,je)!==!1&&(x?.(I,je),r(B,T))}).on("end",I=>{g?.(I,{...w}),a?.({...w})});o.call(O)}function l(){o.on(".drag",null)}return{update:i,destroy:l}}var bO={exports:{}},SO={},CO={exports:{}},EO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=h;function GZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JZ=typeof Object.is=="function"?Object.is:GZ,QZ=Kl.useState,ZZ=Kl.useEffect,eee=Kl.useLayoutEffect,tee=Kl.useDebugValue;function see(e,t){var n=t(),r=QZ({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return eee(function(){a.value=n,a.getSnapshot=t,zg(a)&&o({inst:a})},[e,n,t]),ZZ(function(){return zg(a)&&o({inst:a}),e(function(){zg(a)&&o({inst:a})})},[e]),tee(n),n}function zg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!JZ(e,n)}catch{return!0}}function nee(e,t){return t()}var ree=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nee:see;EO.useSyncExternalStore=Kl.useSyncExternalStore!==void 0?Kl.useSyncExternalStore:ree;CO.exports=EO;var aee=CO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=h,oee=aee;function iee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lee=typeof Object.is=="function"?Object.is:iee,cee=oee.useSyncExternalStore,dee=Nx.useRef,uee=Nx.useEffect,hee=Nx.useMemo,mee=Nx.useDebugValue;SO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=dee(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=hee(function(){function c(x){if(!d){if(d=!0,u=x,x=r(x),a!==void 0&&i.hasValue){var g=i.value;if(a(g,x))return m=g}return m=x}if(g=m,lee(u,x))return g;var f=r(x);return a!==void 0&&a(g,f)?(u=x,g):(u=x,m=f)}var d=!1,u,m,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,a]);var l=cee(e,o[0],o[1]);return uee(function(){i.hasValue=!0,i.value=l},[l]),mee(l),l};bO.exports=SO;var pee=bO.exports;const fee=yw(pee),xee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},aE=e=>{let t;const n=new Set,r=(u,m)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const x=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,x))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(xee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,a,c);return c},gee=e=>e?aE(e):aE,{useDebugValue:vee}=kt,{useSyncExternalStoreWithSelector:yee}=fee,jee=e=>e;function TO(e,t=jee,n){const r=yee(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vee(r),r}const oE=(e,t)=>{const n=gee(e),r=(a,o=t)=>TO(n,a,o);return Object.assign(r,n),r},wee=(e,t)=>e?oE(e,t):oE;function Bt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const bx=h.createContext(null),Nee=bx.Provider,PO=_r.error001();function et(e,t){const n=h.useContext(bx);if(n===null)throw new Error(PO);return TO(n,e,t)}function Dt(){const e=h.useContext(bx);if(e===null)throw new Error(PO);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const iE={display:"none"},bee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},AO="react-flow__node-desc",kO="react-flow__edge-desc",See="react-flow__aria-live",Cee=e=>e.ariaLiveMessage,Eee=e=>e.ariaLabelConfig;function Tee({rfId:e}){const t=et(Cee);return s.jsx("div",{id:`${See}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:bee,children:t})}function Pee({rfId:e,disableKeyboardA11y:t}){const n=et(Eee);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${AO}-${e}`,style:iE,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${kO}-${e}`,style:iE,children:n["edge.a11yDescription.default"]}),!t&&s.jsx(Tee,{rfId:e})]})}const Yl=h.forwardRef(({position:e="top-left",children:t,className:n,style:r,...a},o)=>{const i=`${e}`.split("-");return s.jsx("div",{className:es(["react-flow__panel",n,...i]),style:r,ref:o,...a,children:t})});Yl.displayName="Panel";function Aee({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:s.jsx(Yl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const kee=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Xh=e=>e.id;function Ree(e,t){return Bt(e.selectedNodes.map(Xh),t.selectedNodes.map(Xh))&&Bt(e.selectedEdges.map(Xh),t.selectedEdges.map(Xh))}function Mee({onSelectionChange:e}){const t=Dt(),{selectedNodes:n,selectedEdges:r}=et(kee,Ree);return h.useEffect(()=>{const a={nodes:n,edges:r};e?.(a),t.getState().onSelectionChangeHandlers.forEach(o=>o(a))},[n,r,e]),null}const Dee=e=>!!e.onSelectionChangeHandlers;function Fee({onSelectionChange:e}){const t=et(Dee);return e||t?s.jsx(Mee,{onSelectionChange:e}):null}const RO=[0,0],Oee={x:0,y:0,zoom:1},Iee=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],lE=[...Iee,"rfId"],Lee=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),cE={translateExtent:nu,nodeOrigin:RO,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function _ee(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:a,setTranslateExtent:o,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=et(Lee,Bt),u=Dt();h.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{m.current=cE,l()}),[]);const m=h.useRef(cE);return h.useEffect(()=>{for(const p of lE){const x=e[p],g=m.current[p];x!==g&&(typeof e[p]>"u"||(p==="nodes"?t(x):p==="edges"?n(x):p==="minZoom"?r(x):p==="maxZoom"?a(x):p==="translateExtent"?o(x):p==="nodeExtent"?i(x):p==="paneClickDistance"?d(x):p==="ariaLabelConfig"?u.setState({ariaLabelConfig:cZ(x)}):p==="fitView"?u.setState({fitViewQueued:x}):p==="fitViewOptions"?u.setState({fitViewOptions:x}):u.setState({[p]:x})))}m.current=e},lE.map(p=>e[p])),null}function dE(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function $ee(e){const[t,n]=h.useState(e==="system"?null:e);return h.useEffect(()=>{if(e!=="system"){n(e);return}const r=dE(),a=()=>n(r?.matches?"dark":"light");return a(),r?.addEventListener("change",a),()=>{r?.removeEventListener("change",a)}},[e]),t!==null?t:dE()?.matches?"dark":"light"}const uE=typeof document<"u"?document:null;function iu(e=null,t={target:uE,actInsideInputWithModifier:!0}){const[n,r]=h.useState(!1),a=h.useRef(!1),o=h.useRef(new Set([])),[i,l]=h.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=d.reduce((m,p)=>m.concat(...p),[]);return[d,u]}return[[],[]]},[e]);return h.useEffect(()=>{const c=t?.target??uE,d=t?.actInsideInputWithModifier??!0;if(e!==null){const u=x=>{if(a.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!a.current||a.current&&!d)&&lO(x))return!1;const f=mE(x.code,l);if(o.current.add(x[f]),hE(i,o.current,!1)){const w=x.composedPath?.()?.[0]||x.target,j=w?.nodeName==="BUTTON"||w?.nodeName==="A";t.preventDefault!==!1&&(a.current||!j)&&x.preventDefault(),r(!0)}},m=x=>{const g=mE(x.code,l);hE(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(x[g]),x.key==="Meta"&&o.current.clear(),a.current=!1},p=()=>{o.current.clear(),r(!1)};return c?.addEventListener("keydown",u),c?.addEventListener("keyup",m),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{c?.removeEventListener("keydown",u),c?.removeEventListener("keyup",m),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function hE(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function mE(e,t){return t.includes(e)?"code":"key"}const Uee=()=>{const e=Dt();return h.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,a,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??a,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:a,minZoom:o,maxZoom:i,panZoom:l}=e.getState(),c=k0(t,r,a,o,i,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:a,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),d={x:t.x-l,y:t.y-c},u=n.snapGrid??a,m=n.snapToGrid??o;return ah(d,r,m,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:o}=r.getBoundingClientRect(),i=Hp(t,n);return{x:i.x+a,y:i.y+o}}}),[])};function MO(e,t){const n=[],r=new Map,a=[];for(const o of e)if(o.type==="add"){a.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...o};for(const c of i)Vee(c,l);n.push(l)}return a.length&&a.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Vee(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function DO(e,t){return MO(e,t)}function FO(e,t){return MO(e,t)}function Mo(e,t){return{id:e,type:"select",selected:t}}function ol(e,t=new Set,n=!1){const r=[];for(const[a,o]of e){const i=t.has(a);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(Mo(o.id,i)))}return r}function pE({items:e=[],lookup:t}){const n=[],r=new Map(e.map(a=>[a.id,a]));for(const[a,o]of e.entries()){const i=t.get(o.id),l=i?.internals?.userNode??i;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:a})}for(const[a]of t)r.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function fE(e){return{id:e.id,type:"remove"}}const xE=e=>ZQ(e),Bee=e=>eO(e);function OO(e){return h.forwardRef(e)}const Hee=typeof window<"u"?h.useLayoutEffect:h.useEffect;function gE(e){const[t,n]=h.useState(BigInt(0)),[r]=h.useState(()=>qee(()=>n(a=>a+BigInt(1))));return Hee(()=>{const a=r.get();a.length&&(e(a),r.reset())},[t]),r}function qee(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const IO=h.createContext(null);function zee({children:e}){const t=Dt(),n=h.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:u,onNodesChange:m,nodeLookup:p,fitViewQueued:x}=t.getState();let g=c;for(const w of l)g=typeof w=="function"?w(g):w;const f=pE({items:g,lookup:p});u&&d(g),f.length>0?m?.(f):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:j,setNodes:v}=t.getState();w&&v(j)})},[]),r=gE(n),a=h.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:u,onEdgesChange:m,edgeLookup:p}=t.getState();let x=c;for(const g of l)x=typeof g=="function"?g(x):g;u?d(x):m&&m(pE({items:x,lookup:p}))},[]),o=gE(a),i=h.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return s.jsx(IO.Provider,{value:i,children:e})}function Wee(){const e=h.useContext(IO);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Kee=e=>!!e.panZoom;function zr(){const e=Uee(),t=Dt(),n=Wee(),r=et(Kee),a=h.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),i=m=>{n.nodeQueue.push(m)},l=m=>{n.edgeQueue.push(m)},c=m=>{const{nodeLookup:p,nodeOrigin:x}=t.getState(),g=xE(m)?m:p.get(m.id),f=g.parentId?oO(g.position,g.measured,g.parentId,p,x):g.position,w={...g,position:f,width:g.measured?.width??g.width,height:g.measured?.height??g.height};return ql(w)},d=(m,p,x={replace:!1})=>{i(g=>g.map(f=>{if(f.id===m){const w=typeof p=="function"?p(f):p;return x.replace&&xE(w)?w:{...f,...w}}return f}))},u=(m,p,x={replace:!1})=>{l(g=>g.map(f=>{if(f.id===m){const w=typeof p=="function"?p(f):p;return x.replace&&Bee(w)?w:{...f,...w}}return f}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>o(m)?.internals.userNode,getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(p=>({...p}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:i,setEdges:l,addNodes:m=>{const p=Array.isArray(m)?m:[m];n.nodeQueue.push(x=>[...x,...p])},addEdges:m=>{const p=Array.isArray(m)?m:[m];n.edgeQueue.push(x=>[...x,...p])},toObject:()=>{const{nodes:m=[],edges:p=[],transform:x}=t.getState(),[g,f,w]=x;return{nodes:m.map(j=>({...j})),edges:p.map(j=>({...j})),viewport:{x:g,y:f,zoom:w}}},deleteElements:async({nodes:m=[],edges:p=[]})=>{const{nodes:x,edges:g,onNodesDelete:f,onEdgesDelete:w,triggerNodeChanges:j,triggerEdgeChanges:v,onDelete:y,onBeforeDelete:N}=t.getState(),{nodes:b,edges:E}=await rZ({nodesToRemove:m,edgesToRemove:p,nodes:x,edges:g,onBeforeDelete:N}),S=E.length>0,A=b.length>0;if(S){const O=E.map(fE);w?.(E),v(O)}if(A){const O=b.map(fE);f?.(b),j(O)}return(A||S)&&y?.({nodes:b,edges:E}),{deletedNodes:b,deletedEdges:E}},getIntersectingNodes:(m,p=!0,x)=>{const g=K1(m),f=g?m:c(m),w=x!==void 0;return f?(x||t.getState().nodes).filter(j=>{const v=t.getState().nodeLookup.get(j.id);if(v&&!g&&(j.id===m.id||!v.internals.positionAbsolute))return!1;const y=ql(w?j:v),N=au(y,f);return p&&N>0||N>=y.width*y.height||N>=f.width*f.height}):[]},isNodeIntersecting:(m,p,x=!0)=>{const f=K1(m)?m:c(m);if(!f)return!1;const w=au(f,p);return x&&w>0||w>=f.width*f.height},updateNode:d,updateNodeData:(m,p,x={replace:!1})=>{d(m,g=>{const f=typeof p=="function"?p(g):p;return x.replace?{...g,data:f}:{...g,data:{...g.data,...f}}},x)},updateEdge:u,updateEdgeData:(m,p,x={replace:!1})=>{u(m,g=>{const f=typeof p=="function"?p(g):p;return x.replace?{...g,data:f}:{...g,data:{...g.data,...f}}},x)},getNodesBounds:m=>{const{nodeLookup:p,nodeOrigin:x}=t.getState();return eZ(m,{nodeLookup:p,nodeOrigin:x})},getHandleConnections:({type:m,id:p,nodeId:x})=>Array.from(t.getState().connectionLookup.get(`${x}-${m}${p?`-${p}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:p,nodeId:x})=>Array.from(t.getState().connectionLookup.get(`${x}${m?p?`-${m}-${p}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const p=t.getState().fitViewResolver??lZ();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:p}),n.nodeQueue.push(x=>[...x]),p.promise}}},[]);return h.useMemo(()=>({...a,...e,viewportInitialized:r}),[r])}const vE=e=>e.selected,Yee=typeof window<"u"?window:void 0;function Xee({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Dt(),{deleteElements:r}=zr(),a=iu(e,{actInsideInputWithModifier:!1}),o=iu(t,{target:Yee});h.useEffect(()=>{if(a){const{edges:i,nodes:l}=n.getState();r({nodes:l.filter(vE),edges:i.filter(vE)}),n.setState({nodesSelectionActive:!1})}},[a]),h.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Gee(e){const t=Dt();h.useEffect(()=>{const n=()=>{if(!e.current)return!1;const r=R0(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",_r.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Sx={position:"absolute",width:"100%",height:"100%",top:0,left:0},Jee=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Qee({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:a=.5,panOnScrollMode:o=Go.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:u,maxZoom:m,zoomActivationKeyCode:p,preventScrolling:x=!0,children:g,noWheelClassName:f,noPanClassName:w,onViewportChange:j,isControlledViewport:v,paneClickDistance:y}){const N=Dt(),b=h.useRef(null),{userSelectionActive:E,lib:S}=et(Jee,Bt),A=iu(p),O=h.useRef();Gee(b);const I=h.useCallback(F=>{j?.({x:F[0],y:F[1],zoom:F[2]}),v||N.setState({transform:F})},[j,v]);return h.useEffect(()=>{if(b.current){O.current=BZ({domNode:b.current,minZoom:u,maxZoom:m,translateExtent:d,viewport:c,paneClickDistance:y,onDraggingChange:k=>N.setState({paneDragging:k}),onPanZoomStart:(k,P)=>{const{onViewportChangeStart:T,onMoveStart:R}=N.getState();R?.(k,P),T?.(P)},onPanZoom:(k,P)=>{const{onViewportChange:T,onMove:R}=N.getState();R?.(k,P),T?.(P)},onPanZoomEnd:(k,P)=>{const{onViewportChangeEnd:T,onMoveEnd:R}=N.getState();R?.(k,P),T?.(P)}});const{x:F,y:L,zoom:U}=O.current.getViewport();return N.setState({panZoom:O.current,transform:[F,L,U],domNode:b.current.closest(".react-flow")}),()=>{O.current?.destroy()}}},[]),h.useEffect(()=>{O.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:a,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:A,preventScrolling:x,noPanClassName:w,userSelectionActive:E,noWheelClassName:f,lib:S,onTransformChange:I})},[e,t,n,r,a,o,i,l,A,x,w,E,f,S,I]),s.jsx("div",{className:"react-flow__renderer",ref:b,style:Sx,children:g})}const Zee=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ete(){const{userSelectionActive:e,userSelectionRect:t}=et(Zee,Bt);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Wg=(e,t)=>n=>{n.target===t.current&&e?.(n)},tte=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function ste({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ru.Full,panOnDrag:r,selectionOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:u,onPaneMouseMove:m,onPaneMouseLeave:p,children:x}){const g=Dt(),{userSelectionActive:f,elementsSelectable:w,dragging:j,connectionInProgress:v}=et(tte,Bt),y=w&&(e||f),N=h.useRef(null),b=h.useRef(),E=h.useRef(new Set),S=h.useRef(new Set),A=h.useRef(!1),O=h.useRef(!1),I=R=>{if(A.current||v){A.current=!1;return}l?.(R),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},F=R=>{if(Array.isArray(r)&&r?.includes(2)){R.preventDefault();return}c?.(R)},L=d?R=>d(R):void 0,U=R=>{const{resetSelectedElements:D,domNode:$}=g.getState();if(b.current=$?.getBoundingClientRect(),!w||!e||R.button!==0||R.target!==N.current||!b.current)return;R.target?.setPointerCapture?.(R.pointerId),O.current=!0,A.current=!1;const{x:V,y:B}=Ar(R.nativeEvent,b.current);D(),g.setState({userSelectionRect:{width:0,height:0,startX:V,startY:B,x:V,y:B}}),o?.(R)},k=R=>{const{userSelectionRect:D,transform:$,nodeLookup:V,edgeLookup:B,connectionLookup:H,triggerNodeChanges:z,triggerEdgeChanges:Q,defaultEdgeOptions:ie}=g.getState();if(!b.current||!D)return;A.current=!0;const{x:he,y:Z}=Ar(R.nativeEvent,b.current),{startX:le,startY:fe}=D,be={startX:le,startY:fe,x:he<le?he:le,y:Z<fe?Z:fe,width:Math.abs(he-le),height:Math.abs(Z-fe)},Ae=E.current,je=S.current;E.current=new Set(A0(V,be,$,n===ru.Partial,!0).map(De=>De.id)),S.current=new Set;const ke=ie?.selectable??!0;for(const De of E.current){const nt=H.get(De);if(nt)for(const{edgeId:Ft}of nt.values()){const Gt=B.get(Ft);Gt&&(Gt.selectable??ke)&&S.current.add(Ft)}}if(!Y1(Ae,E.current)){const De=ol(V,E.current,!0);z(De)}if(!Y1(je,S.current)){const De=ol(B,S.current);Q(De)}g.setState({userSelectionRect:be,userSelectionActive:!0,nodesSelectionActive:!1})},P=R=>{if(R.button!==0||!O.current)return;R.target?.releasePointerCapture?.(R.pointerId);const{userSelectionRect:D}=g.getState();!f&&D&&R.target===N.current&&I?.(R),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),i?.(R),(t||a)&&(A.current=!1),O.current=!1},T=r===!0||Array.isArray(r)&&r.includes(0);return s.jsxs("div",{className:es(["react-flow__pane",{draggable:T,dragging:j,selection:e}]),onClick:y?void 0:Wg(I,N),onContextMenu:Wg(F,N),onWheel:Wg(L,N),onPointerEnter:y?void 0:u,onPointerDown:y?U:m,onPointerMove:y?k:m,onPointerUp:y?P:void 0,onPointerLeave:p,ref:N,style:Sx,children:[x,s.jsx(ete,{})]})}function wj({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),d=l.get(e);if(!d){c?.("012",_r.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&i)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):a([e])}function LO({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,nodeClickDistance:i}){const l=Dt(),[c,d]=h.useState(!1),u=h.useRef();return h.useEffect(()=>{u.current=TZ({getStoreItems:()=>l.getState(),onNodeMouseDown:m=>{wj({id:m,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),h.useEffect(()=>{if(t)u.current?.destroy();else if(e.current)return u.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:a,nodeClickDistance:i}),()=>{u.current?.destroy()}},[n,r,t,o,e,a]),c}const nte=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function _O(){const e=Dt();return h.useCallback(n=>{const{nodeExtent:r,snapToGrid:a,snapGrid:o,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:u}=e.getState(),m=new Map,p=nte(i),x=a?o[0]:5,g=a?o[1]:5,f=n.direction.x*x*n.factor,w=n.direction.y*g*n.factor;for(const[,j]of d){if(!p(j))continue;let v={x:j.internals.positionAbsolute.x+f,y:j.internals.positionAbsolute.y+w};a&&(v=jx(v,o));const{position:y,positionAbsolute:N}=tO({nodeId:j.id,nextPosition:v,nodeLookup:d,nodeExtent:r,nodeOrigin:u,onError:l});j.position=y,j.internals.positionAbsolute=N,m.set(j.id,j)}c(m)},[])}const L0=h.createContext(null),rte=L0.Provider;L0.Consumer;const $O=()=>h.useContext(L0),ate=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ote=(e,t,n)=>r=>{const{connectionClickStartHandle:a,connectionMode:o,connection:i}=r,{fromHandle:l,toHandle:c,isValid:d}=i,u=c?.nodeId===e&&c?.id===t&&c?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:u,clickConnecting:a?.nodeId===e&&a?.id===t&&a?.type===n,isPossibleEndHandle:o===hi.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:u&&d}};function ite({type:e="source",position:t=Se.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:l,children:c,className:d,onMouseDown:u,onTouchStart:m,...p},x){const g=i||null,f=e==="target",w=Dt(),j=$O(),{connectOnClick:v,noPanClassName:y,rfId:N}=et(ate,Bt),{connectingFrom:b,connectingTo:E,clickConnecting:S,isPossibleEndHandle:A,connectionInProcess:O,clickConnectionInProcess:I,valid:F}=et(ote(j,g,e),Bt);j||w.getState().onError?.("010",_r.error010());const L=P=>{const{defaultEdgeOptions:T,onConnect:R,hasDefaultEdges:D}=w.getState(),$={...T,...P};if(D){const{edges:V,setEdges:B}=w.getState();B(zp($,V))}R?.($),l?.($)},U=P=>{if(!j)return;const T=cO(P.nativeEvent);if(a&&(T&&P.button===0||!T)){const R=w.getState();jj.onPointerDown(P.nativeEvent,{autoPanOnConnect:R.autoPanOnConnect,connectionMode:R.connectionMode,connectionRadius:R.connectionRadius,domNode:R.domNode,nodeLookup:R.nodeLookup,lib:R.lib,isTarget:f,handleId:g,nodeId:j,flowId:R.rfId,panBy:R.panBy,cancelConnection:R.cancelConnection,onConnectStart:R.onConnectStart,onConnectEnd:R.onConnectEnd,updateConnection:R.updateConnection,onConnect:L,isValidConnection:n||R.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:R.autoPanSpeed,dragThreshold:R.connectionDragThreshold})}T?u?.(P):m?.(P)},k=P=>{const{onClickConnectStart:T,onClickConnectEnd:R,connectionClickStartHandle:D,connectionMode:$,isValidConnection:V,lib:B,rfId:H,nodeLookup:z,connection:Q}=w.getState();if(!j||!D&&!a)return;if(!D){T?.(P.nativeEvent,{nodeId:j,handleId:g,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:j,type:e,id:g}});return}const ie=iO(P.target),he=n||V,{connection:Z,isValid:le}=jj.isValid(P.nativeEvent,{handle:{nodeId:j,id:g,type:e},connectionMode:$,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:he,flowId:H,doc:ie,lib:B,nodeLookup:z});le&&Z&&L(Z);const fe=structuredClone(Q);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,R?.(P,fe),w.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":g,"data-nodeid":j,"data-handlepos":t,"data-id":`${N}-${j}-${g}-${e}`,className:es(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,d,{source:!f,target:f,connectable:r,connectablestart:a,connectableend:o,clickconnecting:S,connectingfrom:b,connectingto:E,valid:F,connectionindicator:r&&(!O||A)&&(O||I?o:a)}]),onMouseDown:U,onTouchStart:U,onClick:v?k:void 0,ref:x,...p,children:c})}const Xt=h.memo(OO(ite));function lte({data:e,isConnectable:t,sourcePosition:n=Se.Bottom}){return s.jsxs(s.Fragment,{children:[e?.label,s.jsx(Xt,{type:"source",position:n,isConnectable:t})]})}function cte({data:e,isConnectable:t,targetPosition:n=Se.Top,sourcePosition:r=Se.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(Xt,{type:"target",position:n,isConnectable:t}),e?.label,s.jsx(Xt,{type:"source",position:r,isConnectable:t})]})}function dte(){return null}function ute({data:e,isConnectable:t,targetPosition:n=Se.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(Xt,{type:"target",position:n,isConnectable:t}),e?.label]})}const Wp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},yE={input:lte,default:cte,output:ute,group:dte};function hte(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const mte=e=>{const{width:t,height:n,x:r,y:a}=rh(e.nodeLookup,{filter:o=>!!o.selected});return{width:rr(t)?t:null,height:rr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${a}px)`}};function pte({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Dt(),{width:a,height:o,transformString:i,userSelectionActive:l}=et(mte,Bt),c=_O(),d=h.useRef(null);if(h.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),LO({nodeRef:d}),l||!a||!o)return null;const u=e?p=>{const x=r.getState().nodes.filter(g=>g.selected);e(p,x)}:void 0,m=p=>{Object.prototype.hasOwnProperty.call(Wp,p.key)&&(p.preventDefault(),c({direction:Wp[p.key],factor:p.shiftKey?4:1}))};return s.jsx("div",{className:es(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:s.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o}})})}const jE=typeof window<"u"?window:void 0,fte=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function UO({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:u,selectionMode:m,onSelectionStart:p,onSelectionEnd:x,multiSelectionKeyCode:g,panActivationKeyCode:f,zoomActivationKeyCode:w,elementsSelectable:j,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:N,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:A,defaultViewport:O,translateExtent:I,minZoom:F,maxZoom:L,preventScrolling:U,onSelectionContextMenu:k,noWheelClassName:P,noPanClassName:T,disableKeyboardA11y:R,onViewportChange:D,isControlledViewport:$}){const{nodesSelectionActive:V,userSelectionActive:B}=et(fte),H=iu(d,{target:jE}),z=iu(f,{target:jE}),Q=z||A,ie=z||N,he=u&&Q!==!0,Z=H||B||he;return Xee({deleteKeyCode:c,multiSelectionKeyCode:g}),s.jsx(Qee,{onPaneContextMenu:o,elementsSelectable:j,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:ie,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:!H&&Q,defaultViewport:O,translateExtent:I,minZoom:F,maxZoom:L,zoomActivationKeyCode:w,preventScrolling:U,noWheelClassName:P,noPanClassName:T,onViewportChange:D,isControlledViewport:$,paneClickDistance:l,children:s.jsxs(ste,{onSelectionStart:p,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:Q,isSelecting:!!Z,selectionMode:m,selectionKeyPressed:H,selectionOnDrag:he,children:[e,V&&s.jsx(pte,{onSelectionContextMenu:k,noPanClassName:T,disableKeyboardA11y:R})]})})}UO.displayName="FlowRenderer";const xte=h.memo(UO),gte=e=>t=>e?A0(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function vte(e){return et(h.useCallback(gte(e),[e]),Bt)}const yte=e=>e.updateNodeInternals;function jte(){const e=et(yte),[t]=h.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(a=>{const o=a.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:a.target,force:!0})}),e(r)}));return h.useEffect(()=>()=>{t?.disconnect()},[t]),t}function wte({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const a=Dt(),o=h.useRef(null),i=h.useRef(null),l=h.useRef(e.sourcePosition),c=h.useRef(e.targetPosition),d=h.useRef(t),u=n&&!!e.internals.handleBounds;return h.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&r?.unobserve(i.current),r?.observe(o.current),i.current=o.current)},[u,e.hidden]),h.useEffect(()=>()=>{i.current&&(r?.unobserve(i.current),i.current=null)},[]),h.useEffect(()=>{if(o.current){const m=d.current!==t,p=l.current!==e.sourcePosition,x=c.current!==e.targetPosition;(m||p||x)&&(d.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Nte({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:a,onContextMenu:o,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:u,resizeObserver:m,noDragClassName:p,noPanClassName:x,disableKeyboardA11y:g,rfId:f,nodeTypes:w,nodeClickDistance:j,onError:v}){const{node:y,internals:N,isParent:b}=et(le=>{const fe=le.nodeLookup.get(e),be=le.parentLookup.has(e);return{node:fe,internals:fe.internals,isParent:be}},Bt);let E=y.type||"default",S=w?.[E]||yE[E];S===void 0&&(v?.("003",_r.error003(E)),E="default",S=w?.default||yE.default);const A=!!(y.draggable||l&&typeof y.draggable>"u"),O=!!(y.selectable||c&&typeof y.selectable>"u"),I=!!(y.connectable||d&&typeof y.connectable>"u"),F=!!(y.focusable||u&&typeof y.focusable>"u"),L=Dt(),U=aO(y),k=wte({node:y,nodeType:E,hasDimensions:U,resizeObserver:m}),P=LO({nodeRef:k,disabled:y.hidden||!A,noDragClassName:p,handleSelector:y.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:j}),T=_O();if(y.hidden)return null;const R=Na(y),D=hte(y),$=O||A||t||n||r||a,V=n?le=>n(le,{...N.userNode}):void 0,B=r?le=>r(le,{...N.userNode}):void 0,H=a?le=>a(le,{...N.userNode}):void 0,z=o?le=>o(le,{...N.userNode}):void 0,Q=i?le=>i(le,{...N.userNode}):void 0,ie=le=>{const{selectNodesOnDrag:fe,nodeDragThreshold:be}=L.getState();O&&(!fe||!A||be>0)&&wj({id:e,store:L,nodeRef:k}),t&&t(le,{...N.userNode})},he=le=>{if(!(lO(le.nativeEvent)||g)){if(G4.includes(le.key)&&O){const fe=le.key==="Escape";wj({id:e,store:L,unselect:fe,nodeRef:k})}else if(A&&y.selected&&Object.prototype.hasOwnProperty.call(Wp,le.key)){le.preventDefault();const{ariaLabelConfig:fe}=L.getState();L.setState({ariaLiveMessage:fe["node.a11yDescription.ariaLiveMessage"]({direction:le.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),T({direction:Wp[le.key],factor:le.shiftKey?4:1})}}},Z=()=>{if(g||!k.current?.matches(":focus-visible"))return;const{transform:le,width:fe,height:be,autoPanOnNodeFocus:Ae,setCenter:je}=L.getState();if(!Ae)return;A0(new Map([[e,y]]),{x:0,y:0,width:fe,height:be},le,!0).length>0||je(y.position.x+R.width/2,y.position.y+R.height/2,{zoom:le[2]})};return s.jsx("div",{className:es(["react-flow__node",`react-flow__node-${E}`,{[x]:A},y.className,{selected:y.selected,selectable:O,parent:b,draggable:A,dragging:P}]),ref:k,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:U?"visible":"hidden",...y.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:V,onMouseMove:B,onMouseLeave:H,onContextMenu:z,onClick:ie,onDoubleClick:Q,onKeyDown:F?he:void 0,tabIndex:F?0:void 0,onFocus:F?Z:void 0,role:y.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${AO}-${f}`,"aria-label":y.ariaLabel,...y.domAttributes,children:s.jsx(rte,{value:e,children:s.jsx(S,{id:e,data:y.data,type:E,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:y.selected??!1,selectable:O,draggable:A,deletable:y.deletable??!0,isConnectable:I,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:P,dragHandle:y.dragHandle,zIndex:N.z,parentId:y.parentId,...R})})})}const bte=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function VO(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,onError:o}=et(bte,Bt),i=vte(e.onlyRenderVisibleElements),l=jte();return s.jsx("div",{className:"react-flow__nodes",style:Sx,children:i.map(c=>s.jsx(Nte,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:o},c))})}VO.displayName="NodeRenderer";const Ste=h.memo(VO);function Cte(e){return et(h.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const r=[];if(n.width&&n.height)for(const a of n.edges){const o=n.nodeLookup.get(a.source),i=n.nodeLookup.get(a.target);o&&i&&hZ({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(a.id)}return r},[e]),Bt)}const Ete=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Tte=({color:e="none",strokeWidth:t=1})=>s.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),wE={[nr.Arrow]:Ete,[nr.ArrowClosed]:Tte};function Pte(e){const t=Dt();return h.useMemo(()=>Object.prototype.hasOwnProperty.call(wE,e)?wE[e]:(t.getState().onError?.("009",_r.error009(e)),null),[e])}const Ate=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=Pte(t);return c?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:s.jsx(c,{color:n,strokeWidth:i})}):null},BO=({defaultColor:e,rfId:t})=>{const n=et(o=>o.edges),r=et(o=>o.defaultEdgeOptions),a=h.useMemo(()=>yZ(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return a.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:a.map(o=>s.jsx(Ate,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};BO.displayName="MarkerDefinitions";var kte=h.memo(BO);function HO({x:e,y:t,label:n,labelStyle:r,labelShowBg:a=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...u}){const[m,p]=h.useState({x:1,y:0,width:0,height:0}),x=es(["react-flow__edge-textwrapper",d]),g=h.useRef(null);return h.useEffect(()=>{if(g.current){const f=g.current.getBBox();p({x:f.x,y:f.y,width:f.width,height:f.height})}},[n]),n?s.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...u,children:[a&&s.jsx("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:r,children:n}),c]}):null}HO.displayName="EdgeText";const Rte=h.memo(HO);function oh({path:e,labelX:t,labelY:n,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...u}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...u,d:e,fill:"none",className:es(["react-flow__edge-path",u.className])}),d&&s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&rr(t)&&rr(n)?s.jsx(Rte,{x:t,y:n,label:r,labelStyle:a,labelShowBg:o,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function NE({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===Se.Left||e===Se.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function qO({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:r,targetY:a,targetPosition:o=Se.Top}){const[i,l]=NE({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,d]=NE({pos:o,x1:r,y1:a,x2:e,y2:t}),[u,m,p,x]=dO({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${i},${l} ${c},${d} ${r},${a}`,u,m,p,x]}function zO(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:i,targetPosition:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:x,style:g,markerEnd:f,markerStart:w,interactionWidth:j})=>{const[v,y,N]=qO({sourceX:n,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l}),b=e.isInternal?void 0:t;return s.jsx(oh,{id:b,path:v,labelX:y,labelY:N,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:x,style:g,markerEnd:f,markerStart:w,interactionWidth:j})})}const Mte=zO({isInternal:!1}),WO=zO({isInternal:!0});Mte.displayName="SimpleBezierEdge";WO.displayName="SimpleBezierEdgeInternal";function KO(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:p,sourcePosition:x=Se.Bottom,targetPosition:g=Se.Top,markerEnd:f,markerStart:w,pathOptions:j,interactionWidth:v})=>{const[y,N,b]=gj({sourceX:n,sourceY:r,sourcePosition:x,targetX:a,targetY:o,targetPosition:g,borderRadius:j?.borderRadius,offset:j?.offset,stepPosition:j?.stepPosition}),E=e.isInternal?void 0:t;return s.jsx(oh,{id:E,path:y,labelX:N,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:p,markerEnd:f,markerStart:w,interactionWidth:v})})}const YO=KO({isInternal:!1}),XO=KO({isInternal:!0});YO.displayName="SmoothStepEdge";XO.displayName="SmoothStepEdgeInternal";function GO(e){return h.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return s.jsx(YO,{...n,id:r,pathOptions:h.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Dte=GO({isInternal:!1}),JO=GO({isInternal:!0});Dte.displayName="StepEdge";JO.displayName="StepEdgeInternal";function QO(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:g,interactionWidth:f})=>{const[w,j,v]=hO({sourceX:n,sourceY:r,targetX:a,targetY:o}),y=e.isInternal?void 0:t;return s.jsx(oh,{id:y,path:w,labelX:j,labelY:v,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:g,interactionWidth:f})})}const Fte=QO({isInternal:!1}),ZO=QO({isInternal:!0});Fte.displayName="StraightEdge";ZO.displayName="StraightEdgeInternal";function eI(e){return h.memo(({id:t,sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:i=Se.Bottom,targetPosition:l=Se.Top,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:x,style:g,markerEnd:f,markerStart:w,pathOptions:j,interactionWidth:v})=>{const[y,N,b]=M0({sourceX:n,sourceY:r,sourcePosition:i,targetX:a,targetY:o,targetPosition:l,curvature:j?.curvature}),E=e.isInternal?void 0:t;return s.jsx(oh,{id:E,path:y,labelX:N,labelY:b,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:m,labelBgPadding:p,labelBgBorderRadius:x,style:g,markerEnd:f,markerStart:w,interactionWidth:v})})}const Ote=eI({isInternal:!1}),tI=eI({isInternal:!0});Ote.displayName="BezierEdge";tI.displayName="BezierEdgeInternal";const bE={default:tI,straight:ZO,step:JO,smoothstep:XO,simplebezier:WO},SE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Ite=(e,t,n)=>n===Se.Left?e-t:n===Se.Right?e+t:e,Lte=(e,t,n)=>n===Se.Top?e-t:n===Se.Bottom?e+t:e,CE="react-flow__edgeupdater";function EE({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:l}){return s.jsx("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:es([CE,`${CE}-${l}`]),cx:Ite(t,r,e),cy:Lte(n,r,e),r,stroke:"transparent",fill:"transparent"})}function _te({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:a,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:u,onReconnectEnd:m,setReconnecting:p,setUpdateHover:x}){const g=Dt(),f=(N,b)=>{if(N.button!==0)return;const{autoPanOnConnect:E,domNode:S,isValidConnection:A,connectionMode:O,connectionRadius:I,lib:F,onConnectStart:L,onConnectEnd:U,cancelConnection:k,nodeLookup:P,rfId:T,panBy:R,updateConnection:D}=g.getState(),$=b.type==="target",V=(z,Q)=>{p(!1),m?.(z,n,b.type,Q)},B=z=>d?.(n,z),H=(z,Q)=>{p(!0),u?.(N,n,b.type),L?.(z,Q)};jj.onPointerDown(N.nativeEvent,{autoPanOnConnect:E,connectionMode:O,connectionRadius:I,domNode:S,handleId:b.id,nodeId:b.nodeId,nodeLookup:P,isTarget:$,edgeUpdaterType:b.type,lib:F,flowId:T,cancelConnection:k,panBy:R,isValidConnection:A,onConnect:B,onConnectStart:H,onConnectEnd:U,onReconnectEnd:V,updateConnection:D,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold})},w=N=>f(N,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),j=N=>f(N,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>x(!0),y=()=>x(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(EE,{position:l,centerX:r,centerY:a,radius:t,onMouseDown:w,onMouseEnter:v,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&s.jsx(EE,{position:c,centerX:o,centerY:i,radius:t,onMouseDown:j,onMouseEnter:v,onMouseOut:y,type:"target"})]})}function $te({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:a,onDoubleClick:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:u,onReconnect:m,onReconnectStart:p,onReconnectEnd:x,rfId:g,edgeTypes:f,noPanClassName:w,onError:j,disableKeyboardA11y:v}){let y=et(je=>je.edgeLookup.get(e));const N=et(je=>je.defaultEdgeOptions);y=N?{...N,...y}:y;let b=y.type||"default",E=f?.[b]||bE[b];E===void 0&&(j?.("011",_r.error011(b)),b="default",E=f?.default||bE.default);const S=!!(y.focusable||t&&typeof y.focusable>"u"),A=typeof m<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),O=!!(y.selectable||r&&typeof y.selectable>"u"),I=h.useRef(null),[F,L]=h.useState(!1),[U,k]=h.useState(!1),P=Dt(),{zIndex:T,sourceX:R,sourceY:D,targetX:$,targetY:V,sourcePosition:B,targetPosition:H}=et(h.useCallback(je=>{const ke=je.nodeLookup.get(y.source),De=je.nodeLookup.get(y.target);if(!ke||!De)return{zIndex:y.zIndex,...SE};const nt=vZ({id:e,sourceNode:ke,targetNode:De,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:je.connectionMode,onError:j});return{zIndex:uZ({selected:y.selected,zIndex:y.zIndex,sourceNode:ke,targetNode:De,elevateOnSelect:je.elevateEdgesOnSelect}),...nt||SE}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),Bt),z=h.useMemo(()=>y.markerStart?`url('#${vj(y.markerStart,g)}')`:void 0,[y.markerStart,g]),Q=h.useMemo(()=>y.markerEnd?`url('#${vj(y.markerEnd,g)}')`:void 0,[y.markerEnd,g]);if(y.hidden||R===null||D===null||$===null||V===null)return null;const ie=je=>{const{addSelectedEdges:ke,unselectNodesAndEdges:De,multiSelectionActive:nt}=P.getState();O&&(P.setState({nodesSelectionActive:!1}),y.selected&&nt?(De({nodes:[],edges:[y]}),I.current?.blur()):ke([e])),a&&a(je,y)},he=o?je=>{o(je,{...y})}:void 0,Z=i?je=>{i(je,{...y})}:void 0,le=l?je=>{l(je,{...y})}:void 0,fe=c?je=>{c(je,{...y})}:void 0,be=d?je=>{d(je,{...y})}:void 0,Ae=je=>{if(!v&&G4.includes(je.key)&&O){const{unselectNodesAndEdges:ke,addSelectedEdges:De}=P.getState();je.key==="Escape"?(I.current?.blur(),ke({edges:[y]})):De([e])}};return s.jsx("svg",{style:{zIndex:T},children:s.jsxs("g",{className:es(["react-flow__edge",`react-flow__edge-${b}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!O&&!a,updating:F,selectable:O}]),onClick:ie,onDoubleClick:he,onContextMenu:Z,onMouseEnter:le,onMouseMove:fe,onMouseLeave:be,onKeyDown:S?Ae:void 0,tabIndex:S?0:void 0,role:y.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":S?`${kO}-${g}`:void 0,ref:I,...y.domAttributes,children:[!U&&s.jsx(E,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:O,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:R,sourceY:D,targetX:$,targetY:V,sourcePosition:B,targetPosition:H,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:z,markerEnd:Q,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),A&&s.jsx(_te,{edge:y,isReconnectable:A,reconnectRadius:u,onReconnect:m,onReconnectStart:p,onReconnectEnd:x,sourceX:R,sourceY:D,targetX:$,targetY:V,sourcePosition:B,targetPosition:H,setUpdateHover:L,setReconnecting:k})]})})}const Ute=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function sI({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:a,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:u,reconnectRadius:m,onEdgeDoubleClick:p,onReconnectStart:x,onReconnectEnd:g,disableKeyboardA11y:f}){const{edgesFocusable:w,edgesReconnectable:j,elementsSelectable:v,onError:y}=et(Ute,Bt),N=Cte(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(kte,{defaultColor:e,rfId:n}),N.map(b=>s.jsx($te,{id:b,edgesFocusable:w,edgesReconnectable:j,elementsSelectable:v,noPanClassName:a,onReconnect:o,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:u,reconnectRadius:m,onDoubleClick:p,onReconnectStart:x,onReconnectEnd:g,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:f},b))]})}sI.displayName="EdgeRenderer";const Vte=h.memo(sI),Bte=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Hte({children:e}){const t=et(Bte);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function qte(e){const t=zr(),n=h.useRef(!1);h.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const zte=e=>e.panZoom?.syncViewport;function Wte(e){const t=et(zte),n=Dt();return h.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Kte(e){return e.connection.inProgress?{...e.connection,to:ah(e.connection.to,e.transform)}:{...e.connection}}function Yte(e){return Kte}function Xte(e){const t=Yte();return et(t,Bt)}const Gte=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Jte({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:a,width:o,height:i,isValid:l,inProgress:c}=et(Gte,Bt);return!(o&&a&&c)?null:s.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:es(["react-flow__connection",Z4(l)]),children:s.jsx(nI,{style:t,type:n,CustomComponent:r,isValid:l})})})}const nI=({style:e,type:t=Ua.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:a,from:o,fromNode:i,fromHandle:l,fromPosition:c,to:d,toNode:u,toHandle:m,toPosition:p}=Xte();if(!a)return;if(n)return s.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:o.x,fromY:o.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:p,connectionStatus:Z4(r),toNode:u,toHandle:m});let x="";const g={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:p};switch(t){case Ua.Bezier:[x]=M0(g);break;case Ua.SimpleBezier:[x]=qO(g);break;case Ua.Step:[x]=gj({...g,borderRadius:0});break;case Ua.SmoothStep:[x]=gj(g);break;default:[x]=hO(g)}return s.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};nI.displayName="ConnectionLine";const Qte={};function TE(e=Qte){h.useRef(e),Dt(),h.useEffect(()=>{},[e])}function Zte(){Dt(),h.useRef(!1),h.useEffect(()=>{},[])}function rI({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:a,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,onSelectionContextMenu:m,onSelectionStart:p,onSelectionEnd:x,connectionLineType:g,connectionLineStyle:f,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:v,selectionOnDrag:y,selectionMode:N,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,deleteKeyCode:A,onlyRenderVisibleElements:O,elementsSelectable:I,defaultViewport:F,translateExtent:L,minZoom:U,maxZoom:k,preventScrolling:P,defaultMarkerColor:T,zoomOnScroll:R,zoomOnPinch:D,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:z,onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:he,onPaneMouseLeave:Z,onPaneScroll:le,onPaneContextMenu:fe,paneClickDistance:be,nodeClickDistance:Ae,onEdgeContextMenu:je,onEdgeMouseEnter:ke,onEdgeMouseMove:De,onEdgeMouseLeave:nt,reconnectRadius:Ft,onReconnect:Gt,onReconnectStart:Cs,onReconnectEnd:ts,noDragClassName:Yn,noWheelClassName:To,noPanClassName:Kr,disableKeyboardA11y:Te,nodeExtent:Ve,rfId:Qe,viewport:Ze,onViewportChange:st}){return TE(e),TE(t),Zte(),qte(n),Wte(Ze),s.jsx(xte,{onPaneClick:Q,onPaneMouseEnter:ie,onPaneMouseMove:he,onPaneMouseLeave:Z,onPaneContextMenu:fe,onPaneScroll:le,paneClickDistance:be,deleteKeyCode:A,selectionKeyCode:v,selectionOnDrag:y,selectionMode:N,onSelectionStart:p,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,elementsSelectable:I,zoomOnScroll:R,zoomOnPinch:D,zoomOnDoubleClick:H,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:B,panOnDrag:z,defaultViewport:F,translateExtent:L,minZoom:U,maxZoom:k,onSelectionContextMenu:m,preventScrolling:P,noDragClassName:Yn,noWheelClassName:To,noPanClassName:Kr,disableKeyboardA11y:Te,onViewportChange:st,isControlledViewport:!!Ze,children:s.jsxs(Hte,{children:[s.jsx(Vte,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Gt,onReconnectStart:Cs,onReconnectEnd:ts,onlyRenderVisibleElements:O,onEdgeContextMenu:je,onEdgeMouseEnter:ke,onEdgeMouseMove:De,onEdgeMouseLeave:nt,reconnectRadius:Ft,defaultMarkerColor:T,noPanClassName:Kr,disableKeyboardA11y:Te,rfId:Qe}),s.jsx(Jte,{style:f,type:g,component:w,containerStyle:j}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(Ste,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:u,nodeClickDistance:Ae,onlyRenderVisibleElements:O,noPanClassName:Kr,noDragClassName:Yn,disableKeyboardA11y:Te,nodeExtent:Ve,rfId:Qe}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}rI.displayName="GraphView";const ese=h.memo(rI),PE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:d=2,nodeOrigin:u,nodeExtent:m}={})=>{const p=new Map,x=new Map,g=new Map,f=new Map,w=r??t??[],j=n??e??[],v=u??[0,0],y=m??nu;pO(g,f,w);const N=yj(j,p,x,{nodeOrigin:v,nodeExtent:y,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&a&&o){const E=rh(p,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:S,y:A,zoom:O}=k0(E,a,o,c,d,l?.padding??.1);b=[S,A,O]}return{rfId:"1",width:0,height:0,transform:b,nodes:j,nodesInitialized:N,nodeLookup:p,parentLookup:x,edges:w,edgeLookup:f,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:d,translateExtent:nu,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Q4},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:aZ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:J4}},tse=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:m})=>wee((p,x)=>{async function g(){const{nodeLookup:f,panZoom:w,fitViewOptions:j,fitViewResolver:v,width:y,height:N,minZoom:b,maxZoom:E}=x();w&&(await nZ({nodes:f,width:y,height:N,panZoom:w,minZoom:b,maxZoom:E},j),v?.resolve(!0),p({fitViewResolver:null}))}return{...PE({nodes:e,edges:t,width:a,height:o,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:m,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:w,parentLookup:j,nodeOrigin:v,elevateNodesOnSelect:y,fitViewQueued:N}=x(),b=yj(f,w,j,{nodeOrigin:v,nodeExtent:m,elevateNodesOnSelect:y,checkEquality:!0});N&&b?(g(),p({nodes:f,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:f,nodesInitialized:b})},setEdges:f=>{const{connectionLookup:w,edgeLookup:j}=x();pO(w,j,f),p({edges:f})},setDefaultNodesAndEdges:(f,w)=>{if(f){const{setNodes:j}=x();j(f),p({hasDefaultNodes:!0})}if(w){const{setEdges:j}=x();j(w),p({hasDefaultEdges:!0})}},updateNodeInternals:f=>{const{triggerNodeChanges:w,nodeLookup:j,parentLookup:v,domNode:y,nodeOrigin:N,nodeExtent:b,debug:E,fitViewQueued:S}=x(),{changes:A,updatedInternals:O}=SZ(f,j,v,y,N,b);O&&(wZ(j,v,{nodeOrigin:N,nodeExtent:b}),S?(g(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),A?.length>0&&(E&&console.log("React Flow: trigger node changes",A),w?.(A)))},updateNodePositions:(f,w=!1)=>{const j=[],v=[],{nodeLookup:y,triggerNodeChanges:N}=x();for(const[b,E]of f){const S=y.get(b),A=!!(S?.expandParent&&S?.parentId&&E?.position),O={id:b,type:"position",position:A?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};A&&S.parentId&&j.push({id:b,parentId:S.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),v.push(O)}if(j.length>0){const{parentLookup:b,nodeOrigin:E}=x(),S=I0(j,y,b,E);v.push(...S)}N(v)},triggerNodeChanges:f=>{const{onNodesChange:w,setNodes:j,nodes:v,hasDefaultNodes:y,debug:N}=x();if(f?.length){if(y){const b=DO(f,v);j(b)}N&&console.log("React Flow: trigger node changes",f),w?.(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:w,setEdges:j,edges:v,hasDefaultEdges:y,debug:N}=x();if(f?.length){if(y){const b=FO(f,v);j(b)}N&&console.log("React Flow: trigger edge changes",f),w?.(f)}},addSelectedNodes:f=>{const{multiSelectionActive:w,edgeLookup:j,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:N}=x();if(w){const b=f.map(E=>Mo(E,!0));y(b);return}y(ol(v,new Set([...f]),!0)),N(ol(j))},addSelectedEdges:f=>{const{multiSelectionActive:w,edgeLookup:j,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:N}=x();if(w){const b=f.map(E=>Mo(E,!0));N(b);return}N(ol(j,new Set([...f]))),y(ol(v,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:w}={})=>{const{edges:j,nodes:v,nodeLookup:y,triggerNodeChanges:N,triggerEdgeChanges:b}=x(),E=f||v,S=w||j,A=E.map(I=>{const F=y.get(I.id);return F&&(F.selected=!1),Mo(I.id,!1)}),O=S.map(I=>Mo(I.id,!1));N(A),b(O)},setMinZoom:f=>{const{panZoom:w,maxZoom:j}=x();w?.setScaleExtent([f,j]),p({minZoom:f})},setMaxZoom:f=>{const{panZoom:w,minZoom:j}=x();w?.setScaleExtent([j,f]),p({maxZoom:f})},setTranslateExtent:f=>{x().panZoom?.setTranslateExtent(f),p({translateExtent:f})},setPaneClickDistance:f=>{x().panZoom?.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:w,triggerNodeChanges:j,triggerEdgeChanges:v,elementsSelectable:y}=x();if(!y)return;const N=w.reduce((E,S)=>S.selected?[...E,Mo(S.id,!1)]:E,[]),b=f.reduce((E,S)=>S.selected?[...E,Mo(S.id,!1)]:E,[]);j(N),v(b)},setNodeExtent:f=>{const{nodes:w,nodeLookup:j,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:N,nodeExtent:b}=x();f[0][0]===b[0][0]&&f[0][1]===b[0][1]&&f[1][0]===b[1][0]&&f[1][1]===b[1][1]||(yj(w,j,v,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:N,checkEquality:!1}),p({nodeExtent:f}))},panBy:f=>{const{transform:w,width:j,height:v,panZoom:y,translateExtent:N}=x();return CZ({delta:f,panZoom:y,transform:w,translateExtent:N,width:j,height:v})},setCenter:async(f,w,j)=>{const{width:v,height:y,maxZoom:N,panZoom:b}=x();if(!b)return Promise.resolve(!1);const E=typeof j?.zoom<"u"?j.zoom:N;return await b.setViewport({x:v/2-f*E,y:y/2-w*E,zoom:E},{duration:j?.duration,ease:j?.ease,interpolate:j?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...Q4}})},updateConnection:f=>{p({connection:f})},reset:()=>p({...PE()})}},Object.is);function sse({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:a,initialHeight:o,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:d,nodeOrigin:u,nodeExtent:m,children:p}){const[x]=h.useState(()=>tse({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:o,fitView:d,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:u,nodeExtent:m}));return s.jsx(Nee,{value:x,children:s.jsx(zee,{children:p})})}function nse({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:a,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:m,nodeExtent:p}){return h.useContext(bx)?s.jsx(s.Fragment,{children:e}):s.jsx(sse,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:o,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:d,initialMaxZoom:u,nodeOrigin:m,nodeExtent:p,children:e})}const rse={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ase({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:u,onMoveStart:m,onMoveEnd:p,onConnect:x,onConnectStart:g,onConnectEnd:f,onClickConnectStart:w,onClickConnectEnd:j,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,onNodeDragStart:S,onNodeDrag:A,onNodeDragStop:O,onNodesDelete:I,onEdgesDelete:F,onDelete:L,onSelectionChange:U,onSelectionDragStart:k,onSelectionDrag:P,onSelectionDragStop:T,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:$,onBeforeDelete:V,connectionMode:B,connectionLineType:H=Ua.Bezier,connectionLineStyle:z,connectionLineComponent:Q,connectionLineContainerStyle:ie,deleteKeyCode:he="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:le=!1,selectionMode:fe=ru.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:Ae=qp()?"Meta":"Control",zoomActivationKeyCode:je=qp()?"Meta":"Control",snapToGrid:ke,snapGrid:De,onlyRenderVisibleElements:nt=!1,selectNodesOnDrag:Ft,nodesDraggable:Gt,autoPanOnNodeFocus:Cs,nodesConnectable:ts,nodesFocusable:Yn,nodeOrigin:To=RO,edgesFocusable:Kr,edgesReconnectable:Te,elementsSelectable:Ve=!0,defaultViewport:Qe=Oee,minZoom:Ze=.5,maxZoom:st=2,translateExtent:We=nu,preventScrolling:jt=!0,nodeExtent:se,defaultMarkerColor:me="#b1b1b7",zoomOnScroll:Me=!0,zoomOnPinch:ve=!0,panOnScroll:Fe=!1,panOnScrollSpeed:we=.5,panOnScrollMode:Ie=Go.Free,zoomOnDoubleClick:Ke=!0,panOnDrag:hs=!0,onPaneClick:Ht,onPaneMouseEnter:Ri,onPaneMouseMove:as,onPaneMouseLeave:Po,onPaneScroll:Pc,onPaneContextMenu:X3,paneClickDistance:oS=0,nodeClickDistance:G3=0,children:J3,onReconnect:Q3,onReconnectStart:Z3,onReconnectEnd:e5,onEdgeContextMenu:t5,onEdgeDoubleClick:s5,onEdgeMouseEnter:n5,onEdgeMouseMove:r5,onEdgeMouseLeave:a5,reconnectRadius:o5=10,onNodesChange:i5,onEdgesChange:l5,noDragClassName:c5="nodrag",noWheelClassName:d5="nowheel",noPanClassName:iS="nopan",fitView:lS,fitViewOptions:cS,connectOnClick:u5,attributionPosition:h5,proOptions:m5,defaultEdgeOptions:p5,elevateNodesOnSelect:f5,elevateEdgesOnSelect:x5,disableKeyboardA11y:dS=!1,autoPanOnConnect:g5,autoPanOnNodeDrag:v5,autoPanSpeed:y5,connectionRadius:j5,isValidConnection:w5,onError:N5,style:b5,id:uS,nodeDragThreshold:S5,connectionDragThreshold:C5,viewport:E5,onViewportChange:T5,width:P5,height:A5,colorMode:k5="light",debug:R5,onScroll:hS,ariaLabelConfig:M5,...D5},F5){const Vx=uS||"1",O5=$ee(k5),I5=h.useCallback(mS=>{mS.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),hS?.(mS)},[hS]);return s.jsx("div",{"data-testid":"rf__wrapper",...D5,onScroll:I5,style:{...b5,...rse},ref:F5,className:es(["react-flow",a,O5]),id:uS,role:"application",children:s.jsxs(nse,{nodes:e,edges:t,width:P5,height:A5,fitView:lS,fitViewOptions:cS,minZoom:Ze,maxZoom:st,nodeOrigin:To,nodeExtent:se,children:[s.jsx(ese,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:N,onNodeContextMenu:b,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:H,connectionLineStyle:z,connectionLineComponent:Q,connectionLineContainerStyle:ie,selectionKeyCode:Z,selectionOnDrag:le,selectionMode:fe,deleteKeyCode:he,multiSelectionKeyCode:Ae,panActivationKeyCode:be,zoomActivationKeyCode:je,onlyRenderVisibleElements:nt,defaultViewport:Qe,translateExtent:We,minZoom:Ze,maxZoom:st,preventScrolling:jt,zoomOnScroll:Me,zoomOnPinch:ve,zoomOnDoubleClick:Ke,panOnScroll:Fe,panOnScrollSpeed:we,panOnScrollMode:Ie,panOnDrag:hs,onPaneClick:Ht,onPaneMouseEnter:Ri,onPaneMouseMove:as,onPaneMouseLeave:Po,onPaneScroll:Pc,onPaneContextMenu:X3,paneClickDistance:oS,nodeClickDistance:G3,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:$,onReconnect:Q3,onReconnectStart:Z3,onReconnectEnd:e5,onEdgeContextMenu:t5,onEdgeDoubleClick:s5,onEdgeMouseEnter:n5,onEdgeMouseMove:r5,onEdgeMouseLeave:a5,reconnectRadius:o5,defaultMarkerColor:me,noDragClassName:c5,noWheelClassName:d5,noPanClassName:iS,rfId:Vx,disableKeyboardA11y:dS,nodeExtent:se,viewport:E5,onViewportChange:T5}),s.jsx(_ee,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:g,onConnectEnd:f,onClickConnectStart:w,onClickConnectEnd:j,nodesDraggable:Gt,autoPanOnNodeFocus:Cs,nodesConnectable:ts,nodesFocusable:Yn,edgesFocusable:Kr,edgesReconnectable:Te,elementsSelectable:Ve,elevateNodesOnSelect:f5,elevateEdgesOnSelect:x5,minZoom:Ze,maxZoom:st,nodeExtent:se,onNodesChange:i5,onEdgesChange:l5,snapToGrid:ke,snapGrid:De,connectionMode:B,translateExtent:We,connectOnClick:u5,defaultEdgeOptions:p5,fitView:lS,fitViewOptions:cS,onNodesDelete:I,onEdgesDelete:F,onDelete:L,onNodeDragStart:S,onNodeDrag:A,onNodeDragStop:O,onSelectionDrag:P,onSelectionDragStart:k,onSelectionDragStop:T,onMove:u,onMoveStart:m,onMoveEnd:p,noPanClassName:iS,nodeOrigin:To,rfId:Vx,autoPanOnConnect:g5,autoPanOnNodeDrag:v5,autoPanSpeed:y5,onError:N5,connectionRadius:j5,isValidConnection:w5,selectNodesOnDrag:Ft,nodeDragThreshold:S5,connectionDragThreshold:C5,onBeforeDelete:V,paneClickDistance:oS,debug:R5,ariaLabelConfig:M5}),s.jsx(Fee,{onSelectionChange:U}),J3,s.jsx(Aee,{proOptions:m5,position:h5}),s.jsx(Pee,{rfId:Vx,disableKeyboardA11y:dS})]})})}var aI=OO(ase);const ose=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function ise({children:e}){const t=et(ose);return t?vr.createPortal(e,t):null}function oI(e){const[t,n]=h.useState(e),r=h.useCallback(a=>n(o=>DO(a,o)),[]);return[t,n,r]}function iI(e){const[t,n]=h.useState(e),r=h.useCallback(a=>n(o=>FO(a,o)),[]);return[t,n,r]}function lse({dimensions:e,lineWidth:t,variant:n,className:r}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:es(["react-flow__background-pattern",n,r])})}function cse({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:es(["react-flow__background-pattern","dots",t])})}var ia;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ia||(ia={}));const dse={[ia.Dots]:1,[ia.Lines]:1,[ia.Cross]:6},use=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function lI({id:e,variant:t=ia.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=0,color:i,bgColor:l,style:c,className:d,patternClassName:u}){const m=h.useRef(null),{transform:p,patternId:x}=et(use,Bt),g=r||dse[t],f=t===ia.Dots,w=t===ia.Cross,j=Array.isArray(n)?n:[n,n],v=[j[0]*p[2]||1,j[1]*p[2]||1],y=g*p[2],N=Array.isArray(o)?o:[o,o],b=w?[y,y]:v,E=[N[0]*p[2]||1+b[0]/2,N[1]*p[2]||1+b[1]/2],S=`${x}${e||""}`;return s.jsxs("svg",{className:es(["react-flow__background",d]),style:{...c,...Sx,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:m,"data-testid":"rf__background",children:[s.jsx("pattern",{id:S,x:p[0]%v[0],y:p[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:f?s.jsx(cse,{radius:y/2,className:u}):s.jsx(lse,{dimensions:b,lineWidth:a,variant:t,className:u})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}lI.displayName="Background";const cI=h.memo(lI);function hse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function mse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function pse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function fse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function xse(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Gh({children:e,className:t,...n}){return s.jsx("button",{type:"button",className:es(["react-flow__controls-button",t]),...n,children:e})}const gse=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function dI({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:d,children:u,position:m="bottom-left",orientation:p="vertical","aria-label":x}){const g=Dt(),{isInteractive:f,minZoomReached:w,maxZoomReached:j,ariaLabelConfig:v}=et(gse,Bt),{zoomIn:y,zoomOut:N,fitView:b}=zr(),E=()=>{y(),o?.()},S=()=>{N(),i?.()},A=()=>{b(a),l?.()},O=()=>{g.setState({nodesDraggable:!f,nodesConnectable:!f,elementsSelectable:!f}),c?.(!f)},I=p==="horizontal"?"horizontal":"vertical";return s.jsxs(Yl,{className:es(["react-flow__controls",I,d]),position:m,style:e,"data-testid":"rf__controls","aria-label":x??v["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(Gh,{onClick:E,className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:j,children:s.jsx(hse,{})}),s.jsx(Gh,{onClick:S,className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:w,children:s.jsx(mse,{})})]}),n&&s.jsx(Gh,{className:"react-flow__controls-fitview",onClick:A,title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:s.jsx(pse,{})}),r&&s.jsx(Gh,{className:"react-flow__controls-interactive",onClick:O,title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:f?s.jsx(xse,{}):s.jsx(fse,{})}),u]})}dI.displayName="Controls";const uI=h.memo(dI);function vse({id:e,x:t,y:n,width:r,height:a,style:o,color:i,strokeColor:l,strokeWidth:c,className:d,borderRadius:u,shapeRendering:m,selected:p,onClick:x}){const{background:g,backgroundColor:f}=o||{},w=i||g||f;return s.jsx("rect",{className:es(["react-flow__minimap-node",{selected:p},d]),x:t,y:n,rx:u,ry:u,width:r,height:a,style:{fill:w,stroke:l,strokeWidth:c},shapeRendering:m,onClick:x?j=>x(j,e):void 0})}const yse=h.memo(vse),jse=e=>e.nodes.map(t=>t.id),Kg=e=>e instanceof Function?e:()=>e;function wse({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:a,nodeComponent:o=yse,onClick:i}){const l=et(jse,Bt),c=Kg(t),d=Kg(e),u=Kg(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(p=>s.jsx(bse,{id:p,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:a,NodeComponent:o,onClick:i,shapeRendering:m},p))})}function Nse({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:a,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:d,x:u,y:m,width:p,height:x}=et(g=>{const{internals:f}=g.nodeLookup.get(e),w=f.userNode,{x:j,y:v}=f.positionAbsolute,{width:y,height:N}=Na(w);return{node:w,x:j,y:v,width:y,height:N}},Bt);return!d||d.hidden||!aO(d)?null:s.jsx(l,{x:u,y:m,width:p,height:x,style:d.style,selected:!!d.selected,className:r(d),color:t(d),borderRadius:a,strokeColor:n(d),strokeWidth:o,shapeRendering:i,onClick:c,id:d.id})}const bse=h.memo(Nse);var Sse=h.memo(wse);const Cse=200,Ese=150,Tse=e=>!e.hidden,Pse=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?rO(rh(e.nodeLookup,{filter:Tse}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Ase="react-flow__minimap-desc";function hI({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:u,maskStrokeWidth:m,position:p="bottom-right",onClick:x,onNodeClick:g,pannable:f=!1,zoomable:w=!1,ariaLabel:j,inversePan:v,zoomStep:y=10,offsetScale:N=5}){const b=Dt(),E=h.useRef(null),{boundingRect:S,viewBB:A,rfId:O,panZoom:I,translateExtent:F,flowWidth:L,flowHeight:U,ariaLabelConfig:k}=et(Pse,Bt),P=e?.width??Cse,T=e?.height??Ese,R=S.width/P,D=S.height/T,$=Math.max(R,D),V=$*P,B=$*T,H=N*$,z=S.x-(V-S.width)/2-H,Q=S.y-(B-S.height)/2-H,ie=V+H*2,he=B+H*2,Z=`${Ase}-${O}`,le=h.useRef(0),fe=h.useRef();le.current=$,h.useEffect(()=>{if(E.current&&I)return fe.current=DZ({domNode:E.current,panZoom:I,getTransform:()=>b.getState().transform,getViewScale:()=>le.current}),()=>{fe.current?.destroy()}},[I]),h.useEffect(()=>{fe.current?.update({translateExtent:F,width:L,height:U,inversePan:v,pannable:f,zoomStep:y,zoomable:w})},[f,w,v,y,F,L,U]);const be=x?ke=>{const[De,nt]=fe.current?.pointer(ke)||[0,0];x(ke,{x:De,y:nt})}:void 0,Ae=g?h.useCallback((ke,De)=>{const nt=b.getState().nodeLookup.get(De).internals.userNode;g(ke,nt)},[]):void 0,je=j??k["minimap.ariaLabel"];return s.jsx(Yl,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*$:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:es(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:P,height:T,viewBox:`${z} ${Q} ${ie} ${he}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:E,onClick:be,children:[je&&s.jsx("title",{id:Z,children:je}),s.jsx(Sse,{onClick:Ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-H},${Q-H}h${ie+H*2}v${he+H*2}h${-ie-H*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}hI.displayName="MiniMap";const mI=h.memo(hI),kse=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Rse={[Wl.Line]:"right",[Wl.Handle]:"bottom-right"};function Mse({nodeId:e,position:t,variant:n=Wl.Handle,className:r,style:a=void 0,children:o,color:i,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:p,autoScale:x=!0,shouldResize:g,onResizeStart:f,onResize:w,onResizeEnd:j}){const v=$O(),y=typeof e=="string"?e:v,N=Dt(),b=h.useRef(null),E=n===Wl.Handle,S=et(h.useCallback(kse(E&&x),[E,x]),Bt),A=h.useRef(null),O=t??Rse[n];h.useEffect(()=>{if(!(!b.current||!y))return A.current||(A.current=XZ({domNode:b.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:F,transform:L,snapGrid:U,snapToGrid:k,nodeOrigin:P,domNode:T}=N.getState();return{nodeLookup:F,transform:L,snapGrid:U,snapToGrid:k,nodeOrigin:P,paneDomNode:T}},onChange:(F,L)=>{const{triggerNodeChanges:U,nodeLookup:k,parentLookup:P,nodeOrigin:T}=N.getState(),R=[],D={x:F.x,y:F.y},$=k.get(y);if($&&$.expandParent&&$.parentId){const V=$.origin??T,B=F.width??$.measured.width??0,H=F.height??$.measured.height??0,z={id:$.id,parentId:$.parentId,rect:{width:B,height:H,...oO({x:F.x??$.position.x,y:F.y??$.position.y},{width:B,height:H},$.parentId,k,V)}},Q=I0([z],k,P,T);R.push(...Q),D.x=F.x?Math.max(V[0]*B,F.x):void 0,D.y=F.y?Math.max(V[1]*H,F.y):void 0}if(D.x!==void 0&&D.y!==void 0){const V={id:y,type:"position",position:{...D}};R.push(V)}if(F.width!==void 0&&F.height!==void 0){const B={id:y,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};R.push(B)}for(const V of L){const B={...V,type:"position"};R.push(B)}U(R)},onEnd:({width:F,height:L})=>{const U={id:y,type:"dimensions",resizing:!1,dimensions:{width:F,height:L}};N.getState().triggerNodeChanges([U])}})),A.current.update({controlPosition:O,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:u},keepAspectRatio:m,resizeDirection:p,onResizeStart:f,onResize:w,onResizeEnd:j,shouldResize:g}),()=>{A.current?.destroy()}},[O,l,c,d,u,m,f,w,j,g]);const I=O.split("-");return s.jsx("div",{className:es(["react-flow__resize-control","nodrag",...I,n,r]),ref:b,style:{...a,scale:S,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:o})}h.memo(Mse);const Dse=({id:e,data:t})=>{const{field:n}=t,{setNodes:r,setEdges:a}=zr(),o=()=>{r(i=>i.filter(l=>l.id!==e)),a(i=>i.filter(l=>l.source!==e&&l.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-muted rounded-lg p-3 min-w-[160px] shadow-sm relative group",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:o,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete source field",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(ds,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:n.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:n.path,children:n.path})]}),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-blue-500 border-2 border-white"})]})};class Fse{functionsCache=null;cacheExpiry=0;cacheDuration=5*60*1e3;async getAllFunctions(){if(this.functionsCache&&Date.now()<this.cacheExpiry)return this.functionsCache;try{const n=(await Oe.get("/development/functions")).builtInFunctions.map(r=>{let a=[];if(r.parameters)a=r.parameters;else{const o=r.signature.match(/\((.*)\)/);o&&o[1]&&(a=o[1].split(",").map(l=>l.trim()).map(l=>({name:l,type:"any",required:!0})))}return{name:r.name,category:r.category,description:r.description,parameters:a,isBuiltIn:!0,execute:this.getExecuteFunction(r.name),javaTemplate:this.getJavaTemplate(r.name,a)}});return this.functionsCache=n,this.cacheExpiry=Date.now()+this.cacheDuration,n}catch(t){return console.error("Failed to fetch functions from API:",t),[]}}async getBuiltInFunctionByName(t){try{const n=await Oe.get(`/development/functions/built-in/${t}`);if(n.parameters&&typeof n.parameters=="string")try{n.parameters=JSON.parse(n.parameters)}catch(r){console.error("Failed to parse parameters:",r),n.parameters=[]}return n}catch(n){return console.error("Failed to fetch function by name:",n),null}}clearCache(){this.functionsCache=null,this.cacheExpiry=0}getExecuteFunction(t){return{add:(r,a)=>r+a,subtract:(r,a)=>r-a,multiply:(r,a)=>r*a,divide:(r,a)=>r/a,equals:(r,a)=>r===a,absolute:r=>Math.abs(r),sqrt:r=>Math.sqrt(r),square:r=>r*r,sign:r=>Math.sign(r),neg:r=>-r,inv:r=>1/r,power:(r,a)=>Math.pow(r,a),lesser:(r,a)=>r<a,greater:(r,a)=>r>a,max:(r,a)=>Math.max(r,a),min:(r,a)=>Math.min(r,a),ceil:r=>Math.ceil(r),floor:r=>Math.floor(r),round:r=>Math.round(r),counter:(r=0,a=1)=>r+a,formatNumber:(r,a,o)=>r.toFixed(o||0).padStart(a,"0"),sum:r=>r.reduce((a,o)=>a+o,0),average:r=>r.reduce((a,o)=>a+o,0)/r.length,count:r=>r.length,index:r=>r,concat:(r,a,o)=>o?`${r}${o}${a}`:`${r}${a}`,substring:(r,a,o)=>r.substring(a,o),indexOf:(r,a)=>r.indexOf(a),lastIndexOf:(r,a)=>r.lastIndexOf(a),compare:(r,a)=>r.localeCompare(a),replaceString:(r,a,o)=>r.replace(new RegExp(a,"g"),o),length:r=>r.length,endsWith:(r,a)=>r.endsWith(a),startsWith:(r,a)=>r.startsWith(a),toUpperCase:r=>r.toUpperCase(),toLowerCase:r=>r.toLowerCase(),trim:r=>r.trim(),and:(r,a)=>r&&a,or:(r,a)=>r||a,not:r=>!r,notEquals:(r,a)=>r!==a,if:(r,a,o)=>r?a:o,ifWithoutElse:(r,a)=>r?a:void 0,isNil:r=>r==null,constant:r=>r,fixValues:(r,a)=>r}[t]}getJavaTemplate(t,n){const r=n.map((a,o)=>`{${o}}`).join(", ");return`${t}(${r})`}}const pI=new Fse,Ose=({id:e,data:t})=>{const[n,r]=h.useState(t.function),[a,o]=h.useState(t.parameters),[i,l]=h.useState(!1),[c,d]=h.useState([]),[u,m]=h.useState(!1),{setNodes:p,setEdges:x}=zr();h.useEffect(()=>{(async()=>{m(!0);try{const N=await pI.getAllFunctions();if(d(N),"isBuiltIn"in t.function&&t.function.isBuiltIn){const b=N.find(E=>E.name===t.function.name);b&&r(b)}}catch(N){console.error("Failed to load functions:",N)}finally{m(!1)}})()},[t.function]);const g=y=>["string1","string2","text","input","value","a","b","array","object","source","target"].some(E=>y.name.toLowerCase().includes(E))||n.parameters.indexOf(y)===0&&y.required?!0:["delimiter","format","separator","pattern","start","end","length","index"].some(E=>y.name.toLowerCase().includes(E))?!1:y.required,f=h.useMemo(()=>{const y=Object.values(j0).flat(),N=new Map;return y.forEach(b=>{N.set(b.name,b)}),c.forEach(b=>{N.set(b.name,b)}),Array.from(N.values())},[c]),w=y=>{const N=f.find(b=>b.name===y);N&&(r(N),o({}))},j=(y,N)=>{const b={...a,[y]:N};o(b),p(E=>E.map(S=>S.id===e?{...S,data:{...S.data,parameters:b}}:S))},v=()=>{p(y=>y.filter(N=>N.id!==e)),x(y=>y.filter(N=>N.source!==e&&N.target!==e))};return s.jsxs("div",{className:"bg-card border-2 border-orange-200 rounded-lg p-3 min-w-[200px] shadow-sm relative group",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:v,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-0 group-hover:opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete function",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(wn,{className:"h-4 w-4 text-orange-500"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:y=>{y.preventDefault(),y.stopPropagation(),l(!i)},className:"h-6 w-6 p-0 hover:bg-muted rounded",children:s.jsx(At,{className:`h-3 w-3 ${i?"text-primary":""}`})})]}),t.showSelector?s.jsxs(G,{value:n.name,onValueChange:w,disabled:u,children:[s.jsx(Y,{className:"w-full text-xs",children:s.jsx(J,{})}),s.jsx(X,{children:(()=>{const y=f.reduce((N,b)=>{const E=b.category||"general";return N[E]||(N[E]=[]),N[E].push(b),N},{});return Object.entries(y).map(([N,b])=>s.jsxs("div",{children:[s.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-muted-foreground uppercase",children:N}),b.map(E=>s.jsx(M,{value:E.name,className:"text-xs",children:E.name},E.name))]},N))})()})]}):s.jsxs("div",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[t.isCustom&&s.jsx(xn,{className:"h-3 w-3"}),n.name]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:n.description}),i&&s.jsx("div",{className:"space-y-2 mb-3 border-t pt-2 bg-muted/20 rounded p-2",children:t.isCustom?s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-xs font-medium",children:"Custom Java Code"}),s.jsx(Ee,{placeholder:"Enter your custom Java transformation code here...",className:"h-20 text-xs font-mono",value:a.customCode||"",onChange:y=>j("customCode",y.target.value)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Write Java code to transform input values. Use 'input' variable to access connected fields."})]}):s.jsxs(s.Fragment,{children:[s.jsx(C,{className:"text-xs font-medium",children:"Parameters"}),n.parameters.filter(y=>!g(y)).length===0?s.jsx("div",{className:"text-xs text-muted-foreground",children:"No configurable parameters"}):n.parameters.filter(y=>!g(y)).map(y=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs(C,{className:"text-xs",children:[y.name,y.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(_,{placeholder:`${y.type} value`,value:a[y.name]||"",onChange:N=>j(y.name,N.target.value),className:"h-6 text-xs"}),y.description&&s.jsx("div",{className:"text-xs text-muted-foreground",children:y.description})]},y.name))]})}),n.parameters.map((y,N)=>g(y)?s.jsx(Xt,{type:"target",position:Se.Left,id:y.name,style:{top:`${60+N*20}px`,background:"#f97316",width:"8px",height:"8px"},className:"border-2 border-white"},`input-${y.name}`):null),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-orange-500 border-2 border-white"})]})},Ise=({data:e})=>{const[t,n]=h.useState(e.value),[r,a]=h.useState(e.type);return s.jsxs("div",{className:"bg-card border-2 border-green-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(v8,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Constant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(G,{value:r,onValueChange:o=>a(o),children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"string",children:"String"}),s.jsx(M,{value:"number",children:"Number"}),s.jsx(M,{value:"boolean",children:"Boolean"})]})]}),r==="boolean"?s.jsxs(G,{value:t,onValueChange:n,children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"true",children:"true"}),s.jsx(M,{value:"false",children:"false"})]})]}):s.jsx(_,{placeholder:`Enter ${r} value`,value:t,onChange:o=>n(o.target.value),type:r==="number"?"number":"text",className:"h-7 text-xs"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono",children:t||"undefined"})]})]}),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]})},Lse=({data:e})=>{const{field:t}=e;return s.jsxs("div",{className:"bg-card border-2 border-purple-200 rounded-lg p-3 min-w-[160px] shadow-sm",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Fy,{className:"h-4 w-4 text-purple-500"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold text-primary",children:t.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.type}),s.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[140px]",title:t.path,children:t.path})]}),s.jsx(Xt,{type:"target",position:Se.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]})},_se=({data:e})=>{const[t,n]=h.useState(e.condition),[r,a]=h.useState(e.compareValue);return s.jsxs("div",{className:"bg-card border-2 border-yellow-200 rounded-lg p-3 min-w-[180px] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($a,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Conditional"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Condition"}),s.jsxs(G,{value:t,onValueChange:o=>n(o),children:[s.jsx(Y,{className:"w-full h-7 text-xs",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"equals",children:"Equals"}),s.jsx(M,{value:"notEquals",children:"Not Equals"}),s.jsx(M,{value:"contains",children:"Contains"}),s.jsx(M,{value:"startsWith",children:"Starts With"}),s.jsx(M,{value:"endsWith",children:"Ends With"}),s.jsx(M,{value:"isEmpty",children:"Is Empty"}),s.jsx(M,{value:"isNotEmpty",children:"Is Not Empty"})]})]})]}),!["isEmpty","isNotEmpty"].includes(t)&&s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Compare Value"}),s.jsx(_,{placeholder:"Value to compare",value:r,onChange:o=>a(o.target.value),className:"h-7 text-xs"})]})]}),s.jsx(Xt,{type:"target",position:Se.Left,id:"input",className:"w-3 h-3 bg-yellow-500 border-2 border-white",style:{top:40}}),s.jsx(Xt,{type:"source",position:Se.Right,id:"true",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:35}}),s.jsx(Xt,{type:"source",position:Se.Right,id:"false",className:"w-3 h-3 bg-red-500 border-2 border-white",style:{top:55}}),s.jsx("div",{className:"absolute -right-8 top-7 text-xs text-green-600 font-medium",children:"T"}),s.jsx("div",{className:"absolute -right-8 top-12 text-xs text-red-600 font-medium",children:"F"})]})};function $se(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var _0="ScrollArea",[fI,zve]=on(_0),[Use,Wn]=fI(_0),xI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[m,p]=h.useState(null),[x,g]=h.useState(null),[f,w]=h.useState(null),[j,v]=h.useState(0),[y,N]=h.useState(0),[b,E]=h.useState(!1),[S,A]=h.useState(!1),O=Ue(t,F=>c(F)),I=xc(a);return s.jsx(Use,{scope:n,type:r,dir:I,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:p,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:b,onScrollbarXEnabledChange:E,scrollbarY:f,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:v,onCornerHeightChange:N,children:s.jsx(Pe.div,{dir:I,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});xI.displayName=_0;var gI="ScrollAreaViewport",vI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:o,...i}=e,l=Wn(gI,n),c=h.useRef(null),d=Ue(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),s.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...i,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Gse({asChild:a,children:r},u=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});vI.displayName=gI;var Wr="ScrollAreaScrollbar",$0=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Wn(Wr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(Vse,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(Bse,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(yI,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(U0,{...r,ref:t}):null});$0.displayName=Wr;var Vse=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Wn(Wr,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(us,{present:n||o,children:s.jsx(yI,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Bse=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Wn(Wr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Ex(()=>c("SCROLL_END"),100),[l,c]=$se("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const p=()=>{const x=d[u];m!==x&&(c("SCROLL"),i()),m=x};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,o,c,i]),s.jsx(us,{present:n||l!=="hidden",children:s.jsx(U0,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yI=h.forwardRef((e,t)=>{const n=Wn(Wr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=Ex(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?d:u)}},10);return Xl(n.viewport,c),Xl(n.content,c),s.jsx(us,{present:r||o,children:s.jsx(U0,{"data-state":o?"visible":"hidden",...a,ref:t})})}),U0=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Wn(Wr,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=SI(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function m(p,x){return Yse(p,i.current,l,x)}return n==="horizontal"?s.jsx(Hse,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const p=a.viewport.scrollLeft,x=AE(p,l,a.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?s.jsx(qse,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const p=a.viewport.scrollTop,x=AE(p,l);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),Hse=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Wn(Wr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Ue(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wI,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cx(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),EI(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yp(i.paddingLeft),paddingEnd:Yp(i.paddingRight)}})}})}),qse=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Wn(Wr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Ue(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wI,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cx(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),EI(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yp(i.paddingTop),paddingEnd:Yp(i.paddingBottom)}})}})}),[zse,jI]=fI(Wr),wI=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...p}=e,x=Wn(Wr,n),[g,f]=h.useState(null),w=Ue(t,O=>f(O)),j=h.useRef(null),v=h.useRef(""),y=x.viewport,N=r.content-r.viewport,b=It(u),E=It(c),S=Ex(m,10);function A(O){if(j.current){const I=O.clientX-j.current.left,F=O.clientY-j.current.top;d({x:I,y:F})}}return h.useEffect(()=>{const O=I=>{const F=I.target;g?.contains(F)&&b(I,N)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[y,g,N,b]),h.useEffect(E,[r,E]),Xl(g,S),Xl(x.content,S),s.jsx(zse,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:It(o),onThumbPointerUp:It(i),onThumbPositionChange:E,onThumbPointerDown:It(l),children:s.jsx(Pe.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:ge(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),j.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(O))}),onPointerMove:ge(e.onPointerMove,A),onPointerUp:ge(e.onPointerUp,O=>{const I=O.target;I.hasPointerCapture(O.pointerId)&&I.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=v.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),Kp="ScrollAreaThumb",NI=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=jI(Kp,e.__scopeScrollArea);return s.jsx(us,{present:n||a.hasThumb,children:s.jsx(Wse,{ref:t,...r})})}),Wse=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Wn(Kp,n),i=jI(Kp,n),{onThumbPositionChange:l}=i,c=Ue(t,m=>i.onThumbChange(m)),d=h.useRef(),u=Ex(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=o.viewport;if(m){const p=()=>{if(u(),!d.current){const x=Xse(m,l);d.current=x,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,u,l]),s.jsx(Pe.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ge(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),g=m.clientX-x.left,f=m.clientY-x.top;i.onThumbPointerDown({x:g,y:f})}),onPointerUp:ge(e.onPointerUp,i.onThumbPointerUp)})});NI.displayName=Kp;var V0="ScrollAreaCorner",bI=h.forwardRef((e,t)=>{const n=Wn(V0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(Kse,{...e,ref:t}):null});bI.displayName=V0;var Kse=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Wn(V0,n),[o,i]=h.useState(0),[l,c]=h.useState(0),d=!!(o&&l);return Xl(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),c(u)}),Xl(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),i(u)}),d?s.jsx(Pe.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yp(e){return e?parseInt(e,10):0}function SI(e,t){const n=e/t;return isNaN(n)?0:n}function Cx(e){const t=SI(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Yse(e,t,n,r="ltr"){const a=Cx(n),o=a/2,i=t||o,l=a-i,c=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return CI([c,d],m)(e)}function AE(e,t,n="ltr"){const r=Cx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],d=ej(e,c);return CI([0,i],[0,l])(d)}function CI(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EI(e,t){return e>0&&e<t}var Xse=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Ex(e,t){const n=It(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Xl(e,t){const n=It(t);cs(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function Gse(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=h.Children.only(r);return h.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var TI=xI,Jse=vI,Qse=bI;const pr=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(TI,{ref:r,className:ne("relative overflow-hidden",e),...n,children:[s.jsx(Jse,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(PI,{}),s.jsx(Qse,{})]}));pr.displayName=TI.displayName;const PI=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx($0,{ref:r,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(NI,{className:"relative flex-1 rounded-full bg-border"})}));PI.displayName=$0.displayName;const Zse=({open:e,onClose:t,sourceFields:n,onSelectField:r,excludeFields:a=[]})=>{const[o,i]=h.useState(""),[l,c]=h.useState(new Set),d=w=>{c(j=>{const v=new Set(j);return v.has(w)?v.delete(w):v.add(w),v})},u=w=>{r(w),t(),i(""),c(new Set)},m=(w,j=0)=>{const v=!w.children||w.children.length===0,y=l.has(w.id),N=a.includes(w.id),b=!o||w.name.toLowerCase().includes(o.toLowerCase())||w.path.toLowerCase().includes(o.toLowerCase())||w.type.toLowerCase().includes(o.toLowerCase()),E=w.children?.some(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.path.toLowerCase().includes(o.toLowerCase())||S.type.toLowerCase().includes(o.toLowerCase()));return!b&&!E?null:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`flex items-center p-2 border rounded-md transition-colors ${N?"bg-muted/50 opacity-50":v?"hover:bg-primary/10 cursor-pointer border-dashed":"hover:bg-muted/50"}`,style:{marginLeft:`${j*16}px`},onClick:()=>{v&&!N?u(w):v||d(w.id)},children:[!v&&s.jsx(q,{variant:"ghost",size:"sm",onClick:S=>{S.stopPropagation(),d(w.id)},className:"mr-2 h-auto w-auto p-1 hover:bg-muted rounded",children:y?s.jsx(cr,{className:"h-3 w-3"}):s.jsx(nn,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[s.jsx(ds,{className:"h-3 w-3 text-info flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:w.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:w.type}),N&&s.jsx(ae,{variant:"secondary",className:"text-xs",children:"Already added"})]}),v&&!N&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"Click to select"})]}),!v&&y&&w.children&&s.jsx("div",{className:"ml-2",children:w.children.map(S=>m(S,j+1))})]},w.id)},p=w=>{const j=[],v=y=>{!y.children||y.children.length===0?j.push(y):y.children.forEach(v)};return w.forEach(v),j},x=n.filter(w=>!a.includes(w.id)),g=p(n).length,f=p(x).length;return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-2xl h-[80vh] flex flex-col",children:[s.jsx(ut,{className:"flex-shrink-0",children:s.jsxs(ht,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{children:"Select Source Field"}),s.jsxs(ae,{variant:"outline",className:"text-xs",children:[f," of ",g," available"]})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Nt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search fields by name, path, or type...",value:o,onChange:w=>i(w.target.value),className:"pl-10"})]})}),s.jsx(pr,{className:"flex-1",children:s.jsx("div",{className:"space-y-2 pr-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ds,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No available source fields to add"})]}):x.map(w=>m(w))})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on any leaf field (shown with dashed border) to add it to your flow"})})]})})};var B0="Tabs",[ene,Wve]=on(B0,[gc]),AI=gc(),[tne,H0]=ene(B0),kI=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=xc(l),[m,p]=zn({prop:r,onChange:a,defaultProp:o});return s.jsx(tne,{scope:n,baseId:Un(),value:m,onValueChange:p,orientation:i,dir:u,activationMode:c,children:s.jsx(Pe.div,{dir:u,"data-orientation":i,...d,ref:t})})});kI.displayName=B0;var RI="TabsList",MI=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=H0(RI,n),i=AI(n);return s.jsx(XN,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(Pe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});MI.displayName=RI;var DI="TabsTrigger",FI=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,i=H0(DI,n),l=AI(n),c=LI(i.baseId,r),d=_I(i.baseId,r),u=r===i.value;return s.jsx(GN,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ge(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:ge(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(r)})})})});FI.displayName=DI;var OI="TabsContent",II=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...i}=e,l=H0(OI,n),c=LI(l.baseId,r),d=_I(l.baseId,r),u=r===l.value,m=h.useRef(u);return h.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(us,{present:a||u,children:({present:p})=>s.jsx(Pe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&o})})});II.displayName=OI;function LI(e,t){return`${e}-trigger-${t}`}function _I(e,t){return`${e}-content-${t}`}var sne=kI,$I=MI,UI=FI,VI=II;const tt=sne,Je=h.forwardRef(({className:e,...t},n)=>s.jsx($I,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Je.displayName=$I.displayName;const ue=h.forwardRef(({className:e,...t},n)=>s.jsx(UI,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ue.displayName=UI.displayName;const de=h.forwardRef(({className:e,...t},n)=>s.jsx(VI,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));de.displayName=VI.displayName;const nne=({open:e,onClose:t,onSelectFunction:n})=>{const[r,a]=h.useState(""),[o,i]=h.useState([]),[l,c]=h.useState(!1);h.useEffect(()=>{e&&(async()=>{c(!0);try{const f=await pI.getAllFunctions();i(f)}catch(f){console.error("Failed to load functions:",f)}finally{c(!1)}})()},[e]);const d=kt.useMemo(()=>{const g={};return Object.entries(j0).forEach(([f,w])=>{g[f]=[...w]}),o.forEach(f=>{const w=f.category||"general";g[w]||(g[w]=[]),g[w]=g[w].filter(j=>j.name!==f.name),g[w].push(f)}),g},[o]),u=Object.entries(d).reduce((g,[f,w])=>{const j=w.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())||v.description.toLowerCase().includes(r.toLowerCase()));return j.length>0&&(g[f]=j),g},{}),m=g=>{n(g),t(),a("")},p=Object.values(d).flat().length,x=Object.values(u).flat().length;return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-4xl h-[80vh] flex flex-col",children:[s.jsx(ut,{className:"flex-shrink-0",children:s.jsxs(ht,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gg,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Select Function"}),s.jsxs(ae,{variant:"outline",className:"text-xs",children:[x," of ",p," functions"]})]}),s.jsx(q,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Nt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-shrink-0 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search functions by name or description...",value:r,onChange:g=>a(g.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gt,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading functions..."})]}):Object.keys(u).length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No functions found matching your search"})]}):s.jsxs(tt,{defaultValue:Object.keys(u)[0],className:"h-full flex flex-col",children:[s.jsx(Je,{className:"grid w-full flex-shrink-0",style:{gridTemplateColumns:`repeat(${Object.keys(u).length}, 1fr)`},children:Object.keys(u).map(g=>s.jsxs(ue,{value:g,className:"capitalize text-xs",children:[g," (",u[g].length,")"]},g))}),Object.entries(u).map(([g,f])=>s.jsx(de,{value:g,className:"flex-1 mt-4",children:s.jsx(pr,{className:"h-full",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pr-4",children:f.map(w=>s.jsxs(W,{className:"cursor-pointer hover:bg-primary/10 transition-colors border-dashed hover:border-primary",onClick:()=>m(w),children:[s.jsx(te,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(gg,{className:"h-3 w-3 text-primary"}),w.name]}),s.jsx(pe,{className:"text-xs mt-1",children:w.description})]}),s.jsx(ae,{variant:"secondary",className:"text-xs ml-2",children:w.category})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.parameters.length," parameter",w.parameters.length!==1?"s":""]}),s.jsx("span",{className:"text-xs text-primary font-medium",children:"Click to add"})]})})]},w.name))})})},g))]})}),s.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a function to add it to your flow. You can configure parameters after adding."})})]})})},rne=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:a,sourcePosition:o,targetPosition:i,style:l={},markerEnd:c,selected:d=!1})=>{const{setEdges:u}=zr(),[m,p,x]=M0({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:a,targetPosition:i}),g=f=>{f.stopPropagation(),u(w=>w.filter(j=>j.id!==e))};return s.jsxs(s.Fragment,{children:[s.jsx(oh,{path:m,markerEnd:c,style:l}),d&&s.jsx(ise,{children:s.jsx("div",{className:"absolute pointer-events-auto",style:{transform:`translate(-50%, -50%) translate(${p}px,${x}px)`},children:s.jsx(q,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0 bg-destructive text-destructive-foreground hover:bg-destructive/80 rounded-full shadow-md",title:"Delete connection",children:s.jsx(Nt,{className:"h-3 w-3"})})})})]})},ane={sourceField:Dse,function:Ose,constant:Ise,targetField:Lse,conditional:_se},one={deletable:rne},ine=({open:e,onClose:t,sourceFields:n,targetField:r,onApplyMapping:a,initialMapping:o})=>{const[i,l,c]=oI([]),[d,u,m]=iI([]),[p,x]=h.useState(1),[g,f]=h.useState(!1),[w,j]=h.useState(!1);kt.useEffect(()=>{if(e&&r){let I=[],F=[],L=1;if(o?.visualFlowData)I=o.visualFlowData.nodes,F=o.visualFlowData.edges,L=o.visualFlowData.nodeIdCounter;else{I.push({id:"target",type:"targetField",position:{x:800,y:200},data:{field:r}});const U=(P,T,R)=>{for(const D of P){if(D.name===T||D.path===T||R&&D.path===R)return D;if(D.children&&D.children.length>0){const $=U(D.children,T,R);if($)return $}}};o&&o.sourcePaths&&o.sourcePaths.length>0?o.sourcePaths.forEach((P,T)=>{let R=n.find(D=>D.path===P||D.name===P);if(R||(R=U(n,P,P)),!R&&o.sourceFields&&o.sourceFields[T]){const D=o.sourceFields[T];R={id:`source_${D}_${Date.now()}_${T}`,name:D,type:"string",path:P,expanded:!1}}if(R){const D=`source-${R.id}`;I.push({id:D,type:"sourceField",position:{x:50,y:50+T*100},data:{field:R}}),F.push({id:`edge-${D}-target`,source:D,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}})}}):o&&o.sourceFields&&o.sourceFields.length>0&&o.sourceFields.forEach((P,T)=>{let R=n.find(D=>D.name===P||D.path===P);if(R||(R=U(n,P,P)),R||(R={id:`source_${P}_${Date.now()}_${T}`,name:P,type:"string",path:P,expanded:!1}),R){const D=`source-${R.id}`;I.push({id:D,type:"sourceField",position:{x:50,y:50+T*100},data:{field:R}}),F.push({id:`edge-${D}-target`,source:D,target:"target",type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}})}}),L=2+(o?.sourcePaths?.length||o?.sourceFields?.length||0)}l(I),u(F),x(L)}},[e,r,n,o,l,u]);const v=h.useCallback(I=>{if(I.target==="target")u(F=>{const L=F.filter(k=>k.target!=="target"),U={...I,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}};return zp(U,L)});else{const F={...I,type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}};u(L=>zp(F,L))}},[u]),y=h.useCallback(()=>{f(!0)},[]),N=h.useCallback(I=>{const F=i.filter(U=>U.type==="sourceField"),L={id:`source-${I.id}`,type:"sourceField",position:{x:50,y:50+F.length*100},data:{field:I}};l(U=>[...U,L])},[i,l]),b=h.useCallback(()=>{j(!0)},[]),E=h.useCallback(I=>{const F=i.filter(U=>U.type==="function"),L={id:`function-${p}`,type:"function",position:{x:350,y:50+F.length*120},data:{function:I,parameters:{},showSelector:!1}};l(U=>[...U,L]),x(U=>U+1)},[p,i,l]),S=h.useCallback(()=>{const I=i.filter(L=>L.type==="function"&&L.data.function.name==="custom"),F={id:`custom-function-${p}`,type:"function",position:{x:350,y:50+I.length*120},data:{function:{name:"custom",description:"Custom Java function",category:"custom",parameters:[],javaCode:""},parameters:{},showSelector:!1,isCustom:!0}};l(L=>[...L,F]),x(L=>L+1)},[p,i,l]),A=h.useCallback(()=>{if(!r||(console.log(" VisualFlowEditor handleSave - saving with nodes:",i.length,"edges:",d.length),!i.find(k=>k.type==="targetField")))return;const F=[],L=[];i.forEach(k=>{k.type==="sourceField"&&d.some(T=>T.source===k.id)&&(F.push(k.data.field.path),L.push(k.data.field.name))}),console.log(" VisualFlowEditor handleSave - connectedSourcePaths:",F),console.log(" VisualFlowEditor handleSave - connectedSourceFields:",L);const U={id:o?.id||`mapping_${Date.now()}`,name:o?.name||`visual_flow_to_${r.name}`,sourceFields:L,targetField:r.name,sourcePaths:F,targetPath:r.path||r.name,requiresTransformation:!0,visualFlowData:{nodes:i,edges:d,nodeIdCounter:p},functionNode:{id:"visual_flow",functionName:"visual_flow",parameters:{},sourceConnections:{},position:{x:0,y:0}}};console.log(" VisualFlowEditor handleSave - final mapping:",U),a(U),t()},[i,d,p,r,o,a,t]),O=h.useMemo(()=>{const I=i.find(L=>L.type==="targetField");return I?d.some(L=>L.target===I.id):!1},[i,d]);return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-[98vw] h-[95vh] p-0 max-h-[95vh]",children:[s.jsx(ut,{className:"p-4 pb-2 border-b bg-muted/30",children:s.jsxs(ht,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Visual Flow Editor"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",s.jsx("span",{className:"font-medium text-primary",children:r?.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{onClick:A,disabled:!O,className:"bg-primary text-primary-foreground",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Flow"]}),s.jsxs(q,{variant:"outline",onClick:t,children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}),s.jsx("div",{className:"flex-1 relative h-[calc(95vh-80px)]",children:s.jsxs(aI,{nodes:i,edges:d,onNodesChange:c,onEdgesChange:m,onConnect:v,nodeTypes:ane,edgeTypes:one,connectionMode:hi.Loose,fitView:!0,fitViewOptions:{padding:.1,minZoom:.5,maxZoom:2},defaultEdgeOptions:{type:"deletable",animated:!1,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}},className:"bg-background",children:[s.jsx(cI,{gap:20,size:1}),s.jsx(uI,{}),s.jsx(mI,{className:"bg-background border border-border",pannable:!0,zoomable:!0,nodeColor:"hsl(var(--primary))"}),s.jsx(Yl,{position:"top-left",className:"bg-card border rounded-lg p-3 shadow-lg min-w-[200px]",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2 border-b border-border pb-2",children:"Add Nodes"}),s.jsxs(q,{onClick:y,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Source Field"]}),s.jsxs(q,{onClick:b,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Function"]}),s.jsxs(q,{onClick:S,size:"sm",variant:"outline",className:"justify-start h-9",children:[s.jsx(xn,{className:"h-4 w-4 mr-2"}),"Custom Function"]})]})}),s.jsx(Yl,{position:"bottom-right",className:"bg-card border rounded-lg p-3 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-green-500":"bg-red-500"}`}),s.jsx("div",{className:"text-sm font-medium",children:O?"Flow is valid - ready to save":"Connect nodes to target field"})]})})]})}),s.jsx(Zse,{open:g,onClose:()=>f(!1),sourceFields:n,onSelectField:N,excludeFields:i.filter(I=>I.type==="sourceField").map(I=>I.data.field.id)}),s.jsx(nne,{open:w,onClose:()=>j(!1),onSelectFunction:E})]})})};function lne({mappings:e,sourceFields:t=[],targetFields:n=[],onRemoveMapping:r,onUpdateMapping:a,onCreateMapping:o}){const[i,l]=h.useState({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),[c,d]=h.useState({open:!1,targetField:null});h.useEffect(()=>{console.log(" Modal state changed:",i)},[i]),h.useEffect(()=>{console.log(" Visual flow editor state changed:",c)},[c]);const u=x=>{console.log(" handleOpenVisualFlowEditor called with mappingId:",x),console.log(" Available mappings:",e),console.log(" Available targetFields:",n),console.log(" Target fields names:",n.map(w=>w?.name));const g=e.find(w=>w.id===x);if(console.log(" Found existing mapping:",g),!g){console.log(" No existing mapping found for ID:",x);return}let f=n.find(w=>w?.name===g.targetField);if(!f&&g.targetPath&&(f=n.find(w=>w?.path===g.targetPath)),!f){const w=(j,v,y)=>{for(const N of j){if(N.name===v||y&&N.path===y)return N;if(N.children&&N.children.length>0){const b=w(N.children,v,y);if(b)return b}}};f=w(n,g.targetField,g.targetPath)}if(console.log(" Looking for target field with name:",g.targetField),console.log(" Looking for target field with path:",g.targetPath),console.log(" Found target field:",f),!f){console.log(" Target field not found, attempting to create a proper target field from mapping data");let w=g.targetField,j=g.targetPath||g.targetField;if(g.targetPath&&g.targetPath.includes(".")){const y=g.targetPath.split(".");w=y[y.length-1]}const v={id:`target_${w}_${Date.now()}`,name:w,type:"string",path:j,children:[],expanded:!1};console.log(" Created proper target field:",v),d({open:!0,targetField:v,existingMapping:g});return}console.log(" Opening visual flow editor with:",{targetField:f.name,existingMapping:g.id}),d({open:!0,targetField:f,existingMapping:g})},m=x=>{console.log(" handleApplyVisualFlow called with:",x),c.existingMapping?a&&a(c.existingMapping.id,{functionNode:x.functionNode,visualFlowData:x.visualFlowData,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths,name:x.name}):o&&o(x),d({open:!1,targetField:null})},p=x=>{i.existingMappingId?a&&a(i.existingMappingId,{functionNode:x.functionNode,requiresTransformation:!0,sourceFields:x.sourceFields,sourcePaths:x.sourcePaths}):o&&o(x),l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]})};return console.log(" MappingArea render - mappings count:",e.length),console.log(" MappingArea render - mappings:",e),s.jsxs("div",{className:"w-1/3 relative bg-background animate-fade-in",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Bd,{className:"h-4 w-4"}),"Field Mappings (",e.length,")"]})}),s.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:e.length===0?s.jsx(Xe,{className:"mt-8",children:s.jsx(Ge,{children:"Drag fields from source to target to create mappings"})}):s.jsx("div",{className:"space-y-3",children:e.map(x=>s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",className:"text-xs",children:x.sourceFields&&x.sourceFields.length>1?"Multi-Source Mapping":"Mapping"}),x.requiresTransformation===!1&&s.jsx(ae,{variant:"secondary",className:"text-xs",children:"Pass-through"}),x.functionNode&&s.jsx(ae,{variant:x.functionNode.functionName==="nodeMapping"?"secondary":"default",className:"text-xs",children:x.functionNode.functionName==="nodeMapping"?`Node: ${x.functionNode.parameters?.sourceType||"object"}  ${x.functionNode.parameters?.targetType||"object"}`:`Function: ${x.functionNode.functionName}`})]}),s.jsxs("div",{className:"flex gap-1",children:[x.requiresTransformation!==!1&&s.jsx(s.Fragment,{children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{console.log(" Lightning bolt clicked for mapping:",x.id),u(x.id)},className:"h-6 w-6 p-0 hover-scale",title:"Open Visual Flow Editor",children:s.jsx(wn,{className:"h-3 w-3"})})}),s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(x.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover-scale",title:"Remove Mapping",children:s.jsx(Nt,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-medium text-primary",children:x.name})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Source:"}),s.jsx("span",{className:"text-muted-foreground",children:x.sourceFields?x.sourceFields.join(", "):""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bd,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium",children:"Target:"}),s.jsx("span",{className:"text-muted-foreground",children:x.targetField})]}),x.requiresTransformation!==!1&&s.jsxs(s.Fragment,{children:[x.functionNode&&s.jsxs("div",{className:"mt-2 p-2 bg-primary/10 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(wn,{className:"h-3 w-3 text-primary"}),s.jsx("span",{className:"font-medium text-primary",children:"Function Mapping:"})]}),s.jsx("div",{className:"text-muted-foreground",children:x.functionNode.functionName==="visual_flow"?x.visualFlowData?`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s): ${x.sourceFields?x.sourceFields.join(", "):""}`:`Visual Flow - ${x.sourceFields?x.sourceFields.length:0} source field(s) connected`:`${x.functionNode.functionName} with ${Object.keys(x.functionNode.sourceConnections).length} parameter(s) connected`})]}),!x.functionNode&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Click the lightning icon to configure transformations using the visual flow editor"})]}),x.requiresTransformation===!1&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground italic",children:"Direct field mapping - no transformation required"})]})]},x.id))})}),i.open&&i.targetField&&s.jsx(yX,{open:i.open,onClose:()=>l({open:!1,selectedFunction:"",targetField:null,filteredSourceFields:[]}),selectedFunction:i.selectedFunction,sourceFields:i.filteredSourceFields||t,targetField:i.targetField,onApplyMapping:p}),c.open&&c.targetField&&s.jsx(ine,{open:c.open,onClose:()=>d({open:!1,targetField:null}),sourceFields:t,targetField:c.targetField,onApplyMapping:m,initialMapping:c.existingMapping})]})}function cne({open:e,onOpenChange:t,mappings:n,mappingName:r,mappingType:a,sourceXml:o="",targetXml:i=""}){const{toast:l}=He(),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,x]=h.useState("idle"),[g,f]=h.useState(""),[w,j]=h.useState(!1),v=S=>{const A=S.target.files?.[0];if(A){const O=new FileReader;O.onload=I=>{const F=I.target?.result;d(F)},O.readAsText(A)}},y=async()=>{if(!c.trim()){l({title:"Input Required",description:"Please provide input XML to test the mapping",variant:"destructive"});return}j(!0),x("testing"),f(""),m("");try{const S=await ee.post("/test/field-mappings",{inputXml:c,mappings:n.map(A=>({sourceFields:A.sourceFields,targetField:A.targetField,sourcePaths:A.sourcePaths,targetPath:A.targetPath,javaFunction:A.functionNode?.functionName==="visual_flow"?"visual_flow":A.javaFunction,functionNode:A.functionNode,visualFlowData:A.visualFlowData,requiresTransformation:A.requiresTransformation!==!1})),mappingType:a,sourceStructureXml:o,targetStructureXml:i});if(S.data.success)m(S.data.outputXml),x("success"),l({title:"Test Successful",description:"Field mappings were applied successfully"});else throw new Error(S.data.error||"Test failed")}catch(S){x("error");const A=S.response?.data?.message||S.message||"Failed to test mappings";f(A),l({title:"Test Failed",description:A,variant:"destructive"})}finally{j(!1)}},N=()=>{navigator.clipboard.writeText(u),l({title:"Copied",description:"Output XML copied to clipboard"})},b=()=>{const S=new Blob([u],{type:"text/xml"}),A=URL.createObjectURL(S),O=document.createElement("a");O.href=A,O.download=`${r}_${a}_output.xml`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(A)},E=()=>{d(`<?xml version="1.0" encoding="UTF-8"?>
<${a==="request"?"Request":a==="response"?"Response":"Fault"}>
    <!-- Add your test data here -->
    <Token>sample-token-123</Token>
    <amount>100.00</amount>
    <subClass>A</subClass>
    <tariffIndex>1</tariffIndex>
    <meterBaseDate>2024-01-01</meterBaseDate>
    <keyExpiryNumber>12345</keyExpiryNumber>
    <supplyGroupCode>SG001</supplyGroupCode>
    <keyRevisionNumber>1</keyRevisionNumber>
    <meterSerialNumber>MSN123456</meterSerialNumber>
    <encryptionAlgorithm>AES256</encryptionAlgorithm>
</${a==="request"?"Request":a==="response"?"Response":"Fault"}>`)};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(ut,{children:[s.jsxs(ht,{children:["Test Field Mappings - ",r]}),s.jsxs(Fs,{children:["Test your ",a," field mappings with sample XML data. Upload or paste your input XML to see the transformation results."]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(tt,{defaultValue:"test",className:"h-full flex flex-col",children:[s.jsxs(Je,{children:[s.jsx(ue,{value:"test",children:"Test Mappings"}),s.jsxs(ue,{value:"mappings",children:["View Mappings (",n.length,")"]})]}),s.jsxs(de,{value:"test",className:"flex-1 overflow-auto mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 h-full",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Input XML"}),s.jsx(pe,{children:"Provide the source XML to test the mappings"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:E,children:"Load Sample"}),s.jsx(C,{htmlFor:"file-upload",className:"cursor-pointer",children:s.jsx(q,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Af,{className:"h-4 w-4 mr-2"}),"Upload XML"]})})}),s.jsx("input",{id:"file-upload",type:"file",accept:".xml",onChange:v,className:"hidden"})]}),s.jsx(Ee,{value:c,onChange:S=>d(S.target.value),placeholder:"Paste your input XML here...",className:"font-mono text-sm h-[400px]"})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Output XML"}),s.jsx(pe,{children:"Transformed XML after applying field mappings"})]}),s.jsxs(K,{className:"space-y-4",children:[p==="success"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:N,children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Copy"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Download"]})]}),p==="idle"&&s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(Ge,{children:'Click "Test Mapping" to see the transformation results'})]}),p==="testing"&&s.jsx("div",{className:"flex items-center justify-center h-[400px]",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}),p==="error"&&s.jsxs(Xe,{variant:"destructive",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(Ge,{children:g})]}),p==="success"&&s.jsx(Ee,{value:u,readOnly:!0,className:"font-mono text-sm h-[400px]"})]})]})]}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(q,{onClick:y,disabled:w||!c.trim(),size:"lg",children:w?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Test Mapping"]})})})]}),s.jsx(de,{value:"mappings",className:"flex-1 overflow-auto mt-4",children:s.jsx("div",{className:"space-y-4",children:n.map((S,A)=>s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(re,{className:"text-sm",children:S.name}),s.jsxs(ae,{variant:"outline",children:["Mapping ",A+1]})]})}),s.jsxs(K,{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-muted-foreground",children:"Source Fields"}),s.jsx("p",{className:"font-mono",children:S.sourceFields.join(", ")})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-muted-foreground",children:"Target Field"}),s.jsx("p",{className:"font-mono",children:S.targetField})]})]}),S.functionNode&&s.jsxs("div",{children:[s.jsx(C,{className:"text-muted-foreground",children:"Transformation"}),s.jsx("p",{className:"font-mono text-sm",children:S.functionNode.functionName})]})]})]},S.id))})})]})})]})})}async function Nj(e,t){try{const n=await ee.post(`/structures/${e}/convert-to-xml`,t||{});return console.log("Received XML conversion result:",{structureId:n.data.structureId,structureName:n.data.structureName,xmlContent:n.data.xmlContent}),n.data}catch(n){throw console.error("XML conversion error for structure:",e,n.response?.data),n}}function Yg(e){const n=new DOMParser().parseFromString(e,"text/xml");console.log("Parsing XML content:",e);const r=n.querySelector("parsererror");if(r){const i=e.split(`
`);if(console.error("XML parsing error details:",{errorText:r.textContent,lineCount:i.length,problematicLines:i.map((l,c)=>({lineNumber:c+1,content:l,length:l.length})).filter(l=>l.lineNumber>=15&&l.lineNumber<=25)}),console.error("Full line 17:",i[16]),console.error("Full line 18:",i[17]),i[17]){console.error("Line 18 character analysis around column 14:");for(let l=10;l<20&&l<i[17].length;l++)console.error(`  Position ${l}: '${i[17][l]}' (char code: ${i[17].charCodeAt(l)})`)}throw new Error("Invalid XML: "+r.textContent)}const a=n.documentElement;return[{id:`${a.tagName}_root`,name:a.tagName,type:"object",path:a.tagName,expanded:!0,children:bj(a,a.tagName)}]}function bj(e,t=""){const n=[];if(e.attributes.length>0)for(let o=0;o<e.attributes.length;o++){const i=e.attributes[o];if(!i.name.startsWith("xmlns")){const l=t?`${t}.@${i.name}`:`@${i.name}`;n.push({id:`${l}_attr_${o}`,name:`@${i.name}`,type:"attribute",path:l,expanded:!1})}}const r=new Set,a=new Map;for(let o=0;o<e.children.length;o++){const i=e.children[o],l=i.tagName;a.has(l)||a.set(l,[]),a.get(l).push(i)}console.log("Processing children in order for node:",e.tagName);for(let o=0;o<e.children.length;o++){const l=e.children[o].tagName;if(console.log(`  Child ${o}: ${l}`),r.has(l))continue;r.add(l);const c=a.get(l);if(c.length===1){const d=c[0],u=t?`${t}.${l}`:l,m=d.children.length>0||d.attributes.length>0;d.textContent&&d.children.length;const p={id:`${u}_${Date.now()}_${Math.random()}`,name:l,type:m?"object":"string",path:u,expanded:!1,children:m?bj(d,u):void 0};n.push(p)}else{const d=t?`${t}.${l}[]`:`${l}[]`,u={id:`${d}_array_${Date.now()}`,name:`${l}[]`,type:"array",path:d,expanded:!1,children:c[0].children.length>0||c[0].attributes.length>0?bj(c[0],`${d}[0]`):void 0};n.push(u)}}if(e.textContent&&e.children.length===0&&n.length===0){const o=t?`${t}._text`:"_text";n.push({id:`${o}_text`,name:"_text",type:"string",path:o,expanded:!1})}return n}function q0({onClose:e,onSave:t,initialMappingName:n="",initialMappings:r=[],sampleStructures:a=[],sourceAdapterType:o="",targetAdapterType:i="",sourceXml:l="",targetXml:c="",preConverted:d=!1,mappingType:u="request"}){const[m,p]=h.useState([]),[x,g]=h.useState([]),[f,w]=h.useState(r),[j,v]=h.useState(null),[y,N]=h.useState(""),[b,E]=h.useState(""),[S,A]=h.useState(""),[O,I]=h.useState(""),[F,L]=h.useState(!1),[U,k]=h.useState(!1),[P,T]=h.useState(n),[R,D]=h.useState(!1),[$,V]=h.useState(!1),[B,H]=h.useState(null),[z,Q]=h.useState(null),[ie,he]=h.useState(!1),{structures:Z}=Nc(),{toast:le}=He(),fe=(Te,Ve)=>{try{const st=new DOMParser().parseFromString(Te,"text/xml").documentElement,We=document.implementation.createDocument(null,st.tagName,null),jt=We.documentElement;for(let ve=0;ve<st.attributes.length;ve++){const Fe=st.attributes[ve];jt.setAttribute(Fe.name,Fe.value)}const me={request:["_Req_","Request","Input","input"],response:["_Resp_","Response","Output","output"],fault:["Fault","fault","Error","error","Exception"]}[Ve];for(let ve=0;ve<st.children.length;ve++){const Fe=st.children[ve],we=Fe.tagName;if(me.some(Ke=>we.includes(Ke)||we.toLowerCase().includes(Ke.toLowerCase()))){const Ke=We.importNode(Fe,!0);jt.appendChild(Ke)}}if(jt.children.length===0)return console.warn(`No matching elements found for ${Ve} mapping, returning original XML`),Te;if(jt.children.length===1){const ve=st.tagName.toLowerCase();if(ve==="sourcemessage"||ve==="targetmessage"||ve==="message"||ve==="root"){const Fe=jt.children[0],we=document.implementation.createDocument(null,Fe.tagName,null),Ie=we.importNode(Fe,!0);return we.replaceChild(Ie,we.documentElement),new XMLSerializer().serializeToString(we)}}return new XMLSerializer().serializeToString(We)}catch(Qe){return console.error("Error filtering XML by message type:",Qe),Te}};h.useEffect(()=>{if(d&&l&&c)try{const Te=fe(l,u),Ve=fe(c,u),Qe=Yg(Te),Ze=Yg(Ve);p(Qe),g(Ze),A(`Pre-converted XML (${u})`),I(`Pre-converted XML (${u})`),console.log(`Filtering XML for ${u} mapping:`,{originalSource:l,filteredSource:Te,originalTarget:c,filteredTarget:Ve})}catch(Te){console.error("Error parsing pre-converted XML:",Te),le({title:"XML Parse Error",description:Te.message||"Failed to parse XML structures",variant:"destructive"})}else d||(async()=>{if(o&&i&&Z.length>0&&!S&&!O){const Ve=Z.filter(Ze=>Ze.usage==="source"||!Ze.usage),Qe=Z.filter(Ze=>Ze.usage==="target"||!Ze.usage);Ve.length>0&&await Yn(Ve[0].name,!0),Qe.length>0&&await Yn(Qe[0].name,!1)}})()},[d,l,c,o,i,Z,u]);const be=h.useCallback((Te,Ve)=>{const Qe=Ze=>Ze.map(st=>st.id===Te?{...st,expanded:!st.expanded}:st.children?{...st,children:Qe(st.children)}:st);Ve?p(Qe):g(Qe)},[]),Ae=Te=>{v(Te)},je=()=>{v(null)},ke=Te=>{Te.preventDefault()},De=Te=>{if(!j)return;const Ve=j.type==="array"||j.type==="object",Qe=Te.type==="array"||Te.type==="object",Ze=Ve&&Qe,st=f.findIndex(We=>We.targetPath===Te.path);if(st>=0){const We=f[st],jt={...We,sourceFields:[...We.sourceFields,j.name],sourcePaths:[...We.sourcePaths,j.path]},se=[...f];se[st]=jt,w(se)}else{const We={id:`mapping_${Date.now()}`,name:`${j.name}_to_${Te.name}`,sourceFields:[j.name],targetField:Te.name,sourcePaths:[j.path],targetPath:Te.path,...Ze&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}`,functionName:"nodeMapping",parameters:{sourceType:j.type,targetType:Te.type,isArrayMapping:j.type==="array"||Te.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};w(jt=>[...jt,We]),Ze&&le({title:"Node Mapping Created",description:`Created ${j.type} to ${Te.type} mapping. This will map all child fields.`})}v(null)},nt=Te=>{w(Ve=>Ve.filter(Qe=>Qe.id!==Te))},Ft=()=>{w([])},Gt=Te=>Te.name.replace(/\[\]$/,"").split(".").pop()||Te.name,Cs=(Te,Ve=[])=>(Te.forEach(Qe=>{Ve.push(Qe),Qe.children&&Cs(Qe.children,Ve)}),Ve),ts=()=>{if(!m.length||!x.length){le({title:"Cannot auto-map",description:"Please select both source and target structures first",variant:"destructive"});return}const Te=[],Ve=new Set(f.map(We=>We.targetPath));if(B&&z){const We=(B.type==="array"||B.type==="object")&&B.children&&B.children.length>0,jt=(z.type==="array"||z.type==="object")&&z.children&&z.children.length>0;if(We&&jt){let se=0;if(!Ve.has(z.path)){const Fe={id:`mapping_${Date.now()}_${Math.random()}`,name:`${B.name}_to_${z.name}`,sourceFields:[B.name],targetField:z.name,sourcePaths:[B.path],targetPath:z.path,javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:B.type,targetType:z.type,isArrayMapping:B.type==="array"||z.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}};Te.push(Fe),Ve.add(z.path),se++}const me=Cs(B.children||[]),Me=Cs(z.children||[]),ve=new Map;Me.forEach(Fe=>{const we=Gt(Fe);ve.has(we)||ve.set(we,[]),ve.get(we).push(Fe)}),me.forEach(Fe=>{const we=Gt(Fe),Ie=ve.get(we)||[],Ke=Ie.find(hs=>!Ve.has(hs.path)&&hs.type===Fe.type)||Ie.find(hs=>!Ve.has(hs.path));if(Ke){const hs=(Fe.type==="array"||Fe.type==="object")&&(Ke.type==="array"||Ke.type==="object"),Ht={id:`mapping_${Date.now()}_${Math.random()}`,name:`${Fe.name}_to_${Ke.name}`,sourceFields:[Fe.name],targetField:Ke.name,sourcePaths:[Fe.path],targetPath:Ke.path,...hs&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:Fe.type,targetType:Ke.type,isArrayMapping:Fe.type==="array"||Ke.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};Te.push(Ht),Ve.add(Ke.path),se++}}),se>0?(w(Fe=>[...Fe,...Te]),le({title:"Node mapping complete",description:`Created ${se} mappings for matching fields within selected nodes`})):le({title:"No matching fields found",description:"Could not find any matching field names within the selected nodes",variant:"destructive"}),H(null),Q(null)}else if(Ve.has(z.path))le({title:"Target already mapped",description:"The selected target field is already mapped",variant:"destructive"});else{const se={id:`mapping_${Date.now()}_${Math.random()}`,name:`${B.name}_to_${z.name}`,sourceFields:[B.name],targetField:z.name,sourcePaths:[B.path],targetPath:z.path};w(me=>[...me,se]),le({title:"Mapping created",description:`Mapped ${B.name} to ${z.name}`}),H(null),Q(null)}return}const Qe=Cs(m),Ze=Cs(x),st=new Map;Ze.forEach(We=>{const jt=Gt(We);st.has(jt)||st.set(jt,[]),st.get(jt).push(We)}),Qe.forEach(We=>{const jt=Gt(We),se=st.get(jt)||[],me=se.find(Me=>!Ve.has(Me.path)&&Me.type===We.type)||se.find(Me=>!Ve.has(Me.path));if(me){const Me=(We.type==="array"||We.type==="object")&&(me.type==="array"||me.type==="object"),ve={id:`mapping_${Date.now()}_${Math.random()}`,name:`${We.name}_to_${me.name}`,sourceFields:[We.name],targetField:me.name,sourcePaths:[We.path],targetPath:me.path,...Me&&{javaFunction:"nodeMapping",functionNode:{id:`node_${Date.now()}_${Math.random()}`,functionName:"nodeMapping",parameters:{sourceType:We.type,targetType:me.type,isArrayMapping:We.type==="array"||me.type==="array"?"true":"false"},sourceConnections:{},position:{x:0,y:0}}}};Te.push(ve),Ve.add(me.path)}}),Te.length>0?(w(We=>[...We,...Te]),le({title:"Auto-mapping complete",description:`Created ${Te.length} automatic mappings`})):le({title:"No matching fields found",description:"Could not find any matching field names between source and target",variant:"destructive"})},Yn=async(Te,Ve)=>{const Qe=Z.find(Ze=>Ze.name===Te);if(!(!Qe||!Qe.id))try{Ve?D(!0):V(!0);const st=(await Nj(Qe.id,{rootElementName:Qe.name.replace(/\s+/g,""),includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0,preserveNullValues:!1})).xmlContent;let We;try{We=Yg(st)}catch(jt){throw console.error("Error parsing XML:",jt),console.error("XML content that failed to parse:",st),jt}Ve?(A(Te),p(We),L(!1)):(I(Te),g(We),k(!1)),le({title:"Structure converted to XML",description:`${Te} has been converted to XML format for mapping`})}catch(Ze){console.error("Error converting structure to XML:",Ze),le({title:"Conversion failed",description:Ze.message||"Failed to convert structure to XML",variant:"destructive"})}finally{Ve?D(!1):V(!1)}},To=(Te,Ve)=>{w(Qe=>Qe.map(Ze=>Ze.id===Te?{...Ze,...Ve}:Ze))},Kr=Te=>{w(Ve=>[...Ve,Te])};return s.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden animate-fade-in",children:[s.jsx("div",{className:"border-b",children:s.jsxs("div",{className:"h-16 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(C,{htmlFor:"mappingName",className:"text-sm font-medium",children:"Mapping Name:"}),s.jsx(_,{id:"mappingName",placeholder:"Enter mapping name",value:P,onChange:Te=>T(Te.target.value),className:"w-64"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{variant:"outline",onClick:ts,className:"hover-scale",disabled:!m.length||!x.length,children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),B&&z?"Map Selected":"Map All"]}),s.jsxs(q,{variant:"outline",onClick:Ft,className:"text-destructive hover:text-destructive hover-scale",children:[s.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Delete All Mappings"]}),f.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:()=>he(!0),className:"hover-scale",children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Test Mapping"]}),s.jsxs(q,{onClick:()=>t?.(f,P),className:"hover-scale",disabled:!P.trim(),children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Save Mappings"]})]}),s.jsxs(q,{variant:"outline",onClick:e,className:"hover-scale",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Close"]})]})]})}),s.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[s.jsx(dX,{fields:m,mappings:f,selectedService:S,searchValue:y,showSelector:!d&&F,selectedField:B,onSearchChange:N,onShowSelectorChange:L,onSelectService:Te=>Yn(Te,!0),onToggleExpanded:be,onDragStart:Ae,onDragEnd:je,onSelectField:H,isLoading:R,hideSelector:d}),s.jsx(lne,{mappings:f,sourceFields:m,targetFields:x,onRemoveMapping:nt,onUpdateMapping:To,onCreateMapping:Kr}),s.jsx(uX,{fields:x,mappings:f,selectedService:O,searchValue:b,showSelector:!d&&U,selectedField:z,onSearchChange:E,onShowSelectorChange:k,onSelectService:Te=>Yn(Te,!1),onToggleExpanded:be,onDragOver:ke,onDrop:De,onSelectField:Q,isLoading:$,hideSelector:d})]}),s.jsx(cne,{open:ie,onOpenChange:he,mappings:f,mappingName:P,mappingType:u,sourceXml:l,targetXml:c})]})}const Xg=e=>{const t=e.toUpperCase();return t.includes("JDBC")?ds:t.includes("HTTP")||t.includes("REST")?Pr:t.includes("SOAP")?xn:t.includes("MAIL")?Au:t.includes("FILE")||t.includes("FTP")?Vs:ku};function kE(){_s();const e=ln(),{flowId:t}=HN(),{navigateBack:n,isDirectNavigation:r}=jc(),{toast:a}=He(),{user:o}=Hr(),[i,l]=h.useState(!1),c=e.state?.flow||null,[d,u]=h.useState(""),[m,p]=h.useState(""),[x,g]=h.useState(""),[f,w]=h.useState(""),[j,v]=h.useState(""),[y,N]=h.useState(""),[b,E]=h.useState(""),[S,A]=h.useState(""),[O,I]=h.useState(!0),[F,L]=h.useState(!1);console.log("=== INITIAL TOGGLE STATES ==="),console.log("Initial mappingRequired:",!0),console.log("Initial skipXmlConversion:",!1);const[U,k]=h.useState([]),[P,T]=h.useState(!0),[R,D]=h.useState([]),[$,V]=h.useState(null),[B,H]=h.useState(""),[z,Q]=h.useState([]),[ie,he]=h.useState([]),[Z,le]=h.useState([]),[fe,be]=h.useState(!0),[Ae,je]=h.useState(!1),[ke,De]=h.useState(!1),[nt,Ft]=h.useState(""),[Gt,Cs]=h.useState(""),[ts,Yn]=h.useState("request");c4(()=>{u(""),p(""),g(""),w(""),v(""),N(""),E(""),A(""),I(!0),k([]),T(!0),D([]),l(!1),Ft(""),Cs("")}),h.useEffect(()=>{console.log("Business components state updated:",z)},[z]),h.useEffect(()=>{Kr()},[]),h.useEffect(()=>{(c||t)&&Te()},[c,t]),h.useEffect(()=>{const se=async me=>{if(me&&!e.pathname.includes("/edit"))try{const Me=Z.find(Fe=>Fe.id===me);if(!Me||Me.type!=="wsdl")return;const ve=await ee.get(`/structures/${me}`);if(console.log("Structure response:",ve.data),ve.data){let Fe=null;if(typeof ve.data.structure=="string"&&ve.data.structure.includes("wsdl:"))Fe=ve.data.structure;else if(ve.data.namespace)ve.data.namespace.schemaLocation&&ve.data.namespace.schemaLocation.includes("wsdl:")?Fe=ve.data.namespace.schemaLocation:typeof ve.data.namespace=="string"&&ve.data.namespace.includes("wsdl:")&&(Fe=ve.data.namespace);else if(ve.data.tags&&Array.isArray(ve.data.tags)){const we=ve.data.tags.find(Ie=>Ie.includes("wsdl:"));we&&(Fe=we)}if(ve.data.metadata?.operationInfo){const we=ve.data.metadata.operationInfo;if(V(we),we.isSynchronous){T(!1),a({title:"Synchronous Service Detected",description:`This WSDL structure defines a synchronous service with ${we.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Ie=[];we.hasOutput&&Ie.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),we.hasFault&&Ie.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Ie.length>0&&R.length===0&&(D(Ie),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Ie.map(Ke=>Ke.name).join(" and ")}. Please configure each mapping.`}));return}}else if(!Fe&&ve.data.structure&&typeof ve.data.structure=="object"){const we=Object.keys(ve.data.structure),Ie=we.some(Ht=>Ht.toLowerCase().includes("req")||Ht.toLowerCase().includes("request")||Ht.toLowerCase().includes("_mt")),Ke=we.some(Ht=>Ht.toLowerCase().includes("resp")||Ht.toLowerCase().includes("response")),hs=we.some(Ht=>Ht.toLowerCase().includes("fault")||Ht.toLowerCase().includes("error"));if(Ie&&Ke){V({hasInput:Ie,hasOutput:Ke,hasFault:hs,isSynchronous:!0,messageTypes:["input","output",...hs?["fault"]:[]]}),T(!1),a({title:"Synchronous Service Detected",description:"This structure appears to define a synchronous service with request and response messages. The flow has been switched to synchronous mode."});const Ht=[];Ke&&Ht.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),hs&&Ht.push({id:`fault_mapping_${Date.now()+1}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Ht.length>0&&R.length===0&&(D(Ht),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Ht.map(Ri=>Ri.name).join(" and ")}. Please configure each mapping.`}));return}}if(Fe){const we=Dp(Fe);if(we&&we.operationInfo&&(V(we.operationInfo),we.operationInfo.isSynchronous)){T(!1),a({title:"Synchronous Service Detected",description:`This WSDL defines a synchronous service with ${we.operationInfo.messageTypes.join(", ")} messages. The flow has been switched to synchronous mode.`});const Ie=[];we.operationInfo.hasOutput&&Ie.push({id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"}),we.operationInfo.hasFault&&Ie.push({id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"}),Ie.length>0&&R.length===0&&(D(Ie),a({title:"Mapping Sets Created",description:`Created mapping sets for ${Ie.map(Ke=>Ke.name).join(" and ")}. Please configure each mapping.`}))}}}}catch(Me){console.error("Error analyzing WSDL structure:",Me)}};b&&se(b),S&&se(S)},[b,S,Z,a]),h.useEffect(()=>{console.log("State updated - additionalMappings:",R),R.forEach((se,me)=>{console.log(`  Mapping ${me}: messageType=${se.messageType}, fieldMappings.length=${se.fieldMappings?.length||0}`)}),console.log("State updated - isAsynchronous:",P),console.log("State updated - mappingRequired:",O)},[R,P,O]);const Kr=async()=>{try{be(!0);const se=await na.getAllBusinessComponents();console.log("Business components result:",se),se.success&&se.data?(Q(se.data),console.log("Set business components:",se.data)):(console.error("Failed to load business components:",se.error),console.error("Business result full object:",se));try{const me=await ee.get("/adapters");me.data&&he(me.data)}catch(me){console.warn("Could not load adapters:",me),he([])}try{const me=await ee.get("/structures");if(me.data){const Me=Array.isArray(me.data)?me.data:me.data.structures||[];le(Me)}}catch(me){console.warn("Could not load data structures:",me),le([])}}catch(se){console.error("Error loading component data:",se),a({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{be(!1)}},Te=async()=>{try{let se=c;if(!se&&t){const me=await ee.get(`/flows/${t}`);me.data&&(se=me.data)}if(se){u(se.name||""),p(se.description||""),se.businessComponentId&&(g(se.businessComponentId),w(se.businessComponentId));try{if(se.configuration){const me=JSON.parse(se.configuration);console.log("Flow configuration:",me),me.sourceBusinessComponentId&&(console.log("Setting source business component from config:",me.sourceBusinessComponentId),g(me.sourceBusinessComponentId)),me.targetBusinessComponentId&&(console.log("Setting target business component from config:",me.targetBusinessComponentId),w(me.targetBusinessComponentId))}}catch(me){console.error("Error parsing flow configuration:",me)}se.sourceAdapterId&&v(se.sourceAdapterId),se.targetAdapterId&&N(se.targetAdapterId),se.sourceStructureId&&E(se.sourceStructureId),se.targetStructureId&&A(se.targetStructureId),se.mappingMode==="PASS_THROUGH"?(T(!0),I(!1),L(!0),console.log("Loading PASS_THROUGH flow: mappingRequired=false, skipXmlConversion=true")):se.mappingMode==="WITH_MAPPING"?(T(!1),I(!0),L(!1),console.log("Loading WITH_MAPPING flow: mappingRequired=true, skipXmlConversion=false")):(T(!1),I(!0),L(!1));try{const me=await ee.get(`/flows/${se.id}/transformations`);if(me.data&&Array.isArray(me.data)){const Me=me.data.sort((Fe,we)=>Fe.executionOrder-we.executionOrder),ve=[];for(let Fe=0;Fe<Me.length;Fe++){const we=Me[Fe];if(we.type==="FIELD_MAPPING"){const Ie=await ee.get(`/transformations/${we.id}/mappings`);if(Ie.data&&Array.isArray(Ie.data)){let Ke,hs={};try{hs=JSON.parse(we.configuration||"{}"),console.log("Transformation config:",hs),hs.mappingType?Ke=hs.mappingType:Fe===0?Ke="request":se.mappingMode==="PASS_THROUGH"?Ke="fault":Ke=Fe===1?"response":"fault"}catch(as){console.error("Error parsing transformation config:",as),Ke=Fe===0?"request":Fe===1?"response":"fault"}let Ht=we.name||"";console.log(`Transformation ${Fe}: name="${we.name}", executionOrder=${we.executionOrder}, messageType: ${Ke}`);const Ri=Ie.data.map(as=>{try{const Po={...as,sourceFields:typeof as.sourceFields=="string"?JSON.parse(as.sourceFields):as.sourceFields||[]};if(as.visualFlowData)try{Po.visualFlowData=typeof as.visualFlowData=="string"?JSON.parse(as.visualFlowData):as.visualFlowData}catch(Pc){console.error("Error parsing visualFlowData:",Pc)}if(as.functionNode)try{Po.functionNode=typeof as.functionNode=="string"?JSON.parse(as.functionNode):as.functionNode}catch(Pc){console.error("Error parsing functionNode:",Pc)}return Po}catch(Po){return console.error("Error parsing sourceFields for mapping:",as,Po),{...as,sourceFields:[]}}});Ke==="request"?(k(Ri),H(Ht||"Request Mapping")):ve.push({id:we.id,name:Ht||(Ke==="response"?"Response Mapping":"Fault Mapping"),fieldMappings:Ri,messageType:Ke})}}}ve.length>0&&D(ve)}}catch(me){console.error("Error loading transformations and mappings:",me)}}}catch(se){console.error("Error loading flow data:",se),a({title:"Error",description:"Failed to load flow data for editing.",variant:"destructive"})}},Ve=se=>{v(se);const me=ie.find(ve=>ve.id===se);if(!me)return;const Me=me.configuration;if(Me&&typeof Me=="object"){const ve=Me.transformationConfig;ve?.mode==="passthrough"?(I(!1),E(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):ve?.dataStructureId&&(E(ve.dataStructureId),I(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}Ze(me,y)},Qe=se=>{N(se);const me=ie.find(ve=>ve.id===se);if(!me)return;const Me=me.configuration;if(Me&&typeof Me=="object"){const ve=Me.transformationConfig;ve?.mode==="passthrough"?(I(!1),A(""),a({title:"Passthrough Mode",description:"This adapter is configured for passthrough. Mapping has been disabled."})):ve?.dataStructureId&&(A(ve.dataStructureId),I(!0),a({title:"Structure Auto-Selected",description:"Data structure has been automatically selected based on adapter configuration."}))}Ze(j,me)},Ze=(se,me)=>{const Me=typeof se=="string"?ie.find(Ie=>Ie.id===se):se,ve=typeof me=="string"?ie.find(Ie=>Ie.id===me):me;if(!Me||!ve)return;const Fe=Me.type?.toUpperCase(),we=ve.type?.toUpperCase();if(["HTTP","HTTPS","REST"].includes(Fe)||["HTTP","HTTPS","REST"].includes(we)){const Ie=Me.configuration,Ke=ve.configuration;(Ie?.expectsResponse||Ke?.expectsResponse)&&(T(!1),a({title:"Synchronous Mode Detected",description:"Flow mode set to synchronous based on adapter configuration."}))}},st=()=>{n("/dashboard")},We=async(se,me)=>{if(!d.trim()){a({title:"Validation Error",description:"Flow name is required.",variant:"destructive"});return}if(!j||!y){a({title:"Validation Error",description:"Both source and target adapters are required.",variant:"destructive"});return}if(O&&U.length>0&&!B.trim()){a({title:"Validation Error",description:"Please provide a name for the request mapping.",variant:"destructive"});return}if(!P&&R.length>0&&R.filter(ve=>!ve.name?.trim()).length>0){a({title:"Validation Error",description:"Please provide names for all mappings.",variant:"destructive"});return}try{je(!0);const Me=O&&(se||U)?(se||U).map((we,Ie)=>({sourceFields:JSON.stringify(we.sourceFields||[]),targetField:we.targetField||we.targetPath||"",javaFunction:we.javaFunction||we.functionNode?.javaFunction||null,mappingRule:we.mappingRule||null,functionName:we.functionNode?.functionName||null,isActive:!0,isArrayMapping:we.functionNode?.functionName==="nodeMapping"||!1,arrayContextPath:we.functionNode?.parameters?.arrayContextPath||null,sourceXPath:we.functionNode?.parameters?.sourceXPath||null,targetXPath:we.functionNode?.parameters?.targetXPath||null,visualFlowData:we.visualFlowData?JSON.stringify(we.visualFlowData):null,functionNode:we.functionNode?JSON.stringify(we.functionNode):null,mappingOrder:Ie})):[],ve={flowName:d.trim(),description:m.trim(),sourceBusinessComponentId:x||null,targetBusinessComponentId:f||null,sourceAdapterId:j,targetAdapterId:y,sourceStructureId:b||null,targetStructureId:S||null,createdBy:o?.id||o?.username||"unknown",skipXmlConversion:F,mappingMode:O?"WITH_MAPPING":"PASS_THROUGH",requestMappingName:B||(d?`${d} Request`:"Request Mapping"),fieldMappings:Me,additionalMappings:!P&&R.length>0?R.map(we=>({name:we.name,fieldMappings:we.fieldMappings.map((Ie,Ke)=>({sourceFields:JSON.stringify(Ie.sourceFields||[]),targetField:Ie.targetField||Ie.targetPath||"",javaFunction:Ie.javaFunction||Ie.functionNode?.javaFunction||null,mappingRule:Ie.mappingRule||null,functionName:Ie.functionNode?.functionName||null,isActive:!0,isArrayMapping:Ie.functionNode?.functionName==="nodeMapping"||!1,arrayContextPath:Ie.functionNode?.parameters?.arrayContextPath||null,sourceXPath:Ie.functionNode?.parameters?.sourceXPath||null,targetXPath:Ie.functionNode?.parameters?.targetXPath||null,visualFlowData:Ie.visualFlowData?JSON.stringify(Ie.visualFlowData):null,functionNode:Ie.functionNode?JSON.stringify(Ie.functionNode):null,mappingOrder:Ke}))})):[]};console.log("=== FLOW SAVE DEBUG ==="),console.log("mappingRequired state:",O),console.log("skipXmlConversion state:",F),console.log("Calculated mappingMode:",O?"WITH_MAPPING":"PASS_THROUGH"),console.log("Full flow request:",JSON.stringify(ve,null,2)),(await ee.post("/flow-composition/direct-mapping",ve)).data&&(a({title:"Success",description:`Integration flow "${d}" has been created successfully.`}),n("/dashboard"))}catch(Me){console.error("Error saving flow:",Me),console.error("Error response:",Me.response),Me.response&&(console.error("Response status:",Me.response.status),console.error("Response data:",Me.response.data),console.error("Response headers:",Me.response.headers));let ve="Failed to save the integration flow. Please try again.";Me.message?ve=Me.message:Me.response?.data?.message?ve=Me.response.data.message:Me.response?.data&&typeof Me.response.data=="string"&&(ve=Me.response.data),ve.includes("already exists")&&(ve=`${ve} Please choose a different name.`),a({title:"Save Failed",description:ve,variant:"destructive"})}finally{je(!1)}},jt=async(se="request")=>{if(!b||!S){a({title:"Validation Error",description:"Please select both source and target data structures.",variant:"destructive"});return}try{De(!0),Yn(se);const[me,Me]=await Promise.all([Nj(b,{rootElementName:"SourceMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0}),Nj(S,{rootElementName:"TargetMessage",includeXmlDeclaration:!0,prettyPrint:!0,convertPropertyNames:!0})]);Ft(me.xmlContent),Cs(Me.xmlContent),l(!0)}catch(me){console.error("Error converting structures:",me);const Me=me.response?.data?.details||me.response?.data?.error||me.message||"Failed to convert structures to XML";console.error("Error details:",me.response?.data),a({title:"Conversion Failed",description:Me,variant:"destructive"})}finally{De(!1)}};return i?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"w-full px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"gap-2",children:[s.jsx(fp,{className:"h-4 w-4"}),"Back to Flow Configuration"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Field Mapping - ",d]}),s.jsxs("p",{className:"text-muted-foreground",children:["Map fields between ",j," and ",y]})]})]})})}),s.jsx(q0,{onClose:()=>l(!1),onSave:(se,me)=>{if(ts==="request")k(se),me&&H(me);else{const Me=ts==="response"?"response":ts;D(ve=>{const Fe=ve.findIndex(we=>we.messageType===Me);if(Fe>=0){const we=[...ve];return we[Fe]={...we[Fe],fieldMappings:se,name:me||we[Fe].name},we}return ve})}l(!1),a({title:"Mappings Saved",description:`${se.length} ${ts} mappings have been configured.`})},initialMappingName:ts==="request"?B||(d?`${d} Request`:""):R.find(me=>me.messageType===(ts==="response"?"response":"fault"))?.name||(d?`${d} ${ts.charAt(0).toUpperCase()+ts.slice(1)}`:""),initialMappings:(()=>{if(ts==="request")return U;const se=ts==="response"?"response":ts;return R.find(Me=>Me.messageType===se)?.fieldMappings||[]})(),sourceAdapterType:j,targetAdapterType:y,sourceXml:nt,targetXml:Gt,preConverted:!0,mappingType:ts})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:st,className:"gap-2",children:[s.jsx(fp,{className:"h-4 w-4"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t?"Edit Integration Flow":"Create Integration Flow"}),s.jsx("p",{className:"text-muted-foreground",children:t?"Modify the configuration of your integration flow":"Design and configure a new message integration flow"})]})]})})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(W,{className:"animate-scale-in",children:[s.jsxs(te,{children:[s.jsx(re,{children:"Flow Details"}),s.jsx(pe,{children:"Configure the basic information for your integration flow"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"flowName",children:"Flow Name *"}),s.jsx(_,{id:"flowName",placeholder:"e.g., Customer Data Sync",value:d,onChange:se=>{const me=se.target.value;u(me),(!B||B===`${d} Request`||B==="Request Mapping")&&H(me?`${me} Request`:"")},className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",placeholder:"Describe what this integration flow does...",value:m,onChange:se=>p(se.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"async-mode",className:"text-base",children:"Processing Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P?"Asynchronous - Process messages in the background":"Synchronous - Wait for processing to complete before responding"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm ${P?"text-muted-foreground":"font-medium"}`,children:"Sync"}),s.jsx(ct,{id:"async-mode",checked:P,onCheckedChange:T}),s.jsx("span",{className:`text-sm ${P?"font-medium":"text-muted-foreground"}`,children:"Async"})]})]}),!P&&s.jsx("div",{className:"mt-3 p-3 bg-muted rounded-md",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Note:"})," Synchronous mode allows multiple field mappings to be configured for complex transformations."]})})]})]})]}),s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Source & Target Configuration"}),s.jsx(pe,{children:"Select the source and target systems for your integration"})]}),s.jsx(K,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Source"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Source Business Component *"}),s.jsxs(G,{value:x,onValueChange:g,disabled:fe,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select source business component"})}),s.jsx(X,{children:z.map(se=>s.jsx(M,{value:se.id,children:se.name},se.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Source Adapter *"}),s.jsxs(G,{value:j,onValueChange:Ve,disabled:fe,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select source system"})}),s.jsx(X,{children:ie.filter(se=>se.mode==="SENDER").map(se=>{const me=Xg(se.type||se.name);return s.jsx(M,{value:se.id||se.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"h-4 w-4"}),se.name]})},se.id||se.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Source Data Structure *"}),s.jsxs(G,{value:b,onValueChange:E,disabled:fe||!x,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select source structure"})}),s.jsx(X,{children:(Array.isArray(Z)?Z:[]).filter(se=>se.usage==="source"||!se.usage).map(se=>s.jsx(M,{value:se.id,children:se.name},se.id))})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Target"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Target Business Component *"}),s.jsxs(G,{value:f,onValueChange:w,disabled:fe,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select target business component"})}),s.jsx(X,{children:z.map(se=>s.jsx(M,{value:se.id,children:se.name},se.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Target Adapter *"}),s.jsxs(G,{value:y,onValueChange:Qe,disabled:fe,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select target system"})}),s.jsx(X,{children:ie.filter(se=>se.mode==="RECEIVER").map(se=>{const me=Xg(se.type||se.name);return s.jsx(M,{value:se.id||se.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"h-4 w-4"}),se.name]})},se.id||se.name)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Target Data Structure *"}),s.jsxs(G,{value:S,onValueChange:A,disabled:fe||!f,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:fe?"Loading...":"Select target structure"})}),s.jsx(X,{children:(Array.isArray(Z)?Z:[]).filter(se=>se.usage==="target"||!se.usage).map(se=>s.jsx(M,{value:se.id,children:se.name},se.id))})]})]})]})]})]})})]}),s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Transformations"}),s.jsx(pe,{children:"Configure field mapping between source and target"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"mapping-required",className:"text-base",children:"Mapping Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable if field mapping is needed between source and target"})]}),s.jsx(ct,{id:"mapping-required",checked:O,onCheckedChange:se=>{console.log("Mapping Required toggle changed to:",se),I(se),L(!se),console.log("Skip XML Conversion automatically set to:",!se)}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"skip-xml-conversion",className:"text-base",children:"Direct File Passthrough"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip XML conversion for direct file transfers (improved performance)"})]}),s.jsx(ct,{id:"skip-xml-conversion",checked:F,onCheckedChange:se=>{console.log("Direct File Passthrough toggle changed to:",se),L(se),I(!se),console.log("Mapping Required automatically set to:",!se)}})]}),O&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t pt-6",children:s.jsx("div",{className:"space-y-4",children:P?s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Field Mapping"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.length>0?`${U.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:jt,disabled:!O||!x||!f||!j||!y||!b||!S||ke,children:"Configure"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Request Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Request"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.length>0?`${U.length} mappings configured`:"No mappings configured yet"})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>jt("request"),disabled:!O||!x||!f||!j||!y||!b||!S||ke,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Response Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-md mr-2",children:"Response"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const se=R.find(me=>me.messageType==="response");return se?.fieldMappings?.length>0?`${se.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{if(!R.find(me=>me.messageType==="response")){const me={id:`response_mapping_${Date.now()}`,name:d?`${d} Response`:"Response Mapping",fieldMappings:[],messageType:"response"};D([...R,me])}jt("response")},disabled:!O||!x||!f||!j||!y||!b||!S||ke,children:"Configure"})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Fault Mapping"}),s.jsx("span",{className:"text-xs px-2 py-1 bg-destructive/10 text-destructive rounded-md mr-2",children:"Fault"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const se=R.find(me=>me.messageType==="fault");return se?.fieldMappings?.length>0?`${se.fieldMappings.length} mappings configured`:"No mappings configured yet"})()})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{if(!R.find(me=>me.messageType==="fault")){const me={id:`fault_mapping_${Date.now()}`,name:d?`${d} Fault`:"Fault Mapping",fieldMappings:[],messageType:"fault"};D([...R,me])}jt("fault")},disabled:!O||!x||!f||!j||!y||!b||!S||ke,children:"Configure"})]})})]})})}),O?(!b||!S)&&s.jsx("p",{className:"text-sm text-orange-600 text-center",children:"Please select both source and target data structures to enable mapping"}):s.jsx("p",{className:"text-sm text-blue-600 text-center",children:"Mapping is disabled in passthrough mode. Data will be transferred without transformation."})]}),!O&&s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"Pass-through mode enabled - data will flow without transformation"})})]})]})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(nX,{onSaveFlow:()=>We(),isLoading:Ae,disabled:fe||!d.trim()||!j||!y}),s.jsx(rX,{sourceAdapter:j,targetAdapter:y,sourceStructure:b,targetStructure:S,selectedTransformations:[],adapters:ie.map(se=>({id:se.id||se.name,name:se.name,icon:Xg(se.type||se.name),category:se.type||"General"})),sampleStructures:Z}),s.jsx(aX,{}),fe&&s.jsx(W,{children:s.jsx(K,{className:"flex items-center justify-center py-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(gt,{className:"h-4 w-4 animate-spin"}),"Loading component data..."]})})})]})]})})]})}var z0="Checkbox",[dne,Kve]=on(z0),[une,hne]=dne(z0),BI=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,x]=h.useState(null),g=Ue(t,N=>x(N)),f=h.useRef(!1),w=p?u||!!p.closest("form"):!0,[j=!1,v]=zn({prop:a,defaultProp:o,onChange:d}),y=h.useRef(j);return h.useEffect(()=>{const N=p?.form;if(N){const b=()=>v(y.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[p,v]),s.jsxs(une,{scope:n,state:j,disabled:l,children:[s.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":Za(j)?"mixed":j,"aria-required":i,"data-state":zI(j),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onKeyDown:ge(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ge(e.onClick,N=>{v(b=>Za(b)?!0:!b),w&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),w&&s.jsx(mne,{control:p,bubbles:!f.current,name:r,value:c,checked:j,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Za(o)?!1:o})]})});BI.displayName=z0;var HI="CheckboxIndicator",qI=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,o=hne(HI,n);return s.jsx(us,{present:r||Za(o.state)||o.state===!0,children:s.jsx(Pe.span,{"data-state":zI(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});qI.displayName=HI;var mne=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...o}=e,i=h.useRef(null),l=sx(n),c=Df(t);h.useEffect(()=>{const u=i.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&x){const g=new Event("click",{bubbles:r});u.indeterminate=Za(n),x.call(u,Za(n)?!1:n),u.dispatchEvent(g)}},[l,n,r]);const d=h.useRef(Za(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Za(e){return e==="indeterminate"}function zI(e){return Za(e)?"indeterminate":e?"checked":"unchecked"}var WI=BI,pne=qI;const at=h.forwardRef(({className:e,...t},n)=>s.jsx(WI,{ref:n,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(pne,{className:ne("flex items-center justify-center text-current"),children:s.jsx(Tu,{className:"h-4 w-4"})})}));at.displayName=WI.displayName;class fne{async getAdapters(t){try{const n=t?`/adapters?businessComponentId=${t}`:"/adapters";return await ee.get(n)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapters"}}}async getAdapterById(t){try{return await ee.get(`/adapters/${t}`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch adapter"}}}async createAdapter(t){try{return await ee.post("/adapters",t)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to create adapter"}}}async updateAdapter(t,n){try{return await ee.put(`/adapters/${t}`,n)}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to update adapter"}}}async deleteAdapter(t){try{return await ee.delete(`/adapters/${t}`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to delete adapter"}}}async getAdapterLogs(t,n){try{const r=new URLSearchParams;r.append("page","0"),r.append("size",n?.limit?.toString()||"50"),n?.level?.length&&r.append("level",n.level.join(",")),n?.dateFrom&&r.append("dateFrom",n.dateFrom),n?.dateTo&&r.append("dateTo",n.dateTo),n?.search&&r.append("search",n.search);const a=r.toString()?`?${r.toString()}`:"",o=await ee.get(`/adapters/${t}/logs${a}`);return o.success&&o.data?{success:!0,data:(o.data.content||[]).map(c=>({id:c.id,timestamp:c.timestamp,level:(c.level||"INFO").toLowerCase(),message:c.message,adapterId:t,details:c.details?typeof c.details=="string"?JSON.parse(c.details):c.details:void 0,adapterName:c.sourceName,correlationId:c.correlationId,duration:void 0}))}:o}catch(r){return{success:!1,error:r instanceof Error?r.message:"Failed to fetch adapter logs"}}}async getAvailableAdapterTypes(){try{return await ee.get("/admin/adapter-types")}catch(t){return{success:!1,error:t instanceof Error?t.message:"Failed to fetch available adapter types"}}}async testAdapterConnection(t){try{return await ee.post(`/adapters/${t}/test`),{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to test adapter connection"}}}}const vd=new fne,No=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0);h.useEffect(()=>{a()},[]);const a=async()=>{try{console.log("Loading businessComponent data...");const l=await na.getAllBusinessComponents();if(l.success&&l.data){console.log("API businessComponents loaded:",l.data);const c=Array.isArray(l.data)?l.data:[];console.log(`API returned ${c.length} business components`),t(c)}else console.log("API failed, showing empty business components list"),t([])}catch(l){console.error("Error loading business components:",l),t([])}finally{r(!1)}};return{businessComponents:e,loading:n,getAdaptersForBusinessComponent:async l=>{try{const c=await vd.getAdapters(l);if(c.success&&c.data&&Array.isArray(c.data)){const d=c.data.map(u=>u?.id).filter(u=>u!=null);return[...new Set(d)]}}catch(c){console.error("Error getting adapters for business component:",c)}return[]},getStructuresForBusinessComponent:async l=>{try{const c=await Oo.getStructures();if(c.success&&c.data){const d=c.data.structures||c.data;return Array.isArray(d)?d.filter(u=>!u||typeof u!="object"?(console.warn("Invalid structure object:",u),!1):u.businessComponentId===l).map(u=>u.id).filter(u=>u!=null):(console.warn("Structures is not an array:",d),[])}}catch(c){console.error("Error getting structures for business component:",c)}return[]},refreshData:a}},xne=({adapters:e,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i,onSourceBusinessComponentChange:l,onTargetBusinessComponentChange:c,onSourceAdapterChange:d,onTargetAdapterChange:u,onSourceAdapterActiveChange:m,onTargetAdapterActiveChange:p})=>{console.log("[AdapterConfigurationCard] Component rendered with props:",{adapters:e.length,sourceBusinessComponent:t,targetBusinessComponent:n,sourceAdapter:r,targetAdapter:a,sourceAdapterActive:o,targetAdapterActive:i});const{businessComponents:x,loading:g,getAdaptersForBusinessComponent:f}=No();console.log("[AdapterConfigurationCard] Hook data:",{businessComponents:x.length,loading:g});const w=S=>e.find(A=>A.id===S),[j,v]=h.useState([]);h.useEffect(()=>{t&&y(t)},[t]);const y=async S=>{const A=await f(S);v(A)},N=S=>S?e.filter(A=>j.includes(A.id)):e,b=async S=>{console.log("[AdapterConfigurationCard] Source business component changing:",S);try{l(S);const A=await f(S);console.log("[AdapterConfigurationCard] Available adapters for business component:",A),r&&!A.includes(r)&&(console.log("[AdapterConfigurationCard] Resetting source adapter - not available for new business component"),d(""))}catch(A){console.error("[AdapterConfigurationCard] Error handling source business component change:",A)}},E=async S=>{c(S);const A=await f(S);a&&!A.includes(a)&&u("")};return s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Source & Target Configuration"}),s.jsx(pe,{children:"Select the source and target systems for your integration"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(C,{children:"Source Business Component *"}),s.jsxs(G,{value:t,onValueChange:b,disabled:g,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:"Select source business component"})}),s.jsx(X,{children:x.map(S=>s.jsx(M,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(ae,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(C,{children:"Source Adapter *"}),s.jsxs(G,{value:r,onValueChange:d,disabled:!t,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:"Select source system"})}),s.jsx(X,{children:N(t).map(S=>s.jsx(M,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),r&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:w(r)&&s.jsx(s.Fragment,{children:(()=>{const S=w(r),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),r&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"sourceAdapterActive",checked:o,onCheckedChange:S=>m(S===!0)}),s.jsxs(C,{htmlFor:"sourceAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active source adapter",s.jsx(ae,{variant:o?"default":"secondary",className:"text-xs",children:o?"Active":"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(C,{children:"Target Business Component *"}),s.jsxs(G,{value:n,onValueChange:E,disabled:g,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:"Select target business component"})}),s.jsx(X,{children:x.map(S=>s.jsx(M,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:S.name}),S.description&&s.jsx(ae,{variant:"outline",className:"text-xs",children:S.description})]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(C,{children:"Target Adapter *"}),s.jsxs(G,{value:a,onValueChange:u,disabled:!n,children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:"Select target system"})}),s.jsx(X,{children:N(n).map(S=>s.jsx(M,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"h-4 w-4"}),s.jsx("span",{children:S.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:S.category})]})},S.id))})]}),a&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:w(a)&&s.jsx(s.Fragment,{children:(()=>{const S=w(a),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"targetAdapterActive",checked:i,onCheckedChange:S=>p(S===!0)}),s.jsxs(C,{htmlFor:"targetAdapterActive",className:"text-sm font-normal flex items-center gap-1",children:["Active target adapter",s.jsx(ae,{variant:i?"default":"secondary",className:"text-xs",children:i?"Active":"Inactive"})]})]})]})]}),r&&a&&s.jsx("div",{className:"mt-6 p-4 bg-gradient-secondary rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(r)&&s.jsx(s.Fragment,{children:(()=>{const S=w(r),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})}),s.jsx(Bd,{className:"h-6 w-6 text-primary animate-pulse"}),s.jsx("div",{className:"flex items-center gap-2 bg-card p-3 rounded-lg shadow-soft",children:w(a)&&s.jsx(s.Fragment,{children:(()=>{const S=w(a),A=S.icon;return s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:S.name})]})})()})})]})})]})]})},gne=e=>{switch(e){case"start-process":return Ur;case"http-sender":case"http-receiver":return Pr;case"soap-sender":case"soap-receiver":return Mu;case"rest-sender":case"rest-receiver":return vt;default:return Bk}},vne=e=>e==="start-process"?"Start Process":e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Es=({id:e,data:t,selected:n})=>{console.log("[AdapterNode] Rendering node:",{id:e,data:t});const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=zr(),[l,c]=h.useState(t.adapterConfig?.sourceBusinessComponent||""),[d,u]=h.useState(t.adapterConfig?.targetBusinessComponent||""),[m,p]=h.useState(t.adapterType),[x,g]=h.useState(t.adapterConfig?.targetAdapter||""),[f,w]=h.useState(t.adapterConfig?.sourceAdapterActive||!0),[j,v]=h.useState(t.adapterConfig?.targetAdapterActive||!1),y=gne(t.adapterType),N=vne(t.adapterType),b=t.adapterConfig&&Object.keys(t.adapterConfig).length>0;console.log("[AdapterNode] Node state:",{id:e,adapterType:t.adapterType,adapterName:N,isConfigured:b,configOpen:r});const E=()=>{o(S=>S.filter(A=>A.id!==e)),i(S=>S.filter(A=>A.source!==e&&A.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(W,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:E,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete adapter",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsx(te,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y,{className:"h-5 w-5 text-white"}),s.jsx(re,{className:"text-sm font-medium text-white",children:N})]}),s.jsx(ae,{variant:b?"default":"secondary",className:"text-xs bg-white text-black",children:b?"Configured":"Setup Required"})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:S=>{console.log("[AdapterNode] Configure button clicked:",{id:e,adapterType:t.adapterType}),S.stopPropagation(),S.preventDefault();try{a(!0),console.log("[AdapterNode] Dialog opened successfully")}catch(A){console.error("[AdapterNode] Error opening dialog:",A)}},onMouseDown:S=>{console.log("[AdapterNode] Configure button mousedown"),S.stopPropagation()},children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Se.Left,className:"w-3 h-3 bg-blue-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(dt,{open:r,onOpenChange:S=>{console.log("[AdapterNode] Dialog state changing:",{open:S,id:e}),a(S)},children:s.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(ut,{children:s.jsxs(ht,{children:["Configure ",N]})}),s.jsx("div",{className:"mt-4",children:(console.log("[AdapterNode] Rendering AdapterConfigurationCard with props:",{adapters:[{id:t.adapterType,name:N,category:t.adapterType.split("-")[0].toUpperCase()}],sourceAdapter:t.adapterType}),s.jsx(xne,{adapters:[{id:t.adapterType,name:N,icon:y,category:t.adapterType.split("-")[0].toUpperCase()}],sourceBusinessComponent:l,targetBusinessComponent:d,sourceAdapter:m,targetAdapter:x,sourceAdapterActive:f,targetAdapterActive:j,onSourceBusinessComponentChange:S=>{console.log("[AdapterNode] Source business component changed:",S),c(S)},onTargetBusinessComponentChange:S=>{console.log("[AdapterNode] Target business component changed:",S),u(S)},onSourceAdapterChange:S=>{console.log("[AdapterNode] Source adapter changed:",S),p(S)},onTargetAdapterChange:S=>{console.log("[AdapterNode] Target adapter changed:",S),g(S)},onSourceAdapterActiveChange:S=>{console.log("[AdapterNode] Source adapter active changed:",S),w(S)},onTargetAdapterActiveChange:S=>{console.log("[AdapterNode] Target adapter active changed:",S),v(S)}}))})]})})]})},yne=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=zr(),[l,c]=h.useState(t.senderComponent||""),[d,u]=h.useState(t.sourceAdapter||""),[m,p]=h.useState(t.isAsync??!0),[x,g]=h.useState([]),{businessComponents:f,adapters:w,getAdaptersForBusinessComponent:j}=No(),v=t.senderComponent&&t.sourceAdapter;h.useEffect(()=>{(async()=>{if(l){const A=await j(l);g(A)}else g([])})()},[l,j]);const y=()=>{o(S=>S.filter(A=>A.id!==e)),i(S=>S.filter(A=>A.source!==e&&A.target!==e))},N=async S=>{c(S);const A=await j(S),O=A.includes(d)?d:"";A.includes(d)||u(""),t.onConfigChange({senderComponent:S,sourceAdapter:O,isAsync:m,payload:t.payload})},b=S=>{u(S),t.onConfigChange({senderComponent:l,sourceAdapter:S,isAsync:m,payload:t.payload})},E=S=>{p(S),t.onConfigChange({senderComponent:l,sourceAdapter:d,isAsync:S,payload:t.payload})};return s.jsxs(s.Fragment,{children:[s.jsxs(W,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:y,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete start process",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsx(te,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5 text-white"}),s.jsx(re,{className:"text-sm font-medium text-white",children:"Start Process"})]}),s.jsx(ae,{variant:v?"default":"secondary",className:"text-xs bg-white text-black",children:v?"Configured":"Setup Required"})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:S=>{S.stopPropagation(),S.preventDefault(),a(!0)},onMouseDown:S=>S.stopPropagation(),children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),s.jsx(dt,{open:r,onOpenChange:a,children:s.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto z-[9999]",style:{zIndex:9999},children:[s.jsx(ut,{children:s.jsx(ht,{children:"Configure Start Process"})}),s.jsxs("div",{className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sender-component",children:"Sender Component"}),s.jsxs(G,{value:l,onValueChange:N,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a business component..."})}),s.jsx(X,{children:f.map(S=>s.jsx(M,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"source-adapter",children:"Source Adapter"}),s.jsxs(G,{value:d,onValueChange:b,disabled:!l,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select an adapter..."})}),s.jsx(X,{children:x.map(S=>{const A=w.find(O=>O.id===S);return A?s.jsx(M,{value:A.id,children:A.name},A.id):null})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"execution-mode",children:"Execution Mode"}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-sm",children:m?"Asynchronous":"Synchronous"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:m?"Process continues without waiting for response":"Process waits for complete response before continuing"})]}),s.jsx(ct,{checked:m,onCheckedChange:E,"aria-label":"Toggle execution mode"})]})]}),v&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Output Payload"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This start process will output the payload from the ",l," component using the ",w.find(S=>S.id===d)?.name," adapter."]})]})]})]})})]})},jne=e=>{switch(e){case"field-mapping":return jl;case"custom-function":return xn;case"filter":return bi;case"enrichment":return Zt;default:return jl}},wne=e=>{switch(e){case"field-mapping":return"Field Mapping";case"data-transformation":return"Data Transformation";case"format-conversion":return"Format Conversion";case"value-mapping":return"Value Mapping";case"structure-mapping":return"Structure Mapping";case"conditional-mapping":return"Conditional Mapping";case"aggregation":return"Aggregation";case"split-mapping":return"Split Mapping";case"csv-to-xml":return"CSV to XML";case"json-to-xml":return"JSON to XML";case"xml-to-json":return"XML to JSON";case"excel-to-csv":return"Excel to CSV";case"pdf-extractor":return"PDF Extractor";case"file-splitter":return"File Splitter";case"file-merger":return"File Merger";case"file-validator":return"File Validator";case"javascript-script":return"JavaScript Script";case"groovy-script":return"Groovy Script";case"xslt-transformation":return"XSLT Transformation";case"custom-function":return"Custom Function";case"lookup-function":return"Lookup Function";case"calculation-function":return"Calculation Function";case"validation-function":return"Validation Function";case"enrichment-function":return"Enrichment Function";case"task":return"Task";case"service-task":return"Service Task";case"user-task":return"User Task";case"script-task":return"Script Task";case"manual-task":return"Manual Task";case"business-rule-task":return"Business Rule Task";case"receive-task":return"Receive Task";case"send-task":return"Send Task";case"filter":return"Message Filter";case"enrichment":return"Data Enrichment";default:return"Transformation"}},ze=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),{setNodes:o,setEdges:i}=zr(),l=jne(t.transformationType),c=wne(t.transformationType),d=t.transformationConfig&&Object.keys(t.transformationConfig).length>0,u=()=>{o(m=>m.filter(p=>p.id!==e)),i(m=>m.filter(p=>p.source!==e&&p.target!==e))};return s.jsxs(s.Fragment,{children:[s.jsxs(W,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:u,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete transformation",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsx(te,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:"h-5 w-5 text-white"}),s.jsx(re,{className:"text-sm font-medium text-white",children:c})]}),s.jsx(ae,{variant:d?"default":"secondary",className:"text-xs bg-white text-black",children:d?"Configured":"Setup Required"})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs(q,{size:"sm",variant:"outline",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:m=>{m.stopPropagation(),m.preventDefault(),console.log("[TransformationNode] Configure clicked:",{id:e,transformationType:t.transformationType,config:t.transformationConfig,isFieldMapping:t.transformationType==="field-mapping"}),a(!0)},onMouseDown:m=>m.stopPropagation(),children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Se.Left,className:"w-3 h-3 bg-purple-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Se.Right,className:"w-3 h-3 bg-purple-500 border-2 border-white"})]}),t.transformationType==="field-mapping"?s.jsx(dt,{open:r,onOpenChange:a,children:s.jsx(ot,{className:"max-w-[95vw] max-h-[95vh] p-0 z-[9999]",style:{zIndex:9999},children:s.jsx(q0,{onClose:()=>a(!1),onSave:m=>{t.onConfigChange({fieldMappings:m}),a(!1)},initialMappingName:`${c} - ${e}`,sampleStructures:[]})})}):s.jsx(dt,{open:r,onOpenChange:a,children:s.jsxs(ot,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(ut,{children:s.jsxs(ht,{children:["Configure ",c]})}),s.jsx("div",{className:"mt-4 p-4 border border-dashed border-muted-foreground rounded-lg text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," configuration panel coming soon..."]})})]})})]})},dn=({id:e,data:t,selected:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(t.routingType||"conditional"),[l,c]=h.useState(t.conditions||[]),{setNodes:d,setEdges:u}=zr(),m=()=>{d(j=>j.filter(v=>v.id!==e)),u(j=>j.filter(v=>v.source!==e&&v.target!==e))},p=()=>{c([...l,{field:"",operator:"equals",value:"",route:""}])},x=(j,v,y)=>{const N=[...l];N[j]={...N[j],[v]:y},c(N)},g=j=>{c(l.filter((v,y)=>y!==j))},f=()=>{t.onConfigChange?.(e,{routingType:o,conditions:l}),a(!1)},w=t.conditions&&t.conditions.length>0;return s.jsxs(s.Fragment,{children:[s.jsxs(W,{className:"min-w-[200px] shadow-lg border-2 hover:border-primary/20 transition-colors bg-black text-white relative group",children:[t.showDeleteButton&&s.jsx(q,{variant:"ghost",size:"sm",onClick:m,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-destructive text-destructive-foreground opacity-100 transition-opacity rounded-full shadow-md hover:bg-destructive/80",title:"Delete routing node",children:s.jsx(Nt,{className:"h-3 w-3"})}),s.jsx(te,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Em,{className:"h-5 w-5 text-white"}),s.jsx(re,{className:"text-sm font-medium text-white",children:"Routing Logic"})]}),s.jsx(ae,{variant:w?"default":"secondary",className:"text-xs bg-white text-black",children:w?"Configured":"Setup Required"})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs(q,{variant:"outline",size:"sm",className:"w-full bg-gray-800 text-white border-gray-700 hover:bg-gray-700",onClick:j=>{j.stopPropagation(),j.preventDefault(),a(!0)},onMouseDown:j=>j.stopPropagation(),children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Configure"]})}),s.jsx(Xt,{type:"target",position:Se.Left,className:"w-3 h-3 bg-orange-500 border-2 border-white"}),s.jsx(Xt,{type:"source",position:Se.Right,id:"default",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"30%"}}),s.jsx(Xt,{type:"source",position:Se.Right,id:"route1",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"50%"}}),s.jsx(Xt,{type:"source",position:Se.Right,id:"route2",className:"w-3 h-3 bg-orange-500 border-2 border-white",style:{top:"70%"}})]}),s.jsx(dt,{open:r,onOpenChange:a,children:s.jsxs(ot,{className:"max-w-2xl z-[9999]",style:{zIndex:9999},children:[s.jsx(ut,{children:s.jsx(ht,{children:"Configure Routing Logic"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"routingType",children:"Routing Type"}),s.jsxs(G,{value:o,onValueChange:i,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select routing type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"conditional",children:"Conditional Routing"}),s.jsx(M,{value:"content-based",children:"Content-Based Routing"}),s.jsx(M,{value:"load-balance",children:"Load Balancing"}),s.jsx(M,{value:"round-robin",children:"Round Robin"})]})]})]}),o==="conditional"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{children:"Routing Conditions"}),s.jsx(q,{onClick:p,size:"sm",variant:"outline",children:"Add Condition"})]}),l.map((j,v)=>s.jsxs("div",{className:"grid grid-cols-5 gap-2 items-end",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Field"}),s.jsx(_,{placeholder:"Field name",value:j.field,onChange:y=>x(v,"field",y.target.value)})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Operator"}),s.jsxs(G,{value:j.operator,onValueChange:y=>x(v,"operator",y),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"equals",children:"Equals"}),s.jsx(M,{value:"contains",children:"Contains"}),s.jsx(M,{value:"starts-with",children:"Starts With"}),s.jsx(M,{value:"greater-than",children:"Greater Than"}),s.jsx(M,{value:"less-than",children:"Less Than"})]})]})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Value"}),s.jsx(_,{placeholder:"Condition value",value:j.value,onChange:y=>x(v,"value",y.target.value)})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-xs",children:"Route"}),s.jsxs(G,{value:j.route,onValueChange:y=>x(v,"route",y),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"default",children:"Default"}),s.jsx(M,{value:"route1",children:"Route 1"}),s.jsx(M,{value:"route2",children:"Route 2"})]})]})]}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>g(v),children:s.jsx(Nt,{className:"h-3 w-3"})})]},v))]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(q,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(q,{onClick:f,children:"Save Configuration"})]})]})]})})]})},Nne=({onAddNode:e})=>{const t=[{category:"BPMN Events",icon:rl,nodes:[{type:"start-process",label:"Start Process",icon:Ur},{type:"end-process",label:"End Process",icon:D8},{type:"start-event",label:"Start Event",icon:rl},{type:"end-event",label:"End Event",icon:rl},{type:"intermediate-event",label:"Intermediate Event",icon:rl},{type:"timer-event",label:"Timer Event",icon:F8},{type:"message-event",label:"Message Event",icon:zs},{type:"error-event",label:"Error Event",icon:Sn}]},{category:"BPMN Activities",icon:At,nodes:[{type:"task",label:"Task",icon:At},{type:"service-task",label:"Service Task",icon:wn},{type:"user-task",label:"User Task",icon:Ds},{type:"script-task",label:"Script Task",icon:xn},{type:"manual-task",label:"Manual Task",icon:Fy},{type:"business-rule-task",label:"Business Rule Task",icon:vg},{type:"receive-task",label:"Receive Task",icon:zs},{type:"send-task",label:"Send Task",icon:zs}]},{category:"BPMN Gateways",icon:Di,nodes:[{type:"exclusive-gateway",label:"Exclusive Gateway",icon:Di},{type:"parallel-gateway",label:"Parallel Gateway",icon:Di},{type:"inclusive-gateway",label:"Inclusive Gateway",icon:Di},{type:"event-gateway",label:"Event Gateway",icon:Di},{type:"complex-gateway",label:"Complex Gateway",icon:Di}]},{category:"Mapping & Transformation",icon:jl,nodes:[{type:"field-mapping",label:"Field Mapping",icon:jl},{type:"data-transformation",label:"Data Transformation",icon:vt},{type:"format-conversion",label:"Format Conversion",icon:jl},{type:"value-mapping",label:"Value Mapping",icon:Ms},{type:"structure-mapping",label:"Structure Mapping",icon:Mu},{type:"conditional-mapping",label:"Conditional Mapping",icon:$a},{type:"aggregation",label:"Aggregation",icon:AC},{type:"split-mapping",label:"Split Mapping",icon:$a}]},{category:"File Transformations",icon:Vs,nodes:[{type:"csv-to-xml",label:"CSV to XML",icon:Vs},{type:"json-to-xml",label:"JSON to XML",icon:Vs},{type:"xml-to-json",label:"XML to JSON",icon:Vs},{type:"excel-to-csv",label:"Excel to CSV",icon:Vs},{type:"pdf-extractor",label:"PDF Extractor",icon:Vs},{type:"file-splitter",label:"File Splitter",icon:$a},{type:"file-merger",label:"File Merger",icon:AC},{type:"file-validator",label:"File Validator",icon:ws}]},{category:"Scripts & Functions",icon:xn,nodes:[{type:"javascript-script",label:"JavaScript Script",icon:xn},{type:"groovy-script",label:"Groovy Script",icon:xn},{type:"xslt-transformation",label:"XSLT Transformation",icon:xn},{type:"custom-function",label:"Custom Function",icon:wn},{type:"lookup-function",label:"Lookup Function",icon:Ms},{type:"calculation-function",label:"Calculation Function",icon:Fy},{type:"validation-function",label:"Validation Function",icon:ws},{type:"enrichment-function",label:"Enrichment Function",icon:wn}]},{category:"Flow Routing",icon:Em,nodes:[{type:"content-router",label:"Content Router",icon:Em},{type:"recipient-list",label:"Recipient List",icon:Ds},{type:"message-filter",label:"Message Filter",icon:bi},{type:"dynamic-router",label:"Dynamic Router",icon:Em},{type:"load-balancer",label:"Load Balancer",icon:$a},{type:"failover-router",label:"Failover Router",icon:vt},{type:"multicast",label:"Multicast",icon:$a},{type:"wire-tap",label:"Wire Tap",icon:Ms}]},{category:"Security",icon:ws,nodes:[{type:"encryption",label:"Encryption",icon:oo},{type:"decryption",label:"Decryption",icon:ma},{type:"digital-signature",label:"Digital Signature",icon:vg},{type:"authentication",label:"Authentication",icon:Ds},{type:"authorization",label:"Authorization",icon:ws},{type:"certificate-validation",label:"Certificate Validation",icon:vg},{type:"secure-transport",label:"Secure Transport",icon:oo},{type:"access-control",label:"Access Control",icon:ma}]},{category:"Adapters & Connectors",icon:Pr,nodes:[{type:"http-adapter",label:"HTTP Adapter",icon:Pr},{type:"ftp-adapter",label:"FTP/SFTP Adapter",icon:Uk},{type:"database-adapter",label:"Database Adapter",icon:ds},{type:"mail-adapter",label:"Mail Adapter",icon:Au},{type:"file-adapter",label:"File Adapter",icon:Vs},{type:"jms-adapter",label:"JMS Adapter",icon:zs},{type:"soap-adapter",label:"SOAP Adapter",icon:Pr},{type:"rest-adapter",label:"REST Adapter",icon:Pr}]}];return s.jsxs(W,{className:"w-64 h-full",children:[s.jsx(te,{className:"pb-3",children:s.jsx(re,{className:"text-sm",children:"Process Steps"})}),s.jsx(K,{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-200px)]",children:t.map(n=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[s.jsx(n.icon,{className:"h-3 w-3"}),n.category]}),s.jsx("div",{className:"grid gap-1",children:n.nodes.map(r=>s.jsxs(q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-xs",onClick:()=>e(r.type,n.category),children:[s.jsx(r.icon,{className:"h-3 w-3 mr-2"}),r.label]},r.type))}),s.jsx(mt,{})]},n.category))})]})},bne=({selectedNode:e,flowStats:t})=>{const n=a=>({"http-receiver":"HTTP Receiver","http-sender":"HTTP Sender","content-router":"Content Router","data-mapper":"Data Mapper","message-filter":"Message Filter","error-handler":"Error Handler",delay:"Delay",retry:"Retry Logic","database-adapter":"Database Adapter","mail-adapter":"Mail Adapter","ftp-adapter":"FTP Adapter",enricher:"Data Enricher",validator:"Data Validator",splitter:"Message Splitter",aggregator:"Message Aggregator",conditional:"Conditional Logic",translator:"Data Translator","circuit-breaker":"Circuit Breaker","dead-letter":"Dead Letter Queue",start:"Start Node",stop:"Stop Node"})[a]||a,r=a=>{switch(a){case"Low":return"bg-green-100 text-success";case"Medium":return"bg-yellow-100 text-warning";case"High":return"bg-red-100 text-destructive";default:return"bg-gray-100 text-muted-foreground"}};return s.jsxs("div",{className:"w-64 space-y-4",children:[s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs(re,{className:"text-sm flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Properties"]})}),s.jsx(K,{className:"space-y-3",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node Type"}),s.jsx(ae,{variant:"secondary",className:"text-xs",children:n(e.type||"unknown")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Node ID"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Position"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["X: ",Math.round(e.position.x),", Y: ",Math.round(e.position.y)]})]}),e.data&&Object.keys(e.data).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium",children:"Configuration"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.data.configured?s.jsx(ae,{variant:"default",className:"text-xs",children:"Configured"}):s.jsx(ae,{variant:"outline",className:"text-xs",children:"Not Configured"})})]})]}):s.jsx("div",{className:"text-xs text-muted-foreground text-center py-4",children:"Select a node to view properties"})})]}),s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs(re,{className:"text-sm flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4"}),"Flow Status"]})}),s.jsxs(K,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalNodes})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connections"}),s.jsx("div",{className:"text-sm font-semibold",children:t.totalConnections})]})]}),s.jsx(mt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Est. Execution"})]}),s.jsx("div",{className:"text-xs font-medium",children:t.estimatedExecutionTime})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-3 w-3"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Complexity"})]}),s.jsx(ae,{className:`text-xs ${r(t.complexity)}`,children:t.complexity})]})]})]})]})},Sne={"start-process":yne,"end-process":Es,"start-event":Es,"end-event":Es,"intermediate-event":Es,"timer-event":Es,"message-event":Es,"error-event":Es,task:ze,"service-task":ze,"user-task":ze,"script-task":ze,"manual-task":ze,"business-rule-task":ze,"receive-task":ze,"send-task":ze,"exclusive-gateway":dn,"parallel-gateway":dn,"inclusive-gateway":dn,"event-gateway":dn,"complex-gateway":dn,"field-mapping":ze,"data-transformation":ze,"format-conversion":ze,"value-mapping":ze,"structure-mapping":ze,"conditional-mapping":ze,aggregation:ze,"split-mapping":ze,"csv-to-xml":ze,"json-to-xml":ze,"xml-to-json":ze,"excel-to-csv":ze,"pdf-extractor":ze,"file-splitter":ze,"file-merger":ze,"file-validator":ze,"javascript-script":ze,"groovy-script":ze,"xslt-transformation":ze,"custom-function":ze,"lookup-function":ze,"calculation-function":ze,"validation-function":ze,"enrichment-function":ze,"content-router":dn,"recipient-list":dn,"message-filter":dn,"dynamic-router":dn,"load-balancer":dn,"failover-router":dn,multicast:dn,"wire-tap":dn,encryption:ze,decryption:ze,"digital-signature":ze,authentication:ze,authorization:ze,"certificate-validation":ze,"secure-transport":ze,"access-control":ze,"http-adapter":Es,"ftp-adapter":Es,"database-adapter":Es,"mail-adapter":Es,"file-adapter":Es,"jms-adapter":Es,"soap-adapter":Es,"rest-adapter":Es},Cne=()=>[{id:"start-process-1",type:"start-process",position:{x:100,y:200},data:{senderComponent:"",sourceAdapter:"",isAsync:!0,configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}},{id:"end-process-1",type:"end-process",position:{x:500,y:200},data:{adapterType:"end-process",configured:!1,showDeleteButton:!1,onConfigChange:()=>{}}}],Ene=()=>[{id:"start-to-end",source:"start-process-1",target:"end-process-1",type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}}];function Tne({flowId:e,onFlowChange:t}){const[n,r,a]=oI(Cne()),[o,i,l]=iI(Ene()),[c,d]=h.useState(null),[u,m]=h.useState(null),p=h.useMemo(()=>n.filter(j=>j.selected).map(j=>j.id),[n]);h.useEffect(()=>{if(t){const j=n.map(v=>({id:v.id,type:v.type,position:v.position,data:v.data}));t({steps:j})}},[n,o,t]);const x=h.useCallback(j=>{const v={...j,type:"smoothstep",animated:!0,style:{stroke:"hsl(var(--primary))",strokeWidth:2},markerEnd:{type:nr.ArrowClosed,color:"hsl(var(--primary))"}};i(y=>zp(v,y))},[i]),g=h.useCallback((j,v)=>{console.log("[VisualOrchestrationEditor] Node clicked:",{nodeId:v.id,nodeType:v.type}),d(v),m(v.id),setTimeout(()=>m(null),3e3)},[]),f=h.useCallback((j,v)=>{console.log("[VisualOrchestrationEditor] Adding new node:",{type:j,category:v});const y=`${j}-${Date.now()}`,N={id:y,type:j,position:{x:Math.random()*400+200,y:Math.random()*300+150},data:{adapterType:j,transformationType:j,routingType:j,configured:!1,showDeleteButton:!1,onConfigChange:b=>{console.log("[VisualOrchestrationEditor] Node config changed:",{nodeId:y,config:b}),r(E=>E.map(S=>S.id===y?{...S,data:{...S.data,...b,configured:!0}}:S))}}};console.log("[VisualOrchestrationEditor] Created new node:",N),r(b=>{const E=b.concat(N);return console.log("[VisualOrchestrationEditor] Updated nodes list:",E),E})},[r]);h.useCallback(()=>{r(j=>j.filter(v=>!v.selected)),i(j=>j.filter(v=>!p.includes(v.source)&&!p.includes(v.target)))},[p,r,i]);const w=h.useMemo(()=>{const j=n.length,v=o.length;let y="Low";j>10||v>15?y="High":(j>5||v>8)&&(y="Medium");const N=j*100+v*50,b=N<1e3?`${N}ms`:`${(N/1e3).toFixed(1)}s`;return{totalNodes:j,totalConnections:v,estimatedExecutionTime:b,complexity:y}},[n,o]);return s.jsxs("div",{className:"h-full w-full flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Nne,{onAddNode:f})}),s.jsx("div",{className:"flex-1 relative",children:s.jsxs(aI,{nodes:n.map(j=>({...j,data:{...j.data,showDeleteButton:u===j.id}})),edges:o,onNodesChange:a,onEdgesChange:l,onConnect:x,onNodeClick:g,nodeTypes:Sne,fitView:!0,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",className:"bg-background",children:[s.jsx(uI,{showInteractive:!1}),s.jsx(mI,{}),s.jsx(cI,{variant:ia.Dots,gap:12,size:1})]})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(bne,{selectedNode:c,flowStats:w})})]})}function Pne(){_s();const{navigateBack:e}=jc(),{toast:t}=He(),{user:n}=Hr(),[r,a]=h.useState(!0),[o,i]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(""),[m,p]=h.useState(""),[x,g]=h.useState(""),[f,w]=h.useState(""),[j,v]=h.useState(""),[y,N]=h.useState([]),[b,E]=h.useState([]),[S,A]=h.useState([]),[O,I]=h.useState(!0),[F,L]=h.useState(!1);h.useState(!1),c4(()=>{i(""),c(""),u(""),p(""),g(""),w(""),v(""),a(!0)}),h.useEffect(()=>{k()},[]);const k=async()=>{try{I(!0);const T=await na.getAllBusinessComponents();T.success&&T.data&&E(T.data);try{const R=await ee.get("/adapters");R.data&&A(R.data)}catch(R){console.warn("Could not load adapters:",R),A([])}}catch(T){console.error("Error loading component data:",T),t({title:"Error",description:"Failed to load component data. Some features may not work properly.",variant:"destructive"})}finally{I(!1)}},P=async()=>{if(!l.trim()){t({title:"Validation Error",description:"Unique Flow ID is required.",variant:"destructive"});return}try{L(!0);const T={flowId:l.trim(),flowName:l.trim(),description:d.trim()||`Orchestration flow with ID: ${l.trim()}`,sourceBusinessComponentId:m||null,targetBusinessComponentId:x||null,sourceAdapterId:f||null,targetAdapterId:j||null,orchestrationSteps:y,createdBy:n?.id||n?.username||"unknown"};(await ee.post("/flow-composition/orchestration",T)).data&&(t({title:"Success",description:`Orchestration flow "${l}" has been created successfully.`}),e("/dashboard"))}catch(T){console.error("Error saving orchestration flow:",T),t({title:"Save Failed",description:T.response?.data?.message||"Failed to save the orchestration flow. Please try again.",variant:"destructive"})}finally{L(!1)}};return r?s.jsxs("div",{className:"h-screen bg-background overflow-hidden",children:[s.jsxs("div",{className:"h-24 border-b border-border px-6 flex flex-col justify-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard"),className:"gap-2",children:[s.jsx(fp,{className:"h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Visual Orchestration Editor"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Design complex workflows with multiple systems, routing, and business logic"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:P,disabled:F||!l.trim(),className:"flex items-center gap-2",children:[F?s.jsx(gt,{className:"h-4 w-4 animate-spin"}):s.jsx(ir,{className:"h-4 w-4"}),"Save Flow"]}),s.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Cancel"]})]}),s.jsxs(Xe,{className:"max-w-md",children:[s.jsx(h8,{className:"h-4 w-4"}),s.jsx(Ge,{className:"text-xs",children:"The Visual Orchestration Flow Editor is currently under development. This includes drag-and-drop workflow design, message routing, and error handling capabilities."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 max-w-md",children:[s.jsx(C,{htmlFor:"uniqueFlowId",className:"text-sm font-medium whitespace-nowrap",children:"Unique Flow ID:"}),s.jsx(_,{id:"uniqueFlowId",placeholder:"Enter unique orchestration flow ID",value:l,onChange:T=>c(T.target.value),className:"flex-1"})]})]}),s.jsx("div",{className:"h-[calc(100vh-96px)]",children:s.jsx(Tne,{flowId:l,onFlowChange:T=>{N(T.steps||[])}})})]}):null}var RE=1,Ane=.9,kne=.8,Rne=.17,Gg=.1,Jg=.999,Mne=.9999,Dne=.99,Fne=/[\\\/_+.#"@\[\(\{&]/,One=/[\\\/_+.#"@\[\(\{&]/g,Ine=/[\s-]/,KI=/[\s-]/g;function Sj(e,t,n,r,a,o,i){if(o===t.length)return a===e.length?RE:Dne;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(o),d=n.indexOf(c,a),u=0,m,p,x,g;d>=0;)m=Sj(e,t,n,r,d+1,o+1,i),m>u&&(d===a?m*=RE:Fne.test(e.charAt(d-1))?(m*=kne,x=e.slice(a,d-1).match(One),x&&a>0&&(m*=Math.pow(Jg,x.length))):Ine.test(e.charAt(d-1))?(m*=Ane,g=e.slice(a,d-1).match(KI),g&&a>0&&(m*=Math.pow(Jg,g.length))):(m*=Rne,a>0&&(m*=Math.pow(Jg,d-a))),e.charAt(d)!==t.charAt(o)&&(m*=Mne)),(m<Gg&&n.charAt(d-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(d-1)!==r.charAt(o))&&(p=Sj(e,t,n,r,d+1,o+2,i),p*Gg>m&&(m=p*Gg)),m>u&&(u=m),d=n.indexOf(c,d+1);return i[l]=u,u}function ME(e){return e.toLowerCase().replace(KI," ")}function Lne(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Sj(e,t,ME(e),ME(t),0,0,{})}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}function Al(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function _ne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function YI(...e){return t=>e.forEach(n=>_ne(n,t))}function ih(...e){return h.useCallback(YI(...e),e)}function $ne(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function d(m){const{scope:p,children:x,...g}=m,f=p?.[e][c]||l,w=h.useMemo(()=>g,Object.values(g));return h.createElement(f.Provider,{value:w},x)}function u(m,p){const x=p?.[e][c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Une(a,...t)]}function Une(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const Cj=globalThis?.document?h.useLayoutEffect:()=>{},Vne=ju.useId||(()=>{});let Bne=0;function Qg(e){const[t,n]=h.useState(Vne());return Cj(()=>{e||n(r=>r??String(Bne++))},[e]),e||(t?`radix-${t}`:"")}function pi(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Hne({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=qne({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=pi(n),c=h.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[o,e,a,l]);return[i,c]}function qne({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,a=h.useRef(r),o=pi(t);return h.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}const W0=h.forwardRef((e,t)=>{const{children:n,...r}=e,a=h.Children.toArray(n),o=a.find(Wne);if(o){const i=o.props.children,l=a.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return h.createElement(Ej,Os({},r,{ref:t}),h.isValidElement(i)?h.cloneElement(i,void 0,l):null)}return h.createElement(Ej,Os({},r,{ref:t}),n)});W0.displayName="Slot";const Ej=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...Kne(r,n.props),ref:t?YI(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});Ej.displayName="SlotClone";const zne=({children:e})=>h.createElement(h.Fragment,null,e);function Wne(e){return h.isValidElement(e)&&e.type===zne}function Kne(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{o(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}const Yne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kn=Yne.reduce((e,t)=>{const n=h.forwardRef((r,a)=>{const{asChild:o,...i}=r,l=o?W0:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,Os({},i,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Xne(e,t){e&&vr.flushSync(()=>e.dispatchEvent(t))}function Gne(e,t=globalThis?.document){const n=pi(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Tj="dismissableLayer.update",Jne="dismissableLayer.pointerDownOutside",Qne="dismissableLayer.focusOutside";let DE;const Zne=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ere=h.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,u=h.useContext(Zne),[m,p]=h.useState(null),x=(n=m?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,g]=h.useState({}),f=ih(t,A=>p(A)),w=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(j),y=m?w.indexOf(m):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,E=tre(A=>{const O=A.target,I=[...u.branches].some(F=>F.contains(O));!b||I||(o?.(A),l?.(A),A.defaultPrevented||c?.())},x),S=sre(A=>{const O=A.target;[...u.branches].some(F=>F.contains(O))||(i?.(A),l?.(A),A.defaultPrevented||c?.())},x);return Gne(A=>{y===u.layers.size-1&&(a?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},x),h.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),FE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=DE)}},[m,x,r,u]),h.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),FE())},[m,u]),h.useEffect(()=>{const A=()=>g({});return document.addEventListener(Tj,A),()=>document.removeEventListener(Tj,A)},[]),h.createElement(Kn.div,Os({},d,{ref:f,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:Al(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Al(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Al(e.onPointerDownCapture,E.onPointerDownCapture)}))});function tre(e,t=globalThis?.document){const n=pi(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){XI(Jne,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function sre(e,t=globalThis?.document){const n=pi(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&XI(Qne,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FE(){const e=new CustomEvent(Tj);document.dispatchEvent(e)}function XI(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Xne(a,o):a.dispatchEvent(o)}const Zg="focusScope.autoFocusOnMount",ev="focusScope.autoFocusOnUnmount",OE={bubbles:!1,cancelable:!0},nre=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=pi(a),u=pi(o),m=h.useRef(null),p=ih(t,f=>c(f)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(E){if(x.paused||!l)return;const S=E.target;l.contains(S)?m.current=S:Ma(m.current,{select:!0})},y=function(E){if(x.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||Ma(m.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&Ma(l)};var f=v,w=y,j=N;document.addEventListener("focusin",v),document.addEventListener("focusout",y);const b=new MutationObserver(N);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){LE.add(x);const f=document.activeElement;if(!l.contains(f)){const j=new CustomEvent(Zg,OE);l.addEventListener(Zg,d),l.dispatchEvent(j),j.defaultPrevented||(rre(cre(GI(l)),{select:!0}),document.activeElement===f&&Ma(l))}return()=>{l.removeEventListener(Zg,d),setTimeout(()=>{const j=new CustomEvent(ev,OE);l.addEventListener(ev,u),l.dispatchEvent(j),j.defaultPrevented||Ma(f??document.body,{select:!0}),l.removeEventListener(ev,u),LE.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(f=>{if(!n&&!r||x.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,j=document.activeElement;if(w&&j){const v=f.currentTarget,[y,N]=are(v);y&&N?!f.shiftKey&&j===N?(f.preventDefault(),n&&Ma(y,{select:!0})):f.shiftKey&&j===y&&(f.preventDefault(),n&&Ma(N,{select:!0})):j===v&&f.preventDefault()}},[n,r,x.paused]);return h.createElement(Kn.div,Os({tabIndex:-1},i,{ref:p,onKeyDown:g}))});function rre(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ma(r,{select:t}),document.activeElement!==n)return}function are(e){const t=GI(e),n=IE(t,e),r=IE(t.reverse(),e);return[n,r]}function GI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function IE(e,t){for(const n of e)if(!ore(n,{upTo:t}))return n}function ore(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ire(e){return e instanceof HTMLInputElement&&"select"in e}function Ma(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ire(e)&&t&&e.select()}}const LE=lre();function lre(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=_E(e,t),e.unshift(t)},remove(t){var n;e=_E(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function _E(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cre(e){return e.filter(t=>t.tagName!=="A")}const dre=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?pN.createPortal(h.createElement(Kn.div,Os({},a,{ref:t})),r):null});function ure(e,t){return h.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const Tx=e=>{const{present:t,children:n}=e,r=hre(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=ih(r.ref,a.ref);return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};Tx.displayName="Presence";function hre(e){const[t,n]=h.useState(),r=h.useRef({}),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ure(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Jh(r.current);o.current=l==="mounted"?d:"none"},[l]),Cj(()=>{const d=r.current,u=a.current;if(u!==e){const p=o.current,x=Jh(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Cj(()=>{if(t){const d=m=>{const x=Jh(r.current).includes(m.animationName);m.target===t&&x&&vr.flushSync(()=>c("ANIMATION_END"))},u=m=>{m.target===t&&(o.current=Jh(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Jh(e){return e?.animationName||"none"}let tv=0;function mre(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:$E()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:$E()),tv++,()=>{tv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),tv--}},[])}function $E(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var JI=ZN(),sv=function(){},Px=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:sv,onWheelCapture:sv,onTouchMoveCapture:sv}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,x=e.noIsolation,g=e.inert,f=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,v=Xf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=p,N=QN([n,t]),b=Wt(Wt({},v),a);return h.createElement(h.Fragment,null,u&&h.createElement(y,{sideCar:JI,removeScrollBar:d,shards:m,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!f,lockRef:n}),i?h.cloneElement(h.Children.only(l),Wt(Wt({},b),{ref:N})):h.createElement(j,Wt({},b,{className:c,ref:N}),l))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:Sl,zeroRight:bl};var Pj=!1;if(typeof window<"u")try{var Qh=Object.defineProperty({},"passive",{get:function(){return Pj=!0,!0}});window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{Pj=!1}var _i=Pj?{passive:!1}:!1,pre=function(e){return e.tagName==="TEXTAREA"},QI=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!pre(e)&&n[t]==="visible")},fre=function(e){return QI(e,"overflowY")},xre=function(e){return QI(e,"overflowX")},UE=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=ZI(e,n);if(r){var a=eL(e,n),o=a[1],i=a[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},gre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},vre=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZI=function(e,t){return e==="v"?fre(t):xre(t)},eL=function(e,t){return e==="v"?gre(t):vre(t)},yre=function(e,t){return e==="h"&&t==="rtl"?-1:1},jre=function(e,t,n,r,a){var o=yre(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,p=0;do{var x=eL(e,l),g=x[0],f=x[1],w=x[2],j=f-w-o*g;(g||j)&&ZI(e,l)&&(m+=j,p+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(m===0||!a)||!u&&(p===0||!a))&&(d=!0),d},Zh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VE=function(e){return[e.deltaX,e.deltaY]},BE=function(e){return e&&"current"in e?e.current:e},wre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Nre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bre=0,$i=[];function Sre(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(bre++)[0],o=h.useState(function(){return Jf()})[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=JN([e.lockRef.current],(e.shards||[]).map(BE),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(f,w){if("touches"in f&&f.touches.length===2)return!i.current.allowPinchZoom;var j=Zh(f),v=n.current,y="deltaX"in f?f.deltaX:v[0]-j[0],N="deltaY"in f?f.deltaY:v[1]-j[1],b,E=f.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in f&&S==="h"&&E.type==="range")return!1;var A=UE(S,E);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=UE(S,E)),!A)return!1;if(!r.current&&"changedTouches"in f&&(y||N)&&(r.current=b),!b)return!0;var O=r.current||b;return jre(O,w,f,O==="h"?y:N,!0)},[]),c=h.useCallback(function(f){var w=f;if(!(!$i.length||$i[$i.length-1]!==o)){var j="deltaY"in w?VE(w):Zh(w),v=t.current.filter(function(b){return b.name===w.type&&b.target===w.target&&wre(b.delta,j)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(BE).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(f,w,j,v){var y={name:f,delta:w,target:j,should:v};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=h.useCallback(function(f){n.current=Zh(f),r.current=void 0},[]),m=h.useCallback(function(f){d(f.type,VE(f),f.target,l(f,e.lockRef.current))},[]),p=h.useCallback(function(f){d(f.type,Zh(f),f.target,l(f,e.lockRef.current))},[]);h.useEffect(function(){return $i.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,_i),document.addEventListener("touchmove",c,_i),document.addEventListener("touchstart",u,_i),function(){$i=$i.filter(function(f){return f!==o}),document.removeEventListener("wheel",c,_i),document.removeEventListener("touchmove",c,_i),document.removeEventListener("touchstart",u,_i)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:Nre(a)}):null,x?h.createElement(t0,{gapMode:"margin"}):null)}const Cre=e0(JI,Sre);var tL=h.forwardRef(function(e,t){return h.createElement(Px,Wt({},e,{ref:t,sideCar:Cre}))});tL.classNames=Px.classNames;const sL="Dialog",[nL,Yve]=$ne(sL),[Ere,Pi]=nL(sL),Tre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=Hne({prop:r,defaultProp:a,onChange:o});return h.createElement(Ere,{scope:t,triggerRef:l,contentRef:c,contentId:Qg(),titleId:Qg(),descriptionId:Qg(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i},n)},rL="DialogPortal",[Pre,aL]=nL(rL,{forceMount:void 0}),Are=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Pi(rL,t);return h.createElement(Pre,{scope:t,forceMount:n},h.Children.map(r,i=>h.createElement(Tx,{present:n||o.open},h.createElement(dre,{asChild:!0,container:a},i))))},Aj="DialogOverlay",kre=h.forwardRef((e,t)=>{const n=aL(Aj,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Pi(Aj,e.__scopeDialog);return o.modal?h.createElement(Tx,{present:r||o.open},h.createElement(Rre,Os({},a,{ref:t}))):null}),Rre=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Pi(Aj,n);return h.createElement(tL,{as:W0,allowPinchZoom:!0,shards:[a.contentRef]},h.createElement(Kn.div,Os({"data-state":iL(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),lu="DialogContent",Mre=h.forwardRef((e,t)=>{const n=aL(lu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Pi(lu,e.__scopeDialog);return h.createElement(Tx,{present:r||o.open},o.modal?h.createElement(Dre,Os({},a,{ref:t})):h.createElement(Fre,Os({},a,{ref:t})))}),Dre=h.forwardRef((e,t)=>{const n=Pi(lu,e.__scopeDialog),r=h.useRef(null),a=ih(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return _u(o)},[]),h.createElement(oL,Os({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Al(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Al(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Al(e.onFocusOutside,o=>o.preventDefault())}))}),Fre=h.forwardRef((e,t)=>{const n=Pi(lu,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return h.createElement(oL,Os({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}}))}),oL=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Pi(lu,n),c=h.useRef(null),d=ih(t,c);return mre(),h.createElement(h.Fragment,null,h.createElement(nre,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o},h.createElement(ere,Os({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iL(l.open)},i,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function iL(e){return e?"open":"closed"}const Ore=Tre,Ire=Are,Lre=kre,_re=Mre;var qc='[cmdk-group=""]',nv='[cmdk-group-items=""]',$re='[cmdk-group-heading=""]',K0='[cmdk-item=""]',HE=`${K0}:not([aria-disabled="true"])`,kj="cmdk-item-select",Io="data-value",Ure=(e,t,n)=>Lne(e,t,n),lL=h.createContext(void 0),lh=()=>h.useContext(lL),cL=h.createContext(void 0),Y0=()=>h.useContext(cL),dL=h.createContext(void 0),uL=h.forwardRef((e,t)=>{let n=zi(()=>{var H,z;return{search:"",value:(z=(H=e.value)!=null?H:e.defaultValue)!=null?z:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=zi(()=>new Set),a=zi(()=>new Map),o=zi(()=>new Map),i=zi(()=>new Set),l=hL(e),{label:c,children:d,value:u,onValueChange:m,filter:p,shouldFilter:x,loop:g,disablePointerSelection:f=!1,vimBindings:w=!0,...j}=e,v=h.useId(),y=h.useId(),N=h.useId(),b=h.useRef(null),E=Jre();fi(()=>{if(u!==void 0){let H=u.trim();n.current.value=H,S.emit()}},[u]),fi(()=>{E(6,U)},[]);let S=h.useMemo(()=>({subscribe:H=>(i.current.add(H),()=>i.current.delete(H)),snapshot:()=>n.current,setState:(H,z,Q)=>{var ie,he,Z;if(!Object.is(n.current[H],z)){if(n.current[H]=z,H==="search")L(),I(),E(1,F);else if(H==="value"&&(Q||E(5,U),((ie=l.current)==null?void 0:ie.value)!==void 0)){let le=z??"";(Z=(he=l.current).onValueChange)==null||Z.call(he,le);return}S.emit()}},emit:()=>{i.current.forEach(H=>H())}}),[]),A=h.useMemo(()=>({value:(H,z,Q)=>{var ie;z!==((ie=o.current.get(H))==null?void 0:ie.value)&&(o.current.set(H,{value:z,keywords:Q}),n.current.filtered.items.set(H,O(z,Q)),E(2,()=>{I(),S.emit()}))},item:(H,z)=>(r.current.add(H),z&&(a.current.has(z)?a.current.get(z).add(H):a.current.set(z,new Set([H]))),E(3,()=>{L(),I(),n.current.value||F(),S.emit()}),()=>{o.current.delete(H),r.current.delete(H),n.current.filtered.items.delete(H);let Q=k();E(4,()=>{L(),Q?.getAttribute("id")===H&&F(),S.emit()})}),group:H=>(a.current.has(H)||a.current.set(H,new Set),()=>{o.current.delete(H),a.current.delete(H)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:f,listId:v,inputId:N,labelId:y,listInnerRef:b}),[]);function O(H,z){var Q,ie;let he=(ie=(Q=l.current)==null?void 0:Q.filter)!=null?ie:Ure;return H?he(H,n.current.search,z):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let H=n.current.filtered.items,z=[];n.current.filtered.groups.forEach(ie=>{let he=a.current.get(ie),Z=0;he.forEach(le=>{let fe=H.get(le);Z=Math.max(fe,Z)}),z.push([ie,Z])});let Q=b.current;P().sort((ie,he)=>{var Z,le;let fe=ie.getAttribute("id"),be=he.getAttribute("id");return((Z=H.get(be))!=null?Z:0)-((le=H.get(fe))!=null?le:0)}).forEach(ie=>{let he=ie.closest(nv);he?he.appendChild(ie.parentElement===he?ie:ie.closest(`${nv} > *`)):Q.appendChild(ie.parentElement===Q?ie:ie.closest(`${nv} > *`))}),z.sort((ie,he)=>he[1]-ie[1]).forEach(ie=>{let he=b.current.querySelector(`${qc}[${Io}="${encodeURIComponent(ie[0])}"]`);he?.parentElement.appendChild(he)})}function F(){let H=P().find(Q=>Q.getAttribute("aria-disabled")!=="true"),z=H?.getAttribute(Io);S.setState("value",z||void 0)}function L(){var H,z,Q,ie;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let he=0;for(let Z of r.current){let le=(z=(H=o.current.get(Z))==null?void 0:H.value)!=null?z:"",fe=(ie=(Q=o.current.get(Z))==null?void 0:Q.keywords)!=null?ie:[],be=O(le,fe);n.current.filtered.items.set(Z,be),be>0&&he++}for(let[Z,le]of a.current)for(let fe of le)if(n.current.filtered.items.get(fe)>0){n.current.filtered.groups.add(Z);break}n.current.filtered.count=he}function U(){var H,z,Q;let ie=k();ie&&(((H=ie.parentElement)==null?void 0:H.firstChild)===ie&&((Q=(z=ie.closest(qc))==null?void 0:z.querySelector($re))==null||Q.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function k(){var H;return(H=b.current)==null?void 0:H.querySelector(`${K0}[aria-selected="true"]`)}function P(){var H;return Array.from((H=b.current)==null?void 0:H.querySelectorAll(HE))}function T(H){let z=P()[H];z&&S.setState("value",z.getAttribute(Io))}function R(H){var z;let Q=k(),ie=P(),he=ie.findIndex(le=>le===Q),Z=ie[he+H];(z=l.current)!=null&&z.loop&&(Z=he+H<0?ie[ie.length-1]:he+H===ie.length?ie[0]:ie[he+H]),Z&&S.setState("value",Z.getAttribute(Io))}function D(H){let z=k(),Q=z?.closest(qc),ie;for(;Q&&!ie;)Q=H>0?Xre(Q,qc):Gre(Q,qc),ie=Q?.querySelector(HE);ie?S.setState("value",ie.getAttribute(Io)):R(H)}let $=()=>T(P().length-1),V=H=>{H.preventDefault(),H.metaKey?$():H.altKey?D(1):R(1)},B=H=>{H.preventDefault(),H.metaKey?T(0):H.altKey?D(-1):R(-1)};return h.createElement(Kn.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:H=>{var z;if((z=j.onKeyDown)==null||z.call(j,H),!H.defaultPrevented)switch(H.key){case"n":case"j":{w&&H.ctrlKey&&V(H);break}case"ArrowDown":{V(H);break}case"p":case"k":{w&&H.ctrlKey&&B(H);break}case"ArrowUp":{B(H);break}case"Home":{H.preventDefault(),T(0);break}case"End":{H.preventDefault(),$();break}case"Enter":if(!H.nativeEvent.isComposing&&H.keyCode!==229){H.preventDefault();let Q=k();if(Q){let ie=new Event(kj);Q.dispatchEvent(ie)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:Zre},c),Ax(e,H=>h.createElement(cL.Provider,{value:S},h.createElement(lL.Provider,{value:A},H))))}),Vre=h.forwardRef((e,t)=>{var n,r;let a=h.useId(),o=h.useRef(null),i=h.useContext(dL),l=lh(),c=hL(e),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:i?.forceMount;fi(()=>{if(!d)return l.item(a,i?.id)},[d]);let u=mL(a,o,[e.value,e.children,o],e.keywords),m=Y0(),p=xi(E=>E.value&&E.value===u.current),x=xi(E=>d||l.filter()===!1?!0:E.search?E.filtered.items.get(a)>0:!0);h.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(kj,g),()=>E.removeEventListener(kj,g)},[x,e.onSelect,e.disabled]);function g(){var E,S;f(),(S=(E=c.current).onSelect)==null||S.call(E,u.current)}function f(){m.setState("value",u.current,!0)}if(!x)return null;let{disabled:w,value:j,onSelect:v,forceMount:y,keywords:N,...b}=e;return h.createElement(Kn.div,{ref:cu([o,t]),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||l.disablePointerSelection?void 0:f,onClick:w?void 0:g},e.children)}),Bre=h.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...o}=e,i=h.useId(),l=h.useRef(null),c=h.useRef(null),d=h.useId(),u=lh(),m=xi(x=>a||u.filter()===!1?!0:x.search?x.filtered.groups.has(i):!0);fi(()=>u.group(i),[]),mL(i,l,[e.value,e.heading,c]);let p=h.useMemo(()=>({id:i,forceMount:a}),[a]);return h.createElement(Kn.div,{ref:cu([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),Ax(e,x=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},h.createElement(dL.Provider,{value:p},x))))}),Hre=h.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=h.useRef(null),o=xi(i=>!i.search);return!n&&!o?null:h.createElement(Kn.div,{ref:cu([a,t]),...r,"cmdk-separator":"",role:"separator"})}),qre=h.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,o=Y0(),i=xi(u=>u.search),l=xi(u=>u.value),c=lh(),d=h.useMemo(()=>{var u;let m=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${K0}[${Io}="${encodeURIComponent(l)}"]`);return m?.getAttribute("id")},[]);return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement(Kn.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),n?.(u.target.value)}})}),zre=h.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,o=h.useRef(null),i=h.useRef(null),l=lh();return h.useEffect(()=>{if(i.current&&o.current){let c=i.current,d=o.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let p=c.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(u),m.unobserve(c)}}},[]),h.createElement(Kn.div,{ref:cu([o,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},Ax(e,c=>h.createElement("div",{ref:cu([i,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Wre=h.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:o,container:i,...l}=e;return h.createElement(Ore,{open:n,onOpenChange:r},h.createElement(Ire,{container:i},h.createElement(Lre,{"cmdk-overlay":"",className:a}),h.createElement(_re,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement(uL,{ref:t,...l}))))}),Kre=h.forwardRef((e,t)=>xi(n=>n.filtered.count===0)?h.createElement(Kn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Yre=h.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...o}=e;return h.createElement(Kn.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ax(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),cn=Object.assign(uL,{List:zre,Item:Vre,Input:qre,Group:Bre,Separator:Hre,Dialog:Wre,Empty:Kre,Loading:Yre});function Xre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Gre(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function hL(e){let t=h.useRef(e);return fi(()=>{t.current=e}),t}var fi=typeof window>"u"?h.useEffect:h.useLayoutEffect;function zi(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function cu(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function xi(e){let t=Y0(),n=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,n,n)}function mL(e,t,n,r=[]){let a=h.useRef(),o=lh();return fi(()=>{var i;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(Io,l),a.current=l}),a}var Jre=()=>{let[e,t]=h.useState(),n=zi(()=>new Map);return fi(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function Qre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ax({asChild:e,children:t},n){return e&&h.isValidElement(t)?h.cloneElement(Qre(t),{ref:t.ref},n(t.props.children)):n(t)}var Zre={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const pL=h.forwardRef(({className:e,...t},n)=>s.jsx(cn,{ref:n,className:ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));pL.displayName=cn.displayName;const fL=h.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(cn.Input,{ref:n,className:ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));fL.displayName=cn.Input.displayName;const xL=h.forwardRef(({className:e,...t},n)=>s.jsx(cn.List,{ref:n,className:ne("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));xL.displayName=cn.List.displayName;const gL=h.forwardRef((e,t)=>s.jsx(cn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));gL.displayName=cn.Empty.displayName;const vL=h.forwardRef(({className:e,...t},n)=>s.jsx(cn.Group,{ref:n,className:ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));vL.displayName=cn.Group.displayName;const eae=h.forwardRef(({className:e,...t},n)=>s.jsx(cn.Separator,{ref:n,className:ne("-mx-1 h-px bg-border",e),...t}));eae.displayName=cn.Separator.displayName;const yL=h.forwardRef(({className:e,...t},n)=>s.jsx(cn.Item,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));yL.displayName=cn.Item.displayName;function eo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function qE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jL(...e){return t=>{let n=!1;const r=e.map(a=>{const o=qE(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():qE(e[a],null)}}}}function bo(...e){return h.useCallback(jL(...e),e)}function wL(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=m=>{const{scope:p,children:x,...g}=m,f=p?.[e]?.[c]||l,w=h.useMemo(()=>g,Object.values(g));return s.jsx(f.Provider,{value:w,children:x})};d.displayName=o+"Provider";function u(m,p){const x=p?.[e]?.[c]||l,g=h.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,tae(a,...t)]}function tae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function NL(e){const t=sae(e),n=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(rae);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...i,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}function sae(e){const t=h.forwardRef((n,r)=>{const{children:a,...o}=n;if(h.isValidElement(a)){const i=oae(a),l=aae(o,a.props);return a.type!==h.Fragment&&(l.ref=r?jL(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nae=Symbol("radix.slottable");function rae(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nae}function aae(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function oae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var iae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ba=iae.reduce((e,t)=>{const n=NL(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lae(e,t){e&&vr.flushSync(()=>e.dispatchEvent(t))}function Gl(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function cae(e,t=globalThis?.document){const n=Gl(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dae="DismissableLayer",Rj="dismissableLayer.update",uae="dismissableLayer.pointerDownOutside",hae="dismissableLayer.focusOutside",zE,bL=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SL=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(bL),[u,m]=h.useState(null),p=u?.ownerDocument??globalThis?.document,[,x]=h.useState({}),g=bo(t,S=>m(S)),f=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=f.indexOf(w),v=u?f.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=j,b=fae(S=>{const A=S.target,O=[...d.branches].some(I=>I.contains(A));!N||O||(a?.(S),i?.(S),S.defaultPrevented||l?.())},p),E=xae(S=>{const A=S.target;[...d.branches].some(I=>I.contains(A))||(o?.(S),i?.(S),S.defaultPrevented||l?.())},p);return cae(S=>{v===d.layers.size-1&&(r?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),WE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zE)}},[u,p,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),WE())},[u,d]),h.useEffect(()=>{const S=()=>x({});return document.addEventListener(Rj,S),()=>document.removeEventListener(Rj,S)},[]),s.jsx(ba.div,{...c,ref:g,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:eo(e.onFocusCapture,E.onFocusCapture),onBlurCapture:eo(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:eo(e.onPointerDownCapture,b.onPointerDownCapture)})});SL.displayName=dae;var mae="DismissableLayerBranch",pae=h.forwardRef((e,t)=>{const n=h.useContext(bL),r=h.useRef(null),a=bo(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(ba.div,{...e,ref:a})});pae.displayName=mae;function fae(e,t=globalThis?.document){const n=Gl(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){CL(uae,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function xae(e,t=globalThis?.document){const n=Gl(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&CL(hae,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WE(){const e=new CustomEvent(Rj);document.dispatchEvent(e)}function CL(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lae(a,o):a.dispatchEvent(o)}var rv=0;function gae(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KE()),document.body.insertAdjacentElement("beforeend",e[1]??KE()),rv++,()=>{rv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rv--}},[])}function KE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var av="focusScope.autoFocusOnMount",ov="focusScope.autoFocusOnUnmount",YE={bubbles:!1,cancelable:!0},vae="FocusScope",EL=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=Gl(a),u=Gl(o),m=h.useRef(null),p=bo(t,f=>c(f)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let f=function(y){if(x.paused||!l)return;const N=y.target;l.contains(N)?m.current=N:Da(m.current,{select:!0})},w=function(y){if(x.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Da(m.current,{select:!0}))},j=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Da(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const v=new MutationObserver(j);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){GE.add(x);const f=document.activeElement;if(!l.contains(f)){const j=new CustomEvent(av,YE);l.addEventListener(av,d),l.dispatchEvent(j),j.defaultPrevented||(yae(Sae(TL(l)),{select:!0}),document.activeElement===f&&Da(l))}return()=>{l.removeEventListener(av,d),setTimeout(()=>{const j=new CustomEvent(ov,YE);l.addEventListener(ov,u),l.dispatchEvent(j),j.defaultPrevented||Da(f??document.body,{select:!0}),l.removeEventListener(ov,u),GE.remove(x)},0)}}},[l,d,u,x]);const g=h.useCallback(f=>{if(!n&&!r||x.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,j=document.activeElement;if(w&&j){const v=f.currentTarget,[y,N]=jae(v);y&&N?!f.shiftKey&&j===N?(f.preventDefault(),n&&Da(y,{select:!0})):f.shiftKey&&j===y&&(f.preventDefault(),n&&Da(N,{select:!0})):j===v&&f.preventDefault()}},[n,r,x.paused]);return s.jsx(ba.div,{tabIndex:-1,...i,ref:p,onKeyDown:g})});EL.displayName=vae;function yae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Da(r,{select:t}),document.activeElement!==n)return}function jae(e){const t=TL(e),n=XE(t,e),r=XE(t.reverse(),e);return[n,r]}function TL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function XE(e,t){for(const n of e)if(!wae(n,{upTo:t}))return n}function wae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nae(e){return e instanceof HTMLInputElement&&"select"in e}function Da(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nae(e)&&t&&e.select()}}var GE=bae();function bae(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=JE(e,t),e.unshift(t)},remove(t){e=JE(e,t),e[0]?.resume()}}}function JE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Sae(e){return e.filter(t=>t.tagName!=="A")}var mo=globalThis?.document?h.useLayoutEffect:()=>{},Cae=ju[" useId ".trim().toString()]||(()=>{}),Eae=0;function Tae(e){const[t,n]=h.useState(Cae());return mo(()=>{e||n(r=>r??String(Eae++))},[e]),e||(t?`radix-${t}`:"")}var Pae="Arrow",PL=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(ba.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});PL.displayName=Pae;var Aae=PL;function kae(e){const[t,n]=h.useState(void 0);return mo(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var X0="Popper",[AL,kL]=wL(X0),[Rae,RL]=AL(X0),ML=e=>{const{__scopePopper:t,children:n}=e,[r,a]=h.useState(null);return s.jsx(Rae,{scope:t,anchor:r,onAnchorChange:a,children:n})};ML.displayName=X0;var DL="PopperAnchor",FL=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=RL(DL,n),i=h.useRef(null),l=bo(t,i);return h.useEffect(()=>{o.onAnchorChange(r?.current||i.current)}),r?null:s.jsx(ba.div,{...a,ref:l})});FL.displayName=DL;var G0="PopperContent",[Mae,Dae]=AL(G0),OL=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:g,...f}=e,w=RL(G0,n),[j,v]=h.useState(null),y=bo(t,Z=>v(Z)),[N,b]=h.useState(null),E=kae(N),S=E?.width??0,A=E?.height??0,O=r+(o!=="center"?"-"+o:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],L=F.length>0,U={padding:I,boundary:F.filter(Oae),altBoundary:L},{refs:k,floatingStyles:P,placement:T,isPositioned:R,middlewareData:D}=dR({strategy:"fixed",placement:O,whileElementsMounted:(...Z)=>lR(...Z,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[uR({mainAxis:a+A,alignmentAxis:i}),c&&hR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?mR():void 0,...U}),c&&pR({...U}),fR({...U,apply:({elements:Z,rects:le,availableWidth:fe,availableHeight:be})=>{const{width:Ae,height:je}=le.reference,ke=Z.floating.style;ke.setProperty("--radix-popper-available-width",`${fe}px`),ke.setProperty("--radix-popper-available-height",`${be}px`),ke.setProperty("--radix-popper-anchor-width",`${Ae}px`),ke.setProperty("--radix-popper-anchor-height",`${je}px`)}}),N&&gR({element:N,padding:l}),Iae({arrowWidth:S,arrowHeight:A}),p&&xR({strategy:"referenceHidden",...U})]}),[$,V]=_L(T),B=Gl(g);mo(()=>{R&&B?.()},[R,B]);const H=D.arrow?.x,z=D.arrow?.y,Q=D.arrow?.centerOffset!==0,[ie,he]=h.useState();return mo(()=>{j&&he(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:R?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Mae,{scope:n,placedSide:$,onArrowChange:b,arrowX:H,arrowY:z,shouldHideArrow:Q,children:s.jsx(ba.div,{"data-side":$,"data-align":V,...f,ref:y,style:{...f.style,animation:R?void 0:"none"}})})})});OL.displayName=G0;var IL="PopperArrow",Fae={top:"bottom",right:"left",bottom:"top",left:"right"},LL=h.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=Dae(IL,r),i=Fae[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(Aae,{...a,ref:n,style:{...a.style,display:"block"}})})});LL.displayName=IL;function Oae(e){return e!==null}var Iae=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,i=a.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=_L(n),m={start:"0%",center:"50%",end:"100%"}[u],p=(a.arrow?.x??0)+l/2,x=(a.arrow?.y??0)+c/2;let g="",f="";return d==="bottom"?(g=i?m:`${p}px`,f=`${-c}px`):d==="top"?(g=i?m:`${p}px`,f=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,f=i?m:`${x}px`):d==="left"&&(g=`${r.floating.width+c}px`,f=i?m:`${x}px`),{data:{x:g,y:f}}}});function _L(e){const[t,n="center"]=e.split("-");return[t,n]}var Lae=ML,$L=FL,_ae=OL,$ae=LL,Uae="Portal",UL=h.forwardRef((e,t)=>{const{container:n,...r}=e,[a,o]=h.useState(!1);mo(()=>o(!0),[]);const i=n||a&&globalThis?.document?.body;return i?pN.createPortal(s.jsx(ba.div,{...r,ref:t}),i):null});UL.displayName=Uae;function Vae(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var J0=e=>{const{present:t,children:n}=e,r=Bae(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=bo(r.ref,Hae(a));return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};J0.displayName="Presence";function Bae(e){const[t,n]=h.useState(),r=h.useRef(null),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Vae(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=em(r.current);o.current=l==="mounted"?d:"none"},[l]),mo(()=>{const d=r.current,u=a.current;if(u!==e){const p=o.current,x=em(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),mo(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=x=>{const f=em(r.current).includes(x.animationName);if(x.target===t&&f&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=x=>{x.target===t&&(o.current=em(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function em(e){return e?.animationName||"none"}function Hae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qae=ju[" useInsertionEffect ".trim().toString()]||mo;function zae({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,i]=Wae({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=h.useCallback(u=>{if(l){const m=Kae(u)?u(e):u;m!==e&&i.current?.(m)}else o(u)},[l,e,o,i]);return[c,d]}function Wae({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),a=h.useRef(n),o=h.useRef(t);return qae(()=>{o.current=t},[t]),h.useEffect(()=>{a.current!==n&&(o.current?.(n),a.current=n)},[n,a]),[n,r,o]}function Kae(e){return typeof e=="function"}var VL=ZN(),iv=function(){},kx=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:iv,onWheelCapture:iv,onTouchMoveCapture:iv}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,x=e.noRelative,g=e.noIsolation,f=e.inert,w=e.allowPinchZoom,j=e.as,v=j===void 0?"div":j,y=e.gapMode,N=Xf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,E=QN([n,t]),S=Wt(Wt({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(b,{sideCar:VL,removeScrollBar:d,shards:m,noRelative:x,noIsolation:g,inert:f,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:y}),i?h.cloneElement(h.Children.only(l),Wt(Wt({},S),{ref:E})):h.createElement(v,Wt({},S,{className:c,ref:E}),l))});kx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kx.classNames={fullWidth:Sl,zeroRight:bl};var Mj=!1;if(typeof window<"u")try{var tm=Object.defineProperty({},"passive",{get:function(){return Mj=!0,!0}});window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{Mj=!1}var Ui=Mj?{passive:!1}:!1,Yae=function(e){return e.tagName==="TEXTAREA"},BL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yae(e)&&n[t]==="visible")},Xae=function(e){return BL(e,"overflowY")},Gae=function(e){return BL(e,"overflowX")},QE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=HL(e,r);if(a){var o=qL(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jae=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Qae=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},HL=function(e,t){return e==="v"?Xae(t):Gae(t)},qL=function(e,t){return e==="v"?Jae(t):Qae(t)},Zae=function(e,t){return e==="h"&&t==="rtl"?-1:1},eoe=function(e,t,n,r,a){var o=Zae(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,m=0,p=0;do{if(!l)break;var x=qL(e,l),g=x[0],f=x[1],w=x[2],j=f-w-o*g;(g||j)&&HL(e,l)&&(m+=j,p+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(p)<1||!a))&&(d=!0),d},sm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ZE=function(e){return[e.deltaX,e.deltaY]},eT=function(e){return e&&"current"in e?e.current:e},toe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},soe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},noe=0,Vi=[];function roe(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(noe++)[0],o=h.useState(Jf)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var f=JN([e.lockRef.current],(e.shards||[]).map(eT),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(f,w){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!i.current.allowPinchZoom;var j=sm(f),v=n.current,y="deltaX"in f?f.deltaX:v[0]-j[0],N="deltaY"in f?f.deltaY:v[1]-j[1],b,E=f.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in f&&S==="h"&&E.type==="range")return!1;var A=QE(S,E);if(!A)return!0;if(A?b=S:(b=S==="v"?"h":"v",A=QE(S,E)),!A)return!1;if(!r.current&&"changedTouches"in f&&(y||N)&&(r.current=b),!b)return!0;var O=r.current||b;return eoe(O,w,f,O==="h"?y:N,!0)},[]),c=h.useCallback(function(f){var w=f;if(!(!Vi.length||Vi[Vi.length-1]!==o)){var j="deltaY"in w?ZE(w):sm(w),v=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&toe(b.delta,j)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(eT).filter(Boolean).filter(function(b){return b.contains(w.target)}),N=y.length>0?l(w,y[0]):!i.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(f,w,j,v){var y={name:f,delta:w,target:j,should:v,shadowParent:aoe(j)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),u=h.useCallback(function(f){n.current=sm(f),r.current=void 0},[]),m=h.useCallback(function(f){d(f.type,ZE(f),f.target,l(f,e.lockRef.current))},[]),p=h.useCallback(function(f){d(f.type,sm(f),f.target,l(f,e.lockRef.current))},[]);h.useEffect(function(){return Vi.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ui),document.addEventListener("touchmove",c,Ui),document.addEventListener("touchstart",u,Ui),function(){Vi=Vi.filter(function(f){return f!==o}),document.removeEventListener("wheel",c,Ui),document.removeEventListener("touchmove",c,Ui),document.removeEventListener("touchstart",u,Ui)}},[]);var x=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:soe(a)}):null,x?h.createElement(t0,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ooe=e0(VL,roe);var zL=h.forwardRef(function(e,t){return h.createElement(kx,Wt({},e,{ref:t,sideCar:ooe}))});zL.classNames=kx.classNames;var Rx="Popover",[WL,Xve]=wL(Rx,[kL]),ch=kL(),[ioe,So]=WL(Rx),KL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=ch(t),c=h.useRef(null),[d,u]=h.useState(!1),[m,p]=zae({prop:r,defaultProp:a??!1,onChange:o,caller:Rx});return s.jsx(Lae,{...l,children:s.jsx(ioe,{scope:t,contentId:Tae(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(x=>!x),[p]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:i,children:n})})};KL.displayName=Rx;var YL="PopoverAnchor",loe=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=So(YL,n),o=ch(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx($L,{...o,...r,ref:t})});loe.displayName=YL;var XL="PopoverTrigger",GL=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=So(XL,n),o=ch(n),i=bo(t,a.triggerRef),l=s.jsx(ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":t_(a.open),...r,ref:i,onClick:eo(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx($L,{asChild:!0,...o,children:l})});GL.displayName=XL;var Q0="PopoverPortal",[coe,doe]=WL(Q0,{forceMount:void 0}),JL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=So(Q0,t);return s.jsx(coe,{scope:t,forceMount:n,children:s.jsx(J0,{present:n||o.open,children:s.jsx(UL,{asChild:!0,container:a,children:r})})})};JL.displayName=Q0;var Jl="PopoverContent",QL=h.forwardRef((e,t)=>{const n=doe(Jl,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,o=So(Jl,e.__scopePopover);return s.jsx(J0,{present:r||o.open,children:o.modal?s.jsx(hoe,{...a,ref:t}):s.jsx(moe,{...a,ref:t})})});QL.displayName=Jl;var uoe=NL("PopoverContent.RemoveScroll"),hoe=h.forwardRef((e,t)=>{const n=So(Jl,e.__scopePopover),r=h.useRef(null),a=bo(t,r),o=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return _u(i)},[]),s.jsx(zL,{as:uoe,allowPinchZoom:!0,children:s.jsx(ZL,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:eo(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:eo(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:eo(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),moe=h.forwardRef((e,t)=>{const n=So(Jl,e.__scopePopover),r=h.useRef(!1),a=h.useRef(!1);return s.jsx(ZL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),ZL=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,p=So(Jl,n),x=ch(n);return gae(),s.jsx(EL,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(SL,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(_ae,{"data-state":t_(p.open),role:"dialog",id:p.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),e_="PopoverClose",poe=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=So(e_,n);return s.jsx(ba.button,{type:"button",...r,ref:t,onClick:eo(e.onClick,()=>a.onOpenChange(!1))})});poe.displayName=e_;var foe="PopoverArrow",xoe=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ch(n);return s.jsx($ae,{...a,...r,ref:t})});xoe.displayName=foe;function t_(e){return e?"open":"closed"}var goe=KL,voe=GL,yoe=JL,s_=QL;const Dj=goe,Fj=voe,Xp=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(yoe,{children:s.jsx(s_,{ref:a,align:t,sideOffset:n,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xp.displayName=s_.displayName;function joe({options:e,value:t,onValueChange:n,placeholder:r="Select option...",searchPlaceholder:a="Search...",emptyMessage:o="No option found.",className:i}){const[l,c]=h.useState(!1),d=e.find(u=>u.value===t);return s.jsxs(Dj,{open:l,onOpenChange:c,children:[s.jsx(Fj,{asChild:!0,children:s.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":l,className:ne("w-full justify-between",i),children:[d?s.jsxs("div",{className:"flex items-center gap-2",children:[d.icon&&s.jsx(d.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"truncate",children:d.label}),d.category&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",d.category,")"]})]}):r,s.jsx(c8,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Xp,{className:"w-full p-0 z-50",style:{width:"var(--radix-popover-trigger-width)"},children:s.jsxs(pL,{children:[s.jsx(fL,{placeholder:a}),s.jsxs(xL,{children:[s.jsx(gL,{children:o}),s.jsx(vL,{children:e.map(u=>s.jsxs(yL,{value:`${u.label} ${u.category||""} ${u.description||""}`,onSelect:()=>{n?.(u.value),c(!1)},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.icon&&s.jsx(u.icon,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:u.label}),u.category&&s.jsx("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5 bg-muted rounded",children:u.category})]}),u.description&&s.jsx("span",{className:"text-xs text-muted-foreground",children:u.description})]})]}),s.jsx(Tu,{className:ne("ml-auto h-4 w-4",t===u.value?"opacity-100":"opacity-0")})]},u.value))})]})]})})]})}function woe(e,t={}){const{minLength:n=8,requireUppercase:r=!1,requireLowercase:a=!1,requireNumbers:o=!1,requireSpecialChars:i=!1,allowEmpty:l=!0}=t,c=[];return l&&(!e||e.trim().length===0)?{isValid:!0,errors:[]}:(e.length<n&&c.push(`Password must be at least ${n} characters long`),r&&!/[A-Z]/.test(e)&&c.push("Password must contain at least one uppercase letter"),a&&!/[a-z]/.test(e)&&c.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(e)&&c.push("Password must contain at least one number"),i&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)&&c.push("Password must contain at least one special character"),{isValid:c.length===0,errors:c})}function Noe(e){return woe(e,{minLength:6,requireUppercase:!1,requireLowercase:!1,requireNumbers:!1,requireSpecialChars:!1,allowEmpty:!0})}const _t=h.forwardRef(({name:e,label:t,placeholder:n,required:r,value:a,onValueChange:o,className:i,showConfirmation:l=!0,validator:c=Noe},d)=>{const[u,m]=h.useState(a||""),[p,x]=h.useState(""),[g,f]=h.useState(!1),[w,j]=h.useState(!1),[v,y]=h.useState(!1),[N,b]=h.useState({isValid:!0,errors:[]});h.useEffect(()=>{a!==u&&m(a||"")},[a]);const E=u===p,S=v&&p.length>0&&!E,A=!N.isValid&&u.length>0,O=F=>{m(F),b(c(F)),o(F)},I=F=>{x(F),!v&&F.length>0&&y(!0)};return s.jsxs("div",{ref:d,className:ne("space-y-3",i),children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:e,className:"flex items-center gap-1",children:[t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_,{id:e,type:g?"text":"password",placeholder:n,value:u,onChange:F=>O(F.target.value),className:ne("pr-10 transition-all duration-300 focus:scale-[1.01]",A&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>f(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:g?s.jsx(DC,{className:"h-4 w-4"}):s.jsx(ha,{className:"h-4 w-4"})})]})]}),A&&s.jsx("div",{className:"space-y-1",children:N.errors.map((F,L)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(xt,{className:"h-4 w-4"}),F]},L))}),N.isValid&&u.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(bs,{className:"h-4 w-4"}),"Password meets requirements"]}),l&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:`${e}_confirm`,className:"flex items-center gap-1",children:["Confirm ",t,r&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_,{id:`${e}_confirm`,type:w?"text":"password",placeholder:`Confirm ${n||t.toLowerCase()}`,value:p,onChange:F=>I(F.target.value),className:ne("pr-10 transition-all duration-300 focus:scale-[1.01]",S&&"border-destructive focus-visible:ring-destructive")}),s.jsx("button",{type:"button",onClick:()=>j(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:w?s.jsx(DC,{className:"h-4 w-4"}):s.jsx(ha,{className:"h-4 w-4"})})]})]}),S&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[s.jsx(xt,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})});_t.displayName="PasswordConfirmation";const boe=({selectedJarId:e,onJarSelect:t,label:n="Select JAR File",placeholder:r="Choose a driver JAR file...",driverTypeFilter:a})=>{const o=[{id:"1",name:"MySQL JDBC Driver",version:"8.0.33",fileName:"mysql-connector-java-8.0.33.jar",driverType:"Database"},{id:"2",name:"PostgreSQL JDBC Driver",version:"42.6.0",fileName:"postgresql-42.6.0.jar",driverType:"Database"},{id:"3",name:"ActiveMQ Client",version:"5.18.3",fileName:"activemq-client-5.18.3.jar",driverType:"Message Queue"}],i=a?o.filter(c=>c.driverType===a):o,l=o.find(c=>c.id===e);return s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-sm font-medium",children:n}),s.jsxs(G,{value:e,onValueChange:t,children:[s.jsx(Y,{className:"w-full",children:s.jsx(J,{placeholder:r,children:l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"h-4 w-4"}),s.jsx("span",{children:l.name}),s.jsxs(ae,{variant:"secondary",className:"text-xs",children:["v",l.version]})]})})}),s.jsxs(X,{className:"bg-card border-border shadow-lg z-50 max-h-60",children:[i.map(c=>s.jsx(M,{value:c.id,children:s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsx(Hd,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.fileName})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(ae,{variant:"secondary",className:"text-xs",children:["v",c.version]}),s.jsx(ae,{variant:"outline",className:"text-xs",children:c.driverType})]})]})},c.id)),i.length===0&&s.jsxs(M,{value:"no-jars-available",disabled:!0,children:["No JAR files available",a&&` for ${a}`]})]})]}),l&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",l.fileName," (",l.driverType,")"]})]})},Soe=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const{businessComponents:n,loading:r}=No();return s.jsxs(W,{className:"animate-scale-in",children:[s.jsxs(te,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(pe,{children:"Select the business component this adapter belongs to"})]}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(G,{value:e?.id||"",onValueChange:a=>{const o=n.find(i=>i.id===a)||null;t(o)},disabled:r,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsx(X,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(a=>s.jsx(M,{value:a.id,children:a.name},a.id))})]})]})})]})},En=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ne("w-full caption-bottom text-sm",e),...t})}));En.displayName="Table";const Tn=h.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ne("[&_tr]:border-b",e),...t}));Tn.displayName="TableHeader";const Pn=h.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ne("[&_tr:last-child]:border-0",e),...t}));Pn.displayName="TableBody";const Coe=h.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Coe.displayName="TableFooter";const wt=h.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));wt.displayName="TableRow";const Ne=h.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableHead";const ye=h.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ye.displayName="TableCell";const Eoe=h.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));Eoe.displayName="TableCaption";const Z0=({config:e,onChange:t})=>{const[n,r]=h.useState({fieldName:"",length:0}),a=(c,d)=>{t({...e,[c]:d})},o=()=>{if(n.fieldName&&n.length>0){const c=e.fieldLengths||{},d=e.fieldOrder||[];t({...e,fieldLengths:{...c,[n.fieldName]:n.length},fieldOrder:[...d,n.fieldName]}),r({fieldName:"",length:0})}},i=c=>{const{[c]:d,...u}=e.fieldLengths||{},m=(e.fieldOrder||[]).filter(p=>p!==c);t({...e,fieldLengths:u,fieldOrder:m})},l=()=>{switch(e.fileFormat){case"CSV":return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"CSV Configuration"}),s.jsx(pe,{children:"Configure CSV file format settings"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"delimiter",children:"Delimiter"}),s.jsx(_,{id:"delimiter",value:e.delimiter||",",onChange:c=>a("delimiter",c.target.value),placeholder:",",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"quoteCharacter",children:"Quote Character"}),s.jsx(_,{id:"quoteCharacter",value:e.quoteCharacter||'"',onChange:c=>a("quoteCharacter",c.target.value),placeholder:'"',maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(G,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"\\n",children:"LF (\\n)"}),s.jsx(M,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(M,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(G,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"UTF-16",children:"UTF-16"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeHeaders",checked:e.includeHeaders!==!1,onCheckedChange:c=>a("includeHeaders",c)}),s.jsx(C,{htmlFor:"includeHeaders",children:"Include Headers"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"quoteAllFields",checked:e.quoteAllFields===!0,onCheckedChange:c=>a("quoteAllFields",c)}),s.jsx(C,{htmlFor:"quoteAllFields",children:"Quote All Fields"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"skipEmptyLines",checked:e.skipEmptyLines===!0,onCheckedChange:c=>a("skipEmptyLines",c)}),s.jsx(C,{htmlFor:"skipEmptyLines",children:"Skip Empty Lines"})]})]})]})]});case"FIXED":return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Fixed-Length Configuration"}),s.jsx(pe,{children:"Define field positions and lengths"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"padCharacter",children:"Pad Character"}),s.jsx(_,{id:"padCharacter",value:e.padCharacter||" ",onChange:c=>a("padCharacter",c.target.value),placeholder:" ",maxLength:1})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"padDirection",children:"Pad Direction"}),s.jsxs(G,{value:e.padDirection||"RIGHT",onValueChange:c=>a("padDirection",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"LEFT",children:"Left"}),s.jsx(M,{value:"RIGHT",children:"Right"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"lineTerminator",children:"Line Terminator"}),s.jsxs(G,{value:e.lineTerminator||"\\n",onValueChange:c=>a("lineTerminator",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"\\n",children:"LF (\\n)"}),s.jsx(M,{value:"\\r\\n",children:"CRLF (\\r\\n)"}),s.jsx(M,{value:"\\r",children:"CR (\\r)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(G,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"UTF-16",children:"UTF-16"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(C,{children:"Field Definitions"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_,{placeholder:"Field Name",value:n.fieldName,onChange:c=>r({...n,fieldName:c.target.value})}),s.jsx(_,{type:"number",placeholder:"Length",value:n.length||"",onChange:c=>r({...n,length:parseInt(c.target.value)||0}),className:"w-32"}),s.jsx(q,{onClick:o,size:"sm",children:s.jsx(Zt,{className:"h-4 w-4"})})]}),e.fieldOrder&&e.fieldOrder.length>0&&s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Field Name"}),s.jsx(Ne,{children:"Length"}),s.jsx(Ne,{children:"Start Position"}),s.jsx(Ne,{className:"w-16"})]})}),s.jsx(Pn,{children:e.fieldOrder.map((c,d)=>{const u=e.fieldOrder.slice(0,d).reduce((m,p)=>m+(e.fieldLengths?.[p]||0),1);return s.jsxs(wt,{children:[s.jsx(ye,{children:c}),s.jsx(ye,{children:e.fieldLengths?.[c]}),s.jsx(ye,{children:u}),s.jsx(ye,{children:s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(c),children:s.jsx(Rn,{className:"h-4 w-4"})})})]},c)})})]})]})]})})]})]});case"JSON":return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"JSON Configuration"}),s.jsx(pe,{children:"Configure JSON file format settings"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"dateFormat",children:"Date Format"}),s.jsx(_,{id:"dateFormat",value:e.dateFormat||"yyyy-MM-dd'T'HH:mm:ss.SSSZ",onChange:c=>a("dateFormat",c.target.value),placeholder:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(G,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"UTF-16",children:"UTF-16"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"prettyPrint",checked:e.prettyPrint!==!1,onCheckedChange:c=>a("prettyPrint",c)}),s.jsx(C,{htmlFor:"prettyPrint",children:"Pretty Print"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeNullValues",checked:e.includeNullValues===!0,onCheckedChange:c=>a("includeNullValues",c)}),s.jsx(C,{htmlFor:"includeNullValues",children:"Include Null Values"})]})]})]})]});case"XML":return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"XML Configuration"}),s.jsx(pe,{children:"XML format is handled in the XML Conversion tab"})]}),s.jsx(K,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please configure XML-specific settings in the XML Conversion tab."})})]});default:return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Plain Text Configuration"}),s.jsx(pe,{children:"Basic text file settings"})]}),s.jsx(K,{children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"encoding",children:"Encoding"}),s.jsxs(G,{value:e.encoding||"UTF-8",onValueChange:c=>a("encoding",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"UTF-16",children:"UTF-16"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]})]})})]})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"File Format Type"}),s.jsx(pe,{children:"Select the format of files this adapter will process"})]}),s.jsx(K,{children:s.jsxs(G,{value:e.fileFormat||"TEXT",onValueChange:c=>a("fileFormat",c),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"CSV",children:"CSV (Comma-Separated Values)"}),s.jsx(M,{value:"FIXED",children:"Fixed-Length"}),s.jsx(M,{value:"JSON",children:"JSON"}),s.jsx(M,{value:"XML",children:"XML"}),s.jsx(M,{value:"TEXT",children:"Plain Text"})]})]})})]}),l(),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Sample Preview"}),s.jsx(pe,{children:"Example of how your file format will look"})]}),s.jsx(K,{children:s.jsxs("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto",children:[e.fileFormat==="CSV"&&(e.includeHeaders!==!1?`orderId${e.delimiter||","}customer${e.delimiter||","}amount
12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`:`12345${e.delimiter||","}John Doe${e.delimiter||","}99.99
12346${e.delimiter||","}Jane Smith${e.delimiter||","}149.99`),e.fileFormat==="FIXED"&&e.fieldOrder&&(e.fieldOrder.map(c=>c.padEnd(e.fieldLengths?.[c]||0,e.padCharacter||" ")).join("")||"Define fields above to see preview"),e.fileFormat==="JSON"&&(e.prettyPrint!==!1?`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99${e.includeNullValues?`,
  "discount": null`:""}
}`:`{"orderId":"12345","customer":"John Doe","amount":99.99${e.includeNullValues?',"discount":null':""}}`),(e.fileFormat==="XML"||e.fileFormat==="TEXT"||!e.fileFormat)&&"Sample data based on selected format will appear here"]})})]})]})},Ai=({mode:e,config:t,onChange:n})=>{const r=(a,o)=>{n({...t,[a]:o})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Xe,{children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{children:e==="SENDER"?"Configure how incoming data is converted to XML for mapping":"Configure how XML is converted back to the target format after mapping"})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Basic Settings"}),s.jsx(pe,{children:"Core XML conversion configuration"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"rootElementName",children:"Root Element Name"}),s.jsx(_,{id:"rootElementName",value:t.rootElementName||"Message",onChange:a=>r("rootElementName",a.target.value),placeholder:"Message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The root element that wraps the converted data"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"encoding",children:"Encoding"}),s.jsx(_,{id:"encoding",value:t.encoding||"UTF-8",onChange:a=>r("encoding",a.target.value),placeholder:"UTF-8"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"includeXmlDeclaration",checked:t.includeXmlDeclaration!==!1,onCheckedChange:a=>r("includeXmlDeclaration",a)}),s.jsx(C,{htmlFor:"includeXmlDeclaration",children:"Include XML Declaration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"prettyPrint",checked:t.prettyPrint!==!1,onCheckedChange:a=>r("prettyPrint",a)}),s.jsx(C,{htmlFor:"prettyPrint",children:"Pretty Print (Format with indentation)"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Namespace Configuration"}),s.jsx(pe,{children:"Optional XML namespace settings"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"targetNamespace",children:"Target Namespace"}),s.jsx(_,{id:"targetNamespace",value:t.targetNamespace||"",onChange:a=>r("targetNamespace",a.target.value),placeholder:"http://example.com/integration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"XML namespace URI (optional)"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(C,{htmlFor:"namespacePrefix",children:"Namespace Prefix"}),s.jsx(_,{id:"namespacePrefix",value:t.namespacePrefix||"",onChange:a=>r("namespacePrefix",a.target.value),placeholder:"ns"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prefix for namespace (e.g., ns:Element)"})]})]})})]}),e==="RECEIVER"&&s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Receiver Options"}),s.jsx(pe,{children:"Settings for converting XML back to target format"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"removeRootElement",checked:t.removeRootElement===!0,onCheckedChange:a=>r("removeRootElement",a)}),s.jsx(C,{htmlFor:"removeRootElement",children:"Remove Root Element"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Strip the wrapper element when converting from XML"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"handleNamespaces",checked:t.handleNamespaces!==!1,onCheckedChange:a=>r("handleNamespaces",a)}),s.jsx(C,{htmlFor:"handleNamespaces",children:"Handle Namespaces"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Process namespace declarations and prefixes"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"preserveAttributes",checked:t.preserveAttributes===!0,onCheckedChange:a=>r("preserveAttributes",a)}),s.jsx(C,{htmlFor:"preserveAttributes",children:"Preserve Attributes"})]}),s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Keep XML attributes as separate fields (instead of converting to elements)"})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Example"}),s.jsx(pe,{children:"How your data will be converted"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"json",className:"w-full",children:[s.jsxs(Je,{children:[s.jsx(ue,{value:"json",children:"JSON to XML"}),s.jsx(ue,{value:"csv",children:"CSV to XML"}),s.jsx(ue,{value:"sql",children:"SQL to XML"})]}),s.jsx(de,{value:"json",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{children:"Original JSON"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`{
  "orderId": "12345",
  "customer": "John Doe",
  "amount": 99.99
}`})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <orderId>12345</orderId>
  <customer>John Doe</customer>
  <amount>99.99</amount>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(de,{value:"csv",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{children:"Original CSV"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`orderId,customer,amount
12345,John Doe,99.99
12346,Jane Smith,149.99`})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <record>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </record>
  <record>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </record>
</${t.rootElementName||"Message"}>`})]})]})}),s.jsx(de,{value:"sql",className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{children:"SQL Result"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`SELECT * FROM orders
-----------------
orderId | customer    | amount
12345   | John Doe    | 99.99
12346   | Jane Smith  | 149.99`})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Converted XML"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded",children:`<?xml version="1.0" encoding="${t.encoding||"UTF-8"}"?>
<${t.rootElementName||"Message"}${t.targetNamespace?` xmlns${t.namespacePrefix?`:${t.namespacePrefix}`:""}="${t.targetNamespace}"`:""}>
  <row>
    <orderId>12345</orderId>
    <customer>John Doe</customer>
    <amount>99.99</amount>
  </row>
  <row>
    <orderId>12346</orderId>
    <customer>Jane Smith</customer>
    <amount>149.99</amount>
  </row>
</${t.rootElementName||"Message"}>`})]})]})})]})})]})]})},n_=h.forwardRef(({value:e,onValueChange:t,options:n,className:r,size:a="md",disabled:o=!1},i)=>{const l={sm:"h-8 text-xs",md:"h-10 text-sm",lg:"h-12 text-base"},c=d=>{o||t(d.value)};return s.jsx("div",{ref:i,className:ne("inline-flex rounded-lg bg-muted p-1 text-muted-foreground",l[a],o&&"opacity-50 cursor-not-allowed",r),children:n.map(d=>s.jsxs("button",{type:"button",onClick:()=>c(d),disabled:o,className:ne("relative inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e===d.value?"bg-background text-foreground shadow-sm":"hover:text-foreground","flex-1"),children:[d.icon&&s.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.value))})});n_.displayName="SegmentedControl";const ki=({config:e,onChange:t,adapterType:n,dataStructures:r=[],disabled:a=!1})=>{const o=[{value:"transform",label:"Transform Data"},{value:"passthrough",label:"Passthrough"}],i=m=>{const p={...e,mode:m};m==="passthrough"?(p.dataStructureId=void 0,p.requiresStructure=!1):p.requiresStructure=c(n),t(p)},l=m=>{t({...e,dataStructureId:m})},c=m=>["FILE","FTP","SFTP","REST","HTTP","HTTPS","JSON","XML"].includes(m.toUpperCase()),d=()=>{const m=n.toUpperCase();return["REST","HTTP","HTTPS"].includes(m)?s.jsxs(Xe,{className:"mt-4",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(Ge,{children:"For REST/HTTP adapters with transformation enabled, you must define the payload structure. The payload will be automatically converted to XML for mapping."})]}):["FILE","FTP","SFTP"].includes(m)?s.jsxs(Xe,{className:"mt-4",children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{children:"File adapters require an XML data structure when transformation is enabled. The file content will be converted to/from XML for processing."})]}):m==="SOAP"?s.jsxs(Xe,{className:"mt-4",children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{children:"SOAP adapters always require a WSDL which defines the data structures."})]}):null},u=r.filter(m=>["REST","HTTP","HTTPS"].includes(n.toUpperCase())?["JSON","XML"].includes(m.type):m.type==="XML");return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Transformation"}),s.jsx(pe,{children:"Choose whether to transform data or pass it through unchanged"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Transformation Mode"}),s.jsx(n_,{value:e.mode,onValueChange:i,options:o,disabled:a})]}),e.mode==="transform"&&e.requiresStructure&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Data Structure *"}),s.jsxs(G,{value:e.dataStructureId,onValueChange:l,disabled:a,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a data structure"})}),s.jsx(X,{children:u.map(m=>s.jsxs(M,{value:m.id,children:[m.name," (",m.type,")"]},m.id))})]}),u.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No compatible data structures found. Please create one first."})]}),e.mode==="passthrough"&&s.jsxs(Xe,{children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{children:"Passthrough mode transfers data without any transformation or XML conversion. This is ideal for binary files or when you need to preserve the exact file format."})]}),e.mode==="transform"&&d()]})]})},Toe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({serverAddress:"",port:"",timeout:"",connectionSecurity:"",userName:"",password:"",connectionMode:"",sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),a=c=>{const d={...n,...c};r(d),t?.(d)},o=()=>{const c=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,d,u)=>{const m=[...n.advancedEntries];m[c]={...m[c],[d]:u},a({advancedEntries:m})},l=c=>{if(n.advancedEntries.length>1){const d=n.advancedEntries.filter((u,m)=>m!==c);a({advancedEntries:d})}};return s.jsxs(W,{className:"w-full",children:[s.jsxs(te,{children:[s.jsxs(re,{children:["FTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(pe,{children:["Configure your FTP ",e," adapter settings"]})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Je,{className:`grid w-full ${e==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[s.jsx(ue,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(ue,{value:"processing",children:"Processing"}),e==="sender"&&s.jsx(ue,{value:"transformation",children:"Transformation"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(ue,{value:"fileFormat",children:"File Format"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(de,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(_,{id:"sourceDirectory",value:n.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileName",children:"File Name *"}),s.jsx(_,{id:"fileName",value:n.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(G,{value:n.sorting,onValueChange:c=>a({sorting:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select sorting option"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(M,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(M,{value:"file-size",children:"File Size"}),s.jsx(M,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),s.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(_,{id:"exclusionMask",value:n.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((c,d)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Directory"}),s.jsx(_,{value:c.directory,onChange:u=>i(d,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"File Name"}),s.jsx(_,{value:c.fileName,onChange:u=>i(d,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(_,{value:c.exclusionMask,onChange:u=>i(d,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(d),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},d))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(_,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout"}),s.jsx(_,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(G,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection security"})}),s.jsxs(X,{children:[s.jsx(M,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(M,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(M,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"userName",children:"User Name *"}),s.jsx(_,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(G,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"permanently",children:"Permanently"}),s.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(de,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(_,{id:"targetDirectory",value:n.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(_,{id:"targetFileName",value:n.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(_,{id:"serverAddress",value:n.serverAddress,onChange:c=>a({serverAddress:c.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",value:n.port,onChange:c=>a({port:c.target.value}),placeholder:"Enter port number",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout"}),s.jsx(_,{id:"timeout",value:n.timeout,onChange:c=>a({timeout:c.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionSecurity",children:"Connection Security *"}),s.jsxs(G,{value:n.connectionSecurity,onValueChange:c=>a({connectionSecurity:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection security"})}),s.jsxs(X,{children:[s.jsx(M,{value:"explicit-ftps",children:"Explicit FTPS"}),s.jsx(M,{value:"implicit-ftps",children:"Implicit FTPS"}),s.jsx(M,{value:"plain-ftp",children:"Plain FTP - no encryption"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"userName",children:"User Name *"}),s.jsx(_,{id:"userName",value:n.userName,onChange:c=>a({userName:c.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:c=>a({password:c})})}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(G,{value:n.connectionMode,onValueChange:c=>a({connectionMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"permanently",children:"Permanently"}),s.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(mt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(_,{id:"pollingInterval",value:n.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(G,{value:n.processingMode,onValueChange:c=>a({processingMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"archive",children:"Archive"}),s.jsx(M,{value:"delete",children:"Delete"}),s.jsx(M,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(G,{value:n.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"do-not-create",children:"Do not create message"}),s.jsx(M,{value:"process-empty",children:"Process empty files"}),s.jsx(M,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),s.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),s.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(G,{value:n.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"create",children:"Create"}),s.jsx(M,{value:"append",children:"Append"}),s.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(G,{value:n.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(G,{value:n.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(_,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),s.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(_,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),s.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),e==="sender"&&s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:n.transformationConfig||{mode:"passthrough"},onChange:c=>a({transformationConfig:c}),adapterType:"FTP",disabled:!1})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"fileFormat",className:"mt-6",children:s.jsx(Z0,{config:n.fileFormatConfig||{},onChange:c=>a({fileFormatConfig:c})})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:c=>a({xmlConversion:c})})})]})})]})},Poe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({serverAddress:"",port:"22",timeout:"",authenticationType:"",userName:"",password:"",publicKey:"",privateKey:"",passphrase:"",maxConcurrentConnections:"",retryConnection:"",retryConnectionDelay:"",connectionMode:"",sourceDirectory:"",fileName:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"passthrough",requiresStructure:!1}}),a=d=>{const u={...n,...d};r(u),t?.(u)},o=()=>{const d=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:d})},i=(d,u,m)=>{const p=[...n.advancedEntries];p[d]={...p[d],[u]:m},a({advancedEntries:p})},l=d=>{if(n.advancedEntries.length>1){const u=n.advancedEntries.filter((m,p)=>p!==d);a({advancedEntries:u})}},c=()=>{switch(n.authenticationType){case"public-key":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(G,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a key pair from system"})}),s.jsxs(X,{children:[s.jsx(M,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(M,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(M,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(M,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(M,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(M,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"username-password":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"userName",children:"User Name *"}),s.jsx(_,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})})]});case"dual":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"userName",children:"User Name *"}),s.jsx(_,{id:"userName",value:n.userName,onChange:d=>a({userName:d.target.value}),placeholder:"Enter username"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"Enter password",required:!0,value:n.password,onValueChange:d=>a({password:d})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"keyPairSelection",children:"Key Pair Selection *"}),s.jsxs(G,{value:n.publicKey,onValueChange:d=>a({publicKey:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a key pair from system"})}),s.jsxs(X,{children:[s.jsx(M,{value:"rsa-key-prod-01",children:"RSA Production Key 01"}),s.jsx(M,{value:"rsa-key-dev-01",children:"RSA Development Key 01"}),s.jsx(M,{value:"ecdsa-key-prod-01",children:"ECDSA Production Key 01"}),s.jsx(M,{value:"ed25519-key-prod-01",children:"Ed25519 Production Key 01"}),s.jsx(M,{value:"rsa-key-staging-01",children:"RSA Staging Key 01"}),s.jsx(M,{value:"custom-key-pair-01",children:"Custom Key Pair 01"})]})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(_t,{name:"passphrase",label:"Passphrase (optional)",placeholder:"Enter passphrase for selected key pair",required:!1,value:n.passphrase,onValueChange:d=>a({passphrase:d})})})]});case"dynamic":return s.jsx("div",{className:"md:col-span-2 p-4 border rounded-lg bg-muted/20",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Dynamic authentication will be configured at runtime based on message content."})});default:return null}};return s.jsxs(W,{className:"w-full",children:[s.jsxs(te,{children:[s.jsxs(re,{children:["SFTP ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(pe,{children:["Configure your SFTP ",e," adapter settings"]})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Je,{className:`grid w-full ${e==="sender"?"grid-cols-5":"grid-cols-4"}`,children:[s.jsx(ue,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(ue,{value:"processing",children:"Processing"}),e==="sender"&&s.jsx(ue,{value:"transformation",children:"Transformation"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(ue,{value:"fileFormat",children:"File Format"}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(ue,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsxs(de,{value:"source",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(_,{id:"sourceDirectory",value:n.sourceDirectory,onChange:d=>a({sourceDirectory:d.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileName",children:"File Name *"}),s.jsx(_,{id:"fileName",value:n.fileName,onChange:d=>a({fileName:d.target.value}),placeholder:"Enter file name pattern"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:d=>a({advancedSelection:d===!0})}),s.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(_,{id:"exclusionMask",value:n.exclusionMask,onChange:d=>a({exclusionMask:d.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((d,u)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Directory"}),s.jsx(_,{value:d.directory,onChange:m=>i(u,"directory",m.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"File Name"}),s.jsx(_,{value:d.fileName,onChange:m=>i(u,"fileName",m.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(_,{value:d.exclusionMask,onChange:m=>i(u,"exclusionMask",m.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(u),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},u))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(_,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout"}),s.jsx(_,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(G,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"public-key",children:"Public Key"}),s.jsx(M,{value:"username-password",children:"User Name/Password"}),s.jsx(M,{value:"dual",children:"Dual"}),s.jsx(M,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(_,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retryConnection",children:"Retry Connection"}),s.jsx(_,{id:"retryConnection",value:n.retryConnection,onChange:d=>a({retryConnection:d.target.value}),placeholder:"Number of retry attempts",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retryConnectionDelay",children:'Retry Connection Delay "in sec"'}),s.jsx(_,{id:"retryConnectionDelay",value:n.retryConnectionDelay,onChange:d=>a({retryConnectionDelay:d.target.value}),placeholder:"Delay between retries in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(G,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"permanently",children:"Permanently"}),s.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),e==="receiver"&&s.jsxs(de,{value:"target",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(_,{id:"targetDirectory",value:n.targetDirectory,onChange:d=>a({targetDirectory:d.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(_,{id:"targetFileName",value:n.targetFileName,onChange:d=>a({targetFileName:d.target.value}),placeholder:"Enter file name"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connection Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serverAddress",children:"Server Address *"}),s.jsx(_,{id:"serverAddress",value:n.serverAddress,onChange:d=>a({serverAddress:d.target.value}),placeholder:"Enter server address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",value:n.port,onChange:d=>a({port:d.target.value}),placeholder:"Enter port number (default: 22)",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout"}),s.jsx(_,{id:"timeout",value:n.timeout,onChange:d=>a({timeout:d.target.value}),placeholder:"Timeout in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication *"}),s.jsxs(G,{value:n.authenticationType,onValueChange:d=>a({authenticationType:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"public-key",children:"Public Key"}),s.jsx(M,{value:"username-password",children:"User Name/Password"}),s.jsx(M,{value:"dual",children:"Dual"}),s.jsx(M,{value:"dynamic",children:"Dynamic"})]})]})]}),c(),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"connectionMode",children:"Connection Mode *"}),s.jsxs(G,{value:n.connectionMode,onValueChange:d=>a({connectionMode:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"permanently",children:"Permanently"}),s.jsx(M,{value:"per-file-transfer",children:"Per File Transfer"})]})]})]})]})]})]}),s.jsx(de,{value:"processing",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(mt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"pollingInterval",children:'Polling Interval "Secs" *'}),s.jsx(_,{id:"pollingInterval",value:n.pollingInterval,onChange:d=>a({pollingInterval:d.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(G,{value:n.processingMode,onValueChange:d=>a({processingMode:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"archive",children:"Archive"}),s.jsx(M,{value:"delete",children:"Delete"}),s.jsx(M,{value:"keep-file",children:"Keep File"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(G,{value:n.emptyFileHandling,onValueChange:d=>a({emptyFileHandling:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"do-not-create-message",children:"Do not create message"}),s.jsx(M,{value:"process-empty-files",children:"Process empty files"}),s.jsx(M,{value:"skip-empty-files",children:"Skip empty files"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:d=>a({enableDuplicateHandling:d===!0})}),s.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"duplicateMessageAlertThreshold",children:"Duplicate message alert threshold"}),s.jsx(_,{id:"duplicateMessageAlertThreshold",value:n.duplicateMessageAlertThreshold,onChange:d=>a({duplicateMessageAlertThreshold:d.target.value}),placeholder:"Enter threshold value",type:"number"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:d=>a({disableChannelOnExceed:d===!0})}),s.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:d=>a({createFileDirectory:d===!0})}),s.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:d=>a({overwriteExistingFile:d===!0})}),s.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(G,{value:n.fileConstructionMode,onValueChange:d=>a({fileConstructionMode:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"create",children:"Create"}),s.jsx(M,{value:"append",children:"Append"}),s.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(G,{value:n.filePlacement,onValueChange:d=>a({filePlacement:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(G,{value:n.emptyMessageHandling_receiver,onValueChange:d=>a({emptyMessageHandling_receiver:d}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(_,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:d=>a({maxConcurrentConnections:d.target.value}),placeholder:"Enter max concurrent connections",type:"number"})]})]})]})]})}),e==="sender"&&s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:n.transformationConfig||{mode:"passthrough"},onChange:d=>a({transformationConfig:d}),adapterType:"SFTP",disabled:!1})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"fileFormat",className:"mt-6",children:s.jsx(Z0,{config:n.fileFormatConfig||{},onChange:d=>a({fileFormatConfig:d})})}),e==="sender"&&n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:d=>a({xmlConversion:d})})})]})})]})},Aoe=({mode:e,onConfigChange:t})=>{const[n,r]=h.useState({sourceDirectory:"",fileName:"",sorting:"",advancedSelection:!1,exclusionMask:"",advancedEntries:[{directory:"",fileName:"",exclusionMask:""}],pollingInterval:"",processingMode:"",emptyFileHandling:"",enableDuplicateHandling:!1,duplicateMessageAlertThreshold:"",disableChannelOnExceed:!1,targetDirectory:"",targetFileName:"",fileConstructionMode:"",overwriteExistingFile:!1,createFileDirectory:!1,filePlacement:"",emptyMessageHandling_receiver:"",maxConcurrentConnections:"",fileFormatConfig:{fileFormat:"TEXT"},xmlConversion:{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},transformationConfig:{mode:"transform",requiresStructure:!0}}),a=c=>{const d={...n,...c};r(d),t?.(d)},o=()=>{const c=[...n.advancedEntries,{directory:"",fileName:"",exclusionMask:""}];a({advancedEntries:c})},i=(c,d,u)=>{const m=[...n.advancedEntries];m[c]={...m[c],[d]:u},a({advancedEntries:m})},l=c=>{if(n.advancedEntries.length>1){const d=n.advancedEntries.filter((u,m)=>m!==c);a({advancedEntries:d})}};return s.jsxs(W,{className:"w-full",children:[s.jsxs(te,{children:[s.jsxs(re,{children:["File ",e==="sender"?"Sender":"Receiver"," Adapter Configuration"]}),s.jsxs(pe,{children:["Configure your File ",e," adapter settings"]})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:e==="sender"?"source":"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:e==="sender"?"source":"target",children:e==="sender"?"Source":"Target"}),s.jsx(ue,{value:"processing",children:"Processing"}),s.jsx(ue,{value:"transformation",children:"Transformation"}),s.jsx(ue,{value:"fileFormat",children:"File Format"}),s.jsx(ue,{value:"xmlConversion",children:"XML Conversion"})]}),e==="sender"&&s.jsx(de,{value:"source",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sourceDirectory",children:"Source Directory *"}),s.jsx(_,{id:"sourceDirectory",value:n.sourceDirectory,onChange:c=>a({sourceDirectory:c.target.value}),placeholder:"Enter source directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileName",children:"File Name *"}),s.jsx(_,{id:"fileName",value:n.fileName,onChange:c=>a({fileName:c.target.value}),placeholder:"Enter file name pattern"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sorting",children:"Sorting"}),s.jsxs(G,{value:n.sorting,onValueChange:c=>a({sorting:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select sorting option"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"timestamp-ascending",children:"Timestamp Ascending"}),s.jsx(M,{value:"timestamp-descending",children:"Timestamp Descending"}),s.jsx(M,{value:"file-size",children:"File Size"}),s.jsx(M,{value:"file-name",children:"File Name"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"advancedSelection",checked:n.advancedSelection,onCheckedChange:c=>a({advancedSelection:c===!0})}),s.jsx(C,{htmlFor:"advancedSelection",children:"Advanced selection for Source files"})]}),n.advancedSelection&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"exclusionMask",children:"Exclusion Mask"}),s.jsx(_,{id:"exclusionMask",value:n.exclusionMask,onChange:c=>a({exclusionMask:c.target.value}),placeholder:"Enter exclusion pattern (e.g., *.tmp, backup_*)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(C,{className:"text-sm font-medium",children:"Multiple File Selection"}),s.jsx("button",{type:"button",onClick:o,className:"text-sm text-primary hover:underline",children:"+ Add Entry"})]}),n.advancedEntries.map((c,d)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Directory"}),s.jsx(_,{value:c.directory,onChange:u=>i(d,"directory",u.target.value),placeholder:"Directory path",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"File Name"}),s.jsx(_,{value:c.fileName,onChange:u=>i(d,"fileName",u.target.value),placeholder:"File name pattern",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Exclusion Mask"}),s.jsx(_,{value:c.exclusionMask,onChange:u=>i(d,"exclusionMask",u.target.value),placeholder:"Exclusion pattern",className:"text-sm"})]}),n.advancedEntries.length>1&&s.jsx("button",{type:"button",onClick:()=>l(d),className:"text-xs text-destructive hover:underline self-end pb-2",children:"Remove"})]},d))]})]})]})}),e==="receiver"&&s.jsx(de,{value:"target",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"File Access Parameters"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetDirectory",children:"Target Directory *"}),s.jsx(_,{id:"targetDirectory",value:n.targetDirectory,onChange:c=>a({targetDirectory:c.target.value}),placeholder:"Enter target directory path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetFileName",children:"File Name *"}),s.jsx(_,{id:"targetFileName",value:n.targetFileName,onChange:c=>a({targetFileName:c.target.value}),placeholder:"Enter file name"})]})]})]})}),s.jsxs(de,{value:"processing",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Processing Parameters"}),s.jsx(mt,{className:"mb-4"})]}),e==="sender"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (Secs) *"}),s.jsx(_,{id:"pollingInterval",value:n.pollingInterval,onChange:c=>a({pollingInterval:c.target.value}),placeholder:"Enter polling interval in seconds",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"processingMode",children:"Processing Mode *"}),s.jsxs(G,{value:n.processingMode,onValueChange:c=>a({processingMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select processing mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"archive",children:"Archive"}),s.jsx(M,{value:"delete",children:"Delete"}),s.jsx(M,{value:"test",children:"Test"})]})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"emptyFileHandling",children:"Empty File Handling *"}),s.jsxs(G,{value:n.emptyFileHandling,onValueChange:c=>a({emptyFileHandling:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty file handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"do-not-create",children:"Do not create message"}),s.jsx(M,{value:"process-empty",children:"Process empty files"}),s.jsx(M,{value:"skip-empty",children:"Skip empty files"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"createFileDirectory",checked:n.createFileDirectory,onCheckedChange:c=>a({createFileDirectory:c===!0})}),s.jsx(C,{htmlFor:"createFileDirectory",children:"Create File Directory"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"overwriteExistingFile",checked:n.overwriteExistingFile,onCheckedChange:c=>a({overwriteExistingFile:c===!0})}),s.jsx(C,{htmlFor:"overwriteExistingFile",children:"Overwrite Existing File"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fileConstructionMode",children:"File Construction Mode *"}),s.jsxs(G,{value:n.fileConstructionMode,onValueChange:c=>a({fileConstructionMode:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file construction mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"create",children:"Create"}),s.jsx(M,{value:"append",children:"Append"}),s.jsx(M,{value:"add-time-stamp",children:"Add Time Stamp"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"filePlacement",children:"File Placement *"}),s.jsxs(G,{value:n.filePlacement,onValueChange:c=>a({filePlacement:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select file placement"})}),s.jsxs(X,{children:[s.jsx(M,{value:"use-temporary-file",children:"Use Temporary File"}),s.jsx(M,{value:"write-out-directly",children:"Write Out Directly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emptyMessageHandling_receiver",children:"Empty-Message Handling *"}),s.jsxs(G,{value:n.emptyMessageHandling_receiver,onValueChange:c=>a({emptyMessageHandling_receiver:c}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select empty message handling"})}),s.jsxs(X,{children:[s.jsx(M,{value:"write-out-empty-file",children:"Write Out Empty File"}),s.jsx(M,{value:"ignore-empty-file",children:"Ignore Empty File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"maxConcurrentConnections",children:"Maximum Concurrent Connections"}),s.jsx(_,{id:"maxConcurrentConnections",value:n.maxConcurrentConnections,onChange:c=>a({maxConcurrentConnections:c.target.value}),placeholder:"Enter maximum concurrent connections",type:"number"})]})]})]})]}),e==="sender"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Duplicate Handling"}),s.jsx(mt,{className:"mb-4"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"enableDuplicateHandling",checked:n.enableDuplicateHandling,onCheckedChange:c=>a({enableDuplicateHandling:c===!0})}),s.jsx(C,{htmlFor:"enableDuplicateHandling",children:"Enable Duplicate Handling"})]}),n.enableDuplicateHandling&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"duplicateThreshold",children:"Duplicate Message Alert Threshold *"}),s.jsx(_,{id:"duplicateThreshold",value:n.duplicateMessageAlertThreshold,onChange:c=>a({duplicateMessageAlertThreshold:c.target.value}),placeholder:"Enter threshold value",type:"number"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"disableChannelOnExceed",checked:n.disableChannelOnExceed,onCheckedChange:c=>a({disableChannelOnExceed:c===!0})}),s.jsx(C,{htmlFor:"disableChannelOnExceed",children:"Disable Channel if Duplicate threshold has been exceeded"})]})]})]})]})]}),s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:n.transformationConfig||{mode:"transform"},onChange:c=>a({transformationConfig:c}),adapterType:"FILE",disabled:!1})}),n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"fileFormat",className:"mt-6",children:s.jsx(Z0,{config:n.fileFormatConfig||{},onChange:c=>a({fileFormatConfig:c})})}),n.transformationConfig?.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:e==="sender"?"SENDER":"RECEIVER",config:n.xmlConversion||{},onChange:c=>a({xmlConversion:c})})})]})})]})},Mx=({config:e,onChange:t,adapterType:n,mode:r,disabled:a=!1})=>{const[o,i]=h.useState(""),l=g=>{const f=[];try{JSON.parse(g)}catch(w){f.push(`Invalid JSON: ${w.message}`)}return f},c=g=>{const f=[];try{new DOMParser().parseFromString(g,"text/xml").querySelector("parsererror")&&f.push("Invalid XML format")}catch(w){f.push(`XML parsing error: ${w.message}`)}return f},d=g=>{const f={...e,samplePayload:g};if(g){const w=e.format==="JSON"?l(g):c(g);if(f.validationErrors=w,e.format==="JSON"&&w.length===0)try{const j=JSON.parse(g),v=u(j);i(v),f.convertedXml=v}catch(j){console.error("Error converting to XML preview:",j)}}t(f)},u=g=>{const f=(w,j="")=>{let v="";return Array.isArray(w)?w.forEach(y=>{v+=`${j}<item>
${f(y,j+"  ")}${j}</item>
`}):typeof w=="object"&&w!==null?Object.entries(w).forEach(([y,N])=>{const b=y.replace(/[^a-zA-Z0-9_-]/g,"_");typeof N=="object"&&N!==null?v+=`${j}<${b}>
${f(N,j+"  ")}${j}</${b}>
`:v+=`${j}<${b}>${m(String(N))}</${b}>
`}):v+=`${j}${m(String(w))}
`,v};return`<?xml version="1.0" encoding="UTF-8"?>
<Message>
${f(g,"  ")}</Message>`},m=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),p=()=>{if(!(!e.samplePayload||e.format!=="JSON"))try{const g=JSON.parse(e.samplePayload),f=x(g);t({...e,jsonSchema:JSON.stringify(f,null,2)})}catch(g){console.error("Error generating schema:",g)}},x=g=>{const f={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{}},w=j=>{if(j===null)return{type:"null"};if(typeof j=="string")return{type:"string"};if(typeof j=="number")return{type:"number"};if(typeof j=="boolean")return{type:"boolean"};if(Array.isArray(j))return j.length>0?{type:"array",items:w(j[0])}:{type:"array"};if(typeof j=="object"){const v={type:"object",properties:{}};return Object.entries(j).forEach(([y,N])=>{v.properties[y]=w(N)}),v}return{type:"string"}};return Object.entries(g).forEach(([j,v])=>{f.properties[j]=w(v)}),f};return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Payload Structure Definition"}),s.jsxs(pe,{children:["Define the structure of ",r==="sender"?"incoming":"outgoing"," payloads for your ",n," adapter"]})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs(Ge,{children:["For REST/HTTP adapters, the payload structure will be automatically converted to XML for mapping.",e.format==="JSON"&&" JSON payloads will be transformed to XML with appropriate element names."]})]}),s.jsxs(tt,{defaultValue:"sample",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-3",children:[s.jsx(ue,{value:"sample",children:"Sample Payload"}),s.jsx(ue,{value:"schema",children:"Schema Definition"}),s.jsx(ue,{value:"preview",disabled:!e.samplePayload||e.format!=="JSON",children:"XML Preview"})]}),s.jsxs(de,{value:"sample",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{children:["Sample ",e.format," Payload"]}),s.jsx(Ee,{placeholder:e.format==="JSON"?`{
  "orderId": "12345",
  "customer": {
    "name": "John Doe",
    "email": "john@example.com"
  },
  "items": [...]
}`:`<Order>
  <OrderId>12345</OrderId>
  <Customer>
    <Name>John Doe</Name>
  </Customer>
</Order>`,className:"font-mono text-sm min-h-[300px]",value:e.samplePayload||"",onChange:g=>d(g.target.value),disabled:a}),e.validationErrors&&e.validationErrors.length>0&&s.jsx("div",{className:"space-y-1",children:e.validationErrors.map((g,f)=>s.jsx("p",{className:"text-sm text-destructive",children:g},f))}),e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[s.jsx(bs,{className:"h-3 w-3"}),"Valid ",e.format," payload"]})]}),e.format==="JSON"&&e.samplePayload&&(!e.validationErrors||e.validationErrors.length===0)&&s.jsxs(q,{variant:"outline",size:"sm",onClick:p,disabled:a,children:[s.jsx(bN,{className:"h-4 w-4 mr-2"}),"Generate JSON Schema"]})]}),s.jsx(de,{value:"schema",className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{children:[e.format," Schema"]}),s.jsx(Ee,{placeholder:e.format==="JSON"?"JSON Schema (optional)":"XSD Schema (optional)",className:"font-mono text-sm min-h-[300px]",value:e.format==="JSON"?e.jsonSchema:e.xmlSchema,onChange:g=>t({...e,[e.format==="JSON"?"jsonSchema":"xmlSchema"]:g.target.value}),disabled:a}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema definition is optional but helps with validation and documentation"})]})}),s.jsxs(de,{value:"preview",className:"space-y-4",children:[s.jsxs(Xe,{children:[s.jsx(u8,{className:"h-4 w-4"}),s.jsx(Ge,{children:"This preview shows how your JSON payload will be converted to XML for mapping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"XML Conversion Preview"}),s.jsx(Ee,{className:"font-mono text-sm min-h-[300px] bg-muted",value:o,readOnly:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This XML structure will be used in the mapping screen"})]})]})]})]})]})};function koe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=No(),{structures:a}=Nc(),[o,i]=h.useState(""),[l,c]=h.useState([]),[d,u]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[m,p]=h.useState(e.payloadStructureConfig||{format:"JSON"});h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(o){const f=a.filter(w=>w.usage==="source");c(f)}else c([])},[o,a]);const x=f=>{u(f),t("transformationConfig",f)},g=f=>{p(f),t("payloadStructureConfig",f)};return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"HTTP Sender Configuration"}),s.jsx(pe,{children:"Configure your HTTP sender adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"}),s.jsx(ue,{value:"transformation",children:"Transformation"}),s.jsx(ue,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(ue,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsx(de,{value:"source",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"endpointUrl",children:"Endpoint URL"}),s.jsx(_,{id:"endpointUrl",type:"text",placeholder:"The URL where the 3rd party sends requests",value:e.endpointUrl||"",onChange:f=>t("endpointUrl",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(G,{value:e.httpMethod||"",onValueChange:f=>t("httpMethod",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"GET",children:"GET"}),s.jsx(M,{value:"POST",children:"POST"}),s.jsx(M,{value:"PUT",children:"PUT"}),s.jsx(M,{value:"DELETE",children:"DELETE"}),s.jsx(M,{value:"PATCH",children:"PATCH"}),s.jsx(M,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(G,{value:e.contentType||"",onValueChange:f=>t("contentType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"application/json",children:"application/json"}),s.jsx(M,{value:"application/xml",children:"application/xml"}),s.jsx(M,{value:"text/xml",children:"text/xml"}),s.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(M,{value:"text/plain",children:"text/plain"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sslConfig",children:"SSL/TLS Configuration"}),s.jsx(Ee,{id:"sslConfig",placeholder:"SSL certificates/truststore info for HTTPS",value:e.sslConfig||"",onChange:f=>t("sslConfig",f.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(_,{id:"apiVersion",type:"text",placeholder:"Version of the API being called",value:e.apiVersion||"",onChange:f=>t("apiVersion",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rateLimits",children:"Throttling/Rate Limits"}),s.jsx(_,{id:"rateLimits",type:"text",placeholder:"Limits on calls per time period",value:e.rateLimits||"",onChange:f=>t("rateLimits",f.target.value)})]})]})}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:f=>t("processingMode",f?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(_,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:f=>t("asyncResponseTimeout",parseInt(f.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(G,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:f=>t("asyncResponseFormat",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(_,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:f=>t("asyncCallbackUrl",f.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Data Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(G,{value:o,onValueChange:f=>{i(f),t("businessComponentId",f)},disabled:r,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:n.map(f=>s.jsx(M,{value:f.id,children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(G,{value:e.requestPayloadFormat||"",onValueChange:f=>t("requestPayloadFormat",f),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(G,{value:e.responseFormat||"",onValueChange:f=>t("responseFormat",f),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(Ee,{id:"customHeaders",placeholder:"Additional HTTP headers needed (e.g., correlation ID)",value:e.customHeaders||"",onChange:f=>t("customHeaders",f.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authenticationType||"",onValueChange:f=>t("authenticationType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(M,{value:"api-key",children:"API Key"}),s.jsx(M,{value:"jwt",children:"JWT"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicUsername",children:"Username"}),s.jsx(_,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:f=>t("basicUsername",f.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(_t,{name:"basicPassword",label:"Password",placeholder:"Basic auth password",value:e.basicPassword||"",onValueChange:f=>t("basicPassword",f),showConfirmation:!1})})]}),e.authenticationType==="oauth2-bearer"&&s.jsx("div",{className:"space-y-2",children:s.jsx(_t,{name:"bearerToken",label:"Bearer Token",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onValueChange:f=>t("bearerToken",f),showConfirmation:!1})}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(_,{id:"apiKeyName",type:"text",placeholder:"API key header name (e.g., X-API-Key)",value:e.apiKeyName||"",onChange:f=>t("apiKeyName",f.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(_t,{name:"apiKeyValue",label:"API Key Value",placeholder:"API key value",value:e.apiKeyValue||"",onValueChange:f=>t("apiKeyValue",f),showConfirmation:!1})})]}),e.authenticationType==="jwt"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"jwtToken",children:"JWT Token"}),s.jsx(Ee,{id:"jwtToken",placeholder:"JWT token or signing key",value:e.jwtToken||"",onChange:f=>t("jwtToken",f.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"jwtAlgorithm",children:"JWT Algorithm"}),s.jsxs(G,{value:e.jwtAlgorithm||"",onValueChange:f=>t("jwtAlgorithm",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select JWT algorithm"})}),s.jsxs(X,{children:[s.jsx(M,{value:"HS256",children:"HS256"}),s.jsx(M,{value:"HS384",children:"HS384"}),s.jsx(M,{value:"HS512",children:"HS512"}),s.jsx(M,{value:"RS256",children:"RS256"}),s.jsx(M,{value:"RS384",children:"RS384"}),s.jsx(M,{value:"RS512",children:"RS512"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response & Error Handling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Ee,{id:"errorHandling",placeholder:"Expected error codes and their meanings",value:e.errorHandling||"",onChange:f=>t("errorHandling",f.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Ee,{id:"retryPolicy",placeholder:"Instructions on retries or idempotency",value:e.retryPolicy||"",onChange:f=>t("retryPolicy",f.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:d,onChange:x,adapterType:"HTTP",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(de,{value:"payload",className:"mt-6",children:s.jsx(Mx,{config:m,onChange:g,adapterType:"HTTP",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:f=>t("xmlConversion",f)})})]})})]})}class Roe{async getAllCertificates(t){const n=t?`?businessComponentId=${t}`:"";return ee.get(`/certificates${n}`)}async getCertificateById(t){return ee.get(`/certificates/${t}`)}async createCertificate(t){return ee.post("/certificates",t)}async updateCertificate(t,n){return ee.put(`/certificates/${t}`,n)}async deleteCertificate(t){return ee.delete(`/certificates/${t}`)}async uploadCertificate(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("type",n.type),r.append("usage",n.usage),ee.post("/certificates/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadCertificate(t){const n=await fetch(`${ee.baseURL}/certificates/${t}/download`,{method:"GET",headers:ee.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download certificate");return n.blob()}async getCertificatesByBusinessComponent(t){return ee.get(`/business-components/${t}/certificates`)}async validateCertificate(t){return ee.get(`/certificates/${t}/validate`)}async getExpiringCertificates(t=30){return ee.get(`/certificates/expiring?days=${t}`)}}const r_=new Roe,eb=({id:e,label:t,value:n,onChange:r,businessComponentId:a,placeholder:o="Select certificate",required:i=!1})=>{const[l,c]=h.useState([]),[d,u]=h.useState(!0);h.useEffect(()=>{(async()=>{try{u(!0);const x=await r_.getAllCertificates(a);x.success&&x.data?c(x.data):(console.error("Failed to fetch certificates:",x.error),c([]))}catch(x){console.error("Error fetching certificates:",x),c([]),Tr({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{u(!1)}})()},[a]);const m=l.filter(p=>p.status==="active");return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:e,className:"flex items-center gap-1",children:[t,i&&s.jsx("span",{className:"text-destructive",children:"*"})]}),d?s.jsx(Re,{className:"h-10 w-full"}):s.jsxs(G,{value:n,onValueChange:r,children:[s.jsx(Y,{id:e,children:s.jsx(J,{placeholder:o})}),s.jsx(X,{children:m.length===0?s.jsxs(M,{value:"",disabled:!0,children:["No certificates available ",a?"for this business component":""]}):m.map(p=>s.jsx(M,{value:p.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:p.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.type,"  ",p.issuer]})]})},p.id))})]})]})};function Moe({configuration:e,onConfigurationChange:t,businessComponentId:n}){const[r,a]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[o,i]=h.useState(e.payloadStructureConfig||{format:"JSON"}),l=d=>{a(d),t("transformationConfig",d)},c=d=>{i(d),t("payloadStructureConfig",d)};return h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"HTTP Receiver Configuration"}),s.jsx(pe,{children:"Configure your HTTP receiver adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"}),s.jsx(ue,{value:"transformation",children:"Transformation"}),s.jsx(ue,{value:"payload",disabled:r.mode!=="transform",children:"Payload Structure"}),s.jsx(ue,{value:"xmlConversion",disabled:r.mode!=="transform",children:"XML Conversion"})]}),s.jsx(de,{value:"target",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(_,{id:"targetEndpointUrl",type:"text",placeholder:"Full URL of the 3rd party API endpoint",value:e.targetEndpointUrl||"",onChange:d=>t("targetEndpointUrl",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(G,{value:e.httpMethod||"",onValueChange:d=>t("httpMethod",d),children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select HTTP method"})}),s.jsxs(X,{className:"bg-background border z-50",children:[s.jsx(M,{value:"GET",children:"GET"}),s.jsx(M,{value:"POST",children:"POST"}),s.jsx(M,{value:"PUT",children:"PUT"}),s.jsx(M,{value:"DELETE",children:"DELETE"}),s.jsx(M,{value:"PATCH",children:"PATCH"}),s.jsx(M,{value:"HEAD",children:"HEAD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionTimeout",children:"Connection Timeout"}),s.jsx(_,{id:"connectionTimeout",type:"number",placeholder:"Max time to wait to establish connection (seconds)",value:e.connectionTimeout||"",onChange:d=>t("connectionTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"readTimeout",children:"Read Timeout"}),s.jsx(_,{id:"readTimeout",type:"number",placeholder:"Max time to wait for response (seconds)",value:e.readTimeout||"",onChange:d=>t("readTimeout",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"useProxy",checked:e.useProxy||!1,onCheckedChange:d=>t("useProxy",d)}),s.jsx(C,{htmlFor:"useProxy",children:"Use Proxy Settings"})]}),e.useProxy&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"proxyServer",children:"Server"}),s.jsx(_,{id:"proxyServer",type:"text",placeholder:"Proxy server address",value:e.proxyServer||"",onChange:d=>t("proxyServer",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"proxyPort",children:"Port"}),s.jsx(_,{id:"proxyPort",type:"number",placeholder:"Proxy port",value:e.proxyPort||"",onChange:d=>t("proxyPort",parseInt(d.target.value)||0)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"proxyUsername",children:"User Name"}),s.jsx(_,{id:"proxyUsername",type:"text",placeholder:"Proxy username",value:e.proxyUsername||"",onChange:d=>t("proxyUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"proxyPassword",children:"Password"}),s.jsx(_,{id:"proxyPassword",type:"password",placeholder:"Proxy password",value:e.proxyPassword||"",onChange:d=>t("proxyPassword",d.target.value)})]})]})]})]})}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:d=>t("processingMode",d?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(_,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:d=>t("responseTimeout",parseInt(d.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:d=>t("waitForResponse",d)}),s.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(_,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:d=>t("asyncCorrelationId",d.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Security"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authenticationType||"",onValueChange:d=>t("authenticationType",d),children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select authentication method"})}),s.jsxs(X,{className:"bg-background border z-50",children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic"}),s.jsx(M,{value:"oauth2-client-credentials",children:"OAuth2 Client Credentials"}),s.jsx(M,{value:"client-certificate",children:"Client Certificate"})]})]})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicUsername",children:"Username"}),s.jsx(_,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:d=>t("basicUsername",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicPassword",children:"Password"}),s.jsx(_,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:d=>t("basicPassword",d.target.value)})]})]}),e.authenticationType==="oauth2-client-credentials"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",type:"text",placeholder:"OAuth2 client ID",value:e.clientId||"",onChange:d=>t("clientId",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(_,{id:"clientSecret",type:"password",placeholder:"OAuth2 client secret",value:e.clientSecret||"",onChange:d=>t("clientSecret",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(_,{id:"tokenUrl",type:"text",placeholder:"OAuth2 token endpoint URL",value:e.tokenUrl||"",onChange:d=>t("tokenUrl",d.target.value)})]})]}),e.authenticationType==="client-certificate"&&s.jsx("div",{className:"space-y-4",children:s.jsx(eb,{id:"certificate",label:"Client Certificate",value:e.certificateId||"",onChange:d=>t("certificateId",d),businessComponentId:n,placeholder:"Select client certificate",required:!0})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"requestHeaders",children:"Request Headers"}),s.jsx(Ee,{id:"requestHeaders",placeholder:"Headers to send with the HTTP request",value:e.requestHeaders||"",onChange:d=>t("requestHeaders",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsx(Ee,{id:"requestPayloadFormat",placeholder:"Expected format/schema for request body",value:e.requestPayloadFormat||"",onChange:d=>t("requestPayloadFormat",d.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseHandling",children:"Response Handling"}),s.jsx(Ee,{id:"responseHandling",placeholder:"Expected response format and handling logic",value:e.responseHandling||"",onChange:d=>t("responseHandling",d.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Ee,{id:"retryPolicy",placeholder:"Rules for retrying failed requests",value:e.retryPolicy||"",onChange:d=>t("retryPolicy",d.target.value),className:"min-h-[80px]"})]})]})]}),s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:r,onChange:l,adapterType:"HTTP",disabled:!1})}),r.mode==="transform"&&s.jsx(de,{value:"payload",className:"mt-6",children:s.jsx(Mx,{config:o,onChange:c,adapterType:"HTTP",mode:"receiver",disabled:!1})}),r.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:d=>t("xmlConversion",d)})})]})})]})}const Doe=["TCP/IP","Gateway"];function Foe({configuration:e,onConfigurationChange:t}){return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"IDOC Sender Configuration"}),s.jsx(pe,{children:"Configure your IDOC sender adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(_,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(_,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(_,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(_,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(_,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(_,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(_,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(G,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection type"})}),s.jsx(X,{children:Doe.map(n=>s.jsx(M,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(_,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(_,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(_,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(_,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(_,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(_,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"messageType",children:"Message Type"}),s.jsx(_,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"processCode",children:"Process Code"}),s.jsx(_,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(Ee,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}const Ooe=["TCP/IP","Gateway"];function Ioe({configuration:e,onConfigurationChange:t}){return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"IDOC Receiver Configuration"}),s.jsx(pe,{children:"Configure your IDOC receiver adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"SAP System Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(_,{id:"sapSystemId",type:"text",placeholder:"e.g., PRD, DEV",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(_,{id:"sapClientNumber",type:"text",placeholder:"Client number within SAP system",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(_,{id:"sapSystemNumber",type:"text",placeholder:"Two-digit SAP system number",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Connection Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(_,{id:"sapApplicationServerHost",type:"text",placeholder:"Hostname or IP of SAP application server",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(_,{id:"sapGatewayHost",type:"text",placeholder:"Hostname/IP of SAP gateway (optional)",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(_,{id:"sapGatewayService",type:"text",placeholder:"Gateway service/port (optional)",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(_,{id:"portNumber",type:"number",placeholder:"Network port if applicable",value:e.portNumber||"",onChange:n=>t("portNumber",parseInt(n.target.value)||0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(G,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection type"})}),s.jsx(X,{children:Ooe.map(n=>s.jsx(M,{value:n,children:n},n))})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Authentication"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(_,{id:"sapUser",type:"text",placeholder:"User ID for RFC connection",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(_,{id:"sapPassword",type:"password",placeholder:"Password for RFC user",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"RFC Destination"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(_,{id:"rfcDestinationName",type:"text",placeholder:"SAP RFC destination (optional)",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value)})]})})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Transmission"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"idocPort",children:"IDoc Port"}),s.jsx(_,{id:"idocPort",type:"text",placeholder:"Logical port configured in SAP for receiving IDocs from middleware",value:e.idocPort||"",onChange:n=>t("idocPort",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(_,{id:"listenerServiceName",type:"text",placeholder:"Middleware service or process name sending the IDoc",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"IDoc Identification"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"idocType",children:"IDoc Type"}),s.jsx(_,{id:"idocType",type:"text",placeholder:"e.g., ORDERS05",value:e.idocType||"",onChange:n=>t("idocType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"messageType",children:"Message Type"}),s.jsx(_,{id:"messageType",type:"text",placeholder:"e.g., ORDERS",value:e.messageType||"",onChange:n=>t("messageType",n.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"processCode",children:"Process Code"}),s.jsx(_,{id:"processCode",type:"text",placeholder:"SAP process code used for sending the IDoc",value:e.processCode||"",onChange:n=>t("processCode",n.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Security / Encryption"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sncSecuritySettings",children:"SNC / Security Settings"}),s.jsx(Ee,{id:"sncSecuritySettings",placeholder:"Secure Network Communications parameters (optional)",value:e.sncSecuritySettings||"",onChange:n=>t("sncSecuritySettings",n.target.value),rows:4})]})})]})]})]})})]})}function Loe({adapter:e,onUpdate:t}){const n=(r,a)=>{t({...e,configuration:{...e.configuration,[r]:a}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing Details"})]}),s.jsx(de,{value:"source",className:"space-y-6",children:s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{children:"Connection Details"})}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(_,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:r=>n("connectionFactoryClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(_,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:r=>n("queueClass",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(_,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:r=>n("queueManager",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(_,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:r=>n("host",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:r=>n("port",parseInt(r.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(_,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:r=>n("channel",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(_,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:r=>n("connectionFactory",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(G,{value:e.configuration.transportType||"CLIENT",onValueChange:r=>n("transportType",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select transport type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(M,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"User Name"}),s.jsx(_,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:r=>n("username",r.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:r=>n("password",r)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:r=>n("useSSL",r)}),s.jsx(C,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sslKeystore",children:"SSL Keystore Path"}),s.jsx(_,{id:"sslKeystore",placeholder:"/path/to/keystore",value:e.configuration.sslKeystore||"",onChange:r=>n("sslKeystore",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sslPassword",children:"SSL Keystore Password"}),s.jsx(_,{id:"sslPassword",type:"password",placeholder:"Keystore Password",value:e.configuration.sslPassword||"",onChange:r=>n("sslPassword",r.target.value)})]})]})]})]})}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{children:"Processing Details"})}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(_,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:r=>n("queueName",r.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(G,{value:e.configuration.destinationType||"",onValueChange:r=>n("destinationType",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select destination type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"Queue",children:"Queue"}),s.jsx(M,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(_,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:r=>n("messageSelector",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:r=>n("clientId",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(G,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:r=>n("ackMode",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select acknowledgement mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(M,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function _oe({adapter:e,onUpdate:t,businessComponentId:n}){const r=(a,o)=>{t({...e,configuration:{...e.configuration,[a]:o}})};return s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing Details"})]}),s.jsx(de,{value:"target",className:"space-y-6",children:s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{children:"Connection Details"})}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionFactoryClass",children:"Connection Factory class"}),s.jsx(_,{id:"connectionFactoryClass",placeholder:"com.ibm.mq.jms.MQConnectionFactory",value:e.configuration.connectionFactoryClass||"",onChange:a=>r("connectionFactoryClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueClass",children:"Queue class"}),s.jsx(_,{id:"queueClass",placeholder:"com.ibm.mq.jms.MQQueue",value:e.configuration.queueClass||"",onChange:a=>r("queueClass",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueManager",children:"Queue Manager Name *"}),s.jsx(_,{id:"queueManager",placeholder:"QM1",value:e.configuration.queueManager||"",onChange:a=>r("queueManager",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"host",children:"Host Name / IP *"}),s.jsx(_,{id:"host",placeholder:"mqserver.example.com",value:e.configuration.host||"",onChange:a=>r("host",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"port",children:"Port *"}),s.jsx(_,{id:"port",type:"number",placeholder:"1414",value:e.configuration.port||"",onChange:a=>r("port",parseInt(a.target.value)),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"channel",children:"Channel Name *"}),s.jsx(_,{id:"channel",placeholder:"CHANNEL.SVRCONN",value:e.configuration.channel||"",onChange:a=>r("channel",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionFactory",children:"Connection Factory JNDI Name"}),s.jsx(_,{id:"connectionFactory",placeholder:"jms/ConnectionFactory",value:e.configuration.connectionFactory||"",onChange:a=>r("connectionFactory",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"transportType",children:"Transport Type *"}),s.jsxs(G,{value:e.configuration.transportType||"CLIENT",onValueChange:a=>r("transportType",a),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select transport type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"CLIENT",children:"Remote TCP/IP"}),s.jsx(M,{value:"BINDINGS",children:"Local (in-memory)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"User Name"}),s.jsx(_,{id:"username",placeholder:"MQ Username",value:e.configuration.username||"",onChange:a=>r("username",a.target.value)})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(_t,{name:"password",label:"Password",placeholder:"MQ Password",required:!1,value:e.configuration.password||"",onValueChange:a=>r("password",a)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"useSSL",checked:e.configuration.useSSL||!1,onCheckedChange:a=>r("useSSL",a)}),s.jsx(C,{htmlFor:"useSSL",children:"Use SSL/TLS"})]}),e.configuration.useSSL&&s.jsx("div",{className:"space-y-4",children:s.jsx(eb,{id:"sslCertificate",label:"SSL Certificate",value:e.configuration.sslCertificateId||"",onChange:a=>r("sslCertificateId",a),businessComponentId:n,placeholder:"Select SSL certificate",required:!0})})]})]})}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{children:"Processing Details"})}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queueName",children:"Queue Name *"}),s.jsx(_,{id:"queueName",placeholder:"INBOUND.FILE.QUEUE",value:e.configuration.queueName||"",onChange:a=>r("queueName",a.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"destinationType",children:"JMS Destination Type *"}),s.jsxs(G,{value:e.configuration.destinationType||"",onValueChange:a=>r("destinationType",a),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select destination type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"Queue",children:"Queue"}),s.jsx(M,{value:"Topic",children:"Topic"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"messageSelector",children:"Message Selector"}),s.jsx(_,{id:"messageSelector",placeholder:"JMSType='FileMessage'",value:e.configuration.messageSelector||"",onChange:a=>r("messageSelector",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",placeholder:"Optional Client ID",value:e.configuration.clientId||"",onChange:a=>r("clientId",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"ackMode",children:"Acknowledgement Mode *"}),s.jsxs(G,{value:e.configuration.ackMode||"AUTO_ACKNOWLEDGE",onValueChange:a=>r("ackMode",a),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select acknowledgement mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"AUTO_ACKNOWLEDGE",children:"AUTO_ACKNOWLEDGE"}),s.jsx(M,{value:"CLIENT_ACKNOWLEDGE",children:"CLIENT_ACKNOWLEDGE"})]})]})]})]})})]})})]})})}function $oe({configuration:e,onConfigurationChange:t}){const{businessComponents:n,loading:r}=No(),{structures:a}=Nc(),[o,i]=h.useState(""),[l,c]=h.useState([]),[d,u]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[m,p]=h.useState(e.payloadStructureConfig||{format:"JSON"});h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(o){const f=a.filter(w=>w.usage==="source");c(f)}else c([])},[o,a]);const x=f=>{u(f),t("transformationConfig",f)},g=f=>{p(f),t("payloadStructureConfig",f)};return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"REST Sender Configuration"}),s.jsx(pe,{children:"Configure your REST sender adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"}),s.jsx(ue,{value:"transformation",children:"Transformation"}),s.jsx(ue,{value:"payload",disabled:d.mode!=="transform",children:"Payload Structure"}),s.jsx(ue,{value:"xmlConversion",disabled:d.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(de,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"baseEndpointUrl",children:"Base Endpoint URL"}),s.jsx(_,{id:"baseEndpointUrl",type:"text",placeholder:"https://api.yourdomain.com/integration",value:e.baseEndpointUrl||"",onChange:f=>t("baseEndpointUrl",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of your REST API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(_,{id:"resourcePath",type:"text",placeholder:"/orders, /status, /submit",value:e.resourcePath||"",onChange:f=>t("resourcePath",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific REST resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(_,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:f=>t("apiVersion",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Versioning info for API"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(G,{value:e.httpMethod||"",onValueChange:f=>t("httpMethod",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"GET",children:"GET"}),s.jsx(M,{value:"POST",children:"POST"}),s.jsx(M,{value:"PUT",children:"PUT"}),s.jsx(M,{value:"DELETE",children:"DELETE"}),s.jsx(M,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to call"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(G,{value:e.contentType||"",onValueChange:f=>t("contentType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"application/json",children:"application/json"}),s.jsx(M,{value:"application/xml",children:"application/xml"}),s.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(M,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type for request"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(G,{value:e.acceptType||"",onValueChange:f=>t("acceptType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select expected response type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"application/json",children:"application/json"}),s.jsx(M,{value:"application/xml",children:"application/xml"}),s.jsx(M,{value:"text/plain",children:"text/plain"}),s.jsx(M,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type of response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(Ee,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:f=>t("queryParameters",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(_,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:f=>t("timeoutSettings",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:f=>t("processingMode",f?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(_,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:f=>t("asyncResponseTimeout",parseInt(f.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(G,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:f=>t("asyncResponseFormat",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(_,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:f=>t("asyncCallbackUrl",f.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authenticationType||"",onValueChange:f=>t("authenticationType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(M,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method required"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicUsername",children:"Username"}),s.jsx(_,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:f=>t("basicUsername",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicPassword",children:"Password"}),s.jsx(_,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:f=>t("basicPassword",f.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(_,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:f=>t("bearerToken",f.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(_,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:f=>t("apiKeyName",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(_,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:f=>t("apiKeyValue",f.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(G,{value:o,onValueChange:f=>{i(f),t("businessComponentId",f)},disabled:r,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:n.map(f=>s.jsx(M,{value:f.id,children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"requestPayload",children:"Request Payload"}),s.jsxs(G,{value:e.requestPayload||"",onValueChange:f=>t("requestPayload",f),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format JSON or XML schema expected in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(G,{value:e.responseFormat||"",onValueChange:f=>t("responseFormat",f),disabled:!o||l.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:l.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"customHeaders",children:"Headers"}),s.jsx(Ee,{id:"customHeaders",placeholder:"X-Correlation-ID: <UUID>",value:e.customHeaders||"",onChange:f=>t("customHeaders",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Required custom HTTP headers"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Throttling"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Ee,{id:"errorHandling",placeholder:"4xx/5xx codes, JSON error payload",value:e.errorHandling||"",onChange:f=>t("errorHandling",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected HTTP status codes and error message formats"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rateLimiting",children:"Rate Limiting / Throttling"}),s.jsx(_,{id:"rateLimiting",type:"text",placeholder:"1000 requests/minute",value:e.rateLimiting||"",onChange:f=>t("rateLimiting",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Limits on API calls per time interval"})]})]})]}),s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:d,onChange:x,adapterType:"REST",dataStructures:l,disabled:!1})}),d.mode==="transform"&&s.jsx(de,{value:"payload",className:"mt-6",children:s.jsx(Mx,{config:m,onChange:g,adapterType:"REST",mode:"sender",disabled:!1})}),d.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:"SENDER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0},onChange:f=>t("xmlConversion",f)})})]})})]})}function Uoe({configuration:e,onConfigurationChange:t}){const[n,r]=h.useState(e.transformationConfig||{mode:"transform",requiresStructure:!0}),[a,o]=h.useState(e.payloadStructureConfig||{format:"JSON"}),i=f=>{r(f),t("transformationConfig",f)},l=f=>{o(f),t("payloadStructureConfig",f)},{businessComponents:c,loading:d}=No(),{structures:u}=Nc(),[m,p]=h.useState(""),[x,g]=h.useState([]);return h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{if(m){const f=u.filter(w=>w.usage==="target");g(f)}else g([])},[m,u]),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"REST Receiver Configuration"}),s.jsx(pe,{children:"Configure your REST receiver adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"}),s.jsx(ue,{value:"transformation",children:"Transformation"}),s.jsx(ue,{value:"payload",disabled:n.mode!=="transform",children:"Payload Structure"}),s.jsx(ue,{value:"xmlConversion",disabled:n.mode!=="transform",children:"XML Conversion"})]}),s.jsxs(de,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"targetEndpointUrl",children:"Target Endpoint URL"}),s.jsx(_,{id:"targetEndpointUrl",type:"text",placeholder:"https://api.thirdparty.com/endpoint",value:e.targetEndpointUrl||"",onChange:f=>t("targetEndpointUrl",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full URL of the 3rd party API"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"resourcePath",children:"Resource Path"}),s.jsx(_,{id:"resourcePath",type:"text",placeholder:"/submit, /orders",value:e.resourcePath||"",onChange:f=>t("resourcePath",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific API resource or path"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),s.jsx(_,{id:"apiVersion",type:"text",placeholder:"v1, v2",value:e.apiVersion||"",onChange:f=>t("apiVersion",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"API version info"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Method and Format"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"httpMethod",children:"HTTP Method"}),s.jsxs(G,{value:e.httpMethod||"",onValueChange:f=>t("httpMethod",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select HTTP method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"POST",children:"POST"}),s.jsx(M,{value:"PUT",children:"PUT"}),s.jsx(M,{value:"GET",children:"GET"}),s.jsx(M,{value:"DELETE",children:"DELETE"}),s.jsx(M,{value:"PATCH",children:"PATCH"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP verb to use"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"contentType",children:"Content-Type"}),s.jsxs(G,{value:e.contentType||"",onValueChange:f=>t("contentType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select media type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"application/json",children:"application/json"}),s.jsx(M,{value:"application/xml",children:"application/xml"}),s.jsx(M,{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"}),s.jsx(M,{value:"text/plain",children:"text/plain"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Media type sent in request body"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"acceptType",children:"Accept"}),s.jsxs(G,{value:e.acceptType||"",onValueChange:f=>t("acceptType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select expected response type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"application/json",children:"application/json"}),s.jsx(M,{value:"application/xml",children:"application/xml"}),s.jsx(M,{value:"text/plain",children:"text/plain"}),s.jsx(M,{value:"text/html",children:"text/html"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected media type in response"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Request Parameters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queryParameters",children:"Query Parameters"}),s.jsx(Ee,{id:"queryParameters",placeholder:"?page=1&size=10",value:e.queryParameters||"",onChange:f=>t("queryParameters",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional query params for filtering/pagination"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeoutSettings",children:"Timeout Settings (seconds)"}),s.jsx(_,{id:"timeoutSettings",type:"number",placeholder:"30",value:e.timeoutSettings||"",onChange:f=>t("timeoutSettings",f.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"proxySettings",children:"Proxy Settings"}),s.jsx(Ee,{id:"proxySettings",placeholder:"Proxy host, port",value:e.proxySettings||"",onChange:f=>t("proxySettings",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional HTTP proxy configuration"})]})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:f=>t("processingMode",f?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(_,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:f=>t("responseTimeout",parseInt(f.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:f=>t("waitForResponse",f)}),s.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),e.processingMode==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(_,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:f=>t("asyncCorrelationId",f.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authenticationType||"",onValueChange:f=>t("authenticationType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication method"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"oauth2-bearer",children:"OAuth2 Bearer Token"}),s.jsx(M,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security method for outbound calls"})]}),e.authenticationType==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicUsername",children:"Username"}),s.jsx(_,{id:"basicUsername",type:"text",placeholder:"Basic auth username",value:e.basicUsername||"",onChange:f=>t("basicUsername",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"basicPassword",children:"Password"}),s.jsx(_,{id:"basicPassword",type:"password",placeholder:"Basic auth password",value:e.basicPassword||"",onChange:f=>t("basicPassword",f.target.value)})]})]}),e.authenticationType==="oauth2-bearer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"bearerToken",children:"Bearer Token"}),s.jsx(_,{id:"bearerToken",type:"password",placeholder:"OAuth2 bearer token",value:e.bearerToken||"",onChange:f=>t("bearerToken",f.target.value)})]}),e.authenticationType==="api-key"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyName",children:"API Key Name"}),s.jsx(_,{id:"apiKeyName",type:"text",placeholder:"X-API-Key",value:e.apiKeyName||"",onChange:f=>t("apiKeyName",f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyValue",children:"API Key Value"}),s.jsx(_,{id:"apiKeyValue",type:"password",placeholder:"API key value",value:e.apiKeyValue||"",onChange:f=>t("apiKeyValue",f.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payload and Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(G,{value:m,onValueChange:f=>{p(f),t("businessComponentId",f)},disabled:d,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsx(X,{className:"bg-background border z-50",children:c.map(f=>s.jsx(M,{value:f.id,children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"requestPayloadFormat",children:"Request Payload Format"}),s.jsxs(G,{value:e.requestPayloadFormat||"",onValueChange:f=>t("requestPayloadFormat",f),disabled:!m||x.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select request structure"})}),s.jsx(X,{className:"bg-background border z-50",children:x.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Schema and format of data sent"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseFormat",children:"Response Format"}),s.jsxs(G,{value:e.responseFormat||"",onValueChange:f=>t("responseFormat",f),disabled:!m||x.length===0,children:[s.jsx(Y,{className:"bg-background",children:s.jsx(J,{placeholder:"Select response structure"})}),s.jsx(X,{className:"bg-background border z-50",children:x.map(f=>s.jsxs(M,{value:f.id,children:[f.name," (",f.type,")"]},f.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected format of API response"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"customHeaders",children:"Custom Headers"}),s.jsx(Ee,{id:"customHeaders",placeholder:"X-Request-ID, Authorization",value:e.customHeaders||"",onChange:f=>t("customHeaders",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"HTTP headers sent with requests"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Error Handling and Retry"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"errorHandling",children:"Error Handling"}),s.jsx(Ee,{id:"errorHandling",placeholder:"HTTP 4xx/5xx codes, error JSON",value:e.errorHandling||"",onChange:f=>t("errorHandling",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected error codes and handling logic"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retryPolicy",children:"Retry Policy"}),s.jsx(Ee,{id:"retryPolicy",placeholder:"Number of retries, backoff strategy",value:e.retryPolicy||"",onChange:f=>t("retryPolicy",f.target.value),className:"min-h-[80px]"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rules for retrying failed requests"})]})]})]}),s.jsx(de,{value:"transformation",className:"mt-6",children:s.jsx(ki,{config:n,onChange:i,adapterType:"REST",disabled:!1})}),n.mode==="transform"&&s.jsx(de,{value:"payload",className:"mt-6",children:s.jsx(Mx,{config:a,onChange:l,adapterType:"REST",mode:"receiver",disabled:!1})}),n.mode==="transform"&&s.jsx(de,{value:"xmlConversion",className:"mt-6",children:s.jsx(Ai,{mode:"RECEIVER",config:e.xmlConversion||{rootElementName:"Message",encoding:"UTF-8",includeXmlDeclaration:!0,prettyPrint:!0,removeRootElement:!0,handleNamespaces:!0},onChange:f=>t("xmlConversion",f)})})]})})]})}function Voe({configuration:e,onConfigurationChange:t,businessComponentId:n}){He();const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState([]),[m,p]=h.useState(!1);h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{n&&x()},[n]),h.useEffect(()=>{e.selectedWsdl?g(e.selectedWsdl):(u([]),c({}))},[e.selectedWsdl]);const x=async()=>{try{i(!0);const f=await ee.get("/structures",{params:{type:"wsdl",usage:"source",businessComponentId:n,limit:100}});if(f.data&&f.data.structures){console.log("SOAP Sender - Raw structures from API:",f.data.structures);const w=f.data.structures.filter(j=>{const v=j.type?.toLowerCase()==="wsdl",y=j.usage==="source"||j.metadata?.usage==="source"||!j.usage,N=v&&y;return console.log(`SOAP Sender - Structure ${j.name}: type=${j.type}, usage=${j.usage}, metadata.usage=${j.metadata?.usage}, included=${N}`),N}).map(j=>({id:j.id,name:j.name,endpointUrl:j.metadata?.endpointUrl||""}));console.log("SOAP Sender - Filtered WSDL list:",w),a(w)}else a([])}catch(f){console.error("Error fetching WSDLs:",f),a([])}finally{i(!1)}},g=async f=>{try{p(!0);const w=await ee.get(`/structures/${f}`);if(w.data){const j=w.data;if(console.log("SOAP Sender - WSDL Structure:",j),console.log("SOAP Sender - WSDL Metadata:",j.metadata),j.originalContent){const E=x4(j.originalContent);u(E),console.log("SOAP Sender - Extracted SOAP actions:",E),E.length===1&&t("soapAction",E[0].soapAction);try{const O=new DOMParser().parseFromString(j.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let I=!1;O.forEach(F=>{F.querySelectorAll("operation, wsdl\\:operation").forEach(U=>{const k=!!U.querySelector("input, wsdl\\:input"),P=!!U.querySelector("output, wsdl\\:output");k&&P&&(I=!0)})}),I?(console.log("SOAP Sender - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Sender - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}catch(S){console.error("Error parsing WSDL for sync/async detection:",S),t("processingMode","SYNCHRONOUS")}}else u([]),console.warn("SOAP Sender - No originalContent in WSDL structure");const v={};(j.metadata?.requestStructure||j.metadata?.operationInfo?.request)&&(v.request=j.metadata?.requestStructure||j.metadata?.operationInfo?.request),(j.metadata?.responseStructure||j.metadata?.operationInfo?.response)&&(v.response=j.metadata?.responseStructure||j.metadata?.operationInfo?.response),(j.metadata?.faultStructure||j.metadata?.operationInfo?.fault)&&(v.fault=j.metadata?.faultStructure||j.metadata?.operationInfo?.fault),c(v),console.log("SOAP Sender - Extracted structures:",v);const y=j.metadata?.hasInput||j.metadata?.operationInfo?.hasInput,N=j.metadata?.hasOutput||j.metadata?.operationInfo?.hasOutput,b=j.metadata?.hasFault||j.metadata?.operationInfo?.hasFault;console.log(`SOAP Sender - WSDL Analysis from metadata: hasInput=${y}, hasOutput=${N}, hasFault=${b}`)}}catch(w){console.error("Error checking WSDL structure:",w),t("processingMode","ASYNCHRONOUS"),c({}),u([])}finally{p(!1)}};return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"SOAP Sender Configuration"}),s.jsx(pe,{children:"Configure your SOAP sender adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"source",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"connectionMode",className:"text-sm font-medium",children:(e.connectionMode||"PUSH")==="PUSH"?"Push Mode (Inbound)":"Poll Mode (Outbound)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.connectionMode||"PUSH")==="PUSH"?"Receive SOAP requests at the configured endpoint":"Poll and send requests to external SOAP service"})]}),s.jsx(ct,{id:"connectionMode",checked:(e.connectionMode||"PUSH")==="PUSH",onCheckedChange:f=>t("connectionMode",f?"PUSH":"POLL")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"service-endpoint",children:(e.connectionMode||"PUSH")==="PUSH"?"Service Endpoint Path":"External Service URL"}),s.jsx(_,{id:"service-endpoint",value:e.serviceEndpointUrl||"",onChange:f=>t("serviceEndpointUrl",f.target.value),placeholder:(e.connectionMode||"PUSH")==="PUSH"?"/tempconvert or /soap/tempconvert":"https://api.external.com/soap/service"}),(e.connectionMode||"PUSH")==="PUSH"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"This path will be used as the service endpoint (e.g., http://localhost:8080/soap/tempconvert)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"soap-action",children:"SOAP Action"}),d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(G,{value:e.soapAction||"none",onValueChange:f=>t("soapAction",f==="none"?"":f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:m?"Loading SOAP actions...":"Select SOAP action"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None (Leave blank)"}),d.map((f,w)=>s.jsxs(M,{value:f.soapAction||`action_${w}`,children:[f.operationName," - ",f.soapAction||"(empty)"]},w))]})]}),d.length>1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",d.length," operations. Select the operation you want to use."]})]}):s.jsx(_,{id:"soap-action",value:e.soapAction||"",onChange:f=>t("soapAction",f.target.value),placeholder:"urn:getOrderDetails",disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(G,{value:e.contentType||"",onValueChange:f=>t("contentType",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select content type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"text/xml",children:"text/xml"}),s.jsx(M,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(G,{value:e.soapVersion||"",onValueChange:f=>{t("soapVersion",f),f==="1.1"?t("contentType","text/xml"):f==="1.2"&&t("contentType","application/soap+xml")},children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select SOAP version"})}),s.jsxs(X,{children:[s.jsx(M,{value:"1.1",children:"SOAP 1.1"}),s.jsx(M,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Source Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"source-wsdl",children:"Select WSDL"}),s.jsxs(G,{value:e.selectedWsdl||"",onValueChange:f=>t("selectedWsdl",f),disabled:o||!n,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:n?o?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(X,{children:r.map(f=>s.jsx(M,{value:f.id,children:f.name},f.id))})]})]})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Return immediate acknowledgment (HTTP 202), process in background":"Wait for complete processing before sending response back to caller"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:f=>t("processingMode",f?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseTimeout",children:"Async Response Timeout (ms)"}),s.jsx(_,{id:"asyncResponseTimeout",type:"number",placeholder:"30000",value:e.asyncResponseTimeout||"",onChange:f=>t("asyncResponseTimeout",parseInt(f.target.value)||3e4)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncResponseFormat",children:"Async Response Format"}),s.jsxs(G,{value:e.asyncResponseFormat||"HTTP_202",onValueChange:f=>t("asyncResponseFormat",f),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select response format"})}),s.jsxs(X,{children:[s.jsx(M,{value:"HTTP_202",children:"HTTP 202 Accepted"}),s.jsx(M,{value:"CUSTOM_RESPONSE",children:"Custom Response"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCallbackUrl",children:"Callback URL (Optional)"}),s.jsx(_,{id:"asyncCallbackUrl",type:"url",placeholder:"https://callback-endpoint.example.com/webhook",value:e.asyncCallbackUrl||"",onChange:f=>t("asyncCallbackUrl",f.target.value)})]})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"response-message",children:"Response Message"}),s.jsx(Ee,{id:"response-message",value:e.responseMessage||"",onChange:f=>t("responseMessage",f.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(Ee,{id:"error-handling",value:e.errorHandling||"",onChange:f=>t("errorHandling",f.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(_,{id:"timeout",type:"number",value:e.timeout||"",onChange:f=>t("timeout",f.target.value),placeholder:"60"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Custom Headers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"custom-headers",children:"Custom SOAP Headers"}),s.jsx(Ee,{id:"custom-headers",value:e.customHeaders||"",onChange:f=>t("customHeaders",f.target.value),placeholder:"Additional SOAP headers in XML format (e.g., WS-Addressing, Custom security headers)",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter custom SOAP headers that will be included in the request envelope"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Additional Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retry-count",children:"Retry Count"}),s.jsx(_,{id:"retry-count",type:"number",value:e.retryCount||"",onChange:f=>t("retryCount",f.target.value),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retry-interval",children:"Retry Interval (seconds)"}),s.jsx(_,{id:"retry-interval",type:"number",value:e.retryInterval||"",onChange:f=>t("retryInterval",f.target.value),placeholder:"5"})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),l.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.request=="string"?l.request:JSON.stringify(l.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&l.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.response=="string"?l.response:JSON.stringify(l.response,null,2)})})]}),l.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.fault=="string"?l.fault:JSON.stringify(l.fault,null,2)})})]}),!l.request&&!l.response&&!l.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}function Boe({configuration:e,onConfigurationChange:t,businessComponentId:n}){He();const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState([]),[m,p]=h.useState(!1);h.useEffect(()=>{e.processingMode||t("processingMode","ASYNCHRONOUS")},[]),h.useEffect(()=>{n&&x()},[n]),h.useEffect(()=>{e.selectedWsdl?g(e.selectedWsdl):(u([]),c({}))},[e.selectedWsdl]);const x=async()=>{try{i(!0);const v=await ee.get("/structures",{params:{type:"wsdl",usage:"target",businessComponentId:n,limit:100}});if(v.data&&v.data.structures){const y=v.data.structures.filter(N=>{const b=N.type?.toLowerCase()==="wsdl",E=N.usage==="target"||N.metadata?.usage==="target"||!N.usage,S=b&&E;return console.log(`SOAP Receiver - Structure ${N.name}: type=${N.type}, usage=${N.usage}, metadata.usage=${N.metadata?.usage}, included=${S}`),S}).map(N=>({id:N.id,name:N.name,endpointUrl:N.metadata?.endpointUrl||""}));a(y)}else a([])}catch(v){console.error("Error fetching WSDLs:",v),a([])}finally{i(!1)}},g=async v=>{try{p(!0);const y=await ee.get(`/structures/${v}`);if(y.data){if(console.log("SOAP Receiver - WSDL Structure:",y.data),console.log("SOAP Receiver - WSDL Structure:",y.data),console.log("SOAP Receiver - WSDL Metadata:",y.data.metadata),console.log("SOAP Receiver - WSDL Namespace:",y.data.namespace),console.log("SOAP Receiver - Full response data:",JSON.stringify(y.data,null,2)),y.data.originalContent){const A=x4(y.data.originalContent);u(A),console.log("SOAP Receiver - Extracted SOAP actions:",A),A.length===1&&t("soapAction",A[0].soapAction);try{const F=new DOMParser().parseFromString(y.data.originalContent,"text/xml").querySelectorAll("portType, wsdl\\:portType");let L=!1;F.forEach(U=>{U.querySelectorAll("operation, wsdl\\:operation").forEach(P=>{const T=!!P.querySelector("input, wsdl\\:input"),R=!!P.querySelector("output, wsdl\\:output");T&&R&&(L=!0)})}),L?(console.log("SOAP Receiver - WSDL has synchronous operations (request/response), setting to SYNCHRONOUS"),t("processingMode","SYNCHRONOUS")):(console.log("SOAP Receiver - WSDL appears to have one-way operations only, setting to ASYNCHRONOUS"),t("processingMode","ASYNCHRONOUS"))}catch(O){console.error("Error parsing WSDL for sync/async detection:",O),t("processingMode","SYNCHRONOUS")}}else u([]),console.warn("SOAP Receiver - No originalContent in WSDL structure");const N={};if((y.data.metadata?.requestStructure||y.data.metadata?.operationInfo?.request)&&(N.request=y.data.metadata?.requestStructure||y.data.metadata?.operationInfo?.request),(y.data.metadata?.responseStructure||y.data.metadata?.operationInfo?.response)&&(N.response=y.data.metadata?.responseStructure||y.data.metadata?.operationInfo?.response),(y.data.metadata?.faultStructure||y.data.metadata?.operationInfo?.fault)&&(N.fault=y.data.metadata?.faultStructure||y.data.metadata?.operationInfo?.fault),c(N),console.log("SOAP Receiver - Extracted structures:",N),y.data.metadata?.endpointUrl)t("targetEndpointUrl",y.data.metadata.endpointUrl),console.log("SOAP Receiver - Using endpoint URL from metadata:",y.data.metadata.endpointUrl);else if(y.data.namespace?.schemaLocation)t("targetEndpointUrl",y.data.namespace.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from namespace.schemaLocation:",y.data.namespace.schemaLocation);else if(y.data.namespace&&typeof y.data.namespace=="string")try{const A=JSON.parse(y.data.namespace);A.schemaLocation&&(t("targetEndpointUrl",A.schemaLocation),console.log("SOAP Receiver - Using endpoint URL from parsed namespace:",A.schemaLocation))}catch{console.log("SOAP Receiver - Could not parse namespace string")}else if(y.data.originalContent)try{const I=new DOMParser().parseFromString(y.data.originalContent,"text/xml").querySelectorAll('address, soap\\:address, soap12\\:address, wsdl\\:address, *[name()="soap:address"], *[name()="soap12:address"]');if(I.length>0){const F=I[0].getAttribute("location");F&&(t("targetEndpointUrl",F),console.log("SOAP Receiver - Extracted endpoint URL from WSDL:",F))}}catch(A){console.error("Error parsing WSDL for endpoint URL:",A)}const b=y.data.metadata?.hasInput||y.data.metadata?.operationInfo?.hasInput,E=y.data.metadata?.hasOutput||y.data.metadata?.operationInfo?.hasOutput,S=y.data.metadata?.hasFault||y.data.metadata?.operationInfo?.hasFault;console.log(`SOAP Receiver - WSDL Analysis from metadata: hasInput=${b}, hasOutput=${E}, hasFault=${S}`)}}catch(y){console.error("Error fetching WSDL details:",y),t("processingMode","ASYNCHRONOUS"),c({}),u([])}finally{p(!1)}},f=v=>{t("authentication.type",v),t("authentication.credentials",{})},w=(v,y)=>{const N={...e.authentication?.credentials||{}};N[v]=y,t("authentication.credentials",N)},j=()=>{const v=e.authentication?.type,y=e.authentication?.credentials||{};switch(v){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-username",children:"Username"}),s.jsx(_,{id:"auth-username",value:y.username||"",onChange:N=>w("username",N.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-password",children:"Password"}),s.jsx(_,{id:"auth-password",type:"password",value:y.password||"",onChange:N=>w("password",N.target.value),placeholder:"Enter password"})]})]});case"ws-security":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Authentication Credentials"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-username",children:"Username"}),s.jsx(_,{id:"auth-username",value:y.username||"",onChange:N=>w("username",N.target.value),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-password",children:"Password"}),s.jsx(_,{id:"auth-password",type:"password",value:y.password||"",onChange:N=>w("password",N.target.value),placeholder:"Enter password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"password-type",children:"Password Type"}),s.jsxs(G,{value:y.passwordType||"digest",onValueChange:N=>w("passwordType",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select password type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"digest",children:"Password Digest"}),s.jsx(M,{value:"plaintext",children:"Plain Text"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"WS-Security Policies"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"security-policy",children:"Security Policy"}),s.jsxs(G,{value:y.securityPolicy||"",onValueChange:N=>w("securityPolicy",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select security policy"})}),s.jsxs(X,{children:[s.jsx(M,{value:"usernametoken",children:"Username Token Only"}),s.jsx(M,{value:"timestamp",children:"Timestamp"}),s.jsx(M,{value:"usernametoken-timestamp",children:"Username Token + Timestamp"}),s.jsx(M,{value:"sign",children:"Digital Sign"}),s.jsx(M,{value:"encrypt",children:"Encrypt"}),s.jsx(M,{value:"sign-encrypt",children:"Sign + Encrypt"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"ws-addressing",children:"WS-Addressing"}),s.jsxs(G,{value:y.wsAddressing||"disabled",onValueChange:N=>w("wsAddressing",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select WS-Addressing"})}),s.jsxs(X,{children:[s.jsx(M,{value:"disabled",children:"Disabled"}),s.jsx(M,{value:"optional",children:"Optional"}),s.jsx(M,{value:"required",children:"Required"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timestamp-ttl",children:"Timestamp TTL (seconds)"}),s.jsx(_,{id:"timestamp-ttl",type:"number",value:y.timestampTTL||"",onChange:N=>w("timestampTTL",N.target.value),placeholder:"300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"security-algorithm",children:"Security Algorithm"}),s.jsxs(G,{value:y.securityAlgorithm||"",onValueChange:N=>w("securityAlgorithm",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select algorithm"})}),s.jsxs(X,{children:[s.jsx(M,{value:"aes128",children:"AES-128"}),s.jsx(M,{value:"aes256",children:"AES-256"}),s.jsx(M,{value:"3des",children:"Triple DES"}),s.jsx(M,{value:"rsa15",children:"RSA 1.5"}),s.jsx(M,{value:"rsa-oaep",children:"RSA-OAEP"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Certificate & Key Management"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(eb,{id:"soapCertificate",label:"SOAP Certificate",value:e.certificateId||"",onChange:N=>t("certificateId",N),businessComponentId:n,placeholder:"Select SOAP certificate",required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"verify-server-certificate",children:"Verify Server Certificate"}),s.jsxs(G,{value:e.verifyServerCertificate||"true",onValueChange:N=>t("verifyServerCertificate",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select verification"})}),s.jsxs(X,{children:[s.jsx(M,{value:"true",children:"Yes"}),s.jsx(M,{value:"false",children:"No"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-muted-foreground",children:"Advanced Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"custom-policy",children:"Custom Security Policy"}),s.jsx(Ee,{id:"custom-policy",value:y.customPolicy||"",onChange:N=>w("customPolicy",N.target.value),placeholder:"Enter custom WS-Security policy XML if needed",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"security-token-reference",children:"Security Token Reference"}),s.jsxs(G,{value:y.securityTokenReference||"binarySecurityToken",onValueChange:N=>w("securityTokenReference",N),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select token reference"})}),s.jsxs(X,{children:[s.jsx(M,{value:"binarySecurityToken",children:"Binary Security Token"}),s.jsx(M,{value:"keyIdentifier",children:"Key Identifier"}),s.jsx(M,{value:"x509Data",children:"X509 Data"}),s.jsx(M,{value:"thumbprint",children:"Thumbprint Reference"})]})]})]})]})]})]});case"oauth":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-client-id",children:"Client ID"}),s.jsx(_,{id:"auth-client-id",value:y.clientId||"",onChange:N=>w("clientId",N.target.value),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-client-secret",children:"Client Secret"}),s.jsx(_,{id:"auth-client-secret",type:"password",value:y.clientSecret||"",onChange:N=>w("clientSecret",N.target.value),placeholder:"Enter client secret"})]})]});default:return null}};return s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"SOAP Receiver Configuration"}),s.jsx(pe,{children:"Configure your SOAP receiver adapter settings"})]}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"target",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Endpoint Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"target-endpoint",children:"Target Endpoint URL"}),s.jsx(_,{id:"target-endpoint",value:e.targetEndpointUrl||"",onChange:v=>t("targetEndpointUrl",v.target.value),placeholder:"https://api.thirdparty.com/soap/service"}),e.selectedWsdl&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-populated from selected WSDL"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"soap-action",children:"SOAP Action"}),d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(G,{value:e.soapAction||"none",onValueChange:v=>t("soapAction",v==="none"?"":v),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:m?"Loading SOAP actions...":"Select SOAP action"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None (Leave blank)"}),d.map((v,y)=>s.jsxs(M,{value:v.soapAction||`action_${y}`,children:[v.operationName," - ",v.soapAction||"(empty)"]},y))]})]}),d.length>1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["This WSDL contains ",d.length," operations. Select the operation you want to use."]})]}):s.jsx(_,{id:"soap-action",value:e.soapAction||"",onChange:v=>t("soapAction",v.target.value),placeholder:"urn:submitOrder",disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"content-type",children:"Content-Type"}),s.jsxs(G,{value:e.contentType||"",onValueChange:v=>t("contentType",v),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select content type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"text/xml",children:"text/xml"}),s.jsx(M,{value:"application/soap+xml",children:"application/soap+xml"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"soap-version",children:"SOAP Version"}),s.jsxs(G,{value:e.soapVersion||"",onValueChange:v=>{t("soapVersion",v),v==="1.1"?t("contentType","text/xml"):v==="1.2"&&t("contentType","application/soap+xml")},children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select SOAP version"})}),s.jsxs(X,{children:[s.jsx(M,{value:"1.1",children:"SOAP 1.1"}),s.jsx(M,{value:"1.2",children:"SOAP 1.2"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Target Message"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"target-wsdl",children:"Select WSDL"}),s.jsxs(G,{value:e.selectedWsdl||"",onValueChange:v=>t("selectedWsdl",v),disabled:o||!n,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:n?o?"Loading WSDLs...":"Select a WSDL":"Select a business component first"})}),s.jsx(X,{children:r.map(v=>s.jsx(M,{value:v.id,children:v.name},v.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Connection Parameters"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connection-timeout",children:"Connection Timeout (seconds)"}),s.jsx(_,{id:"connection-timeout",type:"number",value:e.connectionTimeout||"",onChange:v=>t("connectionTimeout",parseInt(v.target.value)||0),placeholder:"30"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"read-timeout",children:"Read Timeout (seconds)"}),s.jsx(_,{id:"read-timeout",type:"number",value:e.readTimeout||"",onChange:v=>t("readTimeout",parseInt(v.target.value)||0),placeholder:"30"})]})]})]})]}),s.jsxs(de,{value:"processing",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Processing Mode"}),s.jsxs("div",{className:"flex items-center justify-between space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{htmlFor:"processingMode",className:"text-sm font-medium",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Asynchronous Processing":"Synchronous Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"?"Fire-and-forget: don't wait for response from target system":"Wait for complete response from target system before continuing flow"})]}),s.jsx(ct,{id:"processingMode",checked:(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS",onCheckedChange:v=>t("processingMode",v?"ASYNCHRONOUS":"SYNCHRONOUS")})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"responseTimeout",children:"Response Timeout (ms)"}),s.jsx(_,{id:"responseTimeout",type:"number",placeholder:"30000",value:e.responseTimeout||"",onChange:v=>t("responseTimeout",parseInt(v.target.value)||3e4)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"waitForResponse",checked:e.waitForResponse!==!1,onCheckedChange:v=>t("waitForResponse",v)}),s.jsx(C,{htmlFor:"waitForResponse",className:"text-sm",children:"Wait for response in synchronous mode"})]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"asyncCorrelationId",children:"Correlation ID (Optional)"}),s.jsx(_,{id:"asyncCorrelationId",type:"text",placeholder:"Unique identifier for async processing",value:e.asyncCorrelationId||"",onChange:v=>t("asyncCorrelationId",v.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Authentication & Security"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"auth-type",children:"Authentication Type"}),s.jsxs(G,{value:e.authentication?.type||"none",onValueChange:f,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select authentication type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"ws-security",children:"WS-Security UsernameToken"}),s.jsx(M,{value:"oauth",children:"OAuth"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"ws-security-policies",children:"WS-Security Policies:"}),s.jsxs(G,{value:e.wsSecurityPolicyType||"",onValueChange:v=>t("wsSecurityPolicyType",v),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Define Parameter"})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"manual",children:"Via Manual Configuration in Channel"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Security policies applied"})]}),j()]})]}),(e.processingMode||"ASYNCHRONOUS")==="ASYNCHRONOUS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Response Format and Error Handling"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"response-message",children:"Response Message"}),s.jsx(Ee,{id:"response-message",value:e.responseMessage||"",onChange:v=>t("responseMessage",v.target.value),placeholder:"Expected SOAP response XML schema",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"error-handling",children:"Error Handling"}),s.jsx(Ee,{id:"error-handling",value:e.errorHandling||"",onChange:v=>t("errorHandling",v.target.value),placeholder:"Expected SOAP fault codes and error handling",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"retry-policy",children:"Retry Policy"}),s.jsx(Ee,{id:"retry-policy",value:e.retryPolicy||"",onChange:v=>t("retryPolicy",v.target.value),placeholder:"Rules for retrying failed SOAP calls (Number of retries, backoff strategy)",rows:3})]})]})]}),e.selectedWsdl&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WSDL Structure Details"}),l.request&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Request Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.request=="string"?l.request:JSON.stringify(l.request,null,2)})})]}),(e.processingMode||"ASYNCHRONOUS")==="SYNCHRONOUS"&&l.response&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Response Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.response=="string"?l.response:JSON.stringify(l.response,null,2)})})]}),l.fault&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Fault Structure"}),s.jsx("div",{className:"bg-muted p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto max-h-40",children:typeof l.fault=="string"?l.fault:JSON.stringify(l.fault,null,2)})})]}),!l.request&&!l.response&&!l.fault&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No structure details available in WSDL metadata"})]})]})]})})]})}const Hoe=({configuration:e,onConfigurationChange:t})=>{const n=()=>{switch(e.authentication?.type||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"Username"}),s.jsx(_,{id:"username",value:e.authentication?.credentials?.username||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,username:a.target.value}}),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"password",children:"Password"}),s.jsx(_,{id:"password",type:"password",value:e.authentication?.credentials?.password||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,password:a.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",value:e.authentication?.credentials?.clientId||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientId:a.target.value}}),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(_,{id:"clientSecret",type:"password",value:e.authentication?.credentials?.clientSecret||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientSecret:a.target.value}}),placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(_,{id:"tokenUrl",value:e.authentication?.credentials?.tokenUrl||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,tokenUrl:a.target.value}}),placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"scope",children:"Scope"}),s.jsx(_,{id:"scope",value:e.authentication?.credentials?.scope||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,scope:a.target.value}}),placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKey",children:"API Key"}),s.jsx(_,{id:"apiKey",type:"password",value:e.authentication?.credentials?.apiKey||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKey:a.target.value}}),placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(_,{id:"apiKeyHeader",value:e.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKeyHeader:a.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsx(de,{value:"target",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Service Connection"}),s.jsx(pe,{children:"Configure OData service connection parameters"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(_,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:r=>t("baseUrl",r.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(_,{id:"entitySetName",value:e.entitySetName||"",onChange:r=>t("entitySetName",r.target.value),placeholder:"Products, Orders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Specific OData entity set to query"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(G,{value:e.apiVersion||"",onValueChange:r=>t("apiVersion",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select OData version"})}),s.jsxs(X,{children:[s.jsx(M,{value:"v2",children:"v2"}),s.jsx(M,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authentication?.type||"none",onValueChange:r=>t("authentication",{type:r,credentials:{}}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"oauth2",children:"OAuth2"}),s.jsx(M,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Method to authenticate"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queryOptions",children:"Query Options"}),s.jsx(Ee,{id:"queryOptions",value:e.queryOptions||"",onChange:r=>t("queryOptions",r.target.value),placeholder:"$filter=Price gt 100&$top=10",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData query parameters (e.g., $filter, $top)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(_,{id:"timeout",type:"number",value:e.timeout||"",onChange:r=>t("timeout",parseInt(r.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Handling"}),s.jsx(pe,{children:"Configure data processing and validation"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map ProductID to id",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping OData fields to middleware objects"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(Ee,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:r=>t("dataValidationRules",r.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on received data"})]})]})]})})]})})},qoe=({configuration:e,onConfigurationChange:t})=>{const n=()=>{switch(e.authentication?.type||"none"){case"basic":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"Username"}),s.jsx(_,{id:"username",value:e.authentication?.credentials?.username||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,username:a.target.value}}),placeholder:"Enter username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"password",children:"Password"}),s.jsx(_,{id:"password",type:"password",value:e.authentication?.credentials?.password||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,password:a.target.value}}),placeholder:"Enter password"})]})]});case"oauth2":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",value:e.authentication?.credentials?.clientId||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientId:a.target.value}}),placeholder:"Enter client ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(_,{id:"clientSecret",type:"password",value:e.authentication?.credentials?.clientSecret||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,clientSecret:a.target.value}}),placeholder:"Enter client secret"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(_,{id:"tokenUrl",value:e.authentication?.credentials?.tokenUrl||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,tokenUrl:a.target.value}}),placeholder:"https://oauth.example.com/token"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"scope",children:"Scope"}),s.jsx(_,{id:"scope",value:e.authentication?.credentials?.scope||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,scope:a.target.value}}),placeholder:"read write"})]})]});case"api-key":return s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKey",children:"API Key"}),s.jsx(_,{id:"apiKey",type:"password",value:e.authentication?.credentials?.apiKey||"",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKey:a.target.value}}),placeholder:"Enter API key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiKeyHeader",children:"API Key Header"}),s.jsx(_,{id:"apiKeyHeader",value:e.authentication?.credentials?.apiKeyHeader||"X-API-Key",onChange:a=>t("authentication",{...e.authentication,credentials:{...e.authentication?.credentials,apiKeyHeader:a.target.value}}),placeholder:"X-API-Key"})]})]});default:return null}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsx(de,{value:"source",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Service Connection"}),s.jsx(pe,{children:"Configure OData service connection parameters"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"serviceBaseUrl",children:"Service Base URL"}),s.jsx(_,{id:"serviceBaseUrl",value:e.baseUrl||"",onChange:r=>t("baseUrl",r.target.value),placeholder:"https://odata.example.com/service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL of the OData service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"entitySetName",children:"Entity Set Name"}),s.jsx(_,{id:"entitySetName",value:e.entitySetName||"",onChange:r=>t("entitySetName",r.target.value),placeholder:"Orders, Customers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData entity set to update/create"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apiVersion",children:"API Version"}),s.jsxs(G,{value:e.apiVersion||"",onValueChange:r=>t("apiVersion",r),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select OData version"})}),s.jsxs(X,{children:[s.jsx(M,{value:"v2",children:"v2"}),s.jsx(M,{value:"v4",children:"v4"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"OData protocol version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authenticationType",children:"Authentication Type"}),s.jsxs(G,{value:e.authentication?.type||"none",onValueChange:r=>t("authentication",{type:r,credentials:{}}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"none",children:"None"}),s.jsx(M,{value:"basic",children:"Basic Auth"}),s.jsx(M,{value:"oauth2",children:"OAuth2"}),s.jsx(M,{value:"api-key",children:"API Key"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentication method"})]}),n(),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeout",children:"Timeout Settings (seconds)"}),s.jsx(_,{id:"timeout",type:"number",value:e.timeout||"",onChange:r=>t("timeout",parseInt(r.target.value)||30),placeholder:"30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection and read timeout limits"})]})]})]})}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Preparation"}),s.jsx(pe,{children:"Configure data processing and validation before sending"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:r=>t("dataMappingRules",r.target.value),placeholder:"Map OrderID to OrderId",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping middleware objects to OData fields"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataValidationRules",children:"Data Validation Rules"}),s.jsx(Ee,{id:"dataValidationRules",value:e.dataValidationRules||"",onChange:r=>t("dataValidationRules",r.target.value),placeholder:"Required fields, format checks",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})})},zoe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"target",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"target",children:"Target"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"target",className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"SAP System Identification"}),s.jsx(pe,{children:"SAP system connection details"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(_,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(_,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(_,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Connection Details"}),s.jsx(pe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(_,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(_,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(_,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(_,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(G,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"TCP",children:"TCP/IP"}),s.jsx(M,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Authentication"}),s.jsx(pe,{children:"SAP user credentials"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(_,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapPassword",children:"SAP Password"}),s.jsx(_,{id:"sapPassword",type:"password",value:e.sapPassword||"",onChange:n=>t("sapPassword",n.target.value),placeholder:"secret"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"RFC Configuration"}),s.jsx(pe,{children:"RFC-specific settings"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(_,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"listenerServiceName",children:"Listener Service Name"}),s.jsx(_,{id:"listenerServiceName",value:e.listenerServiceName||"",onChange:n=>t("listenerServiceName",n.target.value),placeholder:"RfcReceiverService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service listening for RFC"})]})]})})]})]}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Handling"}),s.jsx(pe,{children:"Configuration for handling received RFC data"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map VBELN to SalesOrderNumber",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapping SAP RFC fields to middleware data structures"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(Ee,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validation on incoming data"})]})]})]})})]})}),Woe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"source",className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"SAP System Identification"}),s.jsx(pe,{children:"SAP system connection details"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemId",children:"SAP System ID (SID)"}),s.jsx(_,{id:"sapSystemId",value:e.sapSystemId||"",onChange:n=>t("sapSystemId",n.target.value),placeholder:"PRD, DEV"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP system identifier"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapClientNumber",children:"SAP Client Number"}),s.jsx(_,{id:"sapClientNumber",value:e.sapClientNumber||"",onChange:n=>t("sapClientNumber",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SAP client number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapSystemNumber",children:"SAP System Number"}),s.jsx(_,{id:"sapSystemNumber",value:e.sapSystemNumber||"",onChange:n=>t("sapSystemNumber",n.target.value),placeholder:"00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-digit system number"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Connection Details"}),s.jsx(pe,{children:"SAP application server and gateway configuration"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapApplicationServerHost",children:"SAP Application Server Host"}),s.jsx(_,{id:"sapApplicationServerHost",value:e.sapApplicationServerHost||"",onChange:n=>t("sapApplicationServerHost",n.target.value),placeholder:"sapserver.example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of SAP application server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayHost",children:"SAP Gateway Host"}),s.jsx(_,{id:"sapGatewayHost",value:e.sapGatewayHost||"",onChange:n=>t("sapGatewayHost",n.target.value),placeholder:"sapgw.example.com"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway host (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapGatewayService",children:"SAP Gateway Service"}),s.jsx(_,{id:"sapGatewayService",value:e.sapGatewayService||"",onChange:n=>t("sapGatewayService",n.target.value),placeholder:"sapgw00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway service/port (optional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"portNumber",children:"Port Number"}),s.jsx(_,{id:"portNumber",type:"number",value:e.portNumber||"",onChange:n=>t("portNumber",n.target.value),placeholder:"3300"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionType",children:"Connection Type"}),s.jsxs(G,{value:e.connectionType||"",onValueChange:n=>t("connectionType",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select connection type"})}),s.jsxs(X,{children:[s.jsx(M,{value:"TCP",children:"TCP/IP"}),s.jsx(M,{value:"Gateway",children:"Gateway"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"TCP/IP or Gateway"})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Authentication"}),s.jsx(pe,{children:"SAP user credentials"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"sapUser",children:"SAP User"}),s.jsx(_,{id:"sapUser",value:e.sapUser||"",onChange:n=>t("sapUser",n.target.value),placeholder:"sapuser"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User for RFC connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{name:"sapPassword",label:"SAP Password",placeholder:"secret",value:e.sapPassword||"",onValueChange:n=>t("sapPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Password for RFC user"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"RFC Configuration"}),s.jsx(pe,{children:"RFC-specific settings"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rfcDestinationName",children:"RFC Destination Name"}),s.jsx(_,{id:"rfcDestinationName",value:e.rfcDestinationName||"",onChange:n=>t("rfcDestinationName",n.target.value),placeholder:"MIDDLEWARE_DEST"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"RFC destination configured in SAP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"callerServiceName",children:"Caller Service Name"}),s.jsx(_,{id:"callerServiceName",value:e.callerServiceName||"",onChange:n=>t("callerServiceName",n.target.value),placeholder:"RfcSenderService"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Middleware service calling the RFC"})]})]})})]})]}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Data Preparation"}),s.jsx(pe,{children:"Configuration for preparing data before sending to SAP"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dataMappingRules",children:"Data Mapping Rules"}),s.jsx(Ee,{id:"dataMappingRules",value:e.dataMappingRules||"",onChange:n=>t("dataMappingRules",n.target.value),placeholder:"Map OrderID to VBELN",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Map middleware data to SAP RFC parameters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"validationRules",children:"Validation Rules"}),s.jsx(Ee,{id:"validationRules",value:e.validationRules||"",onChange:n=>t("validationRules",n.target.value),placeholder:"Mandatory fields, formats",rows:4}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate data before sending"})]})]})]})})]})}),Koe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsxs(de,{value:"source",className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Mail Server Connection"}),s.jsx(pe,{children:"Configure connection to the incoming mail server"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"mailServerHost",children:"Mail Server Host"}),s.jsx(_,{id:"mailServerHost",value:e.mailServerHost||"",onChange:n=>t("mailServerHost",n.target.value),placeholder:"imap.mailserver.com, pop3.mail.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the incoming mail server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"mailServerPort",children:"Mail Server Port"}),s.jsx(_,{id:"mailServerPort",type:"number",value:e.mailServerPort||"",onChange:n=>t("mailServerPort",n.target.value),placeholder:"993 for IMAP SSL, 995 for POP3 SSL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for IMAP/POP3 service"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"mailProtocol",children:"Protocol"}),s.jsxs(G,{value:e.mailProtocol||"",onValueChange:n=>t("mailProtocol",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select mail protocol"})}),s.jsxs(X,{children:[s.jsx(M,{value:"IMAP",children:"IMAP"}),s.jsx(M,{value:"POP3",children:"POP3"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail protocol used"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"mailUsername",children:"Username"}),s.jsx(_,{id:"mailUsername",value:e.mailUsername||"",onChange:n=>t("mailUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{name:"mailPassword",label:"Password",placeholder:"password",value:e.mailPassword||"",onValueChange:n=>t("mailPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail account password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"useSSLTLS",checked:e.useSSLTLS||!1,onCheckedChange:n=>t("useSSLTLS",n)}),s.jsx(C,{htmlFor:"useSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"folderName",children:"Folder Name"}),s.jsx(_,{id:"folderName",value:e.folderName||"INBOX",onChange:n=>t("folderName",n.target.value),placeholder:"INBOX"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mail folder to poll"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"pollingInterval",children:"Polling Interval (ms)"}),s.jsx(_,{id:"pollingInterval",type:"number",value:e.pollingInterval||"",onChange:n=>t("pollingInterval",n.target.value),placeholder:"60000"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of checking for new emails"})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Message Filtering and Fetching"}),s.jsx(pe,{children:"Configure email search criteria and limits"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"searchCriteria",children:"Search Criteria"}),s.jsx(_,{id:"searchCriteria",value:e.searchCriteria||"",onChange:n=>t("searchCriteria",n.target.value),placeholder:"UNSEEN or FROM:support@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email search/filter criteria (subject, sender, flags)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"maxMessages",children:"Max Messages"}),s.jsx(_,{id:"maxMessages",type:"number",value:e.maxMessages||"",onChange:n=>t("maxMessages",n.target.value),placeholder:"100"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of emails to fetch per poll"})]})]})]})]}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Message Processing"}),s.jsx(pe,{children:"Configure how emails are processed after retrieval"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"contentHandling",children:"Content Handling"}),s.jsx(Ee,{id:"contentHandling",value:e.contentHandling||"",onChange:n=>t("contentHandling",n.target.value),placeholder:"Save attachments, parse body text",rows:3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How to handle email content (plain text, HTML, attachments)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"mailEncoding",children:"Encoding"}),s.jsxs(G,{value:e.mailEncoding||"",onValueChange:n=>t("mailEncoding",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select encoding"})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Character encoding used"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"deleteAfterFetch",checked:e.deleteAfterFetch||!1,onCheckedChange:n=>t("deleteAfterFetch",n)}),s.jsx(C,{htmlFor:"deleteAfterFetch",className:"text-sm font-normal",children:"Delete After Fetch"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete emails after processing"})]})]})]})]})})]})}),Yoe=({configuration:e,onConfigurationChange:t})=>s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"source",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsx(ue,{value:"source",children:"Source"}),s.jsx(ue,{value:"processing",children:"Processing"})]}),s.jsx(de,{value:"source",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"SMTP Server Connection"}),s.jsx(pe,{children:"Configure connection to the SMTP server for sending emails"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"smtpServerHost",children:"SMTP Server Host"}),s.jsx(_,{id:"smtpServerHost",value:e.smtpServerHost||"",onChange:n=>t("smtpServerHost",n.target.value),placeholder:"smtp.mailserver.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hostname or IP of the SMTP server"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"smtpServerPort",children:"SMTP Server Port"}),s.jsx(_,{id:"smtpServerPort",type:"number",value:e.smtpServerPort||"",onChange:n=>t("smtpServerPort",n.target.value),placeholder:"587 (TLS), 465 (SSL)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Port number for SMTP service"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-7",children:[s.jsx(at,{id:"smtpUseSSLTLS",checked:e.smtpUseSSLTLS||!1,onCheckedChange:n=>t("smtpUseSSLTLS",n)}),s.jsx(C,{htmlFor:"smtpUseSSLTLS",className:"text-sm font-normal",children:"Use SSL/TLS"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable secure connection"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"smtpUsername",children:"Username"}),s.jsx(_,{id:"smtpUsername",value:e.smtpUsername||"",onChange:n=>t("smtpUsername",n.target.value),placeholder:"user@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{name:"smtpPassword",label:"Password",placeholder:"password",value:e.smtpPassword||"",onValueChange:n=>t("smtpPassword",n),showConfirmation:!1}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"SMTP authentication password"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"connectionTimeout",children:"Connection Timeout (ms)"}),s.jsx(_,{id:"connectionTimeout",type:"number",value:e.connectionTimeout||"",onChange:n=>t("connectionTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection timeout in milliseconds"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"readTimeout",children:"Read Timeout (ms)"}),s.jsx(_,{id:"readTimeout",type:"number",value:e.readTimeout||"",onChange:n=>t("readTimeout",n.target.value),placeholder:"30000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Read timeout in milliseconds"})]})]})]})]})}),s.jsx(de,{value:"processing",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Message Preparation"}),s.jsx(pe,{children:"Configure email content and recipients"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fromAddress",children:"From Address"}),s.jsx(_,{id:"fromAddress",value:e.fromAddress||"",onChange:n=>t("fromAddress",n.target.value),placeholder:"sender@example.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sender's email address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"toAddresses",children:"To Addresses"}),s.jsx(Ee,{id:"toAddresses",value:e.toAddresses||"",onChange:n=>t("toAddresses",n.target.value),placeholder:"recipient1@example.com, recipient2@example.com",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recipient email addresses (comma-separated)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"ccAddresses",children:"CC Addresses"}),s.jsx(Ee,{id:"ccAddresses",value:e.ccAddresses||"",onChange:n=>t("ccAddresses",n.target.value),placeholder:"cc1@example.com, cc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"CC recipients (optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"bccAddresses",children:"BCC Addresses"}),s.jsx(Ee,{id:"bccAddresses",value:e.bccAddresses||"",onChange:n=>t("bccAddresses",n.target.value),placeholder:"bcc1@example.com, bcc2@example.com",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"BCC recipients (optional)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emailSubject",children:"Subject"}),s.jsx(_,{id:"emailSubject",value:e.emailSubject||"",onChange:n=>t("emailSubject",n.target.value),placeholder:"Order Confirmation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email subject line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emailBody",children:"Body"}),s.jsx(Ee,{id:"emailBody",value:e.emailBody||"",onChange:n=>t("emailBody",n.target.value),placeholder:"Email content - plain text or HTML",rows:6}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email body (plain text or HTML content)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emailAttachments",children:"Attachments"}),s.jsx(Ee,{id:"emailAttachments",value:e.emailAttachments||"",onChange:n=>t("emailAttachments",n.target.value),placeholder:"PDF, images, etc.",rows:2}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Files to attach"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"emailEncoding",children:"Encoding"}),s.jsxs(G,{value:e.emailEncoding||"",onValueChange:n=>t("emailEncoding",n),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select encoding"})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTF-8",children:"UTF-8"}),s.jsx(M,{value:"ISO-8859-1",children:"ISO-8859-1"}),s.jsx(M,{value:"ASCII",children:"ASCII"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Character encoding used"})]})]})]})]})})]})});class Xoe{async createAdapter(t){return ee.post("/adapters",t)}async getAdapters(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/adapters${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async getAdapter(t){return ee.get(`/adapters/${t}`)}async updateAdapter(t,n){return ee.put(`/adapters/${t}`,n)}async deleteAdapter(t){return ee.delete(`/adapters/${t}`)}async cloneAdapter(t,n){return ee.post(`/adapters/${t}/clone`,{name:n})}}class Goe{async testAdapter(t,n){return ee.post(`/adapters/${t}/test`,{testData:n})}async testAdapterConfiguration(t,n){return ee.post("/adapters/test-config",{configuration:t,type:n})}async validateAdapterConfig(t,n){return ee.post("/adapters/validate-config",{type:t,configuration:n})}}let Joe=class{websocket=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=3e3;logListeners=[];statsListeners=[];async getAdapterStats(t,n){const r=`/adapters/${t}/stats${n?`?timeRange=${n}`:""}`;return ee.get(r)}async getAdapterLogs(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/adapters/${t}/logs${r.toString()?`?${r.toString()}`:""}`;return ee.get(a)}connectWebSocket(t){if(this.websocket?.readyState===WebSocket.OPEN)return;const n=`ws://localhost:8080/ws/adapters${t?`/${t}/logs`:"/logs"}`;try{this.websocket=new WebSocket(n),this.websocket.onopen=()=>{console.log("WebSocket connected for adapter monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=r=>{try{const a=JSON.parse(r.data);a.type==="new_log"?this.logListeners.forEach(o=>o(a.log)):a.type==="stats_update"&&this.statsListeners.forEach(o=>o(a.stats))}catch(a){console.error("Error parsing WebSocket message:",a)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=r=>{console.error("WebSocket error:",r)}}catch(r){console.error("Failed to create WebSocket connection:",r)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts))}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.logListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onLogUpdate(t){return this.logListeners.push(t),()=>{const n=this.logListeners.indexOf(t);n>-1&&this.logListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){this.websocket?.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}};class Qoe{async getAdapterTypes(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/adapters/types${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async getAdapterType(t){return ee.get(`/adapters/types/${t}`)}async createAdapterType(t){return ee.post("/adapters/types",t)}async updateAdapterType(t,n){return ee.put(`/adapters/types/${t}`,n)}async deleteAdapterType(t){return ee.delete(`/adapters/types/${t}`)}async cloneAdapterType(t,n){return ee.post(`/adapters/types/${t}/clone`,{name:n})}async getAdapterTypesByCategory(t){return ee.get(`/adapters/types?category=${t}`)}async updateAdapterTypeStatus(t,n){return ee.patch(`/adapters/types/${t}/status`,{isActive:n})}async validateAdapterTypeConfiguration(t,n){return ee.post("/adapters/types/validate",{configuration:t,category:n})}async searchAdapterTypes(t,n){const r=new URLSearchParams({q:t,...n?.category&&{category:n.category},...n?.isActive!==void 0&&{isActive:n.isActive.toString()},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return ee.get(`/adapters/types/search?${r}`)}async getAdapterTypeUsage(t){return ee.get(`/adapters/types/${t}/usage`)}}class Zoe{mockServers=new Map;async validateAdapter(t){const n=Date.now(),r=[],a=[],o=[];try{const i=this.validateConfiguration(t);i.isValid||(r.push(...i.errors),a.push(...i.warnings)),await this.setupMockServers(t.adapterType);for(const c of t.testScenarios){const d=await this.runTestScenario(t,c);o.push(d),d.status==="failed"&&r.push(`Test '${c.name}' failed: ${d.message}`)}await this.cleanupMockServers(t.adapterType);const l=Date.now()-n;return Tr({title:"Adapter Validation Complete",description:`${o.length} tests completed in ${l}ms`,variant:o.some(c=>c.status==="failed")?"destructive":"default"}),{isValid:r.length===0,errors:r,warnings:a,testResults:o}}catch(i){return r.push(`Validation failed: ${i instanceof Error?i.message:"Unknown error"}`),{isValid:!1,errors:r,warnings:a,testResults:o}}}validateConfiguration(t){const n=[],r=[],a=this.getRequiredFields(t.adapterType);for(const o of a)t.configuration[o]||n.push(`Required field '${o}' is missing`);switch(t.adapterType){case"http_sender":case"http_receiver":this.validateHttpConfiguration(t.configuration,n,r);break;case"ftp":case"sftp":this.validateFtpConfiguration(t.configuration,n,r);break;case"jdbc_sender":case"jdbc_receiver":this.validateJdbcConfiguration(t.configuration,n,r);break;case"soap_sender":case"soap_receiver":this.validateSoapConfiguration(t.configuration,n,r);break}return{isValid:n.length===0,errors:n,warnings:r}}validateHttpConfiguration(t,n,r){if(t.url)try{new URL(t.url)}catch{n.push("Invalid URL format")}t.authentication==="basic"&&(!t.username||!t.password)&&n.push("Username and password required for basic authentication"),t.timeout&&(t.timeout<1e3||t.timeout>3e5)&&r.push("Timeout should be between 1000ms and 300000ms")}validateFtpConfiguration(t,n,r){t.host||n.push("FTP host is required"),t.port&&(t.port<1||t.port>65535)&&n.push("Invalid port number"),t.username||r.push("Anonymous FTP access may not be secure")}validateJdbcConfiguration(t,n,r){t.connectionUrl||n.push("JDBC connection URL is required"),t.driverClass||n.push("JDBC driver class is required"),t.connectionUrl&&!t.connectionUrl.startsWith("jdbc:")&&n.push("Invalid JDBC URL format")}validateSoapConfiguration(t,n,r){if(!t.wsdlUrl&&!t.endpointUrl&&n.push("Either WSDL URL or endpoint URL is required"),t.wsdlUrl)try{new URL(t.wsdlUrl)}catch{n.push("Invalid WSDL URL format")}}async runTestScenario(t,n){const r=Date.now();try{switch(n.type){case"connection":return await this.testConnection(t,n);case"authentication":return await this.testAuthentication(t,n);case"data_transmission":return await this.testDataTransmission(t,n);case"error_handling":return await this.testErrorHandling(t,n);default:throw new Error(`Unknown test scenario type: ${n.type}`)}}catch(a){return{testName:n.name,status:"failed",message:a instanceof Error?a.message:"Unknown error",duration:Date.now()-r}}}async testConnection(t,n){const r=Date.now();await new Promise(i=>setTimeout(i,1e3));const o=this.mockServers.get(t.adapterType)?.isRunning()??!0;return{testName:n.name,status:o?"passed":"failed",message:o?"Connection successful":"Connection failed",duration:Date.now()-r}}async testAuthentication(t,n){const r=Date.now();await new Promise(o=>setTimeout(o,800));const a=t.configuration.username&&t.configuration.password;return{testName:n.name,status:a?"passed":"failed",message:a?"Authentication successful":"Authentication failed",duration:Date.now()-r}}async testDataTransmission(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,1500)),{testName:n.name,status:"passed",message:"Data transmission successful",duration:Date.now()-r}}async testErrorHandling(t,n){const r=Date.now();return await new Promise(a=>setTimeout(a,600)),{testName:n.name,status:"passed",message:"Error handling working correctly",duration:Date.now()-r}}async setupMockServers(t){const n=new eie(t);await n.start(),this.mockServers.set(t,n)}async cleanupMockServers(t){const n=this.mockServers.get(t);n&&(await n.stop(),this.mockServers.delete(t))}getRequiredFields(t){return{http_sender:["url","method"],http_receiver:["port"],ftp:["host","port"],sftp:["host","port","username"],jdbc_sender:["connectionUrl","driverClass"],jdbc_receiver:["connectionUrl","driverClass"],soap_sender:["wsdlUrl"],soap_receiver:["wsdlUrl"],rest_sender:["url","method"],rest_receiver:["port"],jms_sender:["connectionFactory","destination"],jms_receiver:["connectionFactory","destination"],mail_sender:["smtpHost","port"],mail_receiver:["host","port"],file:["directory"],rfc_sender:["host","systemNumber"],rfc_receiver:["host","systemNumber"],idoc_sender:["host","systemNumber"],idoc_receiver:["host","systemNumber"],odata_sender:["serviceUrl"],odata_receiver:["serviceUrl"]}[t]||[]}}class eie{constructor(t){this.adapterType=t}running=!1;async start(){await new Promise(t=>setTimeout(t,500)),this.running=!0}async stop(){this.running=!1}isRunning(){return this.running}}const a_=new Zoe;class tie{api;testing;monitoring;types;constructor(){this.api=new Xoe,this.testing=new Goe,this.monitoring=new Joe,this.types=new Qoe}async createAdapter(...t){return this.api.createAdapter(...t)}async getAdapters(...t){return this.api.getAdapters(...t)}async getAdapter(...t){return this.api.getAdapter(...t)}async updateAdapter(...t){return this.api.updateAdapter(...t)}async deleteAdapter(...t){return this.api.deleteAdapter(...t)}async cloneAdapter(...t){return this.api.cloneAdapter(...t)}async testAdapter(...t){return this.testing.testAdapter(...t)}async testAdapterConfiguration(...t){return this.testing.testAdapterConfiguration(...t)}async validateAdapterConfig(...t){return this.testing.validateAdapterConfig(...t)}async getAdapterStats(...t){return this.monitoring.getAdapterStats(...t)}async getAdapterLogs(...t){return this.monitoring.getAdapterLogs(...t)}async getAdapterTypes(...t){return this.types.getAdapterTypes(...t)}async validateAdapter(t){return a_.validateAdapter(t)}}const Bo=new tie,sie=({adapterType:e,configuration:t,children:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState(0),m=[{name:"Connection Test",type:"connection",expectedResult:"success"},{name:"Authentication Test",type:"authentication",expectedResult:"success"},{name:"Data Transmission Test",type:"data_transmission",expectedResult:"success"},{name:"Error Handling Test",type:"error_handling",expectedResult:"success"}],p=async()=>{if(!t||Object.keys(t).length===0){Tr({title:"Validation Error",description:"No configuration found to validate",variant:"destructive"});return}i(!0),u(0),c(null);try{const f={adapterType:e,configuration:t,testScenarios:m},w=setInterval(()=>{u(v=>Math.min(v+20,90))},500),j=await a_.validateAdapter(f);clearInterval(w),u(100),c(j)}catch(f){Tr({title:"Validation Failed",description:f instanceof Error?f.message:"Unknown error occurred",variant:"destructive"})}finally{i(!1),setTimeout(()=>u(0),1e3)}},x=f=>{switch(f){case"passed":return s.jsx(bs,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(jn,{className:"h-4 w-4 text-destructive"});case"warning":return s.jsx(Sn,{className:"h-4 w-4 text-warning"});default:return null}},g=f=>{const w={passed:"default",failed:"destructive",warning:"secondary"};return s.jsx(ae,{variant:w[f]||"outline",children:f})};return s.jsxs(dt,{open:r,onOpenChange:a,children:[s.jsx(eh,{asChild:!0,children:n}),s.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(ut,{children:s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(RC,{className:"h-5 w-5"}),"Adapter Validation - ",e.replace("_"," ").toUpperCase()]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{className:"text-lg",children:"Validation Controls"})}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Run comprehensive validation tests for this adapter configuration"}),s.jsx(q,{onClick:p,disabled:o,className:"flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 animate-spin"}),"Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(RC,{className:"h-4 w-4"}),"Run Validation"]})})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Validation Progress"}),s.jsxs("span",{children:[d,"%"]})]}),s.jsx(Zu,{value:d,className:"h-2"})]})]})]}),l&&s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[l.isValid?s.jsx(bs,{className:"h-5 w-5 text-success"}):s.jsx(jn,{className:"h-5 w-5 text-destructive"}),"Validation Results"]})}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"summary",className:"w-full",children:[s.jsxs(Je,{children:[s.jsx(ue,{value:"summary",children:"Summary"}),s.jsx(ue,{value:"tests",children:"Test Results"}),s.jsx(ue,{value:"errors",children:"Issues"})]}),s.jsxs(de,{value:"summary",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(W,{children:s.jsxs(K,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center",children:l.testResults?.filter(f=>f.status==="passed").length||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Passed"})]})}),s.jsx(W,{children:s.jsxs(K,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-destructive",children:l.testResults?.filter(f=>f.status==="failed").length||0}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Failed"})]})}),s.jsx(W,{children:s.jsxs(K,{className:"pt-6",children:[s.jsx("div",{className:"text-2xl font-bold text-center text-warning",children:l.warnings.length}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Warnings"})]})})]}),s.jsx(Xe,{children:s.jsx(Ge,{children:l.isValid?"All validation tests passed successfully. This adapter configuration is ready for deployment.":"Some validation tests failed. Please review the issues before proceeding."})})]}),s.jsx(de,{value:"tests",className:"space-y-4",children:l.testResults?.map((f,w)=>s.jsx(W,{children:s.jsx(K,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[x(f.status),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:f.testName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.message})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g(f.status),f.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.duration,"ms"]})]})]})})},w))}),s.jsxs(de,{value:"errors",className:"space-y-4",children:[l.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-destructive",children:"Errors"}),l.errors.map((f,w)=>s.jsxs(Xe,{variant:"destructive",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx(Ge,{children:f})]},w))]}),l.warnings.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-warning",children:"Warnings"}),l.warnings.map((f,w)=>s.jsxs(Xe,{children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx(Ge,{children:f})]},w))]}),l.errors.length===0&&l.warnings.length===0&&s.jsxs(Xe,{children:[s.jsx(bs,{className:"h-4 w-4"}),s.jsx(Ge,{children:"No issues found. The adapter configuration is valid."})]})]})]})})]})]})]})]})},tT=[{id:"sms-gateway",name:"SMS Gateway",icon:M8,description:"Send SMS messages via gateway API",category:"SMS",fields:[{name:"provider",label:"SMS Provider",type:"select",required:!0,options:["Twilio","AWS SNS","Nexmo","Custom"]},{name:"apiKey",label:"API Key",type:"password",required:!0,placeholder:"Your API Key"},{name:"apiSecret",label:"API Secret",type:"password",required:!0,placeholder:"Your API Secret"},{name:"endpoint",label:"API Endpoint",type:"text",required:!0,placeholder:"https://api.twilio.com/2010-04-01"},{name:"fromNumber",label:"From Number",type:"text",required:!0,placeholder:"+1234567890"},{name:"region",label:"Region",type:"select",required:!1,options:["US","EU","APAC"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"file",name:"FILE",icon:Vs,description:"File system operations and transfers",category:"File System",fields:[{name:"basePath",label:"Base Path",type:"text",required:!0,placeholder:"/data/files"},{name:"encoding",label:"File Encoding",type:"select",required:!1,options:["UTF-8","ASCII","ISO-8859-1","UTF-16"]},{name:"permissions",label:"File Permissions",type:"text",required:!1,placeholder:"755"},{name:"createDirs",label:"Create Directories",type:"select",required:!1,options:["true","false"]}]},{id:"ftp",name:"FTP",icon:Vk,description:"File Transfer Protocol connections",category:"File Transfer",fields:[{name:"host",label:"FTP Host",type:"text",required:!0,placeholder:"ftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"21"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"ftpuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"FTP Password"},{name:"passiveMode",label:"Passive Mode",type:"select",required:!1,options:["true","false"]},{name:"transferMode",label:"Transfer Mode",type:"select",required:!1,options:["binary","ascii"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"sftp",name:"SFTP",icon:oo,description:"Secure File Transfer Protocol",category:"File Transfer",fields:[{name:"host",label:"SFTP Host",type:"text",required:!0,placeholder:"sftp.example.com"},{name:"port",label:"Port",type:"number",required:!1,placeholder:"22"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"sftpuser"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"SFTP Password"},{name:"privateKey",label:"Private Key Path",type:"text",required:!1,placeholder:"/path/to/private/key"},{name:"keyPassphrase",label:"Key Passphrase",type:"password",required:!1,placeholder:"Key passphrase"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"http",name:"HTTP",icon:ai,description:"HTTP/HTTPS protocol connections",category:"HTTP",fields:[{name:"protocol",label:"Protocol",type:"select",required:!0,options:["HTTP","HTTPS"]},{name:"url",label:"URL",type:"text",required:!0,placeholder:"https://api.example.com/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"rest",name:"REST",icon:Pr,description:"REST API integrations",category:"API",fields:[{name:"url",label:"REST API URL",type:"text",required:!0,placeholder:"https://api.example.com/v1/endpoint"},{name:"method",label:"HTTP Method",type:"select",required:!0,options:["POST","PUT","PATCH","GET"]},{name:"contentType",label:"Content Type",type:"select",required:!0,options:["application/json","application/xml","application/x-www-form-urlencoded"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"timeout",label:"Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"soap",name:"SOAP",icon:Pu,description:"SOAP web services integration",category:"Web Services",fields:[{name:"senderAddress",label:"Address",type:"text",required:!0,placeholder:"/UtilitiesDeviceERPSmartMeterRegisterBulkCreateConfirmation",conditionalField:"sender"},{name:"receiverAddress",label:"Target Address",type:"text",required:!0,placeholder:"https://api.example.com/soap",conditionalField:"receiver"},{name:"wsdl",label:"WSDL",type:"select",required:!0,options:["Select WSDL...","UserService.wsdl","PaymentService.wsdl","NotificationService.wsdl"],conditionalField:"receiver"},{name:"receiverAuthentication",label:"Authentication",type:"select",required:!0,options:["None","Basic","Client Certificate","OAuth","OAuth 2"],conditionalField:"receiver"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"Enter username",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Basic"},{name:"clientCertificate",label:"Client Certificate",type:"certificate-dropdown",required:!0,conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"Client Certificate"},{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth"},{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter OAuth 2 client ID",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter OAuth 2 client secret",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write",conditionalField:"receiver",parentField:"receiverAuthentication",parentValue:"OAuth 2"},{name:"receiverTimeout",label:"Timeout (seconds)",type:"number",required:!1,placeholder:"30",conditionalField:"receiver"},{name:"connectionType",label:"Connection Type",type:"select",required:!0,options:["Synchronous","Asynchronous"],conditionalField:"receiver"}]},{id:"jms",name:"JMS",icon:zs,description:"Java Message Service connections",category:"Messaging",fields:[{name:"driverJar",label:"JMS Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Message Queue"},{name:"brokerUrl",label:"Broker URL",type:"text",required:!0,placeholder:"tcp://localhost:61616"},{name:"queueName",label:"Queue Name",type:"text",required:!1,placeholder:"myqueue"},{name:"topicName",label:"Topic Name",type:"text",required:!1,placeholder:"mytopic"},{name:"username",label:"Username",type:"text",required:!1,placeholder:"JMS Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"JMS Password"},{name:"connectionFactory",label:"Connection Factory",type:"text",required:!1,placeholder:"ConnectionFactory"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"odata",name:"ODATA",icon:Ko,description:"Open Data Protocol services",category:"API",fields:[{name:"serviceUrl",label:"Service URL",type:"text",required:!0,placeholder:"https://services.odata.org/V4/service"},{name:"version",label:"OData Version",type:"select",required:!0,options:["V4","V3","V2"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","SSL Certificate"]},{name:"authValue",label:"Auth Value",type:"password",required:!1,placeholder:"Token or credentials"},{name:"maxPageSize",label:"Max Page Size",type:"number",required:!1,placeholder:"1000"}]},{id:"idoc",name:"IDOC",icon:x8,description:"SAP Intermediate Document format",category:"SAP",fields:[{name:"sapHost",label:"SAP Host",type:"text",required:!0,placeholder:"sap.example.com"},{name:"systemNumber",label:"System Number",type:"text",required:!0,placeholder:"00"},{name:"client",label:"Client",type:"text",required:!0,placeholder:"100"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"SAP Username"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"SAP Password"},{name:"language",label:"Language",type:"text",required:!1,placeholder:"EN"},{name:"idocType",label:"IDOC Type",type:"text",required:!1,placeholder:"ORDERS05"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"jdbc",name:"JDBC",icon:ds,description:"Java Database Connectivity",category:"Database",fields:[{name:"driverJar",label:"JDBC Driver JAR",type:"jar-selector",required:!0,driverTypeFilter:"Database"},{name:"jdbcUrl",label:"JDBC URL",type:"text",required:!0,placeholder:"jdbc:postgresql://localhost:5432/mydb"},{name:"username",label:"Username",type:"text",required:!0,placeholder:"dbuser"},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Database Password"},{name:"maxPoolSize",label:"Max Pool Size",type:"number",required:!1,placeholder:"10"},{name:"connectionTimeout",label:"Connection Timeout (ms)",type:"number",required:!1,placeholder:"30000"}]},{id:"as2",name:"AS2",icon:o8,description:"Applicability Statement 2 protocol",category:"EDI",fields:[{name:"as2Url",label:"AS2 URL",type:"text",required:!0,placeholder:"https://partner.example.com/as2"},{name:"as2From",label:"AS2 From",type:"text",required:!0,placeholder:"MyCompany"},{name:"as2To",label:"AS2 To",type:"text",required:!0,placeholder:"PartnerCompany"},{name:"certificate",label:"Certificate",type:"certificate-dropdown",required:!0,placeholder:"Select certificate"},{name:"encryptionAlgorithm",label:"Encryption Algorithm",type:"select",required:!1,options:["3DES","AES128","AES192","AES256"]},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"rfc",name:"RFC",icon:Ik,description:"SAP Remote Function Call protocol",category:"SAP",fields:[{name:"sapSystemId",label:"SAP System ID (SID)",type:"text",required:!0,placeholder:"PRD, DEV"},{name:"sapClientNumber",label:"SAP Client Number",type:"text",required:!0,placeholder:"100"},{name:"sapSystemNumber",label:"SAP System Number",type:"text",required:!0,placeholder:"00"},{name:"sapApplicationServerHost",label:"SAP Application Server Host",type:"text",required:!0,placeholder:"sapserver.example.com"},{name:"sapUser",label:"SAP User",type:"text",required:!0,placeholder:"sapuser"},{name:"sapPassword",label:"SAP Password",type:"password",required:!0,placeholder:"secret"},{name:"rfcDestinationName",label:"RFC Destination Name",type:"text",required:!0,placeholder:"MIDDLEWARE_DEST"}]},{id:"kafka",name:"KAFKA",icon:ic,description:"Apache Kafka messaging platform",category:"Streaming",fields:[{name:"bootstrapServers",label:"Bootstrap Servers",type:"text",required:!0,placeholder:"localhost:9092"},{name:"topicName",label:"Topic Name",type:"text",required:!0,placeholder:"my-topic"},{name:"groupId",label:"Consumer Group ID",type:"text",required:!1,placeholder:"my-consumer-group"},{name:"securityProtocol",label:"Security Protocol",type:"select",required:!1,options:["PLAINTEXT","SSL","SASL_PLAINTEXT","SASL_SSL"]},{name:"saslMechanism",label:"SASL Mechanism",type:"select",required:!1,options:["PLAIN","SCRAM-SHA-256","SCRAM-SHA-512"]},{name:"username",label:"Username",type:"text",required:!1,placeholder:"Kafka Username"},{name:"password",label:"Password",type:"password",required:!1,placeholder:"Kafka Password"},{name:"authType",label:"Authentication",type:"select",required:!1,options:["None","Basic Auth","Bearer Token","API Key","OAuth","OAuth 2.0","SSL Certificate"]}]},{id:"mail",name:"MAIL",icon:Au,description:"Email communication via IMAP/POP3/SMTP",category:"Email",fields:[{name:"mailServerHost",label:"Mail Server Host",type:"text",required:!0,placeholder:"imap.mailserver.com"},{name:"mailServerPort",label:"Mail Server Port",type:"number",required:!0,placeholder:"993"},{name:"mailProtocol",label:"Protocol",type:"select",required:!0,options:["IMAP","POP3"]},{name:"mailUsername",label:"Username",type:"text",required:!0,placeholder:"user@example.com"},{name:"mailPassword",label:"Password",type:"password",required:!0,placeholder:"password"},{name:"useSSLTLS",label:"Use SSL/TLS",type:"checkbox",required:!1},{name:"folderName",label:"Folder Name",type:"text",required:!1,placeholder:"INBOX"}]}],sT=()=>{_s();const e=ln(),{navigateBack:t}=jc(),[n,r]=h.useState(null),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState("sender"),[u,m]=h.useState(""),[p,x]=h.useState(!0),[g,f]=h.useState({}),[w,j]=h.useState(!1),[v,y]=h.useState("idle"),[N,b]=h.useState(!1),[E,S]=h.useState(!1),[A,O]=h.useState(null),{toast:I}=He(),F=tT.find(T=>T.id===a);h.useEffect(()=>{if(e.state?.adapter&&e.state?.isEdit){const T=e.state.adapter;console.log("[CreateCommunicationAdapter] Loading adapter for edit:",T),S(!0),O(T.id),l(T.name||""),m(T.description||""),x(T.active!==!1);const R=T.mode==="SENDER"?"sender":"receiver";d(R);const D=T.type.toLowerCase();if(o(D),T.configJson)try{const $=JSON.parse(T.configJson);f($)}catch($){console.error("Error parsing adapter configuration:",$)}T.businessComponentId&&r({id:T.businessComponentId,name:T.businessComponentName||"",description:""})}},[e.state]);const L=T=>{switch(T){case"Basic Auth":return[{name:"authUsername",label:"Username",type:"text",required:!0,placeholder:"Enter username"},{name:"authPassword",label:"Password",type:"password",required:!0,placeholder:"Enter password"}];case"Bearer Token":return[{name:"bearerToken",label:"Bearer Token",type:"password",required:!0,placeholder:"Enter bearer token"}];case"API Key":return[{name:"apiKeyValue",label:"API Key",type:"password",required:!0,placeholder:"Enter API key"},{name:"apiKeyLocation",label:"API Key Location",type:"select",required:!0,options:["Header","Query Parameter"]},{name:"apiKeyName",label:"API Key Name",type:"text",required:!0,placeholder:"e.g., X-API-Key or api_key"}];case"OAuth":return[{name:"oauthClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauthClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauthAuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/authorize"},{name:"oauthTokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth/token"},{name:"oauthScope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"OAuth 2.0":return[{name:"oauth2ClientId",label:"Client ID",type:"text",required:!0,placeholder:"Enter client ID"},{name:"oauth2ClientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Enter client secret"},{name:"oauth2AuthUrl",label:"Authorization URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/authorize"},{name:"oauth2TokenUrl",label:"Token URL",type:"text",required:!0,placeholder:"https://auth.example.com/oauth2/token"},{name:"oauth2GrantType",label:"Grant Type",type:"select",required:!0,options:["authorization_code","client_credentials","password","refresh_token"]},{name:"oauth2Scope",label:"Scope",type:"text",required:!1,placeholder:"read write"}];case"SSL Certificate":return[{name:"sslCertPath",label:"Certificate Path",type:"text",required:!0,placeholder:"/path/to/certificate.pem"},{name:"sslKeyPath",label:"Private Key Path",type:"text",required:!0,placeholder:"/path/to/private-key.pem"},{name:"sslKeyPassword",label:"Key Password",type:"password",required:!1,placeholder:"Private key password (if encrypted)"},{name:"sslCaPath",label:"CA Certificate Path",type:"text",required:!1,placeholder:"/path/to/ca-certificate.pem"},{name:"sslVerifyPeer",label:"Verify Peer",type:"select",required:!1,options:["true","false"]}];default:return[]}},U=(T,R)=>{console.log("[CreateCommunicationAdapter] Configuration change:",T,"=",R),f(D=>{const $={...D,[T]:R};return console.log("[CreateCommunicationAdapter] New configuration state:",$),$})},k=async()=>{if(!a){I({title:"No Adapter Selected",description:"Please select a communication adapter first",variant:"destructive"});return}j(!0),y("idle");try{await new Promise(R=>setTimeout(R,2e3)),Math.random()>.3?(y("success"),I({title:"Connection Successful",description:`Successfully connected to ${F?.name}`,variant:"default"})):(y("error"),I({title:"Connection Failed",description:"Please check your configuration and try again",variant:"destructive"}))}catch{y("error"),I({title:"Connection Error",description:"An error occurred while testing the connection",variant:"destructive"})}finally{j(!1)}},P=async()=>{if(!n||!n.id){I({title:"Validation Error",description:"Business Component is required. Please select a business component for this adapter.",variant:"destructive"});return}if(!i||!a||!c){I({title:"Validation Error",description:"Please provide adapter name, select a type, and choose adapter mode",variant:"destructive"});return}if(console.log("[CreateCommunicationAdapter] Validating adapter:",{name:i,type:a,mode:c,businessComponent:n.id,configuration:g}),c==="receiver"){if(a==="rest"){if(!g.targetEndpointUrl){I({title:"Validation Error",description:"Target Endpoint URL is required for REST Receiver adapter",variant:"destructive"});return}if(!g.httpMethod){I({title:"Validation Error",description:"HTTP Method is required for REST Receiver adapter",variant:"destructive"});return}if(!g.contentType){I({title:"Validation Error",description:"Content Type is required for REST Receiver adapter",variant:"destructive"});return}}}else if(c==="sender"){if(a==="rest"){if(!g.port){I({title:"Validation Error",description:"Port is required for REST Sender adapter",variant:"destructive"});return}}else if(a==="soap"&&!g.serviceEndpointUrl){I({title:"Validation Error",description:"Endpoint URL is required for SOAP Sender adapter",variant:"destructive"});return}}if(a!=="rest"&&a!=="soap"){const V=(F?.fields.filter(B=>!(!B.required||B.conditionalField==="receiver"&&c==="sender"||B.conditionalField==="sender"&&c==="receiver"||B.parentField&&B.parentValue&&g[B.parentField]!==B.parentValue))||[]).filter(B=>!g[B.name]);if(V.length>0){console.log("[CreateCommunicationAdapter] Missing required fields:",V),I({title:"Missing Required Fields",description:`Please fill in: ${V.map(B=>B.label).join(", ")}`,variant:"destructive"});return}}const T=c==="sender"?"SENDER":"RECEIVER",R=c==="sender"?"OUTBOUND":"INBOUND",D={name:i,type:a.toUpperCase(),mode:T,direction:R,description:u,active:p,businessComponentId:n.id,configJson:JSON.stringify(g)};try{console.log("[CreateCommunicationAdapter] Sending adapter data to backend:",D);const $=E&&A?await Bo.updateAdapter(A,D):await Bo.createAdapter(D);$.success?(I({title:E?"Adapter Updated Successfully":"Adapter Saved Successfully",description:`Communication adapter "${i}" has been ${E?"updated":"created"}`,variant:"default"}),setTimeout(()=>{t("/communication-adapters")},500)):(console.log("[CreateCommunicationAdapter] Error response from backend:",$),I({title:"Save Failed",description:$.error||"Failed to save adapter configuration",variant:"destructive"}))}catch($){console.error("[CreateCommunicationAdapter] Error saving adapter:",$),console.error("[CreateCommunicationAdapter] Error details:",{message:$?.message,response:$?.response,data:$?.response?.data});const V=$?.response?.data?.message||$?.response?.data?.error||$?.message||"An error occurred while saving the adapter";I({title:"Save Error",description:V,variant:"destructive"})}};return s.jsx(l4,{children:s.jsxs(s.Fragment,{children:[N&&s.jsx(q0,{onClose:()=>b(!1)}),s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(CN,{className:"h-8 w-8"}),E?"Edit":"Create"," Communication Adapter"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure communication channels for sending messages, emails, and notifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Soe,{selectedBusinessComponent:n,setSelectedBusinessComponent:r}),s.jsxs(W,{className:"animate-scale-in",children:[s.jsxs(te,{children:[s.jsx(re,{children:"Adapter Details"}),s.jsx(pe,{children:"Basic information for your communication adapter"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"adapterName",children:"Adapter Name *"}),s.jsx(_,{id:"adapterName",placeholder:"e.g., Production Email Server",value:i,onChange:T=>l(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",placeholder:"Describe the purpose of this communication adapter...",value:u,onChange:T=>m(T.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"isActive",checked:p,onCheckedChange:T=>x(T===!0)}),s.jsxs(C,{htmlFor:"isActive",className:"text-sm font-normal flex items-center gap-1",children:["Active adapter",s.jsx(ae,{variant:p?"default":"secondary",className:"text-xs",children:p?"Active":"Inactive"})]})]})]})]}),s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Adapter Type Selection"}),s.jsx(pe,{children:"Choose the type of communication adapter to configure"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"adapterType",children:"Adapter Type *"}),s.jsx(joe,{options:tT.map(T=>({value:T.id,label:T.name,icon:T.icon,category:T.category,description:T.description})),value:a,onValueChange:T=>{o(T),console.log("[CreateCommunicationAdapter] Adapter type changed to:",T),a&&a!==T&&(console.log("[CreateCommunicationAdapter] Clearing configuration due to adapter type change"),f({}))},placeholder:"Select communication adapter type",searchPlaceholder:"Search adapters...",emptyMessage:"No adapter found.",className:"transition-all duration-300 hover:bg-accent/50"})]}),F&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(F.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:F.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:F.category})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"adapterMode",children:"Adapter Mode *"}),s.jsxs(G,{value:c,onValueChange:T=>{d(T),console.log("[CreateCommunicationAdapter] Adapter mode changed to:",T)},children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:"Select adapter mode"})}),s.jsxs(X,{children:[s.jsx(M,{value:"sender",children:"Sender"}),s.jsx(M,{value:"receiver",children:"Receiver"})]})]})]})]})]})]}),F&&c&&s.jsx(s.Fragment,{children:a==="ftp"?s.jsx(Toe,{mode:c,onConfigChange:f}):a==="sftp"?s.jsx(Poe,{mode:c,onConfigChange:f}):a==="file"?s.jsx(Aoe,{mode:c,onConfigChange:f}):a==="http"&&c==="sender"?s.jsx(koe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="http"&&c==="receiver"?s.jsx(Moe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="idoc"&&c==="sender"?s.jsx(Foe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="idoc"&&c==="receiver"?s.jsx(Ioe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="jms"&&c==="sender"?s.jsx(Loe,{adapter:{name:"",type:"jms",mode:"outbound",configuration:g,status:"inactive"},onUpdate:T=>f(T.configuration)}):a==="jms"&&c==="receiver"?s.jsx(_oe,{adapter:{name:"",type:"jms",mode:"inbound",configuration:g,status:"inactive"},onUpdate:T=>f(T.configuration)}):a==="rest"&&c==="sender"?s.jsx($oe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="rest"&&c==="receiver"?s.jsx(Uoe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="soap"&&c==="sender"?s.jsx(Voe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R),businessComponentId:n?.id}):a==="soap"&&c==="receiver"?s.jsx(Boe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R),businessComponentId:n?.id}):a==="odata"&&c==="sender"?s.jsx(qoe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="odata"&&c==="receiver"?s.jsx(Hoe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="rfc"&&c==="sender"?s.jsx(Woe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="rfc"&&c==="receiver"?s.jsx(zoe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="mail"&&c==="sender"?s.jsx(Yoe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):a==="mail"&&c==="receiver"?s.jsx(Koe,{configuration:g,onConfigurationChange:(T,R)=>U(T,R)}):s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsxs(te,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(F.icon,{className:"h-5 w-5"}),F.name," Configuration"]}),s.jsx(pe,{children:"Configure the connection parameters and authentication"})]}),s.jsx(K,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.fields.filter(T=>!(T.conditionalField==="receiver"&&c==="sender"||T.conditionalField==="sender"&&c==="receiver"||T.parentField&&T.parentValue&&g[T.parentField]!==T.parentValue)).map(T=>s.jsx("div",{className:T.name==="url"||T.name==="webhookUrl"||T.name==="customHeaders"||T.type==="password"?"md:col-span-2":"",children:T.type==="jar-selector"?s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(boe,{selectedJarId:g[T.name]||"",onJarSelect:R=>U(T.name,R),label:"",placeholder:`Choose ${T.label}`,driverTypeFilter:T.driverTypeFilter||void 0})]}):T.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(G,{value:g[T.name]||"",onValueChange:R=>U(T.name,R),children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:`Select ${T.label}`})}),s.jsx(X,{className:"bg-card border-border shadow-lg z-50",children:T.options?.map(R=>s.jsx(M,{value:R,children:R},R))})]})]}):T.type==="textarea"?s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ee,{id:T.name,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>U(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}):T.type==="checkbox"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:T.name,type:"checkbox",checked:g[T.name]==="true"||g[T.name]===!0||g[T.name]==="on",onChange:R=>U(T.name,R.target.checked.toString()),className:"h-4 w-4 rounded border-border"}),s.jsx(C,{htmlFor:T.name,className:"text-sm font-normal",children:T.label})]}):T.type==="password"?s.jsx(_t,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:g[T.name]||"",onValueChange:R=>U(T.name,R)}):s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(_,{id:T.name,type:T.type,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>U(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name)),g.authType&&g.authType!=="None"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(mt,{className:"my-4"}),s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-4",children:[g.authType," Configuration"]})]}),L(g.authType).map(T=>s.jsx("div",{className:T.name.includes("Url")||T.name.includes("url")||T.type==="password"?"md:col-span-2":"",children:T.type==="select"?s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(G,{value:g[T.name]||"",onValueChange:R=>U(T.name,R),children:[s.jsx(Y,{className:"transition-all duration-300 hover:bg-accent/50",children:s.jsx(J,{placeholder:`Select ${T.label}`})}),s.jsx(X,{className:"bg-card border-border shadow-lg z-50",children:T.options?.map(R=>s.jsx(M,{value:R,children:R},R))})]})]}):T.type==="password"?s.jsx(_t,{name:T.name,label:T.label,placeholder:T.placeholder,required:T.required,value:g[T.name]||"",onValueChange:R=>U(T.name,R)}):s.jsxs(s.Fragment,{children:[s.jsxs(C,{htmlFor:T.name,className:"flex items-center gap-1",children:[T.label,T.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(_,{id:T.name,type:T.type,placeholder:T.placeholder,value:g[T.name]||"",onChange:R=>U(T.name,R.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]})},T.name))]})]})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Connection Testing"}),s.jsx(pe,{children:"Test your adapter configuration"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsx(q,{onClick:k,disabled:!a||w,className:"w-full bg-accent hover:opacity-90 transition-all duration-300",variant:"outline",children:w?s.jsxs(s.Fragment,{children:[s.jsx(fd,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fd,{className:"h-4 w-4 mr-2"}),"Test Connection"]})}),a==="soap"&&s.jsxs(q,{onClick:()=>b(!0),className:"w-full bg-primary hover:opacity-90 transition-all duration-300",variant:"outline",children:[s.jsx(Ik,{className:"h-4 w-4 mr-2"}),"Configure Field Mapping"]}),v!=="idle"&&s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${v==="success"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[v==="success"?s.jsx(bs,{className:"h-4 w-4"}):s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:v==="success"?"Connection Successful":"Connection Failed"})]}),s.jsx(mt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(sie,{adapterType:F?.id||"",configuration:g,children:s.jsxs(q,{variant:"outline",className:"w-full",disabled:!F,children:[s.jsx(fd,{className:"h-4 w-4 mr-2"}),"Validate Configuration"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>t("/communication-adapters"),className:"flex-1",children:"Cancel"}),s.jsxs(q,{onClick:P,className:"flex-1 bg-primary hover:opacity-90 transition-all duration-300",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),E?"Update":"Save"," Adapter"]})]})]})]})]}),s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.4s"},children:[s.jsx(te,{children:s.jsx(re,{children:"Configuration Summary"})}),s.jsx(K,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(ae,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:F?.name||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mode:"}),s.jsx("span",{children:c||"Not selected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"}),s.jsx("span",{children:F?.category||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),s.jsx(ae,{variant:v==="success"?"default":v==="error"?"destructive":"secondary",children:v==="success"?"Verified":v==="error"?"Failed":"Not tested"})]})]})})]}),s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[s.jsx(te,{children:s.jsx(re,{children:"Security Notes"})}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ws,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Credentials are encrypted and stored securely"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ls,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Test connections before using in production"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ma,{className:"h-4 w-4 mt-0.5 text-primary"}),s.jsx("span",{children:"Use environment-specific configurations"})]})]})})]})]})]})]})]})})},nie=["FILE","FTP","HTTP","IDOC","JDBC","JMS","MAIL","ODATA","REST","RFC","SFTP","SOAP"],rie=["SENDER","RECEIVER"];function aie(){const e=_s(),{isDevelopment:t}=yc(),[n,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(""),[p,x]=h.useState("all"),[g,f]=h.useState("all"),[w,j]=h.useState("all"),[v,y]=h.useState(!1),[N,b]=h.useState(null),[E,S]=h.useState(null);h.useEffect(()=>{A(),O()},[]),h.useEffect(()=>{I()},[n,u,p,g,w]);const A=async()=>{try{d(!0),console.log("Fetching adapters...");const V=await ee.get("/adapters");console.log("Adapters response:",V),V.success&&V.data?r(Array.isArray(V.data)?V.data:[]):(console.warn("No adapter data in response"),r([]))}catch(V){console.error("Error fetching adapters:",V),toast({title:"Error",description:"Failed to load communication adapters",variant:"destructive"}),r([])}finally{d(!1)}},O=async()=>{try{console.log("Fetching business components...");const V=await ee.get("/business-components");console.log("Business components response:",V),V.success&&V.data?l(Array.isArray(V.data)?V.data:[]):l([])}catch(V){console.error("Error fetching business components:",V),l([])}},I=()=>{let V=[...n];u&&(V=V.filter(B=>B.name.toLowerCase().includes(u.toLowerCase())||B.description?.toLowerCase().includes(u.toLowerCase()))),p!=="all"&&(V=V.filter(B=>B.businessComponentId===p)),g!=="all"&&(V=V.filter(B=>B.type===g)),w!=="all"&&(V=V.filter(B=>B.mode===w)),o(V)},F=()=>{A(),toast({title:"Success",description:"Adapters refreshed"})},L=V=>{e("/create-communication-adapter",{state:{adapter:V,isEdit:!0,viewMode:!0}})},U=V=>{e("/create-communication-adapter",{state:{adapter:V,isEdit:!0}})},k=async V=>{try{const B=await Bo.cloneAdapter(V.id,`${V.name} (Copy)`);if(B.success)toast({title:"Success",description:"Adapter cloned successfully"}),A();else throw new Error(B.error||"Failed to clone adapter")}catch(B){toast({title:"Error",description:B instanceof Error?B.message:"Failed to clone adapter",variant:"destructive"})}},P=async()=>{if(N)try{const V=await Bo.deleteAdapter(N.id);if(V.success)toast({title:"Success",description:"Adapter deleted successfully"}),r(n.filter(B=>B.id!==N.id)),y(!1),b(null);else throw new Error(V.error||"Failed to delete adapter")}catch(V){toast({title:"Error",description:V instanceof Error?V.message:"Failed to delete adapter",variant:"destructive"})}},T=async V=>{try{S(V.id);const B=await Bo.testAdapter(V.id,"{}");if(B.success&&B.data)toast({title:"Success",description:B.data.message||"Connection test successful"});else throw new Error(B.error||"Connection test failed")}catch(B){toast({title:"Error",description:B instanceof Error?B.message:"Failed to test adapter connection",variant:"destructive"})}finally{S(null)}},R=async V=>{try{const B={...V,active:!V.active},H=await Bo.updateAdapter(V.id,B);if(H.success)toast({title:"Success",description:`Adapter ${V.active?"deactivated":"activated"} successfully`}),A();else throw new Error(H.error||"Failed to update adapter")}catch(B){toast({title:"Error",description:B instanceof Error?B.message:"Failed to update adapter status",variant:"destructive"})}},D=V=>s.jsx(ae,{className:V?"bg-green-500":"bg-gray-500",children:V?"Active":"Inactive"}),$=V=>{const B={SENDER:"bg-blue-500",RECEIVER:"bg-purple-500"},H={SENDER:"Sender (Inbound)",RECEIVER:"Receiver (Outbound)"};return s.jsx(ae,{variant:"outline",className:`${B[V]||""}`,children:H[V]||V})};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Communication Adapters"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and monitor all communication adapters"})]}),t&&s.jsxs(q,{onClick:()=>e("/create-communication-adapter"),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Create Adapter"]})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(K,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(_,{placeholder:"Search by name...",value:u,onChange:V=>m(V.target.value),className:"pl-10"})]}),s.jsxs(G,{value:p,onValueChange:x,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All Business Components"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Business Components"}),i.map(V=>s.jsx(M,{value:V.id,children:V.name},V.id))]})]}),s.jsxs(G,{value:g,onValueChange:f,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All Types"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Types"}),nie.map(V=>s.jsx(M,{value:V,children:V},V))]})]}),s.jsxs(G,{value:w,onValueChange:j,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All Modes"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Modes"}),rie.map(V=>s.jsx(M,{value:V,children:V},V))]})]})]})})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(CN,{className:"h-5 w-5"}),"Adapters (",a.length,")"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:F,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(K,{children:c?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading adapters..."})}):a.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No adapters found"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Mode"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Business Component"}),s.jsx(Ne,{children:"Created"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:a.map(V=>s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:V.name}),s.jsx(ye,{children:s.jsx(ae,{variant:"outline",children:V.type})}),s.jsx(ye,{children:$(V.mode)}),s.jsx(ye,{children:D(V.active)}),s.jsx(ye,{children:i.find(B=>B.id===V.businessComponentId)?.name||"-"}),s.jsx(ye,{children:new Date(V.createdAt).toLocaleDateString()}),s.jsx(ye,{children:s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(wN,{className:"h-4 w-4"})})}),s.jsxs(yo,{align:"end",children:[s.jsx(tx,{children:"Actions"}),s.jsx(Ws,{}),s.jsx(lt,{onClick:()=>L(V),children:"View Details"}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(lt,{onClick:()=>U(V),children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(lt,{onClick:()=>T(V),disabled:E===V.id,children:[E===V.id?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(fd,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),s.jsx(lt,{onClick:()=>R(V),children:V.active?s.jsxs(s.Fragment,{children:[s.jsx(k8,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(qk,{className:"h-4 w-4 mr-2"}),"Activate"]})}),s.jsxs(lt,{onClick:()=>k(V),children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"Clone"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>{b(V),y(!0)},className:"text-red-600",children:[s.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},V.id))})]})})})]}),s.jsx(dt,{open:v,onOpenChange:y,children:s.jsxs(ot,{children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Delete Adapter"}),s.jsxs(Fs,{children:['Are you sure you want to delete "',N?.name,'"? This action cannot be undone.']})]}),s.jsxs(mr,{children:[s.jsx(q,{variant:"outline",onClick:()=>{y(!1),b(null)},children:"Cancel"}),s.jsx(q,{variant:"destructive",onClick:P,children:"Delete"})]})]})})]})}const oie=()=>{ux("Data Structures"),hx("Manage data structures for your integration flows. Define JSON, XML, XSD, WSDL, and custom formats for seamless data transformation in Integrix Flow Bridge.");const e=_s(),{isDevelopment:t}=yc(),[n,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(""),[p,x]=h.useState("all"),[g,f]=h.useState("all"),[w,j]=h.useState(!1),[v,y]=h.useState(null);h.useEffect(()=>{N(),b()},[]),h.useEffect(()=>{E()},[n,u,p,g]);const N=async()=>{try{d(!0),console.log("Fetching data structures...");const k=await ee.get("/structures");if(console.log("Structures response:",k),k.success&&k.data){const P=k.data.structures||k.data||[];r(Array.isArray(P)?P:[])}else r([])}catch(k){console.error("Error fetching structures:",k),toast({title:"Error",description:"Failed to fetch data structures",variant:"destructive"}),r([])}finally{d(!1)}},b=async()=>{try{const k=await ee.get("/business-components");k.success&&k.data&&l(Array.isArray(k.data)?k.data:[])}catch(k){console.error("Error fetching business components:",k),l([])}},E=()=>{let k=[...n];u&&(k=k.filter(P=>P.name.toLowerCase().includes(u.toLowerCase())||P.description?.toLowerCase().includes(u.toLowerCase())||P.tags?.some(T=>T.toLowerCase().includes(u.toLowerCase())))),p!=="all"&&(k=k.filter(P=>P.businessComponentId===p)),g!=="all"&&(k=k.filter(P=>P.usage===g||P.usage==="both")),o(k)},S=()=>{N(),toast({title:"Success",description:"Data structures refreshed"})},A=k=>{e(`/data-structures/${k}`)},O=k=>{e(`/data-structures/${k.id}`,{state:{structure:k,isEdit:!0}})},I=k=>{y(k),j(!0)},F=async()=>{if(v)try{(await ee.delete(`/structures/${v.id}`)).success?(toast({title:"Success",description:"Data structure deleted successfully"}),N()):toast({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}catch(k){console.error("Error deleting structure:",k),toast({title:"Error",description:"Failed to delete data structure",variant:"destructive"})}finally{j(!1),y(null)}},L=k=>{const P={json:"bg-green-500",xml:"bg-blue-500",xsd:"bg-purple-500",wsdl:"bg-orange-500",edmx:"bg-pink-500",custom:"bg-gray-500"};return s.jsx(ae,{className:`${P[k]||"bg-gray-500"} text-white`,children:k.toUpperCase()})},U=k=>{const P={source:"bg-blue-500",target:"bg-purple-500",both:"bg-green-500"},T={source:"Source",target:"Target",both:"Source & Target"};return s.jsx(ae,{variant:"outline",className:`${P[k]||""}`,children:T[k]||k})};return s.jsxs(cx,{children:[s.jsx(dx,{title:"Data Structures",description:"Manage and view all data structures",icon:s.jsx(Ko,{}),actions:t&&s.jsxs(q,{onClick:()=>e("/create-data-structure"),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Create Structure"]})}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(K,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search by name or tags...",value:u,onChange:k=>m(k.target.value),className:"pl-10"})]}),s.jsxs(G,{value:p,onValueChange:x,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All Business Components"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Business Components"}),i.map(k=>s.jsx(M,{value:k.id,children:k.name},k.id))]})]}),s.jsxs(G,{value:g,onValueChange:f,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All Types"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Types"}),s.jsx(M,{value:"source",children:"Source"}),s.jsx(M,{value:"target",children:"Target"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-5 w-5"}),"Structures (",a.length,")"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:S,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(K,{children:c?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})}):a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No data structures found"}),t&&s.jsxs(q,{variant:"outline",className:"mt-4",onClick:()=>e("/create-data-structure"),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Create your first structure"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Usage"}),s.jsx(Ne,{children:"Business Component"}),s.jsx(Ne,{children:"Tags"}),s.jsx(Ne,{children:"Created"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:a.map(k=>s.jsxs(wt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>A(k.id),children:[s.jsx(ye,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("p",{children:k.name}),k.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]})}),s.jsx(ye,{children:L(k.type)}),s.jsx(ye,{children:U(k.usage)}),s.jsx(ye,{children:k.businessComponentName||"-"}),s.jsx(ye,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags?.map((P,T)=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:P},T))})}),s.jsx(ye,{children:new Date(k.createdAt).toLocaleDateString()}),s.jsx(ye,{onClick:P=>P.stopPropagation(),children:s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(NN,{className:"h-4 w-4"})})}),s.jsxs(yo,{align:"end",children:[s.jsx(lt,{onClick:()=>A(k.id),children:"View Details"}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(lt,{onClick:()=>O(k),children:[s.jsx(T8,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>I(k),className:"text-destructive",children:[s.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},k.id))})]})})})]}),s.jsx(ix,{open:w,onOpenChange:j,children:s.jsxs(Ku,{children:[s.jsxs(Yu,{children:[s.jsx(Gu,{children:"Delete Data Structure"}),s.jsxs(Ju,{children:['Are you sure you want to delete "',v?.name,'"? This action cannot be undone.']})]}),s.jsxs(Xu,{children:[s.jsx(lx,{children:"Cancel"}),s.jsx(Qu,{onClick:F,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var tb="Radio",[iie,o_]=on(tb),[lie,cie]=iie(tb),i_=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=e,[m,p]=h.useState(null),x=Ue(t,w=>p(w)),g=h.useRef(!1),f=m?d||!!m.closest("form"):!0;return s.jsxs(lie,{scope:n,checked:a,disabled:i,children:[s.jsx(Pe.button,{type:"button",role:"radio","aria-checked":a,"data-state":d_(a),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:x,onClick:ge(e.onClick,w=>{a||c?.(),f&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),f&&s.jsx(die,{control:m,bubbles:!g.current,name:r,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});i_.displayName=tb;var l_="RadioIndicator",c_=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,o=cie(l_,n);return s.jsx(us,{present:r||o.checked,children:s.jsx(Pe.span,{"data-state":d_(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});c_.displayName=l_;var die=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=h.useRef(null),i=sx(n),l=Df(t);return h.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const p=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(p)}},[i,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function d_(e){return e?"checked":"unchecked"}var uie=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sb="RadioGroup",[hie,Jve]=on(sb,[gc,o_]),u_=gc(),h_=o_(),[mie,pie]=hie(sb),m_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...p}=e,x=u_(n),g=xc(d),[f,w]=zn({prop:o,defaultProp:a,onChange:m});return s.jsx(mie,{scope:n,name:r,required:i,disabled:l,value:f,onValueChange:w,children:s.jsx(XN,{asChild:!0,...x,orientation:c,dir:g,loop:u,children:s.jsx(Pe.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:t})})})});m_.displayName=sb;var p_="RadioGroupItem",f_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,o=pie(p_,n),i=o.disabled||r,l=u_(n),c=h_(n),d=h.useRef(null),u=Ue(t,d),m=o.value===a.value,p=h.useRef(!1);return h.useEffect(()=>{const x=f=>{uie.includes(f.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),s.jsx(GN,{asChild:!0,...l,focusable:!i,active:m,children:s.jsx(i_,{disabled:i,required:o.required,checked:m,...c,...a,name:o.name,ref:u,onCheck:()=>o.onValueChange(a.value),onKeyDown:ge(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ge(a.onFocus,()=>{p.current&&d.current?.click()})})})});f_.displayName=p_;var fie="RadioGroupIndicator",x_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=h_(n);return s.jsx(c_,{...a,...r,ref:t})});x_.displayName=fie;var g_=m_,v_=f_,xie=x_;const du=h.forwardRef(({className:e,...t},n)=>s.jsx(g_,{className:ne("grid gap-2",e),...t,ref:n}));du.displayName=g_.displayName;const aa=h.forwardRef(({className:e,...t},n)=>s.jsx(v_,{ref:n,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(xie,{className:"flex items-center justify-center",children:s.jsx(rl,{className:"h-2.5 w-2.5 fill-current text-current"})})}));aa.displayName=v_.displayName;var bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gi=typeof window>"u"||"Deno"in globalThis;function Ps(){}function gie(e,t){return typeof e=="function"?e(t):e}function Oj(e){return typeof e=="number"&&e>=0&&e!==1/0}function y_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function to(e,t){return typeof e=="function"?e(t):e}function On(e,t){return typeof e=="function"?e(t):e}function nT(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==nb(i,t.options))return!1}else if(!uu(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function rT(e,t){const{exact:n,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(vi(t.options.mutationKey)!==vi(o))return!1}else if(!uu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function nb(e,t){return(t?.queryKeyHashFn||vi)(e)}function vi(e){return JSON.stringify(e,(t,n)=>Ij(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function uu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>uu(e[n],t[n])):!1}function j_(e,t){if(e===t)return e;const n=aT(e)&&aT(t);if(n||Ij(e)&&Ij(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(r);let d=0;for(let u=0;u<i;u++){const m=n?u:o[u];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=j_(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function Gp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function aT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ij(e){if(!oT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!oT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oT(e){return Object.prototype.toString.call(e)==="[object Object]"}function vie(e){return new Promise(t=>{setTimeout(t,e)})}function Lj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?j_(e,t):t}function yie(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function jie(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rb=Symbol();function w_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===rb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function N_(e,t){return typeof e=="function"?e(...t):!!e}var wie=class extends bc{#t;#e;#s;constructor(){super(),this.#s=e=>{if(!gi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ab=new wie,Nie=class extends bc{#t=!0;#e;#s;constructor(){super(),this.#s=e=>{if(!gi&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#s=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Jp=new Nie;function _j(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function bie(e){return Math.min(1e3*2**e,3e4)}function b_(e){return(e??"online")==="online"?Jp.isOnline():!0}var S_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function lv(e){return e instanceof S_}function C_(e){let t=!1,n=0,r=!1,a;const o=_j(),i=f=>{r||(p(new S_(f)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>ab.isFocused()&&(e.networkMode==="always"||Jp.isOnline())&&e.canRun(),u=()=>b_(e.networkMode)&&e.canRun(),m=f=>{r||(r=!0,e.onSuccess?.(f),a?.(),o.resolve(f))},p=f=>{r||(r=!0,e.onError?.(f),a?.(),o.reject(f))},x=()=>new Promise(f=>{a=w=>{(r||d())&&f(w)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),g=()=>{if(r)return;let f;const w=n===0?e.initialPromise:void 0;try{f=w??e.fn()}catch(j){f=Promise.reject(j)}Promise.resolve(f).then(m).catch(j=>{if(r)return;const v=e.retry??(gi?0:3),y=e.retryDelay??bie,N=typeof y=="function"?y(n,j):y,b=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,j);if(t||!b){p(j);return}n++,e.onFail?.(n,j),vie(N).then(()=>d()?void 0:x()).then(()=>{t?p(j):g()})})};return{promise:o,cancel:i,continue:()=>(a?.(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),o)}}var Sie=e=>setTimeout(e,0);function Cie(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=Sie;const o=l=>{t?e.push(l):a(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var ns=Cie(),E_=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oj(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gi?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Eie=class extends E_{#t;#e;#s;#n;#r;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Tie(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const n=Lj(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ps).catch(Ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>On(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>to(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!y_(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},a=()=>{const c=w_(this.options,t),u=(()=>{const m={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#i=!1,this.options.persister?this.options.persister(c,u,this):c(u)},i=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return r(c),c})();this.options.behavior?.onFetch(i,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#a({type:"fetch",meta:i.fetchOptions?.meta});const l=c=>{lv(c)&&c.silent||this.#a({type:"error",error:c}),lv(c)||(this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=C_({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#a({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...T_(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return lv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),ns.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function T_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Tie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pie=class extends bc{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,a=t.queryHash??nb(r,t);let o=this.get(a);return o||(o=new Eie({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ns.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>nT(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>nT(e,n)):t}notify(e){ns.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ns.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ns.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Aie=class extends E_{#t;#e;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||P_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#s=C_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#n({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:r})}const a=await this.#s.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ns.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function P_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kie=class extends bc{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(e,t,n){const r=new Aie({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=nm(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=nm(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nm(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=nm(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ns.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>rT(t,n))}findAll(e={}){return this.getAll().filter(t=>rT(e,t))}notify(e){ns.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ns.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ps))))}};function nm(e){return e.options.scope?.id}function iT(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const m=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=w_(t.options,t.fetchOptions),x=async(g,f,w)=>{if(u)return Promise.reject();if(f==null&&g.pages.length)return Promise.resolve(g);const v=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:f,direction:w?"backward":"forward",meta:t.options.meta};return m(E),E})(),y=await p(v),{maxPages:N}=t.options,b=w?jie:yie;return{pages:b(g.pages,y,N),pageParams:b(g.pageParams,f,N)}};if(a&&o.length){const g=a==="backward",f=g?Rie:lT,w={pages:o,pageParams:i},j=f(r,w);l=await x(w,j,g)}else{const g=e??o.length;do{const f=c===0?i[0]??r.initialPageParam:lT(r,l);if(c>0&&f==null)break;l=await x(l,f),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function lT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Rie(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var A_=class{#t;#e;#s;#n;#r;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new Pie,this.#e=e.mutationCache||new kie,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=ab.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Jp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(to(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(r.queryHash)?.state.data,i=gie(t,o);if(i!==void 0)return this.#t.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ns.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;ns.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return ns.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ns.batch(()=>this.#t.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Ps).catch(Ps)}invalidateQueries(e,t={}){return ns.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ns.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ps)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(to(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ps).catch(Ps)}fetchInfiniteQuery(e){return e.behavior=iT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ps).catch(Ps)}ensureInfiniteQueryData(e){return e.behavior=iT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jp.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(vi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(r=>{uu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(vi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{uu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Mie=class extends bc{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=_j(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#s=void 0;#n=void 0;#r;#o;#i;#a;#f;#h;#m;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),cT(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $j(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $j(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),t._defaulted&&!Gp(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&dT(this.#e,n,this.options,t)&&this.#u(),this.updateResult(),r&&(this.#e!==n||On(this.options.enabled,this.#e)!==On(t.enabled,this.#e)||to(this.options.staleTime,this.#e)!==to(t.staleTime,this.#e))&&this.#x();const a=this.#g();r&&(this.#e!==n||On(this.options.enabled,this.#e)!==On(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return Fie(this,n)&&(this.#n=n,this.#o=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#N();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ps)),t}#x(){this.#j();const e=to(this.options.staleTime,this.#e);if(gi||this.#n.isStale||!Oj(e))return;const n=y_(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(gi||On(this.options.enabled,this.#e)===!1||!Oj(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||ab.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#j(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#e,r=this.options,a=this.#n,o=this.#r,i=this.#o,c=e!==n?e.state:this.#s,{state:d}=e;let u={...d},m=!1,p;if(t._optimisticResults){const A=this.hasListeners(),O=!A&&cT(e,t),I=A&&dT(e,n,t,r);(O||I)&&(u={...u,...T_(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:f}=u;p=u.data;let w=!1;if(t.placeholderData!==void 0&&p===void 0&&f==="pending"){let A;a?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(A=a.data,w=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,A!==void 0&&(f="success",p=Lj(a?.data,A,t),m=!0)}if(t.select&&p!==void 0&&!w)if(a&&p===o?.data&&t.select===this.#f)p=this.#h;else try{this.#f=t.select,p=t.select(p),p=Lj(a?.data,p,t),this.#h=p,this.#a=null}catch(A){this.#a=A}this.#a&&(x=this.#a,p=this.#h,g=Date.now(),f="error");const j=u.fetchStatus==="fetching",v=f==="pending",y=f==="error",N=v&&j,b=p!==void 0,S={status:f,fetchStatus:u.fetchStatus,isPending:v,isSuccess:f==="success",isError:y,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:u.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:j,isRefetching:j&&!v,isLoadingError:y&&!b,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:y&&b,isStale:ob(e,t),refetch:this.refetch,promise:this.#i,isEnabled:On(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=F=>{S.status==="error"?F.reject(S.error):S.data!==void 0&&F.resolve(S.data)},O=()=>{const F=this.#i=S.promise=_j();A(F)},I=this.#i;switch(I.status){case"pending":e.queryHash===n.queryHash&&A(I);break;case"fulfilled":(S.status==="error"||S.data!==I.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==I.reason)&&O();break}}return S}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#o=this.options,this.#r.data!==void 0&&(this.#m=this.#e),Gp(t,e))return;this.#n=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(i=>{const l=i;return this.#n[l]!==e[l]&&o.has(l)})};this.#b({listeners:n()})}#N(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#b(e){ns.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Die(e,t){return On(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cT(e,t){return Die(e,t)||e.state.data!==void 0&&$j(e,t,t.refetchOnMount)}function $j(e,t,n){if(On(t.enabled,e)!==!1&&to(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ob(e,t)}return!1}function dT(e,t,n,r){return(e!==t||On(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ob(e,n)}function ob(e,t){return On(t.enabled,e)!==!1&&e.isStaleByTime(to(t.staleTime,e))}function Fie(e,t){return!Gp(e.getCurrentResult(),t)}var Oie=class extends bc{#t;#e=void 0;#s;#n;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Gp(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&vi(n.mutationKey)!==vi(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#o()}mutate(t,n){return this.#n=n,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#r(){const t=this.#s?.state??P_();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){ns.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},k_=h.createContext(void 0),ib=e=>{const t=h.useContext(k_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Iie=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(k_.Provider,{value:e,children:t})),R_=h.createContext(!1),Lie=()=>h.useContext(R_);R_.Provider;function _ie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $ie=h.createContext(_ie()),Uie=()=>h.useContext($ie),Vie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Bie=e=>{h.useEffect(()=>{e.clearReset()},[e])},Hie=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||N_(n,[e.error,r])),qie=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zie=(e,t)=>e.isLoading&&e.isFetching&&!t,Wie=(e,t)=>e?.suspense&&t.isPending,uT=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Kie(e,t,n){const r=Lie(),a=Uie(),o=ib(),i=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",qie(i),Vie(i,a),Bie(a);const l=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),d=c.getOptimisticResult(i),u=!r&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(m=>{const p=u?c.subscribe(ns.batchCalls(m)):Ps;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),Wie(i,d))throw uT(i,c,a);if(Hie({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(i,d),i.experimental_prefetchInRender&&!gi&&zie(d,r)&&(l?uT(i,c,a):o.getQueryCache().get(i.queryHash)?.promise)?.catch(Ps).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?d:c.trackResult(d)}function Uj(e,t){return Kie(e,Mie)}function Lm(e,t){const n=ib(),[r]=h.useState(()=>new Oie(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const a=h.useSyncExternalStore(h.useCallback(i=>r.subscribe(ns.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=h.useCallback((i,l)=>{r.mutate(i,l).catch(Ps)},[r]);if(a.error&&N_(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function Yie({isOpen:e,onClose:t}){const[n,r]=h.useState("SOURCE"),[a,o]=h.useState("SYNCHRONOUS"),[i,l]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,x]=h.useState(""),[g,f]=h.useState(""),[w,j]=h.useState(""),[v,y]=h.useState(null),[N,b]=h.useState(""),[E,S]=h.useState(!1),{data:A=[],isLoading:O}=Uj({queryKey:["xml-data-structures"],queryFn:async()=>await Oe.get("/wsdl/structures/xml"),enabled:e}),I=Lm({mutationFn:async P=>await Oe.post("/wsdl/generate",P),onSuccess:P=>{y(P),Tr({title:"Success",description:"WSDL generated successfully"})},onError:P=>{Tr({title:"Error",description:P.response?.data?.message||"Failed to generate WSDL",variant:"destructive"})}});h.useEffect(()=>{i&&A.find(P=>P.id===i)},[i,A]);const F=async()=>{if(!p||!g||!w||!i){Tr({title:"Error",description:"Please fill all required fields",variant:"destructive"});return}if(a==="SYNCHRONOUS"&&!c){Tr({title:"Error",description:"Response structure is required for synchronous WSDL",variant:"destructive"});return}const P={mode:n,type:a,requestStructureId:i,responseStructureId:a==="SYNCHRONOUS"?c:void 0,faultStructureId:u||void 0,serviceName:p,namespace:g,operationName:w};I.mutate(P)},L=async()=>{if(v)try{const P=await Oe.get(`/wsdl/preview/${v.wsdlId}`,{responseType:"text"});b(P.data||""),S(!0)}catch{Tr({title:"Error",description:"Failed to preview WSDL",variant:"destructive"})}},U=()=>{if(!v)return;const P=document.createElement("a");P.href=`/api${v.downloadUrl}`,P.download=`${p}.wsdl`,document.body.appendChild(P),P.click(),document.body.removeChild(P)},k=()=>{r("SOURCE"),o("SYNCHRONOUS"),l(""),d(""),m(""),x(""),f(""),j(""),y(null),b(""),S(!1),t()};return s.jsxs(s.Fragment,{children:[s.jsx(dt,{open:e&&!E,onOpenChange:k,children:s.jsxs(ot,{className:"max-w-2xl",children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Generate WSDL"}),s.jsx(Fs,{children:"Generate a WSDL 1.1 file from existing XML/XSD data structures"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"WSDL Mode"}),s.jsxs(du,{value:n,onValueChange:P=>r(P),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"SOURCE",id:"source"}),s.jsx(C,{htmlFor:"source",children:"Source (Outbound service)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"TARGET",id:"target"}),s.jsx(C,{htmlFor:"target",children:"Target (Inbound service)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"WSDL Type"}),s.jsxs(du,{value:a,onValueChange:P=>o(P),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"SYNCHRONOUS",id:"sync"}),s.jsx(C,{htmlFor:"sync",children:"Synchronous (Request/Response)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"ASYNCHRONOUS",id:"async"}),s.jsx(C,{htmlFor:"async",children:"Asynchronous (Request only)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"request",children:"Request Structure *"}),s.jsxs(G,{value:i,onValueChange:l,children:[s.jsx(Y,{id:"request",children:s.jsx(J,{placeholder:"Select request structure"})}),s.jsx(X,{children:A.map(P=>s.jsxs(M,{value:P.id,children:[P.name," ",P.description&&`- ${P.description}`]},P.id))})]})]}),a==="SYNCHRONOUS"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"response",children:"Response Structure *"}),s.jsxs(G,{value:c,onValueChange:d,children:[s.jsx(Y,{id:"response",children:s.jsx(J,{placeholder:"Select response structure"})}),s.jsx(X,{children:A.map(P=>s.jsxs(M,{value:P.id,children:[P.name," ",P.description&&`- ${P.description}`]},P.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"fault",children:"Fault Structure (Optional)"}),s.jsxs(G,{value:u,onValueChange:m,children:[s.jsx(Y,{id:"fault",children:s.jsx(J,{placeholder:"Select fault structure (optional)"})}),s.jsxs(X,{children:[s.jsx(M,{value:"",children:"None"}),A.map(P=>s.jsxs(M,{value:P.id,children:[P.name," ",P.description&&`- ${P.description}`]},P.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"service-name",children:"Service Name *"}),s.jsx(_,{id:"service-name",value:p,onChange:P=>x(P.target.value),placeholder:"e.g., CustomerService"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"namespace",children:"Namespace *"}),s.jsx(_,{id:"namespace",value:g,onChange:P=>f(P.target.value),placeholder:"e.g., http://example.com/services/customer"}),!g&&i&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter namespace or it will be extracted from request structure if available"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"operation",children:"Operation Name *"}),s.jsx(_,{id:"operation",value:w,onChange:P=>j(P.target.value),placeholder:"e.g., getCustomer"})]}),v&&s.jsx(Xe,{children:s.jsxs(Ge,{children:["WSDL generated successfully! ",v.createdStructures.length," data structures were created."]})})]}),s.jsxs(mr,{children:[s.jsx(q,{variant:"outline",onClick:k,children:"Cancel"}),v?s.jsxs(s.Fragment,{children:[s.jsxs(q,{variant:"outline",onClick:L,children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(q,{onClick:U,children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Download"]})]}):s.jsxs(q,{onClick:F,disabled:I.isPending||O,children:[I.isPending&&s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate WSDL"]})]})]})}),s.jsx(dt,{open:E,onOpenChange:S,children:s.jsxs(ot,{className:"max-w-4xl max-h-[80vh]",children:[s.jsx(ut,{children:s.jsx(ht,{children:"WSDL Preview"})}),s.jsx("div",{className:"overflow-auto",children:s.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded",children:N})}),s.jsxs(mr,{children:[s.jsx(q,{variant:"outline",onClick:()=>S(!1),children:"Close"}),s.jsxs(q,{onClick:U,children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const Xie=({structureName:e,setStructureName:t,structureDescription:n,setStructureDescription:r,structureUsage:a="source",setStructureUsage:o,isEditMode:i=!1})=>{const[l,c]=h.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(W,{className:"animate-scale-in",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(re,{children:[i?"Edit":"Create"," Data Structure"]}),s.jsx(pe,{children:"Import existing schemas or create custom structures"})]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"gap-2",children:[s.jsx(p8,{className:"h-4 w-4"}),"Generate WSDL"]})]})}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"structureName",children:"Structure Name *"}),s.jsx(_,{id:"structureName",placeholder:"e.g., Customer Order Schema",value:e,onChange:d=>t(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",placeholder:"Describe the purpose and context of this data structure...",value:n,onChange:d=>r(d.target.value),className:"transition-all duration-300 focus:scale-[1.01]",rows:3})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"usage",children:"Usage"}),s.jsxs(G,{value:a,onValueChange:d=>{const u=d;if(o(u),e){let m=e;(m.endsWith("_Out")||m.endsWith("_In"))&&(m=m.substring(0,m.length-4)),t(m+(u==="source"?"_Out":"_In"))}},children:[s.jsx(Y,{id:"usage",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"source",children:"Source (Outbound)"}),s.jsx(M,{value:"target",children:"Target (Inbound)"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Source structures are used by Sender Adapters (outbound - receive FROM external systems). Target structures are used by Receiver Adapters (inbound - send TO external systems)"})]})]})})]}),s.jsx(Yie,{isOpen:l,onClose:()=>c(!1)})]})},Gie=({selectedBusinessComponent:e,setSelectedBusinessComponent:t})=>{const[n,r]=h.useState([]),[a,o]=h.useState(!0);h.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0);const l=await na.getAllBusinessComponents();if(l.success&&l.data){const c=Array.isArray(l.data)?l.data:[];r(c)}}catch(l){console.error("Error loading business components:",l),r([])}finally{o(!1)}};return s.jsxs(W,{className:"animate-scale-in",children:[s.jsxs(te,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Business Component Selection"]}),s.jsx(pe,{children:"Select the business component this data structure belongs to"})]}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component *"}),s.jsxs(G,{value:e?.id||"",onValueChange:l=>{const c=n.find(d=>d.id===l)||null;t(c)},disabled:a,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsx(X,{children:n.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No business components available"}):n.map(l=>s.jsx(M,{value:l.id,children:l.name},l.id))})]})]})})]})},Dx=({icon:e,title:t,description:n,acceptTypes:r,dragOver:a,onDrop:o,onDragOver:i,onDragLeave:l,onFileSelect:c,uploadId:d,buttonText:u})=>s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-primary bg-primary/10":"border-border"}`,onDrop:o,onDragOver:i,onDragLeave:l,children:[s.jsx(e,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n}),s.jsx("input",{type:"file",accept:r,onChange:m=>m.target.files?.[0]&&c(m.target.files[0]),className:"hidden",id:d}),s.jsxs(q,{variant:"outline",onClick:()=>document.getElementById(d)?.click(),children:[s.jsx(Af,{className:"h-4 w-4 mr-2"}),u]})]}),Jie=({jsonInput:e,setJsonInput:t,onResetAllFields:n,onFileUploaded:r})=>{const[a,o]=h.useState(!1),{toast:i}=He(),l=u=>{const m=new FileReader;m.onload=p=>{const x=p.target?.result;try{const g=JSON.parse(x);t(JSON.stringify(g,null,2)),r&&r(u.name),i({title:"JSON File Loaded",description:`Successfully loaded ${u.name}`})}catch{i({title:"Invalid JSON",description:"The uploaded file contains invalid JSON",variant:"destructive"})}},m.readAsText(u)},c=u=>{u.preventDefault(),o(!1);const m=Array.from(u.dataTransfer.files);m.length>0&&l(m[0])},d=()=>{n(),i({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx(Dx,{icon:bN,title:"JSON Upload",description:"Drag & drop a JSON file or paste JSON structure below",acceptTypes:".json",dragOver:a,onDrop:c,onDragOver:u=>{u.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onFileSelect:l,uploadId:"json-upload",buttonText:"Upload JSON File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{children:"JSON Structure"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Clear JSON"]})]}),s.jsx(Ee,{placeholder:'{"orderId": "string", "amount": 100.50, "items": []}',value:e,onChange:u=>t(u.target.value),className:"font-mono text-sm",rows:8})]})]})},lb=({type:e,namespaceConfig:t,setNamespaceConfig:n,hideSchemaLocation:r=!1})=>{const a=e==="wsdl";return s.jsxs(W,{className:"p-4 bg-muted/30",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),a?"WSDL":"XML"," Namespace Configuration"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-xs",children:a?"Service Namespace *":"Namespace URI *"}),s.jsx(_,{placeholder:a?"http://example.com/service":"http://example.com/namespace",value:t.uri,onChange:o=>n({...t,uri:o.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-xs",children:a?"Service Prefix":"Namespace Prefix"}),s.jsx(_,{placeholder:a?"svc":"ns1",value:t.prefix,onChange:o=>n({...t,prefix:o.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-xs",children:"Target Namespace"}),s.jsx(_,{placeholder:"http://example.com/target",value:t.targetNamespace,onChange:o=>n({...t,targetNamespace:o.target.value}),className:"text-sm"})]}),!r&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-xs",children:a?"WSDL Location":"Schema Location"}),s.jsx(_,{placeholder:a?"http://example.com/service.wsdl":"http://example.com/schema.xsd",value:t.schemaLocation,onChange:o=>n({...t,schemaLocation:o.target.value}),className:"text-sm"})]})]})]})},Qie=({xsdInput:e,setXsdInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a,onFileUploaded:o})=>{const[i,l]=h.useState(!1),{toast:c}=He(),d=p=>{const x=new FileReader;x.onload=g=>{const f=g.target?.result;t(f),o&&o(p.name),c({title:"XSD File Loaded",description:`Successfully loaded ${p.name}`})},x.readAsText(p)},u=p=>{p.preventDefault(),l(!1);const x=Array.from(p.dataTransfer.files);x.length>0&&d(x[0])},m=()=>{a(),c({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(lb,{type:"xml",namespaceConfig:n,setNamespaceConfig:r}),!e.trim()&&s.jsx(Dx,{icon:Pu,title:"XSD Upload",description:"Drag & drop XSD or WSDL files",acceptTypes:".xsd,.wsdl,.xml",dragOver:i,onDrop:u,onDragOver:p=>{p.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onFileSelect:d,uploadId:"xsd-upload",buttonText:"Upload XSD/WSDL"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{children:"XSD/SOAP Content"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Clear XSD"]})]}),s.jsx(Ee,{placeholder:"Paste your XSD or SOAP schema here...",value:e,onChange:p=>t(p.target.value),className:"font-mono text-sm",rows:8})]})]})},Zie=({wsdlInput:e,setWsdlInput:t,namespaceConfig:n,setNamespaceConfig:r,onWsdlAnalyzed:a,onResetAllFields:o,onFileUploaded:i})=>{const[l,c]=h.useState(!1),[d,u]=h.useState(null),{toast:m}=He(),p=w=>{const{names:j,hasMultiple:v}=f4(w);v?(u(j),m({title:"Multiple Operations Detected",description:`This WSDL contains ${j.length} operations. Please enter a structure name manually.`,variant:"default"})):u(null);const y=T1(w),N=oX(w);N&&r(N),a&&a(y,N)},x=w=>{const j=new FileReader;j.onload=v=>{const y=v.target?.result;t(y),p(y),i&&!T1(y)&&i(w.name),m({title:"WSDL File Loaded",description:`Successfully loaded ${w.name}`})},j.readAsText(w)},g=w=>{w.preventDefault(),c(!1);const j=Array.from(w.dataTransfer.files);j.length>0&&x(j[0])},f=()=>{o(),m({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[d&&s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(wc,{children:"Multiple Operations Found"}),s.jsxs(Ge,{children:["This WSDL contains ",d.length," operations: ",d.join(", "),". Please enter a structure name manually in the form above."]})]}),s.jsx(lb,{type:"wsdl",namespaceConfig:n,setNamespaceConfig:r,hideSchemaLocation:!0}),!e.trim()&&s.jsx(Dx,{icon:Pu,title:"WSDL Upload",description:"Drag & drop a WSDL file or paste WSDL content below",acceptTypes:".wsdl,.xml",dragOver:l,onDrop:g,onDragOver:w=>{w.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onFileSelect:x,uploadId:"wsdl-upload",buttonText:"Upload WSDL File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{children:"WSDL Content"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Clear WSDL"]})]}),s.jsx(Ee,{placeholder:"Paste your WSDL definition here...",value:e,onChange:w=>{const j=w.target.value;t(j),j.trim()&&p(j)},className:"font-mono text-sm",rows:8})]})]})},ele=({edmxInput:e,setEdmxInput:t,namespaceConfig:n,setNamespaceConfig:r,onResetAllFields:a,onFileUploaded:o})=>{const[i,l]=h.useState(!1),{toast:c}=He(),d=g=>{g.preventDefault(),l(!1);const f=g.dataTransfer.files;f[0]&&p(f[0])},u=g=>{g.preventDefault(),l(!0)},m=()=>{l(!1)},p=g=>{const f=new FileReader;f.onload=w=>{const j=w.target?.result;t(j),o&&o(g.name),c({title:"EDMX File Loaded",description:`Successfully loaded ${g.name}`})},f.readAsText(g)},x=()=>{a(),c({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[!e.trim()&&s.jsx(Dx,{icon:Pu,title:"Upload EDMX File",description:"Drag and drop your EDMX file here, or click to browse",acceptTypes:".edmx,.xml",dragOver:i,onDrop:d,onDragOver:u,onDragLeave:m,onFileSelect:p,uploadId:"edmx-upload",buttonText:"Upload EDMX File"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{htmlFor:"edmxInput",children:"EDMX Structure"}),e.trim()&&s.jsxs(q,{variant:"outline",size:"sm",onClick:x,className:"text-destructive hover:text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Clear EDMX"]})]}),s.jsx(Ee,{id:"edmxInput",placeholder:"Paste your EDMX content here or upload a file above...",value:e,onChange:g=>t(g.target.value),className:"min-h-[300px] font-mono text-sm",rows:15})]}),s.jsx(lb,{type:"xml",namespaceConfig:n,setNamespaceConfig:r})]})},tle=["string","number","boolean","date","datetime","object","array","integer","decimal","email","url"],sle=({field:e,canHaveChildren:t,isExpanded:n,onToggleExpanded:r,onUpdate:a,onRemove:o,depth:i})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[s.jsx("div",{className:"col-span-1 flex items-center",children:t&&s.jsx(q,{onClick:r,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover-scale",children:n?s.jsx(cr,{className:"h-3 w-3"}):s.jsx(nn,{className:"h-3 w-3"})})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(C,{className:"text-xs",children:"Field Name"}),s.jsx(_,{placeholder:"fieldName",value:e.name,onChange:l=>a({name:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(C,{className:"text-xs",children:"Type"}),s.jsxs(G,{value:e.type,onValueChange:l=>a({type:l}),children:[s.jsx(Y,{className:"text-sm",children:s.jsx(J,{})}),s.jsx(X,{children:tle.map(l=>s.jsx(M,{value:l,children:l},l))})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(C,{className:"text-xs",children:"Description"}),s.jsx(_,{placeholder:"Field description...",value:e.description||"",onChange:l=>a({description:l.target.value}),className:"text-sm animate-fade-in"})]}),s.jsx("div",{className:"col-span-2 flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.required,onChange:l=>a({required:l.target.checked}),className:"rounded"}),s.jsx("span",{children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(q,{onClick:o,size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-6 w-6 p-0 hover-scale",children:s.jsx(Rn,{className:"h-3 w-3"})})})]}),nle=({field:e,canHaveChildren:t,onUpdate:n,onAddChild:r})=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end animate-fade-in",children:[s.jsx("div",{className:"col-span-1"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.isComplexType||!1,onChange:a=>n({isComplexType:a.target.checked}),className:"rounded"}),s.jsx("span",{children:"Complex Type"})]})}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(C,{className:"text-xs",children:"Min Occurs"}),s.jsx(_,{type:"number",min:"0",placeholder:"0",value:e.minOccurs||0,onChange:a=>n({minOccurs:parseInt(a.target.value)||0}),className:"text-sm"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(C,{className:"text-xs",children:"Max Occurs"}),s.jsxs(G,{value:e.maxOccurs?.toString()||"1",onValueChange:a=>n({maxOccurs:a==="unbounded"?"unbounded":parseInt(a)}),children:[s.jsx(Y,{className:"text-sm",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"1",children:"1"}),s.jsx(M,{value:"2",children:"2"}),s.jsx(M,{value:"5",children:"5"}),s.jsx(M,{value:"10",children:"10"}),s.jsx(M,{value:"unbounded",children:"Unbounded"})]})]})]}),s.jsx("div",{className:"col-span-3",children:t&&s.jsxs(q,{onClick:r,size:"sm",variant:"outline",className:"w-full hover-scale",children:[s.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Add Child"]})})]}),rle=({field:e,canHaveChildren:t,isExpanded:n,hasChildren:r,depth:a,path:o,onUpdateChild:i,onRemoveChild:l,onAddGrandChild:c,FieldBuilderComponent:d})=>!t||!n||!r?null:s.jsxs("div",{className:"space-y-3 pl-4 border-l border-border/50 animate-accordion-down",children:[s.jsx(C,{className:"text-xs text-muted-foreground",children:"Child Fields:"}),e.children.map((u,m)=>s.jsx(d,{field:u,index:m,onUpdate:i,onRemove:l,onAddChild:c,depth:a+1,path:[...o,m]},m))]}),ale=(e,t,n,r,a)=>{const o=h.useCallback(u=>{if(u.maxOccurs!==void 0){const m=u.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?u.type="array":m===1&&e.type==="array"&&(u.type="string")}n(t,u)},[t,n,e.type]),i=h.useCallback(()=>{!e.isComplexType&&e.type!=="object"&&e.type!=="array"&&n(t,{isComplexType:!0}),a(t)},[e.isComplexType,e.type,t,n,a]),l=h.useCallback(u=>{r(u)},[r]),c=h.useCallback((u,m)=>{n(u,m)},[n]),d=h.useCallback(u=>{a(u)},[a]);return{handleUpdate:o,handleAddChild:i,handleRemoveChild:l,handleUpdateChild:c,handleAddGrandChild:d}},M_=({field:e,index:t,onUpdate:n,onRemove:r,onAddChild:a,depth:o,path:i})=>{const[l,c]=kt.useState(!0),d=!!(e.children&&e.children.length>0),u=e.isComplexType||e.type==="object"||e.type==="array",{handleUpdate:m,handleAddChild:p,handleRemoveChild:x,handleUpdateChild:g,handleAddGrandChild:f}=ale(e,i,n,r,a);return s.jsxs("div",{className:`space-y-3 p-4 border rounded-lg animate-scale-in ${o>0?"ml-6 border-l-2 border-l-primary/30":""}`,children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(sle,{field:e,canHaveChildren:u,isExpanded:l,onToggleExpanded:()=>c(!l),onUpdate:m,onRemove:()=>r(i),depth:o}),s.jsx(nle,{field:e,canHaveChildren:u,onUpdate:m,onAddChild:p})]}),s.jsx(rle,{field:e,canHaveChildren:u,isExpanded:l,hasChildren:d,depth:o,path:i,onUpdateChild:g,onRemoveChild:x,onAddGrandChild:f,FieldBuilderComponent:M_})]})},ole=(e,t)=>{const n=h.useCallback((i,l)=>{const c={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]};if(l!==void 0&&i!==void 0){const d=[...e];d[l].children[i].children||(d[l].children[i].children=[]),d[l].children[i].children.push(c),t(d)}else if(i!==void 0){const d=[...e];d[i].children||(d[i].children=[]),d[i].children.push(c),t(d)}else t([...e,c])},[e,t]),r=h.useCallback((i,l)=>{console.log("updateFieldAtPath called:",{path:i,field:l});const c=[...e];let d=c;for(let m=0;m<i.length-1;m++){const p=i[m];d[p].children||(d[p].children=[]),d=d[p].children}const u=i[i.length-1];if(d[u]){if(l.maxOccurs!==void 0){const m=l.maxOccurs;typeof m=="number"&&m>1||m==="unbounded"?l.type="array":m===1&&d[u].type==="array"&&(l.type="string")}d[u]={...d[u],...l},console.log("Updated field at path:",i,d[u])}t(c)},[e,t]),a=h.useCallback(i=>{const l=[...e];if(i.length===1)t(l.filter((c,d)=>d!==i[0]));else{let c=l;for(let m=0;m<i.length-2;m++){const p=i[m];if(!c[p].children)return;c=c[p].children}const d=i[i.length-2],u=i[i.length-1];c[d]&&c[d].children&&(c[d].children=c[d].children.filter((m,p)=>p!==u)),t(l)}},[e,t]),o=h.useCallback(i=>{const l={name:"",type:"string",required:!1,description:"",isComplexType:!1,minOccurs:0,maxOccurs:1,children:[]},c=[...e];let d=c;for(let u=0;u<i.length;u++){const m=i[u];d[m].children||(d[m].children=[]),u===i.length-1?d[m].children.push(l):d=d[m].children}t(c)},[e,t]);return{addCustomField:n,updateFieldAtPath:r,removeFieldAtPath:a,addChildAtPath:o}},Qp=e=>{const t={};return e.forEach(n=>{if(n.name){const r=n.type==="array"||typeof n.maxOccurs=="number"&&n.maxOccurs>1||n.maxOccurs==="unbounded";n.isComplexType||n.children&&n.children.length>0?r?t[n.name]=[Qp(n.children)]:t[n.name]=Qp(n.children):t[n.name]=n.type==="integer"?0:""}}),t},ile=e=>{if(e.length===0)return"{}";if(e.length===1&&(e[0].isComplexType||e[0].children)){const n=e[0],r={[n.name]:Qp(n.children||[])};return JSON.stringify(r,null,2)}const t={root:Qp(e)};return JSON.stringify(t,null,2)},lle=e=>{let t=`<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>`;return e.forEach(n=>{if(n.name)if(n.isComplexType||n.children&&n.children.length>0)t+=`
        <xs:element name="${n.name}">
          <xs:complexType>
            <xs:sequence>`,n.children?.forEach(r=>{if(r.name){const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;r.isComplexType||r.children&&r.children.length>0?(t+=`
              <xs:element name="${r.name}">
                <xs:complexType>
                  <xs:sequence>`,r.children?.forEach(l=>{if(l.name){const c=l.minOccurs||(l.required?1:0),d=l.maxOccurs==="unbounded"?"unbounded":l.maxOccurs||1,u=`minOccurs="${c}" maxOccurs="${d}"`;t+=`
                    <xs:element name="${l.name}" type="xs:${l.type==="array"?"string":l.type}" ${u}/>`}}),t+=`
                  </xs:sequence>
                </xs:complexType>
              </xs:element>`):t+=`
              <xs:element name="${r.name}" type="xs:${r.type==="array"?"string":r.type}" ${i}/>`}}),t+=`
            </xs:sequence>
          </xs:complexType>
        </xs:element>`;else{const r=n.minOccurs||(n.required?1:0),a=n.maxOccurs==="unbounded"?"unbounded":n.maxOccurs||1,o=`minOccurs="${r}" maxOccurs="${a}"`;t+=`
        <xs:element name="${n.name}" type="xs:${n.type==="array"?"string":n.type}" ${o}/>`}}),t+=`
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema>`,t},cle=(e,t="        ")=>{let n="";return(e.isComplexType||e.children&&e.children.length>0)&&(n+=`${t}<xsd:complexType name="${e.name}Type">
${t}  <xsd:sequence>`,e.children?.forEach(r=>{if(r.name){const a=r.minOccurs||(r.required?1:0),o=r.maxOccurs==="unbounded"?"unbounded":r.maxOccurs||1,i=`minOccurs="${a}" maxOccurs="${o}"`;if(r.isComplexType||r.children&&r.children.length>0)n+=`
${t}    <xsd:element name="${r.name}" type="tns:${r.name}Type" ${i}/>`;else{const l=r.type==="array"?"string":r.type==="integer"?"int":r.type;n+=`
${t}    <xsd:element name="${r.name}" type="xsd:${l}" ${i}/>`}}}),n+=`
${t}  </xsd:sequence>
${t}</xsd:complexType>`),n},dle=(e,t="DataService",n="ProcessData")=>{if(e.length===0)return"";let r=`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:tns="http://example.com/service"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
             targetNamespace="http://example.com/service"
             elementFormDefault="qualified">
  
  <!-- Types Section: XSD definitions for data types -->
  <types>
    <xsd:schema targetNamespace="http://example.com/service"
                xmlns:tns="http://example.com/service">
      
      <!-- Request Message Type -->
      <xsd:element name="${n}Request">
        <xsd:complexType>
          <xsd:sequence>`;return e.forEach(a=>{if(a.name){const o=a.minOccurs||(a.required?1:0),i=a.maxOccurs==="unbounded"?"unbounded":a.maxOccurs||1,l=`minOccurs="${o}" maxOccurs="${i}"`;if(a.isComplexType||a.children&&a.children.length>0)r+=`
            <xsd:element name="${a.name}" type="tns:${a.name}Type" ${l}/>`;else{const c=a.type==="array"?"string":a.type==="integer"?"int":a.type;r+=`
            <xsd:element name="${a.name}" type="xsd:${c}" ${l}/>`}}}),r+=`
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Response Message Type -->
      <xsd:element name="${n}Response">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="result" type="xsd:string"/>
            <xsd:element name="status" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
      
      <!-- Fault Message Type -->
      <xsd:element name="${n}Fault">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="faultCode" type="xsd:string"/>
            <xsd:element name="faultString" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>`,e.forEach(a=>{(a.isComplexType||a.children&&a.children.length>0)&&(r+=`
      
      ${cle(a)}`)}),r+=`
    </xsd:schema>
  </types>
  
  <!-- Messages Section: Define input and output messages -->
  <message name="${n}RequestMessage">
    <part name="parameters" element="tns:${n}Request"/>
  </message>
  
  <message name="${n}ResponseMessage">
    <part name="parameters" element="tns:${n}Response"/>
  </message>
  
  <message name="${n}FaultMessage">
    <part name="fault" element="tns:${n}Fault"/>
  </message>
  
  <!-- Port Type/Interface: Group related operations -->
  <portType name="${t}PortType">
    <operation name="${n}">
      <documentation>Process data operation</documentation>
      <input message="tns:${n}RequestMessage"/>
      <output message="tns:${n}ResponseMessage"/>
      <fault name="${n}Fault" message="tns:${n}FaultMessage"/>
    </operation>
  </portType>
  
  <!-- Binding: Describe concrete protocol and data format (SOAP) -->
  <binding name="${t}SOAPBinding" type="tns:${t}PortType">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <operation name="${n}">
      <soap:operation soapAction="http://example.com/service/${n}"/>
      <input>
        <soap:body use="literal"/>
      </input>
      <output>
        <soap:body use="literal"/>
      </output>
      <fault name="${n}Fault">
        <soap:fault name="${n}Fault" use="literal"/>
      </fault>
    </operation>
  </binding>
  
  <!-- Service: Network address (endpoint) - to be added by Java application -->
  <!-- 
  <service name="${t}">
    <port name="${t}SOAPPort" binding="tns:${t}SOAPBinding">
      <soap:address location="[ENDPOINT_URL_TO_BE_SET_BY_JAVA_APP]"/>
    </port>
  </service>
  -->
  
</definitions>`,r},ule=(e,t)=>{if(e.length===0)return"";switch(t){case"json":return ile(e);case"xml":case"xsd":return lle(e);case"wsdl":return dle(e);default:return JSON.stringify(e,null,2)}},hle=({fields:e,schemaType:t})=>e.length===0?null:s.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs(C,{className:"text-sm font-semibold mb-2 block",children:["Live ",t.toUpperCase()," Preview:"]}),s.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-auto max-h-64",children:ule(e,t)})]}),mle=({customFields:e,setCustomFields:t,selectedStructureType:n,setSelectedStructureType:r,onResetAllFields:a})=>{const[o,i]=h.useState(""),{toast:l}=He(),{addCustomField:c,updateFieldAtPath:d,removeFieldAtPath:u,addChildAtPath:m}=ole(e,t),p=()=>{a(),l({title:"All Fields Cleared",description:"All form fields have been reset"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"customStructureType",children:"Structure Type"}),s.jsxs(G,{value:o,onValueChange:i,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select structure type to build"})}),s.jsxs(X,{children:[s.jsx(M,{value:"json",children:"JSON Schema"}),s.jsx(M,{value:"xsd",children:"XSD Schema"}),s.jsx(M,{value:"xml",children:"XML Schema"}),s.jsx(M,{value:"wsdl",children:"WSDL Schema"})]})]})]}),o?e.length===0?s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(ds,{className:"h-12 w-12 mx-auto text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Build ",o.toUpperCase()," Structure"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Add fields to create your ",o.toUpperCase()," data structure"]}),s.jsxs(q,{onClick:()=>c(),className:"w-full max-w-xs bg-gradient-primary hover:opacity-90",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(C,{children:["Structure Definition (",o.toUpperCase(),")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:()=>c(),size:"sm",variant:"outline",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Field"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:p,className:"text-destructive hover:text-destructive",children:[s.jsx(Nt,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),e.map((x,g)=>s.jsx(M_,{field:x,index:g,onUpdate:d,onRemove:u,onAddChild:m,depth:0,path:[g]},g)),s.jsx(hle,{fields:e,schemaType:o})]}):s.jsxs("div",{className:"text-center py-8 space-y-4",children:[s.jsx(ds,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Custom Structure Builder"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a structure type above to start building your custom data structure"})]})]})]})},ple=({customFields:e,setCustomFields:t,jsonInput:n,setJsonInput:r,xsdInput:a,setXsdInput:o,edmxInput:i,setEdmxInput:l,wsdlInput:c,setWsdlInput:d,selectedStructureType:u,setSelectedStructureType:m,namespaceConfig:p,setNamespaceConfig:x,onSave:g,onWsdlAnalyzed:f,onResetAllFields:w,onFileUploaded:j})=>{const v=_s(),y=()=>{v("/data-structures")};return s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsxs(te,{children:[s.jsx(re,{children:"Define Structure"}),s.jsx(pe,{children:"Choose your preferred method to define the data structure"})]}),s.jsxs(K,{children:[s.jsxs(tt,{value:u,className:"w-full",onValueChange:N=>m(N),children:[s.jsxs(Je,{className:"grid w-full grid-cols-5",children:[s.jsx(ue,{value:"json",children:"JSON Schema"}),s.jsx(ue,{value:"xsd",children:"XSD/XML"}),s.jsx(ue,{value:"wsdl",children:"WSDL"}),s.jsx(ue,{value:"edmx",children:"EDMX"}),s.jsx(ue,{value:"custom",children:"Custom Builder"})]}),s.jsx(de,{value:"json",children:s.jsx(Jie,{jsonInput:n,setJsonInput:r,onResetAllFields:w,onFileUploaded:j})}),s.jsx(de,{value:"xsd",children:s.jsx(Qie,{xsdInput:a,setXsdInput:o,namespaceConfig:p,setNamespaceConfig:x,onResetAllFields:w,onFileUploaded:j})}),s.jsx(de,{value:"wsdl",children:s.jsx(Zie,{wsdlInput:c,setWsdlInput:d,namespaceConfig:p,setNamespaceConfig:x,onWsdlAnalyzed:f,onResetAllFields:w,onFileUploaded:j})}),s.jsx(de,{value:"edmx",children:s.jsx(ele,{edmxInput:i,setEdmxInput:l,namespaceConfig:p,setNamespaceConfig:x,onResetAllFields:w,onFileUploaded:j})}),s.jsx(de,{value:"custom",children:s.jsx(mle,{customFields:e,setCustomFields:t,selectedStructureType:u,setSelectedStructureType:m,onResetAllFields:w})})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t flex gap-4",children:[s.jsxs(q,{onClick:y,variant:"outline",className:"flex-1",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(q,{onClick:g,className:"flex-1 bg-gradient-primary hover:opacity-90",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Data Structure"]})]})]})]})},D_=(e,t=0)=>e?s.jsx("div",{className:`ml-${t*4} space-y-1`,children:typeof e=="object"&&!Array.isArray(e)?Object.entries(e).map(([n,r])=>s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-primary",children:n}),s.jsx("span",{className:"text-muted-foreground",children:": "}),typeof r=="string"?s.jsx(ae,{variant:"outline",className:"text-xs",children:r}):s.jsx("div",{className:"mt-1",children:D_(r,t+1)})]},n)):s.jsx(ae,{variant:"outline",className:"text-xs",children:String(e)})}):null,fle=({selectedStructure:e})=>s.jsxs(W,{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5"}),"Structure Preview"]})}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.namespace&&s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Namespace:"})," ",e.namespace.uri,e.namespace.prefix&&s.jsxs("span",{className:"ml-2",children:["(",e.namespace.prefix,")"]})]})]}),s.jsx(mt,{}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx(C,{className:"text-xs font-medium",children:"Structure Definition"}),s.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto",children:D_(e.structure)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(q,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})]}),hT=()=>{try{const{id:e}=HN(),t=_s(),n=ln(),{saveStructure:r,updateStructure:a,loading:o}=Nc();console.log("CreateDataStructure component rendering, loading:",o);const{toast:i}=He(),[l,c]=h.useState(!1),[d,u]=h.useState(null),[m,p]=h.useState("source"),[x,g]=h.useState(""),[f,w]=h.useState(""),[j,v]=h.useState(null),[y,N]=h.useState([]),[b,E]=h.useState(""),[S,A]=h.useState(""),[O,I]=h.useState(""),[F,L]=h.useState(""),[U,k]=h.useState("json"),[P,T]=h.useState({uri:"",prefix:"",targetNamespace:"",schemaLocation:""});h.useEffect(()=>{(async()=>{if(e)try{console.log("[CreateDataStructure] Loading structure for edit:",e);const z=await Oo.getStructure(e);if(z.success&&z.data){const Q=z.data;c(!0),u(Q.id),g(Q.name||""),w(Q.description||""),p(Q.usage||"source"),k(Q.type||"json"),Q.type==="json"?E(JSON.stringify(Q.structure,null,2)):Q.type==="wsdl"?Q.originalContent&&Q.originalFormat==="xml"?L(Q.originalContent):L(JSON.stringify(Q.structure,null,2)):Q.type==="xsd"?Q.originalContent&&Q.originalFormat==="xml"?A(Q.originalContent):A(JSON.stringify(Q.structure,null,2)):Q.type,Q.namespace&&T(Q.namespace),Q.businessComponent&&v({id:Q.businessComponent.id,name:Q.businessComponent.name,description:Q.businessComponent.description||""})}}catch(z){console.error("Error loading structure:",z),i({title:"Error",description:"Failed to load data structure",variant:"destructive"}),t("/data-structures")}else if(n.state?.structure&&n.state?.isEdit){const z=n.state.structure;console.log("[CreateDataStructure] Loading structure from navigation state:",z),c(!0),u(z.id),g(z.name||""),w(z.description||""),p(z.usage||"source"),k(z.type||"json"),z.type==="json"?E(JSON.stringify(z.structure,null,2)):z.type==="wsdl"?L(JSON.stringify(z.structure,null,2)):z.type==="xsd"&&A(JSON.stringify(z.structure,null,2)),z.namespace&&T(z.namespace),z.businessComponent&&v({id:z.businessComponent.id,name:z.businessComponent.name,description:z.businessComponent.description||""})}})()},[e,n.state,t,i]);const R=h.useMemo(()=>{if(!x)return null;let H={};if(U==="json"&&b)H=oj(b);else if(U==="wsdl"&&F){const z=Dp(F);H=z?.structure||z}else U==="xsd"&&S?H={message:"XSD parsing not fully implemented yet"}:U==="edmx"&&O?H={message:"EDMX parsing not fully implemented yet"}:U==="custom"&&y.length>0&&(H=Fp(y));return!H||Object.keys(H).length===0?null:{id:"preview",name:x,type:U,description:f,structure:H,createdAt:new Date().toISOString().split("T")[0],usage:m,namespace:(U==="xsd"||U==="wsdl"||U==="edmx")&&P.uri?P:void 0}},[x,f,U,b,S,O,F,y,P]),D=H=>{if(!H)return H;let z=H;return(z.endsWith("_Out")||z.endsWith("_In"))&&(z=z.substring(0,z.length-4)),z+(m==="source"?"_Out":"_In")},$=(H,z)=>{H&&!x&&g(D(H)),z&&T(z)},V=async()=>{if(!j){i({title:"Validation Error",description:"Please select a business component",variant:"destructive"});return}let H=!1;l&&d?H=await a(d,x,f,m,b,S,O,F,y,U,P,j?.id):H=await r(x,f,m,b,S,O,F,y,U,P,j?.id),H&&(l?t("/data-structures"):(g(""),w(""),v(null),E(""),A(""),I(""),L(""),N([]),T({uri:"",prefix:"",targetNamespace:"",schemaLocation:""})))},B=()=>{g(""),w(""),v(null),E(""),A(""),I(""),L(""),N([]),T({uri:"",prefix:"",targetNamespace:"",schemaLocation:""}),k("json")};return o?s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ko,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:"Loading data structures..."})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-32 bg-muted rounded-lg"})})})})]}):s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"animate-slide-up",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ko,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground",children:"Define and manage data structures for source and target messages"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Gie,{selectedBusinessComponent:j,setSelectedBusinessComponent:v}),s.jsx(Xie,{structureName:x,setStructureName:g,structureDescription:f,setStructureDescription:w,structureUsage:m,setStructureUsage:H=>{p(H),x&&g(D(x))},isEditMode:l}),s.jsx(ple,{customFields:y,setCustomFields:N,jsonInput:b,setJsonInput:E,xsdInput:S,setXsdInput:A,edmxInput:O,setEdmxInput:I,wsdlInput:F,setWsdlInput:L,selectedStructureType:U,setSelectedStructureType:k,namespaceConfig:P,setNamespaceConfig:T,onSave:V,onWsdlAnalyzed:$,onResetAllFields:B,onFileUploaded:H=>{if(!x&&H){const z=H.replace(/\.[^/.]+$/,"");g(D(z))}}}),R&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(fle,{selectedStructure:R})})]})]})}catch(e){return console.error("Error rendering DataStructures component:",e),s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center justify-center gap-3",children:[s.jsx(Ko,{className:"h-8 w-8"}),"Data Structures"]}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"There was an error loading the data structures page. Please check the browser console for details."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Page"})]})})}};function Co({icon:e,title:t,description:n,action:r,className:a}){return s.jsxs("div",{className:ne("flex flex-col items-center justify-center p-8 text-center",a),children:[e&&s.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:s.jsx(e,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-1",children:t}),n&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:n}),r&&s.jsxs(q,{onClick:r.onClick,size:"sm",className:"mt-2",children:[r.icon&&s.jsx(r.icon,{className:"h-4 w-4 mr-2"}),r.label]})]})}const xle=({action:e,children:t,fallback:n,showMessage:r=!0})=>{const{permissions:a,environmentInfo:o}=yc();return kt.useMemo(()=>{switch(e){case"flow.create":return a?.canCreateFlows??!1;case"adapter.create":return a?.canCreateAdapters??!1;case"adapter.updateConfig":return a?.canModifyAdapterConfig??!0;case"flow.import":return a?.canImportFlows??!0;case"flow.deploy":return a?.canDeployFlows??!0;case"businessComponent.create":return a?.canCreateBusinessComponents??!1;case"dataStructure.create":return a?.canCreateDataStructures??!1;case"admin.access":return a?.isAdmin??!1;default:return!0}},[a,e])?s.jsx(s.Fragment,{children:t}):n?s.jsx(s.Fragment,{children:n}):r?s.jsxs(Xe,{variant:"destructive",children:[s.jsx(oo,{className:"h-4 w-4"}),s.jsxs(Ge,{children:["This action is not available in ",o?.displayName||"this"," environment.",o?.type!=="DEVELOPMENT"&&s.jsx("span",{className:"block mt-1 text-sm",children:"Only available in development environment."})]})]}):null},gle=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState({name:"",description:"",contactEmail:"",contactPhone:""}),{toast:p}=He(),{permissions:x}=yc();h.useEffect(()=>{g()},[]);const g=async()=>{const N=await na.getAllBusinessComponents();N.success&&N.data?t(N.data):p({title:"Error",description:N.error||"Failed to load businessComponents",variant:"destructive"}),r(!1)},f=async()=>{if(!u.name.trim()){p({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await na.createBusinessComponent(u);N.success&&N.data?(t(b=>[...b,N.data]),o(!1),m({name:"",description:"",contactEmail:"",contactPhone:""}),p({title:"Success",description:"BusinessComponent created successfully"})):p({title:"Error",description:N.error||"Failed to create businessComponent",variant:"destructive"})},w=async()=>{if(!c||!u.name.trim()){p({title:"Validation Error",description:"BusinessComponent name is required",variant:"destructive"});return}const N=await na.updateBusinessComponent({id:c.id,...u});N.success&&N.data?(t(b=>b.map(E=>E.id===c.id?N.data:E)),l(!1),d(null),m({name:"",description:"",contactEmail:"",contactPhone:""}),p({title:"Success",description:"BusinessComponent updated successfully"})):p({title:"Error",description:N.error||"Failed to update businessComponent",variant:"destructive"})},j=async N=>{const b=await na.deleteBusinessComponent(N.id);b.success?(t(E=>E.filter(S=>S.id!==N.id)),p({title:"Success",description:"BusinessComponent deleted successfully"})):p({title:"Error",description:b.error||"Failed to delete businessComponent",variant:"destructive"})},v=N=>{d(N),m({name:N.name,description:N.description||"",contactEmail:N.contactEmail||"",contactPhone:N.contactPhone||""}),l(!0)},y=()=>{m({name:"",description:"",contactEmail:"",contactPhone:""}),d(null)};return n?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx("div",{className:"h-48 bg-muted rounded"},N))})]})}):s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(xp,{className:"h-8 w-8"}),"BusinessComponent Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your businessComponents and organizations"})]}),s.jsx(xle,{action:"businessComponent.create",showMessage:!1,children:s.jsxs(dt,{open:a,onOpenChange:o,children:[s.jsx(eh,{asChild:!0,children:s.jsxs(q,{onClick:()=>y(),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add BusinessComponent"]})}),s.jsxs(ot,{children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Create New BusinessComponent"}),s.jsx(Fs,{children:"Add a new businessComponent to your system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(C,{htmlFor:"name",children:"BusinessComponent Name *"}),s.jsx(_,{id:"name",value:u.name,onChange:N=>m({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",value:u.description,onChange:N=>m({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"email",children:"Contact Email"}),s.jsx(_,{id:"email",type:"email",value:u.contactEmail,onChange:N=>m({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"phone",children:"Contact Phone"}),s.jsx(_,{id:"phone",value:u.contactPhone,onChange:N=>m({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(q,{onClick:f,children:"Create BusinessComponent"})]})]})]})]})})]}),e.length===0?s.jsx(Co,{icon:s.jsx(xp,{className:"h-12 w-12"}),title:"No businessComponents yet",description:"Get started by adding your first businessComponent to organize your integrations by client.",action:x?.canCreateBusinessComponents?{label:"Add BusinessComponent",onClick:()=>o(!0)}:void 0}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&Array.isArray(e)&&e.map(N=>s.jsxs(W,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(re,{className:"text-lg",children:N.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>v(N),children:s.jsx(dr,{className:"h-4 w-4"})}),s.jsxs(ix,{children:[s.jsx(EY,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(Rn,{className:"h-4 w-4"})})}),s.jsxs(Ku,{children:[s.jsxs(Yu,{children:[s.jsx(Gu,{children:"Delete BusinessComponent"}),s.jsxs(Ju,{children:['Are you sure you want to delete "',N.name,'"? This action cannot be undone.']})]}),s.jsxs(Xu,{children:[s.jsx(lx,{children:"Cancel"}),s.jsx(Qu,{onClick:()=>j(N),children:"Delete"})]})]})]})]})]}),N.description&&s.jsx(pe,{children:N.description})]}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2",children:[N.contactEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Au,{className:"h-4 w-4"}),N.contactEmail]}),N.contactPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(A8,{className:"h-4 w-4"}),N.contactPhone]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2",children:["Created: ",new Date(N.createdAt).toLocaleDateString()]})]})})]},N.id))}),s.jsx(dt,{open:i,onOpenChange:l,children:s.jsxs(ot,{children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Edit BusinessComponent"}),s.jsx(Fs,{children:"Update businessComponent information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(C,{htmlFor:"edit-name",children:"BusinessComponent Name *"}),s.jsx(_,{id:"edit-name",value:u.name,onChange:N=>m({...u,name:N.target.value}),placeholder:"Enter businessComponent name"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"edit-description",children:"Description"}),s.jsx(Ee,{id:"edit-description",value:u.description,onChange:N=>m({...u,description:N.target.value}),placeholder:"Enter businessComponent description",rows:3})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"edit-email",children:"Contact Email"}),s.jsx(_,{id:"edit-email",type:"email",value:u.contactEmail,onChange:N=>m({...u,contactEmail:N.target.value}),placeholder:"contact@example.com"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"edit-phone",children:"Contact Phone"}),s.jsx(_,{id:"edit-phone",value:u.contactPhone,onChange:N=>m({...u,contactPhone:N.target.value}),placeholder:"+1-555-0123"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(q,{onClick:w,children:"Update BusinessComponent"})]})]})]})})]})};class vle{websocket=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=3e3;messageListeners=[];statsListeners=[];async getMessages(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?n.append(a,o.join(",")):n.append(a,o.toString()))});const r=`/messages${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async getMessage(t){return ee.get(`/messages/${t}`)}async getMessageStats(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&(Array.isArray(o)?n.append(a,o.join(",")):n.append(a,o.toString()))});const r=`/messages/stats${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async reprocessMessage(t){return ee.post(`/messages/${t}/reprocess`)}async getBusinessComponentMessages(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&(Array.isArray(i)?r.append(o,i.join(",")):r.append(o,i.toString()))});const a=`/business-components/${t}/messages${r.toString()?`?${r.toString()}`:""}`;return ee.get(a)}connectWebSocket(t){if(this.websocket?.readyState===WebSocket.OPEN)return;const n=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,a=window.location.port||"8080",o=`${n}//${r}:${a}`,i=new URLSearchParams;t&&i.append("businessComponentId",t);const l=i.toString(),c=`${o}/ws/messages${l?`?${l}`:""}`;try{this.websocket=new WebSocket(c),this.websocket.onopen=()=>{console.log("WebSocket connected for message monitoring"),this.reconnectAttempts=0},this.websocket.onmessage=d=>{try{const u=JSON.parse(d.data);u.type==="message_update"?this.messageListeners.forEach(m=>m(u.message)):u.type==="stats_update"&&this.statsListeners.forEach(m=>m(u.stats))}catch(u){console.error("Error parsing WebSocket message:",u)}},this.websocket.onclose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect(t)},this.websocket.onerror=d=>{console.error("WebSocket error:",d)}}catch(d){console.error("Failed to create WebSocket connection:",d)}}attemptReconnect(t){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect WebSocket (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connectWebSocket(t)},this.reconnectInterval*this.reconnectAttempts)):console.error("Max reconnection attempts reached")}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=null),this.messageListeners=[],this.statsListeners=[],this.reconnectAttempts=0}onMessageUpdate(t){return this.messageListeners.push(t),()=>{const n=this.messageListeners.indexOf(t);n>-1&&this.messageListeners.splice(n,1)}}onStatsUpdate(t){return this.statsListeners.push(t),()=>{const n=this.statsListeners.indexOf(t);n>-1&&this.statsListeners.splice(n,1)}}sendCommand(t,n){this.websocket?.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({command:t,data:n}))}}const Gr=new vle,yle=e=>{const[t,n]=h.useState([]),[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState(!1),{toast:d}=He(),u=h.useCallback(async w=>{i(!0);try{const j=e?await Gr.getBusinessComponentMessages(e,w):await Gr.getMessages(w);j.success&&j.data?(console.log("[useMessageMonitoring] Messages data:",j.data.messages),j.data.messages&&j.data.messages.length>0&&(console.log("[useMessageMonitoring] First message:",j.data.messages[0]),console.log("[useMessageMonitoring] First message timestamp:",j.data.messages[0].timestamp),console.log("[useMessageMonitoring] Timestamp type:",typeof j.data.messages[0].timestamp)),n(j.data.messages||[])):n([])}catch{d({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},[e,d]),m=h.useCallback(async w=>{try{const j=e?{...w,source:e}:w,v=await Gr.getMessageStats(j);v.success&&v.data&&a(v.data)}catch(j){console.error("Failed to load message stats:",j)}},[e]);h.useEffect(()=>{Gr.connectWebSocket(e),c(!0);const w=Gr.onMessageUpdate(j=>{n(v=>{const y=v.findIndex(N=>N.id===j.id);if(y>=0){const N=[...v];return N[y]=j,N}else return[j,...v]}),j.status==="failed"&&d({title:"Message Failed",description:`Message ${j.id} failed processing`,variant:"destructive"})});return()=>{w(),Gr.disconnectWebSocket(),c(!1)}},[e,u,m,d]);const p=h.useCallback(async w=>{try{const j=await Gr.reprocessMessage(w);if(j.success)d({title:"Success",description:"Message queued for reprocessing"});else throw new Error(j.error||"Failed to reprocess message")}catch{d({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},[d]),x=h.useCallback(w=>{u(w),m(w)},[u,m]),g=h.useCallback(w=>{Gr.sendCommand("subscribe",{messageType:w})},[]),f=h.useCallback(w=>{Gr.sendCommand("unsubscribe",{messageType:w})},[]);return{messages:t,stats:r,loading:o,connected:l,loadMessages:u,loadStats:m,reprocessMessage:p,refreshData:x,subscribeToMessageType:g,unsubscribeFromMessageType:f}},jle=({messages:e,stats:t,isBusinessComponentSelected:n,onStatusFilter:r,statusFilter:a,loading:o=!1})=>{const i=e||[],l=t?.successful??i.filter(f=>f.status==="success").length,c=t?.processing??i.filter(f=>f.status==="processing").length,d=t?.failed??i.filter(f=>f.status==="failed").length,u=t?.total??i.length,m=t?.successRate??(u>0?l/u*100:0),p=t?.avgProcessingTime??(()=>{const f=i.filter(w=>w.status!=="processing"&&w.processingTime!=="-");return f.length>0?Math.round(f.reduce((w,j)=>{const v=parseFloat(j.processingTime.replace(/[^\d.]/g,""));return w+(isNaN(v)?0:v)},0)/f.length):0})(),x=()=>n?`of ${u} business component messages`:"across all messages",g=f=>{r&&r(f)};return o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:Array.from({length:5}).map((f,w)=>s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(te,{className:"pb-2",children:s.jsx(Re,{className:"h-4 w-32"})}),s.jsxs(K,{children:[s.jsx(Re,{className:"h-8 w-16 mb-2"}),s.jsx(Re,{className:"h-3 w-24"})]})]},w))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs(W,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="success"?"ring-2 ring-success":""}`,onClick:()=>g("success"),children:[s.jsx(te,{className:"pb-2",children:s.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:"Successful Messages"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold text-success",children:String(l)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(W,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="processing"?"ring-2 ring-warning":""}`,onClick:()=>g("processing"),children:[s.jsx(te,{className:"pb-2",children:s.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:"Processing Messages"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold text-warning",children:String(c)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(W,{className:`bg-gradient-secondary border-border/50 cursor-pointer transition-all hover-scale animate-scale-in ${a==="failed"?"ring-2 ring-destructive":""}`,onClick:()=>g("failed"),children:[s.jsx(te,{className:"pb-2",children:s.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:"Failed Messages"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:String(d)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(W,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(te,{className:"pb-2",children:s.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"})}),s.jsxs(K,{children:[s.jsxs("div",{className:"text-2xl font-bold text-success",children:[m?m.toFixed(1):"0","%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]}),s.jsxs(W,{className:"bg-gradient-secondary border-border/50 animate-scale-in",children:[s.jsx(te,{className:"pb-2",children:s.jsx(re,{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing"})}),s.jsxs(K,{children:[s.jsxs("div",{className:"text-2xl font-bold text-info",children:[String(p),"ms"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x()})]})]})]})},wle=(e,t)=>{if(!e||!Array.isArray(e))return[];const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(t){case"today":return e.filter(l=>new Date(l.timestamp)>=r);case"yesterday":const a=new Date(r.getTime()-24*60*60*1e3);return e.filter(l=>{const c=new Date(l.timestamp);return c>=a&&c<r});case"last-7-days":const o=new Date(n.getTime()-7*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=o);case"last-30-days":const i=new Date(n.getTime()-30*24*60*60*1e3);return e.filter(l=>new Date(l.timestamp)>=i);case"all":default:return e}},Nle=(e,t)=>e==="today"?`${t} messages today`:e==="yesterday"?`${t} messages yesterday`:e==="last-7-days"?`${t} messages in last 7 days`:e==="last-30-days"?`${t} messages in last 30 days`:`${t} messages total`,ble=({value:e,onValueChange:t})=>s.jsxs(G,{value:e,onValueChange:t,children:[s.jsx(Y,{className:"w-48",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"today",children:"Today"}),s.jsx(M,{value:"today-00",children:"Today 00:00 - 00:59"}),s.jsx(M,{value:"today-01",children:"Today 01:00 - 01:59"}),s.jsx(M,{value:"today-02",children:"Today 02:00 - 02:59"}),s.jsx(M,{value:"today-03",children:"Today 03:00 - 03:59"}),s.jsx(M,{value:"today-04",children:"Today 04:00 - 04:59"}),s.jsx(M,{value:"today-05",children:"Today 05:00 - 05:59"}),s.jsx(M,{value:"today-06",children:"Today 06:00 - 06:59"}),s.jsx(M,{value:"today-07",children:"Today 07:00 - 07:59"}),s.jsx(M,{value:"today-08",children:"Today 08:00 - 08:59"}),s.jsx(M,{value:"today-09",children:"Today 09:00 - 09:59"}),s.jsx(M,{value:"today-10",children:"Today 10:00 - 10:59"}),s.jsx(M,{value:"today-11",children:"Today 11:00 - 11:59"}),s.jsx(M,{value:"today-12",children:"Today 12:00 - 12:59"}),s.jsx(M,{value:"today-13",children:"Today 13:00 - 13:59"}),s.jsx(M,{value:"today-14",children:"Today 14:00 - 14:59"}),s.jsx(M,{value:"today-15",children:"Today 15:00 - 15:59"}),s.jsx(M,{value:"today-16",children:"Today 16:00 - 16:59"}),s.jsx(M,{value:"today-17",children:"Today 17:00 - 17:59"}),s.jsx(M,{value:"today-18",children:"Today 18:00 - 18:59"}),s.jsx(M,{value:"today-19",children:"Today 19:00 - 19:59"}),s.jsx(M,{value:"today-20",children:"Today 20:00 - 20:59"}),s.jsx(M,{value:"today-21",children:"Today 21:00 - 21:59"}),s.jsx(M,{value:"today-22",children:"Today 22:00 - 22:59"}),s.jsx(M,{value:"today-23",children:"Today 23:00 - 23:59"}),s.jsx(M,{value:"yesterday",children:"Yesterday"}),s.jsx(M,{value:"last-7-days",children:"Past 7 Days"}),s.jsx(M,{value:"last-30-days",children:"Past 30 Days"}),s.jsx(M,{value:"all",children:"All Messages"})]})]});var cb="Collapsible",[Sle,Zve]=on(cb),[Cle,db]=Sle(cb),F_=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...l}=e,[c=!1,d]=zn({prop:r,defaultProp:a,onChange:i});return s.jsx(Cle,{scope:n,disabled:o,contentId:Un(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Pe.div,{"data-state":hb(c),"data-disabled":o?"":void 0,...l,ref:t})})});F_.displayName=cb;var O_="CollapsibleTrigger",I_=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=db(O_,n);return s.jsx(Pe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":hb(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:ge(e.onClick,a.onOpenToggle)})});I_.displayName=O_;var ub="CollapsibleContent",L_=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=db(ub,e.__scopeCollapsible);return s.jsx(us,{present:n||a.open,children:({present:o})=>s.jsx(Ele,{...r,ref:t,present:o})})});L_.displayName=ub;var Ele=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,i=db(ub,n),[l,c]=h.useState(r),d=h.useRef(null),u=Ue(t,d),m=h.useRef(0),p=m.current,x=h.useRef(0),g=x.current,f=i.open||l,w=h.useRef(f),j=h.useRef();return h.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),cs(()=>{const v=d.current;if(v){j.current=j.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const y=v.getBoundingClientRect();m.current=y.height,x.current=y.width,w.current||(v.style.transitionDuration=j.current.transitionDuration,v.style.animationName=j.current.animationName),c(r)}},[i.open,r]),s.jsx(Pe.div,{"data-state":hb(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!f,...o,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:f&&a})});function hb(e){return e?"open":"closed"}var Tle=F_;const sd=Tle,Vj=I_,Bj=L_,Ple=e=>{switch(e){case"success":return s.jsx(bs,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(jn,{className:"h-4 w-4 text-destructive"});case"processing":return s.jsx(rn,{className:"h-4 w-4 text-warning animate-spin"});default:return s.jsx(ls,{className:"h-4 w-4 text-muted-foreground"})}},Ale=e=>{switch(String(e||"INFO").toUpperCase()){case"SUCCESS":return s.jsx(bs,{className:"h-3 w-3 text-success"});case"ERROR":return s.jsx(jn,{className:"h-3 w-3 text-destructive"});case"WARN":return s.jsx(Sn,{className:"h-3 w-3 text-warning"});default:return s.jsx(ls,{className:"h-3 w-3 text-info"})}},kle=({message:e})=>{const[t,n]=h.useState(!1),[r,a]=h.useState(!1),{toast:o}=He();console.log("[MessageCard] Rendering message:",{id:e.id,timestamp:e.timestamp,timestampType:typeof e.timestamp,logs:e.logs,logsType:typeof e.logs,logsIsArray:Array.isArray(e.logs),firstLog:e.logs&&e.logs[0]?{log:e.logs[0],timestampType:typeof e.logs[0].timestamp,levelType:typeof e.logs[0].level,messageType:typeof e.logs[0].message}:null});const i=async l=>{l.stopPropagation(),a(!0);try{const c=await Oe.post(`/messages/${e.id}/reprocess`);o(c?{title:"Success",description:"Message reprocessing initiated"}:{title:"Error",description:c.error||"Failed to reprocess message",variant:"destructive"})}catch{o({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}finally{a(!1)}};return s.jsx(W,{className:"bg-gradient-secondary border-border/50 hover-scale",children:s.jsxs(sd,{open:t,onOpenChange:n,children:[s.jsx(Vj,{asChild:!0,children:s.jsx(q,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:s.jsx(te,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Ple(e.status),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.id}),s.jsx(ae,{variant:"outline",className:"text-xs",children:e.type})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.source,"  ",e.target]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-right",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:(()=>{if(typeof e.timestamp=="string")return e.timestamp;if(e.timestamp&&typeof e.timestamp=="object")try{if(Array.isArray(e.timestamp)){const[l,c,d,u,m,p]=e.timestamp;return`${l}-${String(c).padStart(2,"0")}-${String(d).padStart(2,"0")} ${String(u).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(p).padStart(2,"0")}`}return JSON.stringify(e.timestamp)}catch(l){return console.error("Error formatting timestamp:",e.timestamp,l),"Invalid timestamp"}return"Unknown time"})()}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.processingTime,"  ",e.size]})]}),t?s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(nn,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}),s.jsx(Bj,{children:s.jsx(K,{className:"pt-0",children:s.jsxs("div",{className:"border-t border-border/50 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"Processing Steps (",e.logs?e.logs.length:0,")"]}),e.status==="failed"&&s.jsxs(q,{size:"sm",variant:"outline",onClick:i,disabled:r,children:[s.jsx(vt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Reprocessing...":"Retry Message"]})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.logs&&e.logs.length>0?e.logs.map((l,c)=>(console.log("[MessageCard] Rendering log:",c,l),s.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[Ale(l.level),s.jsx("span",{className:"text-muted-foreground min-w-[120px] font-mono",children:(()=>{try{return l.timestamp?typeof l.timestamp=="string"?l.timestamp.includes(" ")?l.timestamp.split(" ")[1]:l.timestamp.includes("T")?new Date(l.timestamp).toLocaleTimeString():l.timestamp:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():l.timestamp&&typeof l.timestamp=="object"?JSON.stringify(l.timestamp):"Invalid timestamp":"No timestamp"}catch(d){return console.error("Error formatting log timestamp:",l.timestamp,d),"Invalid timestamp"}})()}),s.jsx("span",{className:"text-foreground",children:String(l.message||"")})]},c))):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No processing steps available"})})]})})})]})})},Rle=({messages:e,isBusinessComponentSelected:t,statusFilter:n,loading:r=!1,onTimeFilterChange:a})=>{const[o,i]=h.useState("today"),l=d=>{i(d),a?.(d)};console.log("[MessageList] Received messages:",e),console.log("[MessageList] Messages type:",typeof e),console.log("[MessageList] Is array:",Array.isArray(e)),e&&e.length>0&&(console.log("[MessageList] First message:",e[0]),console.log("[MessageList] First message keys:",Object.keys(e[0])),console.log("[MessageList] First message logs:",e[0].logs),e[0].logs&&e[0].logs.length>0&&(console.log("[MessageList] First log entry:",e[0].logs[0]),console.log("[MessageList] First log type:",typeof e[0].logs[0]),console.log("[MessageList] First log keys:",Object.keys(e[0].logs[0])),console.log("[MessageList] Log timestamp:",e[0].logs[0].timestamp),console.log("[MessageList] Log timestamp type:",typeof e[0].logs[0].timestamp),console.log("[MessageList] Log level:",e[0].logs[0].level),console.log("[MessageList] Log message:",e[0].logs[0].message)));let c=wle(e||[],o);return n&&(c=c.filter(d=>d.status===n)),c.sort((d,u)=>new Date(u.timestamp).getTime()-new Date(d.timestamp).getTime()),console.log("[MessageList] Filtered messages:",c),console.log("[MessageList] Filtered messages length:",c.length),s.jsxs("div",{className:"space-y-4",children:[s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsxs(te,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Vs,{className:"h-5 w-5"}),"Message History"]}),s.jsx(ble,{value:o,onValueChange:l}),console.log("[MessageList] TimeFilter value:",o,"Type:",typeof o)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const d=Nle(o,c.length);return console.log("[MessageList] Filter description:",d,"Type:",typeof d),d})()})]})}),s.jsxs("div",{className:"space-y-3",children:[console.log("[MessageList] About to render messages, loading:",r,"filteredMessages.length:",c.length),r?Array.from({length:5}).map((d,u)=>s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"h-6 w-6 rounded-full"}),s.jsxs("div",{children:[s.jsx(Re,{className:"h-4 w-32 mb-2"}),s.jsx(Re,{className:"h-3 w-48"})]})]}),s.jsxs("div",{children:[s.jsx(Re,{className:"h-3 w-24 mb-1"}),s.jsx(Re,{className:"h-3 w-16"})]})]})})},u)):c.length===0?s.jsx(Co,{icon:ds,title:"No Messages Found",description:n?`No ${String(n)} messages found for the selected time period.`:"No messages found for the selected time period."}):c.map(d=>(console.log("[MessageList] Rendering message:",d.id,"Type:",typeof d),s.jsx(kle,{message:d},d.id)))]})]})},Mle=({selectedBusinessComponent:e,businessComponents:t,loading:n,onBusinessComponentChange:r})=>s.jsxs(W,{className:"animate-scale-in",children:[s.jsxs(te,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Business Component Filter"]}),s.jsx(pe,{children:"Filter channels by business component"})]}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"businessComponent",children:"Business Component"}),s.jsxs(G,{value:e?.id||"",onValueChange:a=>{const o=t.find(i=>i.id===a)||null;r(o)},disabled:n,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a business component to filter channels"})}),s.jsx(X,{children:t.map(a=>s.jsx(M,{value:a.id,children:a.name},a.id))})]})]})})]}),Dle=()=>{ux("Messages"),hx("Track and monitor all integration messages, view processing status, and analyze message flow through your Integrix Flow Bridge system.");const[e,t]=h.useState(null),[n,r]=h.useState(null),[a,o]=h.useState("today"),{businessComponents:i,loading:l}=No(),{messages:c,stats:d,loading:u,connected:m,refreshData:p,loadStats:x}=yle(e?.id),g=c,f=()=>{const y={};n&&(y.status=[n]);const N=v(a);N.dateFrom&&(y.dateFrom=N.dateFrom,y.dateTo=N.dateTo),p(y)},w=y=>{r(n===y?null:y)},j=y=>{t(y),r(null)},v=y=>{const N=new Date,b=new Date(N.getFullYear(),N.getMonth(),N.getDate());switch(y){case"today":return{dateFrom:b.toISOString(),dateTo:N.toISOString()};case"yesterday":const E=new Date(b);return E.setDate(E.getDate()-1),{dateFrom:E.toISOString(),dateTo:b.toISOString()};case"last7days":const S=new Date(b);return S.setDate(S.getDate()-7),{dateFrom:S.toISOString(),dateTo:N.toISOString()};case"last30days":const A=new Date(b);return A.setDate(A.getDate()-30),{dateFrom:A.toISOString(),dateTo:N.toISOString()};case"all":default:return{}}};return h.useEffect(()=>{const y={};n&&(y.status=[n]);const N=v(a);N.dateFrom&&(y.dateFrom=N.dateFrom,y.dateTo=N.dateTo),p(y)},[n,a,p]),s.jsxs(cx,{children:[s.jsx(dx,{title:"Message Monitor",description:"Track and analyze integration message flows",icon:s.jsx(zs,{}),actions:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ae,{variant:m?"success":"destructive",className:"flex items-center gap-1",children:[m?s.jsx(_8,{className:"h-3 w-3"}):s.jsx(L8,{className:"h-3 w-3"}),m?"Live":"Disconnected"]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:f,disabled:u,children:[s.jsx(vt,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]})}),s.jsx(jle,{messages:g,stats:d,isBusinessComponentSelected:!!e,onStatusFilter:w,statusFilter:n,loading:u}),s.jsx(Mle,{selectedBusinessComponent:e,businessComponents:i,loading:l,onBusinessComponentChange:j}),s.jsx(Rle,{messages:g,isBusinessComponentSelected:!!e,statusFilter:n,loading:u,onTimeFilterChange:o})]})};function $e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function an(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function As(e,t){const n=$e(e);return isNaN(t)?an(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function fr(e,t){const n=$e(e);if(isNaN(t))return an(e,NaN);if(!t)return n;const r=n.getDate(),a=an(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const mb=6048e5,Fle=864e5,rm=43200,mT=1440;let Ole={};function Sc(){return Ole}function $r(e,t){const n=Sc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=$e(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function yi(e){return $r(e,{weekStartsOn:1})}function __(e){const t=$e(e),n=t.getFullYear(),r=an(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=yi(r),o=an(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=yi(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Ql(e){const t=$e(e);return t.setHours(0,0,0,0),t}function Zl(e){const t=$e(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function kr(e,t){const n=Ql(e),r=Ql(t),a=+n-Zl(n),o=+r-Zl(r);return Math.round((a-o)/Fle)}function Ile(e){const t=__(e),n=an(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),yi(n)}function Hj(e,t){const n=t*7;return As(e,n)}function Lle(e,t){return fr(e,t*12)}function _le(e){let t;return e.forEach(function(n){const r=$e(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function $le(e){let t;return e.forEach(n=>{const r=$e(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function _m(e,t){const n=$e(e),r=$e(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Ule(e){return an(e,Date.now())}function Ys(e,t){const n=Ql(e),r=Ql(t);return+n==+r}function pb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vle(e){if(!pb(e)&&typeof e!="number")return!1;const t=$e(e);return!isNaN(Number(t))}function ec(e,t){const n=$e(e),r=$e(t),a=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return a*12+o}function Ble(e,t,n){const r=$r(e,n),a=$r(t,n),o=+r-Zl(r),i=+a-Zl(a);return Math.round((o-i)/mb)}function Hle(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function qle(e,t){return+$e(e)-+$e(t)}function zle(e){const t=$e(e);return t.setHours(23,59,59,999),t}function Fx(e){const t=$e(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Wle(e){const t=$e(e);return+zle(t)==+Fx(t)}function Kle(e,t){const n=$e(e),r=$e(t),a=_m(n,r),o=Math.abs(ec(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*o);let l=_m(n,r)===-a;Wle($e(e))&&o===1&&_m(e,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function Yle(e,t,n){const r=qle(e,t)/1e3;return Hle(n?.roundingMethod)(r)}function tn(e){const t=$e(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $_(e){const t=$e(e),n=an(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fb(e,t){const n=Sc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=$e(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function U_(e){return fb(e,{weekStartsOn:1})}const Xle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gle=(e,t,n)=>{let r;const a=Xle[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ece={date:cv({formats:Jle,defaultWidth:"full"}),time:cv({formats:Qle,defaultWidth:"full"}),dateTime:cv({formats:Zle,defaultWidth:"full"})},tce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sce=(e,t,n,r)=>tce[e];function zc(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const nce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ace={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ice={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cce=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dce={ordinalNumber:cce,era:zc({values:nce,defaultWidth:"wide"}),quarter:zc({values:rce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zc({values:ace,defaultWidth:"wide"}),day:zc({values:oce,defaultWidth:"wide"}),dayPeriod:zc({values:ice,defaultWidth:"wide",formattingValues:lce,defaultFormattingWidth:"wide"})};function Wc(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hce(l,m=>m.test(i)):uce(l,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function uce(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hce(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mce(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const pce=/^(\d+)(th|st|nd|rd)?/i,fce=/\d+/i,xce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gce={any:[/^b/i,/^(a|c)/i]},vce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yce={any:[/1/i,/2/i,/3/i,/4/i]},jce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ece={ordinalNumber:mce({matchPattern:pce,parsePattern:fce,valueCallback:e=>parseInt(e,10)}),era:Wc({matchPatterns:xce,defaultMatchWidth:"wide",parsePatterns:gce,defaultParseWidth:"any"}),quarter:Wc({matchPatterns:vce,defaultMatchWidth:"wide",parsePatterns:yce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wc({matchPatterns:jce,defaultMatchWidth:"wide",parsePatterns:wce,defaultParseWidth:"any"}),day:Wc({matchPatterns:Nce,defaultMatchWidth:"wide",parsePatterns:bce,defaultParseWidth:"any"}),dayPeriod:Wc({matchPatterns:Sce,defaultMatchWidth:"any",parsePatterns:Cce,defaultParseWidth:"any"})},xb={code:"en-US",formatDistance:Gle,formatLong:ece,formatRelative:sce,localize:dce,match:Ece,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tce(e){const t=$e(e);return kr(t,$_(t))+1}function V_(e){const t=$e(e),n=+yi(t)-+Ile(t);return Math.round(n/mb)+1}function B_(e,t){const n=$e(e),r=n.getFullYear(),a=Sc(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=an(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=$r(i,t),c=an(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=$r(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Pce(e,t){const n=Sc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=B_(e,t),o=an(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),$r(o,t)}function H_(e,t){const n=$e(e),r=+$r(n,t)-+Pce(n,t);return Math.round(r/mb)+1}function ft(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ka={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ft(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ft(n+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return ft(a,t.length)}},Bi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pT={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ka.y(e,t)},Y:function(e,t,n,r){const a=B_(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return ft(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ft(o,t.length)},R:function(e,t){const n=__(e);return ft(n,t.length)},u:function(e,t){const n=e.getFullYear();return ft(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ka.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=H_(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ft(a,t.length)},I:function(e,t,n){const r=V_(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ft(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ka.d(e,t)},D:function(e,t,n){const r=Tce(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ft(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ft(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return ft(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Bi.noon:r===0?a=Bi.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Bi.evening:r>=12?a=Bi.afternoon:r>=4?a=Bi.morning:a=Bi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ka.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ka.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ka.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ka.s(e,t)},S:function(e,t){return ka.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xT(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xT(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fT(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fT(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ft(r,t.length)},T:function(e,t,n){const r=e.getTime();return ft(r,t.length)}};function fT(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+t+ft(o,2)}function xT(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=ft(Math.trunc(r/60),2),o=ft(r%60,2);return n+a+t+o}const gT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},q_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ace=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return gT(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",gT(r,t)).replace("{{time}}",q_(a,t))},kce={p:q_,P:Ace},Rce=/^D+$/,Mce=/^Y+$/,Dce=["D","DD","YY","YYYY"];function Fce(e){return Rce.test(e)}function Oce(e){return Mce.test(e)}function Ice(e,t,n){const r=Lce(e,t,n);if(console.warn(r),Dce.includes(e))throw new RangeError(r)}function Lce(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _ce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$ce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uce=/^'([^]*?)'?$/,Vce=/''/g,Bce=/[a-zA-Z]/;function xr(e,t,n){const r=Sc(),a=n?.locale??r.locale??xb,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=$e(e);if(!Vle(l))throw new RangeError("Invalid time value");let c=t.match($ce).map(u=>{const m=u[0];if(m==="p"||m==="P"){const p=kce[m];return p(u,a.formatLong)}return u}).join("").match(_ce).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const m=u[0];if(m==="'")return{isToken:!1,value:Hce(u)};if(pT[m])return{isToken:!0,value:u};if(m.match(Bce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const m=u.value;(!n?.useAdditionalWeekYearTokens&&Oce(m)||!n?.useAdditionalDayOfYearTokens&&Fce(m))&&Ice(m,t,String(e));const p=pT[m[0]];return p(l,m,a.localize,d)}).join("")}function Hce(e){const t=e.match(Uce);return t?t[1].replace(Vce,"'"):e}function qce(e,t,n){const r=Sc(),a=n?.locale??r.locale??xb,o=2520,i=_m(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i});let c,d;i>0?(c=$e(t),d=$e(e)):(c=$e(e),d=$e(t));const u=Yle(d,c),m=(Zl(d)-Zl(c))/1e3,p=Math.round((u-m)/60);let x;if(p<2)return n?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):p===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",p,l);if(p<45)return a.formatDistance("xMinutes",p,l);if(p<90)return a.formatDistance("aboutXHours",1,l);if(p<mT){const g=Math.round(p/60);return a.formatDistance("aboutXHours",g,l)}else{if(p<o)return a.formatDistance("xDays",1,l);if(p<rm){const g=Math.round(p/mT);return a.formatDistance("xDays",g,l)}else if(p<rm*2)return x=Math.round(p/rm),a.formatDistance("aboutXMonths",x,l)}if(x=Kle(d,c),x<12){const g=Math.round(p/rm);return a.formatDistance("xMonths",g,l)}else{const g=x%12,f=Math.trunc(x/12);return g<3?a.formatDistance("aboutXYears",f,l):g<9?a.formatDistance("overXYears",f,l):a.formatDistance("almostXYears",f+1,l)}}function z_(e,t){return qce(e,Ule(e),t)}function zce(e){const t=$e(e),n=t.getFullYear(),r=t.getMonth(),a=an(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Wce(e){return Math.trunc(+$e(e)/1e3)}function Kce(e){const t=$e(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Yce(e,t){return Ble(Kce(e),tn(e),t)+1}function qj(e,t){const n=$e(e),r=$e(t);return n.getTime()>r.getTime()}function W_(e,t){const n=$e(e),r=$e(t);return+n<+r}function gb(e,t){const n=$e(e),r=$e(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xce(e,t){const n=$e(e),r=$e(t);return n.getFullYear()===r.getFullYear()}function dv(e,t){return As(e,-t)}function uv(e,t){const n=$e(e),r=n.getFullYear(),a=n.getDate(),o=an(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=zce(o);return n.setMonth(t,Math.min(a,i)),n}function vT(e,t){const n=$e(e);return isNaN(+n)?an(e,NaN):(n.setFullYear(t),n)}const Gce=({adapterId:e,adapterName:t,logs:n,loading:r=!1,onRefresh:a,onExport:o,realTimeEnabled:i=!1})=>{const[l,c]=h.useState(""),[d,u]=h.useState("all"),[m,p]=h.useState(new Set),[x,g]=h.useState([]);console.log("[AdapterLogViewer] Props:",{adapterId:e,adapterName:t,logs:n,loading:r}),h.useEffect(()=>{console.log("[AdapterLogViewer] Effect running - logs:",n,"searchTerm:",l,"levelFilter:",d);let b=n;l&&(b=b.filter(E=>E.message.toLowerCase().includes(l.toLowerCase())||E.adapterName?.toLowerCase().includes(l.toLowerCase())||E.correlationId?.toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(b=b.filter(E=>E.level===d)),console.log("[AdapterLogViewer] Filtered logs:",b),g(b)},[n,l,d]);const f=b=>{switch(b){case"error":return s.jsx(xt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(Sn,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(ls,{className:"h-4 w-4 text-info"});case"debug":return s.jsx(a8,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ls,{className:"h-4 w-4 text-info"})}},w=b=>{switch(b){case"error":return"destructive";case"warn":return"secondary";case"info":return"default";case"debug":return"outline";default:return"default"}},j=b=>{p(E=>{const S=new Set(E);return S.has(b)?S.delete(b):S.add(b),S})},v=b=>{const E=new Date(b);return{time:E.toLocaleTimeString(),relative:z_(E,{addSuffix:!0})}},N=(()=>{const b={error:0,warn:0,info:0,debug:0};return n.forEach(E=>b[E.level]++),b})();return s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Channel Logs",i&&s.jsx(ae,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),s.jsxs(pe,{children:["Real-time activity and execution logs for ",t||"adapter"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs(q,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Export"]}),a&&s.jsxs(q,{variant:"outline",size:"sm",onClick:a,disabled:r,children:[s.jsx(vt,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s.jsx("div",{className:"flex items-center gap-4 pt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{variant:"destructive",className:"text-xs",children:[N.error," Errors"]}),s.jsxs(ae,{variant:"secondary",className:"text-xs",children:[N.warn," Warnings"]}),s.jsxs(ae,{variant:"default",className:"text-xs",children:[N.info," Info"]}),s.jsxs(ae,{variant:"outline",className:"text-xs",children:[N.debug," Debug"]})]})}),s.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search logs...",value:l,onChange:b=>c(b.target.value),className:"pl-10"})]})}),s.jsxs(G,{value:d,onValueChange:b=>u(b),children:[s.jsxs(Y,{className:"w-32",children:[s.jsx(bi,{className:"h-4 w-4 mr-2"}),s.jsx(J,{})]}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Levels"}),s.jsx(M,{value:"error",children:"Error"}),s.jsx(M,{value:"warn",children:"Warning"}),s.jsx(M,{value:"info",children:"Info"}),s.jsx(M,{value:"debug",children:"Debug"})]})]})]})]}),s.jsx(K,{children:s.jsx(pr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||d!=="all"?"No logs match the current filters":"No logs available"}):x.map(b=>{const E=m.has(b.id),S=v(b.timestamp);return s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[f(b.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ae,{variant:w(b.level),className:"text-xs",children:(b.level||"info").toUpperCase()}),b.adapterName&&s.jsx(ae,{variant:"outline",className:"text-xs",children:b.adapterName}),b.correlationId&&s.jsx("code",{className:"text-xs text-muted-foreground bg-muted px-1 rounded",children:b.correlationId}),b.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.duration,"ms"]})]}),s.jsx("p",{className:"text-sm text-foreground mb-1",children:b.message}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{children:S.time}),s.jsx("span",{children:S.relative})]})]})]}),b.details&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>j(b.id),className:"ml-2",children:E?s.jsx(cr,{className:"h-4 w-4"}):s.jsx(nn,{className:"h-4 w-4"})})]}),E&&b.details&&s.jsxs(s.Fragment,{children:[s.jsx(mt,{className:"my-2"}),s.jsx("div",{className:"bg-muted/50 rounded p-2",children:b.details.processingSteps&&Array.isArray(b.details.processingSteps)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Processing Steps:"}),b.details.processingSteps.map((A,O)=>s.jsx("div",{className:"border-l-2 border-border/50 pl-3 py-1",children:s.jsxs("div",{className:"flex items-start gap-2",children:[A.level==="ERROR"&&s.jsx(xt,{className:"h-3 w-3 text-destructive mt-0.5"}),A.level==="WARN"&&s.jsx(Sn,{className:"h-3 w-3 text-warning mt-0.5"}),A.level==="INFO"&&s.jsx(ls,{className:"h-3 w-3 text-info mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs font-medium",children:A.step}),A.details&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:A.details}),A.timestamp&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:new Date(A.timestamp).toLocaleTimeString()})]})]})},O))]}):s.jsx("pre",{className:"text-xs overflow-x-auto",children:typeof b.details=="string"?b.details:JSON.stringify(b.details,null,2)})})]})]},b.id)})})})})]})},Jce=(e,t,n=!1)=>{const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState(null),d=h.useRef(t);d.current=t,h.useEffect(()=>{e&&n&&u()},[e,n]);const u=async()=>{if(e){i(!0),c(null);try{console.log(`[useAdapterLogs] Loading logs for adapter: ${e}`);const m=await vd.getAdapterLogs(e,d.current);console.log("[useAdapterLogs] Response:",m),m.success&&m.data?(console.log(`[useAdapterLogs] Setting ${m.data.length} logs`),a(m.data)):(console.error("[useAdapterLogs] Error:",m.error),c(m.error||"Failed to load adapter logs"),a([]))}catch(m){console.error("[useAdapterLogs] Exception:",m),c(m instanceof Error?m.message:"An unexpected error occurred"),a([])}finally{i(!1)}}};return{logs:r,loading:o,error:l,refreshLogs:u,connected:!1,exportLogs:async()=>{console.log("Export logs functionality will be implemented")}}},Qce=({adapter:e,onUpdate:t,onDelete:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),l=h.useMemo(()=>({limit:50}),[]),{logs:c,loading:d,connected:u,refreshLogs:m,exportLogs:p}=Jce(e.id,l,r);h.useEffect(()=>{r&&m()},[r]);const x=f=>{switch(f){case"running":return"bg-success";case"idle":return"bg-warning";case"stopped":return"bg-destructive";default:return"bg-muted-foreground"}},g=f=>{switch(f){case"running":return"default";case"idle":return"secondary";case"stopped":return"destructive";default:return"outline"}};return s.jsx(W,{className:"bg-gradient-secondary border-border/50 animate-fade-in",children:s.jsxs(K,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${x(e.status)}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:e.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.type," - ",e.mode]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ae,{variant:g(e.status),className:"text-xs",children:e.status})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border/10",children:[s.jsxs("div",{className:"flex-1 max-w-xs",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Load"}),s.jsxs("span",{className:"font-medium",children:[e.load,"%"]})]}),s.jsx(Zu,{value:e.load,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-8 ml-8",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-4 w-4 text-warning"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.messagesProcessed||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"messages"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.lastActivityTime||"Never"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Last activity"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(EN,{className:"h-4 w-4 text-success"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:"100%"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4 text-destructive"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:e.errorsCount||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`${e.status==="running"?"Stopping":"Starting"} adapter ${e.id}`),t&&t({status:e.status==="running"?"stopped":"running"})},children:[e.status==="running"?s.jsx(E8,{className:"h-4 w-4 mr-2"}):s.jsx(Ur,{className:"h-4 w-4 mr-2"}),e.status==="running"?"Stop":"Start"]}),s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",onClick:()=>{console.log(`Opening settings for adapter ${e.id}`)},children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Settings"]}),s.jsx(sd,{open:r,onOpenChange:a,children:s.jsx(Vj,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"View Logs",r?s.jsx(cr,{className:"h-4 w-4 ml-2"}):s.jsx(nn,{className:"h-4 w-4 ml-2"})]})})}),s.jsx(sd,{open:o,onOpenChange:i,children:s.jsx(Vj,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(i8,{className:"h-4 w-4 mr-2"}),"Detailed Metrics",o?s.jsx(cr,{className:"h-4 w-4 ml-2"}):s.jsx(nn,{className:"h-4 w-4 ml-2"})]})})}),s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ic,{className:"h-4 w-4 mr-2"}),"Live"]}),u&&s.jsx(ae,{variant:"secondary",className:"animate-pulse",children:"Live"})]}),s.jsx(sd,{open:r,onOpenChange:a,children:s.jsx(Bj,{className:"mt-4",children:s.jsx(Gce,{adapterId:e.id,adapterName:e.name,logs:c,loading:d,onRefresh:m,onExport:p,realTimeEnabled:u})})}),s.jsx(sd,{open:o,onOpenChange:i,children:s.jsx(Bj,{className:"mt-4",children:s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(te,{children:s.jsx(re,{className:"text-lg",children:"Detailed Metrics"})}),s.jsx(K,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ku,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.type," - ",e.mode]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:(e.messagesProcessed||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:e.errorsCount||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Errors"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:e.businessComponentName||"N/A"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Component"})]}),s.jsx(ae,{variant:g(e.status),children:e.status})]})]})})})]})})})]})})};function Zce({selectedStatus:e,onStatusChange:t}){const n=[{value:null,label:"All"},{value:"active",label:"Active"},{value:"running",label:"Running"},{value:"stopped",label:"Stopped"},{value:"error",label:"Error"}];return s.jsxs(W,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Filter by Status"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.map(r=>s.jsx(q,{variant:e===r.value?"default":"secondary",size:"sm",onClick:()=>t(r.value),children:r.label},r.value||"all"))})]})}function ede(){const[e,t]=h.useState(null),[n,r]=h.useState(null),[a,o]=h.useState([]),[i,l]=h.useState(!0),[c,d]=h.useState(null),{businessComponents:u,loading:m}=No(),{toast:p}=He();h.useEffect(()=>{const N=async()=>{try{d(null),l(!0);const E=await vd.getAdapters(e?.id);E.success&&E.data?o(E.data):(d(E.error||"Failed to fetch adapters"),p({variant:"destructive",title:"Error",description:E.error||"Failed to fetch adapters"}))}catch(E){console.error("Error fetching adapters:",E),d("Failed to load adapters"),p({variant:"destructive",title:"Error",description:"Failed to load adapters"})}finally{l(!1)}};N();const b=setInterval(N,3e4);return()=>clearInterval(b)},[e,p]);const x=async(N,b)=>{try{const E=await vd.updateAdapter(N,b);E.success&&E.data?(o(S=>S.map(A=>A.id===N?E.data:A)),p({title:"Success",description:"Adapter updated successfully"})):p({variant:"destructive",title:"Error",description:E.error||"Failed to update adapter"})}catch(E){console.error("Error updating adapter:",E),p({variant:"destructive",title:"Error",description:"Failed to update adapter"})}},g=async N=>{try{const b=await vd.deleteAdapter(N);b.success?(o(E=>E.filter(S=>S.id!==N)),p({title:"Success",description:"Adapter deleted successfully"})):p({variant:"destructive",title:"Error",description:b.error||"Failed to delete adapter"})}catch(b){console.error("Error deleting adapter:",b),p({variant:"destructive",title:"Error",description:"Failed to delete adapter"})}},f=a.filter(N=>!(n&&N.status!==n)),w=a.length,j=a.filter(N=>N.status==="running"||N.status==="active").length,v=a.filter(N=>N.status==="error").length,y=a.length>0?Math.round(a.reduce((N,b)=>N+(b.load||0),0)/a.length):0;return s.jsxs("div",{className:"w-full p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Adapter Monitoring"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage your communication adapters"})]}),s.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[s.jsx(C,{htmlFor:"business-component",children:"Business Component:"}),s.jsxs(G,{value:e?.id||"all",onValueChange:N=>{if(N==="all")t(null);else{const b=u.find(E=>E.id===N);t(b||null)}},disabled:m,children:[s.jsx(Y,{id:"business-component",className:"w-[280px]",children:s.jsx(J,{placeholder:"Select a business component"})}),s.jsxs(X,{children:[s.jsx(M,{value:"all",children:"All Components"}),u.map(N=>s.jsx(M,{value:N.id,children:N.name},N.id))]})]})]}),c&&s.jsx("div",{className:"mb-6 bg-destructive/10 text-destructive p-4 rounded-lg",children:c}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs(W,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Adapters"}),s.jsx("p",{className:"text-2xl font-bold",children:w})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Adapters"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:j})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Adapters with Errors"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:v})]}),s.jsxs(W,{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Load"}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Zu,{value:y,className:"h-2"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y,"%"]})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(Zce,{selectedStatus:n,onStatusChange:r})}),i?s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})}):f.length===0?s.jsx(W,{className:"p-12 text-center",children:s.jsx("p",{className:"text-gray-500",children:n?`No adapters found with status: ${n}`:e?`No adapters found for ${e.name}`:"No adapters found"})}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.map(N=>s.jsx(Qce,{adapter:N,onUpdate:b=>x(N.id,b),onDelete:()=>g(N.id)},N.id))})]})}class tde{async createFlow(t){return ee.post("/flows",t)}async getFlows(t){const n=new URLSearchParams;t&&Object.entries(t).forEach(([a,o])=>{o!==void 0&&n.append(a,o.toString())});const r=`/flows${n.toString()?`?${n.toString()}`:""}`;return ee.get(r)}async getFlow(t){return ee.get(`/flows/${t}`)}async updateFlow(t,n){return ee.put(`/flows/${t}`,n)}async deleteFlow(t){return ee.delete(`/flows/${t}`)}async testFlow(t,n){return ee.post(`/flows/${t}/test`,{testData:n})}async updateFlowStatus(t,n){return ee.patch(`/flows/${t}/status`,{status:n})}async getFlowExecutions(t,n){const r=new URLSearchParams;n&&Object.entries(n).forEach(([o,i])=>{i!==void 0&&r.append(o,i.toString())});const a=`/flows/${t}/executions${r.toString()?`?${r.toString()}`:""}`;return ee.get(a)}async saveFieldMappings(t,n){return ee.post(`/flows/${t}/field-mappings`,{mappings:n})}async cloneFlow(t,n){return ee.post(`/flows/${t}/clone`,{name:n})}async validateFlow(t){return ee.post("/flows/validate",t)}}const zj=new tde,K_=h.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));K_.displayName="Breadcrumb";const Y_=h.forwardRef(({className:e,...t},n)=>s.jsx("ol",{ref:n,className:ne("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Y_.displayName="BreadcrumbList";const $m=h.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,className:ne("inline-flex items-center gap-1.5",e),...t}));$m.displayName="BreadcrumbItem";const Wj=h.forwardRef(({asChild:e,className:t,...n},r)=>{const a=e?sn:"a";return s.jsx(a,{ref:r,className:ne("transition-colors hover:text-foreground",t),...n})});Wj.displayName="BreadcrumbLink";const X_=h.forwardRef(({className:e,...t},n)=>s.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:ne("font-normal text-foreground",e),...t}));X_.displayName="BreadcrumbPage";const Kj=({children:e,className:t,...n})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:ne("[&>svg]:size-3.5",t),...n,children:e??s.jsx(nn,{})});Kj.displayName="BreadcrumbSeparator";function sde(){const{flowId:e}=HN(),t=_s(),{toast:n}=He(),[r,a]=h.useState(!0),[o,i]=h.useState(null),[l,c]=h.useState(null);h.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{a(!0);const f=await zj.getFlow(e);if(f.success&&f.data){i(f.data);const w={flowId:f.data.id,status:f.data.status,endpoints:[],metadata:{}};c(w)}}catch{n({variant:"destructive",title:"Error",description:"Failed to fetch interface details"})}finally{a(!1)}},u=(f,w)=>{navigator.clipboard.writeText(f),n({title:"Copied!",description:`${w} copied to clipboard`})},m=()=>{l?.metadata?.wsdlUrl&&window.open(l.metadata.wsdlUrl,"_blank")};if(r)return s.jsx("div",{className:"w-full p-6",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})})});if(!o||!l)return s.jsx("div",{className:"w-full p-6",children:s.jsx(W,{children:s.jsxs(K,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Interface not found or not deployed"}),s.jsx(q,{variant:"outline",className:"mt-4",onClick:()=>t("/interfaces"),children:"Back to Interfaces"})]})})});const p=l.metadata?.adapterType||"Unknown",x=["HTTP","REST","SOAP"].includes(p),g=p==="SOAP";return s.jsxs("div",{className:"w-full",children:[s.jsx(K_,{className:"mb-4 px-6 py-3",children:s.jsxs(Y_,{children:[s.jsx($m,{children:s.jsx(Wj,{onClick:()=>t("/dashboard"),children:"Dashboard"})}),s.jsx(Kj,{}),s.jsx($m,{children:s.jsx(Wj,{onClick:()=>t("/all-interfaces"),children:"Interfaces"})}),s.jsx(Kj,{}),s.jsx($m,{children:s.jsx(X_,{children:o.name})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:o.name}),s.jsxs(ae,{variant:"success",className:"text-lg px-4 py-2",children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Deployed"]})]}),s.jsx("p",{className:"text-gray-600",children:o.description})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Deployment Information"}),s.jsx(pe,{children:"Details about the deployed interface"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Deployed At"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(rn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:new Date(l.deployedAt).toLocaleString()})]})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Deployed By"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(io,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:l.deployedBy||"System"})]})]})]}),s.jsx(mt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Adapter Type"}),s.jsx(ae,{variant:"outline",children:p})]})]})]}),x&&s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Endpoint Information"}),s.jsx(pe,{children:"Connection details for external systems"})]}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"endpoint",children:"API Endpoint"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_,{id:"endpoint",value:l.endpoint,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>u(l.endpoint,"Endpoint"),children:s.jsx(sa,{className:"h-4 w-4"})})]})]}),g&&l.metadata?.wsdlUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"wsdl",children:"WSDL URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_,{id:"wsdl",value:l.metadata.wsdlUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>u(l.metadata.wsdlUrl,"WSDL URL"),children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsx(q,{size:"icon",variant:"outline",onClick:m,children:s.jsx(ao,{className:"h-4 w-4"})})]})]}),p==="REST"&&l.metadata?.apiDocsUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"apidocs",children:"API Documentation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_,{id:"apidocs",value:l.metadata.apiDocsUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(q,{size:"icon",variant:"outline",onClick:()=>window.open(l.metadata.apiDocsUrl,"_blank"),children:s.jsx(Pr,{className:"h-4 w-4"})})]})]}),l.metadata?.httpMethods&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Supported Methods"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.httpMethods})]}),l.metadata?.contentType&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Content Types"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.metadata.contentType})]})]})]}),["FILE","FTP","SFTP"].includes(p)&&s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"File Configuration"}),s.jsx(pe,{children:"File handling settings for this interface"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Polling"}),s.jsx("p",{className:"mt-1",children:l.metadata?.pollingEnabled?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"File Pattern"}),s.jsx("p",{className:"mt-1 font-mono text-sm",children:l.metadata?.filePattern||"*.*"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Integration Details"}),s.jsx(pe,{children:"Configuration and mapping information"})]}),s.jsx(K,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Mapping Mode"}),s.jsx(ae,{variant:o.mappingMode==="PASS_THROUGH"?"outline":"default",children:o.mappingMode==="PASS_THROUGH"?"Pass-through":"With Mapping"})]}),s.jsxs("div",{children:[s.jsx(C,{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(ae,{variant:"success",children:o.status})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(q,{variant:"outline",onClick:()=>t("/all-interfaces"),children:"Back to Interfaces"}),s.jsxs(q,{variant:"outline",onClick:()=>t(`/flows/${e}/edit`),children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"View Configuration"]})]})]})]})]})}const nde=({users:e,roles:t,certificates:n,jarFiles:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[s.jsxs(W,{className:"hover-scale",children:[s.jsx(te,{className:"pb-2",children:s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Total Users"]})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users"})]})]}),s.jsxs(W,{className:"hover-scale",children:[s.jsx(te,{className:"pb-2",children:s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ws,{className:"h-4 w-4"}),"Roles"]})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Defined roles"})]})]}),s.jsxs(W,{className:"hover-scale",children:[s.jsx(te,{className:"pb-2",children:s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"Certificates"]})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL/Auth certs"})]})]}),s.jsxs(W,{className:"hover-scale",children:[s.jsx(te,{className:"pb-2",children:s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Hd,{className:"h-4 w-4"}),"Connection Drivers"]})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver files"})]})]})]});class rde{async getAllUsers(t=0,n=50){return ee.get(`/users?page=${t}&limit=${n}`)}async getUserById(t){return ee.get(`/users/${t}`)}async createUser(t){const n={...t,password:t.password||this.generateDefaultPassword()};return ee.post("/auth/register",n)}async updateUser(t,n){return ee.put(`/users/${t}`,n)}async deleteUser(t){return ee.delete(`/users/${t}`)}async updateUserStatus(t,n){return ee.patch(`/users/${t}/status`,{status:n})}async resetUserPassword(t){return ee.post(`/users/${t}/reset-password`)}async assignRole(t,n,r={}){return ee.patch(`/users/${t}/role`,{role:n,permissions:r})}async getUserPermissions(t){return ee.get(`/users/${t}/permissions`)}async updateUserPermissions(t,n){return ee.patch(`/users/${t}/permissions`,{permissions:n})}async searchUsers(t,n){const r=new URLSearchParams({q:t,...n?.role&&{role:n.role},...n?.status&&{status:n.status},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return ee.get(`/users/search?${r}`)}generateDefaultPassword(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let n="";for(let r=0;r<12;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}getRolePermissions(t){return{administrator:{flows:["create","read","update","delete","execute"],adapters:["create","read","update","delete","test"],structures:["create","read","update","delete"],users:["create","read","update","delete"],system:["create","read","update","delete"],certificates:["create","read","update","delete"]},integrator:{flows:["create","read","update","execute"],adapters:["create","read","update","test"],structures:["create","read","update"],messages:["read"],channels:["read"]},viewer:{flows:["read"],adapters:["read"],structures:["read"],messages:["read"],channels:["read"]}}[t]||{flows:["read"]}}}const il=new rde,ade=({open:e,onOpenChange:t,onUserCreated:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),{toast:l}=He(),c=async u=>{u.preventDefault(),a(!0);try{console.log("Creating user with data:",o);const m=await il.createUser(o);m.success?(l({title:"User Created Successfully",description:`User ${o.username} has been created with role ${o.role}.`}),i({username:"",email:"",firstName:"",lastName:"",role:"viewer",password:"",status:"active"}),t(!1),n?.()):l({title:"Error Creating User",description:m.error||"An error occurred while creating the user.",variant:"destructive"})}catch(m){console.error("User creation error:",m),l({title:"Error Creating User",description:m.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}},d=u=>m=>{i(p=>({...p,[u]:m}))};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"sm:max-w-[425px]",children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Create New User"}),s.jsx(Fs,{children:"Add a new user to the system. They will receive an email with login instructions."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"firstName",children:"First Name"}),s.jsx(_,{id:"firstName",value:o.firstName,onChange:u=>d("firstName")(u.target.value),placeholder:"John",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"lastName",children:"Last Name"}),s.jsx(_,{id:"lastName",value:o.lastName,onChange:u=>d("lastName")(u.target.value),placeholder:"Doe",required:!0,disabled:r})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"Username"}),s.jsx(_,{id:"username",value:o.username,onChange:u=>d("username")(u.target.value),placeholder:"johndoe",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"email",children:"Email"}),s.jsx(_,{id:"email",type:"email",value:o.email,onChange:u=>d("email")(u.target.value),placeholder:"john.doe@company.com",required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"password",children:"Temporary Password"}),s.jsx(_,{id:"password",type:"password",value:o.password,onChange:u=>d("password")(u.target.value),placeholder:"Leave empty for auto-generated password",disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"role",children:"Role"}),s.jsxs(G,{value:o.role,onValueChange:d("role"),disabled:r,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a role"})}),s.jsxs(X,{children:[s.jsx(M,{value:"administrator",children:"Administrator"}),s.jsx(M,{value:"integrator",children:"Integrator"}),s.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"status",children:"Status"}),s.jsxs(G,{value:o.status,onValueChange:d("status"),disabled:r,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select status"})}),s.jsxs(X,{children:[s.jsx(M,{value:"active",children:"Active"}),s.jsx(M,{value:"inactive",children:"Inactive"}),s.jsx(M,{value:"pending",children:"Pending"})]})]})]}),s.jsxs(mr,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),s.jsxs(q,{type:"submit",disabled:r,children:[r&&s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Create User"]})]})]})]})})},ode=[{key:"flows",label:"Flows",icon:At,permissions:["create","read","update","delete","execute"]},{key:"adapters",label:"Adapters",icon:FC,permissions:["create","read","update","delete","test"]},{key:"structures",label:"Data Structures",icon:ds,permissions:["create","read","update","delete"]},{key:"users",label:"User Management",icon:Ds,permissions:["create","read","update","delete"]},{key:"system",label:"System",icon:ws,permissions:["create","read","update","delete"]},{key:"messages",label:"Messages",icon:zs,permissions:["read"]},{key:"channels",label:"Channels",icon:FC,permissions:["read"]},{key:"certificates",label:"Certificates",icon:ws,permissions:["create","read","update","delete"]}],ide=({open:e,onOpenChange:t,user:n,onUserUpdated:r})=>{const[a,o]=h.useState(!1),[i,l]=h.useState({}),[c,d]=h.useState({}),[u,m]=h.useState(!1),{toast:p}=He();h.useEffect(()=>{if(n)if(l({email:n.email,firstName:n.first_name,lastName:n.last_name,role:n.role,status:n.status}),n.permissions&&Object.keys(n.permissions).length>0)d(n.permissions),m(!0);else{const j=il.getRolePermissions(n.role);d(j),m(!1)}},[n]);const x=async j=>{if(j.preventDefault(),!!n){o(!0);try{const v={...i,permissions:u?c:void 0};console.log("Updating user with data:",v);const y=await il.updateUser(n.id,v);y.success?(p({title:"User Updated Successfully",description:`User ${n.username} has been updated.`}),t(!1),r?.()):p({title:"Error Updating User",description:y.error||"An error occurred while updating the user.",variant:"destructive"})}catch(v){console.error("User update error:",v),p({title:"Error Updating User",description:v.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}}},g=j=>v=>{if(l(y=>({...y,[j]:v})),j==="role"){const y=il.getRolePermissions(v);u||d(y)}},f=(j,v)=>{d(y=>{const N=y[j]||[],b=N.includes(v);return{...y,[j]:b?N.filter(E=>E!==v):[...N,v]}})},w=()=>{if(i.role){const j=il.getRolePermissions(i.role);d(j),m(!1)}};return n?s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(ut,{children:[s.jsxs(ht,{children:["Edit User: ",n.username]}),s.jsx(Fs,{children:"Update user information and customize their permissions."})]}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"firstName",children:"First Name"}),s.jsx(_,{id:"firstName",value:i.firstName||"",onChange:j=>g("firstName")(j.target.value),disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"lastName",children:"Last Name"}),s.jsx(_,{id:"lastName",value:i.lastName||"",onChange:j=>g("lastName")(j.target.value),disabled:a})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"email",children:"Email"}),s.jsx(_,{id:"email",type:"email",value:i.email||"",onChange:j=>g("email")(j.target.value),disabled:a})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"role",children:"Role"}),s.jsxs(G,{value:i.role||"",onValueChange:g("role"),disabled:a,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select a role"})}),s.jsxs(X,{children:[s.jsx(M,{value:"administrator",children:"Administrator"}),s.jsx(M,{value:"integrator",children:"Integrator"}),s.jsx(M,{value:"viewer",children:"Viewer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"status",children:"Status"}),s.jsxs(G,{value:i.status||"",onValueChange:g("status"),disabled:a,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select status"})}),s.jsxs(X,{children:[s.jsx(M,{value:"active",children:"Active"}),s.jsx(M,{value:"inactive",children:"Inactive"}),s.jsx(M,{value:"pending",children:"Pending"})]})]})]})]})]}),s.jsx(mt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Permissions"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"useCustomPermissions",checked:u,onCheckedChange:j=>m(j===!0),disabled:a}),s.jsx(C,{htmlFor:"useCustomPermissions",className:"text-sm",children:"Use custom permissions"})]}),u&&s.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:a,children:"Reset to Role Defaults"})]})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(pe,{children:u?"Customize individual permissions for this user":`Using default permissions for ${i.role||"selected"} role`})}),s.jsx(K,{children:s.jsx("div",{className:"grid gap-4",children:ode.map(j=>{const v=c[j.key]||[],y=j.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(C,{className:"font-medium",children:j.label})]}),s.jsx("div",{className:"flex flex-wrap gap-4 pl-6",children:j.permissions.map(N=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:`${j.key}-${N}`,checked:v.includes(N),onCheckedChange:()=>f(j.key,N),disabled:a||!u}),s.jsx(C,{htmlFor:`${j.key}-${N}`,className:"text-sm capitalize",children:N})]},N))})]},j.key)})})})]})]}),s.jsxs(mr,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsxs(q,{type:"submit",disabled:a,children:[a&&s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Update User"]})]})]})]})}):null},lde=({users:e,isLoading:t=!1,onRefresh:n})=>{const[r,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(null),d=m=>{switch(m){case"administrator":return s.jsx(jN,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(At,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Ds,{className:"h-4 w-4"})}},u=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";default:return"outline"}};return s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{children:"User Management"}),s.jsx(pe,{children:"Manage system users and their access levels"})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsxs(q,{variant:"outline",onClick:n,disabled:t,children:[s.jsx(vt,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]}),s.jsxs(q,{className:"bg-gradient-primary",onClick:()=>a(!0),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),s.jsx(K,{children:t?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((m,p)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Re,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Re,{className:"h-4 w-[200px]"}),s.jsx(Re,{className:"h-4 w-[150px]"})]}),s.jsx(Re,{className:"h-8 w-20"}),s.jsx(Re,{className:"h-8 w-8"})]},p))}):e.length===0?s.jsx(Co,{icon:Ds,title:"No users found",description:"There are currently no users in the system. Create your first user to get started.",action:{label:"Add User",onClick:()=>a(!0)}}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Username"}),s.jsx(Ne,{children:"Email"}),s.jsx(Ne,{children:"Role"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Last Login"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:e.map(m=>s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:m.username}),s.jsx(ye,{children:m.email}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[d(m.role),s.jsx("span",{className:"capitalize",children:m.role})]})}),s.jsx(ye,{children:s.jsx(ae,{variant:u(m.status),children:m.status})}),s.jsx(ye,{className:"text-muted-foreground",children:m.last_login_at||"Never"}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{c(m),i(!0)},children:s.jsx(dr,{className:"h-4 w-4"})}),s.jsx(q,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(Rn,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),s.jsx(ade,{open:r,onOpenChange:a,onUserCreated:()=>{a(!1),n?.()}}),s.jsx(ide,{open:o,onOpenChange:i,user:l,onUserUpdated:()=>{i(!1),c(null),n?.()}})]})},cde=({roles:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"administrator":return s.jsx(jN,{className:"h-4 w-4 text-warning"});case"integrator":return s.jsx(At,{className:"h-4 w-4 text-info"});case"viewer":return s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Ds,{className:"h-4 w-4"})}};return s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Role Management"}),s.jsx(pe,{children:"Define and manage user roles and permissions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(vt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(q,{className:"bg-gradient-primary",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})]})}),s.jsx(K,{children:s.jsx("div",{className:"grid gap-4",children:t?Array.from({length:3}).map((a,o)=>s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"h-4 w-4 rounded-full"}),s.jsxs("div",{children:[s.jsx(Re,{className:"h-5 w-32 mb-2"}),s.jsx(Re,{className:"h-4 w-48"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{className:"h-6 w-16"}),s.jsx(Re,{className:"h-8 w-8"})]})]})}),s.jsx(K,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:4}).map((i,l)=>s.jsx(Re,{className:"h-6 w-20"},l))})})]},o)):e.length===0?s.jsx(Co,{icon:ws,title:"No roles found",description:"Create roles to define user permissions and access levels for your integration platform.",action:{label:"Add Role",onClick:()=>{}}}):e.map(a=>s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r(a.name),s.jsxs("div",{children:[s.jsx(re,{className:"text-lg capitalize",children:a.name}),s.jsx(pe,{children:a.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{variant:"outline",children:[a.userCount," users"]}),s.jsx(q,{variant:"outline",size:"sm",children:s.jsx(dr,{className:"h-4 w-4"})})]})]})}),s.jsx(K,{children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Permissions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.permissions.map(o=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:o.replace("_"," ")},o))})]})})]},a.id))})})]})},dde=({certificates:e,isLoading:t=!1,onRefresh:n})=>{const r=a=>{switch(a){case"active":return"default";case"inactive":return"secondary";case"expiring":return"destructive";default:return"outline"}};return s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Certificate Management"}),s.jsx(pe,{children:"Manage SSL certificates and authentication keys"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(vt,{className:`h-4 w-4 ${t?"animate-spin":""}`})}),s.jsxs(q,{className:"bg-gradient-primary",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Certificate"]})]})]})}),s.jsx(K,{children:t?s.jsx("div",{className:"rounded-md border",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Issuer"}),s.jsx(Ne,{children:"Valid Period"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Usage"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:Array.from({length:3}).map((a,o)=>s.jsxs(wt,{children:[s.jsx(ye,{children:s.jsx(Re,{className:"h-4 w-32"})}),s.jsx(ye,{children:s.jsx(Re,{className:"h-4 w-24"})}),s.jsx(ye,{children:s.jsx(Re,{className:"h-4 w-28"})}),s.jsx(ye,{children:s.jsx(Re,{className:"h-4 w-40"})}),s.jsx(ye,{children:s.jsx(Re,{className:"h-6 w-16"})}),s.jsx(ye,{children:s.jsx(Re,{className:"h-4 w-36"})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{className:"h-8 w-8"}),s.jsx(Re,{className:"h-8 w-8"})]})})]},o))})]})}):e.length===0?s.jsx(Co,{icon:ma,title:"No certificates found",description:"Upload and manage SSL certificates and authentication keys for secure connections.",action:{label:"Add Certificate",onClick:()=>{}}}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Issuer"}),s.jsx(Ne,{children:"Valid Period"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Usage"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:e.map(a=>s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:a.name}),s.jsx(ye,{children:a.type}),s.jsx(ye,{children:a.issuer}),s.jsxs(ye,{className:"text-sm",children:[a.validFrom," to ",a.validTo]}),s.jsx(ye,{children:s.jsx(ae,{variant:r(a.status),children:a.status})}),s.jsx(ye,{className:"text-muted-foreground text-sm",children:a.usage}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(dr,{className:"h-4 w-4"})}),s.jsx(q,{variant:"ghost",size:"sm",className:"text-destructive",children:s.jsx(Rn,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})},ude=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState({databaseType:"",name:"",version:""}),{toast:d}=He(),u=[{value:"mariadb",label:"MariaDB"},{value:"oracle",label:"Oracle"},{value:"db2",label:"DB2"},{value:"sqlserver",label:"Microsoft SQL Server"},{value:"mysql",label:"MySQL"},{value:"postgresql",label:"PostgreSQL"}],m=g=>{const f=g.target.files?.[0];if(f){if(!f.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JDBC driver file (.jar).",variant:"destructive"});return}a(f);const w=f.name.replace(".jar","");c(j=>({...j,name:w,version:j.version||"1.0.0"}))}},p=async()=>{if(!r||!l.databaseType){d({title:"Missing Information",description:"Please select a database type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(f=>setTimeout(f,2e3));const g={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JDBC driver for ${u.find(f=>f.value===l.databaseType)?.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JDBC",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),a(null),c({databaseType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JDBC driver for ${u.find(f=>f.value===l.databaseType)?.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JDBC driver. Please try again.",variant:"destructive"})}finally{i(!1)}},x=()=>{a(null),c({databaseType:"",name:"",version:""})};return s.jsx(dt,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(ot,{className:"sm:max-w-[425px]",children:[s.jsx(ut,{children:s.jsx(ht,{children:"Add JDBC Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"database-type",children:"Database Type *"}),s.jsxs(G,{value:l.databaseType,onValueChange:g=>c(f=>({...f,databaseType:g})),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select database type"})}),s.jsx(X,{children:u.map(g=>s.jsx(M,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"jdbc-file",children:"JDBC Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{id:"jdbc-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),s.jsx(q,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(_,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(f=>({...f,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"driver-version",children:"Version"}),s.jsx(_,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(f=>({...f,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(q,{onClick:p,disabled:o||!r||!l.databaseType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(Af,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},hde=({open:e,onOpenChange:t,onDriverAdded:n})=>{const[r,a]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState({brokerType:"",name:"",version:""}),{toast:d}=He(),u=[{value:"activemq",label:"ActiveMQ"},{value:"rabbitmq",label:"RabbitMQ"},{value:"artemis",label:"Apache Artemis"},{value:"ibmmq",label:"IBM MQ"},{value:"kafka",label:"Apache Kafka"},{value:"solace",label:"Solace"}],m=g=>{const f=g.target.files?.[0];if(f){if(!f.name.endsWith(".jar")){d({title:"Invalid File Type",description:"Please select a valid JMS driver file (.jar).",variant:"destructive"});return}a(f);const w=f.name.replace(".jar","");c(j=>({...j,name:w,version:j.version||"1.0.0"}))}},p=async()=>{if(!r||!l.brokerType){d({title:"Missing Information",description:"Please select a broker type and driver file.",variant:"destructive"});return}i(!0);try{await new Promise(f=>setTimeout(f,2e3));const g={id:Date.now().toString(),name:l.name||r.name.replace(".jar",""),version:l.version||"1.0.0",description:`JMS driver for ${u.find(f=>f.value===l.brokerType)?.label}`,file_name:r.name,size_bytes:r.size,upload_date:new Date().toISOString().split("T")[0],driver_type:"JMS",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),a(null),c({brokerType:"",name:"",version:""}),t(!1),d({title:"Upload Successful",description:`JMS driver for ${u.find(f=>f.value===l.brokerType)?.label} has been uploaded.`})}catch{d({title:"Upload Failed",description:"Failed to upload JMS driver. Please try again.",variant:"destructive"})}finally{i(!1)}},x=()=>{a(null),c({brokerType:"",name:"",version:""})};return s.jsx(dt,{open:e,onOpenChange:g=>{t(g),g||x()},children:s.jsxs(ot,{className:"sm:max-w-[425px]",children:[s.jsx(ut,{children:s.jsx(ht,{children:"Add JMS Driver"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"broker-type",children:"Message Broker Type *"}),s.jsxs(G,{value:l.brokerType,onValueChange:g=>c(f=>({...f,brokerType:g})),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select broker type"})}),s.jsx(X,{children:u.map(g=>s.jsx(M,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"jms-file",children:"JMS Driver File *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{id:"jms-file",type:"file",accept:".jar",onChange:m,className:"cursor-pointer"}),s.jsx(q,{variant:"outline",size:"sm",disabled:!0,children:"Browse..."})]}),r&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"driver-name",children:"Driver Name"}),s.jsx(_,{id:"driver-name",placeholder:"Auto-generated",value:l.name,onChange:g=>c(f=>({...f,name:g.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"driver-version",children:"Version"}),s.jsx(_,{id:"driver-version",placeholder:"1.0.0",value:l.version,onChange:g=>c(f=>({...f,version:g.target.value}))})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(q,{onClick:p,disabled:o||!r||!l.brokerType,className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(Af,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Driver"]})]})]})})},mde=({jarFiles:e,isLoading:t=!1,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>{const[o,i]=h.useState(!1),[l,c]=h.useState(!1);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs(W,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>i(!0),children:[s.jsxs(te,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ds,{className:"h-8 w-8 text-info dark:text-info"})}),s.jsx(re,{className:"text-xl",children:"JDBC Driver"}),s.jsx(pe,{children:"Upload database connection drivers for MySQL, Oracle, PostgreSQL, and more"})]}),s.jsx(K,{className:"text-center pt-0",children:s.jsx(q,{variant:"outline",className:"w-full",children:"Upload JDBC Driver"})})]}),s.jsxs(W,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-primary/20",onClick:()=>c(!0),children:[s.jsxs(te,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(zs,{className:"h-8 w-8 text-success dark:text-success"})}),s.jsx(re,{className:"text-xl",children:"JMS Driver"}),s.jsx(pe,{children:"Upload Java Message Service drivers for ActiveMQ, RabbitMQ, and other message brokers"})]}),s.jsx(K,{className:"text-center pt-0",children:s.jsx(q,{variant:"outline",className:"w-full",children:"Upload JMS Driver"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Connection Drivers"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.length," driver",e.length!==1?"s":""," uploaded"]}),n&&s.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:t,children:s.jsx(vt,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})]}),t?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((d,u)=>s.jsxs(W,{children:[s.jsxs(te,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{className:"h-5 w-5 rounded"}),s.jsx(Re,{className:"h-5 w-32"})]}),s.jsx(Re,{className:"h-4 w-48 mt-1"})]}),s.jsxs(K,{className:"pt-0",children:[s.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((m,p)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Re,{className:"h-4 w-16"}),s.jsx(Re,{className:"h-4 w-20"})]},p))}),s.jsx(Re,{className:"h-8 w-full mt-3"})]})]},u))}):e.length===0?s.jsx(Co,{icon:Hd,title:"No connection drivers uploaded",description:"Upload JDBC database drivers or JMS client libraries to enable connections to external systems."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(d=>s.jsxs(W,{children:[s.jsxs(te,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[d.driver_type==="JDBC"?s.jsx(ds,{className:"h-5 w-5 text-info"}):s.jsx(zs,{className:"h-5 w-5 text-success"}),s.jsx(re,{className:"text-base",children:d.name})]}),s.jsx(pe,{className:"text-xs",children:d.file_name})]}),s.jsxs(K,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Version:"}),s.jsx("span",{children:d.version})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{children:d.driver_type})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Size:"}),s.jsx("span",{children:d.size_bytes?`${Math.round(d.size_bytes/1024)} KB`:"N/A"})]})]}),s.jsx(q,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>a(d.id),children:"Remove"})]})]},d.id))})]}),s.jsx(ude,{open:o,onOpenChange:i,onDriverAdded:r}),s.jsx(hde,{open:l,onOpenChange:c,onDriverAdded:r})]})},pde=({jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a})=>s.jsx(mde,{jarFiles:e,isLoading:t,onRefresh:n,onJarFileAdded:r,onJarFileDeleted:a}),vb=(e={})=>{const[t,n]=h.useState([]),[r,a]=h.useState({adapters:[],channels:[],flows:[]}),[o,i]=h.useState(!1),[l,c]=h.useState(),d=async()=>{try{const p=await Bo.getAdapters();a({adapters:p.success?p.data?.adapters||[]:[],channels:[],flows:[]})}catch(p){console.error("Failed to fetch sources:",p)}},u=async()=>{i(!0),c(void 0);try{const p=new URLSearchParams;e.source&&p.append("source",e.source),e.sourceId&&p.append("sourceId",e.sourceId),e.sourceName&&p.append("sourceName",e.sourceName),e.level&&p.append("level",e.level),e.search&&p.append("search",e.search),e.startDate&&p.append("startDate",e.startDate),e.endDate&&p.append("endDate",e.endDate),e.domainType&&p.append("domainType",e.domainType),e.domainReferenceId&&p.append("domainReferenceId",e.domainReferenceId);const x=`/logs/system${p.toString()?`?${p.toString()}`:""}`,g=await ee.get(x);if(g.success&&g.data)n(g.data);else{const f=await Rm.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});n(f)}}catch{try{const x=await Rm.getFilteredLogs({source:e.source,sourceId:e.sourceId,level:e.level,search:e.search});n(x)}catch(x){c(x instanceof Error?x.message:"Failed to fetch logs"),n([])}}finally{i(!1)}},m=()=>{u()};return h.useEffect(()=>{d()},[]),h.useEffect(()=>{u()},[e.source,e.sourceId,e.level,e.search,e.startDate,e.endDate]),h.useEffect(()=>{if(e.autoRefresh){const p=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(p)}},[e.autoRefresh,e.refreshInterval]),h.useEffect(()=>Rm.onLogUpdate(()=>{u()}),[]),{logs:t,sources:r,loading:o,error:l,refetch:m}},Hi=e=>{const[t,n]=h.useState([]),[r,a]=h.useState(!1),[o,i]=h.useState(),{logs:l,loading:c,error:d}=vb({domainType:e.domainType,domainReferenceId:e.referenceId,autoRefresh:e.includeSystemLogs?e.autoRefresh:!1,refreshInterval:e.refreshInterval}),u=async()=>{a(!0),i(void 0);try{const p=new URLSearchParams;p.append("domainType",e.domainType),p.append("level","error"),e.referenceId&&p.append("domainReferenceId",e.referenceId);const x=`/logs/system?${p.toString()}`,g=await ee.get(x);g.success&&g.data?n(g.data):(n([]),console.log(`No domain errors found for ${e.domainType}`))}catch(p){n([]),i(`Failed to fetch domain errors for ${e.domainType}`),console.error(`Failed to fetch domain errors for ${e.domainType}:`,p)}finally{a(!1)}},m=()=>{u()};return h.useEffect(()=>{u()},[e.domainType,e.referenceId]),h.useEffect(()=>{if(e.autoRefresh){const p=setInterval(u,e.refreshInterval||3e4);return()=>clearInterval(p)}},[e.autoRefresh,e.refreshInterval]),{domainErrors:t||[],systemLogs:e.includeSystemLogs?l||[]:[],loading:r||(e.includeSystemLogs?c:!1),error:o||(e.includeSystemLogs?d:void 0),refetch:m}},fde=({logs:e,loading:t,error:n,selectedSource:r})=>{const[a,o]=h.useState(new Set),i=Array.isArray(e)?e:[],l=p=>{const x=new Set(a);x.has(p)?x.delete(p):x.add(p),o(x)},c=p=>{switch(p){case"error":return s.jsx(xt,{className:"h-4 w-4 text-destructive"});case"warn":return s.jsx(Sn,{className:"h-4 w-4 text-warning"});case"info":return s.jsx(ls,{className:"h-4 w-4 text-success"});default:return s.jsx(IC,{className:"h-4 w-4 text-muted-foreground"})}},d=p=>{switch(p){case"error":return s.jsx(ae,{variant:"destructive",children:"Error"});case"warn":return s.jsx(ae,{variant:"secondary",className:"text-warning",children:"Warning"});case"info":return s.jsx(ae,{variant:"outline",children:"Info"});case"debug":return s.jsx(ae,{variant:"secondary",children:"Debug"});default:return s.jsx(ae,{variant:"outline",children:p})}},u=(p,x)=>{const g=x||p;switch(p){case"adapter":return s.jsx(ae,{variant:"default",children:g});case"channel":return s.jsx(ae,{variant:"secondary",children:g});case"system":return s.jsx(ae,{variant:"outline",children:"System"});case"flow":return s.jsxs(ae,{variant:"default",children:["Flow: ",g]});case"api":return s.jsx(ae,{variant:"destructive",children:"API"});default:return s.jsx(ae,{variant:"outline",children:g})}},m=p=>new Date(p).toLocaleString();return t?s.jsx(W,{className:"bg-secondary border-border/50",children:s.jsx(K,{className:"p-8 text-center",children:s.jsx("div",{className:"animate-pulse",children:"Loading logs..."})})}):n?s.jsx(W,{className:"bg-secondary border-border/50",children:s.jsx(K,{className:"p-8 text-center",children:s.jsxs("div",{className:"text-destructive",children:["Error loading logs: ",n]})})}):e.length===0?s.jsx(W,{className:"bg-secondary border-border/50",children:s.jsx(K,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:r?"No logs found for the selected filters":"No system logs available"})})}):s.jsxs(W,{className:"bg-secondary border-border/50",children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(IC,{className:"h-5 w-5"}),"System Logs (",i.length,")"]})}),s.jsx(K,{children:s.jsx(pr,{className:"h-96",children:s.jsx("div",{className:"space-y-2",children:i.map(p=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-background/50",children:[s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c(p.level),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d(p.level),u(p.source,p.sourceName),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(rn,{className:"h-3 w-3"}),m(p.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.message}),p.details&&s.jsxs("div",{className:"mt-2",children:[s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>l(p.id),className:"text-xs",children:a.has(p.id)?"Hide Details":"Show Details"}),a.has(p.id)&&s.jsx("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:typeof p.details=="string"?p.details:JSON.stringify(p.details,null,2)})})]})]})]})}),p!==e[e.length-1]&&s.jsx(mt,{className:"mt-3"})]},p.id))})})})]})},yT={success:"text-success",error:"text-destructive",warning:"text-warning",info:"text-info",active:"text-primary",inactive:"text-muted-foreground",pending:"text-warning",processing:"text-info",debug:"text-muted-foreground",warn:"text-warning",critical:"text-destructive",default:"text-foreground",muted:"text-muted-foreground"},am=e=>yT[e]||yT.default,qi=({domainType:e,domainErrors:t,systemLogs:n,loading:r,error:a,referenceId:o,referenceName:i})=>{const[l,c]=h.useState(new Set),[d,u]=h.useState(new Set),m=v=>{const y=new Set(l);y.has(v)?y.delete(v):y.add(v),c(y)},p=v=>{const y=new Set(d);y.has(v)?y.delete(v):y.add(v),u(y)},x=v=>{const N={UserManagement:io,FlowEngine:Mu,AdapterManagement:ai,DataStructures:ds,ChannelManagement:At,MessageProcessing:zs}[v];return s.jsx(N,{className:"h-4 w-4"})},g=v=>{const y={Create:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Update:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Delete:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Test:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Deploy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},N=Object.keys(y).find(E=>v.includes(E))||"default",b=y[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return s.jsx(ae,{variant:"secondary",className:b,children:v})},f=v=>{const y=v.toLowerCase(),N=am(y==="error"?"error":y==="warn"?"warning":y==="info"?"info":"debug");switch(y){case"error":return s.jsx(jn,{className:`h-4 w-4 ${N}`});case"warn":return s.jsx(Sn,{className:`h-4 w-4 ${N}`});case"info":return s.jsx(ls,{className:`h-4 w-4 ${N}`});case"debug":return s.jsx(At,{className:`h-4 w-4 ${N}`});default:return s.jsx(ls,{className:`h-4 w-4 ${N}`})}},w=v=>new Date(v).toLocaleString(),j=v=>{try{const y=JSON.parse(v);return JSON.stringify(y,null,2)}catch{return v}};return r?s.jsx(W,{children:s.jsx(K,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading logs..."})})}):a?s.jsxs(Xe,{variant:"destructive",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx(Ge,{children:a})]}):s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[x(e),e," Logs",i&&s.jsx(ae,{variant:"outline",children:i})]})}),s.jsx(K,{children:s.jsxs(tt,{defaultValue:"errors",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-2",children:[s.jsxs(ue,{value:"errors",children:["User-Friendly Errors (",t?.length||0,")"]}),s.jsxs(ue,{value:"system",children:["System Logs (",n?.length||0,")"]})]}),s.jsx(de,{value:"errors",children:s.jsx(pr,{className:"h-[600px] w-full",children:!t||t.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No domain errors found."}):s.jsx("div",{className:"space-y-4",children:t.map(v=>s.jsx(W,{className:"border-l-4 border-l-red-500",children:s.jsx(K,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g(v.action),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(rn,{className:"h-3 w-3 inline mr-1"}),w(v.createdAt)]})]}),v.description&&s.jsx("p",{className:"text-sm font-medium",children:v.description}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>m(v.id),className:"h-6 px-2",children:[l.has(v.id)?s.jsx(cr,{className:"h-3 w-3"}):s.jsx(nn,{className:"h-3 w-3"}),"Show Details"]})}),l.has(v.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Request Payload:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:j(v.payload)})]}),v.systemLogId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"System Log ID:"}),s.jsx(ae,{variant:"outline",className:"text-xs",children:v.systemLogId})]})]})]})})})},v.id))})})}),s.jsx(de,{value:"system",children:s.jsx(pr,{className:"h-[600px] w-full",children:!n||n.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No system logs found."}):s.jsx("div",{className:"space-y-4",children:n.map(v=>s.jsx(W,{children:s.jsx(K,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(v.level),s.jsx(ae,{variant:v.level==="error"?"destructive":"secondary",children:(v.level||"info").toUpperCase()}),v.source&&s.jsx(ae,{variant:"outline",children:v.source}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.jsx(rn,{className:"h-3 w-3 inline mr-1"}),w(v.timestamp)]})]}),s.jsx("p",{className:"text-sm font-medium",children:v.message}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(q,{variant:"ghost",size:"sm",onClick:()=>p(v.id),className:"h-6 px-2",children:[d.has(v.id)?s.jsx(cr,{className:"h-3 w-3"}):s.jsx(nn,{className:"h-3 w-3"}),"Show Details"]})}),d.has(v.id)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t pt-3",children:[v.details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Details:"}),s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:typeof v.details=="string"?v.details:JSON.stringify(v.details,null,2)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[v.sourceName&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source Name:"}),s.jsx("p",{className:"text-muted-foreground",children:v.sourceName})]}),v.sourceId&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Source ID:"}),s.jsx("p",{className:"text-muted-foreground",children:v.sourceId})]})]})]})]})})})},v.id))})})})]})})]})};var _e=function(){return _e=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_e.apply(this,arguments)};function xde(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function G_(e,t,n){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function dh(e){return e.mode==="multiple"}function uh(e){return e.mode==="range"}function Ox(e){return e.mode==="single"}var gde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function vde(e,t){return xr(e,"LLLL y",t)}function yde(e,t){return xr(e,"d",t)}function jde(e,t){return xr(e,"LLLL",t)}function wde(e){return"".concat(e)}function Nde(e,t){return xr(e,"cccccc",t)}function bde(e,t){return xr(e,"yyyy",t)}var Sde=Object.freeze({__proto__:null,formatCaption:vde,formatDay:yde,formatMonthCaption:jde,formatWeekNumber:wde,formatWeekdayName:Nde,formatYearCaption:bde}),Cde=function(e,t,n){return xr(e,"do MMMM (EEEE)",n)},Ede=function(){return"Month: "},Tde=function(){return"Go to next month"},Pde=function(){return"Go to previous month"},Ade=function(e,t){return xr(e,"cccc",t)},kde=function(e){return"Week n. ".concat(e)},Rde=function(){return"Year: "},Mde=Object.freeze({__proto__:null,labelDay:Cde,labelMonthDropdown:Ede,labelNext:Tde,labelPrevious:Pde,labelWeekNumber:kde,labelWeekday:Ade,labelYearDropdown:Rde});function Dde(){var e="buttons",t=gde,n=xb,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:Sde,labels:Mde,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function Fde(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=tn(r):t&&(o=new Date(t,0,1)),a?i=Fx(a):n&&(i=new Date(n,11,31)),{fromDate:o?Ql(o):void 0,toDate:i?Ql(i):void 0}}var J_=h.createContext(void 0);function Ode(e){var t,n=e.initialProps,r=Dde(),a=Fde(n),o=a.fromDate,i=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(Ox(n)||dh(n)||uh(n))&&(c=n.onSelect);var d=_e(_e(_e({},r),n),{captionLayout:l,classNames:_e(_e({},r.classNames),n.classNames),components:_e({},n.components),formatters:_e(_e({},r.formatters),n.formatters),fromDate:o,labels:_e(_e({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:_e(_e({},r.modifiers),n.modifiers),modifiersClassNames:_e(_e({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:_e(_e({},r.styles),n.styles),toDate:i});return s.jsx(J_.Provider,{value:d,children:e.children})}function Ct(){var e=h.useContext(J_);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Q_(e){var t=Ct(),n=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function Ide(e){return s.jsx("svg",_e({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z_(e){var t,n,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=Ct(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:Ide;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:o}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Lde(e){var t,n=Ct(),r=n.fromDate,a=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(Xce(r,a))for(var p=tn(r),x=r.getMonth();x<=a.getMonth();x++)m.push(uv(p,x));else for(var p=tn(new Date),x=0;x<=11;x++)m.push(uv(p,x));var g=function(w){var j=Number(w.target.value),v=uv(tn(e.displayMonth),j);e.onChange(v)},f=(t=d?.Dropdown)!==null&&t!==void 0?t:Z_;return s.jsx(f,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(w){return s.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function _de(e){var t,n=e.displayMonth,r=Ct(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,p=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var x=a.getFullYear(),g=o.getFullYear(),f=x;f<=g;f++)p.push(vT($_(new Date),f));var w=function(v){var y=vT(tn(n),Number(v.target.value));e.onChange(y)},j=(t=d?.Dropdown)!==null&&t!==void 0?t:Z_;return s.jsx(j,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:u(n,{locale:i}),children:p.map(function(v){return s.jsx("option",{value:v.getFullYear(),children:u(v,{locale:i})},v.getFullYear())})})}function $de(e,t){var n=h.useState(e),r=n[0],a=n[1],o=t===void 0?r:t;return[o,a]}function Ude(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&ec(o,a)<0){var d=-1*(c-1);a=fr(o,d)}return i&&ec(a,i)<0&&(a=i),tn(a)}function Vde(){var e=Ct(),t=Ude(e),n=$de(t,e.month),r=n[0],a=n[1],o=function(i){var l;if(!e.disableNavigation){var c=tn(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function Bde(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=tn(e),o=tn(fr(a,r)),i=ec(o,a),l=[],c=0;c<i;c++){var d=fr(a,c);l.push(d)}return n&&(l=l.reverse()),l}function Hde(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=tn(e);if(!n)return fr(l,i);var c=ec(n,e);if(!(c<o))return fr(l,i)}}function qde(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=tn(e);if(!n)return fr(l,-i);var c=ec(l,n);if(!(c<=0))return fr(l,-i)}}var e$=h.createContext(void 0);function zde(e){var t=Ct(),n=Vde(),r=n[0],a=n[1],o=Bde(r,t),i=Hde(r,t),l=qde(r,t),c=function(m){return o.some(function(p){return gb(m,p)})},d=function(m,p){c(m)||(p&&W_(m,p)?a(fr(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return s.jsx(e$.Provider,{value:u,children:e.children})}function hh(){var e=h.useContext(e$);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function jT(e){var t,n=Ct(),r=n.classNames,a=n.styles,o=n.components,i=hh().goToMonth,l=function(u){i(fr(u,e.displayIndex?-e.displayIndex:0))},c=(t=o?.CaptionLabel)!==null&&t!==void 0?t:Q_,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(Lde,{onChange:l,displayMonth:e.displayMonth}),s.jsx(_de,{onChange:l,displayMonth:e.displayMonth})]})}function Wde(e){return s.jsx("svg",_e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Kde(e){return s.jsx("svg",_e({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Zp=h.forwardRef(function(e,t){var n=Ct(),r=n.classNames,a=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=_e(_e({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",_e({},e,{ref:t,type:"button",className:i,style:l}))});function Yde(e){var t,n,r=Ct(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var p=d(e.previousMonth,{locale:o}),x=[i.nav_button,i.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:o}),f=[i.nav_button,i.nav_button_next].join(" "),w=(t=m?.IconRight)!==null&&t!==void 0?t:Kde,j=(n=m?.IconLeft)!==null&&n!==void 0?n:Wde;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Zp,{name:"previous-month","aria-label":p,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(w,{className:i.nav_icon,style:l.nav_icon}):s.jsx(j,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Zp,{name:"next-month","aria-label":g,className:f,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(j,{className:i.nav_icon,style:l.nav_icon}):s.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function wT(e){var t=Ct().numberOfMonths,n=hh(),r=n.previousMonth,a=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(g){return gb(e.displayMonth,g)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){r&&o(r)},x=function(){a&&o(a)};return s.jsx(Yde,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:p,onNextClick:x})}function Xde(e){var t,n=Ct(),r=n.classNames,a=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:Q_,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=s.jsx(jT,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(jT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(wT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(wT,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:o.caption,children:d})}function Gde(e){var t=Ct(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function Jde(e,t,n){for(var r=n?yi(new Date):$r(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=As(r,o);a.push(i)}return a}function Qde(){var e=Ct(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Jde(a,o,i);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function Zde(){var e,t=Ct(),n=t.classNames,r=t.styles,a=t.components,o=(e=a?.HeadRow)!==null&&e!==void 0?e:Qde;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(o,{})})}function eue(e){var t=Ct(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var yb=h.createContext(void 0);function tue(e){if(!dh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(yb.Provider,{value:t,children:e.children})}return s.jsx(sue,{initialProps:e.initialProps,children:e.children})}function sue(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,o=t.max,i=function(d,u,m){var p,x;(p=t.onDayClick)===null||p===void 0||p.call(t,d,u,m);var g=!!(u.selected&&a&&r?.length===a);if(!g){var f=!!(!u.selected&&o&&r?.length===o);if(!f){var w=r?G_([],r):[];if(u.selected){var j=w.findIndex(function(v){return Ys(d,v)});w.splice(j,1)}else w.push(d);(x=t.onSelect)===null||x===void 0||x.call(t,w,d,u,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=o&&r.length>o-1,m=r.some(function(p){return Ys(p,d)});return!!(u&&!m)});var c={selected:r,onDayClick:i,modifiers:l};return s.jsx(yb.Provider,{value:c,children:n})}function jb(){var e=h.useContext(yb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function nue(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Ys(a,e)&&Ys(r,e)?void 0:Ys(a,e)?{from:a,to:void 0}:Ys(r,e)?void 0:qj(r,e)?{from:e,to:a}:{from:r,to:e}:a?qj(e,a)?{from:a,to:e}:{from:e,to:a}:r?W_(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var wb=h.createContext(void 0);function rue(e){if(!uh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(wb.Provider,{value:t,children:e.children})}return s.jsx(aue,{initialProps:e.initialProps,children:e.children})}function aue(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(x,g,f){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,x,g,f);var v=nue(x,r);(j=t.onSelect)===null||j===void 0||j.call(t,v,x,g,f)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],Ys(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:dv(o,l-1),before:As(o,l-1)}),o&&i&&u.disabled.push({after:o,before:As(o,l-1)}),!o&&i&&u.disabled.push({after:dv(i,l-1),before:As(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:As(o,-c+1)}),u.disabled.push({after:As(o,c-1)})),o&&i){var m=kr(i,o)+1,p=c-m;u.disabled.push({before:dv(o,p)}),u.disabled.push({after:As(i,p)})}!o&&i&&(u.disabled.push({before:As(i,-c+1)}),u.disabled.push({after:As(i,c-1)}))}return s.jsx(wb.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function Nb(){var e=h.useContext(wb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Um(e){return Array.isArray(e)?G_([],e):e!==void 0?[e]:[]}function oue(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=Um(a)}),t}var gr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(gr||(gr={}));var iue=gr.Selected,Jr=gr.Disabled,lue=gr.Hidden,cue=gr.Today,hv=gr.RangeEnd,mv=gr.RangeMiddle,pv=gr.RangeStart,due=gr.Outside;function uue(e,t,n){var r,a=(r={},r[iue]=Um(e.selected),r[Jr]=Um(e.disabled),r[lue]=Um(e.hidden),r[cue]=[e.today],r[hv]=[],r[mv]=[],r[pv]=[],r[due]=[],r);return e.fromDate&&a[Jr].push({before:e.fromDate}),e.toDate&&a[Jr].push({after:e.toDate}),dh(e)?a[Jr]=a[Jr].concat(t.modifiers[Jr]):uh(e)&&(a[Jr]=a[Jr].concat(n.modifiers[Jr]),a[pv]=n.modifiers[pv],a[mv]=n.modifiers[mv],a[hv]=n.modifiers[hv]),a}var t$=h.createContext(void 0);function hue(e){var t=Ct(),n=jb(),r=Nb(),a=uue(t,n,r),o=oue(t.modifiers),i=_e(_e({},a),o);return s.jsx(t$.Provider,{value:i,children:e.children})}function s$(){var e=h.useContext(t$);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function mue(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function pue(e){return!!(e&&typeof e=="object"&&"from"in e)}function fue(e){return!!(e&&typeof e=="object"&&"after"in e)}function xue(e){return!!(e&&typeof e=="object"&&"before"in e)}function gue(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function vue(e,t){var n,r=t.from,a=t.to;if(r&&a){var o=kr(a,r)<0;o&&(n=[a,r],r=n[0],a=n[1]);var i=kr(e,r)>=0&&kr(a,e)>=0;return i}return a?Ys(a,e):r?Ys(r,e):!1}function yue(e){return pb(e)}function jue(e){return Array.isArray(e)&&e.every(pb)}function wue(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(yue(n))return Ys(e,n);if(jue(n))return n.includes(e);if(pue(n))return vue(e,n);if(gue(n))return n.dayOfWeek.includes(e.getDay());if(mue(n)){var r=kr(n.before,e),a=kr(n.after,e),o=r>0,i=a<0,l=qj(n.before,n.after);return l?i&&o:o||i}return fue(n)?kr(e,n.after)>0:xue(n)?kr(n.before,e)>0:typeof n=="function"?n(e):!1})}function bb(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return wue(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),n&&!gb(e,n)&&(a.outside=!0),a}function Nue(e,t){for(var n=tn(e[0]),r=Fx(e[e.length-1]),a,o,i=n;i<=r;){var l=bb(i,t),c=!l.disabled&&!l.hidden;if(!c){i=As(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=As(i,1)}return o||a}var bue=365;function n$(e,t){var n=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,p={day:As,week:Hj,month:fr,year:Lle,startOfWeek:function(w){return a.ISOWeek?yi(w):$r(w,{locale:m,weekStartsOn:c})},endOfWeek:function(w){return a.ISOWeek?U_(w):fb(w,{locale:m,weekStartsOn:c})}},x=p[n](e,r==="after"?1:-1);r==="before"&&d?x=_le([d,x]):r==="after"&&u&&(x=$le([u,x]));var g=!0;if(o){var f=bb(x,o);g=!f.disabled&&!f.hidden}return g?x:l.count>bue?l.lastFocused:n$(x,{moveBy:n,direction:r,context:a,modifiers:o,retry:_e(_e({},l),{count:l.count+1})})}var r$=h.createContext(void 0);function Sue(e){var t=hh(),n=s$(),r=h.useState(),a=r[0],o=r[1],i=h.useState(),l=i[0],c=i[1],d=Nue(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),o(void 0)},p=function(w){o(w)},x=Ct(),g=function(w,j){if(a){var v=n$(a,{moveBy:w,direction:j,context:x,modifiers:n});Ys(a,v)||(t.goToDate(v,a),p(v))}},f={focusedDay:a,focusTarget:u,blur:m,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(r$.Provider,{value:f,children:e.children})}function Sb(){var e=h.useContext(r$);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Cue(e,t){var n=s$(),r=bb(e,n,t);return r}var Cb=h.createContext(void 0);function Eue(e){if(!Ox(e.initialProps)){var t={selected:void 0};return s.jsx(Cb.Provider,{value:t,children:e.children})}return s.jsx(Tue,{initialProps:e.initialProps,children:e.children})}function Tue(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return s.jsx(Cb.Provider,{value:a,children:n})}function a$(){var e=h.useContext(Cb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Pue(e,t){var n=Ct(),r=a$(),a=jb(),o=Nb(),i=Sb(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,p=i.focus,x=i.focusMonthBefore,g=i.focusMonthAfter,f=i.focusYearBefore,w=i.focusYearAfter,j=i.focusStartOfWeek,v=i.focusEndOfWeek,y=function(R){var D,$,V,B;Ox(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,R):dh(n)?($=a.onDayClick)===null||$===void 0||$.call(a,e,t,R):uh(n)?(V=o.onDayClick)===null||V===void 0||V.call(o,e,t,R):(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,R)},N=function(R){var D;p(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,R)},b=function(R){var D;m(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,R)},E=function(R){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,R)},S=function(R){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,R)},A=function(R){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,R)},O=function(R){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,R)},I=function(R){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,R)},F=function(R){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,R)},L=function(R){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,R)},U=function(R){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,R)},k=function(R){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,R)},P=function(R){var D;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),d();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),u();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?f():x();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?w():g();break;case"Home":R.preventDefault(),R.stopPropagation(),j();break;case"End":R.preventDefault(),R.stopPropagation(),v();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,R)},T={onClick:y,onFocus:N,onBlur:b,onKeyDown:P,onKeyUp:k,onMouseEnter:E,onMouseLeave:S,onPointerEnter:A,onPointerLeave:O,onTouchCancel:I,onTouchEnd:F,onTouchMove:L,onTouchStart:U};return T}function Aue(){var e=Ct(),t=a$(),n=jb(),r=Nb(),a=Ox(e)?t.selected:dh(e)?n.selected:uh(e)?r.selected:void 0;return a}function kue(e){return Object.values(gr).includes(e)}function Rue(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(kue(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function Mue(e,t){var n=_e({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=_e(_e({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Due(e,t,n){var r,a,o,i=Ct(),l=Sb(),c=Cue(e,t),d=Pue(e,c),u=Aue(),m=!!(i.onDayClick||i.mode!=="default");h.useEffect(function(){var E;c.outside||l.focusedDay&&m&&Ys(l.focusedDay,e)&&((E=n.current)===null||E===void 0||E.focus())},[l.focusedDay,e,n,m,c.outside]);var p=Rue(i,c).join(" "),x=Mue(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),f=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:eue,w=s.jsx(f,{date:e,displayMonth:t,activeModifiers:c}),j={style:x,className:p,children:w,role:"gridcell"},v=l.focusTarget&&Ys(l.focusTarget,e)&&!c.outside,y=l.focusedDay&&Ys(l.focusedDay,e),N=_e(_e(_e({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=y||v?0:-1,r)),d),b={isButton:m,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:j};return b}function Fue(e){var t=h.useRef(null),n=Due(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Zp,_e({name:"day",ref:t},n.buttonProps)):s.jsx("div",_e({},n.divProps))}function Oue(e){var t=e.number,n=e.dates,r=Ct(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=c(Number(t),{locale:l}),p=function(x){a(t,n,x)};return s.jsx(Zp,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:p,children:u})}function Iue(e){var t,n,r=Ct(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l?.Day)!==null&&t!==void 0?t:Fue,d=(n=l?.WeekNumber)!==null&&n!==void 0?n:Oue,u;return i&&(u=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},Wce(m))})]})}function NT(e,t,n){for(var r=n?.ISOWeek?U_(t):fb(t,n),a=n?.ISOWeek?yi(e):$r(e,n),o=kr(r,a),i=[],l=0;l<=o;l++)i.push(As(a,l));var c=i.reduce(function(d,u){var m=n?.ISOWeek?V_(u):H_(u,n),p=d.find(function(x){return x.weekNumber===m});return p?(p.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function Lue(e,t){var n=NT(tn(e),Fx(e),t);if(t?.useFixedWeeks){var r=Yce(e,t);if(r<6){var a=n[n.length-1],o=a.dates[a.dates.length-1],i=Hj(o,6-r),l=NT(Hj(o,1),i,t);n.push.apply(n,l)}}return n}function _ue(e){var t,n,r,a=Ct(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,p=a.firstWeekContainsDate,x=a.ISOWeek,g=Lue(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:x,locale:o,weekStartsOn:m,firstWeekContainsDate:p}),f=(t=u?.Head)!==null&&t!==void 0?t:Zde,w=(n=u?.Row)!==null&&n!==void 0?n:Iue,j=(r=u?.Footer)!==null&&r!==void 0?r:Gde;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(f,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(v){return s.jsx(w,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),s.jsx(j,{displayMonth:e.displayMonth})]})}function $ue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Uue=$ue()?h.useLayoutEffect:h.useEffect,fv=!1,Vue=0;function bT(){return"react-day-picker-".concat(++Vue)}function Bue(e){var t,n=e??(fv?bT():null),r=h.useState(n),a=r[0],o=r[1];return Uue(function(){a===null&&o(bT())},[]),h.useEffect(function(){fv===!1&&(fv=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Hue(e){var t,n,r=Ct(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,c=hh().displayMonths,d=Bue(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],p=i.month,x=e.displayIndex===0,g=e.displayIndex===c.length-1,f=!x&&!g;a==="rtl"&&(t=[x,g],g=t[0],x=t[1]),x&&(m.push(o.caption_start),p=_e(_e({},p),i.caption_start)),g&&(m.push(o.caption_end),p=_e(_e({},p),i.caption_end)),f&&(m.push(o.caption_between),p=_e(_e({},p),i.caption_between));var w=(n=l?.Caption)!==null&&n!==void 0?n:Xde;return s.jsxs("div",{className:m.join(" "),style:p,children:[s.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(_ue,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function que(e){var t=Ct(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function zue(e){var t,n,r=e.initialProps,a=Ct(),o=Sb(),i=hh(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=_e(_e({},a.styles.root),a.style),p=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,f){var w;return _e(_e({},g),(w={},w[f]=r[f],w))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:que;return s.jsx("div",_e({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:s.jsx(x,{children:i.displayMonths.map(function(g,f){return s.jsx(Hue,{displayIndex:f,displayMonth:g},f)})})}))}function Wue(e){var t=e.children,n=xde(e,["children"]);return s.jsx(Ode,{initialProps:n,children:s.jsx(zde,{children:s.jsx(Eue,{initialProps:n,children:s.jsx(tue,{initialProps:n,children:s.jsx(rue,{initialProps:n,children:s.jsx(hue,{children:s.jsx(Sue,{children:t})})})})})})})}function Kue(e){return s.jsx(Wue,_e({},e,{children:s.jsx(zue,{initialProps:e})}))}function Yj({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Kue,{showOutsideDays:n,className:ne("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ne(Gd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ne(Gd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(_k,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(nn,{className:"h-4 w-4"})},...r})}Yj.displayName="Calendar";const Yue=({onFilterChange:e})=>{const[t,n]=h.useState(),[r,a]=h.useState(),o=()=>{e({dateRange:{start:t?.toISOString(),end:r?.toISOString()}})},i=()=>{n(void 0),a(void 0),e({dateRange:{}})},l=c=>{const d=new Date,u=new Date;u.setDate(d.getDate()-c),n(u),a(d),e({dateRange:{start:u.toISOString(),end:d.toISOString()}})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(C,{className:"text-sm font-medium",children:"Date Range:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(1),children:"Last 24h"}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(7),children:"Last 7d"}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>l(30),children:"Last 30d"}),(t||r)&&s.jsx(q,{variant:"ghost",size:"sm",onClick:i,children:s.jsx(Nt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-sm",children:"Start Date"}),s.jsxs(Dj,{children:[s.jsx(Fj,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:ne("w-[200px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(kC,{className:"mr-2 h-4 w-4"}),t?xr(t,"PPP"):"Pick start date"]})}),s.jsx(Xp,{className:"w-auto p-0",align:"start",children:s.jsx(Yj,{mode:"single",selected:t,onSelect:c=>{n(c),c&&r&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-sm",children:"End Date"}),s.jsxs(Dj,{children:[s.jsx(Fj,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:ne("w-[200px] justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[s.jsx(kC,{className:"mr-2 h-4 w-4"}),r?xr(r,"PPP"):"Pick end date"]})}),s.jsx(Xp,{className:"w-auto p-0",align:"start",children:s.jsx(Yj,{mode:"single",selected:r,onSelect:c=>{a(c),t&&c&&o()},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]})]})]})},Xue=({adapterId:e})=>{const[t,n]=h.useState(!1),[r,a]=h.useState("csv"),[o,i]=h.useState(!1),{logs:l}=vb({sourceId:e}),{toast:c}=He(),d=async()=>{if(!e){c({title:"No Adapter Selected",description:"Please select an adapter to export logs.",variant:"destructive"});return}i(!0);try{let u,m,p;if(r==="csv"){const w=["Timestamp","Level","Message","Details"],j=l.map(v=>[v.timestamp,v.level,`"${v.message.replace(/"/g,'""')}"`,v.details?`"${JSON.stringify(v.details).replace(/"/g,'""')}"`:""]);u=[w.join(","),...j.map(v=>v.join(","))].join(`
`),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.csv`,p="text/csv"}else u=JSON.stringify(l,null,2),m=`adapter-logs-${e}-${new Date().toISOString().split("T")[0]}.json`,p="application/json";const x=new Blob([u],{type:p}),g=URL.createObjectURL(x),f=document.createElement("a");f.href=g,f.download=m,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(g),c({title:"Export Successful",description:`Logs exported as ${m}`}),n(!1)}catch{c({title:"Export Failed",description:"An error occurred while exporting logs.",variant:"destructive"})}finally{i(!1)}};return s.jsxs(dt,{open:t,onOpenChange:n,children:[s.jsx(eh,{asChild:!0,children:s.jsxs(q,{variant:"outline",size:"sm",className:"hover-scale",children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Export"]})}),s.jsxs(ot,{children:[s.jsx(ut,{children:s.jsx(ht,{children:"Export Adapter Logs"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),s.jsxs(G,{value:r,onValueChange:u=>a(u),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"csv",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"h-4 w-4"}),"CSV Format"]})}),s.jsx(M,{value:"json",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bN,{className:"h-4 w-4"}),"JSON Format"]})})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["This will export ",l.length," log entries from the currently selected adapter and filters."]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(q,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(q,{onClick:d,disabled:o||!e,children:o?"Exporting...":"Export"})]})]})]})]})},Gue=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState({}),[u,m]=h.useState("system"),{logs:p,loading:x,error:g,refetch:f,sources:w}=vb({source:e||void 0,sourceId:n||void 0,level:a||void 0,search:i,startDate:c.start,endDate:c.end}),j=Hi({domainType:"UserManagement",includeSystemLogs:!1}),v=Hi({domainType:"FlowEngine",includeSystemLogs:!1}),y=Hi({domainType:"AdapterManagement",includeSystemLogs:!1}),N=Hi({domainType:"DataStructures",includeSystemLogs:!1}),b=Hi({domainType:"ChannelManagement",includeSystemLogs:!1}),E=Hi({domainType:"MessageProcessing",includeSystemLogs:!1}),S=()=>{f(),j.refetch(),v.refetch(),y.refetch(),N.refetch(),b.refetch(),E.refetch()},A=O=>{o(O.level),d(O.dateRange)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(qd,{className:"h-7 w-7"}),"System Logs"]}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze all system logs including errors, adapters, channels, and flows"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Xue,{adapterId:n}),s.jsxs(q,{variant:"outline",size:"sm",onClick:S,className:"hover-scale",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(W,{className:"bg-gradient-secondary border-border/50",children:[s.jsx(te,{children:s.jsxs(re,{className:"text-lg flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Filters"]})}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Source Type"}),s.jsxs(G,{value:e,onValueChange:O=>t(O),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All sources"})}),s.jsxs(X,{children:[s.jsx(M,{value:"system",children:"System"}),s.jsx(M,{value:"adapter",children:"Adapters"}),s.jsx(M,{value:"channel",children:"Channels"}),s.jsx(M,{value:"flow",children:"Flows"}),s.jsx(M,{value:"api",children:"API"})]})]})]}),e&&e!=="system"&&e!=="api"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Specific Source"}),s.jsxs(G,{value:n,onValueChange:r,children:[s.jsx(Y,{children:s.jsx(J,{placeholder:`Select ${e}`})}),s.jsxs(X,{children:[e==="adapter"&&w.adapters.map(O=>s.jsx(M,{value:O.id,children:O.name},O.id)),e==="channel"&&w.channels.map(O=>s.jsx(M,{value:O.id,children:O.name},O.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Log Level"}),s.jsxs(G,{value:a,onValueChange:O=>o(O),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"All levels"})}),s.jsxs(X,{children:[s.jsx(M,{value:"debug",children:"Debug"}),s.jsx(M,{value:"info",children:"Info"}),s.jsx(M,{value:"warn",children:"Warning"}),s.jsx(M,{value:"error",children:"Error"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search logs...",value:i,onChange:O=>l(O.target.value),className:"pl-10"})]})]})]}),s.jsx(Yue,{onFilterChange:A})]})]}),p.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-bold",children:p.length})]}),s.jsx(ae,{variant:"outline",children:"24h"})]})})}),s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:p.filter(O=>O.level==="error").length})]}),s.jsx(ae,{variant:"destructive",children:"Error"})]})})}),s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),s.jsx("p",{className:"text-2xl font-bold text-warning",children:p.filter(O=>O.level==="warn").length})]}),s.jsx(ae,{variant:"secondary",children:"Warning"})]})})}),s.jsx(W,{className:"bg-gradient-secondary border-border/50",children:s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Info"}),s.jsx("p",{className:"text-2xl font-bold text-success",children:p.filter(O=>O.level==="info").length})]}),s.jsx(ae,{variant:"outline",children:"Info"})]})})})]}),s.jsxs(tt,{value:u,onValueChange:m,children:[s.jsxs(Je,{className:"grid w-full grid-cols-7",children:[s.jsxs(ue,{value:"system",className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4"}),"System Logs"]}),s.jsxs(ue,{value:"user",className:"flex items-center gap-2",children:[s.jsx(io,{className:"h-4 w-4"}),"Users"]}),s.jsxs(ue,{value:"flow",className:"flex items-center gap-2",children:[s.jsx(Mu,{className:"h-4 w-4"}),"Flows"]}),s.jsxs(ue,{value:"adapter",className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-4 w-4"}),"Adapters"]}),s.jsxs(ue,{value:"structure",className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-4 w-4"}),"Structures"]}),s.jsxs(ue,{value:"channel",className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Channels"]}),s.jsxs(ue,{value:"message",className:"flex items-center gap-2",children:[s.jsx(zs,{className:"h-4 w-4"}),"Messages"]})]}),s.jsx(de,{value:"system",children:s.jsx(fde,{logs:p,loading:x,error:g,selectedSource:e})}),s.jsx(de,{value:"user",children:s.jsx(qi,{domainType:"UserManagement",domainErrors:j.domainErrors,systemLogs:j.systemLogs,loading:j.loading,error:j.error})}),s.jsx(de,{value:"flow",children:s.jsx(qi,{domainType:"FlowEngine",domainErrors:v.domainErrors,systemLogs:v.systemLogs,loading:v.loading,error:v.error})}),s.jsx(de,{value:"adapter",children:s.jsx(qi,{domainType:"AdapterManagement",domainErrors:y.domainErrors,systemLogs:y.systemLogs,loading:y.loading,error:y.error})}),s.jsx(de,{value:"structure",children:s.jsx(qi,{domainType:"DataStructures",domainErrors:N.domainErrors,systemLogs:N.systemLogs,loading:N.loading,error:N.error})}),s.jsx(de,{value:"channel",children:s.jsx(qi,{domainType:"ChannelManagement",domainErrors:b.domainErrors,systemLogs:b.systemLogs,loading:b.loading,error:b.error})}),s.jsx(de,{value:"message",children:s.jsx(qi,{domainType:"MessageProcessing",domainErrors:E.domainErrors,systemLogs:E.systemLogs,loading:E.loading,error:E.error})})]})]})},Jue=[{value:"FILE_TRANSFER",label:"File Transfer"},{value:"MESSAGING",label:"Messaging"},{value:"DATABASE",label:"Database"},{value:"WEB_SERVICE",label:"Web Service"},{value:"MAIL",label:"Mail"},{value:"OTHER",label:"Other"}],ST=[{value:"network",icon:ai},{value:"shield",icon:ws},{value:"folder",icon:Uk},{value:"message-square",icon:zs},{value:"database",icon:ds},{value:"globe",icon:Pr},{value:"mail",icon:Au},{value:"file-text",icon:Vs},{value:"cpu",icon:m8},{value:"activity",icon:ic},{value:"cloud",icon:d8},{value:"inbox",icon:Bk},{value:"download",icon:ao},{value:"hard-drive",icon:Vk},{value:"zap",icon:wn}],Que=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(null),{toast:c}=He(),[d,u]=h.useState({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""});h.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const v=await fetch("/api/admin/adapter-types");if(v.ok){const y=await v.json();t(y||[])}else if(v.status===404)t([]);else throw new Error("Failed to fetch adapter types")}catch(v){console.log("API not available yet, starting with empty data:",v),t([])}finally{r(!1)}},p=async v=>{v.preventDefault();try{const y={...d,configurationSchema:d.configurationSchema?JSON.parse(d.configurationSchema):null},N=i?`/api/admin/adapter-types/${i.id}`:"/api/admin/adapter-types";if((await fetch(N,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)c({title:"Success",description:`Adapter type ${i?"updated":"created"} successfully`}),o(!1),f(),m();else throw new Error(`Failed to ${i?"update":"create"} adapter type`)}catch(y){c({title:"Error",description:`Failed to ${i?"update":"create"} adapter type`,variant:"destructive"}),console.error("Error saving adapter type:",y)}},x=v=>{l(v),u({name:v.name,displayName:v.displayName,description:v.description,category:v.category,iconName:v.iconName,isActive:v.isActive,supportsSender:v.supportsSender,supportsReceiver:v.supportsReceiver,configurationSchema:v.configurationSchema?JSON.stringify(v.configurationSchema,null,2):""}),o(!0)},g=async v=>{if(confirm("Are you sure you want to delete this adapter type?"))try{if((await fetch(`/api/admin/adapter-types/${v}`,{method:"DELETE"})).ok)c({title:"Success",description:"Adapter type deleted successfully"}),m();else throw new Error("Failed to delete adapter type")}catch(y){c({title:"Error",description:"Failed to delete adapter type",variant:"destructive"}),console.error("Error deleting adapter type:",y)}},f=()=>{u({name:"",displayName:"",description:"",category:"",iconName:"network",isActive:!0,supportsSender:!0,supportsReceiver:!0,configurationSchema:""}),l(null)},w=v=>{const y=ST.find(N=>N.value===v);return y?y.icon:ai},j=v=>{const y={FILE_TRANSFER:"bg-blue-100 text-info",MESSAGING:"bg-green-100 text-success",DATABASE:"bg-purple-100 text-primary",WEB_SERVICE:"bg-orange-100 text-warning",MAIL:"bg-red-100 text-destructive",OTHER:"bg-gray-100 text-muted-foreground"};return y[v]||y.OTHER};return s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Adapter Types Management"}),s.jsx(pe,{children:"Manage available adapter types for communication channels"})]}),s.jsxs(dt,{open:a,onOpenChange:o,children:[s.jsx(eh,{asChild:!0,children:s.jsxs(q,{onClick:f,children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Adapter Type"]})}),s.jsxs(ot,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ut,{children:[s.jsx(ht,{children:i?"Edit Adapter Type":"Add New Adapter Type"}),s.jsx(Fs,{children:"Configure the adapter type settings and capabilities"})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"name",children:"Name (Internal)*"}),s.jsx(_,{id:"name",value:d.name,onChange:v=>u({...d,name:v.target.value}),placeholder:"e.g., sftp, rest, jms",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"displayName",children:"Display Name*"}),s.jsx(_,{id:"displayName",value:d.displayName,onChange:v=>u({...d,displayName:v.target.value}),placeholder:"e.g., SFTP Adapter, REST API",required:!0})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",value:d.description,onChange:v=>u({...d,description:v.target.value}),placeholder:"Brief description of the adapter type",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"category",children:"Category*"}),s.jsxs(G,{value:d.category,onValueChange:v=>u({...d,category:v}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select category"})}),s.jsx(X,{children:Jue.map(v=>s.jsx(M,{value:v.value,children:v.label},v.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"iconName",children:"Icon"}),s.jsxs(G,{value:d.iconName,onValueChange:v=>u({...d,iconName:v}),children:[s.jsx(Y,{children:s.jsx(J,{placeholder:"Select icon"})}),s.jsx(X,{children:ST.map(v=>{const y=v.icon;return s.jsx(M,{value:v.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y,{className:"h-4 w-4"}),v.value]})},v.value)})})]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"isActive",checked:d.isActive,onCheckedChange:v=>u({...d,isActive:v===!0})}),s.jsx(C,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"supportsSender",checked:d.supportsSender,onCheckedChange:v=>u({...d,supportsSender:v===!0})}),s.jsx(C,{htmlFor:"supportsSender",children:"Supports Sender"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{id:"supportsReceiver",checked:d.supportsReceiver,onCheckedChange:v=>u({...d,supportsReceiver:v===!0})}),s.jsx(C,{htmlFor:"supportsReceiver",children:"Supports Receiver"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"configurationSchema",children:"Configuration Schema (JSON)"}),s.jsx(Ee,{id:"configurationSchema",value:d.configurationSchema,onChange:v=>u({...d,configurationSchema:v.target.value}),placeholder:"Optional JSON schema for adapter configuration",rows:6,className:"font-mono text-sm"})]}),s.jsxs(mr,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(q,{type:"submit",children:[i?"Update":"Create"," Adapter Type"]})]})]})]})]})]})}),s.jsx(K,{children:n?s.jsx("div",{className:"text-center py-8",children:"Loading adapter types..."}):e.length===0?s.jsx(Co,{icon:ai,title:"No adapter types found",description:"Create custom adapter types to extend the platform with new integration capabilities.",action:{label:"Add Adapter Type",onClick:()=>{}}}):s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Icon"}),s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Category"}),s.jsx(Ne,{children:"Support"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:e.map(v=>{const y=w(v.iconName);return s.jsxs(wt,{children:[s.jsx(ye,{children:s.jsx(y,{className:"h-5 w-5"})}),s.jsx(ye,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v.displayName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.name})]})}),s.jsx(ye,{children:s.jsx(ae,{className:j(v.category),children:v.category.replace("_"," ")})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-1",children:[v.supportsSender&&s.jsx(ae,{variant:"outline",className:"text-xs",children:"Sender"}),v.supportsReceiver&&s.jsx(ae,{variant:"outline",className:"text-xs",children:"Receiver"})]})}),s.jsx(ye,{children:s.jsx(ae,{variant:v.isActive?"default":"secondary",children:v.isActive?"Active":"Inactive"})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>x(v),children:s.jsx(P8,{className:"h-4 w-4"})}),s.jsx(q,{variant:"outline",size:"sm",onClick:()=>g(v.id),children:s.jsx(Rn,{className:"h-4 w-4"})})]})})]},v.id)})})]})})]})},Zue=()=>{const{toast:e}=He(),[t,n]=h.useState(null),[r,a]=h.useState(null),[o,i]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(!1),m=async()=>{try{i(!0);const w=await ee.get("/admin/system-configuration/environment");w.success&&w.data?(n(w.data),a(w.data),u(!1)):e({title:"Error",description:"Failed to load environment configuration",variant:"destructive"})}catch(w){console.error("Error fetching environment configuration:",w),e({title:"Error",description:"Error loading environment configuration",variant:"destructive"})}finally{i(!1)}},p=async()=>{if(t)try{if(c(!0),!(await ee.put("/admin/system-configuration/environment/type",{environmentType:t.environmentType})).success){e({title:"Error",description:"Failed to update environment type",variant:"destructive"});return}if(!(await ee.put("/admin/system-configuration/environment/enforce-restrictions",{enforceRestrictions:t.enforceRestrictions})).success){e({title:"Error",description:"Failed to update enforce restrictions",variant:"destructive"});return}if(!(await ee.put("/admin/system-configuration/environment/restriction-message",{restrictionMessage:t.restrictionMessage})).success){e({title:"Error",description:"Failed to update restriction message",variant:"destructive"});return}e({title:"Success",description:"Environment configuration saved successfully"}),a(t),u(!1),setTimeout(()=>{window.location.reload()},1500)}catch(w){console.error("Error saving environment configuration:",w),e({title:"Error",description:"Error saving environment configuration",variant:"destructive"})}finally{c(!1)}},x=w=>{if(!t)return;const j={...t,...w};n(j);const v=JSON.stringify(j)!==JSON.stringify(r);u(v)},g=w=>{switch(w){case"DEVELOPMENT":return{color:"text-info",bgColor:"bg-blue-100",label:"Development"};case"QUALITY_ASSURANCE":return{color:"text-warning",bgColor:"bg-yellow-100",label:"Quality Assurance"};case"PRODUCTION":return{color:"text-destructive",bgColor:"bg-red-100",label:"Production"};default:return{color:"text-muted-foreground",bgColor:"bg-gray-100",label:"Unknown"}}};if(h.useEffect(()=>{m()},[]),o)return s.jsx(W,{children:s.jsx(K,{className:"flex items-center justify-center h-64",children:s.jsx(vt,{className:"h-8 w-8 animate-spin"})})});if(!t)return s.jsx(W,{children:s.jsx(K,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Failed to load configuration"}),s.jsx(q,{variant:"outline",size:"sm",onClick:m,className:"mt-2",children:"Retry"})]})})});const f=g(t.environmentType);return s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5"}),"Environment Configuration"]}),s.jsx(pe,{children:"Configure the system environment type and restrictions"})]}),s.jsx(ae,{className:`${f.bgColor} ${f.color}`,children:f.label})]})}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"environment-type",children:"Environment Type"}),s.jsxs(G,{value:t.environmentType,onValueChange:w=>x({environmentType:w}),children:[s.jsx(Y,{id:"environment-type",children:s.jsx(J,{})}),s.jsx(X,{children:t.availableTypes.map(w=>{const j=g(w);return s.jsx(M,{value:w,children:s.jsx("span",{className:j.color,children:j.label})},w)})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controls which features are available in the system"})]}),s.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"enforce-restrictions",children:"Enforce Restrictions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, environment restrictions will be applied"})]}),s.jsx(ct,{id:"enforce-restrictions",checked:t.enforceRestrictions,onCheckedChange:w=>x({enforceRestrictions:w})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"restriction-message",children:"Restriction Message"}),s.jsx(_,{id:"restriction-message",value:t.restrictionMessage,onChange:w=>x({restrictionMessage:w.target.value}),placeholder:"Enter custom restriction message"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Message shown when users try to perform restricted actions. Use %s for environment name."})]}),s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(wc,{children:"Environment Restrictions"}),s.jsxs(Ge,{className:"space-y-2 mt-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Development:"})," All features enabled"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Quality Assurance:"})," Limited to adapter configuration, import/export, and deployment"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Production:"})," Limited to adapter configuration, import/export, and deployment"]})]})]}),d&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(xt,{className:"h-4 w-4"}),"You have unsaved changes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{variant:"outline",size:"sm",onClick:()=>{n(r),u(!1)},children:"Cancel"}),s.jsx(q,{size:"sm",onClick:p,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),!d&&r&&JSON.stringify(t)===JSON.stringify(r)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-success",children:[s.jsx(mn,{className:"h-4 w-4"}),"Configuration saved successfully"]})]})]})},ehe=({})=>{const{toast:e}=He(),[t,n]=h.useState([]),[r,a]=h.useState([]),[o,i]=h.useState("all"),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[m,p]=h.useState({}),x=async()=>{try{c(!0);const E=await Oe.get("/system-settings");console.log("Fetched system settings:",E),n(E);const S=[...new Set(E.map(A=>A.category||"Uncategorized").filter(Boolean))];a(["all",...S])}catch(E){console.error("Error fetching system settings:",E),e({title:"Error",description:"Failed to load system settings",variant:"destructive"})}finally{c(!1)}},g=async()=>{},f=async()=>{try{await Oe.post("/system-settings/initialize"),e({title:"Success",description:"Default settings initialized"}),x()}catch(E){console.error("Error initializing settings:",E),e({title:"Error",description:"Error initializing settings",variant:"destructive"})}},w=async(E,S)=>{try{u(!0);const A=t.find(F=>F.settingKey===E);if(!A)return;const O={...A,settingValue:S,updatedBy:"admin"},I=await Oe.put(`/system-settings/${E}`,O);n(F=>F.map(L=>L.settingKey===E?I:L)),p(F=>{const L={...F};return delete L[E],L}),e({title:"Success",description:`Setting "${E}" updated successfully`})}catch(A){console.error("Error saving setting:",A),e({title:"Error",description:"Error saving setting",variant:"destructive"})}finally{u(!1)}},j=(E,S)=>{p(A=>({...A,[E]:S}))},v=E=>m[E.settingKey]??E.settingValue,y=E=>m[E.settingKey]!==void 0&&m[E.settingKey]!==E.settingValue,N=o==="all"?t:t.filter(E=>E.category===o);h.useEffect(()=>{x(),g()},[]);const b=E=>s.jsxs(W,{className:"mb-4",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(re,{className:"text-sm font-medium flex items-center gap-2",children:[E.settingKey,E.isReadonly&&s.jsx(ae,{variant:"secondary",className:"text-xs",children:"Readonly"}),E.isEncrypted&&s.jsx(ae,{variant:"outline",className:"text-xs",children:"Encrypted"}),y(E)&&s.jsx(ae,{variant:"destructive",className:"text-xs",children:"Modified"})]}),s.jsx(pe,{className:"text-xs",children:E.description})]}),s.jsx(ae,{variant:"outline",className:"text-xs",children:E.category})]})}),s.jsx(K,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(C,{htmlFor:`setting-${E.id}`,className:"text-xs",children:["Value (",E.dataType,")"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_,{id:`setting-${E.id}`,value:v(E),onChange:S=>j(E.settingKey,S.target.value),disabled:E.isReadonly,type:E.dataType==="PASSWORD"?"password":E.dataType==="INTEGER"?"number":"text",className:"text-sm",placeholder:E.settingValue}),y(E)&&s.jsx(q,{size:"sm",onClick:()=>w(E.settingKey,m[E.settingKey]),disabled:d,className:"px-3",children:d?s.jsx(vt,{className:"h-3 w-3 animate-spin"}):s.jsx(ir,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Created: ",new Date(E.createdAt).toLocaleString()]}),s.jsxs("span",{children:["Updated: ",new Date(E.updatedAt).toLocaleString()]})]}),(E.createdBy||E.updatedBy)&&s.jsxs("div",{className:"flex justify-between",children:[E.createdBy&&s.jsxs("span",{children:["Created by: ",E.createdBy]}),E.updatedBy&&s.jsxs("span",{children:["Updated by: ",E.updatedBy]})]})]})]})})]},E.id);return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(vt,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(At,{className:"h-6 w-6"}),"System Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and parameters"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:x,disabled:l,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsx(q,{variant:"outline",size:"sm",onClick:f,children:"Initialize Defaults"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(Zue,{})}),s.jsx(mt,{className:"my-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"General System Settings"}),Object.keys(m).length>0&&s.jsx(W,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:s.jsxs(te,{className:"pb-3",children:[s.jsxs(re,{className:"text-sm flex items-center gap-2 text-warning dark:text-warning",children:[s.jsx(xt,{className:"h-4 w-4"}),"Unsaved Changes"]}),s.jsxs(pe,{className:"text-warning dark:text-warning",children:["You have ",Object.keys(m).length," unsaved change(s). Click the save button next to each modified setting to save changes."]})]})}),s.jsxs(tt,{value:o,onValueChange:i,children:[s.jsx(Je,{className:"grid w-full grid-cols-auto max-w-fit",children:r.map(E=>s.jsxs(ue,{value:E,className:"capitalize",children:[E==="all"?"All Settings":E||"Uncategorized",E!=="all"&&s.jsx(ae,{variant:"secondary",className:"ml-2 text-xs",children:t.filter(S=>S.category===E).length})]},E))}),s.jsx(de,{value:o,className:"space-y-4",children:N.length===0?s.jsx(W,{children:s.jsx(K,{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(At,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No settings found"}),s.jsx(q,{variant:"outline",size:"sm",onClick:f,className:"mt-2",children:"Initialize Default Settings"})]})})}):s.jsx("div",{className:"grid gap-4",children:N.map(b)})})]})]})]})};function the({variant:e="card",count:t=1,className:n}){const r=()=>{switch(e){case"card":return s.jsxs("div",{className:ne("rounded-lg border p-6 space-y-4",n),children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Re,{className:"h-4 w-[250px]"}),s.jsx(Re,{className:"h-4 w-[200px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]})]});case"table":return s.jsx("div",{className:ne("space-y-4",n),children:s.jsxs("div",{className:"rounded-md border",children:[s.jsx("div",{className:"border-b px-6 py-4",children:s.jsx(Re,{className:"h-4 w-[150px]"})}),s.jsx("div",{className:"p-0",children:[...Array(5)].map((a,o)=>s.jsxs("div",{className:"border-b px-6 py-4 flex items-center space-x-4",children:[s.jsx(Re,{className:"h-4 w-[100px]"}),s.jsx(Re,{className:"h-4 w-[200px]"}),s.jsx(Re,{className:"h-4 w-[150px]"}),s.jsx(Re,{className:"h-4 w-[80px] ml-auto"})]},o))})]})});case"list":return s.jsx("div",{className:ne("space-y-3",n),children:[...Array(3)].map((a,o)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg border",children:[s.jsx(Re,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(Re,{className:"h-4 w-[200px]"}),s.jsx(Re,{className:"h-3 w-[150px]"})]}),s.jsx(Re,{className:"h-8 w-20"})]},o))});case"text":return s.jsxs("div",{className:ne("space-y-2",n),children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]});case"button":return s.jsx(Re,{className:ne("h-10 w-24",n)});default:return null}};return s.jsx(s.Fragment,{children:[...Array(t)].map((a,o)=>s.jsx("div",{children:r()},o))})}function she({columns:e,data:t,actions:n,keyField:r,loading:a=!1,searchable:o=!1,searchPlaceholder:i="Search...",emptyState:l,className:c,toolbar:d}){const[u,m]=h.useState(""),p=u?t.filter(x=>e.some(g=>{const f=g.cell?g.cell(x):x[g.key];return String(f).toLowerCase().includes(u.toLowerCase())})):t;return a?s.jsx(the,{variant:"table"}):s.jsxs("div",{className:ne("space-y-4",c),children:[(o||d)&&s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o&&s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:i,value:u,onChange:x=>m(x.target.value),className:"pl-9"})]}),d]}),s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[e.map(x=>s.jsx(Ne,{className:x.className,children:x.header},x.key)),n&&n.length>0&&s.jsx(Ne,{className:"w-[70px]",children:"Actions"})]})}),s.jsx(Pn,{children:p.length===0?s.jsx(wt,{children:s.jsx(ye,{colSpan:e.length+(n?1:0),className:"h-32 text-center",children:l?s.jsx(Co,{icon:l.icon,title:l.title,description:l.description,action:l.action}):s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})}):p.map(x=>s.jsxs(wt,{className:"hover:bg-muted/50 transition-colors",children:[e.map(g=>s.jsx(ye,{className:g.className,children:g.cell?g.cell(x):x[g.key]},g.key)),n&&n.length>0&&s.jsx(ye,{children:s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"More actions",children:s.jsx(NN,{className:"h-4 w-4"})})}),s.jsx(yo,{align:"end",children:n.map((g,f)=>{if(g.show&&!g.show(x))return null;const w=f===n.length-1,j=g.variant==="destructive";return s.jsxs("div",{children:[j&&f>0&&s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>g.onClick(x),className:ne(j&&"text-destructive focus:text-destructive"),children:[g.icon&&s.jsx(g.icon,{className:"h-4 w-4 mr-2"}),g.label]}),j&&!w&&s.jsx(Ws,{})]},g.label)})})]})})]},String(x[r])))})]})})]})}const Jo={getAllAuthConfigs:async()=>{try{return(await Oe.get("/external-auth")).data}catch(e){return console.error("Failed to fetch auth configs:",e),{success:!1,data:[],message:"Failed to fetch authentication configurations"}}},getAuthConfigById:async e=>{try{return(await Oe.get(`/external-auth/${e}`)).data}catch(t){return console.error("Failed to fetch auth config:",t),{success:!1,data:null,message:"Failed to fetch authentication configuration"}}},createAuthConfig:async e=>{try{return(await Oe.post("/external-auth",e)).data}catch(t){return console.error("Failed to create auth config:",t),{success:!1,data:null,message:"Failed to create authentication configuration"}}},updateAuthConfig:async(e,t)=>{try{return(await Oe.put(`/external-auth/${e}`,t)).data}catch(n){return console.error("Failed to update auth config:",n),{success:!1,data:null,message:"Failed to update authentication configuration"}}},deleteAuthConfig:async e=>{try{return(await Oe.delete(`/external-auth/${e}`)).data}catch(t){return console.error("Failed to delete auth config:",t),{success:!1,message:"Failed to delete authentication configuration"}}},getAuthAttempts:async(e,t=50)=>{try{return(await Oe.get(`/external-auth/${e}/attempts`,{params:{limit:t}})).data}catch(n){return console.error("Failed to fetch auth attempts:",n),{success:!1,data:[],message:"Failed to fetch authentication attempts"}}},testAuthConfig:async e=>{try{return(await Oe.post(`/external-auth/${e}/test`)).data}catch(t){return console.error("Failed to test auth config:",t),{success:!1,message:"Failed to test authentication configuration"}}},linkToFlow:async(e,t,n)=>{try{return(await Oe.post("/external-auth/link-flow",{authConfigId:e,flowId:t,adapterType:n})).data}catch(r){return console.error("Failed to link auth config to flow:",r),{success:!1,message:"Failed to link authentication to flow"}}},unlinkFromFlow:async(e,t)=>{try{return(await Oe.delete(`/external-auth/unlink-flow/${e}/${t}`)).data}catch(n){return console.error("Failed to unlink auth config from flow:",n),{success:!1,message:"Failed to unlink authentication from flow"}}}};var it=(e=>(e.BASIC="BASIC",e.OAUTH1="OAUTH1",e.OAUTH2="OAUTH2",e.API_KEY="API_KEY",e))(it||{}),Bs=(e=>(e.AUTHORIZATION_CODE="AUTHORIZATION_CODE",e.CLIENT_CREDENTIALS="CLIENT_CREDENTIALS",e.PASSWORD="PASSWORD",e.REFRESH_TOKEN="REFRESH_TOKEN",e))(Bs||{});function nhe({open:e,onOpenChange:t,onCreated:n}){const{toast:r}=He(),[a,o]=h.useState(!1),[i,l]=h.useState(it.BASIC),[c,d]=h.useState({name:"",description:"",authType:it.BASIC,basicAuth:{username:"",password:"",confirmPassword:"",realm:""},oauth2:{clientId:"",clientSecret:"",grantType:Bs.CLIENT_CREDENTIALS},apiKey:{apiKey:"",headerName:"X-API-Key",queryParamName:"",keyPrefix:"",rateLimitPerHour:void 0,allowedIps:[]}}),[u,m]=h.useState(""),p=async g=>{g.preventDefault(),o(!0);try{const f={name:c.name,description:c.description,authType:i};if(i===it.BASIC&&c.basicAuth){if(c.basicAuth.password!==c.basicAuth.confirmPassword){r({title:"Error",description:"Passwords do not match",variant:"destructive"}),o(!1);return}f.basicAuth={username:c.basicAuth.username,password:c.basicAuth.password,realm:c.basicAuth.realm}}else if(i===it.OAUTH2&&c.oauth2)f.oauth2=c.oauth2;else if(i===it.API_KEY&&c.apiKey){const j=u.split(`
`).map(v=>v.trim()).filter(v=>v.length>0);f.apiKey={...c.apiKey,allowedIps:j.length>0?j:void 0}}const w=await Jo.createAuthConfig(f);if(w.success)r({title:"Success",description:"Authentication configuration created successfully"}),n(),t(!1),x();else throw new Error(w.message||"Failed to create configuration")}catch(f){console.error("Error creating auth config:",f),r({title:"Error",description:f instanceof Error?f.message:"Failed to create authentication configuration",variant:"destructive"})}finally{o(!1)}},x=()=>{l(it.BASIC),d({name:"",description:"",authType:it.BASIC,basicAuth:{username:"",password:"",confirmPassword:"",realm:""},oauth2:{clientId:"",clientSecret:"",grantType:Bs.CLIENT_CREDENTIALS},apiKey:{apiKey:"",headerName:"X-API-Key",queryParamName:"",keyPrefix:"",rateLimitPerHour:void 0,allowedIps:[]}}),m("")};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsx(ot,{className:"max-w-2xl",children:s.jsxs("form",{onSubmit:p,children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Create External Authentication"}),s.jsx(Fs,{children:"Configure external authentication for HTTP/S adapters"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"name",children:"Name"}),s.jsx(_,{id:"name",placeholder:"e.g., Production API Key",value:c.name,onChange:g=>d({...c,name:g.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",placeholder:"Optional description of this authentication configuration",value:c.description,onChange:g=>d({...c,description:g.target.value}),rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authType",children:"Authentication Type"}),s.jsxs(G,{value:i,onValueChange:g=>l(g),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:it.BASIC,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ru,{className:"h-4 w-4"}),"Basic Authentication"]})}),s.jsx(M,{value:it.API_KEY,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"API Key"]})}),s.jsx(M,{value:it.OAUTH2,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-4 w-4"}),"OAuth 2.0"]})})]})]})]}),s.jsxs("div",{className:"pt-4",children:[i===it.BASIC&&c.basicAuth&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Authentication Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"Username"}),s.jsx(_,{id:"username",value:c.basicAuth.username,onChange:g=>d({...c,basicAuth:{...c.basicAuth,username:g.target.value}}),required:!0})]}),s.jsx(_t,{name:"password",label:"Password",value:c.basicAuth.password,onValueChange:g=>d({...c,basicAuth:{...c.basicAuth,password:g}}),required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"realm",children:"Realm (Optional)"}),s.jsx(_,{id:"realm",placeholder:"Authentication realm",value:c.basicAuth.realm,onChange:g=>d({...c,basicAuth:{...c.basicAuth,realm:g.target.value}})})]})]}),i===it.OAUTH2&&c.oauth2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"OAuth 2.0 Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",value:c.oauth2.clientId,onChange:g=>d({...c,oauth2:{...c.oauth2,clientId:g.target.value}}),required:!0})]}),s.jsx(_t,{name:"clientSecret",label:"Client Secret",value:c.oauth2.clientSecret,onValueChange:g=>d({...c,oauth2:{...c.oauth2,clientSecret:g}}),showConfirmation:!1,required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"grantType",children:"Grant Type"}),s.jsxs(G,{value:c.oauth2.grantType,onValueChange:g=>d({...c,oauth2:{...c.oauth2,grantType:g}}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:Bs.CLIENT_CREDENTIALS,children:"Client Credentials"}),s.jsx(M,{value:Bs.AUTHORIZATION_CODE,children:"Authorization Code"}),s.jsx(M,{value:Bs.PASSWORD,children:"Password"}),s.jsx(M,{value:Bs.REFRESH_TOKEN,children:"Refresh Token"})]})]})]}),c.oauth2.grantType===Bs.AUTHORIZATION_CODE&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authorizationUrl",children:"Authorization URL"}),s.jsx(_,{id:"authorizationUrl",type:"url",placeholder:"https://auth.example.com/authorize",value:c.oauth2.authorizationUrl||"",onChange:g=>d({...c,oauth2:{...c.oauth2,authorizationUrl:g.target.value}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"redirectUri",children:"Redirect URI"}),s.jsx(_,{id:"redirectUri",type:"url",placeholder:"https://your-app.com/callback",value:c.oauth2.redirectUri||"",onChange:g=>d({...c,oauth2:{...c.oauth2,redirectUri:g.target.value}})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(_,{id:"tokenUrl",type:"url",placeholder:"https://auth.example.com/token",value:c.oauth2.tokenUrl||"",onChange:g=>d({...c,oauth2:{...c.oauth2,tokenUrl:g.target.value}}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"scope",children:"Scope (Optional)"}),s.jsx(_,{id:"scope",placeholder:"read write admin",value:c.oauth2.scope||"",onChange:g=>d({...c,oauth2:{...c.oauth2,scope:g.target.value}})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"usePkce",checked:c.oauth2.usePkce||!1,onCheckedChange:g=>d({...c,oauth2:{...c.oauth2,usePkce:g}})}),s.jsx(C,{htmlFor:"usePkce",children:"Use PKCE (Proof Key for Code Exchange)"})]})]}),i===it.API_KEY&&c.apiKey&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"API Key Details"}),s.jsx(_t,{name:"apiKey",label:"API Key",value:c.apiKey.apiKey,onValueChange:g=>d({...c,apiKey:{...c.apiKey,apiKey:g}}),showConfirmation:!1,required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"headerName",children:"Header Name"}),s.jsx(_,{id:"headerName",placeholder:"X-API-Key",value:c.apiKey.headerName,onChange:g=>d({...c,apiKey:{...c.apiKey,headerName:g.target.value}}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"keyPrefix",children:"Key Prefix (Optional)"}),s.jsx(_,{id:"keyPrefix",placeholder:"Bearer",value:c.apiKey.keyPrefix||"",onChange:g=>d({...c,apiKey:{...c.apiKey,keyPrefix:g.target.value}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queryParamName",children:"Query Parameter Name (Optional)"}),s.jsx(_,{id:"queryParamName",placeholder:"api_key",value:c.apiKey.queryParamName||"",onChange:g=>d({...c,apiKey:{...c.apiKey,queryParamName:g.target.value}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rateLimitPerHour",children:"Rate Limit per Hour (Optional)"}),s.jsx(_,{id:"rateLimitPerHour",type:"number",placeholder:"1000",value:c.apiKey.rateLimitPerHour||"",onChange:g=>d({...c,apiKey:{...c.apiKey,rateLimitPerHour:g.target.value?parseInt(g.target.value):void 0}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"allowedIps",children:"Allowed IPs (Optional)"}),s.jsx(Ee,{id:"allowedIps",placeholder:`One IP address per line
192.168.1.0/24
10.0.0.1`,value:u,onChange:g=>m(g.target.value),rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter IP addresses or CIDR ranges, one per line"})]})]})]})]}),s.jsxs(mr,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),s.jsx(q,{type:"submit",disabled:a,children:a?"Creating...":"Create Configuration"})]})]})})})}function rhe({config:e,open:t,onOpenChange:n,onUpdated:r}){const{toast:a}=He(),[o,i]=h.useState(!1),[l,c]=h.useState({name:e.name,description:e.description,isActive:e.isActive}),[d,u]=h.useState({username:e.basicAuth?.username||"",password:"",realm:e.basicAuth?.realm||""}),[m,p]=h.useState({clientId:e.oauth2?.clientId||"",clientSecret:"",authorizationUrl:e.oauth2?.authorizationUrl||"",tokenUrl:e.oauth2?.tokenUrl||"",redirectUri:e.oauth2?.redirectUri||"",scope:e.oauth2?.scope||"",grantType:e.oauth2?.grantType||Bs.CLIENT_CREDENTIALS,usePkce:e.oauth2?.usePkce||!1}),[x,g]=h.useState({apiKey:"",keyPrefix:e.apiKey?.keyPrefix||"",headerName:e.apiKey?.headerName||"X-API-Key",queryParamName:e.apiKey?.queryParamName||"",rateLimitPerHour:e.apiKey?.rateLimitPerHour,allowedIps:e.apiKey?.allowedIps||[]}),[f,w]=h.useState(e.apiKey?.allowedIps?.join(`
`)||"");h.useEffect(()=>{c({name:e.name,description:e.description,isActive:e.isActive}),e.authType===it.BASIC&&e.basicAuth&&u({username:e.basicAuth.username,password:"",realm:e.basicAuth.realm||""}),e.authType===it.OAUTH2&&e.oauth2&&p({clientId:e.oauth2.clientId,clientSecret:"",authorizationUrl:e.oauth2.authorizationUrl||"",tokenUrl:e.oauth2.tokenUrl||"",redirectUri:e.oauth2.redirectUri||"",scope:e.oauth2.scope||"",grantType:e.oauth2.grantType,usePkce:e.oauth2.usePkce}),e.authType===it.API_KEY&&e.apiKey&&(g({apiKey:"",keyPrefix:e.apiKey.keyPrefix||"",headerName:e.apiKey.headerName,queryParamName:e.apiKey.queryParamName||"",rateLimitPerHour:e.apiKey.rateLimitPerHour,allowedIps:e.apiKey.allowedIps||[]}),w(e.apiKey.allowedIps?.join(`
`)||""))},[e]);const j=async v=>{v.preventDefault(),i(!0);try{const y={...l};if(e.authType===it.BASIC){const b={};d.username&&(b.username=d.username),d.password&&(b.password=d.password),d.realm!==void 0&&(b.realm=d.realm),Object.keys(b).length>0&&(y.basicAuth=b)}else if(e.authType===it.OAUTH2){const b={};m.clientId&&(b.clientId=m.clientId),m.clientSecret&&(b.clientSecret=m.clientSecret),m.authorizationUrl!==void 0&&(b.authorizationUrl=m.authorizationUrl),m.tokenUrl!==void 0&&(b.tokenUrl=m.tokenUrl),m.redirectUri!==void 0&&(b.redirectUri=m.redirectUri),m.scope!==void 0&&(b.scope=m.scope),m.grantType&&(b.grantType=m.grantType),m.usePkce!==void 0&&(b.usePkce=m.usePkce),Object.keys(b).length>0&&(y.oauth2=b)}else if(e.authType===it.API_KEY){const b={};x.apiKey&&(b.apiKey=x.apiKey),x.keyPrefix!==void 0&&(b.keyPrefix=x.keyPrefix),x.headerName&&(b.headerName=x.headerName),x.queryParamName!==void 0&&(b.queryParamName=x.queryParamName),x.rateLimitPerHour!==void 0&&(b.rateLimitPerHour=x.rateLimitPerHour);const E=f.split(`
`).map(S=>S.trim()).filter(S=>S.length>0);(E.length>0||f==="")&&(b.allowedIps=E),Object.keys(b).length>0&&(y.apiKey=b)}const N=await Jo.updateAuthConfig(e.id,y);if(N.success)a({title:"Success",description:"Authentication configuration updated successfully"}),r(),n(!1);else throw new Error(N.message||"Failed to update configuration")}catch(y){console.error("Error updating auth config:",y),a({title:"Error",description:y instanceof Error?y.message:"Failed to update authentication configuration",variant:"destructive"})}finally{i(!1)}};return s.jsx(dt,{open:t,onOpenChange:n,children:s.jsx(ot,{className:"max-w-2xl",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Edit External Authentication"}),s.jsxs(Fs,{children:["Update authentication configuration for ",e.name]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"name",children:"Name"}),s.jsx(_,{id:"name",value:l.name,onChange:v=>c({...l,name:v.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",value:l.description||"",onChange:v=>c({...l,description:v.target.value}),rows:2})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"isActive",checked:l.isActive,onCheckedChange:v=>c({...l,isActive:v})}),s.jsx(C,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"pt-4",children:[s.jsxs("h3",{className:"text-sm font-medium mb-4",children:[e.authType," Authentication Details"]}),e.authType===it.BASIC&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"username",children:"Username"}),s.jsx(_,{id:"username",value:d.username,onChange:v=>u({...d,username:v.target.value})})]}),s.jsx(_t,{name:"password",label:"New Password (leave empty to keep current)",value:d.password||"",onValueChange:v=>u({...d,password:v}),showConfirmation:!1}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"realm",children:"Realm"}),s.jsx(_,{id:"realm",value:d.realm||"",onChange:v=>u({...d,realm:v.target.value})})]})]}),e.authType===it.OAUTH2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"clientId",children:"Client ID"}),s.jsx(_,{id:"clientId",value:m.clientId,onChange:v=>p({...m,clientId:v.target.value})})]}),s.jsx(_t,{name:"clientSecret",label:"Client Secret (leave empty to keep current)",value:m.clientSecret||"",onValueChange:v=>p({...m,clientSecret:v}),showConfirmation:!1}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"grantType",children:"Grant Type"}),s.jsxs(G,{value:m.grantType,onValueChange:v=>p({...m,grantType:v}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:Bs.CLIENT_CREDENTIALS,children:"Client Credentials"}),s.jsx(M,{value:Bs.AUTHORIZATION_CODE,children:"Authorization Code"}),s.jsx(M,{value:Bs.PASSWORD,children:"Password"}),s.jsx(M,{value:Bs.REFRESH_TOKEN,children:"Refresh Token"})]})]})]}),m.grantType===Bs.AUTHORIZATION_CODE&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"authorizationUrl",children:"Authorization URL"}),s.jsx(_,{id:"authorizationUrl",type:"url",value:m.authorizationUrl||"",onChange:v=>p({...m,authorizationUrl:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"redirectUri",children:"Redirect URI"}),s.jsx(_,{id:"redirectUri",type:"url",value:m.redirectUri||"",onChange:v=>p({...m,redirectUri:v.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"tokenUrl",children:"Token URL"}),s.jsx(_,{id:"tokenUrl",type:"url",value:m.tokenUrl||"",onChange:v=>p({...m,tokenUrl:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"scope",children:"Scope"}),s.jsx(_,{id:"scope",value:m.scope||"",onChange:v=>p({...m,scope:v.target.value})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ct,{id:"usePkce",checked:m.usePkce||!1,onCheckedChange:v=>p({...m,usePkce:v})}),s.jsx(C,{htmlFor:"usePkce",children:"Use PKCE"})]})]}),e.authType===it.API_KEY&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(_t,{name:"apiKey",label:"API Key (leave empty to keep current)",value:x.apiKey||"",onValueChange:v=>g({...x,apiKey:v}),showConfirmation:!1}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"headerName",children:"Header Name"}),s.jsx(_,{id:"headerName",value:x.headerName,onChange:v=>g({...x,headerName:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"keyPrefix",children:"Key Prefix"}),s.jsx(_,{id:"keyPrefix",value:x.keyPrefix||"",onChange:v=>g({...x,keyPrefix:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"queryParamName",children:"Query Parameter Name"}),s.jsx(_,{id:"queryParamName",value:x.queryParamName||"",onChange:v=>g({...x,queryParamName:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"rateLimitPerHour",children:"Rate Limit per Hour"}),s.jsx(_,{id:"rateLimitPerHour",type:"number",value:x.rateLimitPerHour||"",onChange:v=>g({...x,rateLimitPerHour:v.target.value?parseInt(v.target.value):void 0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"allowedIps",children:"Allowed IPs"}),s.jsx(Ee,{id:"allowedIps",value:f,onChange:v=>w(v.target.value),rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter IP addresses or CIDR ranges, one per line"})]}),e.apiKey&&s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usage: ",e.apiKey.usageCount," requests"]}),e.apiKey.lastUsedAt&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last used: ",new Date(e.apiKey.lastUsedAt).toLocaleString(),e.apiKey.lastUsedIp&&` from ${e.apiKey.lastUsedIp}`]})]})]})]})]}),s.jsxs(mr,{children:[s.jsx(q,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:o,children:"Cancel"}),s.jsx(q,{type:"submit",disabled:o,children:o?"Updating...":"Update Configuration"})]})]})})})}function ahe({configId:e,open:t,onOpenChange:n}){const[r,a]=h.useState([]),[o,i]=h.useState(!0),l=async()=>{i(!0);try{const c=await Jo.getAuthAttempts(e,100);c.success&&c.data&&a(c.data)}catch(c){console.error("Failed to fetch auth attempts:",c),a([])}finally{i(!1)}};return h.useEffect(()=>{t&&l()},[t,e]),s.jsx(dt,{open:t,onOpenChange:n,children:s.jsxs(ot,{className:"max-w-4xl",children:[s.jsx(ut,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ht,{children:"Authentication Attempt Logs"}),s.jsx(Fs,{children:"Recent authentication attempts for this configuration"})]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:l,disabled:o,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(pr,{className:"h-[500px] w-full rounded-md border p-4",children:o?s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx(Re,{className:"h-4 w-24"}),s.jsx(Re,{className:"h-4 w-32"}),s.jsx(Re,{className:"h-4 w-20"}),s.jsx(Re,{className:"h-4 w-16"})]},d))}):r.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No authentication attempts recorded yet"}):s.jsx("div",{className:"space-y-3",children:r.map(c=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[c.success?s.jsx(mn,{className:"h-5 w-5 text-green-600"}):s.jsx(jn,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:c.username||c.apiKeyPrefix||"Unknown"}),s.jsx(ae,{variant:c.success?"default":"destructive",children:c.success?"Success":"Failed"})]}),c.failureReason&&s.jsx("p",{className:"text-sm text-muted-foreground",children:c.failureReason})]})]}),s.jsxs("div",{className:"text-right text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:xr(new Date(c.createdAt),"MMM d, HH:mm:ss")}),c.ipAddress&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",c.ipAddress]})]})]},c.id))})})]})})}function ohe({authConfigs:e,isLoading:t,onRefresh:n}){const{toast:r}=He(),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(null),p=v=>{switch(v){case it.BASIC:return s.jsx(Ru,{className:"h-4 w-4"});case it.API_KEY:return s.jsx(ma,{className:"h-4 w-4"});case it.OAUTH2:return s.jsx(ws,{className:"h-4 w-4"});case it.OAUTH1:return s.jsx(R8,{className:"h-4 w-4"});default:return s.jsx(ws,{className:"h-4 w-4"})}},x=v=>{switch(v){case it.BASIC:return"secondary";case it.API_KEY:return"outline";case it.OAUTH2:return"default";case it.OAUTH1:return"destructive";default:return"default"}},g=async v=>{try{const y=await Jo.updateAuthConfig(v.id,{isActive:!v.isActive});if(y.success)r({title:"Success",description:`Authentication configuration ${v.isActive?"deactivated":"activated"} successfully`}),n();else throw new Error(y.message||"Failed to update configuration")}catch(y){console.error("Error toggling auth config status:",y),r({title:"Error",description:"Failed to update authentication status",variant:"destructive"})}},f=async v=>{if(confirm(`Are you sure you want to delete "${v.name}"? This action cannot be undone.`)){m(v.id);try{const y=await Jo.deleteAuthConfig(v.id);if(y.success)r({title:"Success",description:"Authentication configuration deleted successfully"}),n();else throw new Error(y.message||"Failed to delete configuration")}catch(y){console.error("Error deleting auth config:",y),r({title:"Error",description:"Failed to delete authentication configuration",variant:"destructive"})}finally{m(null)}}},w=async v=>{try{const y=await Jo.testAuthConfig(v.id);if(y.success)r({title:"Success",description:"Authentication test completed successfully"});else throw new Error(y.message||"Test failed")}catch(y){console.error("Error testing auth config:",y),r({title:"Error",description:"Authentication test failed",variant:"destructive"})}},j=[{accessorKey:"name",header:"Name",cell:({row:v})=>s.jsxs("div",{className:"flex items-center gap-2",children:[p(v.original.authType),s.jsx("span",{className:"font-medium",children:v.getValue("name")})]})},{accessorKey:"authType",header:"Type",cell:({row:v})=>s.jsx(ae,{variant:x(v.original.authType),children:v.getValue("authType")})},{accessorKey:"description",header:"Description",cell:({row:v})=>s.jsx("span",{className:"text-sm text-muted-foreground",children:v.getValue("description")||"-"})},{accessorKey:"isActive",header:"Status",cell:({row:v})=>s.jsx(ae,{variant:v.original.isActive?"default":"secondary",children:v.original.isActive?"Active":"Inactive"})},{accessorKey:"createdAt",header:"Created",cell:({row:v})=>s.jsx("span",{className:"text-sm text-muted-foreground",children:xr(new Date(v.getValue("createdAt")),"MMM d, yyyy")})},{id:"actions",cell:({row:v})=>{const y=v.original;return s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsxs(q,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(wN,{className:"h-4 w-4"})]})}),s.jsxs(yo,{align:"end",children:[s.jsxs(lt,{onClick:()=>l(y),children:[s.jsx(dr,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(lt,{onClick:()=>g(y),children:y.isActive?s.jsxs(s.Fragment,{children:[s.jsx(O8,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(I8,{className:"mr-2 h-4 w-4"}),"Activate"]})}),s.jsxs(lt,{onClick:()=>w(y),children:[s.jsx(fd,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),s.jsxs(lt,{onClick:()=>d(y.id),children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"View Attempts"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>f(y),className:"text-destructive",disabled:u===y.id,children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];return t?s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"External Authentication"}),s.jsx(pe,{children:"Loading authentication configurations..."})]}),s.jsx(K,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Re,{className:"h-10 w-full"}),s.jsx(Re,{className:"h-32 w-full"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{children:"External Authentication"}),s.jsx(pe,{children:"Manage authentication configurations for HTTP/S adapters"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(q,{size:"sm",onClick:()=>o(!0),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Add Authentication"]})]})]})}),s.jsx(K,{children:s.jsx(she,{columns:j,data:e,searchKey:"name",searchPlaceholder:"Search configurations..."})})]}),s.jsx(nhe,{open:a,onOpenChange:o,onCreated:n}),i&&s.jsx(rhe,{config:i,open:!!i,onOpenChange:v=>!v&&l(null),onUpdated:n}),c&&s.jsx(ahe,{configId:c,open:!!c,onOpenChange:v=>!v&&d(null)})]})}class ihe{async getAllRoles(t=0,n=50){return ee.get(`/roles?page=${t}&limit=${n}`)}async getRoleById(t){return ee.get(`/roles/${t}`)}async createRole(t){return ee.post("/roles",t)}async updateRole(t,n){return ee.put(`/roles/${t}`,n)}async deleteRole(t){return ee.delete(`/roles/${t}`)}async addPermission(t,n){return ee.post(`/roles/${t}/permissions`,{permission:n})}async removePermission(t,n){return ee.delete(`/roles/${t}/permissions/${n}`)}async updatePermissions(t,n){return ee.put(`/roles/${t}/permissions`,{permissions:n})}async getRolePermissions(t){return ee.get(`/roles/${t}/permissions`)}async searchRoles(t,n){const r=new URLSearchParams({q:t,...n?.hasPermission&&{hasPermission:n.hasPermission},page:(n?.page||1).toString(),limit:(n?.limit||50).toString()});return ee.get(`/roles/search?${r}`)}async getRoleUsers(t){return ee.get(`/roles/${t}/users`)}async cloneRole(t,n){return ee.post(`/roles/${t}/clone`,{name:n})}async getAvailablePermissions(){return ee.get("/roles/available-permissions")}async validatePermissions(t){return ee.post("/roles/validate-permissions",{permissions:t})}}const lhe=new ihe;class che{async getAllJarFiles(t){const n=new URLSearchParams;t?.driverType&&n.append("driverType",t.driverType),t?.isActive!==void 0&&n.append("isActive",t.isActive.toString());const r=n.toString();return ee.get(`/jar-files${r?`?${r}`:""}`)}async getJarFileById(t){return ee.get(`/jar-files/${t}`)}async createJarFile(t){return ee.post("/jar-files",t)}async updateJarFile(t,n){return ee.put(`/jar-files/${t}`,n)}async deleteJarFile(t){return ee.delete(`/jar-files/${t}`)}async uploadJarFile(t,n){const r=new FormData;return r.append("file",t),r.append("name",n.name),r.append("version",n.version),r.append("description",n.description),r.append("driverType",n.driverType),n.vendor&&r.append("vendor",n.vendor),ee.post("/jar-files/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}async downloadJarFile(t){const n=await fetch(`${ee.baseURL}/jar-files/${t}/download`,{method:"GET",headers:ee.getAuthHeaders()});if(!n.ok)throw new Error("Failed to download JAR file");return n.blob()}async toggleJarFileStatus(t,n){return ee.put(`/jar-files/${t}/status`,{isActive:n})}async getJarFilesByDriverType(t){return ee.get(`/jar-files/driver-type/${t}`)}async validateJarFile(t){return ee.get(`/jar-files/${t}/validate`)}async getDriverTypes(){return ee.get("/jar-files/driver-types")}}const dhe=new che,uhe=()=>{const{toast:e}=He(),[t,n]=h.useState([]),[r,a]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState([]),[m,p]=h.useState(!0),[x,g]=h.useState([]),[f,w]=h.useState(!0),[j,v]=h.useState([]),[y,N]=h.useState(!0),[b,E]=h.useState("users"),S=async()=>{try{a(!0);const k=await il.getAllUsers();if(console.log("User fetch response:",k),k.success&&k.data){const P=Array.isArray(k.data)?k.data:k.data.users;n(P||[])}else console.error("Failed to fetch users:",k.error),console.log("API not available, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}catch(k){console.error("Error fetching users:",k),console.log("API error, showing empty user list"),n([]),e({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{a(!1)}},A=async()=>{try{c(!0);const k=await lhe.getAllRoles();if(console.log("Role fetch response:",k),k.success&&k.data){const P=Array.isArray(k.data)?k.data:[];i(P)}else console.error("Failed to fetch roles:",k.error),i([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}catch(k){console.error("Error fetching roles:",k),i([]),e({title:"Error",description:"Failed to load roles",variant:"destructive"})}finally{c(!1)}},O=async()=>{try{p(!0);const k=await r_.getAllCertificates();console.log("Certificate fetch response:",k),k.success&&k.data?u(k.data):(console.error("Failed to fetch certificates:",k.error),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"}))}catch(k){console.error("Error fetching certificates:",k),u([]),e({title:"Error",description:"Failed to load certificates",variant:"destructive"})}finally{p(!1)}},I=async()=>{try{w(!0);const k=await dhe.getAllJarFiles();console.log("JAR files fetch response:",k),k.success&&k.data?g(k.data):(console.error("Failed to fetch JAR files:",k.error),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"}))}catch(k){console.error("Error fetching JAR files:",k),g([]),e({title:"Error",description:"Failed to load JAR files",variant:"destructive"})}finally{w(!1)}},F=async()=>{try{N(!0);const k=await Jo.getAllAuthConfigs();console.log("Auth configs fetch response:",k),k.success&&k.data?v(k.data):(console.error("Failed to fetch auth configs:",k.message),v([]),e({title:"Error",description:"Failed to load authentication configurations",variant:"destructive"}))}catch(k){console.error("Error fetching auth configs:",k),v([]),e({title:"Error",description:"Failed to load authentication configurations",variant:"destructive"})}finally{N(!1)}};h.useEffect(()=>{S(),A(),O(),I(),F()},[]);const L=k=>{g(P=>[...P,k])},U=k=>{g(P=>P.filter(T=>T.id!==k))};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ds,{className:"h-8 w-8"}),"Admin Panel"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, roles, and system security"})]}),s.jsx(nde,{users:t,roles:o,certificates:d,jarFiles:x}),s.jsxs(tt,{value:b,onValueChange:E,className:"space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[s.jsxs(Je,{className:"grid w-full grid-cols-8",children:[s.jsxs(ue,{value:"users",className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4"}),"Users"]}),s.jsxs(ue,{value:"roles",className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-4 w-4"}),"Roles"]}),s.jsxs(ue,{value:"certificates",className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"Certificates"]}),s.jsxs(ue,{value:"external-auth",className:"flex items-center gap-2",children:[s.jsx(Ru,{className:"h-4 w-4"}),"External Auth"]}),s.jsxs(ue,{value:"jar-files",className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"h-4 w-4"}),"Drivers"]}),s.jsxs(ue,{value:"adapter-types",className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-4 w-4"}),"Adapters"]}),s.jsxs(ue,{value:"system-settings",className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Settings"]}),s.jsxs(ue,{value:"system-logs",className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4"}),"Logs"]})]}),s.jsx(de,{value:"users",className:"space-y-4",children:s.jsx(lde,{users:t,isLoading:r,onRefresh:S})}),s.jsx(de,{value:"roles",className:"space-y-4",children:s.jsx(cde,{roles:o,isLoading:l,onRefresh:A})}),s.jsx(de,{value:"certificates",className:"space-y-4",children:s.jsx(dde,{certificates:d,isLoading:m,onRefresh:O})}),s.jsx(de,{value:"external-auth",className:"space-y-4",children:s.jsx(ohe,{authConfigs:j,isLoading:y,onRefresh:F})}),s.jsx(de,{value:"jar-files",className:"space-y-4",children:s.jsx(pde,{jarFiles:x,isLoading:f,onRefresh:I,onJarFileAdded:L,onJarFileDeleted:U})}),s.jsx(de,{value:"adapter-types",className:"space-y-4",children:s.jsx(Que,{})}),s.jsx(de,{value:"system-settings",className:"space-y-4",children:s.jsx(ehe,{})}),s.jsx(de,{value:"system-logs",className:"space-y-4",children:s.jsx(Gue,{})})]})]})},CT=e=>{let t;const n=new Set,r=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const p=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,p))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,a,l);return l},hhe=e=>e?CT(e):CT,mhe=e=>e;function phe(e,t=mhe){const n=kt.useSyncExternalStore(e.subscribe,kt.useCallback(()=>t(e.getState()),[e,t]),kt.useCallback(()=>t(e.getInitialState()),[e,t]));return kt.useDebugValue(n),n}const ET=e=>{const t=hhe(e),n=r=>phe(t,r);return Object.assign(n,t),n},o$=e=>e?ET(e):ET;function fhe(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=n.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const Xj=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Xj(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Xj(r)(n)}}}},xhe=(e,t)=>(n,r,a)=>{let o={storage:fhe(()=>localStorage),partialize:f=>f,version:0,merge:(f,w)=>({...w,...f}),...t},i=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...f)},r,a);const u=()=>{const f=o.partialize({...r()});return d.setItem(o.name,{state:f,version:o.version})},m=a.setState;a.setState=(f,w)=>{m(f,w),u()};const p=e((...f)=>{n(...f),u()},r,a);a.getInitialState=()=>p;let x;const g=()=>{var f,w;if(!d)return;i=!1,l.forEach(v=>{var y;return v((y=r())!=null?y:p)});const j=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(f=r())!=null?f:p))||void 0;return Xj(d.getItem.bind(d))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate){const y=o.migrate(v.state,v.version);return y instanceof Promise?y.then(N=>[!0,N]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var y;const[N,b]=v;if(x=o.merge(b,(y=r())!=null?y:p),n(x,!0),N)return u()}).then(()=>{j?.(x,void 0),x=r(),i=!0,c.forEach(v=>v(x))}).catch(v=>{j?.(void 0,v)})};return a.persist={setOptions:f=>{o={...o,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},o.skipHydration||g(),x||p},ghe=xhe,TT={theme:"dark",sidebarState:"expanded",compactMode:!1,showLineNumbers:!0,autoSave:!0,animationsEnabled:!0},Eb=o$()(ghe(e=>({...TT,activeModal:null,modalData:null,globalLoading:!1,loadingMessage:null,breadcrumbs:[],setTheme:t=>{e({theme:t}),t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setSidebarState:t=>e({sidebarState:t}),toggleSidebar:()=>e(t=>({sidebarState:t.sidebarState==="expanded"?"collapsed":"expanded"})),setCompactMode:t=>e({compactMode:t}),setShowLineNumbers:t=>e({showLineNumbers:t}),setAutoSave:t=>e({autoSave:t}),setAnimationsEnabled:t=>e({animationsEnabled:t}),openModal:(t,n=null)=>e({activeModal:t,modalData:n}),closeModal:()=>e({activeModal:null,modalData:null}),setGlobalLoading:(t,n=null)=>e({globalLoading:t,loadingMessage:n}),setBreadcrumbs:t=>e({breadcrumbs:t}),addBreadcrumb:t=>e(n=>({breadcrumbs:[...n.breadcrumbs,t]})),resetPreferences:()=>e(TT)}),{name:"ui-preferences",partialize:e=>({theme:e.theme,sidebarState:e.sidebarState,compactMode:e.compactMode,showLineNumbers:e.showLineNumbers,autoSave:e.autoSave,animationsEnabled:e.animationsEnabled})})),i$=()=>{const e=Eb(t=>t.animationsEnabled);return{enabled:e,duration:e?"duration-200":"duration-0",transition:e?"transition-all":""}},vhe=()=>{ux("Settings"),hx("Configure your Integrix Flow Bridge preferences, manage security settings, customize notifications, and control system-wide configurations.");const{user:e}=Hr(),{toast:t}=He(),{theme:n,setTheme:r,compactMode:a,setCompactMode:o}=Eb(),[i,l]=h.useState("profile");h.useState(!1);const[c,d]=h.useState(!1),[u,m]=h.useState({language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",timeFormat:"12h",emailNotifications:!0,browserNotifications:!1,soundAlerts:!0,showHelperText:!0}),[p,x]=h.useState({firstName:e?.first_name||"",lastName:e?.last_name||"",email:e?.email||"",phone:"",department:"",title:""}),[g,f]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w=async()=>{try{d(!0),t({title:"Profile Updated",description:"Your profile has been updated successfully"})}catch{t({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{d(!1)}},j=async()=>{try{d(!0),localStorage.setItem("userPreferences",JSON.stringify(u)),t({title:"Preferences Saved",description:"Your preferences have been saved successfully"})}catch{t({title:"Error",description:"Failed to save preferences",variant:"destructive"})}finally{d(!1)}},v=async()=>{if(g.newPassword!==g.confirmPassword){t({title:"Error",description:"New passwords do not match",variant:"destructive"});return}try{d(!0),t({title:"Password Changed",description:"Your password has been changed successfully"}),f({currentPassword:"",newPassword:"",confirmPassword:""})}catch{t({title:"Error",description:"Failed to change password",variant:"destructive"})}finally{d(!1)}};return h.useEffect(()=>{const y=localStorage.getItem("userPreferences");y&&m(JSON.parse(y))},[]),s.jsxs(cx,{children:[s.jsx(dx,{title:"User Settings",description:"Manage your profile and personal preferences",icon:s.jsx(At,{})}),s.jsxs(tt,{value:i,onValueChange:l,className:"space-y-6",children:[s.jsxs(Je,{className:"grid grid-cols-4 w-full max-w-2xl",children:[s.jsxs(ue,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(io,{className:"h-4 w-4"}),"Profile"]}),s.jsxs(ue,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(S8,{className:"h-4 w-4"}),"Preferences"]}),s.jsxs(ue,{value:"notifications",className:"flex items-center gap-2",children:[s.jsx(Lk,{className:"h-4 w-4"}),"Notifications"]}),s.jsxs(ue,{value:"security",className:"flex items-center gap-2",children:[s.jsx(oo,{className:"h-4 w-4"}),"Security"]})]}),s.jsx(de,{value:"profile",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Profile Information"}),s.jsx(pe,{children:"Update your personal information and contact details"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"firstName",children:"First Name"}),s.jsx(_,{id:"firstName",value:p.firstName,onChange:y=>x({...p,firstName:y.target.value}),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"lastName",children:"Last Name"}),s.jsx(_,{id:"lastName",value:p.lastName,onChange:y=>x({...p,lastName:y.target.value}),placeholder:"Enter last name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"email",children:"Email"}),s.jsx(_,{id:"email",type:"email",value:p.email,onChange:y=>x({...p,email:y.target.value}),placeholder:"Enter email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"phone",children:"Phone"}),s.jsx(_,{id:"phone",value:p.phone,onChange:y=>x({...p,phone:y.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"department",children:"Department"}),s.jsx(_,{id:"department",value:p.department,onChange:y=>x({...p,department:y.target.value}),placeholder:"Enter department"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"title",children:"Job Title"}),s.jsx(_,{id:"title",value:p.title,onChange:y=>x({...p,title:y.target.value}),placeholder:"Enter job title"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:w,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})})]})]})}),s.jsx(de,{value:"preferences",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Display Preferences"}),s.jsx(pe,{children:"Customize how the application looks and behaves for you"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"theme",children:"Theme"}),s.jsxs(G,{value:n,onValueChange:r,children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"light",children:"Light"}),s.jsx(M,{value:"dark",children:"Dark"}),s.jsx(M,{value:"system",children:"System"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"language",children:"Language"}),s.jsxs(G,{value:u.language,onValueChange:y=>m({...u,language:y}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"en",children:"English"}),s.jsx(M,{value:"es",children:"Spanish"}),s.jsx(M,{value:"fr",children:"French"}),s.jsx(M,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(G,{value:u.timezone,onValueChange:y=>m({...u,timezone:y}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"UTC",children:"UTC"}),s.jsx(M,{value:"America/New_York",children:"Eastern Time"}),s.jsx(M,{value:"America/Chicago",children:"Central Time"}),s.jsx(M,{value:"America/Denver",children:"Mountain Time"}),s.jsx(M,{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx(M,{value:"Europe/London",children:"London"}),s.jsx(M,{value:"Europe/Paris",children:"Paris"}),s.jsx(M,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs(G,{value:u.dateFormat,onValueChange:y=>m({...u,dateFormat:y}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx(M,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx(M,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"timeFormat",children:"Time Format"}),s.jsxs(G,{value:u.timeFormat,onValueChange:y=>m({...u,timeFormat:y}),children:[s.jsx(Y,{children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"12h",children:"12 Hour"}),s.jsx(M,{value:"24h",children:"24 Hour"})]})]})]})]}),s.jsx(mt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Interface Options"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"compactView",children:"Compact View"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use a more condensed layout"})]}),s.jsx(ct,{id:"compactView",checked:a,onCheckedChange:o})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"showHelperText",children:"Show Helper Text"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display helpful tooltips and descriptions"})]}),s.jsx(ct,{id:"showHelperText",checked:u.showHelperText,onCheckedChange:y=>m({...u,showHelperText:y})})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:j,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsx(de,{value:"notifications",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Notification Preferences"}),s.jsx(pe,{children:"Choose how you want to be notified about important events"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs(Xe,{children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{children:"These settings control personal notifications. System-wide notification settings are managed by administrators."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),s.jsx(ct,{id:"emailNotifications",checked:u.emailNotifications,onCheckedChange:y=>m({...u,emailNotifications:y})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"browserNotifications",children:"Browser Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show desktop notifications"})]}),s.jsx(ct,{id:"browserNotifications",checked:u.browserNotifications,onCheckedChange:y=>m({...u,browserNotifications:y})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(C,{htmlFor:"soundAlerts",children:"Sound Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for important events"})]}),s.jsx(ct,{id:"soundAlerts",checked:u.soundAlerts,onCheckedChange:y=>m({...u,soundAlerts:y})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:j,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}),s.jsxs(de,{value:"security",className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Change Password"}),s.jsx(pe,{children:"Update your account password"})]}),s.jsxs(K,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(_,{id:"currentPassword",type:"password",value:g.currentPassword,onChange:y=>f({...g,currentPassword:y.target.value}),placeholder:"Enter current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"newPassword",children:"New Password"}),s.jsx(_,{id:"newPassword",type:"password",value:g.newPassword,onChange:y=>f({...g,newPassword:y.target.value}),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(_,{id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:y=>f({...g,confirmPassword:y.target.value}),placeholder:"Confirm new password"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(q,{onClick:v,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(oo,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Active Sessions"}),s.jsx(pe,{children:"Manage your active login sessions"})]}),s.jsx(K,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Current Session"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(rn,{className:"h-3 w-3 inline mr-1"}),"Last active: Just now"]})]}),s.jsx(ae,{variant:"secondary",children:"Active"})]})})})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"API Keys"}),s.jsx(pe,{children:"Manage your personal API keys for integrations"})]}),s.jsx(K,{children:s.jsxs(Xe,{children:[s.jsx(ma,{className:"h-4 w-4"}),s.jsx(Ge,{children:"No API keys generated yet. Contact your administrator if you need API access."})]})})]})]})]})]})},yhe=()=>{const[e,t]=h.useState([]),[n,r]=h.useState([]),[a,o]=h.useState(!0),[i,l]=h.useState("policies"),{toast:c}=He();h.useEffect(()=>{d()},[i]);const d=async()=>{o(!0);try{if(i==="policies"){const p=await Oe.get("/retry-management/policies");t(p.data)}else if(i==="dlq"){const p=await Oe.get("/retry-management/dead-letter-queue");r(p.data)}}catch{c({title:"Error",description:"Failed to fetch data",variant:"destructive"})}finally{o(!1)}},u=async p=>{try{await Oe.post(`/retry-management/dead-letter-queue/${p}/reprocess`),c({title:"Success",description:"Message queued for reprocessing"}),d()}catch{c({title:"Error",description:"Failed to reprocess message",variant:"destructive"})}},m=p=>{const x=[];let g=p.initialDelayMs;for(let f=1;f<=p.maxAttempts;f++)x.push(`${g}ms`),g=Math.min(g*p.multiplier,p.maxDelayMs);return x.join("  ")};return s.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(vt,{className:"h-8 w-8"}),"Retry Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure retry policies and manage failed messages"})]}),s.jsxs(q,{onClick:d,variant:"outline",children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(re,{className:"text-sm font-medium",children:"Active Policies"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(p=>p.isActive).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total configured"})]})]}),s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(re,{className:"text-sm font-medium",children:"Messages in DLQ"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.filter(p=>!p.reprocessed).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting resolution"})]})]}),s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(re,{className:"text-sm font-medium",children:"Retry Success Rate"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"85%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),s.jsxs(W,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(re,{className:"text-sm font-medium",children:"Avg Retry Delay"})}),s.jsxs(K,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"2.5s"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all policies"})]})]})]}),s.jsxs(tt,{value:i,onValueChange:l,className:"space-y-4",children:[s.jsxs(Je,{children:[s.jsxs(ue,{value:"policies",className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Retry Policies"]}),s.jsxs(ue,{value:"dlq",className:"flex items-center gap-2",children:[s.jsx(g8,{className:"h-4 w-4"}),"Dead Letter Queue"]}),s.jsxs(ue,{value:"statistics",className:"flex items-center gap-2",children:[s.jsx(EN,{className:"h-4 w-4"}),"Statistics"]})]}),s.jsx(de,{value:"policies",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Retry Policies"}),s.jsx(pe,{children:"Configure how failed messages are retried for each adapter"})]}),s.jsx(K,{children:a?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):e.length===0?s.jsxs(Xe,{children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx(Ge,{children:"No retry policies configured. Default policy will be used."})]}):s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Adapter"}),s.jsx(Ne,{children:"Policy Name"}),s.jsx(Ne,{children:"Max Attempts"}),s.jsx(Ne,{children:"Delay Pattern"}),s.jsx(Ne,{children:"Retry On"}),s.jsx(Ne,{children:"Status"})]})}),s.jsx(Pn,{children:e.map(p=>s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:p.adapterName||"Unknown"}),s.jsx(ye,{children:p.name}),s.jsx(ye,{children:p.maxAttempts}),s.jsx(ye,{className:"text-xs font-mono",children:m(p)}),s.jsx(ye,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:p.retryOnErrors.map(x=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:x},x))})}),s.jsx(ye,{children:s.jsx(ae,{variant:p.isActive?"default":"secondary",children:p.isActive?"Active":"Inactive"})})]},p.id))})]})})]})}),s.jsx(de,{value:"dlq",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Dead Letter Queue"}),s.jsx(pe,{children:"Messages that failed after all retry attempts"})]}),s.jsx(K,{children:a?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):n.length===0?s.jsxs(Xe,{children:[s.jsx(bs,{className:"h-4 w-4 text-green-600"}),s.jsx(Ge,{children:"No messages in the dead letter queue. Great job!"})]}):s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Message ID"}),s.jsx(Ne,{children:"Adapter"}),s.jsx(Ne,{children:"Business Component"}),s.jsx(Ne,{children:"Error Type"}),s.jsx(Ne,{children:"Attempts"}),s.jsx(Ne,{children:"Last Error"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:n.map(p=>s.jsxs(wt,{children:[s.jsxs(ye,{className:"font-mono text-xs",children:[p.originalMessageId.substring(0,8),"..."]}),s.jsx(ye,{children:p.adapterName}),s.jsx(ye,{children:p.businessComponentName}),s.jsx(ye,{children:s.jsx(ae,{variant:"destructive",children:p.errorType})}),s.jsx(ye,{children:p.totalRetryAttempts}),s.jsx(ye,{className:"text-xs",children:z_(new Date(p.lastErrorAt),{addSuffix:!0})}),s.jsx(ye,{children:s.jsxs(q,{size:"sm",variant:"outline",onClick:()=>u(p.id),disabled:p.reprocessed,children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Reprocess"]})})]},p.id))})]})})]})}),s.jsx(de,{value:"statistics",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Retry Statistics"}),s.jsx(pe,{children:"Performance metrics and trends for retry operations"})]}),s.jsx(K,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Statistics visualization coming soon..."})})]})})]})]})};function jhe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){jhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function whe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Nhe(e,t){if(e==null)return{};var n=whe(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bhe(e,t){return She(e)||Che(e,t)||Ehe(e,t)||The()}function She(e){if(Array.isArray(e))return e}function Che(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,o=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(a)throw o}}return n}}function Ehe(e,t){if(e){if(typeof e=="string")return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kT(e,t)}}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function The(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Phe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){Phe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ahe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(a,o){return o(a)},r)}}function nd(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function ef(e){return{}.toString.call(e).includes("Object")}function khe(e){return!Object.keys(e).length}function hu(e){return typeof e=="function"}function Rhe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mhe(e,t){return ef(t)||so("changeType"),Object.keys(t).some(function(n){return!Rhe(e,n)})&&so("changeField"),t}function Dhe(e){hu(e)||so("selectorType")}function Fhe(e){hu(e)||ef(e)||so("handlerType"),ef(e)&&Object.values(e).some(function(t){return!hu(t)})&&so("handlersType")}function Ohe(e){e||so("initialIsRequired"),ef(e)||so("initialType"),khe(e)&&so("initialContent")}function Ihe(e,t){throw new Error(e[t]||e.default)}var Lhe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},so=nd(Ihe)(Lhe),om={changes:Mhe,selector:Dhe,handler:Fhe,initial:Ohe};function _he(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};om.initial(e),om.handler(t);var n={current:e},r=nd(Vhe)(n,t),a=nd(Uhe)(n),o=nd(om.changes)(e),i=nd($he)(n);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return om.selector(d),d(n.current)}function c(d){Ahe(r,a,o,i)(d)}return[l,c]}function $he(e,t){return hu(t)?t(e.current):t}function Uhe(e,t){return e.current=MT(MT({},e.current),t),t}function Vhe(e,t,n){return hu(t)?t(e.current):Object.keys(n).forEach(function(r){var a;return(a=t[r])===null||a===void 0?void 0:a.call(t,e.current[r])}),n}var Bhe={create:_he},Hhe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function qhe(e){return function t(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return t.apply(n,[].concat(a,l))}}}function zhe(e){return{}.toString.call(e).includes("Object")}function Whe(e){return e||DT("configIsRequired"),zhe(e)||DT("configType"),e.urls?(Khe(),{paths:{vs:e.urls.monacoBase}}):e}function Khe(){console.warn(l$.deprecation)}function Yhe(e,t){throw new Error(e[t]||e.default)}var l$={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},DT=qhe(Yhe)(l$),Xhe={config:Whe},Ghe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(a){return n.reduceRight(function(o,i){return i(o)},a)}};function c$(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],c$(e[n],t[n]))}),AT(AT({},e),t)}var Jhe={type:"cancelation",msg:"operation is manually canceled"};function xv(e){var t=!1,n=new Promise(function(r,a){e.then(function(o){return t?a(Jhe):r(o)}),e.catch(a)});return n.cancel=function(){return t=!0},n}var Qhe=Bhe.create({config:Hhe,isInitialized:!1,resolve:null,reject:null,monaco:null}),d$=bhe(Qhe,2),mh=d$[0],Ix=d$[1];function Zhe(e){var t=Xhe.config(e),n=t.monaco,r=Nhe(t,["monaco"]);Ix(function(a){return{config:c$(a.config,r),monaco:n}})}function eme(){var e=mh(function(t){var n=t.monaco,r=t.isInitialized,a=t.resolve;return{monaco:n,isInitialized:r,resolve:a}});if(!e.isInitialized){if(Ix({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),xv(gv);if(window.monaco&&window.monaco.editor)return u$(window.monaco),e.resolve(window.monaco),xv(gv);Ghe(tme,nme)(rme)}return xv(gv)}function tme(e){return document.body.appendChild(e)}function sme(e){var t=document.createElement("script");return e&&(t.src=e),t}function nme(e){var t=mh(function(r){var a=r.config,o=r.reject;return{config:a,reject:o}}),n=sme("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function rme(){var e=mh(function(n){var r=n.config,a=n.resolve,o=n.reject;return{config:r,resolve:a,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){u$(n),e.resolve(n)},function(n){e.reject(n)})}function u$(e){mh().monaco||Ix({monaco:e})}function ame(){return mh(function(e){var t=e.monaco;return t})}var gv=new Promise(function(e,t){return Ix({resolve:e,reject:t})}),h$={config:Zhe,init:eme,__getMonacoInstance:ame},ome={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},vv=ome,ime={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},lme=ime;function cme({children:e}){return kt.createElement("div",{style:lme.container},e)}var dme=cme,ume=dme;function hme({width:e,height:t,isEditorReady:n,loading:r,_ref:a,className:o,wrapperProps:i}){return kt.createElement("section",{style:{...vv.wrapper,width:e,height:t},...i},!n&&kt.createElement(ume,null,r),kt.createElement("div",{ref:a,style:{...vv.fullWidth,...!n&&vv.hide},className:o}))}var mme=hme,m$=h.memo(mme);function pme(e){h.useEffect(e,[])}var p$=pme;function fme(e,t,n=!0){let r=h.useRef(!0);h.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var pn=fme;function yd(){}function ll(e,t,n,r){return xme(e,r)||gme(e,t,n,r)}function xme(e,t){return e.editor.getModel(f$(e,t))}function gme(e,t,n,r){return e.editor.createModel(t,n,r?f$(e,r):void 0)}function f$(e,t){return e.Uri.parse(t)}function vme({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:a,originalModelPath:o,modifiedModelPath:i,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:m={},height:p="100%",width:x="100%",className:g,wrapperProps:f={},beforeMount:w=yd,onMount:j=yd}){let[v,y]=h.useState(!1),[N,b]=h.useState(!0),E=h.useRef(null),S=h.useRef(null),A=h.useRef(null),O=h.useRef(j),I=h.useRef(w),F=h.useRef(!1);p$(()=>{let P=h$.init();return P.then(T=>(S.current=T)&&b(!1)).catch(T=>T?.type!=="cancelation"&&console.error("Monaco initialization: error:",T)),()=>E.current?k():P.cancel()}),pn(()=>{if(E.current&&S.current){let P=E.current.getOriginalEditor(),T=ll(S.current,e||"",r||n||"text",o||"");T!==P.getModel()&&P.setModel(T)}},[o],v),pn(()=>{if(E.current&&S.current){let P=E.current.getModifiedEditor(),T=ll(S.current,t||"",a||n||"text",i||"");T!==P.getModel()&&P.setModel(T)}},[i],v),pn(()=>{let P=E.current.getModifiedEditor();P.getOption(S.current.editor.EditorOption.readOnly)?P.setValue(t||""):t!==P.getValue()&&(P.executeEdits("",[{range:P.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),P.pushUndoStop())},[t],v),pn(()=>{E.current?.getModel()?.original.setValue(e||"")},[e],v),pn(()=>{let{original:P,modified:T}=E.current.getModel();S.current.editor.setModelLanguage(P,r||n||"text"),S.current.editor.setModelLanguage(T,a||n||"text")},[n,r,a],v),pn(()=>{S.current?.editor.setTheme(d)},[d],v),pn(()=>{E.current?.updateOptions(m)},[m],v);let L=h.useCallback(()=>{if(!S.current)return;I.current(S.current);let P=ll(S.current,e||"",r||n||"text",o||""),T=ll(S.current,t||"",a||n||"text",i||"");E.current?.setModel({original:P,modified:T})},[n,t,a,e,r,o,i]),U=h.useCallback(()=>{!F.current&&A.current&&(E.current=S.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...m}),L(),S.current?.editor.setTheme(d),y(!0),F.current=!0)},[m,d,L]);h.useEffect(()=>{v&&O.current(E.current,S.current)},[v]),h.useEffect(()=>{!N&&!v&&U()},[N,v,U]);function k(){let P=E.current?.getModel();l||P?.original?.dispose(),c||P?.modified?.dispose(),E.current?.dispose()}return kt.createElement(m$,{width:x,height:p,isEditorReady:v,loading:u,_ref:A,className:g,wrapperProps:f})}var yme=vme;h.memo(yme);function jme(e){let t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}var wme=jme,im=new Map;function Nme({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:a,path:o,theme:i="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:m=!0,keepCurrentModel:p=!1,width:x="100%",height:g="100%",className:f,wrapperProps:w={},beforeMount:j=yd,onMount:v=yd,onChange:y,onValidate:N=yd}){let[b,E]=h.useState(!1),[S,A]=h.useState(!0),O=h.useRef(null),I=h.useRef(null),F=h.useRef(null),L=h.useRef(v),U=h.useRef(j),k=h.useRef(),P=h.useRef(r),T=wme(o),R=h.useRef(!1),D=h.useRef(!1);p$(()=>{let B=h$.init();return B.then(H=>(O.current=H)&&A(!1)).catch(H=>H?.type!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>I.current?V():B.cancel()}),pn(()=>{let B=ll(O.current,e||r||"",t||a||"",o||n||"");B!==I.current?.getModel()&&(m&&im.set(T,I.current?.saveViewState()),I.current?.setModel(B),m&&I.current?.restoreViewState(im.get(o)))},[o],b),pn(()=>{I.current?.updateOptions(d)},[d],b),pn(()=>{!I.current||r===void 0||(I.current.getOption(O.current.editor.EditorOption.readOnly)?I.current.setValue(r):r!==I.current.getValue()&&(D.current=!0,I.current.executeEdits("",[{range:I.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),I.current.pushUndoStop(),D.current=!1))},[r],b),pn(()=>{let B=I.current?.getModel();B&&a&&O.current?.editor.setModelLanguage(B,a)},[a],b),pn(()=>{l!==void 0&&I.current?.revealLine(l)},[l],b),pn(()=>{O.current?.editor.setTheme(i)},[i],b);let $=h.useCallback(()=>{if(!(!F.current||!O.current)&&!R.current){U.current(O.current);let B=o||n,H=ll(O.current,r||e||"",t||a||"",B||"");I.current=O.current?.editor.create(F.current,{model:H,automaticLayout:!0,...d},u),m&&I.current.restoreViewState(im.get(B)),O.current.editor.setTheme(i),l!==void 0&&I.current.revealLine(l),E(!0),R.current=!0}},[e,t,n,r,a,o,d,u,m,i,l]);h.useEffect(()=>{b&&L.current(I.current,O.current)},[b]),h.useEffect(()=>{!S&&!b&&$()},[S,b,$]),P.current=r,h.useEffect(()=>{b&&y&&(k.current?.dispose(),k.current=I.current?.onDidChangeModelContent(B=>{D.current||y(I.current.getValue(),B)}))},[b,y]),h.useEffect(()=>{if(b){let B=O.current.editor.onDidChangeMarkers(H=>{let z=I.current.getModel()?.uri;if(z&&H.find(Q=>Q.path===z.path)){let Q=O.current.editor.getModelMarkers({resource:z});N?.(Q)}});return()=>{B?.dispose()}}return()=>{}},[b,N]);function V(){k.current?.dispose(),p?m&&im.set(o,I.current.saveViewState()):I.current.getModel()?.dispose(),I.current.dispose()}return kt.createElement(m$,{width:x,height:g,isEditorReady:b,loading:c,_ref:F,className:f,wrapperProps:w})}var bme=Nme,Sme=h.memo(bme),Cme=Sme;function Eme({functionName:e,code:t,language:n,onChange:r,onSave:a,onCompile:o,onTest:i,readOnly:l=!1,errors:c=[],warnings:d=[],isCompiling:u=!1,isSaving:m=!1}){const p=x=>{switch(x){case"JAVA":return"java";case"JAVASCRIPT":return"javascript";case"GROOVY":return"java";case"PYTHON":return"python";default:return"plaintext"}};return s.jsxs(W,{className:"h-full flex flex-col",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(xn,{className:"h-5 w-5"}),e]}),s.jsxs("div",{className:"flex gap-2",children:[n==="JAVA"&&o&&s.jsx(q,{variant:"outline",size:"sm",onClick:o,disabled:u||l,children:u?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Compiling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"h-4 w-4 mr-2"}),"Compile"]})}),i&&s.jsxs(q,{variant:"outline",size:"sm",onClick:i,disabled:l||c.length>0,children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Test"]}),a&&s.jsx(q,{size:"sm",onClick:a,disabled:m||l||c.length>0,children:m?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})}),s.jsxs(K,{className:"flex-1 flex flex-col p-0",children:[c.length>0&&s.jsxs(Xe,{variant:"destructive",className:"mx-6 mb-3",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs(Ge,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Compilation Errors:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:c.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),d.length>0&&s.jsxs(Xe,{className:"mx-6 mb-3",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs(Ge,{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Warnings:"}),s.jsx("ul",{className:"list-disc list-inside text-sm",children:d.map((x,g)=>s.jsx("li",{children:x},g))})]})]}),c.length===0&&d.length===0&&u===!1&&n==="JAVA"&&s.jsxs(Xe,{className:"mx-6 mb-3 border-green-200 bg-green-50 text-success",children:[s.jsx(mn,{className:"h-4 w-4"}),s.jsx(Ge,{children:"Code compiled successfully!"})]}),s.jsx("div",{className:"flex-1 border-t",children:s.jsx(Cme,{height:"100%",language:p(n),value:t,onChange:x=>r(x||""),options:{readOnly:l,minimap:{enabled:!1},fontSize:14,lineNumbers:"on",renderLineHighlight:"all",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4,wordWrap:"on",theme:"vs-light"}})})]})]})}function FT(e){try{const t=e.match(/^(\w+)\s*\((.*)\)$/);if(!t)return null;const n=t[1],r=t[2].trim();if(!r)return{functionName:n,parameters:[]};const a=[];let o="",i=0;for(let l=0;l<r.length;l++){const c=r[l];if(c==="("?i++:c===")"&&i--,c===","&&i===0){const d=OT(o.trim());d&&a.push(d),o=""}else o+=c}if(o.trim()){const l=OT(o.trim());l&&a.push(l)}return{functionName:n,parameters:a}}catch(t){return console.error("Error parsing function signature:",t),null}}function OT(e){if(!e)return null;const t=e.match(/^(\w+)\s*:\s*(\w+)$/);if(t){const[,n,r]=t;return{name:n,type:Tme(r),required:!0}}return{name:e,type:"any",required:!0}}function Tme(e){return{string:"string",number:"number",boolean:"boolean",array:"array",bool:"boolean",int:"number",float:"number",double:"number",text:"string",str:"string"}[e.toLowerCase()]||"any"}function IT(e,t){return t.map(n=>{const r=n.name;return e.includes(`${r} +`)||e.includes(`${r} -`)||e.includes(`${r} *`)||e.includes(`${r} /`)||e.includes("Math.")&&e.includes(r)?{...n,type:"number"}:e.includes(`${r}.length`)||e.includes(`${r}.substring`)||e.includes(`${r}.indexOf`)||e.includes(`${r}.toUpperCase`)||e.includes(`${r}.toLowerCase`)?{...n,type:"string"}:e.includes(`!${r}`)||e.includes(`${r} &&`)||e.includes(`${r} ||`)||e.includes(`${r} ?`)?{...n,type:"boolean"}:e.includes(`${r}.length`)||e.includes(`${r}[`)||e.includes(`${r}.map`)||e.includes(`${r}.filter`)||e.includes(`${r}.reduce`)?{...n,type:"array"}:n})}const Pme=[{value:"string",label:"String"},{value:"number",label:"Number (int/double/float)"},{value:"boolean",label:"Boolean"},{value:"array",label:"Array/List"},{value:"any",label:"Any (Object)"}];function Ame({parameters:e,onChange:t,readOnly:n=!1}){const r=()=>{const l={name:`param${e.length+1}`,type:"string",required:!0};t([...e,l])},a=l=>{const c=e.filter((d,u)=>u!==l);t(c)},o=(l,c,d)=>{const u=[...e];u[l]={...u[l],[c]:d},t(u)},i=()=>e.length===0?"functionName()":`functionName(${e.map(c=>`${c.type} ${c.name}`).join(", ")})`;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(C,{children:"Function Parameters"}),!n&&s.jsxs(q,{type:"button",variant:"outline",size:"sm",onClick:r,className:"h-8",children:[s.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Add Parameter"]})]}),e.length===0?s.jsx(W,{className:"p-4 border-dashed",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'No parameters defined. Click "Add Parameter" to add one.'})}):s.jsx("div",{className:"space-y-2",children:e.map((l,c)=>s.jsxs(W,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Parameter Name"}),s.jsx(_,{value:l.name,onChange:d=>o(c,"name",d.target.value),placeholder:"paramName",disabled:n,className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Java Type"}),s.jsxs(G,{value:l.type,onValueChange:d=>o(c,"type",d),disabled:n,children:[s.jsx(Y,{className:"h-8 text-sm",children:s.jsx(J,{})}),s.jsx(X,{children:Pme.map(d=>s.jsx(M,{value:d.value,className:"text-sm",children:d.label},d.value))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(C,{className:"text-xs",children:"Required"}),s.jsxs(G,{value:l.required?"true":"false",onValueChange:d=>o(c,"required",d==="true"),disabled:n,children:[s.jsx(Y,{className:"h-8 text-sm",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"true",className:"text-sm",children:"Required"}),s.jsx(M,{value:"false",className:"text-sm",children:"Optional"})]})]})]})]}),!n&&s.jsx(q,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(Nt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(_,{value:l.description||"",onChange:d=>o(c,"description",d.target.value),placeholder:"Parameter description (optional)",disabled:n,className:"h-8 text-sm"})})]},c))}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsx(C,{className:"text-xs text-muted-foreground mb-1 block",children:"Generated Signature Preview"}),s.jsx("code",{className:"text-sm font-mono",children:i()})]})]})}function kme({functionId:e,functionName:t,parameters:n,onTest:r}){const[a,o]=h.useState({}),[i,l]=h.useState(!1),[c,d]=h.useState(null),u=(f,w)=>{o(j=>({...j,[f]:w}))},m=(f,w)=>{if(!f&&w!=="String")return null;try{switch(w){case"int":case"Integer":return parseInt(f,10);case"long":case"Long":return parseInt(f,10);case"double":case"Double":return parseFloat(f);case"float":case"Float":return parseFloat(f);case"boolean":case"Boolean":return f.toLowerCase()==="true";case"List":try{const j=JSON.parse(f);return Array.isArray(j)?j:[f]}catch{return f.split(",").map(j=>j.trim())}case"Map":case"Object":try{return JSON.parse(f)}catch{return f}default:return f}}catch(j){return console.error(`Error parsing ${w} value:`,j),f}},p=async()=>{l(!0),d(null);try{const f={};for(const y of n){const N=a[y.name]||"";f[y.name]=m(N,y.type)}const w=Date.now(),j=await r(e,f),v=Date.now()-w;d({...j,executionTime:v})}catch(f){d({success:!1,error:f instanceof Error?f.message:"Test execution failed"})}finally{l(!1)}},x=f=>{switch(f.type){case"number":return"e.g., 42 or 3.14";case"boolean":return"true or false";case"array":return"e.g., [1, 2, 3] or 1,2,3";case"any":return'e.g., {"key": "value"} or any value';case"string":default:return"Enter value..."}},g=f=>{if(f==null)return"null";if(typeof f=="object")try{return JSON.stringify(f,null,2)}catch{return String(f)}return String(f)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(C,{children:"Test Inputs"}),n.length===0?s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(Ge,{children:'This function has no parameters. Click "Run Test" to execute it.'})]}):s.jsx("div",{className:"space-y-3",children:n.map(f=>s.jsx(W,{className:"p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs(C,{className:"text-sm",children:[f.name,f.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-mono bg-muted px-1 py-0.5 rounded",children:f.type}),f.description&&s.jsx("span",{children:f.description})]})]})}),s.jsx(_,{value:a[f.name]||"",onChange:w=>u(f.name,w.target.value),placeholder:x(f),className:"font-mono text-sm"})]})},f.name))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(q,{onClick:p,disabled:i,className:"w-full sm:w-auto",children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Test..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Run Test"]})})}),c&&s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:c.success?s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"h-5 w-5 text-success"}),s.jsx("span",{className:"font-semibold text-success",children:"Test Passed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"font-semibold text-destructive",children:"Test Failed"})]})}),c.executionTime!==void 0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.executionTime,"ms"]})]}),c.success&&c.output!==void 0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{className:"text-sm",children:"Output"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-sm overflow-x-auto",children:s.jsx("code",{children:g(c.output)})})]}),!c.success&&c.error&&s.jsxs(Xe,{variant:"destructive",children:[s.jsx(jn,{className:"h-4 w-4"}),s.jsx(Ge,{className:"font-mono text-sm",children:c.error})]})]})})]})}function Rme({open:e,onOpenChange:t,function:n,mode:r,onSave:a,onCompile:o,onTest:i,isBuiltIn:l=!1,developmentMode:c=!1}){const[d,u]=h.useState({name:"",description:"",category:"general",language:"JAVA",functionSignature:"",functionBody:"",isSafe:!0,isPublic:!0,performanceClass:"NORMAL"}),[m,p]=h.useState([]),[x,g]=h.useState([]),[f,w]=h.useState([]),[j,v]=h.useState(!1),[y,N]=h.useState(!1),[b,E]=h.useState(!1),[S,A]=h.useState([]);h.useEffect(()=>{if(n){if(u({name:n.name||"",description:n.description||"",category:n.category||"general",language:n.language||"JAVA",functionSignature:n.functionSignature||"",functionBody:n.functionBody||"",isSafe:n.isSafe??!0,isPublic:n.isPublic??!0,performanceClass:n.performanceClass||"NORMAL"}),E(!1),g([]),w([]),n.parameters)try{const P=typeof n.parameters=="string"?JSON.parse(n.parameters):n.parameters;p(P),A(P)}catch(P){if(console.error("Failed to parse parameters:",P),n.functionSignature){const T=FT(n.functionSignature);if(T){const R=IT(n.functionBody||"",T.parameters);p(R),A(R)}}}else if(n.functionSignature){const P=FT(n.functionSignature);if(P){const T=IT(n.functionBody||"",P.parameters);p(T),A(T)}}}},[n]);const O=async()=>{if(!(!o||d.language!=="JAVA")){v(!0),g([]),w([]);try{const P=await o(d.functionBody);P.success?(E(!0),w(P.warnings||[])):g(P.errors||["Compilation failed"])}catch(P){g(["Failed to compile: "+P])}finally{v(!1)}}},I=async()=>{if(a){if(d.language==="JAVA"&&!b&&r!=="view"){g(["Please compile the Java code before saving"]);return}N(!0);try{const P=k(d.name,m),T={...d,functionSignature:P,parameters:m};await a(T),t(!1)}catch(P){console.error("Failed to save:",P)}finally{N(!1)}}},F=r==="edit"||r==="create",L=F&&c,U=P=>{p(P),A(P),E(!1)},k=(P,T)=>{if(T.length===0)return`${P}()`;const R=T.map(D=>`${D.type} ${D.name}`).join(", ");return`${P}(${R})`};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-6xl max-h-[90vh] p-0",children:[s.jsxs(ut,{className:"px-6 pt-6",children:[s.jsx(ht,{children:r==="create"?"Create New Function":r==="edit"?"Edit Function":"View Function"}),s.jsx(Fs,{children:r==="create"?"Create a new transformation function":r==="edit"?"Modify the function implementation":"View function details and implementation"})]}),s.jsxs(tt,{defaultValue:"details",className:"flex-1",children:[s.jsxs(Je,{className:"mx-6",children:[s.jsx(ue,{value:"details",children:"Details"}),s.jsx(ue,{value:"code",children:"Code"}),n&&s.jsx(ue,{value:"test",children:"Test"})]}),s.jsxs(pr,{className:"h-[60vh]",children:[s.jsx(de,{value:"details",className:"px-6 space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"name",children:"Function Name"}),s.jsx(_,{id:"name",value:d.name,onChange:P=>u({...d,name:P.target.value}),readOnly:!F||l&&r==="edit",placeholder:"e.g., calculateTax"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"category",children:"Category"}),s.jsxs(G,{value:d.category,onValueChange:P=>u({...d,category:P}),disabled:!F,children:[s.jsx(Y,{id:"category",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"math",children:"Math"}),s.jsx(M,{value:"text",children:"Text"}),s.jsx(M,{value:"date",children:"Date"}),s.jsx(M,{value:"boolean",children:"Boolean"}),s.jsx(M,{value:"conversion",children:"Conversion"}),s.jsx(M,{value:"node",children:"Node"}),s.jsx(M,{value:"constants",children:"Constants"}),s.jsx(M,{value:"general",children:"General"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",value:d.description,onChange:P=>u({...d,description:P.target.value}),readOnly:!F,placeholder:"Describe what this function does...",rows:3})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ame,{parameters:m,onChange:U,readOnly:!F||l&&!c}),F&&r==="create"&&s.jsxs(Xe,{children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(Ge,{className:"text-xs",children:"Define your function parameters above. The signature will be generated automatically."})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"language",children:"Language"}),s.jsxs(G,{value:d.language,onValueChange:P=>{u({...d,language:P}),E(!1),g([]),w([])},disabled:!F||l&&r==="edit",children:[s.jsx(Y,{id:"language",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"JAVA",children:"Java"}),!l&&s.jsxs(s.Fragment,{children:[s.jsx(M,{value:"GROOVY",children:"Groovy"}),s.jsx(M,{value:"JAVASCRIPT",children:"JavaScript"}),s.jsx(M,{value:"PYTHON",children:"Python"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"performance",children:"Performance Class"}),s.jsxs(G,{value:d.performanceClass,onValueChange:P=>u({...d,performanceClass:P}),disabled:!F,children:[s.jsx(Y,{id:"performance",children:s.jsx(J,{})}),s.jsxs(X,{children:[s.jsx(M,{value:"FAST",children:"Fast"}),s.jsx(M,{value:"NORMAL",children:"Normal"}),s.jsx(M,{value:"SLOW",children:"Slow"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{children:"Flags"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[d.isPublic&&s.jsx(ae,{variant:"secondary",children:"Public"}),d.isSafe&&s.jsx(ae,{variant:"secondary",children:"Safe"}),l&&s.jsx(ae,{children:"Built-in"})]})]})]})]})}),s.jsx(de,{value:"code",className:"h-full",children:s.jsx("div",{className:"h-[50vh] px-6",children:s.jsx(Eme,{functionName:d.name,code:d.functionBody,language:d.language,onChange:P=>{u({...d,functionBody:P}),E(!1)},onCompile:d.language==="JAVA"?O:void 0,readOnly:!F,errors:x,warnings:f,isCompiling:j})})}),s.jsx(de,{value:"test",className:"px-6",children:s.jsx(kme,{functionId:n?.functionId||"",functionName:d.name,parameters:m,onTest:i||(async()=>({success:!1,error:"Test handler not provided"}))})})]})]}),s.jsxs(mr,{className:"px-6 pb-6",children:[s.jsx(q,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),L&&s.jsx(q,{onClick:I,disabled:y||x.length>0,children:y?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Function"})]})]})})}const Mme=()=>{const[e,t]=h.useState(""),[n,r]=h.useState("all"),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState("view"),u=ib(),{data:m}=Uj({queryKey:["development-mode"],queryFn:async()=>await Oe.get("/development/functions/development-mode")}),{data:p,isLoading:x}=Uj({queryKey:["development-functions"],queryFn:async()=>await Oe.get("/development/functions")}),g=async T=>await Oe.get(`/development/functions/${T}`),f=Lm({mutationFn:async T=>await Oe.post("/development/functions",T),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function created successfully"}),o(!1)},onError:T=>{toast({title:"Error",description:T.response?.data?.message||"Failed to create function",variant:"destructive"})}}),w=Lm({mutationFn:async({functionId:T,data:R})=>await Oe.put(`/development/functions/${T}`,R),onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function updated successfully"}),o(!1)},onError:T=>{toast({title:"Error",description:T.response?.data?.message||"Failed to update function",variant:"destructive"})}}),j=Lm({mutationFn:async T=>{await Oe.delete(`/development/functions/${T}`)},onSuccess:()=>{u.invalidateQueries({queryKey:["development-functions"]}),toast({title:"Success",description:"Function deleted successfully"})},onError:T=>{toast({title:"Error",description:T.response?.data?.message||"Failed to delete function",variant:"destructive"})}}),v=async T=>{try{return await Oe.post("/development/functions/compile",{functionName:i?.name||"TestFunction",code:T})}catch(R){throw R.response?.data||R}},y=async(T,R)=>{try{return await Oe.post(`/development/functions/${T}/test`,R)}catch(D){throw D.response?.data||D}},N=p?.builtInFunctions.filter(T=>{const R=T.name.toLowerCase().includes(e.toLowerCase())||T.description.toLowerCase().includes(e.toLowerCase()),D=n==="all"||T.category===n;return R&&D})||[],b=p?.customFunctions.content.filter(T=>{const R=T.name.toLowerCase().includes(e.toLowerCase())||T.description.toLowerCase().includes(e.toLowerCase()),D=n==="all"||T.category===n;return R&&D})||[],E=["all",...new Set(p?.builtInFunctions.map(T=>T.category)||[])],S=m?.developmentMode||!1,A=()=>{l(null),d("create"),o(!0)},O=async(T,R=!1)=>{try{const D=await g(T);l(D),d("view"),o(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},I=async(T,R=!1)=>{try{const D=await g(T);l(D),d("edit"),o(!0)}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}},F=async T=>{c==="create"?f.mutate(T):c==="edit"&&i&&w.mutate({functionId:i.functionId,data:T})},L=async T=>{confirm("Are you sure you want to delete this function?")&&j.mutate(T)},U=T=>{switch(T){case"FAST":return s.jsx(wn,{className:"h-3 w-3 text-green-500"});case"SLOW":return s.jsx(rn,{className:"h-3 w-3 text-orange-500"});default:return s.jsx(mn,{className:"h-3 w-3 text-blue-500"})}},k=async T=>{try{return await Oe.get(`/development/functions/built-in/${T}`)}catch(R){return console.error("Error finding built-in function:",R),null}},P=async T=>{try{const R=await k(T.name);R?(l(R),d(S?"edit":"view"),o(!0)):toast({title:"Error",description:"Function details not found",variant:"destructive"})}catch{toast({title:"Error",description:"Failed to load function details",variant:"destructive"})}};return x?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(xn,{className:"h-8 w-8"}),"Development Functions"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and test transformation functions for visual flow and orchestration editors"})]}),S&&s.jsxs(q,{className:"gap-2",onClick:A,children:[s.jsx(Zt,{className:"h-4 w-4"}),"Create Function"]})]}),!S&&s.jsxs(Xe,{children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx(wc,{children:"Read-Only Mode"}),s.jsxs(Ge,{children:["Function creation and editing is only available in development mode. Current profile: ",m?.developmentMode===!1?"Production/QA":"Unknown"]})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{children:"Search Functions"})}),s.jsxs(K,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(_,{placeholder:"Search by name or description...",value:e,onChange:T=>t(T.target.value),className:"pl-10"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:E.map(T=>s.jsx(ae,{variant:n===T?"default":"outline",className:"cursor-pointer",onClick:()=>r(T),children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]})]}),s.jsxs(tt,{defaultValue:"builtin",className:"space-y-4",children:[s.jsxs(Je,{children:[s.jsxs(ue,{value:"builtin",children:["Built-in Functions (",N.length,")"]}),s.jsxs(ue,{value:"custom",children:["Custom Functions (",b.length,")"]})]}),s.jsx(de,{value:"builtin",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Built-in Functions"}),s.jsx(pe,{children:"Pre-configured functions available in all environments"})]}),s.jsx(K,{children:s.jsx(pr,{className:"h-[600px]",children:s.jsx("div",{className:"space-y-2",children:N.map((T,R)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>P(T),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:T.name}),s.jsx(ae,{variant:"secondary",className:"text-xs",children:T.category}),s.jsx(ae,{className:"text-xs",children:"Built-in"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:T.signature})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(q,{size:"sm",variant:"ghost",onClick:D=>{D.stopPropagation(),P(T)},children:S?s.jsx(dr,{className:"h-4 w-4"}):s.jsx(ha,{className:"h-4 w-4"})})})]})},`${T.category}-${T.name}`))})})})]})}),s.jsx(de,{value:"custom",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Custom Functions"}),s.jsx(pe,{children:"User-defined functions for specialized transformations"})]}),s.jsx(K,{children:s.jsx(pr,{className:"h-[600px]",children:s.jsxs("div",{className:"space-y-2",children:[b.filter(T=>!T.isBuiltIn).map(T=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>O(T.functionId),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:T.name}),s.jsx(ae,{variant:"secondary",className:"text-xs",children:T.language}),s.jsxs("div",{className:"flex items-center gap-1",children:[U(T.performanceClass),s.jsx("span",{className:"text-xs text-muted-foreground",children:T.performanceClass})]}),T.isSafe?s.jsxs(ae,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(mn,{className:"h-3 w-3"}),"Safe"]}):s.jsxs(ae,{variant:"destructive",className:"text-xs gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),"Unsafe"]}),T.isPublic?s.jsxs(ae,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(w8,{className:"h-3 w-3"}),"Public"]}):s.jsxs(ae,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(oo,{className:"h-3 w-3"}),"Private"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:T.functionSignature}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Version ",T.version,"  Created by ",T.createdBy]})]}),S&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),O(T.functionId)},children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),I(T.functionId)},children:s.jsx(dr,{className:"h-4 w-4"})}),s.jsx(q,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),L(T.functionId)},children:s.jsx(Rn,{className:"h-4 w-4"})})]})]})},T.functionId)),b.filter(T=>!T.isBuiltIn).length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No custom functions found"})]})})})]})})]}),s.jsx(Rme,{open:a,onOpenChange:o,function:i,mode:c,onSave:F,onCompile:v,onTest:y,isBuiltIn:i?.isBuiltIn||!1,developmentMode:S})]})};class Dme{async deployFlow(t){try{return await ee.post(`/flows/${t}/deployment/deploy`)}catch(n){let r="Failed to deploy flow";return n.message?r=n.message:n.response?.data?.message?r=n.response.data.message:n.response?.data?.error?r=n.response.data.error:typeof n=="string"&&(r=n),{success:!1,error:r}}}async undeployFlow(t){try{return{success:(await ee.post(`/flows/${t}/deployment/undeploy`)).success}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to undeploy flow"}}}async getDeploymentInfo(t){try{return await ee.get(`/flows/${t}/deployment`)}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to fetch deployment info"}}}}const Gj=new Dme;function Fme({flowId:e,flowName:t,open:n,onOpenChange:r}){const[a,o]=h.useState(!1),[i,l]=h.useState(null),{toast:c}=He();h.useEffect(()=>{n&&e&&d()},[n,e]);const d=async()=>{if(e){o(!0);try{const p=await Gj.getDeploymentInfo(e);p.success&&p.data?l(p.data):c({variant:"destructive",title:"Error",description:p.error||"Failed to fetch deployment information"})}catch{c({variant:"destructive",title:"Error",description:"Failed to fetch deployment information"})}finally{o(!1)}}},u=(p,x)=>{navigator.clipboard.writeText(p),c({title:"Copied!",description:`${x} copied to clipboard`})},m=p=>new Date(p).toLocaleString();return n?s.jsx(dt,{open:n,onOpenChange:r,children:s.jsxs(ot,{className:"max-w-2xl",children:[s.jsxs(ut,{children:[s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(ku,{className:"h-5 w-5"}),"Deployment Details"]}),s.jsx(Fs,{children:t?`Deployment information for ${t}`:"Flow deployment information"})]}),a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})}):i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),"Primary Endpoint"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.endpoint}),s.jsx(q,{size:"sm",variant:"outline",onClick:()=>u(i.endpoint,"Endpoint"),children:s.jsx(sa,{className:"h-4 w-4"})}),i.endpoint.startsWith("http")&&s.jsx(q,{size:"sm",variant:"outline",onClick:()=>window.open(i.endpoint,"_blank"),children:s.jsx(MC,{className:"h-4 w-4"})})]})]}),i.metadata?.wsdlUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Pu,{className:"h-4 w-4"}),"WSDL URL (Planned)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.wsdlUrl}),s.jsx(q,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.wsdlUrl,"WSDL URL"),children:s.jsx(sa,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: The actual SOAP endpoint implementation is pending. This URL shows where the WSDL will be available once the endpoint is fully deployed."})]})]}),i.metadata?.apiDocsUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"API Documentation"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.apiDocsUrl}),s.jsx(q,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.apiDocsUrl,"API Docs URL"),children:s.jsx(sa,{className:"h-4 w-4"})}),s.jsx(q,{size:"sm",variant:"outline",onClick:()=>window.open(i.metadata.apiDocsUrl,"_blank"),children:s.jsx(MC,{className:"h-4 w-4"})})]})]}),i.metadata?.openApiUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"OpenAPI Specification"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:i.metadata.openApiUrl}),s.jsx(q,{size:"sm",variant:"outline",onClick:()=>u(i.metadata.openApiUrl,"OpenAPI URL"),children:s.jsx(sa,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Deployment Metadata"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Adapter Type:"}),s.jsx(ae,{variant:"outline",className:"ml-2",children:i.metadata?.adapterType||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Adapter Mode:"}),s.jsx(ae,{variant:"outline",className:"ml-2",children:i.metadata?.adapterMode||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Deployed At:"}),s.jsx("span",{className:"ml-2",children:m(i.deployedAt)})]}),i.deployedBy&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Deployed By:"}),s.jsx("span",{className:"ml-2",children:i.deployedBy})]})]})]}),i.metadata&&Object.keys(i.metadata).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Additional Information"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[i.metadata.httpMethods&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"HTTP Methods:"}),s.jsx("span",{className:"ml-2",children:i.metadata.httpMethods})]}),i.metadata.contentType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Content Type:"}),s.jsx("span",{className:"ml-2",children:i.metadata.contentType})]}),i.metadata.soapVersion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"SOAP Version:"}),s.jsx("span",{className:"ml-2",children:i.metadata.soapVersion})]}),i.metadata.pollingEnabled!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Polling:"}),s.jsx("span",{className:"ml-2",children:i.metadata.pollingEnabled?"Enabled":"Disabled"})]}),i.metadata.filePattern&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"File Pattern:"}),s.jsx("span",{className:"ml-2",children:i.metadata.filePattern})]})]})]})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No deployment information available"})]})}):null}function Ome(){const e=_s(),{toast:t}=He(),[n,r]=h.useState([]),[a,o]=h.useState(!0),[i,l]=h.useState(""),[c,d]=h.useState(!1),[u,m]=h.useState(null),[p,x]=h.useState("all"),[g,f]=h.useState(null),[w,j]=h.useState(null),[v,y]=h.useState(!1);h.useEffect(()=>{N()},[]);const N=async()=>{try{o(!0);const P=await zj.getFlows();if(P.success&&P.data){const T=Array.isArray(P.data)?P.data:P.data.flows||[];r(T)}}catch{t({variant:"destructive",title:"Error",description:"Failed to fetch interfaces"})}finally{o(!1)}},b=()=>{N(),t({title:"Success",description:"Interfaces refreshed"})},E=P=>{m(P),d(!0)},S=async()=>{if(u)try{const P=await zj.deleteFlow(u.id);if(P.success)t({title:"Success",description:"Interface deleted successfully"}),N();else throw new Error(P.error||"Failed to delete interface")}catch(P){t({variant:"destructive",title:"Error",description:P instanceof Error?P.message:"Failed to delete interface"})}finally{d(!1),m(null)}},A=async P=>{try{f(P.id);const T=await Gj.deployFlow(P.id);if(T.success)t({title:"Success",description:`Interface "${P.name}" has been deployed successfully`}),N();else{let R=T.error||"Failed to deploy interface";R.includes("Bad Request")||R.includes("HTTP 400")?R="Deployment failed. Please ensure all required components (adapters, data structures) are properly configured.":R.includes("not found")||R.includes("HTTP 404")?R="Deployment failed. Some required components could not be found.":R.includes("already deployed")||R.includes("HTTP 409")?R="This interface is already deployed. Please undeploy it first before redeploying.":(R.includes("validation failed")||R.includes("already exists"))&&(R="Deployment failed due to validation error. Please check flow configuration and try again."),t({variant:"destructive",title:"Deployment Failed",description:R})}}catch{t({variant:"destructive",title:"Error",description:"An error occurred during deployment"})}finally{f(null)}},O=P=>{j(P),y(!0)},I=async P=>{try{f(P.id);const T=await Gj.undeployFlow(P.id);T.success?(t({title:"Success",description:`Interface "${P.name}" has been undeployed successfully`}),N()):t({variant:"destructive",title:"Undeploy Failed",description:T.error||"Failed to undeploy interface"})}catch{t({variant:"destructive",title:"Error",description:"An error occurred during undeployment"})}finally{f(null)}},L=(()=>{let P=n.filter(T=>T.name.toLowerCase().includes(i.toLowerCase())||T.description?.toLowerCase().includes(i.toLowerCase()));switch(p){case"undeployed":return P.filter(T=>T.status==="DEVELOPED_INACTIVE"||T.status==="DRAFT"||T.status==="INACTIVE");case"deployed":return P.filter(T=>T.status==="DEPLOYED_ACTIVE"||T.status==="ACTIVE");default:return P}})(),U=P=>{const T={DEPLOYED_ACTIVE:"bg-green-500",DRAFT:"bg-blue-500",INACTIVE:"bg-gray-500",ERROR:"bg-red-500",DEVELOPED_INACTIVE:"bg-yellow-500"};return s.jsx(ae,{className:`${T[P]||"bg-gray-500"} text-white`,children:P.replace("_"," ")})},k=P=>s.jsx(ae,{variant:"outline",children:P==="PASS_THROUGH"?"Direct Passthrough":P==="WITH_MAPPING"?"Mapping Required":"Orchestration"});return a?s.jsx("div",{className:"w-full p-6",children:s.jsx("div",{className:"flex justify-center items-center p-12",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})})}):s.jsxs("div",{className:"w-full max-w-none p-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Interface Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage all your integration flows in one place"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:()=>e("/create-direct-mapping-flow"),children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),s.jsx($a,{className:"h-4 w-4 mr-2"}),"Direct Mapping"]}),s.jsxs(q,{onClick:()=>e("/create-orchestration-flow"),variant:"outline",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),s.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Orchestration Flow"]})]})]}),s.jsxs(tt,{value:p,onValueChange:x,className:"space-y-4",children:[s.jsxs(Je,{className:"grid w-full grid-cols-3",children:[s.jsx(ue,{value:"all",children:"All Interfaces"}),s.jsx(ue,{value:"undeployed",children:"Undeployed"}),s.jsx(ue,{value:"deployed",children:"Deployed"})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(K,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(_,{placeholder:"Search by name...",value:i,onChange:P=>l(P.target.value),className:"pl-10"})]})})]}),s.jsx(de,{value:p,children:s.jsxs(W,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-5 w-5"}),p==="all"&&`All Interfaces (${L.length})`,p==="undeployed"&&`Undeployed Interfaces (${L.length})`,p==="deployed"&&`Deployed Interfaces (${L.length})`]}),s.jsxs(q,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),s.jsx(K,{children:a?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading interfaces..."})}):L.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:i?"No interfaces found matching your search.":p==="deployed"?"No deployed interfaces found.":p==="undeployed"?"No undeployed interfaces found.":"No interfaces created yet."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Source  Target"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Created"}),s.jsx(Ne,{children:"Actions"})]})}),s.jsx(Pn,{children:L.map(P=>{const T=g===P.id;return s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:P.name}),s.jsx(ye,{children:k(P.mappingMode||"PASS_THROUGH")}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ae,{variant:"outline",children:P.sourceAdapterType||"Unknown"}),s.jsx("span",{children:""}),s.jsx(ae,{variant:"outline",children:P.targetAdapterType||"Unknown"})]})}),s.jsx(ye,{children:U(P.status)}),s.jsx(ye,{children:new Date(P.createdAt).toLocaleDateString()}),s.jsx(ye,{children:s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsx(q,{variant:"ghost",size:"sm",children:s.jsx(wN,{className:"h-4 w-4"})})}),s.jsxs(yo,{align:"end",children:[s.jsx(tx,{children:"Actions"}),s.jsx(Ws,{}),p==="undeployed"?s.jsxs(lt,{onClick:()=>A(P),disabled:T||P.status==="DRAFT",children:[T?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(OC,{className:"h-4 w-4 mr-2"}),"Deploy"]}):s.jsxs(s.Fragment,{children:[s.jsxs(lt,{onClick:()=>e(`/interfaces/${P.id}/details`),children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(lt,{onClick:()=>e(`/flows/${P.id}/edit`),children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Edit"]}),p==="all"&&(P.status==="DEVELOPED_INACTIVE"||P.status==="DRAFT"||P.status==="INACTIVE")&&s.jsxs(s.Fragment,{children:[s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>A(P),disabled:T||P.status==="DRAFT",children:[T?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(OC,{className:"h-4 w-4 mr-2"}),"Deploy"]})]}),(p==="deployed"||p==="all"&&P.status==="DEPLOYED_ACTIVE")&&s.jsxs(s.Fragment,{children:[s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>O(P),children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"View Deployment Details"]}),s.jsxs(lt,{onClick:()=>I(P),disabled:T,children:[T?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(qk,{className:"h-4 w-4 mr-2"}),"Undeploy"]})]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>E(P),className:"text-red-600",children:[s.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},P.id)})})]})})})]})})]}),s.jsx(dt,{open:c,onOpenChange:d,children:s.jsxs(ot,{children:[s.jsxs(ut,{children:[s.jsx(ht,{children:"Delete Interface"}),s.jsxs(Fs,{children:['Are you sure you want to delete "',u?.name,'"? This action cannot be undone.']})]}),s.jsxs(mr,{children:[s.jsx(q,{variant:"outline",onClick:()=>{d(!1),m(null)},children:"Cancel"}),s.jsx(q,{variant:"destructive",onClick:S,children:"Delete"})]})]})}),s.jsx(Fme,{flowId:w?.id||null,flowName:w?.name,open:v,onOpenChange:y})]})}const tf=({className:e,size:t="md",message:n})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return s.jsxs("div",{className:ne("flex items-center gap-2",e),children:[s.jsx(gt,{className:ne("animate-spin",r[t])}),n&&s.jsx("span",{className:"text-sm text-muted-foreground",children:n})]})},Mn="/integration-packages",Us={createPackage:async e=>await Oe.post(Mn,e),updatePackage:async(e,t)=>await Oe.put(`${Mn}/${e}`,t),getPackage:async e=>await Oe.get(`${Mn}/${e}`),getAllPackages:async(e=0,t=20,n)=>{const r=new URLSearchParams({page:e.toString(),size:t.toString()});return n&&r.append("sort",n),await Oe.get(`${Mn}?${r.toString()}`)},searchPackages:async e=>{const t=new URLSearchParams;return e.searchTerm&&t.append("searchTerm",e.searchTerm),e.status&&t.append("status",e.status),e.syncType&&t.append("syncType",e.syncType),e.transformationRequired!==void 0&&t.append("transformationRequired",e.transformationRequired.toString()),e.isTemplate!==void 0&&t.append("isTemplate",e.isTemplate.toString()),t.append("page",(e.page||0).toString()),t.append("size",(e.size||20).toString()),await Oe.get(`${Mn}/search?${t.toString()}`)},addComponent:async(e,t)=>{const n=new URLSearchParams({componentType:t.componentType,componentId:t.componentId});return await Oe.post(`${Mn}/${e}/components?${n.toString()}`,t.configuration||{})},removeComponent:async(e,t)=>await Oe.delete(`${Mn}/${e}/components/${t}`),validatePackage:async e=>await Oe.post(`${Mn}/${e}/validate`),deployPackage:async(e,t,n)=>{const r=new URLSearchParams({environment:t});return n&&r.append("notes",n),await Oe.post(`${Mn}/${e}/deploy?${r.toString()}`)},deletePackage:async e=>await Oe.delete(`${Mn}/${e}`),exportPackage:async e=>{const t=await fetch(`/api${Mn}/${e}/export`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Failed to export package");const n=await t.blob(),r=window.URL.createObjectURL(n),a=document.createElement("a");return a.href=r,a.download=`package_${e}_export.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),{success:!0}},importPackage:async e=>{const t=new FormData;t.append("file",e);const n=await fetch(`/api${Mn}/import`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to import package")}return await n.json()}},Ime="/adapters",Lme={getAllAdapters:async()=>await Oe.get(Ime)},_me="/flow-structures",$me={getAllStructures:async()=>await Oe.get(_me)},Ume="/flows",Vme={getAllFlows:async()=>await Oe.get(Ume)};function Bme({isOpen:e,onClose:t,onSuccess:n,existingPackage:r}){const{toast:a}=He(),[o,i]=h.useState("basic"),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[m,p]=h.useState({name:"",description:"",transformationRequired:!0,syncType:"ASYNCHRONOUS",sourceNamespace:"",targetNamespace:""}),[x,g]=h.useState([]),[f,w]=h.useState([]),[j,v]=h.useState([]),[y,N]=h.useState({}),[b,E]=h.useState({source:!1,target:!1});h.useEffect(()=>{e&&(S(),r&&p({name:r.name,description:r.description||"",transformationRequired:r.transformationRequired,syncType:r.syncType,sourceNamespace:r.sourceNamespace||"",targetNamespace:r.targetNamespace||""}))},[e,r]);const S=async()=>{try{c(!0);const[P,T,R]=await Promise.all([Lme.getAllAdapters(),$me.getAllStructures(),Vme.getAllFlows()]);P.success&&g(P.data||[]),T.success&&w(T.data?.content||[]),R.success&&v(R.data?.content||[])}catch(P){console.error("Error loading components:",P),a({title:"Error",description:"Failed to load available components",variant:"destructive"})}finally{c(!1)}},A=()=>{const P=["basic","namespace","components","review"],T=P.indexOf(o);if(o==="basic"&&!m.name.trim()){a({title:"Validation Error",description:"Package name is required",variant:"destructive"});return}if(o==="namespace"&&m.transformationRequired&&(!m.sourceNamespace||!m.targetNamespace)){a({title:"Validation Error",description:"Both source and target namespaces are required for transformation",variant:"destructive"});return}T<P.length-1&&i(P[T+1])},O=()=>{const P=["basic","namespace","components","review"],T=P.indexOf(o);T>0&&i(P[T-1])},I=()=>m.transformationRequired,F=async()=>{try{u(!0);let P;if(r){const R=await Us.updatePackage(r.id,{name:m.name,description:m.description,sourceNamespace:m.sourceNamespace,targetNamespace:m.targetNamespace});if(!R.success)throw new Error(R.message||"Failed to update package");P=r.id}else{const R=await Us.createPackage(m);if(!R.success||!R.data)throw new Error(R.message||"Failed to create package");P=R.data.id}const T=[];y.sourceAdapter&&T.push(Us.addComponent(P,{componentType:"SOURCE_ADAPTER",componentId:y.sourceAdapter})),y.targetAdapter&&T.push(Us.addComponent(P,{componentType:"TARGET_ADAPTER",componentId:y.targetAdapter})),y.sourceStructure&&T.push(Us.addComponent(P,{componentType:"SOURCE_STRUCTURE",componentId:y.sourceStructure})),y.targetStructure&&T.push(Us.addComponent(P,{componentType:"TARGET_STRUCTURE",componentId:y.targetStructure})),y.responseStructure&&T.push(Us.addComponent(P,{componentType:"RESPONSE_STRUCTURE",componentId:y.responseStructure})),y.flow&&T.push(Us.addComponent(P,{componentType:"FLOW",componentId:y.flow})),await Promise.all(T),a({title:"Success",description:r?"Package updated successfully":"Package created successfully"}),n()}catch(P){console.error("Error saving package:",P),a({title:"Error",description:"Failed to save package",variant:"destructive"})}finally{u(!1)}},L=()=>{switch(o){case"basic":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(C,{htmlFor:"name",children:"Package Name *"}),s.jsx(_,{id:"name",value:m.name,onChange:P=>p({...m,name:P.target.value}),placeholder:"Enter package name",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"description",children:"Description"}),s.jsx(Ee,{id:"description",value:m.description,onChange:P=>p({...m,description:P.target.value}),placeholder:"Enter package description",className:"mt-1",rows:3})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Transformation Required?"}),s.jsxs(du,{value:m.transformationRequired.toString(),onValueChange:P=>p({...m,transformationRequired:P==="true"}),className:"mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"true",id:"transform-yes"}),s.jsx(C,{htmlFor:"transform-yes",children:"Yes - Data transformation needed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"false",id:"transform-no"}),s.jsx(C,{htmlFor:"transform-no",children:"No - Pass through only"})]})]})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Integration Type"}),s.jsxs(du,{value:m.syncType,onValueChange:P=>p({...m,syncType:P}),className:"mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"SYNCHRONOUS",id:"sync"}),s.jsx(C,{htmlFor:"sync",children:"Synchronous - Response required"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{value:"ASYNCHRONOUS",id:"async"}),s.jsx(C,{htmlFor:"async",children:"Asynchronous - Fire and forget"})]})]})]})]});case"namespace":return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Namespace configuration is required for transformation packages. These namespaces will be used when creating structures."})}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"sourceNamespace",children:"Source Namespace *"}),s.jsx(_,{id:"sourceNamespace",value:m.sourceNamespace,onChange:P=>p({...m,sourceNamespace:P.target.value}),placeholder:"http://example.com/source",className:"mt-1"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Default namespace for source structures"})]}),s.jsxs("div",{children:[s.jsx(C,{htmlFor:"targetNamespace",children:"Target Namespace *"}),s.jsx(_,{id:"targetNamespace",value:m.targetNamespace,onChange:P=>p({...m,targetNamespace:P.target.value}),placeholder:"http://example.com/target",className:"mt-1"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Default namespace for target structures"})]})]});case"components":return s.jsx("div",{className:"space-y-6",children:s.jsxs(tt,{defaultValue:"adapters",className:"w-full",children:[s.jsxs(Je,{className:"grid w-full grid-cols-3",children:[s.jsx(ue,{value:"adapters",children:"Adapters"}),s.jsx(ue,{value:"structures",disabled:!m.transformationRequired,children:"Structures"}),s.jsx(ue,{value:"flows",children:"Flows"})]}),s.jsxs(de,{value:"adapters",className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx(C,{children:"Source Adapter (Receives data FROM external system)"}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.sourceAdapter||"",onChange:P=>{const T=P.target.value;if(N({...y,sourceAdapter:T}),T){const R=x.find(D=>D.id===T);R&&R.type&&E(D=>({...D,source:R.type==="SOAP"}))}else E(R=>({...R,source:!1}))},children:[s.jsx("option",{value:"",children:"Select source adapter..."}),x.filter(P=>P.mode==="SENDER").map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.type,")"]},P.id))]}),b.source&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:" SOAP adapter selected - Flow Structures will be required for source"})]}),s.jsxs("div",{children:[s.jsx(C,{children:"Target Adapter (Sends data TO external system)"}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.targetAdapter||"",onChange:P=>{const T=P.target.value;if(N({...y,targetAdapter:T}),T){const R=x.find(D=>D.id===T);R&&R.type&&E(D=>({...D,target:R.type==="SOAP"}))}else E(R=>({...R,target:!1}))},children:[s.jsx("option",{value:"",children:"Select target adapter..."}),x.filter(P=>P.mode==="RECEIVER").map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.type,")"]},P.id))]}),b.target&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:" SOAP adapter selected - Flow Structures will be required for target"})]})]}),s.jsx(de,{value:"structures",className:"space-y-4 mt-4",children:m.transformationRequired?s.jsxs(s.Fragment,{children:[(b.source||b.target)&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-md mb-4",children:s.jsx("p",{className:"text-sm text-blue-800",children:" SOAP adapters require Flow Structures (WSDL-based). Only compatible structure types are shown."})}),s.jsxs("div",{children:[s.jsxs(C,{children:["Source Structure ",b.source&&"(Flow Structure)"]}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.sourceStructure||"",onChange:P=>N({...y,sourceStructure:P.target.value}),children:[s.jsx("option",{value:"",children:"Select source structure..."}),f.filter(P=>b.source?P.type==="wsdl"||P.type==="soap":P.type!=="wsdl"&&P.type!=="soap").map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.type.toUpperCase(),")"]},P.id))]})]}),s.jsxs("div",{children:[s.jsxs(C,{children:["Target Structure ",b.target&&"(Flow Structure)"]}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.targetStructure||"",onChange:P=>N({...y,targetStructure:P.target.value}),children:[s.jsx("option",{value:"",children:"Select target structure..."}),f.filter(P=>b.target?P.type==="wsdl"||P.type==="soap":P.type!=="wsdl"&&P.type!=="soap").map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.type.toUpperCase(),")"]},P.id))]})]}),m.syncType==="SYNCHRONOUS"&&s.jsxs("div",{children:[s.jsx(C,{children:"Response Structure"}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.responseStructure||"",onChange:P=>N({...y,responseStructure:P.target.value}),children:[s.jsx("option",{value:"",children:"Select response structure..."}),f.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Structures are not required for packages without transformation"})}),s.jsx(de,{value:"flows",className:"space-y-4 mt-4",children:s.jsxs("div",{children:[s.jsx(C,{children:"Integration Flow"}),s.jsxs("select",{className:"w-full mt-1 p-2 border rounded-md",value:y.flow||"",onChange:P=>N({...y,flow:P.target.value}),children:[s.jsx("option",{value:"",children:"Select integration flow..."}),j.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]})})]})});case"review":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{className:"text-lg",children:"Package Configuration"})}),s.jsxs(K,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:m.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx(ae,{variant:"outline",children:m.syncType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transformation:"}),s.jsx(ae,{variant:m.transformationRequired?"default":"secondary",children:m.transformationRequired?"Required":"Not Required"})]}),m.transformationRequired&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Namespace:"}),s.jsx("span",{className:"font-mono text-sm",children:m.sourceNamespace})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Namespace:"}),s.jsx("span",{className:"font-mono text-sm",children:m.targetNamespace})]})]})]})]}),s.jsxs(W,{children:[s.jsx(te,{children:s.jsx(re,{className:"text-lg",children:"Selected Components"})}),s.jsxs(K,{className:"space-y-2",children:[y.sourceAdapter?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Adapter:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Adapter:"}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(xt,{className:"mr-1 h-3 w-3"})," Missing"]})]}),y.targetAdapter?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Adapter:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Adapter:"}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(xt,{className:"mr-1 h-3 w-3"})," Missing"]})]}),m.transformationRequired&&s.jsxs(s.Fragment,{children:[y.sourceStructure?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Source Structure:"}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(xt,{className:"mr-1 h-3 w-3"})," Missing"]})]}),y.targetStructure?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Target Structure:"}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(xt,{className:"mr-1 h-3 w-3"})," Missing"]})]}),m.syncType==="SYNCHRONOUS"&&(y.responseStructure?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Response Structure:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Response Structure:"}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(xt,{className:"mr-1 h-3 w-3"})," Missing"]})]}))]}),y.flow?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Integration Flow:"}),s.jsxs(ae,{children:[s.jsx(mn,{className:"mr-1 h-3 w-3"})," Selected"]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Integration Flow:"}),s.jsx(ae,{variant:"outline",children:"Optional"})]})]})]})]});default:return null}},U=P=>{switch(P){case"basic":return s.jsx(SN,{className:"h-4 w-4"});case"namespace":return s.jsx(At,{className:"h-4 w-4"});case"components":return s.jsx(ds,{className:"h-4 w-4"});case"review":return s.jsx(mn,{className:"h-4 w-4"})}},k=P=>{switch(P){case"basic":return"Basic Configuration";case"namespace":return"Namespace Configuration";case"components":return"Select Components";case"review":return"Review & Create"}};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx(ut,{children:s.jsx(ht,{children:r?"Edit Package":"Create Integration Package"})}),l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(tf,{size:"lg"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-center space-x-4 py-4",children:["basic","namespace","components","review"].map((P,T)=>{if(P==="namespace"&&!I())return null;const R=o===P,D=["basic","namespace","components","review"].indexOf(o)>T;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`
                        flex items-center justify-center w-8 h-8 rounded-full
                        ${R?"bg-primary text-primary-foreground":D?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}
                      `,children:U(P)}),T<3&&s.jsx("div",{className:`w-16 h-0.5 mx-2 ${D?"bg-primary/20":"bg-muted"}`})]},P)})}),s.jsx("h3",{className:"text-lg font-semibold text-center mb-4",children:k(o)}),s.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:L()}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs(q,{variant:"outline",onClick:O,disabled:o==="basic",children:[s.jsx(fp,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(q,{variant:"outline",onClick:t,children:"Cancel"}),o==="review"?s.jsx(q,{onClick:F,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(tf,{size:"sm",className:"mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mn,{className:"mr-2 h-4 w-4"}),r?"Update Package":"Create Package"]})}):s.jsxs(q,{onClick:A,children:["Next",s.jsx(Bd,{className:"ml-2 h-4 w-4"})]})]})]})]})]})})}function Hme(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),{toast:u}=He();h.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const y=await Us.getAllPackages();y.success&&y.data&&t(y.data.content||[])}catch(y){console.error("Error loading packages:",y),u({title:"Error",description:"Failed to load packages",variant:"destructive"})}finally{r(!1)}},p=async y=>{try{const N=await Us.validatePackage(y);N.success&&N.data&&(N.data.isValid?u({title:"Package Valid",description:"The package passed all validation checks"}):u({title:"Validation Failed",description:N.data.errors.join(", "),variant:"destructive"}))}catch(N){console.error("Error validating package:",N),u({title:"Error",description:"Failed to validate package",variant:"destructive"})}},x=async y=>{try{(await Us.deployPackage(y,"DEVELOPMENT")).success&&(u({title:"Deployment Started",description:"Package deployment has been initiated"}),await m())}catch(N){console.error("Error deploying package:",N),u({title:"Error",description:"Failed to deploy package",variant:"destructive"})}},g=async y=>{if(confirm("Are you sure you want to delete this package?"))try{(await Us.deletePackage(y)).success&&(u({title:"Success",description:"Package deleted successfully"}),await m())}catch(N){console.error("Error deleting package:",N),u({title:"Error",description:"Failed to delete package",variant:"destructive"})}},f=async y=>{try{await Us.exportPackage(y),u({title:"Success",description:"Package exported successfully"})}catch(N){console.error("Error exporting package:",N),u({title:"Error",description:"Failed to export package",variant:"destructive"})}},w=async y=>{try{(await Us.importPackage(y)).success&&(u({title:"Success",description:"Package imported successfully"}),l(!1),await m())}catch(N){console.error("Error importing package:",N),u({title:"Error",description:N instanceof Error?N.message:"Failed to import package",variant:"destructive"})}},j=y=>{const b={DRAFT:{variant:"secondary",label:"Draft"},CONFIGURED:{variant:"default",label:"Configured"},DEPLOYED:{variant:"default",label:"Deployed"},INACTIVE:{variant:"outline",label:"Inactive"}}[y];return s.jsx(ae,{variant:b.variant,children:b.label})},v=y=>s.jsx(ae,{variant:"outline",children:y==="SYNCHRONOUS"?"Sync":"Async"});return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(tf,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Integration Packages"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage integration packages with all their components in one place"})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsxs(q,{variant:"outline",onClick:()=>l(!0),children:[s.jsx($k,{className:"mr-2 h-4 w-4"}),"Import"]}),s.jsxs(q,{onClick:()=>o(!0),children:[s.jsx(Zt,{className:"mr-2 h-4 w-4"}),"Create Package"]})]})]}),s.jsxs(W,{children:[s.jsxs(te,{children:[s.jsx(re,{children:"Packages"}),s.jsx(pe,{children:"View and manage all integration packages"})]}),s.jsx(K,{children:s.jsxs(En,{children:[s.jsx(Tn,{children:s.jsxs(wt,{children:[s.jsx(Ne,{children:"Name"}),s.jsx(Ne,{children:"Description"}),s.jsx(Ne,{children:"Type"}),s.jsx(Ne,{children:"Transformation"}),s.jsx(Ne,{children:"Status"}),s.jsx(Ne,{children:"Components"}),s.jsx(Ne,{children:"Created"}),s.jsx(Ne,{className:"text-right",children:"Actions"})]})}),s.jsx(Pn,{children:e.length===0?s.jsx(wt,{children:s.jsxs(ye,{colSpan:8,className:"text-center py-8",children:[s.jsx(SN,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No packages found"}),s.jsx(q,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>o(!0),children:"Create your first package"})]})}):e.map(y=>s.jsxs(wt,{children:[s.jsx(ye,{className:"font-medium",children:y.name}),s.jsx(ye,{className:"max-w-xs truncate",children:y.description||"-"}),s.jsx(ye,{children:v(y.syncType)}),s.jsx(ye,{children:y.transformationRequired?s.jsx(ae,{variant:"default",children:"Required"}):s.jsx(ae,{variant:"secondary",children:"Not Required"})}),s.jsx(ye,{children:j(y.status)}),s.jsx(ye,{children:s.jsxs(ae,{variant:"outline",children:[y.componentCount||0," components"]})}),s.jsx(ye,{children:new Date(y.createdAt).toLocaleDateString()}),s.jsx(ye,{className:"text-right",children:s.jsxs(Ei,{children:[s.jsx(Ti,{asChild:!0,children:s.jsxs(q,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(NN,{className:"h-4 w-4"})]})}),s.jsxs(yo,{align:"end",children:[s.jsx(tx,{children:"Actions"}),s.jsxs(lt,{onClick:()=>{d(y),o(!0)},children:[s.jsx(dr,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsxs(lt,{onClick:()=>p(y.id),children:[s.jsx(bs,{className:"mr-2 h-4 w-4"}),"Validate"]}),s.jsxs(lt,{onClick:()=>x(y.id),disabled:y.status==="DEPLOYED",children:[s.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Deploy"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>f(y.id),children:[s.jsx(f8,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsx(Ws,{}),s.jsxs(lt,{onClick:()=>g(y.id),className:"text-destructive",disabled:y.status==="DEPLOYED",children:[s.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},y.id))})]})})]}),a&&s.jsx(Bme,{isOpen:a,onClose:()=>{o(!1),d(null)},onSuccess:()=>{o(!1),d(null),m()},existingPackage:c}),i&&s.jsx(qme,{isOpen:i,onClose:()=>l(!1),onImport:w})]})}function qme({isOpen:e,onClose:t,onImport:n}){const[r,a]=h.useState(null),[o,i]=h.useState(!1),l=async()=>{if(r){i(!0);try{await n(r),a(null)}finally{i(!1)}}};return s.jsx(dt,{open:e,onOpenChange:t,children:s.jsxs(ot,{children:[s.jsx(ut,{children:s.jsx(ht,{children:"Import Package"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(C,{htmlFor:"file",children:"Select Package File"}),s.jsx(_,{id:"file",type:"file",accept:".json",onChange:c=>a(c.target.files?.[0]||null),disabled:o}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a JSON file exported from another package"})]}),r&&s.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Selected file:"})," ",r.name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",(r.size/1024).toFixed(2)," KB"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(q,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),s.jsx(q,{onClick:l,disabled:!r||o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(tf,{size:"sm",className:"mr-2"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx($k,{className:"mr-2 h-4 w-4"}),"Import Package"]})})]})]})})}function zme(){return s.jsx(Hme,{})}const Wme=()=>{const e=ln();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary",children:s.jsxs(W,{className:"w-full max-w-md shadow-elegant text-center",children:[s.jsxs(te,{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center",children:s.jsx(Sn,{className:"h-6 w-6 text-primary-foreground"})})}),s.jsx(re,{className:"text-4xl font-bold text-foreground",children:"404"}),s.jsx(pe,{className:"text-xl",children:"Oops! Page not found"})]}),s.jsxs(K,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(q,{asChild:!0,className:"bg-primary hover:opacity-90",children:s.jsx("a",{href:"/dashboard",children:"Return to Dashboard"})})]})]})})};new A_({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:3,refetchOnWindowFocus:!1},mutations:{retry:!1}}});const Kme=new A_,Yme=({children:e})=>s.jsxs(Iie,{client:Kme,children:[e,!1]});class Xme extends h.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n}),console.error("React Error Boundary triggered:",{error:t.message,stack:t.stack,componentStack:n.componentStack}),this.props.onError&&this.props.onError(t,n),console.error("Production error:",{error:t.toString(),componentStack:n.componentStack,stack:t.stack})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-lg",children:[s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-6 w-6 text-destructive"}),s.jsx(re,{children:"Something went wrong"})]}),s.jsx(pe,{children:"An unexpected error occurred. Don't worry, we've logged this issue."})]}),s.jsxs(K,{className:"space-y-4",children:[!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(q,{onClick:this.handleReset,variant:"default",children:[s.jsx(vt,{className:"mr-2 h-4 w-4"}),"Try Again"]}),s.jsxs(q,{onClick:this.handleGoHome,variant:"outline",children:[s.jsx(Dy,{className:"mr-2 h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}const Gme=5e3,x$=o$((e,t)=>({notifications:[],addNotification:n=>{const r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a={...n,id:r,duration:n.duration??Gme,dismissible:n.dismissible??!0};e(o=>({notifications:[...o.notifications,a]})),a.duration&&a.duration>0&&setTimeout(()=>{t().removeNotification(r)},a.duration)},removeNotification:n=>{e(r=>({notifications:r.notifications.filter(a=>a.id!==n)}))},clearNotifications:()=>{e({notifications:[]})}})),Tb=h.createContext({});function Pb(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ab=typeof window<"u",g$=Ab?h.useLayoutEffect:h.useEffect,Lx=h.createContext(null);function kb(e,t){e.indexOf(t)===-1&&e.push(t)}function Rb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ga=(e,t,n)=>n>t?t:n<e?e:n;let sf=()=>{};const va={},v$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y$(e){return typeof e=="object"&&e!==null}const j$=e=>/^0[^.\s]+$/u.test(e);function Mb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bn=e=>e,Jme=(e,t)=>n=>t(e(n)),ph=(...e)=>e.reduce(Jme),mu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Db{constructor(){this.subscriptions=[]}add(t){return kb(this.subscriptions,t),()=>Rb(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=e=>e*1e3,Or=e=>e/1e3;function w$(e,t){return t?e*(1e3/t):0}const N$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qme=1e-7,Zme=12;function epe(e,t,n,r,a){let o,i,l=0;do i=t+(n-t)/2,o=N$(i,r,a)-e,o>0?n=i:t=i;while(Math.abs(o)>Qme&&++l<Zme);return i}function fh(e,t,n,r){if(e===t&&n===r)return Bn;const a=o=>epe(o,0,1,e,n);return o=>o===0||o===1?o:N$(a(o),t,r)}const b$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S$=e=>t=>1-e(1-t),C$=fh(.33,1.53,.69,.99),Fb=S$(C$),E$=b$(Fb),T$=e=>(e*=2)<1?.5*Fb(e):.5*(2-Math.pow(2,-10*(e-1))),Ob=e=>1-Math.sin(Math.acos(e)),P$=S$(Ob),A$=b$(Ob),tpe=fh(.42,0,1,1),spe=fh(0,0,.58,1),k$=fh(.42,0,.58,1),npe=e=>Array.isArray(e)&&typeof e[0]!="number",R$=e=>Array.isArray(e)&&typeof e[0]=="number",LT={linear:Bn,easeIn:tpe,easeInOut:k$,easeOut:spe,circIn:Ob,circInOut:A$,circOut:P$,backIn:Fb,backInOut:E$,backOut:C$,anticipate:T$},rpe=e=>typeof e=="string",_T=e=>{if(R$(e)){sf(e.length===4);const[t,n,r,a]=e;return fh(t,n,r,a)}else if(rpe(e))return sf(LT[e]!==void 0),LT[e];return e},lm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$T={value:null,addProjectionMetrics:null};function ape(e,t){let n=new Set,r=new Set,a=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){i.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,p=!1,x=!1)=>{const f=x&&a?n:r;return p&&i.add(m),f.has(m)||f.add(m),m},cancel:m=>{r.delete(m),i.delete(m)},process:m=>{if(l=m,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&$T.value&&$T.value.frameloop[t].push(c),c=0,n.clear(),a=!1,o&&(o=!1,u.process(m))}};return u}const ope=40;function M$(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=lm.reduce((y,N)=>(y[N]=ape(o,t?N:void 0),y),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:p,render:x,postRender:g}=i,f=()=>{const y=va.useManualTiming?a.timestamp:performance.now();n=!1,va.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(y-a.timestamp,ope),1)),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),p.process(a),x.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(f))},w=()=>{n=!0,r=!0,a.isProcessing||e(f)};return{schedule:lm.reduce((y,N)=>{const b=i[N];return y[N]=(E,S=!1,A=!1)=>(n||w(),b.schedule(E,S,A)),y},{}),cancel:y=>{for(let N=0;N<lm.length;N++)i[lm[N]].cancel(y)},state:a,steps:i}}const{schedule:Mt,cancel:po,state:ps,steps:yv}=M$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let Vm;function ipe(){Vm=void 0}const Xs={now:()=>(Vm===void 0&&Xs.set(ps.isProcessing||va.useManualTiming?ps.timestamp:performance.now()),Vm),set:e=>{Vm=e,queueMicrotask(ipe)}},D$=e=>t=>typeof t=="string"&&t.startsWith(e),Ib=D$("--"),lpe=D$("var(--"),Lb=e=>lpe(e)?cpe.test(e.split("/*")[0].trim()):!1,cpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pu={...Cc,transform:e=>ga(0,1,e)},cm={...Cc,default:1},jd=e=>Math.round(e*1e5)/1e5,_b=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dpe(e){return e==null}const upe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$b=(e,t)=>n=>!!(typeof n=="string"&&upe.test(n)&&n.startsWith(e)||t&&!dpe(n)&&Object.prototype.hasOwnProperty.call(n,t)),F$=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,o,i,l]=r.match(_b);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},hpe=e=>ga(0,255,e),jv={...Cc,transform:e=>Math.round(hpe(e))},Ho={test:$b("rgb","red"),parse:F$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jv.transform(e)+", "+jv.transform(t)+", "+jv.transform(n)+", "+jd(pu.transform(r))+")"};function mpe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Jj={test:$b("#"),parse:mpe,transform:Ho.transform},xh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fa=xh("deg"),Ir=xh("%"),Le=xh("px"),ppe=xh("vh"),fpe=xh("vw"),UT={...Ir,parse:e=>Ir.parse(e)/100,transform:e=>Ir.transform(e*100)},cl={test:$b("hsl","hue"),parse:F$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ir.transform(jd(t))+", "+Ir.transform(jd(n))+", "+jd(pu.transform(r))+")"},Jt={test:e=>Ho.test(e)||Jj.test(e)||cl.test(e),parse:e=>Ho.test(e)?Ho.parse(e):cl.test(e)?cl.parse(e):Jj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ho.transform(e):cl.transform(e),getAnimatableNone:e=>{const t=Jt.parse(e);return t.alpha=0,Jt.transform(t)}},xpe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gpe(e){return isNaN(e)&&typeof e=="string"&&(e.match(_b)?.length||0)+(e.match(xpe)?.length||0)>0}const O$="number",I$="color",vpe="var",ype="var(",VT="${}",jpe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(jpe,c=>(Jt.test(c)?(r.color.push(o),a.push(I$),n.push(Jt.parse(c))):c.startsWith(ype)?(r.var.push(o),a.push(vpe),n.push(c)):(r.number.push(o),a.push(O$),n.push(parseFloat(c))),++o,VT)).split(VT);return{values:n,split:l,indexes:r,types:a}}function L$(e){return fu(e).values}function _$(e){const{split:t,types:n}=fu(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const l=n[i];l===O$?o+=jd(a[i]):l===I$?o+=Jt.transform(a[i]):o+=a[i]}return o}}const wpe=e=>typeof e=="number"?0:Jt.test(e)?Jt.getAnimatableNone(e):e;function Npe(e){const t=L$(e);return _$(e)(t.map(wpe))}const fo={test:gpe,parse:L$,createTransformer:_$,getAnimatableNone:Npe};function wv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,o=0,i=0;if(!t)a=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=wv(c,l,e+1/3),o=wv(c,l,e),i=wv(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function nf(e,t){return n=>n>0?t:e}const Lt=(e,t,n)=>e+(t-e)*n,Nv=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Spe=[Jj,Ho,cl],Cpe=e=>Spe.find(t=>t.test(e));function BT(e){const t=Cpe(e);if(!t)return!1;let n=t.parse(e);return t===cl&&(n=bpe(n)),n}const HT=(e,t)=>{const n=BT(e),r=BT(t);if(!n||!r)return nf(e,t);const a={...n};return o=>(a.red=Nv(n.red,r.red,o),a.green=Nv(n.green,r.green,o),a.blue=Nv(n.blue,r.blue,o),a.alpha=Lt(n.alpha,r.alpha,o),Ho.transform(a))},Qj=new Set(["none","hidden"]);function Epe(e,t){return Qj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Tpe(e,t){return n=>Lt(e,t,n)}function Ub(e){return typeof e=="number"?Tpe:typeof e=="string"?Lb(e)?nf:Jt.test(e)?HT:kpe:Array.isArray(e)?$$:typeof e=="object"?Jt.test(e)?HT:Ppe:nf}function $$(e,t){const n=[...e],r=n.length,a=e.map((o,i)=>Ub(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=a[i](o);return n}}function Ppe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ub(e[a])(e[a],t[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function Ape(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][r[o]],l=e.values[i]??0;n[a]=l,r[o]++}return n}const kpe=(e,t)=>{const n=fo.createTransformer(t),r=fu(e),a=fu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Qj.has(e)&&!a.values.length||Qj.has(t)&&!r.values.length?Epe(e,t):ph($$(Ape(r,a),a.values),n):nf(e,t)};function U$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Lt(e,t,n):Ub(e)(e,t)}const Rpe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Mt.update(t,n),stop:()=>po(t),now:()=>ps.isProcessing?ps.timestamp:Xs.now()}},V$=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},rf=2e4;function Vb(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<rf;)t+=n,r=e.next(t);return t>=rf?1/0:t}function Mpe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Vb(r),rf);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:Or(a)}}const Dpe=5;function B$(e,t,n){const r=Math.max(t-Dpe,0);return w$(n-e(r),t-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bv=.001;function Fpe({duration:e=qt.duration,bounce:t=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let a,o,i=1-t;i=ga(qt.minDamping,qt.maxDamping,i),e=ga(qt.minDuration,qt.maxDuration,Or(e)),i<1?(a=d=>{const u=d*i,m=u*e,p=u-n,x=Zj(d,i),g=Math.exp(-m);return bv-p/x*g},o=d=>{const m=d*i*e,p=m*n+n,x=Math.pow(i,2)*Math.pow(d,2)*e,g=Math.exp(-m),f=Zj(Math.pow(d,2),i);return(-a(d)+bv>0?-1:1)*((p-x)*g)/f}):(a=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-bv+u*m},o=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=Ipe(a,o,l);if(e=Fr(e),isNaN(c))return{stiffness:qt.stiffness,damping:qt.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const Ope=12;function Ipe(e,t,n){let r=n;for(let a=1;a<Ope;a++)r=r-e(r)/t(r);return r}function Zj(e,t){return e*Math.sqrt(1-t*t)}const Lpe=["duration","bounce"],_pe=["stiffness","damping","mass"];function qT(e,t){return t.some(n=>e[n]!==void 0)}function $pe(e){let t={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...e};if(!qT(e,_pe)&&qT(e,Lpe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*ga(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:qt.mass,stiffness:a,damping:o}}else{const n=Fpe(e);t={...t,...n,mass:qt.mass},t.isResolvedFromDuration=!0}return t}function af(e=qt.visualDuration,t=qt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:m,velocity:p,isResolvedFromDuration:x}=$pe({...n,velocity:-Or(n.velocity||0)}),g=p||0,f=d/(2*Math.sqrt(c*u)),w=i-o,j=Or(Math.sqrt(c/u)),v=Math.abs(w)<5;r||(r=v?qt.restSpeed.granular:qt.restSpeed.default),a||(a=v?qt.restDelta.granular:qt.restDelta.default);let y;if(f<1){const b=Zj(j,f);y=E=>{const S=Math.exp(-f*j*E);return i-S*((g+f*j*w)/b*Math.sin(b*E)+w*Math.cos(b*E))}}else if(f===1)y=b=>i-Math.exp(-j*b)*(w+(g+j*w)*b);else{const b=j*Math.sqrt(f*f-1);y=E=>{const S=Math.exp(-f*j*E),A=Math.min(b*E,300);return i-S*((g+f*j*w)*Math.sinh(A)+b*w*Math.cosh(A))/b}}const N={calculatedDuration:x&&m||null,next:b=>{const E=y(b);if(x)l.done=b>=m;else{let S=b===0?g:0;f<1&&(S=b===0?Fr(g):B$(y,b,E));const A=Math.abs(S)<=r,O=Math.abs(i-E)<=a;l.done=A&&O}return l.value=l.done?i:E,l},toString:()=>{const b=Math.min(Vb(N),rf),E=V$(S=>N.next(b*S).value,b,30);return b+"ms "+E},toTransition:()=>{}};return N}af.applyToOptions=e=>{const t=Mpe(e,100,af);return e.ease=t.ease,e.duration=Fr(t.duration),e.type="keyframes",e};function ew({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],p={done:!1,value:m},x=A=>l!==void 0&&A<l||c!==void 0&&A>c,g=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let f=n*t;const w=m+f,j=i===void 0?w:i(w);j!==w&&(f=j-m);const v=A=>-f*Math.exp(-A/r),y=A=>j+v(A),N=A=>{const O=v(A),I=y(A);p.done=Math.abs(O)<=d,p.value=p.done?j:I};let b,E;const S=A=>{x(p.value)&&(b=A,E=af({keyframes:[p.value,g(p.value)],velocity:B$(y,A,p.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:A=>{let O=!1;return!E&&b===void 0&&(O=!0,N(A),S(A)),b!==void 0&&A>=b?E.next(A-b):(!O&&N(A),p)}}}function Upe(e,t,n){const r=[],a=n||va.mix||U$,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Bn:t;l=ph(c,l)}r.push(l)}return r}function Vpe(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const o=e.length;if(sf(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Upe(t,r,a),c=l.length,d=u=>{if(i&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const p=mu(e[m],e[m+1],u);return l[m](p)};return n?u=>d(ga(e[0],e[o-1],u)):d}function Bpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=mu(0,t,r);e.push(Lt(n,1,a))}}function Hpe(e){const t=[0];return Bpe(t,e.length-1),t}function qpe(e,t){return e.map(n=>n*t)}function zpe(e,t){return e.map(()=>t||k$).splice(0,e.length-1)}function wd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=npe(r)?r.map(_T):_T(r),o={done:!1,value:t[0]},i=qpe(n&&n.length===t.length?n:Hpe(t),e),l=Vpe(i,t,{ease:Array.isArray(a)?a:zpe(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const Wpe=e=>e!==null;function Bb(e,{repeat:t,repeatType:n="loop"},r,a=1){const o=e.filter(Wpe),l=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const Kpe={decay:ew,inertia:ew,tween:wd,keyframes:wd,spring:af};function H$(e){typeof e.type=="string"&&(e.type=Kpe[e.type])}class Hb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Ype=e=>e/100;class qb extends Hb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xs.now()&&this.tick(Xs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;H$(t);const{type:n=wd,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=n||wd;c!==wd&&typeof l[0]!="number"&&(this.mixKeyframes=ph(Ype,U$(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=Vb(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:p,repeatDelay:x,type:g,onUpdate:f,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,N=r;if(m){const A=Math.min(this.currentTime,a)/l;let O=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(p==="reverse"?(I=1-I,x&&(I-=x/l)):p==="mirror"&&(N=i)),y=ga(0,1,I)*l}const b=v?{done:!1,value:u[0]}:N.next(y);o&&(b.value=o(b.value));let{done:E}=b;!v&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return S&&g!==ew&&(b.value=Bb(u,this.options,w,this.speed)),f&&f(b.value),S&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Or(this.calculatedDuration)}get time(){return Or(this.currentTime)}set time(t){t=Fr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Or(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Rpe,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Xpe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qo=e=>e*180/Math.PI,tw=e=>{const t=qo(Math.atan2(e[1],e[0]));return sw(t)},Gpe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tw,rotateZ:tw,skewX:e=>qo(Math.atan(e[1])),skewY:e=>qo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sw=e=>(e=e%360,e<0&&(e+=360),e),zT=tw,WT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),KT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jpe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WT,scaleY:KT,scale:e=>(WT(e)+KT(e))/2,rotateX:e=>sw(qo(Math.atan2(e[6],e[5]))),rotateY:e=>sw(qo(Math.atan2(-e[2],e[0]))),rotateZ:zT,rotate:zT,skewX:e=>qo(Math.atan(e[4])),skewY:e=>qo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nw(e){return e.includes("scale")?1:0}function rw(e,t){if(!e||e==="none")return nw(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Jpe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Gpe,a=l}if(!a)return nw(t);const o=r[t],i=a[1].split(",").map(Zpe);return typeof o=="function"?o(i):i[o]}const Qpe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return rw(n,t)};function Zpe(e){return parseFloat(e.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set(Ec),YT=e=>e===Cc||e===Le,efe=new Set(["x","y","z"]),tfe=Ec.filter(e=>!efe.has(e));function sfe(e){const t=[];return tfe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Qo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rw(t,"x"),y:(e,{transform:t})=>rw(t,"y")};Qo.translateX=Qo.x;Qo.translateY=Qo.y;const Zo=new Set;let aw=!1,ow=!1,iw=!1;function q$(){if(ow){const e=Array.from(Zo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=sfe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,i])=>{r.getValue(o)?.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ow=!1,aw=!1,Zo.forEach(e=>e.complete(iw)),Zo.clear()}function z$(){Zo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ow=!0)})}function nfe(){iw=!0,z$(),q$(),iw=!1}class zb{constructor(t,n,r,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Zo.add(this),aw||(aw=!0,Mt.read(z$),Mt.resolveKeyframes(q$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const o=a?.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&o===void 0&&a.set(t[0])}Xpe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zo.delete(this)}cancel(){this.state==="scheduled"&&(Zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rfe=e=>e.startsWith("--");function afe(e,t,n){rfe(t)?e.style.setProperty(t,n):e.style[t]=n}const ofe=Mb(()=>window.ScrollTimeline!==void 0),ife={};function lfe(e,t){const n=Mb(e);return()=>ife[t]??n()}const W$=lfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,XT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rd([0,.65,.55,1]),circOut:rd([.55,0,1,.45]),backIn:rd([.31,.01,.66,-.59]),backOut:rd([.33,1.53,.69,.99])};function K$(e,t){if(e)return typeof e=="function"?W$()?V$(e,t):"ease-out":R$(e)?rd(e):Array.isArray(e)?e.map(n=>K$(n,t)||XT.easeOut):XT[e]}function cfe(e,t,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const m=K$(l,a);Array.isArray(m)&&(u.easing=m);const p={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(u,p)}function Y$(e){return typeof e=="function"&&"applyToOptions"in e}function dfe({type:e,...t}){return Y$(e)&&W$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ufe extends Hb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,sf(typeof t.type!="string");const d=dfe(t);this.animation=cfe(n,r,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=Bb(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):afe(n,r,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Or(Number(t))}get time(){return Or(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ofe()?(this.animation.timeline=t,Bn):n(this)}}const X$={anticipate:T$,backInOut:E$,circInOut:A$};function hfe(e){return e in X$}function mfe(e){typeof e.ease=="string"&&hfe(e.ease)&&(e.ease=X$[e.ease])}const GT=10;class pfe extends ufe{constructor(t){mfe(t),H$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...i}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new qb({...i,autoplay:!1}),c=Fr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-GT).value,l.sample(c).value,GT),l.stop()}}const JT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fo.test(e)||e==="0")&&!e.startsWith("url("));function ffe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xfe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=JT(a,t),l=JT(o,t);return!i||!l?!1:ffe(e)||(n==="spring"||Y$(n))&&r}function lw(e){e.duration=0,e.type}const gfe=new Set(["opacity","clipPath","filter","transform"]),vfe=Mb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yfe(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:o,type:i}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return vfe()&&n&&gfe.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&o!==0&&i!=="inertia"}const jfe=40;class wfe extends Hb{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xs.now();const p={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:i,name:c,motionValue:d,element:u,...m},x=u?.KeyframeResolver||zb;this.keyframeResolver=new x(l,(g,f,w)=>this.onKeyframesResolved(g,f,p,!w),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Xs.now(),xfe(t,o,i,l)||((va.instantAnimations||!c)&&u?.(Bb(t,r,n)),t[0]=t[t.length-1],lw(r),r.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>jfe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!d&&yfe(p)?new pfe({...p,element:p.motionValue.owner.current}):new qb(p);x.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nfe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nfe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bfe(e){const t=Nfe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function G$(e,t,n=1){const[r,a]=bfe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return v$(i)?parseFloat(i):i}return Lb(a)?G$(a,t,n+1):a}function Wb(e,t){return e?.[t]??e?.default??e}const J$=new Set(["width","height","top","left","right","bottom",...Ec]),Sfe={test:e=>e==="auto",parse:e=>e},Q$=e=>t=>t.test(e),Z$=[Cc,Le,Ir,Fa,fpe,ppe,Sfe],QT=e=>Z$.find(Q$(e));function Cfe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j$(e):!0}const Efe=new Set(["brightness","contrast","saturate","opacity"]);function Tfe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_b)||[];if(!r)return e;const a=n.replace(r,"");let o=Efe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+a+")"}const Pfe=/\b([a-z-]*)\(.*?\)/gu,cw={...fo,getAnimatableNone:e=>{const t=e.match(Pfe);return t?t.map(Tfe).join(" "):e}},ZT={...Cc,transform:Math.round},Afe={rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:cm,scaleX:cm,scaleY:cm,scaleZ:cm,skew:Fa,skewX:Fa,skewY:Fa,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:pu,originX:UT,originY:UT,originZ:Le},Kb={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...Afe,zIndex:ZT,fillOpacity:pu,strokeOpacity:pu,numOctaves:ZT},kfe={...Kb,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:cw,WebkitFilter:cw},e3=e=>kfe[e];function t3(e,t){let n=e3(e);return n!==cw&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Rfe=new Set(["auto","none","0"]);function Mfe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!Rfe.has(o)&&fu(o).values.length&&(a=e[r]),r++}if(a&&n)for(const o of t)e[o]=t3(n,a)}class Dfe extends zb{constructor(t,n,r,a,o){super(t,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Lb(d))){const u=G$(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!J$.has(r)||t.length!==2)return;const[a,o]=t,i=QT(a),l=QT(o);if(i!==l)if(YT(i)&&YT(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Qo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Cfe(t[a]))&&r.push(a);r.length&&Mfe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Qo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Ffe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const s3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function n3(e){return y$(e)&&"offsetHeight"in e}const e2=30,Ofe=e=>!isNaN(parseFloat(e));class Ife{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Xs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ofe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Db);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e2);return w$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tc(e,t){return new Ife(e,t)}const{schedule:Yb,cancel:eye}=M$(queueMicrotask,!1),Jn={x:!1,y:!1};function r3(){return Jn.x||Jn.y}function Lfe(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function a3(e,t){const n=Ffe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function t2(e){return!(e.pointerType==="touch"||r3())}function _fe(e,t,n={}){const[r,a,o]=a3(e,n),i=l=>{if(!t2(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{t2(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const o3=(e,t)=>t?e===t?!0:o3(e,t.parentElement):!1,Xb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$fe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ufe(e){return $fe.has(e.tagName)||e.tabIndex!==-1}const Bm=new WeakSet;function s2(e){return t=>{t.key==="Enter"&&e(t)}}function Sv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Vfe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=s2(()=>{if(Bm.has(n))return;Sv(n,"down");const a=s2(()=>{Sv(n,"up")}),o=()=>Sv(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function n2(e){return Xb(e)&&!r3()}function Bfe(e,t,n={}){const[r,a,o]=a3(e,n),i=l=>{const c=l.currentTarget;if(!n2(l))return;Bm.add(c);const d=t(c,l),u=(x,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Bm.has(c)&&Bm.delete(c),n2(x)&&typeof d=="function"&&d(x,{success:g})},m=x=>{u(x,c===window||c===document||n.useGlobalTarget||o3(c,x.target))},p=x=>{u(x,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",p,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),n3(l)&&(l.addEventListener("focus",d=>Vfe(d,a)),!Ufe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function i3(e){return y$(e)&&"ownerSVGElement"in e}function Hfe(e){return i3(e)&&e.tagName==="svg"}const Ns=e=>!!(e&&e.getVelocity),qfe=[...Z$,Jt,fo],zfe=e=>qfe.find(Q$(e)),Gb=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Wfe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=n3(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Kfe({children:e,isPresent:t,anchorX:n,root:r}){const a=h.useId(),o=h.useRef(null),i=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=h.useContext(Gb);return h.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:m,right:p}=i.current;if(t||!o.current||!c||!d)return;const x=n==="left"?`left: ${m}`:`right: ${p}`;o.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const f=r??document.head;return f.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${u}px !important;
          }
        `),()=>{f.contains(g)&&f.removeChild(g)}},[t]),s.jsx(Wfe,{isPresent:t,childRef:o,sizeRef:i,children:h.cloneElement(e,{ref:o})})}const Yfe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i,anchorX:l,root:c})=>{const d=Pb(Xfe),u=h.useId();let m=!0,p=h.useMemo(()=>(m=!1,{id:u,initial:t,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const g of d.values())if(!g)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return o&&m&&(p={...p}),h.useMemo(()=>{d.forEach((x,g)=>d.set(g,!1))},[n]),h.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),i==="popLayout"&&(e=s.jsx(Kfe,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(Lx.Provider,{value:p,children:e})};function Xfe(){return new Map}function l3(e=!0){const t=h.useContext(Lx);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,o=h.useId();h.useEffect(()=>{if(e)return a(o)},[e]);const i=h.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,i]:[!0]}const dm=e=>e.key||"";function r2(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const Gfe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[d,u]=l3(i),m=h.useMemo(()=>r2(e),[e]),p=i&&!d?[]:m.map(dm),x=h.useRef(!0),g=h.useRef(m),f=Pb(()=>new Map),[w,j]=h.useState(m),[v,y]=h.useState(m);g$(()=>{x.current=!1,g.current=m;for(let E=0;E<v.length;E++){const S=dm(v[E]);p.includes(S)?f.delete(S):f.get(S)!==!0&&f.set(S,!1)}},[v,p.length,p.join("-")]);const N=[];if(m!==w){let E=[...m];for(let S=0;S<v.length;S++){const A=v[S],O=dm(A);p.includes(O)||(E.splice(S,0,A),N.push(A))}return o==="wait"&&N.length&&(E=N),y(r2(E)),j(m),null}const{forceRender:b}=h.useContext(Tb);return s.jsx(s.Fragment,{children:v.map(E=>{const S=dm(E),A=i&&!d?!1:m===v||p.includes(S),O=()=>{if(f.has(S))f.set(S,!0);else return;let I=!0;f.forEach(F=>{F||(I=!1)}),I&&(b?.(),y(g.current),i&&u?.(),r&&r())};return s.jsx(Yfe,{isPresent:A,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:c,onExitComplete:A?void 0:O,anchorX:l,children:E},S)})})},c3=h.createContext({strict:!1}),a2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sc={};for(const e in a2)sc[e]={isEnabled:t=>a2[e].some(n=>!!t[n])};function Jfe(e){for(const t in e)sc[t]={...sc[t],...e[t]}}const Qfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qfe.has(e)}let d3=e=>!of(e);function Zfe(e){typeof e=="function"&&(d3=t=>t.startsWith("on")?!of(t):e(t))}try{Zfe(require("@emotion/is-prop-valid").default)}catch{}function exe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(d3(a)||n===!0&&of(a)||!t&&!of(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const _x=h.createContext({});function $x(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xu(e){return typeof e=="string"||Array.isArray(e)}const Jb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qb=["initial",...Jb];function Ux(e){return $x(e.animate)||Qb.some(t=>xu(e[t]))}function u3(e){return!!(Ux(e)||e.variants)}function txe(e,t){if(Ux(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return e.inherit!==!1?t:{}}function sxe(e){const{initial:t,animate:n}=txe(e,h.useContext(_x));return h.useMemo(()=>({initial:t,animate:n}),[o2(t),o2(n)])}function o2(e){return Array.isArray(e)?e.join(" "):e}const gu={};function nxe(e){for(const t in e)gu[t]=e[t],Ib(t)&&(gu[t].isCSSVariable=!0)}function h3(e,{layout:t,layoutId:n}){return Tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gu[e]||e==="opacity")}const rxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},axe=Ec.length;function oxe(e,t,n){let r="",a=!0;for(let o=0;o<axe;o++){const i=Ec[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=s3(l,Kb[i]);if(!c){a=!1;const u=rxe[i]||i;r+=`${u}(${d}) `}n&&(t[i]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Zb(e,t,n){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(Tc.has(c)){i=!0;continue}else if(Ib(c)){a[c]=d;continue}else{const u=s3(d,Kb[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(t.transform||(i||n?r.transform=oxe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}const eS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m3(e,t,n){for(const r in t)!Ns(t[r])&&!h3(r,n)&&(e[r]=t[r])}function ixe({transformTemplate:e},t){return h.useMemo(()=>{const n=eS();return Zb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lxe(e,t){const n=e.style||{},r={};return m3(r,n,e),Object.assign(r,ixe(e,t)),r}function cxe(e,t){const n={},r=lxe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const dxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},uxe={offset:"strokeDashoffset",array:"strokeDasharray"};function hxe(e,t,n=1,r=0,a=!0){e.pathLength=1;const o=a?dxe:uxe;e[o.offset]=Le.transform(-r);const i=Le.transform(t),l=Le.transform(n);e[o.array]=`${i} ${l}`}function p3(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...l},c,d,u){if(Zb(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&hxe(m,a,o,i,!1)}const f3=()=>({...eS(),attrs:{}}),x3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mxe(e,t,n,r){const a=h.useMemo(()=>{const o=f3();return p3(o,t,x3(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};m3(o,e.style,e),a.style={...o,...a.style}}return a}const pxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tS(e){return typeof e!="string"||e.includes("-")?!1:!!(pxe.indexOf(e)>-1||/[A-Z]/u.test(e))}function fxe(e,t,n,{latestValues:r},a,o=!1){const l=(tS(e)?mxe:cxe)(t,r,a,e),c=exe(t,typeof e=="string",o),d=e!==h.Fragment?{...c,...l,ref:n}:{},{children:u}=t,m=h.useMemo(()=>Ns(u)?u.get():u,[u]);return h.createElement(e,{...d,children:m})}function i2(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function sS(e,t,n,r){if(typeof t=="function"){const[a,o]=i2(r);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=i2(r);t=t(n!==void 0?n:e.custom,a,o)}return t}function Hm(e){return Ns(e)?e.get():e}function xxe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:gxe(n,r,a,e),renderState:t()}}function gxe(e,t,n,r){const a={},o=r(e,{});for(const p in o)a[p]=Hm(o[p]);let{initial:i,animate:l}=e;const c=Ux(e),d=u3(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const m=u?l:i;if(m&&typeof m!="boolean"&&!$x(m)){const p=Array.isArray(m)?m:[m];for(let x=0;x<p.length;x++){const g=sS(e,p[x]);if(g){const{transitionEnd:f,transition:w,...j}=g;for(const v in j){let y=j[v];if(Array.isArray(y)){const N=u?y.length-1:0;y=y[N]}y!==null&&(a[v]=y)}for(const v in f)a[v]=f[v]}}}return a}const g3=e=>(t,n)=>{const r=h.useContext(_x),a=h.useContext(Lx),o=()=>xxe(e,t,r,a);return n?o():Pb(o)};function nS(e,t,n){const{style:r}=e,a={};for(const o in r)(Ns(r[o])||t.style&&Ns(t.style[o])||h3(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(a[o]=r[o]);return a}const vxe=g3({scrapeMotionValuesFromProps:nS,createRenderState:eS});function v3(e,t,n){const r=nS(e,t,n);for(const a in e)if(Ns(e[a])||Ns(t[a])){const o=Ec.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const yxe=g3({scrapeMotionValuesFromProps:v3,createRenderState:f3}),jxe=Symbol.for("motionComponentSymbol");function dl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wxe(e,t,n){return h.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):dl(n)&&(n.current=r))},[t])}const rS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nxe="framerAppearId",y3="data-"+rS(Nxe),j3=h.createContext({});function bxe(e,t,n,r,a){const{visualElement:o}=h.useContext(_x),i=h.useContext(c3),l=h.useContext(Lx),c=h.useContext(Gb).reducedMotion,d=h.useRef(null);r=r||i.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=h.useContext(j3);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Sxe(d.current,n,a,m);const p=h.useRef(!1);h.useInsertionEffect(()=>{u&&p.current&&u.update(n,l)});const x=n[y3],g=h.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return g$(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),g.current=!1),u.enteringChildren=void 0)}),u}function Sxe(e,t,n,r){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:w3(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&dl(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function w3(e){if(e)return e.options.allowProjection!==!1?e.projection:w3(e.parent)}function Cv(e,{forwardMotionProps:t=!1}={},n,r){n&&Jfe(n);const a=tS(e)?yxe:vxe;function o(l,c){let d;const u={...h.useContext(Gb),...l,layoutId:Cxe(l)},{isStatic:m}=u,p=sxe(l),x=a(l,m);if(!m&&Ab){Exe();const g=Txe(u);d=g.MeasureLayout,p.visualElement=bxe(e,x,u,r,g.ProjectionNode)}return s.jsxs(_x.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...u}):null,fxe(e,l,wxe(x,p.visualElement,c),x,m,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=h.forwardRef(o);return i[jxe]=e,i}function Cxe({layoutId:e}){const t=h.useContext(Tb).id;return t&&e!==void 0?t+"-"+e:e}function Exe(e,t){h.useContext(c3).strict}function Txe(e){const{drag:t,layout:n}=sc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Pxe(e,t){if(typeof Proxy>"u")return Cv;const n=new Map,r=(o,i)=>Cv(o,i,e,t),a=(o,i)=>r(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?r:(n.has(i)||n.set(i,Cv(i,void 0,e,t)),n.get(i))})}function N3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Axe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kxe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ev(e){return e===void 0||e===1}function dw({scale:e,scaleX:t,scaleY:n}){return!Ev(e)||!Ev(t)||!Ev(n)}function Fo(e){return dw(e)||b3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function b3(e){return l2(e.x)||l2(e.y)}function l2(e){return e&&e!=="0%"}function lf(e,t,n){const r=e-n,a=t*r;return n+a}function c2(e,t,n,r,a){return a!==void 0&&(e=lf(e,a,r)),lf(e,n,r)+t}function uw(e,t=0,n=1,r,a){e.min=c2(e.min,t,n,r,a),e.max=c2(e.max,t,n,r,a)}function S3(e,{x:t,y:n}){uw(e.x,t.translate,t.scale,t.originPoint),uw(e.y,n.translate,n.scale,n.originPoint)}const d2=.999999999999,u2=1.0000000000001;function Rxe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=n[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,S3(e,i)),r&&Fo(o.latestValues)&&hl(e,o.latestValues))}t.x<u2&&t.x>d2&&(t.x=1),t.y<u2&&t.y>d2&&(t.y=1)}function ul(e,t){e.min=e.min+t,e.max=e.max+t}function h2(e,t,n,r,a=.5){const o=Lt(e.min,e.max,a);uw(e,t,n,o,r)}function hl(e,t){h2(e.x,t.x,t.scaleX,t.scale,t.originX),h2(e.y,t.y,t.scaleY,t.scale,t.originY)}function C3(e,t){return N3(kxe(e.getBoundingClientRect(),t))}function Mxe(e,t,n){const r=C3(e,n),{scroll:a}=t;return a&&(ul(r.x,a.offset.x),ul(r.y,a.offset.y)),r}const m2=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:m2(),y:m2()}),p2=()=>({min:0,max:0}),Kt=()=>({x:p2(),y:p2()}),hw={current:null},E3={current:!1};function Dxe(){if(E3.current=!0,!!Ab)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hw.current=e.matches;e.addEventListener("change",t),t()}else hw.current=!1}const Fxe=new WeakMap;function Oxe(e,t,n){for(const r in t){const a=t[r],o=n[r];if(Ns(a))e.addValue(r,a);else if(Ns(o))e.addValue(r,tc(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,tc(i!==void 0?i:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const f2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ixe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Xs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Mt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Ux(n),this.isVariantNode=u3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const x=m[p];c[p]!==void 0&&Ns(x)&&x.set(c[p])}}mount(t){this.current=t,Fxe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E3.current||Dxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),po(this.notifyUpdate),po(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Tc.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sc){const n=sc[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<f2.length;r++){const a=f2[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Oxe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=tc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(v$(r)||j$(r))?r=parseFloat(r):!zfe(r)&&fo.test(n)&&(r=t3(t,n)),this.setBaseTarget(t,Ns(r)?r.get():r)),Ns(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=sS(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ns(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Db),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Yb.render(this.render)}}class T3 extends Ixe{constructor(){super(...arguments),this.KeyframeResolver=Dfe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ns(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P3(e,{style:t,vars:n},r,a){const o=e.style;let i;for(i in t)o[i]=t[i];a?.applyProjectionStyles(o,r);for(i in n)o.setProperty(i,n[i])}function Lxe(e){return window.getComputedStyle(e)}class _xe extends T3{constructor(){super(...arguments),this.type="html",this.renderInstance=P3}readValueFromInstance(t,n){if(Tc.has(n))return this.projection?.isProjecting?nw(n):Qpe(t,n);{const r=Lxe(t),a=(Ib(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return C3(t,n)}build(t,n,r){Zb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return nS(t,n,r)}}const A3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $xe(e,t,n,r){P3(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(A3.has(a)?a:rS(a),t.attrs[a])}class Uxe extends T3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tc.has(n)){const r=e3(n);return r&&r.default||0}return n=A3.has(n)?n:rS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return v3(t,n,r)}build(t,n,r){p3(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){$xe(t,n,r,a)}mount(t){this.isSVGTag=x3(t.tagName),super.mount(t)}}const Vxe=(e,t)=>tS(e)?new Uxe(t):new _xe(t,{allowProjection:e!==h.Fragment});function kl(e,t,n){const r=e.getProps();return sS(r,t,n!==void 0?n:r.custom,e)}const mw=e=>Array.isArray(e);function Bxe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,tc(n))}function Hxe(e){return mw(e)?e[e.length-1]||0:e}function qxe(e,t){const n=kl(e,t);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const i in o){const l=Hxe(o[i]);Bxe(e,i,l)}}function zxe(e){return!!(Ns(e)&&e.add)}function pw(e,t){const n=e.getValue("willChange");if(zxe(n))return n.add(t);if(!n&&va.WillChange){const r=new va.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function k3(e){return e.props[y3]}const Wxe=e=>e!==null;function Kxe(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(Wxe),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const Yxe={type:"spring",stiffness:500,damping:25,restSpeed:10},Xxe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Gxe={type:"keyframes",duration:.8},Jxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qxe=(e,{keyframes:t})=>t.length>2?Gxe:Tc.has(e)?e.startsWith("scale")?Xxe(t[1]):Yxe:Jxe;function Zxe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const aS=(e,t,n,r={},a,o)=>i=>{const l=Wb(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Fr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};Zxe(l)||Object.assign(u,Qxe(e,u)),u.duration&&(u.duration=Fr(u.duration)),u.repeatDelay&&(u.repeatDelay=Fr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(lw(u),u.delay===0&&(m=!0)),(va.instantAnimations||va.skipAnimations)&&(m=!0,lw(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!o&&t.get()!==void 0){const p=Kxe(u.keyframes,l);if(p!==void 0){Mt.update(()=>{u.onUpdate(p),u.onComplete()});return}}return l.isSync?new qb(u):new wfe(u)};function ege({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function R3(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(o=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const m=e.getValue(u,e.latestValues[u]??null),p=l[u];if(p===void 0||d&&ege(d,u))continue;const x={delay:n,...Wb(o||{},u)},g=m.get();if(g!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===g&&!x.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const j=k3(e);if(j){const v=window.MotionHandoffAnimation(j,u,Mt);v!==null&&(x.startTime=v,f=!0)}}pw(e,u),m.start(aS(u,m,p,e.shouldReduceMotion&&J$.has(u)?{type:!1}:x,e,f));const w=m.animation;w&&c.push(w)}return i&&Promise.all(c).then(()=>{Mt.update(()=>{i&&qxe(e,i)})}),c}function M3(e,t,n,r=0,a=1){const o=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),i=e.size,l=(i-1)*r;return typeof n=="function"?n(o,i):a===1?o*r:l-o*r}function fw(e,t,n={}){const r=kl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(R3(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=a;return tge(e,t,c,d,u,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>d())}else return Promise.all([o(),i(n.delay)])}function tge(e,t,n=0,r=0,a=0,o=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(fw(c,t,{...i,delay:n+(typeof r=="function"?0:r)+M3(e.variantChildren,c,r,a,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function sge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>fw(e,o,n));r=Promise.all(a)}else if(typeof t=="string")r=fw(e,t,n);else{const a=typeof t=="function"?kl(e,t,n.custom):t;r=Promise.all(R3(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function D3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const nge=Qb.length;function F3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?F3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nge;n++){const r=Qb[n],a=e.props[r];(xu(a)||a===!1)&&(t[r]=a)}return t}const rge=[...Jb].reverse(),age=Jb.length;function oge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sge(e,n,r)))}function ige(e){let t=oge(e),n=x2(),r=!0;const a=c=>(d,u)=>{const m=kl(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:x,...g}=m;d={...d,...g,...x}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,u=F3(e.parent)||{},m=[],p=new Set;let x={},g=1/0;for(let w=0;w<age;w++){const j=rge[w],v=n[j],y=d[j]!==void 0?d[j]:u[j],N=xu(y),b=j===c?v.isActive:null;b===!1&&(g=w);let E=y===u[j]&&y!==d[j]&&N;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...x},!v.isActive&&b===null||!y&&!v.prevProp||$x(y)||typeof y=="boolean")continue;const S=lge(v.prevProp,y);let A=S||j===c&&v.isActive&&!E&&N||w>g&&N,O=!1;const I=Array.isArray(y)?y:[y];let F=I.reduce(a(j),{});b===!1&&(F={});const{prevResolvedValues:L={}}=v,U={...L,...F},k=R=>{A=!0,p.has(R)&&(O=!0,p.delete(R)),v.needsAnimating[R]=!0;const D=e.getValue(R);D&&(D.liveStyle=!1)};for(const R in U){const D=F[R],$=L[R];if(x.hasOwnProperty(R))continue;let V=!1;mw(D)&&mw($)?V=!D3(D,$):V=D!==$,V?D!=null?k(R):p.add(R):D!==void 0&&p.has(R)?k(R):v.protectedKeys[R]=!0}v.prevProp=y,v.prevResolvedValues=F,v.isActive&&(x={...x,...F}),r&&e.blockInitialAnimation&&(A=!1);const P=E&&S;A&&(!P||O)&&m.push(...I.map(R=>{const D={type:j};if(typeof R=="string"&&r&&!P&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,V=kl($,R);if($.enteringChildren&&V){const{delayChildren:B}=V.transition||{};D.delay=M3($.enteringChildren,e,B)}}return{animation:R,options:D}}))}if(p.size){const w={};if(typeof d.initial!="boolean"){const j=kl(e,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(w.transition=j.transition)}p.forEach(j=>{const v=e.getBaseTarget(j),y=e.getValue(j);y&&(y.liveStyle=!0),w[j]=v??null}),m.push({animation:w})}let f=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const u=i(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=x2(),r=!0}}}function lge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!D3(t,e):!1}function Ao(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x2(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}class Eo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class cge extends Eo{constructor(t){super(t),t.animationState||(t.animationState=ige(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$x(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dge=0;class uge extends Eo{constructor(){super(...arguments),this.id=dge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hge={animation:{Feature:cge},exit:{Feature:uge}};function vu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function gh(e){return{point:{x:e.pageX,y:e.pageY}}}const mge=e=>t=>Xb(t)&&e(t,gh(t));function Nd(e,t,n,r){return vu(e,t,mge(n),r)}const O3=1e-4,pge=1-O3,fge=1+O3,I3=.01,xge=0-I3,gge=0+I3;function ks(e){return e.max-e.min}function vge(e,t,n){return Math.abs(e-t)<=n}function g2(e,t,n,r=.5){e.origin=r,e.originPoint=Lt(t.min,t.max,e.origin),e.scale=ks(n)/ks(t),e.translate=Lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pge&&e.scale<=fge||isNaN(e.scale))&&(e.scale=1),(e.translate>=xge&&e.translate<=gge||isNaN(e.translate))&&(e.translate=0)}function bd(e,t,n,r){g2(e.x,t.x,n.x,r?r.originX:void 0),g2(e.y,t.y,n.y,r?r.originY:void 0)}function v2(e,t,n){e.min=n.min+t.min,e.max=e.min+ks(t)}function yge(e,t,n){v2(e.x,t.x,n.x),v2(e.y,t.y,n.y)}function y2(e,t,n){e.min=t.min-n.min,e.max=e.min+ks(t)}function Sd(e,t,n){y2(e.x,t.x,n.x),y2(e.y,t.y,n.y)}function Fn(e){return[e("x"),e("y")]}const L3=({current:e})=>e?e.ownerDocument.defaultView:null,j2=(e,t)=>Math.abs(e-t);function jge(e,t){const n=j2(e.x,t.x),r=j2(e.y,t.y);return Math.sqrt(n**2+r**2)}class _3{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Pv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=jge(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!g)return;const{point:f}=p,{timestamp:w}=ps;this.history.push({...f,timestamp:w});const{onStart:j,onMove:v}=this.handlers;x||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Tv(x,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:g,onSessionEnd:f,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Pv(p.type==="pointercancel"?this.lastMoveEventInfo:Tv(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,j),f&&f(p,j)},!Xb(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=a||window;const l=gh(t),c=Tv(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=ps;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=n;m&&m(t,Pv(c,this.history)),this.removeListeners=ph(Nd(this.contextWindow,"pointermove",this.handlePointerMove),Nd(this.contextWindow,"pointerup",this.handlePointerUp),Nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),po(this.updatePoint)}}function Tv(e,t){return t?{point:t(e.point)}:e}function w2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pv({point:e},t){return{point:e,delta:w2(e,$3(t)),offset:w2(e,wge(t)),velocity:Nge(t,.1)}}function wge(e){return e[0]}function $3(e){return e[e.length-1]}function Nge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=$3(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Fr(t)));)n--;if(!r)return{x:0,y:0};const o=Or(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function bge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Lt(n,e,r.max):Math.min(e,n)),e}function N2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Sge(e,{top:t,left:n,bottom:r,right:a}){return{x:N2(e.x,n,a),y:N2(e.y,t,r)}}function b2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Cge(e,t){return{x:b2(e.x,t.x),y:b2(e.y,t.y)}}function Ege(e,t){let n=.5;const r=ks(e),a=ks(t);return a>r?n=mu(t.min,t.max-r,e.min):r>a&&(n=mu(e.min,e.max-a,t.min)),ga(0,1,n)}function Tge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xw=.35;function Pge(e=xw){return e===!1?e=0:e===!0&&(e=xw),{x:S2(e,"left","right"),y:S2(e,"top","bottom")}}function S2(e,t,n){return{min:C2(e,t),max:C2(e,n)}}function C2(e,t){return typeof e=="number"?e:e[t]||0}const Age=new WeakMap;class kge{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gh(m).point)},i=(m,p)=>{const{drag:x,dragPropagation:g,onDragStart:f}=this.getProps();if(x&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lfe(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(j=>{let v=this.getAxisMotionValue(j).get()||0;if(Ir.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const N=y.layout.layoutBox[j];N&&(v=ks(N)*(parseFloat(v)/100))}}this.originPoint[j]=v}),f&&Mt.postRender(()=>f(m,p)),pw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:x,dragDirectionLock:g,onDirectionLock:f,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:j}=p;if(g&&this.currentDirection===null){this.currentDirection=Rge(j),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),w&&w(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Fn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _3(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:L3(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Mt.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!um(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=bge(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&dl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Sge(r.layoutBox,t):this.constraints=!1,this.elastic=Pge(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Tge(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!dl(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Mxe(r,a.root,this.visualElement.getTransformPagePoint());let i=Cge(a.layout.layoutBox,o);if(n){const l=n(Axe(i));this.hasMutatedConstraints=!!l,l&&(i=N3(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Fn(u=>{if(!um(u,n,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const p=a?200:1e6,x=a?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return pw(this.visualElement,t),r.start(aS(t,r,0,n,this.visualElement,!1))}stopAnimation(){Fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fn(n=>{const{drag:r}=this.getProps();if(!um(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[n];o.set(t[n]-Lt(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fn(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=Ege({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fn(i=>{if(!um(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(Lt(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;Age.set(this.visualElement,this);const t=this.visualElement.current,n=Nd(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();dl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Mt.read(r);const i=vu(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Fn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=xw,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function um(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Rge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Mge extends Eo{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new kge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const E2=e=>(t,n)=>{e&&Mt.postRender(()=>e(t,n))};class Dge extends Eo{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new _3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:E2(t),onStart:E2(n),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Mt.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=Nd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Kc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Le.test(e))e=parseFloat(e);else return e;const n=T2(e,t.target.x),r=T2(e,t.target.y);return`${n}% ${r}%`}},Fge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=fo.parse(e);if(a.length>5)return r;const o=fo.createTransformer(e),i=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=Lt(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};let Av=!1;class Oge extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;nxe(Ige),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),Av&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),qm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,Av=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Mt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Av=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function U3(e){const[t,n]=l3(),r=h.useContext(Tb);return s.jsx(Oge,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(j3),isPresent:t,safeToRemove:n})}const Ige={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:Fge};function Lge(e,t,n){const r=Ns(e)?e:tc(e);return r.start(aS("",r,t,n)),r.animation}const _ge=(e,t)=>e.depth-t.depth;class $ge{constructor(){this.children=[],this.isDirty=!1}add(t){kb(this.children,t),this.isDirty=!0}remove(t){Rb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_ge),this.isDirty=!1,this.children.forEach(t)}}function Uge(e,t){const n=Xs.now(),r=({timestamp:a})=>{const o=a-n;o>=t&&(po(r),e(o-t))};return Mt.setup(r,!0),()=>po(r)}const V3=["TopLeft","TopRight","BottomLeft","BottomRight"],Vge=V3.length,P2=e=>typeof e=="string"?parseFloat(e):e,A2=e=>typeof e=="number"||Le.test(e);function Bge(e,t,n,r,a,o){a?(e.opacity=Lt(0,n.opacity??1,Hge(r)),e.opacityExit=Lt(t.opacity??1,0,qge(r))):o&&(e.opacity=Lt(t.opacity??1,n.opacity??1,r));for(let i=0;i<Vge;i++){const l=`border${V3[i]}Radius`;let c=k2(t,l),d=k2(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||A2(c)===A2(d)?(e[l]=Math.max(Lt(P2(c),P2(d),r),0),(Ir.test(d)||Ir.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Lt(t.rotate||0,n.rotate||0,r))}function k2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Hge=B3(0,.5,P$),qge=B3(.5,.95,Bn);function B3(e,t,n){return r=>r<e?0:r>t?1:n(mu(e,t,r))}function R2(e,t){e.min=t.min,e.max=t.max}function Dn(e,t){R2(e.x,t.x),R2(e.y,t.y)}function M2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function D2(e,t,n,r,a){return e-=t,e=lf(e,1/n,r),a!==void 0&&(e=lf(e,1/a,r)),e}function zge(e,t=0,n=1,r=.5,a,o=e,i=e){if(Ir.test(t)&&(t=parseFloat(t),t=Lt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Lt(o.min,o.max,r);e===o&&(l-=t),e.min=D2(e.min,t,n,l,a),e.max=D2(e.max,t,n,l,a)}function F2(e,t,[n,r,a],o,i){zge(e,t[n],t[r],t[a],t.scale,o,i)}const Wge=["x","scaleX","originX"],Kge=["y","scaleY","originY"];function O2(e,t,n,r){F2(e.x,t,Wge,n?n.x:void 0,r?r.x:void 0),F2(e.y,t,Kge,n?n.y:void 0,r?r.y:void 0)}function I2(e){return e.translate===0&&e.scale===1}function H3(e){return I2(e.x)&&I2(e.y)}function L2(e,t){return e.min===t.min&&e.max===t.max}function Yge(e,t){return L2(e.x,t.x)&&L2(e.y,t.y)}function _2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q3(e,t){return _2(e.x,t.x)&&_2(e.y,t.y)}function $2(e){return ks(e.x)/ks(e.y)}function U2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xge{constructor(){this.members=[]}add(t){kb(this.members,t),t.scheduleRender()}remove(t){if(Rb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gge(e,t,n){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=n?.z||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:p,skewX:x,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),x&&(r+=`skewX(${x}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const kv=["","X","Y","Z"],Jge=1e3;let Qge=0;function Rv(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function z3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=k3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Mt,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&z3(r)}function W3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t?.()){this.id=Qge++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tve),this.nodes.forEach(ave),this.nodes.forEach(ove),this.nodes.forEach(sve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $ge)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Db),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=i3(i)&&!Hfe(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,m=0;const p=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{m=window.innerWidth}),e(i,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,u&&u(),u=Uge(p,250),qm.hasAnimatedSinceResize&&(qm.hasAnimatedSinceResize=!1,this.nodes.forEach(H2)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||uve,{onLayoutAnimationStart:f,onLayoutAnimationComplete:w}=d.getProps(),j=!this.targetLayout||!q3(this.targetLayout,x),v=!m&&p;if(this.options.layoutRoot||this.resumeFrom||v||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Wb(g,"layout"),onPlay:f,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,v)}else m||H2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ive),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rve),this.nodes.forEach(Zge),this.nodes.forEach(eve)):this.nodes.forEach(B2),this.clearAllSnapshots();const l=Xs.now();ps.delta=ga(0,1e3/60,l-ps.timestamp),ps.timestamp=l,ps.isProcessing=!0,yv.update.process(ps),yv.preRender.process(ps),yv.render.process(ps),ps.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nve),this.sharedNodes.forEach(lve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ks(this.snapshot.measuredBox.x)&&!ks(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!H3(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(l||Fo(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),hve(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Kt();const l=i.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mve))){const{scroll:d}=this.root;d&&(ul(l.x,d.offset.x),ul(l.y,d.offset.y))}return l}removeElementScroll(i){const l=Kt();if(Dn(l,i),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;d!==this.root&&u&&m.layoutScroll&&(u.wasRoot&&Dn(l,i),ul(l.x,u.offset.x),ul(l.y,u.offset.y))}return l}applyTransform(i,l=!1){const c=Kt();Dn(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fo(u.latestValues)&&hl(c,u.latestValues)}return Fo(this.latestValues)&&hl(c,this.latestValues),c}removeTransform(i){const l=Kt();Dn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Fo(d.latestValues))continue;dw(d.latestValues)&&d.updateSnapshot();const u=Kt(),m=d.measurePageBox();Dn(u,m),O2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Fo(this.latestValues)&&O2(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ps.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=ps.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Sd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),S3(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Sd(this.relativeTargetOrigin,this.target,p.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dw(this.parent.latestValues)||b3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ps.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Dn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Rxe(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Kt());const{target:x}=i;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(M2(this.prevProjectionDelta.x,this.projectionDelta.x),M2(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!U2(this.projectionDelta.x,this.prevProjectionDelta.x)||!U2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.visualElement?.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Kt(),x=c?c.source:void 0,g=this.layout?this.layout.source:void 0,f=x!==g,w=this.getStack(),j=!w||w.members.length<=1,v=!!(f&&!j&&this.options.crossfade===!0&&!this.path.some(dve));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const b=N/1e3;q2(m.x,i.x,b),q2(m.y,i.y,b),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cve(this.relativeTarget,this.relativeTargetOrigin,p,b),y&&Yge(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Kt()),Dn(y,this.relativeTarget)),f&&(this.animationValues=u,Bge(u,d,this.latestValues,b,v,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{qm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tc(0)),this.currentAnimation=Lge(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jge),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&K3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Kt();const m=ks(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const p=ks(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Dn(l,c),hl(l,u),bd(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Xge),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){const{layoutId:i}=this.options;return i?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:i}=this.options;return i?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Rv("z",i,d,this.animationValues);for(let u=0;u<kv.length;u++)Rv(`rotate${kv[u]}`,i,d,this.animationValues),Rv(`skew${kv[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Hm(l?.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Hm(l?.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Gge(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),i.transform=m;const{x:p,y:x}=this.projectionDelta;i.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,d.animationValues?i.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in gu){if(u[g]===void 0)continue;const{correct:f,applyTo:w,isCSSVariable:j}=gu[g],v=m==="none"?u[g]:f(u[g],d);if(w){const y=w.length;for(let N=0;N<y;N++)i[w[N]]=v}else j?this.options.visualElement.renderState.vars[g]=v:i[g]=v}this.options.layoutId&&(i.pointerEvents=d===this?Hm(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>i.currentAnimation?.stop()),this.root.nodes.forEach(V2),this.root.sharedNodes.clear()}}}function Zge(e){e.updateLayout()}function eve(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Fn(u=>{const m=o?t.measuredBox[u]:t.layoutBox[u],p=ks(m);m.min=n[u].min,m.max=m.min+p}):K3(a,t.layoutBox,n)&&Fn(u=>{const m=o?t.measuredBox[u]:t.layoutBox[u],p=ks(n[u]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const i=ml();bd(i,n,t.layoutBox);const l=ml();o?bd(l,e.applyTransform(r,!0),t.measuredBox):bd(l,n,t.layoutBox);const c=!H3(i);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:p}=u;if(m&&p){const x=Kt();Sd(x,t.layoutBox,m.layoutBox);const g=Kt();Sd(g,n,p.layoutBox),q3(x,g)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:i,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function tve(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sve(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nve(e){e.clearSnapshot()}function V2(e){e.clearMeasurements()}function B2(e){e.isLayoutDirty=!1}function rve(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ave(e){e.resolveTargetDelta()}function ove(e){e.calcProjection()}function ive(e){e.resetSkewAndRotation()}function lve(e){e.removeLeadSnapshot()}function q2(e,t,n){e.translate=Lt(t.translate,0,n),e.scale=Lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function z2(e,t,n,r){e.min=Lt(t.min,n.min,r),e.max=Lt(t.max,n.max,r)}function cve(e,t,n,r){z2(e.x,t.x,n.x,r),z2(e.y,t.y,n.y,r)}function dve(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uve={duration:.45,ease:[.4,0,.1,1]},W2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),K2=W2("applewebkit/")&&!W2("chrome/")?Math.round:Bn;function Y2(e){e.min=K2(e.min),e.max=K2(e.max)}function hve(e){Y2(e.x),Y2(e.y)}function K3(e,t,n){return e==="position"||e==="preserve-aspect"&&!vge($2(t),$2(n),.2)}function mve(e){return e!==e.root&&e.scroll?.wasRoot}const pve=W3({attachResizeListener:(e,t)=>vu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},Y3=W3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mv.current){const e=new pve({});e.mount(window),e.setOptions({layoutScroll:!0}),Mv.current=e}return Mv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fve={pan:{Feature:Dge},drag:{Feature:Mge,ProjectionNode:Y3,MeasureLayout:U3}};function X2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&Mt.postRender(()=>o(t,gh(t)))}class xve extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=_fe(t,(n,r)=>(X2(this.node,r,"Start"),a=>X2(this.node,a,"End"))))}unmount(){}}class gve extends Eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ph(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G2(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&Mt.postRender(()=>o(t,gh(t)))}class vve extends Eo{mount(){const{current:t}=this.node;t&&(this.unmount=Bfe(t,(n,r)=>(G2(this.node,r,"Start"),(a,{success:o})=>G2(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gw=new WeakMap,Dv=new WeakMap,yve=e=>{const t=gw.get(e.target);t&&t(e)},jve=e=>{e.forEach(yve)};function wve({root:e,...t}){const n=e||document;Dv.has(n)||Dv.set(n,{});const r=Dv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(jve,{root:e,...t})),r[a]}function Nve(e,t,n){const r=wve(t);return gw.set(e,n),r.observe(e),()=>{gw.delete(e),r.unobserve(e)}}const bve={some:0,all:1};class Sve extends Eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:bve[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),p=d?u:m;p&&p(c)};return Nve(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Cve(t,n))&&this.startObserver()}unmount(){}}function Cve({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Eve={inView:{Feature:Sve},tap:{Feature:vve},focus:{Feature:gve},hover:{Feature:xve}},Tve={layout:{ProjectionNode:Y3,MeasureLayout:U3}},Pve={...hge,...Eve,...fve,...Tve},Ave=Pxe(Pve,Vxe),kve=({notification:e})=>{const t=x$(i=>i.removeNotification),n=i$(),r={success:s.jsx(bs,{className:"h-5 w-5"}),error:s.jsx(jn,{className:"h-5 w-5"}),warning:s.jsx(Sn,{className:"h-5 w-5"}),info:s.jsx(ls,{className:"h-5 w-5"})},a={success:"bg-green-50 text-green-900 border-green-200 dark:bg-green-900/20 dark:text-green-100 dark:border-green-800",error:"bg-red-50 text-red-900 border-red-200 dark:bg-red-900/20 dark:text-red-100 dark:border-red-800",warning:"bg-yellow-50 text-yellow-900 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-100 dark:border-yellow-800",info:"bg-blue-50 text-blue-900 border-blue-200 dark:bg-blue-900/20 dark:text-blue-100 dark:border-blue-800"},o={success:"text-green-600 dark:text-green-400",error:"text-red-600 dark:text-red-400",warning:"text-yellow-600 dark:text-yellow-400",info:"text-blue-600 dark:text-blue-400"};return s.jsxs(Ave.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.2}},transition:{duration:n.enabled?.3:0},className:ne("flex items-start gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm",a[e.type],"min-w-[320px] max-w-[420px]"),children:[s.jsx("div",{className:ne("flex-shrink-0",o[e.type]),children:r[e.type]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("h4",{className:"text-sm font-semibold",children:e.title}),e.message&&s.jsx("p",{className:"text-sm opacity-90",children:e.message}),e.action&&s.jsx(q,{variant:"link",size:"sm",onClick:e.action.onClick,className:"p-0 h-auto font-medium",children:e.action.label})]}),e.dismissible&&s.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"flex-shrink-0 h-auto p-1 hover:bg-black/10 dark:hover:bg-white/10",children:s.jsx(Nt,{className:"h-4 w-4"})})]})},Rve=()=>{const e=x$(t=>t.notifications);return i$(),s.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2","aria-live":"polite","aria-atomic":"false",children:s.jsx(Gfe,{mode:"sync",children:e.map(t=>s.jsx(kve,{notification:t},t.id))})})};let Fv=!1,vw=[];const J2=(e,t=null)=>{vw.forEach(n=>{e?n.reject(e):n.resolve(t)}),vw=[]};let Ov=!1;const Mve=()=>{bt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",bt.interceptors.request.use(e=>{const t=un.getToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Requested-With"]="XMLHttpRequest",e},e=>Promise.reject(e)),bt.interceptors.response.use(e=>e,async e=>{const t=e.config;if(!e.response||!t)return Promise.reject(e);const n=t.url?.includes("/auth/");return Ov?Promise.reject(e):e.response?.status===401&&!t._retry&&!n?Fv?new Promise((r,a)=>{vw.push({resolve:r,reject:a})}).then(r=>(t.headers.Authorization=`Bearer ${r}`,bt(t))).catch(r=>Promise.reject(r)):(t._retry=!0,Fv=!0,new Promise((r,a)=>{un.refreshToken().then(o=>{if(o.success&&o.data)un.setToken(o.data.token),bt.defaults.headers.common.Authorization=`Bearer ${o.data.token}`,t.headers.Authorization=`Bearer ${o.data.token}`,J2(null,o.data.token),r(bt(t));else throw new Error("Token refresh failed")}).catch(o=>{J2(o,null),Ov=!0,localStorage.removeItem("integration_platform_token"),localStorage.removeItem("integration_platform_refresh_token"),localStorage.removeItem("integration_platform_user"),window.location.pathname!=="/login"?window.location.replace("/login"):Ov=!1,a(o)}).finally(()=>{Fv=!1})})):Promise.reject(e)})},Dve=()=>{const e=Eb(t=>t.theme);return h.useEffect(()=>{e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),null},Fve=()=>null,Ove=()=>(h.useEffect(()=>{const e=setTimeout(()=>{Mve()},100);return console.log("Application initialized",{version:"1.0.0",environment:"production"}),()=>clearTimeout(e)},[]),s.jsx(Xme,{children:s.jsx(Yme,{children:s.jsxs(IR,{children:[s.jsx(Dve,{}),s.jsx(jB,{}),s.jsx(Rve,{}),s.jsxs(Lq,{children:[s.jsx(Fve,{}),s.jsx(C9,{children:s.jsx(E9,{children:s.jsxs(Aq,{children:[s.jsx(pt,{path:"/login",element:s.jsx(FY,{})}),s.jsx(pt,{element:s.jsx(P9,{}),children:s.jsxs(pt,{path:"/",element:s.jsx(kY,{}),children:[s.jsx(pt,{index:!0,element:s.jsx(Sp,{to:"/dashboard",replace:!0})}),s.jsx(pt,{path:"dashboard",element:s.jsx(XY,{})}),s.jsx(pt,{path:"test",element:s.jsx(GY,{})}),s.jsx(pt,{path:"create-flow",element:s.jsx(JY,{})}),s.jsx(pt,{path:"create-direct-mapping-flow",element:s.jsx(kE,{})}),s.jsx(pt,{path:"create-orchestration-flow",element:s.jsx(Pne,{})}),s.jsx(pt,{path:"flows/:flowId/edit",element:s.jsx(kE,{})}),s.jsx(pt,{path:"communication-adapters",element:s.jsx(aie,{})}),s.jsx(pt,{path:"communication-adapters/:id",element:s.jsx(sT,{})}),s.jsx(pt,{path:"create-communication-adapter",element:s.jsx(sT,{})}),s.jsx(pt,{path:"data-structures",element:s.jsx(oie,{})}),s.jsx(pt,{path:"data-structures/:id",element:s.jsx(hT,{})}),s.jsx(pt,{path:"create-data-structure",element:s.jsx(hT,{})}),s.jsx(pt,{path:"business-components",element:s.jsx(gle,{})}),s.jsx(pt,{path:"all-interfaces",element:s.jsx(Ome,{})}),s.jsx(pt,{path:"interfaces",element:s.jsx(Sp,{to:"/all-interfaces",replace:!0})}),s.jsx(pt,{path:"interfaces/:flowId/details",element:s.jsx(sde,{})}),s.jsx(pt,{path:"messages",element:s.jsx(Dle,{})}),s.jsx(pt,{path:"adapter-monitoring",element:s.jsx(ede,{})}),s.jsx(pt,{path:"admin",element:s.jsx(uhe,{})}),s.jsx(pt,{path:"settings",element:s.jsx(vhe,{})}),s.jsx(pt,{path:"retry-management",element:s.jsx(yhe,{})}),s.jsx(pt,{path:"development-functions",element:s.jsx(Mme,{})}),s.jsx(pt,{path:"packages",element:s.jsx(zme,{})}),s.jsx(pt,{path:"*",element:s.jsx(Wme,{})})]})})]})})})]})]})})}));dk(document.getElementById("root")).render(s.jsx(Ove,{}));
